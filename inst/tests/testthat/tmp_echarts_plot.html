<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>echarts4r</title>
<script src="data:application/javascript;base64,KGZ1bmN0aW9uKCkgewogIC8vIElmIHdpbmRvdy5IVE1MV2lkZ2V0cyBpcyBhbHJlYWR5IGRlZmluZWQsIHRoZW4gdXNlIGl0OyBvdGhlcndpc2UgY3JlYXRlIGEKICAvLyBuZXcgb2JqZWN0LiBUaGlzIGFsbG93cyBwcmVjZWRpbmcgY29kZSB0byBzZXQgb3B0aW9ucyB0aGF0IGFmZmVjdCB0aGUKICAvLyBpbml0aWFsaXphdGlvbiBwcm9jZXNzICh0aG91Z2ggbm9uZSBjdXJyZW50bHkgZXhpc3QpLgogIHdpbmRvdy5IVE1MV2lkZ2V0cyA9IHdpbmRvdy5IVE1MV2lkZ2V0cyB8fCB7fTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSB2aWV3ZXIgcGFuZS4gSWYgbm90LCB3ZSdyZSBpbiBhIHdlYiBicm93c2VyLgogIHZhciB2aWV3ZXJNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnZpZXdlck1vZGUgPQogICAgICAvXGJ2aWV3ZXJfcGFuZT0xXGIvLnRlc3Qod2luZG93LmxvY2F0aW9uKTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gU2hpbnkgbW9kZS4gSWYgbm90LCBpdCdzIGEgc3RhdGljIGRvY3VtZW50LgogIC8vIE5vdGUgdGhhdCBzdGF0aWMgd2lkZ2V0cyBjYW4gYXBwZWFyIGluIGJvdGggU2hpbnkgYW5kIHN0YXRpYyBtb2RlcywgYnV0CiAgLy8gb2J2aW91c2x5LCBTaGlueSB3aWRnZXRzIGNhbiBvbmx5IGFwcGVhciBpbiBTaGlueSBhcHBzL2RvY3VtZW50cy4KICB2YXIgc2hpbnlNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnNoaW55TW9kZSA9CiAgICAgIHR5cGVvZih3aW5kb3cuU2hpbnkpICE9PSAidW5kZWZpbmVkIiAmJiAhIXdpbmRvdy5TaGlueS5vdXRwdXRCaW5kaW5nczsKCiAgLy8gV2UgY2FuJ3QgY291bnQgb24galF1ZXJ5IGJlaW5nIGF2YWlsYWJsZSwgc28gd2UgaW1wbGVtZW50IG91ciBvd24KICAvLyB2ZXJzaW9uIGlmIG5lY2Vzc2FyeS4KICBmdW5jdGlvbiBxdWVyeVNlbGVjdG9yQWxsKHNjb3BlLCBzZWxlY3RvcikgewogICAgaWYgKHR5cGVvZihqUXVlcnkpICE9PSAidW5kZWZpbmVkIiAmJiBzY29wZSBpbnN0YW5jZW9mIGpRdWVyeSkgewogICAgICByZXR1cm4gc2NvcGUuZmluZChzZWxlY3Rvcik7CiAgICB9CiAgICBpZiAoc2NvcGUucXVlcnlTZWxlY3RvckFsbCkgewogICAgICByZXR1cm4gc2NvcGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBhc0FycmF5KHZhbHVlKSB7CiAgICBpZiAodmFsdWUgPT09IG51bGwpCiAgICAgIHJldHVybiBbXTsKICAgIGlmICgkLmlzQXJyYXkodmFsdWUpKQogICAgICByZXR1cm4gdmFsdWU7CiAgICByZXR1cm4gW3ZhbHVlXTsKICB9CgogIC8vIEltcGxlbWVudCBqUXVlcnkncyBleHRlbmQKICBmdW5jdGlvbiBleHRlbmQodGFyZ2V0IC8qLCAuLi4gKi8pIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07CiAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7CiAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgewogICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHRhcmdldDsKICB9CgogIC8vIElFOCBkb2Vzbid0IHN1cHBvcnQgQXJyYXkuZm9yRWFjaC4KICBmdW5jdGlvbiBmb3JFYWNoKHZhbHVlcywgY2FsbGJhY2ssIHRoaXNBcmcpIHsKICAgIGlmICh2YWx1ZXMuZm9yRWFjaCkgewogICAgICB2YWx1ZXMuZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZyk7CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykgewogICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWVzW2ldLCBpLCB2YWx1ZXMpOwogICAgICB9CiAgICB9CiAgfQoKICAvLyBSZXBsYWNlcyB0aGUgc3BlY2lmaWVkIG1ldGhvZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgZnVuY1NvdXJjZS4KICAvLwogIC8vIE5vdGUgdGhhdCBmdW5jU291cmNlIHNob3VsZCBub3QgQkUgdGhlIG5ldyBtZXRob2QsIGl0IHNob3VsZCBiZSBhIGZ1bmN0aW9uCiAgLy8gdGhhdCBSRVRVUk5TIHRoZSBuZXcgbWV0aG9kLiBmdW5jU291cmNlIHJlY2VpdmVzIGEgc2luZ2xlIGFyZ3VtZW50IHRoYXQgaXMKICAvLyB0aGUgb3ZlcnJpZGRlbiBtZXRob2QsIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSB0aGUgbmV3IG1ldGhvZC4gVGhlIG92ZXJyaWRkZW4KICAvLyBtZXRob2QgY2FuIGJlIGNhbGxlZCBsaWtlIGEgcmVndWxhciBmdW5jdGlvbiwgaXQgaGFzIHRoZSB0YXJnZXQgcGVybWFuZW50bHkKICAvLyBib3VuZCB0byBpdCBzbyAidGhpcyIgd2lsbCB3b3JrIGNvcnJlY3RseS4KICBmdW5jdGlvbiBvdmVycmlkZU1ldGhvZCh0YXJnZXQsIG1ldGhvZE5hbWUsIGZ1bmNTb3VyY2UpIHsKICAgIHZhciBzdXBlckZ1bmMgPSB0YXJnZXRbbWV0aG9kTmFtZV0gfHwgZnVuY3Rpb24oKSB7fTsKICAgIHZhciBzdXBlckZ1bmNCb3VuZCA9IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gc3VwZXJGdW5jLmFwcGx5KHRhcmdldCwgYXJndW1lbnRzKTsKICAgIH07CiAgICB0YXJnZXRbbWV0aG9kTmFtZV0gPSBmdW5jU291cmNlKHN1cGVyRnVuY0JvdW5kKTsKICB9CgogIC8vIEFkZCBhIG1ldGhvZCB0byBkZWxlZ2F0b3IgdGhhdCwgd2hlbiBpbnZva2VkLCBjYWxscwogIC8vIGRlbGVnYXRlZS5tZXRob2ROYW1lLiBJZiB0aGVyZSBpcyBubyBzdWNoIG1ldGhvZCBvbgogIC8vIHRoZSBkZWxlZ2F0ZWUsIGJ1dCB0aGVyZSB3YXMgb25lIG9uIGRlbGVnYXRvciBiZWZvcmUKICAvLyBkZWxlZ2F0ZU1ldGhvZCB3YXMgY2FsbGVkLCB0aGVuIHRoZSBvcmlnaW5hbCB2ZXJzaW9uCiAgLy8gaXMgaW52b2tlZCBpbnN0ZWFkLgogIC8vIEZvciBleGFtcGxlOgogIC8vCiAgLy8gdmFyIGEgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2ExJyk7IH0KICAvLyAgIG1ldGhvZDI6IGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnYTInKTsgfQogIC8vIH07CiAgLy8gdmFyIGIgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2IxJyk7IH0KICAvLyB9OwogIC8vIGRlbGVnYXRlTWV0aG9kKGEsIGIsICJtZXRob2QxIik7CiAgLy8gZGVsZWdhdGVNZXRob2QoYSwgYiwgIm1ldGhvZDIiKTsKICAvLyBhLm1ldGhvZDEoKTsKICAvLyBhLm1ldGhvZDIoKTsKICAvLwogIC8vIFRoZSBvdXRwdXQgd291bGQgYmUgImIxIiwgImEyIi4KICBmdW5jdGlvbiBkZWxlZ2F0ZU1ldGhvZChkZWxlZ2F0b3IsIGRlbGVnYXRlZSwgbWV0aG9kTmFtZSkgewogICAgdmFyIGluaGVyaXRlZCA9IGRlbGVnYXRvclttZXRob2ROYW1lXTsKICAgIGRlbGVnYXRvclttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgdGFyZ2V0ID0gZGVsZWdhdGVlOwogICAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGVlW21ldGhvZE5hbWVdOwoKICAgICAgLy8gVGhlIG1ldGhvZCBkb2Vzbid0IGV4aXN0IG9uIHRoZSBkZWxlZ2F0ZWUuIEluc3RlYWQsCiAgICAgIC8vIGNhbGwgdGhlIG1ldGhvZCBvbiB0aGUgZGVsZWdhdG9yLCBpZiBpdCBleGlzdHMuCiAgICAgIGlmICghbWV0aG9kKSB7CiAgICAgICAgdGFyZ2V0ID0gZGVsZWdhdG9yOwogICAgICAgIG1ldGhvZCA9IGluaGVyaXRlZDsKICAgICAgfQoKICAgICAgaWYgKG1ldGhvZCkgewogICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGFyZ2V0LCBhcmd1bWVudHMpOwogICAgICB9CiAgICB9OwogIH0KCiAgLy8gSW1wbGVtZW50IGEgdmFndWUgZmFjc2ltaWxpZSBvZiBqUXVlcnkncyBkYXRhIG1ldGhvZAogIGZ1bmN0aW9uIGVsZW1lbnREYXRhKGVsLCBuYW1lLCB2YWx1ZSkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikgewogICAgICByZXR1cm4gZWxbImh0bWx3aWRnZXRfZGF0YV8iICsgbmFtZV07CiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMykgewogICAgICBlbFsiaHRtbHdpZGdldF9kYXRhXyIgKyBuYW1lXSA9IHZhbHVlOwogICAgICByZXR1cm4gZWw7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgZm9yIGVsZW1lbnREYXRhOiAiICsKICAgICAgICBhcmd1bWVudHMubGVuZ3RoKTsKICAgIH0KICB9CgogIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzQ0NjE3MC9lc2NhcGUtc3RyaW5nLWZvci11c2UtaW4tamF2YXNjcmlwdC1yZWdleAogIGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHIpIHsKICAgIHJldHVybiBzdHIucmVwbGFjZSgvW1wtXFtcXVwvXHtcfVwoXClcKlwrXD9cLlxcXF5cJFx8XS9nLCAiXFwkJiIpOwogIH0KCiAgZnVuY3Rpb24gaGFzQ2xhc3MoZWwsIGNsYXNzTmFtZSkgewogICAgdmFyIHJlID0gbmV3IFJlZ0V4cCgiXFxiIiArIGVzY2FwZVJlZ0V4cChjbGFzc05hbWUpICsgIlxcYiIpOwogICAgcmV0dXJuIHJlLnRlc3QoZWwuY2xhc3NOYW1lKTsKICB9CgogIC8vIGVsZW1lbnRzIC0gYXJyYXkgKG9yIGFycmF5LWxpa2Ugb2JqZWN0KSBvZiBIVE1MIGVsZW1lbnRzCiAgLy8gY2xhc3NOYW1lIC0gY2xhc3MgbmFtZSB0byB0ZXN0IGZvcgogIC8vIGluY2x1ZGUgLSBpZiB0cnVlLCBvbmx5IHJldHVybiBlbGVtZW50cyB3aXRoIGdpdmVuIGNsYXNzTmFtZTsKICAvLyAgIGlmIGZhbHNlLCBvbmx5IHJldHVybiBlbGVtZW50cyAqd2l0aG91dCogZ2l2ZW4gY2xhc3NOYW1lCiAgZnVuY3Rpb24gZmlsdGVyQnlDbGFzcyhlbGVtZW50cywgY2xhc3NOYW1lLCBpbmNsdWRlKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICBpZiAoaGFzQ2xhc3MoZWxlbWVudHNbaV0sIGNsYXNzTmFtZSkgPT0gaW5jbHVkZSkKICAgICAgICByZXN1bHRzLnB1c2goZWxlbWVudHNbaV0pOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiBvbihvYmosIGV2ZW50TmFtZSwgZnVuYykgewogICAgaWYgKG9iai5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgIG9iai5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuYywgZmFsc2UpOwogICAgfSBlbHNlIGlmIChvYmouYXR0YWNoRXZlbnQpIHsKICAgICAgb2JqLmF0dGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBvZmYob2JqLCBldmVudE5hbWUsIGZ1bmMpIHsKICAgIGlmIChvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcikKICAgICAgb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmdW5jLCBmYWxzZSk7CiAgICBlbHNlIGlmIChvYmouZGV0YWNoRXZlbnQpIHsKICAgICAgb2JqLmRldGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICAvLyBUcmFuc2xhdGUgYXJyYXkgb2YgdmFsdWVzIHRvIHRvcC9yaWdodC9ib3R0b20vbGVmdCwgYXMgdXN1YWwgd2l0aAogIC8vIHRoZSAicGFkZGluZyIgQ1NTIHByb3BlcnR5CiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3BhZGRpbmcKICBmdW5jdGlvbiB1bnBhY2tQYWRkaW5nKHZhbHVlKSB7CiAgICBpZiAodHlwZW9mKHZhbHVlKSA9PT0gIm51bWJlciIpCiAgICAgIHZhbHVlID0gW3ZhbHVlXTsKICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDEpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMF0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzBdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDMpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDQpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzNdfTsKICAgIH0KICB9CgogIC8vIENvbnZlcnQgYW4gdW5wYWNrZWQgcGFkZGluZyBvYmplY3QgdG8gYSBDU1MgdmFsdWUKICBmdW5jdGlvbiBwYWRkaW5nVG9Dc3MocGFkZGluZ09iaikgewogICAgcmV0dXJuIHBhZGRpbmdPYmoudG9wICsgInB4ICIgKyBwYWRkaW5nT2JqLnJpZ2h0ICsgInB4ICIgKyBwYWRkaW5nT2JqLmJvdHRvbSArICJweCAiICsgcGFkZGluZ09iai5sZWZ0ICsgInB4IjsKICB9CgogIC8vIE1ha2VzIGEgbnVtYmVyIHN1aXRhYmxlIGZvciBDU1MKICBmdW5jdGlvbiBweCh4KSB7CiAgICBpZiAodHlwZW9mKHgpID09PSAibnVtYmVyIikKICAgICAgcmV0dXJuIHggKyAicHgiOwogICAgZWxzZQogICAgICByZXR1cm4geDsKICB9CgogIC8vIFJldHJpZXZlcyBydW50aW1lIHdpZGdldCBzaXppbmcgaW5mb3JtYXRpb24gZm9yIGFuIGVsZW1lbnQuCiAgLy8gVGhlIHJldHVybiB2YWx1ZSBpcyBlaXRoZXIgbnVsbCwgb3IgYW4gb2JqZWN0IHdpdGggZmlsbCwgcGFkZGluZywKICAvLyBkZWZhdWx0V2lkdGgsIGRlZmF1bHRIZWlnaHQgZmllbGRzLgogIGZ1bmN0aW9uIHNpemluZ1BvbGljeShlbCkgewogICAgdmFyIHNpemluZ0VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtZm9yPSciICsgZWwuaWQgKyAiJ11bdHlwZT0nYXBwbGljYXRpb24vaHRtbHdpZGdldC1zaXppbmcnXSIpOwogICAgaWYgKCFzaXppbmdFbCkKICAgICAgcmV0dXJuIG51bGw7CiAgICB2YXIgc3AgPSBKU09OLnBhcnNlKHNpemluZ0VsLnRleHRDb250ZW50IHx8IHNpemluZ0VsLnRleHQgfHwgInt9Iik7CiAgICBpZiAodmlld2VyTW9kZSkgewogICAgICByZXR1cm4gc3Audmlld2VyOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHNwLmJyb3dzZXI7CiAgICB9CiAgfQoKICAvLyBAcGFyYW0gdGFza3MgQXJyYXkgb2Ygc3RyaW5ncyAob3IgZmFsc3kgdmFsdWUsIGluIHdoaWNoIGNhc2Ugbm8tb3ApLgogIC8vICAgRWFjaCBlbGVtZW50IG11c3QgYmUgYSB2YWxpZCBKYXZhU2NyaXB0IGV4cHJlc3Npb24gdGhhdCB5aWVsZHMgYQogIC8vICAgZnVuY3Rpb24uIE9yLCBjYW4gYmUgYW4gYXJyYXkgb2Ygb2JqZWN0cyB3aXRoICJjb2RlIiBhbmQgImRhdGEiCiAgLy8gICBwcm9wZXJ0aWVzOyBpbiB0aGlzIGNhc2UsIHRoZSAiY29kZSIgcHJvcGVydHkgc2hvdWxkIGJlIGEgc3RyaW5nCiAgLy8gICBvZiBKUyB0aGF0J3MgYW4gZXhwciB0aGF0IHlpZWxkcyBhIGZ1bmN0aW9uLCBhbmQgImRhdGEiIHNob3VsZCBiZQogIC8vICAgYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBhZGRlZCBhcyBhbiBhZGRpdGlvbmFsIGFyZ3VtZW50IHdoZW4gdGhhdAogIC8vICAgZnVuY3Rpb24gaXMgY2FsbGVkLgogIC8vIEBwYXJhbSB0YXJnZXQgVGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgInRoaXMiIGZvciBlYWNoIGZ1bmN0aW9uCiAgLy8gICBleGVjdXRpb24uCiAgLy8gQHBhcmFtIGFyZ3MgQXJyYXkgb2YgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25zLiAoVGhlCiAgLy8gICBzYW1lIGFyZ3VtZW50cyB3aWxsIGJlIHBhc3NlZCB0byBhbGwgZnVuY3Rpb25zLikKICBmdW5jdGlvbiBldmFsQW5kUnVuKHRhc2tzLCB0YXJnZXQsIGFyZ3MpIHsKICAgIGlmICh0YXNrcykgewogICAgICBmb3JFYWNoKHRhc2tzLCBmdW5jdGlvbih0YXNrKSB7CiAgICAgICAgdmFyIHRoZXNlQXJncyA9IGFyZ3M7CiAgICAgICAgaWYgKHR5cGVvZih0YXNrKSA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgIHRoZXNlQXJncyA9IHRoZXNlQXJncy5jb25jYXQoW3Rhc2suZGF0YV0pOwogICAgICAgICAgdGFzayA9IHRhc2suY29kZTsKICAgICAgICB9CiAgICAgICAgdmFyIHRhc2tGdW5jID0gdHJ5RXZhbCh0YXNrKTsKICAgICAgICBpZiAodHlwZW9mKHRhc2tGdW5jKSAhPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJUYXNrIG11c3QgYmUgYSBmdW5jdGlvbiEgU291cmNlOlxuIiArIHRhc2spOwogICAgICAgIH0KICAgICAgICB0YXNrRnVuYy5hcHBseSh0YXJnZXQsIHRoZXNlQXJncyk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgLy8gQXR0ZW1wdCBldmFsKCkgYm90aCB3aXRoIGFuZCB3aXRob3V0IGVuY2xvc2luZyBpbiBwYXJlbnRoZXNlcy4KICAvLyBOb3RlIHRoYXQgZW5jbG9zaW5nIGNvZXJjZXMgYSBmdW5jdGlvbiBkZWNsYXJhdGlvbiBpbnRvCiAgLy8gYW4gZXhwcmVzc2lvbiB0aGF0IGV2YWwoKSBjYW4gcGFyc2UKICAvLyAob3RoZXJ3aXNlLCBhIFN5bnRheEVycm9yIGlzIHRocm93bikKICBmdW5jdGlvbiB0cnlFdmFsKGNvZGUpIHsKICAgIHZhciByZXN1bHQgPSBudWxsOwogICAgdHJ5IHsKICAgICAgcmVzdWx0ID0gZXZhbCgiKCIgKyBjb2RlICsgIikiKTsKICAgIH0gY2F0Y2goZXJyb3IpIHsKICAgICAgaWYgKCFlcnJvciBpbnN0YW5jZW9mIFN5bnRheEVycm9yKSB7CiAgICAgICAgdGhyb3cgZXJyb3I7CiAgICAgIH0KICAgICAgdHJ5IHsKICAgICAgICByZXN1bHQgPSBldmFsKGNvZGUpOwogICAgICB9IGNhdGNoKGUpIHsKICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFN5bnRheEVycm9yKSB7CiAgICAgICAgICB0aHJvdyBlcnJvcjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhyb3cgZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiByZXN1bHQ7CiAgfQoKICBmdW5jdGlvbiBpbml0U2l6aW5nKGVsKSB7CiAgICB2YXIgc2l6aW5nID0gc2l6aW5nUG9saWN5KGVsKTsKICAgIGlmICghc2l6aW5nKQogICAgICByZXR1cm47CgogICAgdmFyIGNlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJodG1sd2lkZ2V0X2NvbnRhaW5lciIpOwogICAgaWYgKCFjZWwpCiAgICAgIHJldHVybjsKCiAgICBpZiAodHlwZW9mKHNpemluZy5wYWRkaW5nKSAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSAiMCI7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZyA9IHBhZGRpbmdUb0Nzcyh1bnBhY2tQYWRkaW5nKHNpemluZy5wYWRkaW5nKSk7CiAgICB9CgogICAgaWYgKHNpemluZy5maWxsKSB7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSAiMTAwJSI7CiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmhlaWdodCA9ICIxMDAlIjsKICAgICAgaWYgKGNlbCkgewogICAgICAgIGNlbC5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CiAgICAgICAgdmFyIHBhZCA9IHVucGFja1BhZGRpbmcoc2l6aW5nLnBhZGRpbmcpOwogICAgICAgIGNlbC5zdHlsZS50b3AgPSBwYWQudG9wICsgInB4IjsKICAgICAgICBjZWwuc3R5bGUucmlnaHQgPSBwYWQucmlnaHQgKyAicHgiOwogICAgICAgIGNlbC5zdHlsZS5ib3R0b20gPSBwYWQuYm90dG9tICsgInB4IjsKICAgICAgICBjZWwuc3R5bGUubGVmdCA9IHBhZC5sZWZ0ICsgInB4IjsKICAgICAgICBlbC5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgICAgICBlbC5zdHlsZS5oZWlnaHQgPSAiMTAwJSI7CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgZ2V0V2lkdGg6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2VsLm9mZnNldFdpZHRoOyB9LAogICAgICAgIGdldEhlaWdodDogZnVuY3Rpb24oKSB7IHJldHVybiBjZWwub2Zmc2V0SGVpZ2h0OyB9CiAgICAgIH07CgogICAgfSBlbHNlIHsKICAgICAgZWwuc3R5bGUud2lkdGggPSBweChzaXppbmcud2lkdGgpOwogICAgICBlbC5zdHlsZS5oZWlnaHQgPSBweChzaXppbmcuaGVpZ2h0KTsKCiAgICAgIHJldHVybiB7CiAgICAgICAgZ2V0V2lkdGg6IGZ1bmN0aW9uKCkgeyByZXR1cm4gZWwub2Zmc2V0V2lkdGg7IH0sCiAgICAgICAgZ2V0SGVpZ2h0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGVsLm9mZnNldEhlaWdodDsgfQogICAgICB9OwogICAgfQogIH0KCiAgLy8gRGVmYXVsdCBpbXBsZW1lbnRhdGlvbnMgZm9yIG1ldGhvZHMKICB2YXIgZGVmYXVsdHMgPSB7CiAgICBmaW5kOiBmdW5jdGlvbihzY29wZSkgewogICAgICByZXR1cm4gcXVlcnlTZWxlY3RvckFsbChzY29wZSwgIi4iICsgdGhpcy5uYW1lKTsKICAgIH0sCiAgICByZW5kZXJFcnJvcjogZnVuY3Rpb24oZWwsIGVycikgewogICAgICB2YXIgJGVsID0gJChlbCk7CgogICAgICB0aGlzLmNsZWFyRXJyb3IoZWwpOwoKICAgICAgLy8gQWRkIGFsbCB0aGVzZSBlcnJvciBjbGFzc2VzLCBhcyBTaGlueSBkb2VzCiAgICAgIHZhciBlcnJDbGFzcyA9ICJzaGlueS1vdXRwdXQtZXJyb3IiOwogICAgICBpZiAoZXJyLnR5cGUgIT09IG51bGwpIHsKICAgICAgICAvLyB1c2UgdGhlIGNsYXNzZXMgb2YgdGhlIGVycm9yIGNvbmRpdGlvbiBhcyBDU1MgY2xhc3MgbmFtZXMKICAgICAgICBlcnJDbGFzcyA9IGVyckNsYXNzICsgIiAiICsgJC5tYXAoYXNBcnJheShlcnIudHlwZSksIGZ1bmN0aW9uKHR5cGUpIHsKICAgICAgICAgIHJldHVybiBlcnJDbGFzcyArICItIiArIHR5cGU7CiAgICAgICAgfSkuam9pbigiICIpOwogICAgICB9CiAgICAgIGVyckNsYXNzID0gZXJyQ2xhc3MgKyAiIGh0bWx3aWRnZXRzLWVycm9yIjsKCiAgICAgIC8vIElzIGVsIGlubGluZSBvciBibG9jaz8gSWYgaW5saW5lIG9yIGlubGluZS1ibG9jaywganVzdCBkaXNwbGF5Om5vbmUgaXQKICAgICAgLy8gYW5kIGFkZCBhbiBpbmxpbmUgZXJyb3IuCiAgICAgIHZhciBkaXNwbGF5ID0gJGVsLmNzcygiZGlzcGxheSIpOwogICAgICAkZWwuZGF0YSgicmVzdG9yZS1kaXNwbGF5LW1vZGUiLCBkaXNwbGF5KTsKCiAgICAgIGlmIChkaXNwbGF5ID09PSAiaW5saW5lIiB8fCBkaXNwbGF5ID09PSAiaW5saW5lLWJsb2NrIikgewogICAgICAgICRlbC5oaWRlKCk7CiAgICAgICAgaWYgKGVyci5tZXNzYWdlICE9PSAiIikgewogICAgICAgICAgdmFyIGVycm9yU3BhbiA9ICQoIjxzcGFuPiIpLmFkZENsYXNzKGVyckNsYXNzKTsKICAgICAgICAgIGVycm9yU3Bhbi50ZXh0KGVyci5tZXNzYWdlKTsKICAgICAgICAgICRlbC5hZnRlcihlcnJvclNwYW4pOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChkaXNwbGF5ID09PSAiYmxvY2siKSB7CiAgICAgICAgLy8gSWYgYmxvY2ssIGFkZCBhbiBlcnJvciBqdXN0IGFmdGVyIHRoZSBlbCwgc2V0IHZpc2liaWxpdHk6bm9uZSBvbiB0aGUKICAgICAgICAvLyBlbCwgYW5kIHBvc2l0aW9uIHRoZSBlcnJvciB0byBiZSBvbiB0b3Agb2YgdGhlIGVsLgogICAgICAgIC8vIE1hcmsgaXQgd2l0aCBhIHVuaXF1ZSBJRCBhbmQgQ1NTIGNsYXNzIHNvIHdlIGNhbiByZW1vdmUgaXQgbGF0ZXIuCiAgICAgICAgJGVsLmNzcygidmlzaWJpbGl0eSIsICJoaWRkZW4iKTsKICAgICAgICBpZiAoZXJyLm1lc3NhZ2UgIT09ICIiKSB7CiAgICAgICAgICB2YXIgZXJyb3JEaXYgPSAkKCI8ZGl2PiIpLmFkZENsYXNzKGVyckNsYXNzKS5jc3MoInBvc2l0aW9uIiwgImFic29sdXRlIikKICAgICAgICAgICAgLmNzcygidG9wIiwgZWwub2Zmc2V0VG9wKQogICAgICAgICAgICAuY3NzKCJsZWZ0IiwgZWwub2Zmc2V0TGVmdCkKICAgICAgICAgICAgLy8gc2V0dGluZyB3aWR0aCBjYW4gcHVzaCBvdXQgdGhlIHBhZ2Ugc2l6ZSwgZm9yY2luZyBvdGhlcndpc2UKICAgICAgICAgICAgLy8gdW5uZWNlc3Nhcnkgc2Nyb2xsYmFycyB0byBhcHBlYXIgYW5kIG1ha2luZyBpdCBpbXBvc3NpYmxlIGZvcgogICAgICAgICAgICAvLyB0aGUgZWxlbWVudCB0byBzaHJpbms7IHNvIHVzZSBtYXgtd2lkdGggaW5zdGVhZAogICAgICAgICAgICAuY3NzKCJtYXhXaWR0aCIsIGVsLm9mZnNldFdpZHRoKQogICAgICAgICAgICAuY3NzKCJoZWlnaHQiLCBlbC5vZmZzZXRIZWlnaHQpOwogICAgICAgICAgZXJyb3JEaXYudGV4dChlcnIubWVzc2FnZSk7CiAgICAgICAgICAkZWwuYWZ0ZXIoZXJyb3JEaXYpOwoKICAgICAgICAgIC8vIFJlYWxseSBkdW1iIHdheSB0byBrZWVwIHRoZSBzaXplL3Bvc2l0aW9uIG9mIHRoZSBlcnJvciBpbiBzeW5jIHdpdGgKICAgICAgICAgIC8vIHRoZSBwYXJlbnQgZWxlbWVudCBhcyB0aGUgd2luZG93IGlzIHJlc2l6ZWQgb3Igd2hhdGV2ZXIuCiAgICAgICAgICB2YXIgaW50SWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgICAgICAgICAgaWYgKCFlcnJvckRpdlswXS5wYXJlbnRFbGVtZW50KSB7CiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRJZCk7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yRGl2CiAgICAgICAgICAgICAgLmNzcygidG9wIiwgZWwub2Zmc2V0VG9wKQogICAgICAgICAgICAgIC5jc3MoImxlZnQiLCBlbC5vZmZzZXRMZWZ0KQogICAgICAgICAgICAgIC5jc3MoIm1heFdpZHRoIiwgZWwub2Zmc2V0V2lkdGgpCiAgICAgICAgICAgICAgLmNzcygiaGVpZ2h0IiwgZWwub2Zmc2V0SGVpZ2h0KTsKICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgY2xlYXJFcnJvcjogZnVuY3Rpb24oZWwpIHsKICAgICAgdmFyICRlbCA9ICQoZWwpOwogICAgICB2YXIgZGlzcGxheSA9ICRlbC5kYXRhKCJyZXN0b3JlLWRpc3BsYXktbW9kZSIpOwogICAgICAkZWwuZGF0YSgicmVzdG9yZS1kaXNwbGF5LW1vZGUiLCBudWxsKTsKCiAgICAgIGlmIChkaXNwbGF5ID09PSAiaW5saW5lIiB8fCBkaXNwbGF5ID09PSAiaW5saW5lLWJsb2NrIikgewogICAgICAgIGlmIChkaXNwbGF5KQogICAgICAgICAgJGVsLmNzcygiZGlzcGxheSIsIGRpc3BsYXkpOwogICAgICAgICQoZWwubmV4dFNpYmxpbmcpLmZpbHRlcigiLmh0bWx3aWRnZXRzLWVycm9yIikucmVtb3ZlKCk7CiAgICAgIH0gZWxzZSBpZiAoZGlzcGxheSA9PT0gImJsb2NrIil7CiAgICAgICAgJGVsLmNzcygidmlzaWJpbGl0eSIsICJpbmhlcml0Iik7CiAgICAgICAgJChlbC5uZXh0U2libGluZykuZmlsdGVyKCIuaHRtbHdpZGdldHMtZXJyb3IiKS5yZW1vdmUoKTsKICAgICAgfQogICAgfSwKICAgIHNpemluZzoge30KICB9OwoKICAvLyBDYWxsZWQgYnkgd2lkZ2V0IGJpbmRpbmdzIHRvIHJlZ2lzdGVyIGEgbmV3IHR5cGUgb2Ygd2lkZ2V0LiBUaGUgZGVmaW5pdGlvbgogIC8vIG9iamVjdCBjYW4gY29udGFpbiB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6CiAgLy8gLSBuYW1lIChyZXF1aXJlZCkgLSBBIHN0cmluZyBpbmRpY2F0aW5nIHRoZSBiaW5kaW5nIG5hbWUsIHdoaWNoIHdpbGwgYmUKICAvLyAgIHVzZWQgYnkgZGVmYXVsdCBhcyB0aGUgQ1NTIGNsYXNzbmFtZSB0byBsb29rIGZvci4KICAvLyAtIGluaXRpYWxpemUgKG9wdGlvbmFsKSAtIEEgZnVuY3Rpb24oZWwpIHRoYXQgd2lsbCBiZSBjYWxsZWQgb25jZSBwZXIKICAvLyAgIHdpZGdldCBlbGVtZW50OyBpZiBhIHZhbHVlIGlzIHJldHVybmVkLCBpdCB3aWxsIGJlIHBhc3NlZCBhcyB0aGUgdGhpcmQKICAvLyAgIHZhbHVlIHRvIHJlbmRlclZhbHVlLgogIC8vIC0gcmVuZGVyVmFsdWUgKHJlcXVpcmVkKSAtIEEgZnVuY3Rpb24oZWwsIGRhdGEsIGluaXRWYWx1ZSkgdGhhdCB3aWxsIGJlCiAgLy8gICBjYWxsZWQgd2l0aCBkYXRhLiBTdGF0aWMgY29udGV4dHMgd2lsbCBjYXVzZSB0aGlzIHRvIGJlIGNhbGxlZCBvbmNlIHBlcgogIC8vICAgZWxlbWVudDsgU2hpbnkgYXBwcyB3aWxsIGNhdXNlIHRoaXMgdG8gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzIHBlcgogIC8vICAgZWxlbWVudCwgYXMgdGhlIGRhdGEgY2hhbmdlcy4KICB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0ID0gZnVuY3Rpb24oZGVmaW5pdGlvbikgewogICAgaWYgKCFkZWZpbml0aW9uLm5hbWUpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJXaWRnZXQgbXVzdCBoYXZlIGEgbmFtZSIpOwogICAgfQogICAgaWYgKCFkZWZpbml0aW9uLnR5cGUpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJXaWRnZXQgbXVzdCBoYXZlIGEgdHlwZSIpOwogICAgfQogICAgLy8gQ3VycmVudGx5IHdlIG9ubHkgc3VwcG9ydCBvdXRwdXQgd2lkZ2V0cwogICAgaWYgKGRlZmluaXRpb24udHlwZSAhPT0gIm91dHB1dCIpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbnJlY29nbml6ZWQgd2lkZ2V0IHR5cGUgJyIgKyBkZWZpbml0aW9uLnR5cGUgKyAiJyIpOwogICAgfQogICAgLy8gVE9ETzogVmVyaWZ5IHRoYXQgLm5hbWUgaXMgYSB2YWxpZCBDU1MgY2xhc3NuYW1lCgogICAgLy8gU3VwcG9ydCBuZXctc3R5bGUgaW5zdGFuY2UtYm91bmQgZGVmaW5pdGlvbnMuIE9sZC1zdHlsZSBjbGFzcy1ib3VuZAogICAgLy8gZGVmaW5pdGlvbnMgaGF2ZSBvbmUgd2lkZ2V0ICJvYmplY3QiIHBlciB3aWRnZXQgcGVyIHR5cGUvY2xhc3Mgb2YKICAgIC8vIHdpZGdldDsgdGhlIHJlbmRlclZhbHVlIGFuZCByZXNpemUgbWV0aG9kcyBvbiBzdWNoIHdpZGdldCBvYmplY3RzCiAgICAvLyB0YWtlIGVsIGFuZCBpbnN0YW5jZSBhcmd1bWVudHMsIGJlY2F1c2UgdGhlIHdpZGdldCBvYmplY3QgY2FuJ3QKICAgIC8vIHN0b3JlIHRoZW0uIE5ldy1zdHlsZSBpbnN0YW5jZS1ib3VuZCBkZWZpbml0aW9ucyBoYXZlIG9uZSB3aWRnZXQKICAgIC8vIG9iamVjdCBwZXIgd2lkZ2V0IGluc3RhbmNlOyB0aGUgZGVmaW5pdGlvbiB0aGF0J3MgcGFzc2VkIGluIGRvZXNuJ3QKICAgIC8vIHByb3ZpZGUgcmVuZGVyVmFsdWUgb3IgcmVzaXplIG1ldGhvZHMgYXQgYWxsLCBqdXN0IHRoZSBzaW5nbGUgbWV0aG9kCiAgICAvLyAgIGZhY3RvcnkoZWwsIHdpZHRoLCBoZWlnaHQpCiAgICAvLyB3aGljaCByZXR1cm5zIGFuIG9iamVjdCB0aGF0IGhhcyByZW5kZXJWYWx1ZSh4KSBhbmQgcmVzaXplKHcsIGgpLgogICAgLy8gVGhpcyBlbmFibGVzIGEgZmFyIG1vcmUgbmF0dXJhbCBwcm9ncmFtbWluZyBzdHlsZSBmb3IgdGhlIHdpZGdldAogICAgLy8gYXV0aG9yLCB3aG8gY2FuIHN0b3JlIHBlci1pbnN0YW5jZSBzdGF0ZSB1c2luZyBlaXRoZXIgT08tc3R5bGUKICAgIC8vIGluc3RhbmNlIGZpZWxkcyBvciBmdW5jdGlvbmFsLXN0eWxlIGNsb3N1cmUgdmFyaWFibGVzIChJIGd1ZXNzIHRoaXMKICAgIC8vIGlzIGluIGNvbnRyYXN0IHRvIHdoYXQgY2FuIG9ubHkgYmUgY2FsbGVkIEMtc3R5bGUgcHNldWRvLU9PIHdoaWNoIGlzCiAgICAvLyB3aGF0IHdlIHJlcXVpcmVkIGJlZm9yZSkuCiAgICBpZiAoZGVmaW5pdGlvbi5mYWN0b3J5KSB7CiAgICAgIGRlZmluaXRpb24gPSBjcmVhdGVMZWdhY3lEZWZpbml0aW9uQWRhcHRlcihkZWZpbml0aW9uKTsKICAgIH0KCiAgICBpZiAoIWRlZmluaXRpb24ucmVuZGVyVmFsdWUpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJXaWRnZXQgbXVzdCBoYXZlIGEgcmVuZGVyVmFsdWUgZnVuY3Rpb24iKTsKICAgIH0KCiAgICAvLyBGb3Igc3RhdGljIHJlbmRlcmluZyAobm9uLVNoaW55KSwgdXNlIGEgc2ltcGxlIHdpZGdldCByZWdpc3RyYXRpb24KICAgIC8vIHNjaGVtZS4gV2UgYWxzbyB1c2UgdGhpcyBzY2hlbWUgZm9yIFNoaW55IGFwcHMvZG9jdW1lbnRzIHRoYXQgYWxzbwogICAgLy8gY29udGFpbiBzdGF0aWMgd2lkZ2V0cy4KICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXRzID0gd2luZG93LkhUTUxXaWRnZXRzLndpZGdldHMgfHwgW107CiAgICAvLyBNZXJnZSBkZWZhdWx0cyBpbnRvIHRoZSBkZWZpbml0aW9uOyBkb24ndCBtdXRhdGUgdGhlIG9yaWdpbmFsIGRlZmluaXRpb24uCiAgICB2YXIgc3RhdGljQmluZGluZyA9IGV4dGVuZCh7fSwgZGVmYXVsdHMsIGRlZmluaXRpb24pOwogICAgb3ZlcnJpZGVNZXRob2Qoc3RhdGljQmluZGluZywgImZpbmQiLCBmdW5jdGlvbihzdXBlcmZ1bmMpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlKSB7CiAgICAgICAgdmFyIHJlc3VsdHMgPSBzdXBlcmZ1bmMoc2NvcGUpOwogICAgICAgIC8vIEZpbHRlciBvdXQgU2hpbnkgb3V0cHV0cywgd2Ugb25seSB3YW50IHRoZSBzdGF0aWMga2luZAogICAgICAgIHJldHVybiBmaWx0ZXJCeUNsYXNzKHJlc3VsdHMsICJodG1sLXdpZGdldC1vdXRwdXQiLCBmYWxzZSk7CiAgICAgIH07CiAgICB9KTsKICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXRzLnB1c2goc3RhdGljQmluZGluZyk7CgogICAgaWYgKHNoaW55TW9kZSkgewogICAgICAvLyBTaGlueSBpcyBydW5uaW5nLiBSZWdpc3RlciB0aGUgZGVmaW5pdGlvbiB3aXRoIGFuIG91dHB1dCBiaW5kaW5nLgogICAgICAvLyBUaGUgZGVmaW5pdGlvbiBpdHNlbGYgd2lsbCBub3QgYmUgdGhlIG91dHB1dCBiaW5kaW5nLCBpbnN0ZWFkCiAgICAgIC8vIHdlIHdpbGwgbWFrZSBhbiBvdXRwdXQgYmluZGluZyBvYmplY3QgdGhhdCBkZWxlZ2F0ZXMgdG8gdGhlCiAgICAgIC8vIGRlZmluaXRpb24uIFRoaXMgaXMgYmVjYXVzZSB3ZSBmb29saXNobHkgdXNlZCB0aGUgc2FtZSBtZXRob2QKICAgICAgLy8gbmFtZSAocmVuZGVyVmFsdWUpIGZvciBodG1sd2lkZ2V0cyBkZWZpbml0aW9uIGFuZCBTaGlueSBiaW5kaW5ncwogICAgICAvLyBidXQgdGhleSBhY3R1YWxseSBoYXZlIHF1aXRlIGRpZmZlcmVudCBzZW1hbnRpY3MgKHRoZSBTaGlueQogICAgICAvLyBiaW5kaW5ncyByZWNlaXZlIGRhdGEgdGhhdCBpbmNsdWRlcyBsb3RzIG9mIG1ldGFkYXRhIHRoYXQgaXQKICAgICAgLy8gc3RyaXBzIG9mZiBiZWZvcmUgY2FsbGluZyBodG1sd2lkZ2V0cyByZW5kZXJWYWx1ZSkuIFdlIGNhbid0CiAgICAgIC8vIGp1c3QgaWdub3JlIHRoZSBkaWZmZXJlbmNlIGJlY2F1c2UgaW4gc29tZSB3aWRnZXRzIGl0J3MgaGVscGZ1bAogICAgICAvLyB0byBjYWxsIHRoaXMucmVuZGVyVmFsdWUoKSBmcm9tIGluc2lkZSBvZiByZXNpemUoKSwgYW5kIGlmCiAgICAgIC8vIHdlJ3JlIG5vdCBkZWxlZ2F0aW5nLCB0aGVuIHRoYXQgY2FsbCB3aWxsIGdvIHRvIHRoZSBTaGlueQogICAgICAvLyB2ZXJzaW9uIGluc3RlYWQgb2YgdGhlIGh0bWx3aWRnZXRzIHZlcnNpb24uCgogICAgICAvLyBNZXJnZSBkZWZhdWx0cyB3aXRoIGRlZmluaXRpb24sIHdpdGhvdXQgbXV0YXRpbmcgZWl0aGVyLgogICAgICB2YXIgYmluZGluZ0RlZiA9IGV4dGVuZCh7fSwgZGVmYXVsdHMsIGRlZmluaXRpb24pOwoKICAgICAgLy8gVGhpcyBvYmplY3Qgd2lsbCBiZSBvdXIgYWN0dWFsIFNoaW55IGJpbmRpbmcuCiAgICAgIHZhciBzaGlueUJpbmRpbmcgPSBuZXcgU2hpbnkuT3V0cHV0QmluZGluZygpOwoKICAgICAgLy8gV2l0aCBhIGZldyBleGNlcHRpb25zLCB3ZSdsbCB3YW50IHRvIHNpbXBseSB1c2UgdGhlIGJpbmRpbmdEZWYncwogICAgICAvLyB2ZXJzaW9uIG9mIG1ldGhvZHMgaWYgdGhleSBhcmUgYXZhaWxhYmxlLCBvdGhlcndpc2UgZmFsbCBiYWNrIHRvCiAgICAgIC8vIFNoaW55J3MgZGVmYXVsdHMuIE5PVEU6IElmIFNoaW55J3Mgb3V0cHV0IGJpbmRpbmdzIGdhaW4gYWRkaXRpb25hbAogICAgICAvLyBtZXRob2RzIGluIHRoZSBmdXR1cmUsIGFuZCB3ZSB3YW50IHRoZW0gdG8gYmUgb3ZlcnJpZGVhYmxlIGJ5CiAgICAgIC8vIEhUTUxXaWRnZXQgYmluZGluZyBkZWZpbml0aW9ucywgdGhlbiB3ZSdsbCBuZWVkIHRvIGFkZCB0aGVtIHRvIHRoaXMKICAgICAgLy8gbGlzdC4KICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAiZ2V0SWQiKTsKICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAib25WYWx1ZUNoYW5nZSIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJvblZhbHVlRXJyb3IiKTsKICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAicmVuZGVyRXJyb3IiKTsKICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAiY2xlYXJFcnJvciIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJzaG93UHJvZ3Jlc3MiKTsKCiAgICAgIC8vIFRoZSBmaW5kLCByZW5kZXJWYWx1ZSwgYW5kIHJlc2l6ZSBhcmUgaGFuZGxlZCBkaWZmZXJlbnRseSwgYmVjYXVzZSB3ZQogICAgICAvLyB3YW50IHRvIGFjdHVhbGx5IGRlY29yYXRlIHRoZSBiZWhhdmlvciBvZiB0aGUgYmluZGluZ0RlZiBtZXRob2RzLgoKICAgICAgc2hpbnlCaW5kaW5nLmZpbmQgPSBmdW5jdGlvbihzY29wZSkgewogICAgICAgIHZhciByZXN1bHRzID0gYmluZGluZ0RlZi5maW5kKHNjb3BlKTsKCiAgICAgICAgLy8gT25seSByZXR1cm4gZWxlbWVudHMgdGhhdCBhcmUgU2hpbnkgb3V0cHV0cywgbm90IHN0YXRpYyBvbmVzCiAgICAgICAgdmFyIGR5bmFtaWNSZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIoIi5odG1sLXdpZGdldC1vdXRwdXQiKTsKCiAgICAgICAgLy8gSXQncyBwb3NzaWJsZSB0aGF0IHdoYXRldmVyIGNhdXNlZCBTaGlueSB0byB0aGluayB0aGVyZSBtaWdodCBiZQogICAgICAgIC8vIG5ldyBkeW5hbWljIG91dHB1dHMsIGFsc28gY2F1c2VkIHRoZXJlIHRvIGJlIG5ldyBzdGF0aWMgb3V0cHV0cy4KICAgICAgICAvLyBTaW5jZSB0aGVyZSBtaWdodCBiZSBsb3RzIG9mIGRpZmZlcmVudCBodG1sd2lkZ2V0cyBiaW5kaW5ncywgd2UKICAgICAgICAvLyBzY2hlZHVsZSBleGVjdXRpb24gZm9yIGxhdGVyLS1ubyBuZWVkIHRvIHN0YXRpY1JlbmRlciBtdWx0aXBsZQogICAgICAgIC8vIHRpbWVzLgogICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCAhPT0gZHluYW1pY1Jlc3VsdHMubGVuZ3RoKQogICAgICAgICAgc2NoZWR1bGVTdGF0aWNSZW5kZXIoKTsKCiAgICAgICAgcmV0dXJuIGR5bmFtaWNSZXN1bHRzOwogICAgICB9OwoKICAgICAgLy8gV3JhcCByZW5kZXJWYWx1ZSB0byBoYW5kbGUgaW5pdGlhbGl6YXRpb24sIHdoaWNoIHVuZm9ydHVuYXRlbHkgaXNuJ3QKICAgICAgLy8gc3VwcG9ydGVkIG5hdGl2ZWx5IGJ5IFNoaW55IGF0IHRoZSB0aW1lIG9mIHRoaXMgd3JpdGluZy4KCiAgICAgIHNoaW55QmluZGluZy5yZW5kZXJWYWx1ZSA9IGZ1bmN0aW9uKGVsLCBkYXRhKSB7CiAgICAgICAgU2hpbnkucmVuZGVyRGVwZW5kZW5jaWVzKGRhdGEuZGVwcyk7CiAgICAgICAgLy8gUmVzb2x2ZSBzdHJpbmdzIG1hcmtlZCBhcyBqYXZhc2NyaXB0IGxpdGVyYWxzIHRvIG9iamVjdHMKICAgICAgICBpZiAoIShkYXRhLmV2YWxzIGluc3RhbmNlb2YgQXJyYXkpKSBkYXRhLmV2YWxzID0gW2RhdGEuZXZhbHNdOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBkYXRhLmV2YWxzICYmIGkgPCBkYXRhLmV2YWxzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB3aW5kb3cuSFRNTFdpZGdldHMuZXZhbHVhdGVTdHJpbmdNZW1iZXIoZGF0YS54LCBkYXRhLmV2YWxzW2ldKTsKICAgICAgICB9CiAgICAgICAgaWYgKCFiaW5kaW5nRGVmLnJlbmRlck9uTnVsbFZhbHVlKSB7CiAgICAgICAgICBpZiAoZGF0YS54ID09PSBudWxsKSB7CiAgICAgICAgICAgIGVsLnN0eWxlLnZpc2liaWxpdHkgPSAiaGlkZGVuIjsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZWwuc3R5bGUudmlzaWJpbGl0eSA9ICJpbmhlcml0IjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFlbGVtZW50RGF0YShlbCwgImluaXRpYWxpemVkIikpIHsKICAgICAgICAgIGluaXRTaXppbmcoZWwpOwoKICAgICAgICAgIGVsZW1lbnREYXRhKGVsLCAiaW5pdGlhbGl6ZWQiLCB0cnVlKTsKICAgICAgICAgIGlmIChiaW5kaW5nRGVmLmluaXRpYWxpemUpIHsKICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGJpbmRpbmdEZWYuaW5pdGlhbGl6ZShlbCwgZWwub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgICAgZWwub2Zmc2V0SGVpZ2h0KTsKICAgICAgICAgICAgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIsIHJlc3VsdCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGJpbmRpbmdEZWYucmVuZGVyVmFsdWUoZWwsIGRhdGEueCwgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpKTsKICAgICAgICBldmFsQW5kUnVuKGRhdGEuanNIb29rcy5yZW5kZXIsIGVsZW1lbnREYXRhKGVsLCAiaW5pdF9yZXN1bHQiKSwgW2VsLCBkYXRhLnhdKTsKICAgICAgfTsKCiAgICAgIC8vIE9ubHkgb3ZlcnJpZGUgcmVzaXplIGlmIGJpbmRpbmdEZWYgaW1wbGVtZW50cyBpdAogICAgICBpZiAoYmluZGluZ0RlZi5yZXNpemUpIHsKICAgICAgICBzaGlueUJpbmRpbmcucmVzaXplID0gZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQpIHsKICAgICAgICAgIC8vIFNoaW55IGNhbiBjYWxsIHJlc2l6ZSBiZWZvcmUgaW5pdGlhbGl6ZS9yZW5kZXJWYWx1ZSBoYXZlIGJlZW4KICAgICAgICAgIC8vIGNhbGxlZCwgd2hpY2ggZG9lc24ndCBtYWtlIHNlbnNlIGZvciB3aWRnZXRzLgogICAgICAgICAgaWYgKGVsZW1lbnREYXRhKGVsLCAiaW5pdGlhbGl6ZWQiKSkgewogICAgICAgICAgICBiaW5kaW5nRGVmLnJlc2l6ZShlbCwgd2lkdGgsIGhlaWdodCwgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9CgogICAgICBTaGlueS5vdXRwdXRCaW5kaW5ncy5yZWdpc3RlcihzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYubmFtZSk7CiAgICB9CiAgfTsKCiAgdmFyIHNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCA9IG51bGw7CiAgZnVuY3Rpb24gc2NoZWR1bGVTdGF0aWNSZW5kZXIoKSB7CiAgICBpZiAoIXNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCkgewogICAgICBzY2hlZHVsZVN0YXRpY1JlbmRlclRpbWVySWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgIHNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCA9IG51bGw7CiAgICAgICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpOwogICAgICB9LCAxKTsKICAgIH0KICB9CgogIC8vIFJlbmRlciBzdGF0aWMgd2lkZ2V0cyBhZnRlciB0aGUgZG9jdW1lbnQgZmluaXNoZXMgbG9hZGluZwogIC8vIFN0YXRpY2FsbHkgcmVuZGVyIGFsbCBlbGVtZW50cyB0aGF0IGFyZSBvZiB0aGlzIHdpZGdldCdzIGNsYXNzCiAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlciA9IGZ1bmN0aW9uKCkgewogICAgdmFyIGJpbmRpbmdzID0gd2luZG93LkhUTUxXaWRnZXRzLndpZGdldHMgfHwgW107CiAgICBmb3JFYWNoKGJpbmRpbmdzLCBmdW5jdGlvbihiaW5kaW5nKSB7CiAgICAgIHZhciBtYXRjaGVzID0gYmluZGluZy5maW5kKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7CiAgICAgIGZvckVhY2gobWF0Y2hlcywgZnVuY3Rpb24oZWwpIHsKICAgICAgICB2YXIgc2l6ZU9iaiA9IGluaXRTaXppbmcoZWwsIGJpbmRpbmcpOwoKICAgICAgICBpZiAoaGFzQ2xhc3MoZWwsICJodG1sLXdpZGdldC1zdGF0aWMtYm91bmQiKSkKICAgICAgICAgIHJldHVybjsKICAgICAgICBlbC5jbGFzc05hbWUgPSBlbC5jbGFzc05hbWUgKyAiIGh0bWwtd2lkZ2V0LXN0YXRpYy1ib3VuZCI7CgogICAgICAgIHZhciBpbml0UmVzdWx0OwogICAgICAgIGlmIChiaW5kaW5nLmluaXRpYWxpemUpIHsKICAgICAgICAgIGluaXRSZXN1bHQgPSBiaW5kaW5nLmluaXRpYWxpemUoZWwsCiAgICAgICAgICAgIHNpemVPYmogPyBzaXplT2JqLmdldFdpZHRoKCkgOiBlbC5vZmZzZXRXaWR0aCwKICAgICAgICAgICAgc2l6ZU9iaiA/IHNpemVPYmouZ2V0SGVpZ2h0KCkgOiBlbC5vZmZzZXRIZWlnaHQKICAgICAgICAgICk7CiAgICAgICAgICBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IiwgaW5pdFJlc3VsdCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoYmluZGluZy5yZXNpemUpIHsKICAgICAgICAgIHZhciBsYXN0U2l6ZSA9IHsKICAgICAgICAgICAgdzogc2l6ZU9iaiA/IHNpemVPYmouZ2V0V2lkdGgoKSA6IGVsLm9mZnNldFdpZHRoLAogICAgICAgICAgICBoOiBzaXplT2JqID8gc2l6ZU9iai5nZXRIZWlnaHQoKSA6IGVsLm9mZnNldEhlaWdodAogICAgICAgICAgfTsKICAgICAgICAgIHZhciByZXNpemVIYW5kbGVyID0gZnVuY3Rpb24oZSkgewogICAgICAgICAgICB2YXIgc2l6ZSA9IHsKICAgICAgICAgICAgICB3OiBzaXplT2JqID8gc2l6ZU9iai5nZXRXaWR0aCgpIDogZWwub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgICAgaDogc2l6ZU9iaiA/IHNpemVPYmouZ2V0SGVpZ2h0KCkgOiBlbC5vZmZzZXRIZWlnaHQKICAgICAgICAgICAgfTsKICAgICAgICAgICAgaWYgKHNpemUudyA9PT0gMCAmJiBzaXplLmggPT09IDApCiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICBpZiAoc2l6ZS53ID09PSBsYXN0U2l6ZS53ICYmIHNpemUuaCA9PT0gbGFzdFNpemUuaCkKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIGxhc3RTaXplID0gc2l6ZTsKICAgICAgICAgICAgYmluZGluZy5yZXNpemUoZWwsIHNpemUudywgc2l6ZS5oLCBpbml0UmVzdWx0KTsKICAgICAgICAgIH07CgogICAgICAgICAgb24od2luZG93LCAicmVzaXplIiwgcmVzaXplSGFuZGxlcik7CgogICAgICAgICAgLy8gVGhpcyBpcyBuZWVkZWQgZm9yIGNhc2VzIHdoZXJlIHdlJ3JlIHJ1bm5pbmcgaW4gYSBTaGlueQogICAgICAgICAgLy8gYXBwLCBidXQgdGhlIHdpZGdldCBpdHNlbGYgaXMgbm90IGEgU2hpbnkgb3V0cHV0LCBidXQKICAgICAgICAgIC8vIHJhdGhlciBhIHNpbXBsZSBzdGF0aWMgd2lkZ2V0LiBPbmUgZXhhbXBsZSBvZiB0aGlzIGlzCiAgICAgICAgICAvLyBhbiBybWFya2Rvd24gZG9jdW1lbnQgdGhhdCBoYXMgcnVudGltZTpzaGlueSBhbmQgd2lkZ2V0CiAgICAgICAgICAvLyB0aGF0IGlzbid0IGluIGEgcmVuZGVyIGZ1bmN0aW9uLiBTaGlueSBvbmx5IGtub3dzIHRvCiAgICAgICAgICAvLyBjYWxsIHJlc2l6ZSBoYW5kbGVycyBmb3IgU2hpbnkgb3V0cHV0cywgbm90IGZvciBzdGF0aWMKICAgICAgICAgIC8vIHdpZGdldHMsIHNvIHdlIGRvIGl0IG91cnNlbHZlcy4KICAgICAgICAgIGlmICh3aW5kb3cualF1ZXJ5KSB7CiAgICAgICAgICAgIHdpbmRvdy5qUXVlcnkoZG9jdW1lbnQpLm9uKAogICAgICAgICAgICAgICJzaG93bi5odG1sd2lkZ2V0cyBzaG93bi5icy50YWIuaHRtbHdpZGdldHMgc2hvd24uYnMuY29sbGFwc2UuaHRtbHdpZGdldHMiLAogICAgICAgICAgICAgIHJlc2l6ZUhhbmRsZXIKICAgICAgICAgICAgKTsKICAgICAgICAgICAgd2luZG93LmpRdWVyeShkb2N1bWVudCkub24oCiAgICAgICAgICAgICAgImhpZGRlbi5odG1sd2lkZ2V0cyBoaWRkZW4uYnMudGFiLmh0bWx3aWRnZXRzIGhpZGRlbi5icy5jb2xsYXBzZS5odG1sd2lkZ2V0cyIsCiAgICAgICAgICAgICAgcmVzaXplSGFuZGxlcgogICAgICAgICAgICApOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIFRoaXMgaXMgbmVlZGVkIGZvciB0aGUgc3BlY2lmaWMgY2FzZSBvZiBpb3NsaWRlcywgd2hpY2gKICAgICAgICAgIC8vIGZsaXBzIHNsaWRlcyBiZXR3ZWVuIGRpc3BsYXk6bm9uZSBhbmQgZGlzcGxheTpibG9jay4KICAgICAgICAgIC8vIElkZWFsbHkgd2Ugd291bGQgbm90IGhhdmUgdG8gaGF2ZSBpb3NsaWRlLXNwZWNpZmljIGNvZGUKICAgICAgICAgIC8vIGhlcmUsIGJ1dCByYXRoZXIgaGF2ZSBpb3NsaWRlcyByYWlzZSBhIGdlbmVyaWMgZXZlbnQsCiAgICAgICAgICAvLyBidXQgdGhlIHJtYXJrZG93biBwYWNrYWdlIGp1c3Qgd2VudCB0byBDUkFOIHNvIHRoZQogICAgICAgICAgLy8gd2luZG93IHRvIGdldHRpbmcgdGhhdCBmaXhlZCBtYXkgYmUgbG9uZy4KICAgICAgICAgIGlmICh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikgewogICAgICAgICAgICAvLyBJdCdzIE9LIHRvIGxpbWl0IHRoaXMgdG8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIKICAgICAgICAgICAgLy8gYnJvd3NlcnMgYmVjYXVzZSBpb3NsaWRlcyBpdHNlbGYgb25seSBzdXBwb3J0cwogICAgICAgICAgICAvLyBzdWNoIGJyb3dzZXJzLgogICAgICAgICAgICBvbihkb2N1bWVudCwgInNsaWRlZW50ZXIiLCByZXNpemVIYW5kbGVyKTsKICAgICAgICAgICAgb24oZG9jdW1lbnQsICJzbGlkZWxlYXZlIiwgcmVzaXplSGFuZGxlcik7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2YXIgc2NyaXB0RGF0YSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInNjcmlwdFtkYXRhLWZvcj0nIiArIGVsLmlkICsgIiddW3R5cGU9J2FwcGxpY2F0aW9uL2pzb24nXSIpOwogICAgICAgIGlmIChzY3JpcHREYXRhKSB7CiAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2Uoc2NyaXB0RGF0YS50ZXh0Q29udGVudCB8fCBzY3JpcHREYXRhLnRleHQpOwogICAgICAgICAgLy8gUmVzb2x2ZSBzdHJpbmdzIG1hcmtlZCBhcyBqYXZhc2NyaXB0IGxpdGVyYWxzIHRvIG9iamVjdHMKICAgICAgICAgIGlmICghKGRhdGEuZXZhbHMgaW5zdGFuY2VvZiBBcnJheSkpIGRhdGEuZXZhbHMgPSBbZGF0YS5ldmFsc107CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgZGF0YS5ldmFscyAmJiBrIDwgZGF0YS5ldmFscy5sZW5ndGg7IGsrKykgewogICAgICAgICAgICB3aW5kb3cuSFRNTFdpZGdldHMuZXZhbHVhdGVTdHJpbmdNZW1iZXIoZGF0YS54LCBkYXRhLmV2YWxzW2tdKTsKICAgICAgICAgIH0KICAgICAgICAgIGJpbmRpbmcucmVuZGVyVmFsdWUoZWwsIGRhdGEueCwgaW5pdFJlc3VsdCk7CiAgICAgICAgICBldmFsQW5kUnVuKGRhdGEuanNIb29rcy5yZW5kZXIsIGluaXRSZXN1bHQsIFtlbCwgZGF0YS54XSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwoKICAgIGludm9rZVBvc3RSZW5kZXJIYW5kbGVycygpOwogIH0KCgogIGZ1bmN0aW9uIGhhc19qUXVlcnkzKCkgewogICAgaWYgKCF3aW5kb3cualF1ZXJ5KSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIHZhciAkdmVyc2lvbiA9IHdpbmRvdy5qUXVlcnkuZm4uanF1ZXJ5OwogICAgdmFyICRtYWpvcl92ZXJzaW9uID0gcGFyc2VJbnQoJHZlcnNpb24uc3BsaXQoIi4iKVswXSk7CiAgICByZXR1cm4gJG1ham9yX3ZlcnNpb24gPj0gMzsKICB9CgogIC8qCiAgLyBTaGlueSAxLjQgYnVtcGVkIGpRdWVyeSBmcm9tIDEueCB0byAzLnggd2hpY2ggbWVhbnMgalF1ZXJ5J3MKICAvIG9uLXJlYWR5IGhhbmRsZXIgKGkuZS4sICQoZm4pKSBpcyBub3cgYXN5bmNyb25vdXMgKGkuZS4sIGl0IG5vdwogIC8gcmVhbGx5IG1lYW5zICQoc2V0VGltZW91dChmbikpLgogIC8gaHR0cHM6Ly9qcXVlcnkuY29tL3VwZ3JhZGUtZ3VpZGUvMy4wLyNicmVha2luZy1jaGFuZ2UtZG9jdW1lbnQtcmVhZHktaGFuZGxlcnMtYXJlLW5vdy1hc3luY2hyb25vdXMKICAvCiAgLyBTaW5jZSBTaGlueSB1c2VzICQoKSB0byBzY2hlZHVsZSBpbml0U2hpbnksIHNoaW55Pj0xLjQgY2FsbHMgaW5pdFNoaW55CiAgLyBvbmUgdGljayBsYXRlciB0aGFuIGl0IGRpZCBiZWZvcmUsIHdoaWNoIG1lYW5zIHN0YXRpY1JlbmRlcigpIGlzCiAgLyBjYWxsZWQgcmVuZGVyVmFsdWUoKSBlYXJsaWVyIHRoYW4gKGFkdmFuY2VkKSB3aWRnZXQgYXV0aG9ycyBtaWdodCBiZSBleHBlY3RpbmcuCiAgLyBodHRwczovL2dpdGh1Yi5jb20vcnN0dWRpby9zaGlueS9pc3N1ZXMvMjYzMAogIC8KICAvIEZvciBhIGNvbmNyZXRlIGV4YW1wbGUsIGxlYWZsZXQgaGFzIHNvbWUgbWV0aG9kcyAoZS5nLiwgdXBkYXRlQm91bmRzKQogIC8gd2hpY2ggcmVmZXJlbmNlIFNoaW55IG1ldGhvZHMgcmVnaXN0ZXJlZCBpbiBpbml0U2hpbnkgKGUuZy4sIHNldElucHV0VmFsdWUpLgogIC8gU2luY2UgbGVhZmxldCBpcyBwcml2eSB0byB0aGlzIGxpZmUtY3ljbGUsIGl0IGtub3dzIHRvIHVzZSBzZXRUaW1lb3V0KCkgdG8KICAvIGRlbGF5IGV4ZWN1dGlvbiBvZiB0aG9zZSBtZXRob2RzICh1bnRpbCBTaGlueSBtZXRob2RzIGFyZSByZWFkeSkKICAvIGh0dHBzOi8vZ2l0aHViLmNvbS9yc3R1ZGlvL2xlYWZsZXQvYmxvYi8xOGVjOTgxL2phdmFzY3JpcHQvc3JjL2luZGV4LmpzI0wyNjYtTDI2OAogIC8KICAvIElkZWFsbHkgd2lkZ2V0IGF1dGhvcnMgd291bGRuJ3QgbmVlZCB0byB1c2UgdGhpcyBzZXRUaW1lb3V0KCkgaGFjayB0aGF0CiAgLyBsZWFmbGV0IHVzZXMgdG8gY2FsbCBTaGlueSBtZXRob2RzIG9uIGEgc3RhdGljUmVuZGVyKCkuIEluIHRoZSBsb25nIHJ1biwKICAvIHRoZSBsb2dpYyBpbml0U2hpbnkgc2hvdWxkIGJlIGJyb2tlbiB1cCBzbyB0aGF0IG1ldGhvZCByZWdpc3RyYXRpb24gaGFwcGVucwogIC8gcmlnaHQgYXdheSwgYnV0IGJpbmRpbmcgaGFwcGVucyBsYXRlci4KICAqLwogIGZ1bmN0aW9uIG1heWJlU3RhdGljUmVuZGVyTGF0ZXIoKSB7CiAgICBpZiAoc2hpbnlNb2RlICYmIGhhc19qUXVlcnkzKCkpIHsKICAgICAgd2luZG93LmpRdWVyeSh3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKTsKICAgIH0gZWxzZSB7CiAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIoKTsKICAgIH0KICB9CgogIGlmIChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKSB7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIiwgZnVuY3Rpb24oKSB7CiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBhcmd1bWVudHMuY2FsbGVlLCBmYWxzZSk7CiAgICAgIG1heWJlU3RhdGljUmVuZGVyTGF0ZXIoKTsKICAgIH0sIGZhbHNlKTsKICB9IGVsc2UgaWYgKGRvY3VtZW50LmF0dGFjaEV2ZW50KSB7CiAgICBkb2N1bWVudC5hdHRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIiwgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAiY29tcGxldGUiKSB7CiAgICAgICAgZG9jdW1lbnQuZGV0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsIGFyZ3VtZW50cy5jYWxsZWUpOwogICAgICAgIG1heWJlU3RhdGljUmVuZGVyTGF0ZXIoKTsKICAgICAgfQogICAgfSk7CiAgfQoKCiAgd2luZG93LkhUTUxXaWRnZXRzLmdldEF0dGFjaG1lbnRVcmwgPSBmdW5jdGlvbihkZXBuYW1lLCBrZXkpIHsKICAgIC8vIElmIG5vIGtleSwgZGVmYXVsdCB0byB0aGUgZmlyc3QgaXRlbQogICAgaWYgKHR5cGVvZihrZXkpID09PSAidW5kZWZpbmVkIikKICAgICAga2V5ID0gMTsKCiAgICB2YXIgbGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRlcG5hbWUgKyAiLSIgKyBrZXkgKyAiLWF0dGFjaG1lbnQiKTsKICAgIGlmICghbGluaykgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIkF0dGFjaG1lbnQgIiArIGRlcG5hbWUgKyAiLyIgKyBrZXkgKyAiIG5vdCBmb3VuZCBpbiBkb2N1bWVudCIpOwogICAgfQogICAgcmV0dXJuIGxpbmsuZ2V0QXR0cmlidXRlKCJocmVmIik7CiAgfTsKCiAgd2luZG93LkhUTUxXaWRnZXRzLmRhdGFmcmFtZVRvRDMgPSBmdW5jdGlvbihkZikgewogICAgdmFyIG5hbWVzID0gW107CiAgICB2YXIgbGVuZ3RoOwogICAgZm9yICh2YXIgbmFtZSBpbiBkZikgewogICAgICAgIGlmIChkZi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkKICAgICAgICAgICAgbmFtZXMucHVzaChuYW1lKTsKICAgICAgICBpZiAodHlwZW9mKGRmW25hbWVdKSAhPT0gIm9iamVjdCIgfHwgdHlwZW9mKGRmW25hbWVdLmxlbmd0aCkgPT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiQWxsIGZpZWxkcyBtdXN0IGJlIGFycmF5cyIpOwogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKGxlbmd0aCkgIT09ICJ1bmRlZmluZWQiICYmIGxlbmd0aCAhPT0gZGZbbmFtZV0ubGVuZ3RoKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiQWxsIGZpZWxkcyBtdXN0IGJlIGFycmF5cyBvZiB0aGUgc2FtZSBsZW5ndGgiKTsKICAgICAgICB9CiAgICAgICAgbGVuZ3RoID0gZGZbbmFtZV0ubGVuZ3RoOwogICAgfQogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIHZhciBpdGVtOwogICAgZm9yICh2YXIgcm93ID0gMDsgcm93IDwgbGVuZ3RoOyByb3crKykgewogICAgICAgIGl0ZW0gPSB7fTsKICAgICAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCBuYW1lcy5sZW5ndGg7IGNvbCsrKSB7CiAgICAgICAgICAgIGl0ZW1bbmFtZXNbY29sXV0gPSBkZltuYW1lc1tjb2xdXVtyb3ddOwogICAgICAgIH0KICAgICAgICByZXN1bHRzLnB1c2goaXRlbSk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9OwoKICB3aW5kb3cuSFRNTFdpZGdldHMudHJhbnNwb3NlQXJyYXkyRCA9IGZ1bmN0aW9uKGFycmF5KSB7CiAgICAgIGlmIChhcnJheS5sZW5ndGggPT09IDApIHJldHVybiBhcnJheTsKICAgICAgdmFyIG5ld0FycmF5ID0gYXJyYXlbMF0ubWFwKGZ1bmN0aW9uKGNvbCwgaSkgewogICAgICAgICAgcmV0dXJuIGFycmF5Lm1hcChmdW5jdGlvbihyb3cpIHsKICAgICAgICAgICAgICByZXR1cm4gcm93W2ldCiAgICAgICAgICB9KQogICAgICB9KTsKICAgICAgcmV0dXJuIG5ld0FycmF5OwogIH07CiAgLy8gU3BsaXQgdmFsdWUgYXQgc3BsaXRDaGFyLCBidXQgYWxsb3cgc3BsaXRDaGFyIHRvIGJlIGVzY2FwZWQKICAvLyB1c2luZyBlc2NhcGVDaGFyLiBBbnkgb3RoZXIgY2hhcmFjdGVycyBlc2NhcGVkIGJ5IGVzY2FwZUNoYXIKICAvLyB3aWxsIGJlIGluY2x1ZGVkIGFzIHVzdWFsIChpbmNsdWRpbmcgZXNjYXBlQ2hhciBpdHNlbGYpLgogIGZ1bmN0aW9uIHNwbGl0V2l0aEVzY2FwZSh2YWx1ZSwgc3BsaXRDaGFyLCBlc2NhcGVDaGFyKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgdmFyIGVzY2FwZU1vZGUgPSBmYWxzZTsKICAgIHZhciBjdXJyZW50UmVzdWx0ID0gIiI7CiAgICBmb3IgKHZhciBwb3MgPSAwOyBwb3MgPCB2YWx1ZS5sZW5ndGg7IHBvcysrKSB7CiAgICAgIGlmICghZXNjYXBlTW9kZSkgewogICAgICAgIGlmICh2YWx1ZVtwb3NdID09PSBzcGxpdENoYXIpIHsKICAgICAgICAgIHJlc3VsdHMucHVzaChjdXJyZW50UmVzdWx0KTsKICAgICAgICAgIGN1cnJlbnRSZXN1bHQgPSAiIjsKICAgICAgICB9IGVsc2UgaWYgKHZhbHVlW3Bvc10gPT09IGVzY2FwZUNoYXIpIHsKICAgICAgICAgIGVzY2FwZU1vZGUgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjdXJyZW50UmVzdWx0ICs9IHZhbHVlW3Bvc107CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGN1cnJlbnRSZXN1bHQgKz0gdmFsdWVbcG9zXTsKICAgICAgICBlc2NhcGVNb2RlID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICAgIGlmIChjdXJyZW50UmVzdWx0ICE9PSAiIikgewogICAgICByZXN1bHRzLnB1c2goY3VycmVudFJlc3VsdCk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9CiAgLy8gRnVuY3Rpb24gYXV0aG9yZWQgYnkgWWlodWkvSkogQWxsYWlyZQogIHdpbmRvdy5IVE1MV2lkZ2V0cy5ldmFsdWF0ZVN0cmluZ01lbWJlciA9IGZ1bmN0aW9uKG8sIG1lbWJlcikgewogICAgdmFyIHBhcnRzID0gc3BsaXRXaXRoRXNjYXBlKG1lbWJlciwgJy4nLCAnXFwnKTsKICAgIGZvciAodmFyIGkgPSAwLCBsID0gcGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgIHZhciBwYXJ0ID0gcGFydHNbaV07CiAgICAgIC8vIHBhcnQgbWF5IGJlIGEgY2hhcmFjdGVyIG9yICdudW1lcmljJyBtZW1iZXIgbmFtZQogICAgICBpZiAobyAhPT0gbnVsbCAmJiB0eXBlb2YgbyA9PT0gIm9iamVjdCIgJiYgcGFydCBpbiBvKSB7CiAgICAgICAgaWYgKGkgPT0gKGwgLSAxKSkgeyAvLyBpZiB3ZSBhcmUgYXQgdGhlIGVuZCBvZiB0aGUgbGluZSB0aGVuIGV2YWx1bGF0ZQogICAgICAgICAgaWYgKHR5cGVvZiBvW3BhcnRdID09PSAic3RyaW5nIikKICAgICAgICAgICAgb1twYXJ0XSA9IHRyeUV2YWwob1twYXJ0XSk7CiAgICAgICAgfSBlbHNlIHsgLy8gb3RoZXJ3aXNlIGNvbnRpbnVlIHRvIG5leHQgZW1iZWRkZWQgb2JqZWN0CiAgICAgICAgICBvID0gb1twYXJ0XTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwoKICAvLyBSZXRyaWV2ZSB0aGUgSFRNTFdpZGdldCBpbnN0YW5jZSAoaS5lLiB0aGUgcmV0dXJuIHZhbHVlIG9mIGFuCiAgLy8gSFRNTFdpZGdldCBiaW5kaW5nJ3MgaW5pdGlhbGl6ZSgpIG9yIGZhY3RvcnkoKSBmdW5jdGlvbikKICAvLyBhc3NvY2lhdGVkIHdpdGggYW4gZWxlbWVudCwgb3IgbnVsbCBpZiBub25lLgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uKGVsKSB7CiAgICByZXR1cm4gZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpOwogIH07CgogIC8vIEZpbmRzIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzY29wZSB0aGF0IG1hdGNoZXMgdGhlIHNlbGVjdG9yLAogIC8vIGFuZCByZXR1cm5zIHRoZSBIVE1MV2lkZ2V0IGluc3RhbmNlIChpLmUuIHRoZSByZXR1cm4gdmFsdWUgb2YKICAvLyBhbiBIVE1MV2lkZ2V0IGJpbmRpbmcncyBpbml0aWFsaXplKCkgb3IgZmFjdG9yeSgpIGZ1bmN0aW9uKQogIC8vIGFzc29jaWF0ZWQgd2l0aCB0aGF0IGVsZW1lbnQsIGlmIGFueS4gSWYgbm8gZWxlbWVudCBtYXRjaGVzIHRoZQogIC8vIHNlbGVjdG9yLCBvciB0aGUgZmlyc3QgbWF0Y2hpbmcgZWxlbWVudCBoYXMgbm8gSFRNTFdpZGdldAogIC8vIGluc3RhbmNlIGFzc29jaWF0ZWQgd2l0aCBpdCwgdGhlbiBudWxsIGlzIHJldHVybmVkLgogIC8vCiAgLy8gVGhlIHNjb3BlIGFyZ3VtZW50IGlzIG9wdGlvbmFsLCBhbmQgZGVmYXVsdHMgdG8gd2luZG93LmRvY3VtZW50LgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5maW5kID0gZnVuY3Rpb24oc2NvcGUsIHNlbGVjdG9yKSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7CiAgICAgIHNlbGVjdG9yID0gc2NvcGU7CiAgICAgIHNjb3BlID0gZG9jdW1lbnQ7CiAgICB9CgogICAgdmFyIGVsID0gc2NvcGUucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7CiAgICBpZiAoZWwgPT09IG51bGwpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd2luZG93LkhUTUxXaWRnZXRzLmdldEluc3RhbmNlKGVsKTsKICAgIH0KICB9OwoKICAvLyBGaW5kcyBhbGwgZWxlbWVudHMgaW4gdGhlIHNjb3BlIHRoYXQgbWF0Y2ggdGhlIHNlbGVjdG9yLCBhbmQKICAvLyByZXR1cm5zIHRoZSBIVE1MV2lkZ2V0IGluc3RhbmNlcyAoaS5lLiB0aGUgcmV0dXJuIHZhbHVlcyBvZgogIC8vIGFuIEhUTUxXaWRnZXQgYmluZGluZydzIGluaXRpYWxpemUoKSBvciBmYWN0b3J5KCkgZnVuY3Rpb24pCiAgLy8gYXNzb2NpYXRlZCB3aXRoIHRoZSBlbGVtZW50cywgaW4gYW4gYXJyYXkuIElmIGVsZW1lbnRzIHRoYXQKICAvLyBtYXRjaCB0aGUgc2VsZWN0b3IgZG9uJ3QgaGF2ZSBhbiBhc3NvY2lhdGVkIEhUTUxXaWRnZXQKICAvLyBpbnN0YW5jZSwgdGhlIHJldHVybmVkIGFycmF5IHdpbGwgY29udGFpbiBudWxscy4KICAvLwogIC8vIFRoZSBzY29wZSBhcmd1bWVudCBpcyBvcHRpb25hbCwgYW5kIGRlZmF1bHRzIHRvIHdpbmRvdy5kb2N1bWVudC4KICB3aW5kb3cuSFRNTFdpZGdldHMuZmluZEFsbCA9IGZ1bmN0aW9uKHNjb3BlLCBzZWxlY3RvcikgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMSkgewogICAgICBzZWxlY3RvciA9IHNjb3BlOwogICAgICBzY29wZSA9IGRvY3VtZW50OwogICAgfQoKICAgIHZhciBub2RlcyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpOwogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHsKICAgICAgcmVzdWx0cy5wdXNoKHdpbmRvdy5IVE1MV2lkZ2V0cy5nZXRJbnN0YW5jZShub2Rlc1tpXSkpOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfTsKCiAgdmFyIHBvc3RSZW5kZXJIYW5kbGVycyA9IFtdOwogIGZ1bmN0aW9uIGludm9rZVBvc3RSZW5kZXJIYW5kbGVycygpIHsKICAgIHdoaWxlIChwb3N0UmVuZGVySGFuZGxlcnMubGVuZ3RoKSB7CiAgICAgIHZhciBoYW5kbGVyID0gcG9zdFJlbmRlckhhbmRsZXJzLnNoaWZ0KCk7CiAgICAgIGlmIChoYW5kbGVyKSB7CiAgICAgICAgaGFuZGxlcigpOwogICAgICB9CiAgICB9CiAgfQoKICAvLyBSZWdpc3RlciB0aGUgZ2l2ZW4gY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgaW52b2tlZCBhZnRlciB0aGUKICAvLyBuZXh0IHRpbWUgc3RhdGljIHdpZGdldHMgYXJlIHJlbmRlcmVkLgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5hZGRQb3N0UmVuZGVySGFuZGxlciA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7CiAgICBwb3N0UmVuZGVySGFuZGxlcnMucHVzaChjYWxsYmFjayk7CiAgfTsKCiAgLy8gVGFrZXMgYSBuZXctc3R5bGUgaW5zdGFuY2UtYm91bmQgZGVmaW5pdGlvbiwgYW5kIHJldHVybnMgYW4KICAvLyBvbGQtc3R5bGUgY2xhc3MtYm91bmQgZGVmaW5pdGlvbi4gVGhpcyBzYXZlcyB1cyBmcm9tIGhhdmluZwogIC8vIHRvIHJld3JpdGUgYWxsIHRoZSBsb2dpYyBpbiB0aGlzIGZpbGUgdG8gYWNjb21vZGF0ZSBib3RoCiAgLy8gdHlwZXMgb2YgZGVmaW5pdGlvbnMuCiAgZnVuY3Rpb24gY3JlYXRlTGVnYWN5RGVmaW5pdGlvbkFkYXB0ZXIoZGVmbikgewogICAgdmFyIHJlc3VsdCA9IHsKICAgICAgbmFtZTogZGVmbi5uYW1lLAogICAgICB0eXBlOiBkZWZuLnR5cGUsCiAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGVsLCB3aWR0aCwgaGVpZ2h0KSB7CiAgICAgICAgcmV0dXJuIGRlZm4uZmFjdG9yeShlbCwgd2lkdGgsIGhlaWdodCk7CiAgICAgIH0sCiAgICAgIHJlbmRlclZhbHVlOiBmdW5jdGlvbihlbCwgeCwgaW5zdGFuY2UpIHsKICAgICAgICByZXR1cm4gaW5zdGFuY2UucmVuZGVyVmFsdWUoeCk7CiAgICAgIH0sCiAgICAgIHJlc2l6ZTogZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQsIGluc3RhbmNlKSB7CiAgICAgICAgcmV0dXJuIGluc3RhbmNlLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTsKICAgICAgfQogICAgfTsKCiAgICBpZiAoZGVmbi5maW5kKQogICAgICByZXN1bHQuZmluZCA9IGRlZm4uZmluZDsKICAgIGlmIChkZWZuLnJlbmRlckVycm9yKQogICAgICByZXN1bHQucmVuZGVyRXJyb3IgPSBkZWZuLnJlbmRlckVycm9yOwogICAgaWYgKGRlZm4uY2xlYXJFcnJvcikKICAgICAgcmVzdWx0LmNsZWFyRXJyb3IgPSBkZWZuLmNsZWFyRXJyb3I7CgogICAgcmV0dXJuIHJlc3VsdDsKICB9Cn0pKCk7Cgo="></script>
<script src="data:application/javascript;base64,Ci8qCiogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZQoqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQoqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uCiogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQoqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUKKiAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlCiogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywKKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbgoqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQoqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQoqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMKKiB1bmRlciB0aGUgTGljZW5zZS4KKi8KCiFmdW5jdGlvbih0LGUpeyJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGU/ZShleHBvcnRzKToiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbImV4cG9ydHMiXSxlKTplKCh0PSJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOnR8fHNlbGYpLmVjaGFydHM9e30pfSh0aGlzLChmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7Ci8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uCgogICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55CiAgICBwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuCgogICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEgKICAgIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWQogICAgQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULAogICAgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NCiAgICBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUgogICAgT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUgogICAgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS4KICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovdmFyIGU9ZnVuY3Rpb24odCxuKXtyZXR1cm4oZT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSl9KSh0LG4pfTtmdW5jdGlvbiBuKHQsbil7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIG4mJm51bGwhPT1uKXRocm93IG5ldyBUeXBlRXJyb3IoIkNsYXNzIGV4dGVuZHMgdmFsdWUgIitTdHJpbmcobikrIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsIik7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9dH1lKHQsbiksdC5wcm90b3R5cGU9bnVsbD09PW4/T2JqZWN0LmNyZWF0ZShuKTooaS5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IGkpfXZhciBpPWZ1bmN0aW9uKCl7cmV0dXJuKGk9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49MSxpPWFyZ3VtZW50cy5sZW5ndGg7bjxpO24rKylmb3IodmFyIHIgaW4gZT1hcmd1bWVudHNbbl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtmdW5jdGlvbiByKHQsZSxuKXtpZihufHwyPT09YXJndW1lbnRzLmxlbmd0aClmb3IodmFyIGkscj0wLG89ZS5sZW5ndGg7cjxvO3IrKykhaSYmciBpbiBlfHwoaXx8KGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSwwLHIpKSxpW3JdPWVbcl0pO3JldHVybiB0LmNvbmNhdChpfHxlKX12YXIgbz1mdW5jdGlvbigpe3RoaXMuZmlyZWZveD0hMSx0aGlzLmllPSExLHRoaXMuZWRnZT0hMSx0aGlzLm5ld0VkZ2U9ITEsdGhpcy53ZUNoYXQ9ITF9LGE9bmV3IGZ1bmN0aW9uKCl7dGhpcy5icm93c2VyPW5ldyBvLHRoaXMubm9kZT0hMSx0aGlzLnd4YT0hMSx0aGlzLndvcmtlcj0hMSx0aGlzLmNhbnZhc1N1cHBvcnRlZD0hMSx0aGlzLnN2Z1N1cHBvcnRlZD0hMSx0aGlzLnRvdWNoRXZlbnRzU3VwcG9ydGVkPSExLHRoaXMucG9pbnRlckV2ZW50c1N1cHBvcnRlZD0hMSx0aGlzLmRvbVN1cHBvcnRlZD0hMSx0aGlzLnRyYW5zZm9ybVN1cHBvcnRlZD0hMSx0aGlzLnRyYW5zZm9ybTNkU3VwcG9ydGVkPSExfTsib2JqZWN0Ij09dHlwZW9mIHd4JiYiZnVuY3Rpb24iPT10eXBlb2Ygd3guZ2V0U3lzdGVtSW5mb1N5bmM/KGEud3hhPSEwLGEuY2FudmFzU3VwcG9ydGVkPSEwLGEudG91Y2hFdmVudHNTdXBwb3J0ZWQ9ITApOiJ1bmRlZmluZWQiPT10eXBlb2YgZG9jdW1lbnQmJiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj8oYS53b3JrZXI9ITAsYS5jYW52YXNTdXBwb3J0ZWQ9ITApOiJ1bmRlZmluZWQiPT10eXBlb2YgbmF2aWdhdG9yPyhhLm5vZGU9ITAsYS5jYW52YXNTdXBwb3J0ZWQ9ITAsYS5zdmdTdXBwb3J0ZWQ9ITApOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5icm93c2VyLGk9dC5tYXRjaCgvRmlyZWZveFwvKFtcZC5dKykvKSxyPXQubWF0Y2goL01TSUVccyhbXGQuXSspLyl8fHQubWF0Y2goL1RyaWRlbnRcLy4rP3J2OigoW1xkLl0rKSkvKSxvPXQubWF0Y2goL0VkZ2U/XC8oW1xkLl0rKS8pLGE9L21pY3JvbWVzc2VuZ2VyL2kudGVzdCh0KTtpJiYobi5maXJlZm94PSEwLG4udmVyc2lvbj1pWzFdKTtyJiYobi5pZT0hMCxuLnZlcnNpb249clsxXSk7byYmKG4uZWRnZT0hMCxuLnZlcnNpb249b1sxXSxuLm5ld0VkZ2U9K29bMV0uc3BsaXQoIi4iKVswXT4xOCk7YSYmKG4ud2VDaGF0PSEwKTtlLmNhbnZhc1N1cHBvcnRlZD0hIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLmdldENvbnRleHQsZS5zdmdTdXBwb3J0ZWQ9InVuZGVmaW5lZCIhPXR5cGVvZiBTVkdSZWN0LGUudG91Y2hFdmVudHNTdXBwb3J0ZWQ9Im9udG91Y2hzdGFydCJpbiB3aW5kb3cmJiFuLmllJiYhbi5lZGdlLGUucG9pbnRlckV2ZW50c1N1cHBvcnRlZD0ib25wb2ludGVyZG93biJpbiB3aW5kb3cmJihuLmVkZ2V8fG4uaWUmJituLnZlcnNpb24+PTExKSxlLmRvbVN1cHBvcnRlZD0idW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50O3ZhciBzPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZTtlLnRyYW5zZm9ybTNkU3VwcG9ydGVkPShuLmllJiYidHJhbnNpdGlvbiJpbiBzfHxuLmVkZ2V8fCJXZWJLaXRDU1NNYXRyaXgiaW4gd2luZG93JiYibTExImluIG5ldyBXZWJLaXRDU1NNYXRyaXh8fCJNb3pQZXJzcGVjdGl2ZSJpbiBzKSYmISgiT1RyYW5zaXRpb24iaW4gcyksZS50cmFuc2Zvcm1TdXBwb3J0ZWQ9ZS50cmFuc2Zvcm0zZFN1cHBvcnRlZHx8bi5pZSYmK24udmVyc2lvbj49OX0obmF2aWdhdG9yLnVzZXJBZ2VudCxhKTt2YXIgcz17IltvYmplY3QgRnVuY3Rpb25dIjohMCwiW29iamVjdCBSZWdFeHBdIjohMCwiW29iamVjdCBEYXRlXSI6ITAsIltvYmplY3QgRXJyb3JdIjohMCwiW29iamVjdCBDYW52YXNHcmFkaWVudF0iOiEwLCJbb2JqZWN0IENhbnZhc1BhdHRlcm5dIjohMCwiW29iamVjdCBJbWFnZV0iOiEwLCJbb2JqZWN0IENhbnZhc10iOiEwfSxsPXsiW29iamVjdCBJbnQ4QXJyYXldIjohMCwiW29iamVjdCBVaW50OEFycmF5XSI6ITAsIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldIjohMCwiW29iamVjdCBJbnQxNkFycmF5XSI6ITAsIltvYmplY3QgVWludDE2QXJyYXldIjohMCwiW29iamVjdCBJbnQzMkFycmF5XSI6ITAsIltvYmplY3QgVWludDMyQXJyYXldIjohMCwiW29iamVjdCBGbG9hdDMyQXJyYXldIjohMCwiW29iamVjdCBGbG9hdDY0QXJyYXldIjohMH0sdT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGg9QXJyYXkucHJvdG90eXBlLGM9aC5mb3JFYWNoLHA9aC5maWx0ZXIsZD1oLnNsaWNlLGY9aC5tYXAsZz1mdW5jdGlvbigpe30uY29uc3RydWN0b3IseT1nP2cucHJvdG90eXBlOm51bGwsdj0iX19wcm90b19fIixtPXt9O2Z1bmN0aW9uIF8odCxlKXttW3RdPWV9dmFyIHg9MjMxMTtmdW5jdGlvbiBiKCl7cmV0dXJuIHgrK31mdW5jdGlvbiB3KCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdOyJ1bmRlZmluZWQiIT10eXBlb2YgY29uc29sZSYmY29uc29sZS5lcnJvci5hcHBseShjb25zb2xlLHQpfWZ1bmN0aW9uIFModCl7aWYobnVsbD09dHx8Im9iamVjdCIhPXR5cGVvZiB0KXJldHVybiB0O3ZhciBlPXQsbj11LmNhbGwodCk7aWYoIltvYmplY3QgQXJyYXldIj09PW4pe2lmKCF1dCh0KSl7ZT1bXTtmb3IodmFyIGk9MCxyPXQubGVuZ3RoO2k8cjtpKyspZVtpXT1TKHRbaV0pfX1lbHNlIGlmKGxbbl0pe2lmKCF1dCh0KSl7dmFyIG89dC5jb25zdHJ1Y3RvcjtpZihvLmZyb20pZT1vLmZyb20odCk7ZWxzZXtlPW5ldyBvKHQubGVuZ3RoKTtmb3IoaT0wLHI9dC5sZW5ndGg7aTxyO2krKyllW2ldPVModFtpXSl9fX1lbHNlIGlmKCFzW25dJiYhdXQodCkmJiFxKHQpKWZvcih2YXIgYSBpbiBlPXt9LHQpdC5oYXNPd25Qcm9wZXJ0eShhKSYmYSE9PXYmJihlW2FdPVModFthXSkpO3JldHVybiBlfWZ1bmN0aW9uIE0odCxlLG4pe2lmKCFZKGUpfHwhWSh0KSlyZXR1cm4gbj9TKGUpOnQ7Zm9yKHZhciBpIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShpKSYmaSE9PXYpe3ZhciByPXRbaV0sbz1lW2ldOyFZKG8pfHwhWShyKXx8RihvKXx8RihyKXx8cShvKXx8cShyKXx8WihvKXx8WihyKXx8dXQobyl8fHV0KHIpPyFuJiZpIGluIHR8fCh0W2ldPVMoZVtpXSkpOk0ocixvLG4pfXJldHVybiB0fWZ1bmN0aW9uIEkodCxlKXtmb3IodmFyIG49dFswXSxpPTEscj10Lmxlbmd0aDtpPHI7aSsrKW49TShuLHRbaV0sZSk7cmV0dXJuIG59ZnVuY3Rpb24gVCh0LGUpe2lmKE9iamVjdC5hc3NpZ24pT2JqZWN0LmFzc2lnbih0LGUpO2Vsc2UgZm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmbiE9PXYmJih0W25dPWVbbl0pO3JldHVybiB0fWZ1bmN0aW9uIEModCxlLG4pe2Zvcih2YXIgaT1WKGUpLHI9MDtyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXTsobj9udWxsIT1lW29dOm51bGw9PXRbb10pJiYodFtvXT1lW29dKX1yZXR1cm4gdH12YXIgRD1mdW5jdGlvbigpe3JldHVybiBtLmNyZWF0ZUNhbnZhcygpfTtmdW5jdGlvbiBBKHQsZSl7aWYodCl7aWYodC5pbmRleE9mKXJldHVybiB0LmluZGV4T2YoZSk7Zm9yKHZhciBuPTAsaT10Lmxlbmd0aDtuPGk7bisrKWlmKHRbbl09PT1lKXJldHVybiBufXJldHVybi0xfWZ1bmN0aW9uIGsodCxlKXt2YXIgbj10LnByb3RvdHlwZTtmdW5jdGlvbiBpKCl7fWZvcih2YXIgciBpbiBpLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgaSxuKW4uaGFzT3duUHJvcGVydHkocikmJih0LnByb3RvdHlwZVtyXT1uW3JdKTt0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10LHQuc3VwZXJDbGFzcz1lfWZ1bmN0aW9uIEwodCxlLG4pe2lmKHQ9InByb3RvdHlwZSJpbiB0P3QucHJvdG90eXBlOnQsZT0icHJvdG90eXBlImluIGU/ZS5wcm90b3R5cGU6ZSxPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcylmb3IodmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSkscj0wO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdOyJjb25zdHJ1Y3RvciIhPT1vJiYobj9udWxsIT1lW29dOm51bGw9PXRbb10pJiYodFtvXT1lW29dKX1lbHNlIEModCxlLG4pfWZ1bmN0aW9uIFAodCl7cmV0dXJuISF0JiYoInN0cmluZyIhPXR5cGVvZiB0JiYibnVtYmVyIj09dHlwZW9mIHQubGVuZ3RoKX1mdW5jdGlvbiBPKHQsZSxuKXtpZih0JiZlKWlmKHQuZm9yRWFjaCYmdC5mb3JFYWNoPT09Yyl0LmZvckVhY2goZSxuKTtlbHNlIGlmKHQubGVuZ3RoPT09K3QubGVuZ3RoKWZvcih2YXIgaT0wLHI9dC5sZW5ndGg7aTxyO2krKyllLmNhbGwobix0W2ldLGksdCk7ZWxzZSBmb3IodmFyIG8gaW4gdCl0Lmhhc093blByb3BlcnR5KG8pJiZlLmNhbGwobix0W29dLG8sdCl9ZnVuY3Rpb24gUih0LGUsbil7aWYoIXQpcmV0dXJuW107aWYoIWUpcmV0dXJuIGl0KHQpO2lmKHQubWFwJiZ0Lm1hcD09PWYpcmV0dXJuIHQubWFwKGUsbik7Zm9yKHZhciBpPVtdLHI9MCxvPXQubGVuZ3RoO3I8bztyKyspaS5wdXNoKGUuY2FsbChuLHRbcl0scix0KSk7cmV0dXJuIGl9ZnVuY3Rpb24gTih0LGUsbixpKXtpZih0JiZlKXtmb3IodmFyIHI9MCxvPXQubGVuZ3RoO3I8bztyKyspbj1lLmNhbGwoaSxuLHRbcl0scix0KTtyZXR1cm4gbn19ZnVuY3Rpb24geih0LGUsbil7aWYoIXQpcmV0dXJuW107aWYoIWUpcmV0dXJuIGl0KHQpO2lmKHQuZmlsdGVyJiZ0LmZpbHRlcj09PXApcmV0dXJuIHQuZmlsdGVyKGUsbik7Zm9yKHZhciBpPVtdLHI9MCxvPXQubGVuZ3RoO3I8bztyKyspZS5jYWxsKG4sdFtyXSxyLHQpJiZpLnB1c2godFtyXSk7cmV0dXJuIGl9ZnVuY3Rpb24gRSh0LGUsbil7aWYodCYmZSlmb3IodmFyIGk9MCxyPXQubGVuZ3RoO2k8cjtpKyspaWYoZS5jYWxsKG4sdFtpXSxpLHQpKXJldHVybiB0W2ldfWZ1bmN0aW9uIFYodCl7aWYoIXQpcmV0dXJuW107aWYoT2JqZWN0LmtleXMpcmV0dXJuIE9iamVjdC5rZXlzKHQpO3ZhciBlPVtdO2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJmUucHVzaChuKTtyZXR1cm4gZX1tLmNyZWF0ZUNhbnZhcz1mdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKX07dmFyIEI9eSYmSCh5LmJpbmQpP3kuY2FsbC5iaW5kKHkuYmluZCk6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49W10saT0yO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspbltpLTJdPWFyZ3VtZW50c1tpXTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLG4uY29uY2F0KGQuY2FsbChhcmd1bWVudHMpKSl9fTtmdW5jdGlvbiBHKHQpe2Zvcih2YXIgZT1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyllW24tMV09YXJndW1lbnRzW25dO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KHRoaXMsZS5jb25jYXQoZC5jYWxsKGFyZ3VtZW50cykpKX19ZnVuY3Rpb24gRih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheT9BcnJheS5pc0FycmF5KHQpOiJbb2JqZWN0IEFycmF5XSI9PT11LmNhbGwodCl9ZnVuY3Rpb24gSCh0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdH1mdW5jdGlvbiBXKHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdH1mdW5jdGlvbiBVKHQpe3JldHVybiJbb2JqZWN0IFN0cmluZ10iPT09dS5jYWxsKHQpfWZ1bmN0aW9uIFgodCl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiB0fWZ1bmN0aW9uIFkodCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuImZ1bmN0aW9uIj09PWV8fCEhdCYmIm9iamVjdCI9PT1lfWZ1bmN0aW9uIFoodCl7cmV0dXJuISFzW3UuY2FsbCh0KV19ZnVuY3Rpb24gaih0KXtyZXR1cm4hIWxbdS5jYWxsKHQpXX1mdW5jdGlvbiBxKHQpe3JldHVybiJvYmplY3QiPT10eXBlb2YgdCYmIm51bWJlciI9PXR5cGVvZiB0Lm5vZGVUeXBlJiYib2JqZWN0Ij09dHlwZW9mIHQub3duZXJEb2N1bWVudH1mdW5jdGlvbiBLKHQpe3JldHVybiBudWxsIT10LmNvbG9yU3RvcHN9ZnVuY3Rpb24gJCh0KXtyZXR1cm4gbnVsbCE9dC5pbWFnZX1mdW5jdGlvbiBKKHQpe3JldHVybiJbb2JqZWN0IFJlZ0V4cF0iPT09dS5jYWxsKHQpfWZ1bmN0aW9uIFEodCl7cmV0dXJuIHQhPXR9ZnVuY3Rpb24gdHQoKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07Zm9yKHZhciBuPTAsaT10Lmxlbmd0aDtuPGk7bisrKWlmKG51bGwhPXRbbl0pcmV0dXJuIHRbbl19ZnVuY3Rpb24gZXQodCxlKXtyZXR1cm4gbnVsbCE9dD90OmV9ZnVuY3Rpb24gbnQodCxlLG4pe3JldHVybiBudWxsIT10P3Q6bnVsbCE9ZT9lOm59ZnVuY3Rpb24gaXQodCl7Zm9yKHZhciBlPVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbi0xXT1hcmd1bWVudHNbbl07cmV0dXJuIGQuYXBwbHkodCxlKX1mdW5jdGlvbiBydCh0KXtpZigibnVtYmVyIj09dHlwZW9mIHQpcmV0dXJuW3QsdCx0LHRdO3ZhciBlPXQubGVuZ3RoO3JldHVybiAyPT09ZT9bdFswXSx0WzFdLHRbMF0sdFsxXV06Mz09PWU/W3RbMF0sdFsxXSx0WzJdLHRbMV1dOnR9ZnVuY3Rpb24gb3QodCxlKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoZSl9ZnVuY3Rpb24gYXQodCl7cmV0dXJuIG51bGw9PXQ/bnVsbDoiZnVuY3Rpb24iPT10eXBlb2YgdC50cmltP3QudHJpbSgpOnQucmVwbGFjZSgvXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2csIiIpfXZhciBzdD0iX19lY19wcmltaXRpdmVfXyI7ZnVuY3Rpb24gbHQodCl7dFtzdF09ITB9ZnVuY3Rpb24gdXQodCl7cmV0dXJuIHRbc3RdfXZhciBodD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dGhpcy5kYXRhPXt9O3ZhciBuPUYoZSk7dGhpcy5kYXRhPXt9O3ZhciBpPXRoaXM7ZnVuY3Rpb24gcih0LGUpe24/aS5zZXQodCxlKTppLnNldChlLHQpfWUgaW5zdGFuY2VvZiB0P2UuZWFjaChyKTplJiZPKGUscil9cmV0dXJuIHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kYXRhLmhhc093blByb3BlcnR5KHQpP3RoaXMuZGF0YVt0XTpudWxsfSx0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5kYXRhW3RdPWV9LHQucHJvdG90eXBlLmVhY2g9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gdGhpcy5kYXRhKXRoaXMuZGF0YS5oYXNPd25Qcm9wZXJ0eShuKSYmdC5jYWxsKGUsdGhpcy5kYXRhW25dLG4pfSx0LnByb3RvdHlwZS5rZXlzPWZ1bmN0aW9uKCl7cmV0dXJuIFYodGhpcy5kYXRhKX0sdC5wcm90b3R5cGUucmVtb3ZlS2V5PWZ1bmN0aW9uKHQpe2RlbGV0ZSB0aGlzLmRhdGFbdF19LHR9KCk7ZnVuY3Rpb24gY3QodCl7cmV0dXJuIG5ldyBodCh0KX1mdW5jdGlvbiBwdCh0LGUpe2Zvcih2YXIgbj1uZXcgdC5jb25zdHJ1Y3Rvcih0Lmxlbmd0aCtlLmxlbmd0aCksaT0wO2k8dC5sZW5ndGg7aSsrKW5baV09dFtpXTt2YXIgcj10Lmxlbmd0aDtmb3IoaT0wO2k8ZS5sZW5ndGg7aSsrKW5baStyXT1lW2ldO3JldHVybiBufWZ1bmN0aW9uIGR0KHQsZSl7dmFyIG47aWYoT2JqZWN0LmNyZWF0ZSluPU9iamVjdC5jcmVhdGUodCk7ZWxzZXt2YXIgaT1mdW5jdGlvbigpe307aS5wcm90b3R5cGU9dCxuPW5ldyBpfXJldHVybiBlJiZUKG4sZSksbn1mdW5jdGlvbiBmdCh0LGUpe3JldHVybiB0Lmhhc093blByb3BlcnR5KGUpfWZ1bmN0aW9uIGd0KCl7fXZhciB5dD1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCwkb3ZlcnJpZGU6XyxndWlkOmIsbG9nRXJyb3I6dyxjbG9uZTpTLG1lcmdlOk0sbWVyZ2VBbGw6SSxleHRlbmQ6VCxkZWZhdWx0czpDLGNyZWF0ZUNhbnZhczpELGluZGV4T2Y6QSxpbmhlcml0czprLG1peGluOkwsaXNBcnJheUxpa2U6UCxlYWNoOk8sbWFwOlIscmVkdWNlOk4sZmlsdGVyOnosZmluZDpFLGtleXM6VixiaW5kOkIsY3Vycnk6Ryxpc0FycmF5OkYsaXNGdW5jdGlvbjpILGlzU3RyaW5nOlcsaXNTdHJpbmdTYWZlOlUsaXNOdW1iZXI6WCxpc09iamVjdDpZLGlzQnVpbHRJbk9iamVjdDpaLGlzVHlwZWRBcnJheTpqLGlzRG9tOnEsaXNHcmFkaWVudE9iamVjdDpLLGlzSW1hZ2VQYXR0ZXJuT2JqZWN0OiQsaXNSZWdFeHA6SixlcU5hTjpRLHJldHJpZXZlOnR0LHJldHJpZXZlMjpldCxyZXRyaWV2ZTM6bnQsc2xpY2U6aXQsbm9ybWFsaXplQ3NzQXJyYXk6cnQsYXNzZXJ0Om90LHRyaW06YXQsc2V0QXNQcmltaXRpdmU6bHQsaXNQcmltaXRpdmU6dXQsSGFzaE1hcDpodCxjcmVhdGVIYXNoTWFwOmN0LGNvbmNhdEFycmF5OnB0LGNyZWF0ZU9iamVjdDpkdCxoYXNPd246ZnQsbm9vcDpndH0pO2Z1bmN0aW9uIHZ0KHQsZSl7cmV0dXJuIG51bGw9PXQmJih0PTApLG51bGw9PWUmJihlPTApLFt0LGVdfWZ1bmN0aW9uIG10KHQsZSl7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdH1mdW5jdGlvbiBfdCh0KXtyZXR1cm5bdFswXSx0WzFdXX1mdW5jdGlvbiB4dCh0LGUsbil7cmV0dXJuIHRbMF09ZSx0WzFdPW4sdH1mdW5jdGlvbiBidCh0LGUsbil7cmV0dXJuIHRbMF09ZVswXStuWzBdLHRbMV09ZVsxXStuWzFdLHR9ZnVuY3Rpb24gd3QodCxlLG4saSl7cmV0dXJuIHRbMF09ZVswXStuWzBdKmksdFsxXT1lWzFdK25bMV0qaSx0fWZ1bmN0aW9uIFN0KHQsZSxuKXtyZXR1cm4gdFswXT1lWzBdLW5bMF0sdFsxXT1lWzFdLW5bMV0sdH1mdW5jdGlvbiBNdCh0KXtyZXR1cm4gTWF0aC5zcXJ0KFR0KHQpKX12YXIgSXQ9TXQ7ZnVuY3Rpb24gVHQodCl7cmV0dXJuIHRbMF0qdFswXSt0WzFdKnRbMV19dmFyIEN0PVR0O2Z1bmN0aW9uIER0KHQsZSxuKXtyZXR1cm4gdFswXT1lWzBdKm4sdFsxXT1lWzFdKm4sdH1mdW5jdGlvbiBBdCh0LGUpe3ZhciBuPU10KGUpO3JldHVybiAwPT09bj8odFswXT0wLHRbMV09MCk6KHRbMF09ZVswXS9uLHRbMV09ZVsxXS9uKSx0fWZ1bmN0aW9uIGt0KHQsZSl7cmV0dXJuIE1hdGguc3FydCgodFswXS1lWzBdKSoodFswXS1lWzBdKSsodFsxXS1lWzFdKSoodFsxXS1lWzFdKSl9dmFyIEx0PWt0O2Z1bmN0aW9uIFB0KHQsZSl7cmV0dXJuKHRbMF0tZVswXSkqKHRbMF0tZVswXSkrKHRbMV0tZVsxXSkqKHRbMV0tZVsxXSl9dmFyIE90PVB0O2Z1bmN0aW9uIFJ0KHQsZSxuLGkpe3JldHVybiB0WzBdPWVbMF0raSooblswXS1lWzBdKSx0WzFdPWVbMV0raSooblsxXS1lWzFdKSx0fWZ1bmN0aW9uIE50KHQsZSxuKXt2YXIgaT1lWzBdLHI9ZVsxXTtyZXR1cm4gdFswXT1uWzBdKmkrblsyXSpyK25bNF0sdFsxXT1uWzFdKmkrblszXSpyK25bNV0sdH1mdW5jdGlvbiB6dCh0LGUsbil7cmV0dXJuIHRbMF09TWF0aC5taW4oZVswXSxuWzBdKSx0WzFdPU1hdGgubWluKGVbMV0sblsxXSksdH1mdW5jdGlvbiBFdCh0LGUsbil7cmV0dXJuIHRbMF09TWF0aC5tYXgoZVswXSxuWzBdKSx0WzFdPU1hdGgubWF4KGVbMV0sblsxXSksdH12YXIgVnQ9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsY3JlYXRlOnZ0LGNvcHk6bXQsY2xvbmU6X3Qsc2V0Onh0LGFkZDpidCxzY2FsZUFuZEFkZDp3dCxzdWI6U3QsbGVuOk10LGxlbmd0aDpJdCxsZW5TcXVhcmU6VHQsbGVuZ3RoU3F1YXJlOkN0LG11bDpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbMF09ZVswXSpuWzBdLHRbMV09ZVsxXSpuWzFdLHR9LGRpdjpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbMF09ZVswXS9uWzBdLHRbMV09ZVsxXS9uWzFdLHR9LGRvdDpmdW5jdGlvbih0LGUpe3JldHVybiB0WzBdKmVbMF0rdFsxXSplWzFdfSxzY2FsZTpEdCxub3JtYWxpemU6QXQsZGlzdGFuY2U6a3QsZGlzdDpMdCxkaXN0YW5jZVNxdWFyZTpQdCxkaXN0U3F1YXJlOk90LG5lZ2F0ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0WzBdPS1lWzBdLHRbMV09LWVbMV0sdH0sbGVycDpSdCxhcHBseVRyYW5zZm9ybTpOdCxtaW46enQsbWF4OkV0fSksQnQ9ZnVuY3Rpb24odCxlKXt0aGlzLnRhcmdldD10LHRoaXMudG9wVGFyZ2V0PWUmJmUudG9wVGFyZ2V0fSxHdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5oYW5kbGVyPXQsdC5vbigibW91c2Vkb3duIix0aGlzLl9kcmFnU3RhcnQsdGhpcyksdC5vbigibW91c2Vtb3ZlIix0aGlzLl9kcmFnLHRoaXMpLHQub24oIm1vdXNldXAiLHRoaXMuX2RyYWdFbmQsdGhpcyl9cmV0dXJuIHQucHJvdG90eXBlLl9kcmFnU3RhcnQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQudGFyZ2V0O2UmJiFlLmRyYWdnYWJsZTspZT1lLnBhcmVudDtlJiYodGhpcy5fZHJhZ2dpbmdUYXJnZXQ9ZSxlLmRyYWdnaW5nPSEwLHRoaXMuX3g9dC5vZmZzZXRYLHRoaXMuX3k9dC5vZmZzZXRZLHRoaXMuaGFuZGxlci5kaXNwYXRjaFRvRWxlbWVudChuZXcgQnQoZSx0KSwiZHJhZ3N0YXJ0Iix0LmV2ZW50KSl9LHQucHJvdG90eXBlLl9kcmFnPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2RyYWdnaW5nVGFyZ2V0O2lmKGUpe3ZhciBuPXQub2Zmc2V0WCxpPXQub2Zmc2V0WSxyPW4tdGhpcy5feCxvPWktdGhpcy5feTt0aGlzLl94PW4sdGhpcy5feT1pLGUuZHJpZnQocixvLHQpLHRoaXMuaGFuZGxlci5kaXNwYXRjaFRvRWxlbWVudChuZXcgQnQoZSx0KSwiZHJhZyIsdC5ldmVudCk7dmFyIGE9dGhpcy5oYW5kbGVyLmZpbmRIb3ZlcihuLGksZSkudGFyZ2V0LHM9dGhpcy5fZHJvcFRhcmdldDt0aGlzLl9kcm9wVGFyZ2V0PWEsZSE9PWEmJihzJiZhIT09cyYmdGhpcy5oYW5kbGVyLmRpc3BhdGNoVG9FbGVtZW50KG5ldyBCdChzLHQpLCJkcmFnbGVhdmUiLHQuZXZlbnQpLGEmJmEhPT1zJiZ0aGlzLmhhbmRsZXIuZGlzcGF0Y2hUb0VsZW1lbnQobmV3IEJ0KGEsdCksImRyYWdlbnRlciIsdC5ldmVudCkpfX0sdC5wcm90b3R5cGUuX2RyYWdFbmQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZHJhZ2dpbmdUYXJnZXQ7ZSYmKGUuZHJhZ2dpbmc9ITEpLHRoaXMuaGFuZGxlci5kaXNwYXRjaFRvRWxlbWVudChuZXcgQnQoZSx0KSwiZHJhZ2VuZCIsdC5ldmVudCksdGhpcy5fZHJvcFRhcmdldCYmdGhpcy5oYW5kbGVyLmRpc3BhdGNoVG9FbGVtZW50KG5ldyBCdCh0aGlzLl9kcm9wVGFyZ2V0LHQpLCJkcm9wIix0LmV2ZW50KSx0aGlzLl9kcmFnZ2luZ1RhcmdldD1udWxsLHRoaXMuX2Ryb3BUYXJnZXQ9bnVsbH0sdH0oKSxGdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dCYmKHRoaXMuXyRldmVudFByb2Nlc3Nvcj10KX1yZXR1cm4gdC5wcm90b3R5cGUub249ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5fJGhhbmRsZXJzfHwodGhpcy5fJGhhbmRsZXJzPXt9KTt2YXIgcj10aGlzLl8kaGFuZGxlcnM7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUmJihpPW4sbj1lLGU9bnVsbCksIW58fCF0KXJldHVybiB0aGlzO3ZhciBvPXRoaXMuXyRldmVudFByb2Nlc3NvcjtudWxsIT1lJiZvJiZvLm5vcm1hbGl6ZVF1ZXJ5JiYoZT1vLm5vcm1hbGl6ZVF1ZXJ5KGUpKSxyW3RdfHwoclt0XT1bXSk7Zm9yKHZhciBhPTA7YTxyW3RdLmxlbmd0aDthKyspaWYoclt0XVthXS5oPT09bilyZXR1cm4gdGhpczt2YXIgcz17aDpuLHF1ZXJ5OmUsY3R4Oml8fHRoaXMsY2FsbEF0TGFzdDpuLnpyRXZlbnRmdWxDYWxsQXRMYXN0fSxsPXJbdF0ubGVuZ3RoLTEsdT1yW3RdW2xdO3JldHVybiB1JiZ1LmNhbGxBdExhc3Q/clt0XS5zcGxpY2UobCwwLHMpOnJbdF0ucHVzaChzKSx0aGlzfSx0LnByb3RvdHlwZS5pc1NpbGVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl8kaGFuZGxlcnM7cmV0dXJuIWV8fCFlW3RdfHwhZVt0XS5sZW5ndGh9LHQucHJvdG90eXBlLm9mZj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuXyRoYW5kbGVycztpZighbilyZXR1cm4gdGhpcztpZighdClyZXR1cm4gdGhpcy5fJGhhbmRsZXJzPXt9LHRoaXM7aWYoZSl7aWYoblt0XSl7Zm9yKHZhciBpPVtdLHI9MCxvPW5bdF0ubGVuZ3RoO3I8bztyKyspblt0XVtyXS5oIT09ZSYmaS5wdXNoKG5bdF1bcl0pO25bdF09aX1uW3RdJiYwPT09blt0XS5sZW5ndGgmJmRlbGV0ZSBuW3RdfWVsc2UgZGVsZXRlIG5bdF07cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLnRyaWdnZXI9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbi0xXT1hcmd1bWVudHNbbl07aWYoIXRoaXMuXyRoYW5kbGVycylyZXR1cm4gdGhpczt2YXIgaT10aGlzLl8kaGFuZGxlcnNbdF0scj10aGlzLl8kZXZlbnRQcm9jZXNzb3I7aWYoaSlmb3IodmFyIG89ZS5sZW5ndGgsYT1pLmxlbmd0aCxzPTA7czxhO3MrKyl7dmFyIGw9aVtzXTtpZighcnx8IXIuZmlsdGVyfHxudWxsPT1sLnF1ZXJ5fHxyLmZpbHRlcih0LGwucXVlcnkpKXN3aXRjaChvKXtjYXNlIDA6bC5oLmNhbGwobC5jdHgpO2JyZWFrO2Nhc2UgMTpsLmguY2FsbChsLmN0eCxlWzBdKTticmVhaztjYXNlIDI6bC5oLmNhbGwobC5jdHgsZVswXSxlWzFdKTticmVhaztkZWZhdWx0OmwuaC5hcHBseShsLmN0eCxlKX19cmV0dXJuIHImJnIuYWZ0ZXJUcmlnZ2VyJiZyLmFmdGVyVHJpZ2dlcih0KSx0aGlzfSx0LnByb3RvdHlwZS50cmlnZ2VyV2l0aENvbnRleHQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbi0xXT1hcmd1bWVudHNbbl07aWYoIXRoaXMuXyRoYW5kbGVycylyZXR1cm4gdGhpczt2YXIgaT10aGlzLl8kaGFuZGxlcnNbdF0scj10aGlzLl8kZXZlbnRQcm9jZXNzb3I7aWYoaSlmb3IodmFyIG89ZS5sZW5ndGgsYT1lW28tMV0scz1pLmxlbmd0aCxsPTA7bDxzO2wrKyl7dmFyIHU9aVtsXTtpZighcnx8IXIuZmlsdGVyfHxudWxsPT11LnF1ZXJ5fHxyLmZpbHRlcih0LHUucXVlcnkpKXN3aXRjaChvKXtjYXNlIDA6dS5oLmNhbGwoYSk7YnJlYWs7Y2FzZSAxOnUuaC5jYWxsKGEsZVswXSk7YnJlYWs7Y2FzZSAyOnUuaC5jYWxsKGEsZVswXSxlWzFdKTticmVhaztkZWZhdWx0OnUuaC5hcHBseShhLGUuc2xpY2UoMSxvLTEpKX19cmV0dXJuIHImJnIuYWZ0ZXJUcmlnZ2VyJiZyLmFmdGVyVHJpZ2dlcih0KSx0aGlzfSx0fSgpLEh0PU1hdGgubG9nKDIpO2Z1bmN0aW9uIFd0KHQsZSxuLGkscixvKXt2YXIgYT1pKyItIityLHM9dC5sZW5ndGg7aWYoby5oYXNPd25Qcm9wZXJ0eShhKSlyZXR1cm4gb1thXTtpZigxPT09ZSl7dmFyIGw9TWF0aC5yb3VuZChNYXRoLmxvZygoMTw8cyktMSZ+cikvSHQpO3JldHVybiB0W25dW2xdfWZvcih2YXIgdT1pfDE8PG4saD1uKzE7aSYxPDxoOyloKys7Zm9yKHZhciBjPTAscD0wLGQ9MDtwPHM7cCsrKXt2YXIgZj0xPDxwO2Ymcnx8KGMrPShkJTI/LTE6MSkqdFtuXVtwXSpXdCh0LGUtMSxoLHUscnxmLG8pLGQrKyl9cmV0dXJuIG9bYV09YyxjfWZ1bmN0aW9uIFV0KHQsZSl7dmFyIG49W1t0WzBdLHRbMV0sMSwwLDAsMCwtZVswXSp0WzBdLC1lWzBdKnRbMV1dLFswLDAsMCx0WzBdLHRbMV0sMSwtZVsxXSp0WzBdLC1lWzFdKnRbMV1dLFt0WzJdLHRbM10sMSwwLDAsMCwtZVsyXSp0WzJdLC1lWzJdKnRbM11dLFswLDAsMCx0WzJdLHRbM10sMSwtZVszXSp0WzJdLC1lWzNdKnRbM11dLFt0WzRdLHRbNV0sMSwwLDAsMCwtZVs0XSp0WzRdLC1lWzRdKnRbNV1dLFswLDAsMCx0WzRdLHRbNV0sMSwtZVs1XSp0WzRdLC1lWzVdKnRbNV1dLFt0WzZdLHRbN10sMSwwLDAsMCwtZVs2XSp0WzZdLC1lWzZdKnRbN11dLFswLDAsMCx0WzZdLHRbN10sMSwtZVs3XSp0WzZdLC1lWzddKnRbN11dXSxpPXt9LHI9V3Qobiw4LDAsMCwwLGkpO2lmKDAhPT1yKXtmb3IodmFyIG89W10sYT0wO2E8ODthKyspZm9yKHZhciBzPTA7czw4O3MrKyludWxsPT1vW3NdJiYob1tzXT0wKSxvW3NdKz0oKGErcyklMj8tMToxKSpXdChuLDcsMD09PWE/MTowLDE8PGEsMTw8cyxpKS9yKmVbYV07cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1lKm9bNl0rbipvWzddKzE7dFswXT0oZSpvWzBdK24qb1sxXStvWzJdKS9pLHRbMV09KGUqb1szXStuKm9bNF0rb1s1XSkvaX19fXZhciBYdD1bXTtmdW5jdGlvbiBZdCh0LGUsbixpLHIpe2lmKGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0JiZhLmRvbVN1cHBvcnRlZCYmIVp0KGUpKXt2YXIgbz1lLl9fX3pyRVZFTlRTQVZFRHx8KGUuX19fenJFVkVOVFNBVkVEPXt9KSxzPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9bj8iaW52VHJhbnMiOiJ0cmFucyIscj1lW2ldLG89ZS5zcmNDb29yZHMsYT1bXSxzPVtdLGw9ITAsdT0wO3U8NDt1Kyspe3ZhciBoPXRbdV0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYz0yKnUscD1oLmxlZnQsZD1oLnRvcDthLnB1c2gocCxkKSxsPWwmJm8mJnA9PT1vW2NdJiZkPT09b1tjKzFdLHMucHVzaCh0W3VdLm9mZnNldExlZnQsdFt1XS5vZmZzZXRUb3ApfXJldHVybiBsJiZyP3I6KGUuc3JjQ29vcmRzPWEsZVtpXT1uP1V0KHMsYSk6VXQoYSxzKSl9KGZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5tYXJrZXJzO2lmKG4pcmV0dXJuIG47bj1lLm1hcmtlcnM9W107Zm9yKHZhciBpPVsibGVmdCIsInJpZ2h0Il0scj1bInRvcCIsImJvdHRvbSJdLG89MDtvPDQ7bysrKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxzPW8lMixsPShvPj4xKSUyO2Euc3R5bGUuY3NzVGV4dD1bInBvc2l0aW9uOiBhYnNvbHV0ZSIsInZpc2liaWxpdHk6IGhpZGRlbiIsInBhZGRpbmc6IDAiLCJtYXJnaW46IDAiLCJib3JkZXItd2lkdGg6IDAiLCJ1c2VyLXNlbGVjdDogbm9uZSIsIndpZHRoOjAiLCJoZWlnaHQ6MCIsaVtzXSsiOjAiLHJbbF0rIjowIixpWzEtc10rIjphdXRvIixyWzEtbF0rIjphdXRvIiwiIl0uam9pbigiIWltcG9ydGFudDsiKSx0LmFwcGVuZENoaWxkKGEpLG4ucHVzaChhKX1yZXR1cm4gbn0oZSxvKSxvLHIpO2lmKHMpcmV0dXJuIHModCxuLGkpLCEwfXJldHVybiExfWZ1bmN0aW9uIFp0KHQpe3JldHVybiJDQU5WQVMiPT09dC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpfXZhciBqdD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmISF3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcixxdD0vXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnV8ZHJhZ3xkcm9wKXxjbGljay8sS3Q9W107ZnVuY3Rpb24gJHQodCxlLG4saSl7cmV0dXJuIG49bnx8e30saXx8IWEuY2FudmFzU3VwcG9ydGVkP0p0KHQsZSxuKTphLmJyb3dzZXIuZmlyZWZveCYmYS5icm93c2VyLnZlcnNpb248IjM5IiYmbnVsbCE9ZS5sYXllclgmJmUubGF5ZXJYIT09ZS5vZmZzZXRYPyhuLnpyWD1lLmxheWVyWCxuLnpyWT1lLmxheWVyWSk6bnVsbCE9ZS5vZmZzZXRYPyhuLnpyWD1lLm9mZnNldFgsbi56clk9ZS5vZmZzZXRZKTpKdCh0LGUsbiksbn1mdW5jdGlvbiBKdCh0LGUsbil7aWYoYS5kb21TdXBwb3J0ZWQmJnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KXt2YXIgaT1lLmNsaWVudFgscj1lLmNsaWVudFk7aWYoWnQodCkpe3ZhciBvPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJuIG4uenJYPWktby5sZWZ0LHZvaWQobi56clk9ci1vLnRvcCl9aWYoWXQoS3QsdCxpLHIpKXJldHVybiBuLnpyWD1LdFswXSx2b2lkKG4uenJZPUt0WzFdKX1uLnpyWD1uLnpyWT0wfWZ1bmN0aW9uIFF0KHQpe3JldHVybiB0fHx3aW5kb3cuZXZlbnR9ZnVuY3Rpb24gdGUodCxlLG4pe2lmKG51bGwhPShlPVF0KGUpKS56clgpcmV0dXJuIGU7dmFyIGk9ZS50eXBlO2lmKGkmJmkuaW5kZXhPZigidG91Y2giKT49MCl7dmFyIHI9InRvdWNoZW5kIiE9PWk/ZS50YXJnZXRUb3VjaGVzWzBdOmUuY2hhbmdlZFRvdWNoZXNbMF07ciYmJHQodCxyLGUsbil9ZWxzZXskdCh0LGUsZSxuKTt2YXIgbz1mdW5jdGlvbih0KXt2YXIgZT10LndoZWVsRGVsdGE7aWYoZSlyZXR1cm4gZTt2YXIgbj10LmRlbHRhWCxpPXQuZGVsdGFZO2lmKG51bGw9PW58fG51bGw9PWkpcmV0dXJuIGU7cmV0dXJuIDMqKDAhPT1pP01hdGguYWJzKGkpOk1hdGguYWJzKG4pKSooaT4wPy0xOmk8MD8xOm4+MD8tMToxKX0oZSk7ZS56ckRlbHRhPW8/by8xMjA6LShlLmRldGFpbHx8MCkvM312YXIgYT1lLmJ1dHRvbjtyZXR1cm4gbnVsbD09ZS53aGljaCYmdm9pZCAwIT09YSYmcXQudGVzdChlLnR5cGUpJiYoZS53aGljaD0xJmE/MToyJmE/Mzo0JmE/MjowKSxlfWZ1bmN0aW9uIGVlKHQsZSxuLGkpe2p0P3QuYWRkRXZlbnRMaXN0ZW5lcihlLG4saSk6dC5hdHRhY2hFdmVudCgib24iK2Usbil9dmFyIG5lPWp0P2Z1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLHQuY2FuY2VsQnViYmxlPSEwfTpmdW5jdGlvbih0KXt0LnJldHVyblZhbHVlPSExLHQuY2FuY2VsQnViYmxlPSEwfTtmdW5jdGlvbiBpZSh0KXtyZXR1cm4gMj09PXQud2hpY2h8fDM9PT10LndoaWNofXZhciByZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl90cmFjaz1bXX1yZXR1cm4gdC5wcm90b3R5cGUucmVjb2duaXplPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5fZG9UcmFjayh0LGUsbiksdGhpcy5fcmVjb2duaXplKHQpfSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmFjay5sZW5ndGg9MCx0aGlzfSx0LnByb3RvdHlwZS5fZG9UcmFjaz1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC50b3VjaGVzO2lmKGkpe2Zvcih2YXIgcj17cG9pbnRzOltdLHRvdWNoZXM6W10sdGFyZ2V0OmUsZXZlbnQ6dH0sbz0wLGE9aS5sZW5ndGg7bzxhO28rKyl7dmFyIHM9aVtvXSxsPSR0KG4scyx7fSk7ci5wb2ludHMucHVzaChbbC56clgsbC56clldKSxyLnRvdWNoZXMucHVzaChzKX10aGlzLl90cmFjay5wdXNoKHIpfX0sdC5wcm90b3R5cGUuX3JlY29nbml6ZT1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gYWUpaWYoYWUuaGFzT3duUHJvcGVydHkoZSkpe3ZhciBuPWFlW2VdKHRoaXMuX3RyYWNrLHQpO2lmKG4pcmV0dXJuIG59fSx0fSgpO2Z1bmN0aW9uIG9lKHQpe3ZhciBlPXRbMV1bMF0tdFswXVswXSxuPXRbMV1bMV0tdFswXVsxXTtyZXR1cm4gTWF0aC5zcXJ0KGUqZStuKm4pfXZhciBhZT17cGluY2g6ZnVuY3Rpb24odCxlKXt2YXIgbj10Lmxlbmd0aDtpZihuKXt2YXIgaSxyPSh0W24tMV18fHt9KS5wb2ludHMsbz0odFtuLTJdfHx7fSkucG9pbnRzfHxyO2lmKG8mJm8ubGVuZ3RoPjEmJnImJnIubGVuZ3RoPjEpe3ZhciBhPW9lKHIpL29lKG8pOyFpc0Zpbml0ZShhKSYmKGE9MSksZS5waW5jaFNjYWxlPWE7dmFyIHM9WygoaT1yKVswXVswXStpWzFdWzBdKS8yLChpWzBdWzFdK2lbMV1bMV0pLzJdO3JldHVybiBlLnBpbmNoWD1zWzBdLGUucGluY2hZPXNbMV0se3R5cGU6InBpbmNoIix0YXJnZXQ6dFswXS50YXJnZXQsZXZlbnQ6ZX19fX19LHNlPSJzaWxlbnQiO2Z1bmN0aW9uIGxlKCl7bmUodGhpcy5ldmVudCl9dmFyIHVlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUuaGFuZGxlcj1udWxsLGV9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5zZXRDdXJzb3I9ZnVuY3Rpb24oKXt9LGV9KEZ0KSxoZT1mdW5jdGlvbih0LGUpe3RoaXMueD10LHRoaXMueT1lfSxjZT1bImNsaWNrIiwiZGJsY2xpY2siLCJtb3VzZXdoZWVsIiwibW91c2VvdXQiLCJtb3VzZXVwIiwibW91c2Vkb3duIiwibW91c2Vtb3ZlIiwiY29udGV4dG1lbnUiXSxwZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpLHIpe3ZhciBvPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gby5faG92ZXJlZD1uZXcgaGUoMCwwKSxvLnN0b3JhZ2U9ZSxvLnBhaW50ZXI9bixvLnBhaW50ZXJSb290PXIsaT1pfHxuZXcgdWUsby5wcm94eT1udWxsLG8uc2V0SGFuZGxlclByb3h5KGkpLG8uX2RyYWdnaW5nTWdyPW5ldyBHdChvKSxvfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuc2V0SGFuZGxlclByb3h5PWZ1bmN0aW9uKHQpe3RoaXMucHJveHkmJnRoaXMucHJveHkuZGlzcG9zZSgpLHQmJihPKGNlLChmdW5jdGlvbihlKXt0Lm9uJiZ0Lm9uKGUsdGhpc1tlXSx0aGlzKX0pLHRoaXMpLHQuaGFuZGxlcj10aGlzKSx0aGlzLnByb3h5PXR9LGUucHJvdG90eXBlLm1vdXNlbW92ZT1mdW5jdGlvbih0KXt2YXIgZT10LnpyWCxuPXQuenJZLGk9ZmUodGhpcyxlLG4pLHI9dGhpcy5faG92ZXJlZCxvPXIudGFyZ2V0O28mJiFvLl9fenImJihvPShyPXRoaXMuZmluZEhvdmVyKHIueCxyLnkpKS50YXJnZXQpO3ZhciBhPXRoaXMuX2hvdmVyZWQ9aT9uZXcgaGUoZSxuKTp0aGlzLmZpbmRIb3ZlcihlLG4pLHM9YS50YXJnZXQsbD10aGlzLnByb3h5O2wuc2V0Q3Vyc29yJiZsLnNldEN1cnNvcihzP3MuY3Vyc29yOiJkZWZhdWx0IiksbyYmcyE9PW8mJnRoaXMuZGlzcGF0Y2hUb0VsZW1lbnQociwibW91c2VvdXQiLHQpLHRoaXMuZGlzcGF0Y2hUb0VsZW1lbnQoYSwibW91c2Vtb3ZlIix0KSxzJiZzIT09byYmdGhpcy5kaXNwYXRjaFRvRWxlbWVudChhLCJtb3VzZW92ZXIiLHQpfSxlLnByb3RvdHlwZS5tb3VzZW91dD1mdW5jdGlvbih0KXt2YXIgZT10LnpyRXZlbnRDb250cm9sOyJvbmx5X2dsb2JhbG91dCIhPT1lJiZ0aGlzLmRpc3BhdGNoVG9FbGVtZW50KHRoaXMuX2hvdmVyZWQsIm1vdXNlb3V0Iix0KSwibm9fZ2xvYmFsb3V0IiE9PWUmJnRoaXMudHJpZ2dlcigiZ2xvYmFsb3V0Iix7dHlwZToiZ2xvYmFsb3V0IixldmVudDp0fSl9LGUucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbigpe3RoaXMuX2hvdmVyZWQ9bmV3IGhlKDAsMCl9LGUucHJvdG90eXBlLmRpc3BhdGNoPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpc1t0XTtuJiZuLmNhbGwodGhpcyxlKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMucHJveHkuZGlzcG9zZSgpLHRoaXMuc3RvcmFnZT1udWxsLHRoaXMucHJveHk9bnVsbCx0aGlzLnBhaW50ZXI9bnVsbH0sZS5wcm90b3R5cGUuc2V0Q3Vyc29yU3R5bGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wcm94eTtlLnNldEN1cnNvciYmZS5zZXRDdXJzb3IodCl9LGUucHJvdG90eXBlLmRpc3BhdGNoVG9FbGVtZW50PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT0odD10fHx7fSkudGFyZ2V0O2lmKCFpfHwhaS5zaWxlbnQpe2Zvcih2YXIgcj0ib24iK2Usbz1mdW5jdGlvbih0LGUsbil7cmV0dXJue3R5cGU6dCxldmVudDpuLHRhcmdldDplLnRhcmdldCx0b3BUYXJnZXQ6ZS50b3BUYXJnZXQsY2FuY2VsQnViYmxlOiExLG9mZnNldFg6bi56clgsb2Zmc2V0WTpuLnpyWSxnZXN0dXJlRXZlbnQ6bi5nZXN0dXJlRXZlbnQscGluY2hYOm4ucGluY2hYLHBpbmNoWTpuLnBpbmNoWSxwaW5jaFNjYWxlOm4ucGluY2hTY2FsZSx3aGVlbERlbHRhOm4uenJEZWx0YSx6ckJ5VG91Y2g6bi56ckJ5VG91Y2gsd2hpY2g6bi53aGljaCxzdG9wOmxlfX0oZSx0LG4pO2kmJihpW3JdJiYoby5jYW5jZWxCdWJibGU9ISFpW3JdLmNhbGwoaSxvKSksaS50cmlnZ2VyKGUsbyksaT1pLl9faG9zdFRhcmdldD9pLl9faG9zdFRhcmdldDppLnBhcmVudCwhby5jYW5jZWxCdWJibGUpOyk7by5jYW5jZWxCdWJibGV8fCh0aGlzLnRyaWdnZXIoZSxvKSx0aGlzLnBhaW50ZXImJnRoaXMucGFpbnRlci5lYWNoT3RoZXJMYXllciYmdGhpcy5wYWludGVyLmVhY2hPdGhlckxheWVyKChmdW5jdGlvbih0KXsiZnVuY3Rpb24iPT10eXBlb2YgdFtyXSYmdFtyXS5jYWxsKHQsbyksdC50cmlnZ2VyJiZ0LnRyaWdnZXIoZSxvKX0pKSl9fSxlLnByb3RvdHlwZS5maW5kSG92ZXI9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT10aGlzLnN0b3JhZ2UuZ2V0RGlzcGxheUxpc3QoKSxyPW5ldyBoZSh0LGUpLG89aS5sZW5ndGgtMTtvPj0wO28tLSl7dmFyIGE9dm9pZCAwO2lmKGlbb10hPT1uJiYhaVtvXS5pZ25vcmUmJihhPWRlKGlbb10sdCxlKSkmJighci50b3BUYXJnZXQmJihyLnRvcFRhcmdldD1pW29dKSxhIT09c2UpKXtyLnRhcmdldD1pW29dO2JyZWFrfX1yZXR1cm4gcn0sZS5wcm90b3R5cGUucHJvY2Vzc0dlc3R1cmU9ZnVuY3Rpb24odCxlKXt0aGlzLl9nZXN0dXJlTWdyfHwodGhpcy5fZ2VzdHVyZU1ncj1uZXcgcmUpO3ZhciBuPXRoaXMuX2dlc3R1cmVNZ3I7InN0YXJ0Ij09PWUmJm4uY2xlYXIoKTt2YXIgaT1uLnJlY29nbml6ZSh0LHRoaXMuZmluZEhvdmVyKHQuenJYLHQuenJZLG51bGwpLnRhcmdldCx0aGlzLnByb3h5LmRvbSk7aWYoImVuZCI9PT1lJiZuLmNsZWFyKCksaSl7dmFyIHI9aS50eXBlO3QuZ2VzdHVyZUV2ZW50PXI7dmFyIG89bmV3IGhlO28udGFyZ2V0PWkudGFyZ2V0LHRoaXMuZGlzcGF0Y2hUb0VsZW1lbnQobyxyLGkuZXZlbnQpfX0sZX0oRnQpO2Z1bmN0aW9uIGRlKHQsZSxuKXtpZih0W3QucmVjdEhvdmVyPyJyZWN0Q29udGFpbiI6ImNvbnRhaW4iXShlLG4pKXtmb3IodmFyIGk9dCxyPXZvaWQgMCxvPSExO2k7KXtpZihpLmlnbm9yZUNsaXAmJihvPSEwKSwhbyl7dmFyIGE9aS5nZXRDbGlwUGF0aCgpO2lmKGEmJiFhLmNvbnRhaW4oZSxuKSlyZXR1cm4hMTtpLnNpbGVudCYmKHI9ITApfXZhciBzPWkuX19ob3N0VGFyZ2V0O2k9c3x8aS5wYXJlbnR9cmV0dXJuIXJ8fHNlfXJldHVybiExfWZ1bmN0aW9uIGZlKHQsZSxuKXt2YXIgaT10LnBhaW50ZXI7cmV0dXJuIGU8MHx8ZT5pLmdldFdpZHRoKCl8fG48MHx8bj5pLmdldEhlaWdodCgpfU8oWyJjbGljayIsIm1vdXNlZG93biIsIm1vdXNldXAiLCJtb3VzZXdoZWVsIiwiZGJsY2xpY2siLCJjb250ZXh0bWVudSJdLChmdW5jdGlvbih0KXtwZS5wcm90b3R5cGVbdF09ZnVuY3Rpb24oZSl7dmFyIG4saSxyPWUuenJYLG89ZS56clksYT1mZSh0aGlzLHIsbyk7aWYoIm1vdXNldXAiPT09dCYmYXx8KGk9KG49dGhpcy5maW5kSG92ZXIocixvKSkudGFyZ2V0KSwibW91c2Vkb3duIj09PXQpdGhpcy5fZG93bkVsPWksdGhpcy5fZG93blBvaW50PVtlLnpyWCxlLnpyWV0sdGhpcy5fdXBFbD1pO2Vsc2UgaWYoIm1vdXNldXAiPT09dCl0aGlzLl91cEVsPWk7ZWxzZSBpZigiY2xpY2siPT09dCl7aWYodGhpcy5fZG93bkVsIT09dGhpcy5fdXBFbHx8IXRoaXMuX2Rvd25Qb2ludHx8THQodGhpcy5fZG93blBvaW50LFtlLnpyWCxlLnpyWV0pPjQpcmV0dXJuO3RoaXMuX2Rvd25Qb2ludD1udWxsfXRoaXMuZGlzcGF0Y2hUb0VsZW1lbnQobix0LGUpfX0pKTtmdW5jdGlvbiBnZSh0LGUsbixpKXt2YXIgcj1lKzE7aWYocj09PW4pcmV0dXJuIDE7aWYoaSh0W3IrK10sdFtlXSk8MCl7Zm9yKDtyPG4mJmkodFtyXSx0W3ItMV0pPDA7KXIrKzshZnVuY3Rpb24odCxlLG4pe24tLTtmb3IoO2U8bjspe3ZhciBpPXRbZV07dFtlKytdPXRbbl0sdFtuLS1dPWl9fSh0LGUscil9ZWxzZSBmb3IoO3I8biYmaSh0W3JdLHRbci0xXSk+PTA7KXIrKztyZXR1cm4gci1lfWZ1bmN0aW9uIHllKHQsZSxuLGkscil7Zm9yKGk9PT1lJiZpKys7aTxuO2krKyl7Zm9yKHZhciBvLGE9dFtpXSxzPWUsbD1pO3M8bDspcihhLHRbbz1zK2w+Pj4xXSk8MD9sPW86cz1vKzE7dmFyIHU9aS1zO3N3aXRjaCh1KXtjYXNlIDM6dFtzKzNdPXRbcysyXTtjYXNlIDI6dFtzKzJdPXRbcysxXTtjYXNlIDE6dFtzKzFdPXRbc107YnJlYWs7ZGVmYXVsdDpmb3IoO3U+MDspdFtzK3VdPXRbcyt1LTFdLHUtLX10W3NdPWF9fWZ1bmN0aW9uIHZlKHQsZSxuLGkscixvKXt2YXIgYT0wLHM9MCxsPTE7aWYobyh0LGVbbityXSk+MCl7Zm9yKHM9aS1yO2w8cyYmbyh0LGVbbityK2xdKT4wOylhPWwsKGw9MSsobDw8MSkpPD0wJiYobD1zKTtsPnMmJihsPXMpLGErPXIsbCs9cn1lbHNle2ZvcihzPXIrMTtsPHMmJm8odCxlW24rci1sXSk8PTA7KWE9bCwobD0xKyhsPDwxKSk8PTAmJihsPXMpO2w+cyYmKGw9cyk7dmFyIHU9YTthPXItbCxsPXItdX1mb3IoYSsrO2E8bDspe3ZhciBoPWErKGwtYT4+PjEpO28odCxlW24raF0pPjA/YT1oKzE6bD1ofXJldHVybiBsfWZ1bmN0aW9uIG1lKHQsZSxuLGkscixvKXt2YXIgYT0wLHM9MCxsPTE7aWYobyh0LGVbbityXSk8MCl7Zm9yKHM9cisxO2w8cyYmbyh0LGVbbityLWxdKTwwOylhPWwsKGw9MSsobDw8MSkpPD0wJiYobD1zKTtsPnMmJihsPXMpO3ZhciB1PWE7YT1yLWwsbD1yLXV9ZWxzZXtmb3Iocz1pLXI7bDxzJiZvKHQsZVtuK3IrbF0pPj0wOylhPWwsKGw9MSsobDw8MSkpPD0wJiYobD1zKTtsPnMmJihsPXMpLGErPXIsbCs9cn1mb3IoYSsrO2E8bDspe3ZhciBoPWErKGwtYT4+PjEpO28odCxlW24raF0pPDA/bD1oOmE9aCsxfXJldHVybiBsfWZ1bmN0aW9uIF9lKHQsZSl7dmFyIG4saSxyPTcsbz0wO3QubGVuZ3RoO3ZhciBhPVtdO2Z1bmN0aW9uIHMocyl7dmFyIGw9bltzXSx1PWlbc10saD1uW3MrMV0sYz1pW3MrMV07aVtzXT11K2Mscz09PW8tMyYmKG5bcysxXT1uW3MrMl0saVtzKzFdPWlbcysyXSksby0tO3ZhciBwPW1lKHRbaF0sdCxsLHUsMCxlKTtsKz1wLDAhPT0odS09cCkmJjAhPT0oYz12ZSh0W2wrdS0xXSx0LGgsYyxjLTEsZSkpJiYodTw9Yz9mdW5jdGlvbihuLGksbyxzKXt2YXIgbD0wO2ZvcihsPTA7bDxpO2wrKylhW2xdPXRbbitsXTt2YXIgdT0wLGg9byxjPW47aWYodFtjKytdPXRbaCsrXSwwPT0tLXMpe2ZvcihsPTA7bDxpO2wrKyl0W2MrbF09YVt1K2xdO3JldHVybn1pZigxPT09aSl7Zm9yKGw9MDtsPHM7bCsrKXRbYytsXT10W2grbF07cmV0dXJuIHZvaWQodFtjK3NdPWFbdV0pfXZhciBwLGQsZixnPXI7Zm9yKDs7KXtwPTAsZD0wLGY9ITE7ZG97aWYoZSh0W2hdLGFbdV0pPDApe2lmKHRbYysrXT10W2grK10sZCsrLHA9MCwwPT0tLXMpe2Y9ITA7YnJlYWt9fWVsc2UgaWYodFtjKytdPWFbdSsrXSxwKyssZD0wLDE9PS0taSl7Zj0hMDticmVha319d2hpbGUoKHB8ZCk8Zyk7aWYoZilicmVhaztkb3tpZigwIT09KHA9bWUodFtoXSxhLHUsaSwwLGUpKSl7Zm9yKGw9MDtsPHA7bCsrKXRbYytsXT1hW3UrbF07aWYoYys9cCx1Kz1wLChpLT1wKTw9MSl7Zj0hMDticmVha319aWYodFtjKytdPXRbaCsrXSwwPT0tLXMpe2Y9ITA7YnJlYWt9aWYoMCE9PShkPXZlKGFbdV0sdCxoLHMsMCxlKSkpe2ZvcihsPTA7bDxkO2wrKyl0W2MrbF09dFtoK2xdO2lmKGMrPWQsaCs9ZCwwPT09KHMtPWQpKXtmPSEwO2JyZWFrfX1pZih0W2MrK109YVt1KytdLDE9PS0taSl7Zj0hMDticmVha31nLS19d2hpbGUocD49N3x8ZD49Nyk7aWYoZilicmVhaztnPDAmJihnPTApLGcrPTJ9aWYoKHI9Zyk8MSYmKHI9MSksMT09PWkpe2ZvcihsPTA7bDxzO2wrKyl0W2MrbF09dFtoK2xdO3RbYytzXT1hW3VdfWVsc2V7aWYoMD09PWkpdGhyb3cgbmV3IEVycm9yO2ZvcihsPTA7bDxpO2wrKyl0W2MrbF09YVt1K2xdfX0obCx1LGgsYyk6ZnVuY3Rpb24obixpLG8scyl7dmFyIGw9MDtmb3IobD0wO2w8cztsKyspYVtsXT10W28rbF07dmFyIHU9bitpLTEsaD1zLTEsYz1vK3MtMSxwPTAsZD0wO2lmKHRbYy0tXT10W3UtLV0sMD09LS1pKXtmb3IocD1jLShzLTEpLGw9MDtsPHM7bCsrKXRbcCtsXT1hW2xdO3JldHVybn1pZigxPT09cyl7Zm9yKGQ9KGMtPWkpKzEscD0odS09aSkrMSxsPWktMTtsPj0wO2wtLSl0W2QrbF09dFtwK2xdO3JldHVybiB2b2lkKHRbY109YVtoXSl9dmFyIGY9cjtmb3IoOzspe3ZhciBnPTAseT0wLHY9ITE7ZG97aWYoZShhW2hdLHRbdV0pPDApe2lmKHRbYy0tXT10W3UtLV0sZysrLHk9MCwwPT0tLWkpe3Y9ITA7YnJlYWt9fWVsc2UgaWYodFtjLS1dPWFbaC0tXSx5KyssZz0wLDE9PS0tcyl7dj0hMDticmVha319d2hpbGUoKGd8eSk8Zik7aWYodilicmVhaztkb3tpZigwIT09KGc9aS1tZShhW2hdLHQsbixpLGktMSxlKSkpe2ZvcihpLT1nLGQ9KGMtPWcpKzEscD0odS09ZykrMSxsPWctMTtsPj0wO2wtLSl0W2QrbF09dFtwK2xdO2lmKDA9PT1pKXt2PSEwO2JyZWFrfX1pZih0W2MtLV09YVtoLS1dLDE9PS0tcyl7dj0hMDticmVha31pZigwIT09KHk9cy12ZSh0W3VdLGEsMCxzLHMtMSxlKSkpe2ZvcihzLT15LGQ9KGMtPXkpKzEscD0oaC09eSkrMSxsPTA7bDx5O2wrKyl0W2QrbF09YVtwK2xdO2lmKHM8PTEpe3Y9ITA7YnJlYWt9fWlmKHRbYy0tXT10W3UtLV0sMD09LS1pKXt2PSEwO2JyZWFrfWYtLX13aGlsZShnPj03fHx5Pj03KTtpZih2KWJyZWFrO2Y8MCYmKGY9MCksZis9Mn0ocj1mKTwxJiYocj0xKTtpZigxPT09cyl7Zm9yKGQ9KGMtPWkpKzEscD0odS09aSkrMSxsPWktMTtsPj0wO2wtLSl0W2QrbF09dFtwK2xdO3RbY109YVtoXX1lbHNle2lmKDA9PT1zKXRocm93IG5ldyBFcnJvcjtmb3IocD1jLShzLTEpLGw9MDtsPHM7bCsrKXRbcCtsXT1hW2xdfX0obCx1LGgsYykpfXJldHVybiBuPVtdLGk9W10se21lcmdlUnVuczpmdW5jdGlvbigpe2Zvcig7bz4xOyl7dmFyIHQ9by0yO2lmKHQ+PTEmJmlbdC0xXTw9aVt0XStpW3QrMV18fHQ+PTImJmlbdC0yXTw9aVt0XStpW3QtMV0paVt0LTFdPGlbdCsxXSYmdC0tO2Vsc2UgaWYoaVt0XT5pW3QrMV0pYnJlYWs7cyh0KX19LGZvcmNlTWVyZ2VSdW5zOmZ1bmN0aW9uKCl7Zm9yKDtvPjE7KXt2YXIgdD1vLTI7dD4wJiZpW3QtMV08aVt0KzFdJiZ0LS0scyh0KX19LHB1c2hSdW46ZnVuY3Rpb24odCxlKXtuW29dPXQsaVtvXT1lLG8rPTF9fX1mdW5jdGlvbiB4ZSh0LGUsbixpKXtufHwobj0wKSxpfHwoaT10Lmxlbmd0aCk7dmFyIHI9aS1uO2lmKCEocjwyKSl7dmFyIG89MDtpZihyPDMyKXllKHQsbixpLG4rKG89Z2UodCxuLGksZSkpLGUpO2Vsc2V7dmFyIGE9X2UodCxlKSxzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO3Q+PTMyOyllfD0xJnQsdD4+PTE7cmV0dXJuIHQrZX0ocik7ZG97aWYoKG89Z2UodCxuLGksZSkpPHMpe3ZhciBsPXI7bD5zJiYobD1zKSx5ZSh0LG4sbitsLG4rbyxlKSxvPWx9YS5wdXNoUnVuKG4sbyksYS5tZXJnZVJ1bnMoKSxyLT1vLG4rPW99d2hpbGUoMCE9PXIpO2EuZm9yY2VNZXJnZVJ1bnMoKX19fXZhciBiZT0hMTtmdW5jdGlvbiB3ZSgpe2JlfHwoYmU9ITAsY29uc29sZS53YXJuKCJ6IC8gejIgLyB6bGV2ZWwgb2YgZGlzcGxheWFibGUgaXMgaW52YWxpZCwgd2hpY2ggbWF5IGNhdXNlIHVuZXhwZWN0ZWQgZXJyb3JzIikpfWZ1bmN0aW9uIFNlKHQsZSl7cmV0dXJuIHQuemxldmVsPT09ZS56bGV2ZWw/dC56PT09ZS56P3QuejItZS56Mjp0LnotZS56OnQuemxldmVsLWUuemxldmVsfXZhciBNZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9yb290cz1bXSx0aGlzLl9kaXNwbGF5TGlzdD1bXSx0aGlzLl9kaXNwbGF5TGlzdExlbj0wLHRoaXMuZGlzcGxheWFibGVTb3J0RnVuYz1TZX1yZXR1cm4gdC5wcm90b3R5cGUudHJhdmVyc2U9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPHRoaXMuX3Jvb3RzLmxlbmd0aDtuKyspdGhpcy5fcm9vdHNbbl0udHJhdmVyc2UodCxlKX0sdC5wcm90b3R5cGUuZ2V0RGlzcGxheUxpc3Q9ZnVuY3Rpb24odCxlKXtlPWV8fCExO3ZhciBuPXRoaXMuX2Rpc3BsYXlMaXN0O3JldHVybiF0JiZuLmxlbmd0aHx8dGhpcy51cGRhdGVEaXNwbGF5TGlzdChlKSxufSx0LnByb3RvdHlwZS51cGRhdGVEaXNwbGF5TGlzdD1mdW5jdGlvbih0KXt0aGlzLl9kaXNwbGF5TGlzdExlbj0wO2Zvcih2YXIgZT10aGlzLl9yb290cyxuPXRoaXMuX2Rpc3BsYXlMaXN0LGk9MCxyPWUubGVuZ3RoO2k8cjtpKyspdGhpcy5fdXBkYXRlQW5kQWRkRGlzcGxheWFibGUoZVtpXSxudWxsLHQpO24ubGVuZ3RoPXRoaXMuX2Rpc3BsYXlMaXN0TGVuLGEuY2FudmFzU3VwcG9ydGVkJiZ4ZShuLFNlKX0sdC5wcm90b3R5cGUuX3VwZGF0ZUFuZEFkZERpc3BsYXlhYmxlPWZ1bmN0aW9uKHQsZSxuKXtpZighdC5pZ25vcmV8fG4pe3QuYmVmb3JlVXBkYXRlKCksdC51cGRhdGUoKSx0LmFmdGVyVXBkYXRlKCk7dmFyIGk9dC5nZXRDbGlwUGF0aCgpO2lmKHQuaWdub3JlQ2xpcCllPW51bGw7ZWxzZSBpZihpKXtlPWU/ZS5zbGljZSgpOltdO2Zvcih2YXIgcj1pLG89dDtyOylyLnBhcmVudD1vLHIudXBkYXRlVHJhbnNmb3JtKCksZS5wdXNoKHIpLG89cixyPXIuZ2V0Q2xpcFBhdGgoKX1pZih0LmNoaWxkcmVuUmVmKXtmb3IodmFyIGE9dC5jaGlsZHJlblJlZigpLHM9MDtzPGEubGVuZ3RoO3MrKyl7dmFyIGw9YVtzXTt0Ll9fZGlydHkmJihsLl9fZGlydHl8PTEpLHRoaXMuX3VwZGF0ZUFuZEFkZERpc3BsYXlhYmxlKGwsZSxuKX10Ll9fZGlydHk9MH1lbHNle3ZhciB1PXQ7ZSYmZS5sZW5ndGg/dS5fX2NsaXBQYXRocz1lOnUuX19jbGlwUGF0aHMmJnUuX19jbGlwUGF0aHMubGVuZ3RoPjAmJih1Ll9fY2xpcFBhdGhzPVtdKSxpc05hTih1LnopJiYod2UoKSx1Lno9MCksaXNOYU4odS56MikmJih3ZSgpLHUuejI9MCksaXNOYU4odS56bGV2ZWwpJiYod2UoKSx1LnpsZXZlbD0wKSx0aGlzLl9kaXNwbGF5TGlzdFt0aGlzLl9kaXNwbGF5TGlzdExlbisrXT11fXZhciBoPXQuZ2V0RGVjYWxFbGVtZW50JiZ0LmdldERlY2FsRWxlbWVudCgpO2gmJnRoaXMuX3VwZGF0ZUFuZEFkZERpc3BsYXlhYmxlKGgsZSxuKTt2YXIgYz10LmdldFRleHRHdWlkZUxpbmUoKTtjJiZ0aGlzLl91cGRhdGVBbmRBZGREaXNwbGF5YWJsZShjLGUsbik7dmFyIHA9dC5nZXRUZXh0Q29udGVudCgpO3AmJnRoaXMuX3VwZGF0ZUFuZEFkZERpc3BsYXlhYmxlKHAsZSxuKX19LHQucHJvdG90eXBlLmFkZFJvb3Q9ZnVuY3Rpb24odCl7dC5fX3pyJiZ0Ll9fenIuc3RvcmFnZT09PXRoaXN8fHRoaXMuX3Jvb3RzLnB1c2godCl9LHQucHJvdG90eXBlLmRlbFJvb3Q9ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIEFycmF5KWZvcih2YXIgZT0wLG49dC5sZW5ndGg7ZTxuO2UrKyl0aGlzLmRlbFJvb3QodFtlXSk7ZWxzZXt2YXIgaT1BKHRoaXMuX3Jvb3RzLHQpO2k+PTAmJnRoaXMuX3Jvb3RzLnNwbGljZShpLDEpfX0sdC5wcm90b3R5cGUuZGVsQWxsUm9vdHM9ZnVuY3Rpb24oKXt0aGlzLl9yb290cz1bXSx0aGlzLl9kaXNwbGF5TGlzdD1bXSx0aGlzLl9kaXNwbGF5TGlzdExlbj0wfSx0LnByb3RvdHlwZS5nZXRSb290cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb290c30sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2Rpc3BsYXlMaXN0PW51bGwsdGhpcy5fcm9vdHM9bnVsbH0sdH0oKSxJZT0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUmJndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUuYmluZCh3aW5kb3cpfHx3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUmJndpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdyl8fHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUpfHxmdW5jdGlvbih0KXtyZXR1cm4gc2V0VGltZW91dCh0LDE2KX0sVGU9e2xpbmVhcjpmdW5jdGlvbih0KXtyZXR1cm4gdH0scXVhZHJhdGljSW46ZnVuY3Rpb24odCl7cmV0dXJuIHQqdH0scXVhZHJhdGljT3V0OmZ1bmN0aW9uKHQpe3JldHVybiB0KigyLXQpfSxxdWFkcmF0aWNJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8uNSp0KnQ6LS41KigtLXQqKHQtMiktMSl9LGN1YmljSW46ZnVuY3Rpb24odCl7cmV0dXJuIHQqdCp0fSxjdWJpY091dDpmdW5jdGlvbih0KXtyZXR1cm4tLXQqdCp0KzF9LGN1YmljSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQqPTIpPDE/LjUqdCp0KnQ6LjUqKCh0LT0yKSp0KnQrMil9LHF1YXJ0aWNJbjpmdW5jdGlvbih0KXtyZXR1cm4gdCp0KnQqdH0scXVhcnRpY091dDpmdW5jdGlvbih0KXtyZXR1cm4gMS0gLS10KnQqdCp0fSxxdWFydGljSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQqPTIpPDE/LjUqdCp0KnQqdDotLjUqKCh0LT0yKSp0KnQqdC0yKX0scXVpbnRpY0luOmZ1bmN0aW9uKHQpe3JldHVybiB0KnQqdCp0KnR9LHF1aW50aWNPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuLS10KnQqdCp0KnQrMX0scXVpbnRpY0luT3V0OmZ1bmN0aW9uKHQpe3JldHVybih0Kj0yKTwxPy41KnQqdCp0KnQqdDouNSooKHQtPTIpKnQqdCp0KnQrMil9LHNpbnVzb2lkYWxJbjpmdW5jdGlvbih0KXtyZXR1cm4gMS1NYXRoLmNvcyh0Kk1hdGguUEkvMil9LHNpbnVzb2lkYWxPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguc2luKHQqTWF0aC5QSS8yKX0sc2ludXNvaWRhbEluT3V0OmZ1bmN0aW9uKHQpe3JldHVybi41KigxLU1hdGguY29zKE1hdGguUEkqdCkpfSxleHBvbmVudGlhbEluOmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dD8wOk1hdGgucG93KDEwMjQsdC0xKX0sZXhwb25lbnRpYWxPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIDE9PT10PzE6MS1NYXRoLnBvdygyLC0xMCp0KX0sZXhwb25lbnRpYWxJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQ/MDoxPT09dD8xOih0Kj0yKTwxPy41Kk1hdGgucG93KDEwMjQsdC0xKTouNSooMi1NYXRoLnBvdygyLC0xMCoodC0xKSkpfSxjaXJjdWxhckluOmZ1bmN0aW9uKHQpe3JldHVybiAxLU1hdGguc3FydCgxLXQqdCl9LGNpcmN1bGFyT3V0OmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQoMS0gLS10KnQpfSxjaXJjdWxhckluT3V0OmZ1bmN0aW9uKHQpe3JldHVybih0Kj0yKTwxPy0uNSooTWF0aC5zcXJ0KDEtdCp0KS0xKTouNSooTWF0aC5zcXJ0KDEtKHQtPTIpKnQpKzEpfSxlbGFzdGljSW46ZnVuY3Rpb24odCl7dmFyIGUsbj0uMTtyZXR1cm4gMD09PXQ/MDoxPT09dD8xOighbnx8bjwxPyhuPTEsZT0uMSk6ZT0uNCpNYXRoLmFzaW4oMS9uKS8oMipNYXRoLlBJKSwtbipNYXRoLnBvdygyLDEwKih0LT0xKSkqTWF0aC5zaW4oKHQtZSkqKDIqTWF0aC5QSSkvLjQpKX0sZWxhc3RpY091dDpmdW5jdGlvbih0KXt2YXIgZSxuPS4xO3JldHVybiAwPT09dD8wOjE9PT10PzE6KCFufHxuPDE/KG49MSxlPS4xKTplPS40Kk1hdGguYXNpbigxL24pLygyKk1hdGguUEkpLG4qTWF0aC5wb3coMiwtMTAqdCkqTWF0aC5zaW4oKHQtZSkqKDIqTWF0aC5QSSkvLjQpKzEpfSxlbGFzdGljSW5PdXQ6ZnVuY3Rpb24odCl7dmFyIGUsbj0uMSxpPS40O3JldHVybiAwPT09dD8wOjE9PT10PzE6KCFufHxuPDE/KG49MSxlPS4xKTplPWkqTWF0aC5hc2luKDEvbikvKDIqTWF0aC5QSSksKHQqPTIpPDE/bipNYXRoLnBvdygyLDEwKih0LT0xKSkqTWF0aC5zaW4oKHQtZSkqKDIqTWF0aC5QSSkvaSkqLS41Om4qTWF0aC5wb3coMiwtMTAqKHQtPTEpKSpNYXRoLnNpbigodC1lKSooMipNYXRoLlBJKS9pKSouNSsxKX0sYmFja0luOmZ1bmN0aW9uKHQpe3ZhciBlPTEuNzAxNTg7cmV0dXJuIHQqdCooKGUrMSkqdC1lKX0sYmFja091dDpmdW5jdGlvbih0KXt2YXIgZT0xLjcwMTU4O3JldHVybi0tdCp0KigoZSsxKSp0K2UpKzF9LGJhY2tJbk91dDpmdW5jdGlvbih0KXt2YXIgZT0yLjU5NDkwOTU7cmV0dXJuKHQqPTIpPDE/dCp0KigoZSsxKSp0LWUpKi41Oi41KigodC09MikqdCooKGUrMSkqdCtlKSsyKX0sYm91bmNlSW46ZnVuY3Rpb24odCl7cmV0dXJuIDEtVGUuYm91bmNlT3V0KDEtdCl9LGJvdW5jZU91dDpmdW5jdGlvbih0KXtyZXR1cm4gdDwxLzIuNzU/Ny41NjI1KnQqdDp0PDIvMi43NT83LjU2MjUqKHQtPTEuNS8yLjc1KSp0Ky43NTp0PDIuNS8yLjc1PzcuNTYyNSoodC09Mi4yNS8yLjc1KSp0Ky45Mzc1OjcuNTYyNSoodC09Mi42MjUvMi43NSkqdCsuOTg0Mzc1fSxib3VuY2VJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4gdDwuNT8uNSpUZS5ib3VuY2VJbigyKnQpOi41KlRlLmJvdW5jZU91dCgyKnQtMSkrLjV9fSxDZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5faW5pdGlhbGl6ZWQ9ITEsdGhpcy5fc3RhcnRUaW1lPTAsdGhpcy5fcGF1c2VkVGltZT0wLHRoaXMuX3BhdXNlZD0hMSx0aGlzLl9saWZlPXQubGlmZXx8MWUzLHRoaXMuX2RlbGF5PXQuZGVsYXl8fDAsdGhpcy5sb29wPW51bGwhPXQubG9vcCYmdC5sb29wLHRoaXMuZ2FwPXQuZ2FwfHwwLHRoaXMuZWFzaW5nPXQuZWFzaW5nfHwibGluZWFyIix0aGlzLm9uZnJhbWU9dC5vbmZyYW1lLHRoaXMub25kZXN0cm95PXQub25kZXN0cm95LHRoaXMub25yZXN0YXJ0PXQub25yZXN0YXJ0fXJldHVybiB0LnByb3RvdHlwZS5zdGVwPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5faW5pdGlhbGl6ZWR8fCh0aGlzLl9zdGFydFRpbWU9dCt0aGlzLl9kZWxheSx0aGlzLl9pbml0aWFsaXplZD0hMCksIXRoaXMuX3BhdXNlZCl7dmFyIG49KHQtdGhpcy5fc3RhcnRUaW1lLXRoaXMuX3BhdXNlZFRpbWUpL3RoaXMuX2xpZmU7bjwwJiYobj0wKSxuPU1hdGgubWluKG4sMSk7dmFyIGk9dGhpcy5lYXNpbmcscj0ic3RyaW5nIj09dHlwZW9mIGk/VGVbaV06aSxvPSJmdW5jdGlvbiI9PXR5cGVvZiByP3Iobik6bjtpZih0aGlzLm9uZnJhbWUmJnRoaXMub25mcmFtZShvKSwxPT09bil7aWYoIXRoaXMubG9vcClyZXR1cm4hMDt0aGlzLl9yZXN0YXJ0KHQpLHRoaXMub25yZXN0YXJ0JiZ0aGlzLm9ucmVzdGFydCgpfXJldHVybiExfXRoaXMuX3BhdXNlZFRpbWUrPWV9LHQucHJvdG90eXBlLl9yZXN0YXJ0PWZ1bmN0aW9uKHQpe3ZhciBlPSh0LXRoaXMuX3N0YXJ0VGltZS10aGlzLl9wYXVzZWRUaW1lKSV0aGlzLl9saWZlO3RoaXMuX3N0YXJ0VGltZT10LWUrdGhpcy5nYXAsdGhpcy5fcGF1c2VkVGltZT0wfSx0LnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3RoaXMuX3BhdXNlZD0hMH0sdC5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7dGhpcy5fcGF1c2VkPSExfSx0fSgpLERlPWZ1bmN0aW9uKHQpe3RoaXMudmFsdWU9dH0sQWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5fbGVuPTB9cmV0dXJuIHQucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgRGUodCk7cmV0dXJuIHRoaXMuaW5zZXJ0RW50cnkoZSksZX0sdC5wcm90b3R5cGUuaW5zZXJ0RW50cnk9ZnVuY3Rpb24odCl7dGhpcy5oZWFkPyh0aGlzLnRhaWwubmV4dD10LHQucHJldj10aGlzLnRhaWwsdC5uZXh0PW51bGwsdGhpcy50YWlsPXQpOnRoaXMuaGVhZD10aGlzLnRhaWw9dCx0aGlzLl9sZW4rK30sdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3ZhciBlPXQucHJldixuPXQubmV4dDtlP2UubmV4dD1uOnRoaXMuaGVhZD1uLG4/bi5wcmV2PWU6dGhpcy50YWlsPWUsdC5uZXh0PXQucHJldj1udWxsLHRoaXMuX2xlbi0tfSx0LnByb3RvdHlwZS5sZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGVufSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuaGVhZD10aGlzLnRhaWw9bnVsbCx0aGlzLl9sZW49MH0sdH0oKSxrZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fbGlzdD1uZXcgQWUsdGhpcy5fbWF4U2l6ZT0xMCx0aGlzLl9tYXA9e30sdGhpcy5fbWF4U2l6ZT10fXJldHVybiB0LnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9saXN0LGk9dGhpcy5fbWFwLHI9bnVsbDtpZihudWxsPT1pW3RdKXt2YXIgbz1uLmxlbigpLGE9dGhpcy5fbGFzdFJlbW92ZWRFbnRyeTtpZihvPj10aGlzLl9tYXhTaXplJiZvPjApe3ZhciBzPW4uaGVhZDtuLnJlbW92ZShzKSxkZWxldGUgaVtzLmtleV0scj1zLnZhbHVlLHRoaXMuX2xhc3RSZW1vdmVkRW50cnk9c31hP2EudmFsdWU9ZTphPW5ldyBEZShlKSxhLmtleT10LG4uaW5zZXJ0RW50cnkoYSksaVt0XT1hfXJldHVybiByfSx0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwW3RdLG49dGhpcy5fbGlzdDtpZihudWxsIT1lKXJldHVybiBlIT09bi50YWlsJiYobi5yZW1vdmUoZSksbi5pbnNlcnRFbnRyeShlKSksZS52YWx1ZX0sdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9saXN0LmNsZWFyKCksdGhpcy5fbWFwPXt9fSx0LnByb3RvdHlwZS5sZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGlzdC5sZW4oKX0sdH0oKSxMZT17dHJhbnNwYXJlbnQ6WzAsMCwwLDBdLGFsaWNlYmx1ZTpbMjQwLDI0OCwyNTUsMV0sYW50aXF1ZXdoaXRlOlsyNTAsMjM1LDIxNSwxXSxhcXVhOlswLDI1NSwyNTUsMV0sYXF1YW1hcmluZTpbMTI3LDI1NSwyMTIsMV0sYXp1cmU6WzI0MCwyNTUsMjU1LDFdLGJlaWdlOlsyNDUsMjQ1LDIyMCwxXSxiaXNxdWU6WzI1NSwyMjgsMTk2LDFdLGJsYWNrOlswLDAsMCwxXSxibGFuY2hlZGFsbW9uZDpbMjU1LDIzNSwyMDUsMV0sYmx1ZTpbMCwwLDI1NSwxXSxibHVldmlvbGV0OlsxMzgsNDMsMjI2LDFdLGJyb3duOlsxNjUsNDIsNDIsMV0sYnVybHl3b29kOlsyMjIsMTg0LDEzNSwxXSxjYWRldGJsdWU6Wzk1LDE1OCwxNjAsMV0sY2hhcnRyZXVzZTpbMTI3LDI1NSwwLDFdLGNob2NvbGF0ZTpbMjEwLDEwNSwzMCwxXSxjb3JhbDpbMjU1LDEyNyw4MCwxXSxjb3JuZmxvd2VyYmx1ZTpbMTAwLDE0OSwyMzcsMV0sY29ybnNpbGs6WzI1NSwyNDgsMjIwLDFdLGNyaW1zb246WzIyMCwyMCw2MCwxXSxjeWFuOlswLDI1NSwyNTUsMV0sZGFya2JsdWU6WzAsMCwxMzksMV0sZGFya2N5YW46WzAsMTM5LDEzOSwxXSxkYXJrZ29sZGVucm9kOlsxODQsMTM0LDExLDFdLGRhcmtncmF5OlsxNjksMTY5LDE2OSwxXSxkYXJrZ3JlZW46WzAsMTAwLDAsMV0sZGFya2dyZXk6WzE2OSwxNjksMTY5LDFdLGRhcmtraGFraTpbMTg5LDE4MywxMDcsMV0sZGFya21hZ2VudGE6WzEzOSwwLDEzOSwxXSxkYXJrb2xpdmVncmVlbjpbODUsMTA3LDQ3LDFdLGRhcmtvcmFuZ2U6WzI1NSwxNDAsMCwxXSxkYXJrb3JjaGlkOlsxNTMsNTAsMjA0LDFdLGRhcmtyZWQ6WzEzOSwwLDAsMV0sZGFya3NhbG1vbjpbMjMzLDE1MCwxMjIsMV0sZGFya3NlYWdyZWVuOlsxNDMsMTg4LDE0MywxXSxkYXJrc2xhdGVibHVlOls3Miw2MSwxMzksMV0sZGFya3NsYXRlZ3JheTpbNDcsNzksNzksMV0sZGFya3NsYXRlZ3JleTpbNDcsNzksNzksMV0sZGFya3R1cnF1b2lzZTpbMCwyMDYsMjA5LDFdLGRhcmt2aW9sZXQ6WzE0OCwwLDIxMSwxXSxkZWVwcGluazpbMjU1LDIwLDE0NywxXSxkZWVwc2t5Ymx1ZTpbMCwxOTEsMjU1LDFdLGRpbWdyYXk6WzEwNSwxMDUsMTA1LDFdLGRpbWdyZXk6WzEwNSwxMDUsMTA1LDFdLGRvZGdlcmJsdWU6WzMwLDE0NCwyNTUsMV0sZmlyZWJyaWNrOlsxNzgsMzQsMzQsMV0sZmxvcmFsd2hpdGU6WzI1NSwyNTAsMjQwLDFdLGZvcmVzdGdyZWVuOlszNCwxMzksMzQsMV0sZnVjaHNpYTpbMjU1LDAsMjU1LDFdLGdhaW5zYm9ybzpbMjIwLDIyMCwyMjAsMV0sZ2hvc3R3aGl0ZTpbMjQ4LDI0OCwyNTUsMV0sZ29sZDpbMjU1LDIxNSwwLDFdLGdvbGRlbnJvZDpbMjE4LDE2NSwzMiwxXSxncmF5OlsxMjgsMTI4LDEyOCwxXSxncmVlbjpbMCwxMjgsMCwxXSxncmVlbnllbGxvdzpbMTczLDI1NSw0NywxXSxncmV5OlsxMjgsMTI4LDEyOCwxXSxob25leWRldzpbMjQwLDI1NSwyNDAsMV0saG90cGluazpbMjU1LDEwNSwxODAsMV0saW5kaWFucmVkOlsyMDUsOTIsOTIsMV0saW5kaWdvOls3NSwwLDEzMCwxXSxpdm9yeTpbMjU1LDI1NSwyNDAsMV0sa2hha2k6WzI0MCwyMzAsMTQwLDFdLGxhdmVuZGVyOlsyMzAsMjMwLDI1MCwxXSxsYXZlbmRlcmJsdXNoOlsyNTUsMjQwLDI0NSwxXSxsYXduZ3JlZW46WzEyNCwyNTIsMCwxXSxsZW1vbmNoaWZmb246WzI1NSwyNTAsMjA1LDFdLGxpZ2h0Ymx1ZTpbMTczLDIxNiwyMzAsMV0sbGlnaHRjb3JhbDpbMjQwLDEyOCwxMjgsMV0sbGlnaHRjeWFuOlsyMjQsMjU1LDI1NSwxXSxsaWdodGdvbGRlbnJvZHllbGxvdzpbMjUwLDI1MCwyMTAsMV0sbGlnaHRncmF5OlsyMTEsMjExLDIxMSwxXSxsaWdodGdyZWVuOlsxNDQsMjM4LDE0NCwxXSxsaWdodGdyZXk6WzIxMSwyMTEsMjExLDFdLGxpZ2h0cGluazpbMjU1LDE4MiwxOTMsMV0sbGlnaHRzYWxtb246WzI1NSwxNjAsMTIyLDFdLGxpZ2h0c2VhZ3JlZW46WzMyLDE3OCwxNzAsMV0sbGlnaHRza3libHVlOlsxMzUsMjA2LDI1MCwxXSxsaWdodHNsYXRlZ3JheTpbMTE5LDEzNiwxNTMsMV0sbGlnaHRzbGF0ZWdyZXk6WzExOSwxMzYsMTUzLDFdLGxpZ2h0c3RlZWxibHVlOlsxNzYsMTk2LDIyMiwxXSxsaWdodHllbGxvdzpbMjU1LDI1NSwyMjQsMV0sbGltZTpbMCwyNTUsMCwxXSxsaW1lZ3JlZW46WzUwLDIwNSw1MCwxXSxsaW5lbjpbMjUwLDI0MCwyMzAsMV0sbWFnZW50YTpbMjU1LDAsMjU1LDFdLG1hcm9vbjpbMTI4LDAsMCwxXSxtZWRpdW1hcXVhbWFyaW5lOlsxMDIsMjA1LDE3MCwxXSxtZWRpdW1ibHVlOlswLDAsMjA1LDFdLG1lZGl1bW9yY2hpZDpbMTg2LDg1LDIxMSwxXSxtZWRpdW1wdXJwbGU6WzE0NywxMTIsMjE5LDFdLG1lZGl1bXNlYWdyZWVuOls2MCwxNzksMTEzLDFdLG1lZGl1bXNsYXRlYmx1ZTpbMTIzLDEwNCwyMzgsMV0sbWVkaXVtc3ByaW5nZ3JlZW46WzAsMjUwLDE1NCwxXSxtZWRpdW10dXJxdW9pc2U6WzcyLDIwOSwyMDQsMV0sbWVkaXVtdmlvbGV0cmVkOlsxOTksMjEsMTMzLDFdLG1pZG5pZ2h0Ymx1ZTpbMjUsMjUsMTEyLDFdLG1pbnRjcmVhbTpbMjQ1LDI1NSwyNTAsMV0sbWlzdHlyb3NlOlsyNTUsMjI4LDIyNSwxXSxtb2NjYXNpbjpbMjU1LDIyOCwxODEsMV0sbmF2YWpvd2hpdGU6WzI1NSwyMjIsMTczLDFdLG5hdnk6WzAsMCwxMjgsMV0sb2xkbGFjZTpbMjUzLDI0NSwyMzAsMV0sb2xpdmU6WzEyOCwxMjgsMCwxXSxvbGl2ZWRyYWI6WzEwNywxNDIsMzUsMV0sb3JhbmdlOlsyNTUsMTY1LDAsMV0sb3JhbmdlcmVkOlsyNTUsNjksMCwxXSxvcmNoaWQ6WzIxOCwxMTIsMjE0LDFdLHBhbGVnb2xkZW5yb2Q6WzIzOCwyMzIsMTcwLDFdLHBhbGVncmVlbjpbMTUyLDI1MSwxNTIsMV0scGFsZXR1cnF1b2lzZTpbMTc1LDIzOCwyMzgsMV0scGFsZXZpb2xldHJlZDpbMjE5LDExMiwxNDcsMV0scGFwYXlhd2hpcDpbMjU1LDIzOSwyMTMsMV0scGVhY2hwdWZmOlsyNTUsMjE4LDE4NSwxXSxwZXJ1OlsyMDUsMTMzLDYzLDFdLHBpbms6WzI1NSwxOTIsMjAzLDFdLHBsdW06WzIyMSwxNjAsMjIxLDFdLHBvd2RlcmJsdWU6WzE3NiwyMjQsMjMwLDFdLHB1cnBsZTpbMTI4LDAsMTI4LDFdLHJlZDpbMjU1LDAsMCwxXSxyb3N5YnJvd246WzE4OCwxNDMsMTQzLDFdLHJveWFsYmx1ZTpbNjUsMTA1LDIyNSwxXSxzYWRkbGVicm93bjpbMTM5LDY5LDE5LDFdLHNhbG1vbjpbMjUwLDEyOCwxMTQsMV0sc2FuZHlicm93bjpbMjQ0LDE2NCw5NiwxXSxzZWFncmVlbjpbNDYsMTM5LDg3LDFdLHNlYXNoZWxsOlsyNTUsMjQ1LDIzOCwxXSxzaWVubmE6WzE2MCw4Miw0NSwxXSxzaWx2ZXI6WzE5MiwxOTIsMTkyLDFdLHNreWJsdWU6WzEzNSwyMDYsMjM1LDFdLHNsYXRlYmx1ZTpbMTA2LDkwLDIwNSwxXSxzbGF0ZWdyYXk6WzExMiwxMjgsMTQ0LDFdLHNsYXRlZ3JleTpbMTEyLDEyOCwxNDQsMV0sc25vdzpbMjU1LDI1MCwyNTAsMV0sc3ByaW5nZ3JlZW46WzAsMjU1LDEyNywxXSxzdGVlbGJsdWU6WzcwLDEzMCwxODAsMV0sdGFuOlsyMTAsMTgwLDE0MCwxXSx0ZWFsOlswLDEyOCwxMjgsMV0sdGhpc3RsZTpbMjE2LDE5MSwyMTYsMV0sdG9tYXRvOlsyNTUsOTksNzEsMV0sdHVycXVvaXNlOls2NCwyMjQsMjA4LDFdLHZpb2xldDpbMjM4LDEzMCwyMzgsMV0sd2hlYXQ6WzI0NSwyMjIsMTc5LDFdLHdoaXRlOlsyNTUsMjU1LDI1NSwxXSx3aGl0ZXNtb2tlOlsyNDUsMjQ1LDI0NSwxXSx5ZWxsb3c6WzI1NSwyNTUsMCwxXSx5ZWxsb3dncmVlbjpbMTU0LDIwNSw1MCwxXX07ZnVuY3Rpb24gUGUodCl7cmV0dXJuKHQ9TWF0aC5yb3VuZCh0KSk8MD8wOnQ+MjU1PzI1NTp0fWZ1bmN0aW9uIE9lKHQpe3JldHVybiB0PDA/MDp0PjE/MTp0fWZ1bmN0aW9uIFJlKHQpe3ZhciBlPXQ7cmV0dXJuIGUubGVuZ3RoJiYiJSI9PT1lLmNoYXJBdChlLmxlbmd0aC0xKT9QZShwYXJzZUZsb2F0KGUpLzEwMCoyNTUpOlBlKHBhcnNlSW50KGUsMTApKX1mdW5jdGlvbiBOZSh0KXt2YXIgZT10O3JldHVybiBlLmxlbmd0aCYmIiUiPT09ZS5jaGFyQXQoZS5sZW5ndGgtMSk/T2UocGFyc2VGbG9hdChlKS8xMDApOk9lKHBhcnNlRmxvYXQoZSkpfWZ1bmN0aW9uIHplKHQsZSxuKXtyZXR1cm4gbjwwP24rPTE6bj4xJiYobi09MSksNipuPDE/dCsoZS10KSpuKjY6MipuPDE/ZTozKm48Mj90KyhlLXQpKigyLzMtbikqNjp0fWZ1bmN0aW9uIEVlKHQsZSxuKXtyZXR1cm4gdCsoZS10KSpufWZ1bmN0aW9uIFZlKHQsZSxuLGkscil7cmV0dXJuIHRbMF09ZSx0WzFdPW4sdFsyXT1pLHRbM109cix0fWZ1bmN0aW9uIEJlKHQsZSl7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdFsyXT1lWzJdLHRbM109ZVszXSx0fXZhciBHZT1uZXcga2UoMjApLEZlPW51bGw7ZnVuY3Rpb24gSGUodCxlKXtGZSYmQmUoRmUsZSksRmU9R2UucHV0KHQsRmV8fGUuc2xpY2UoKSl9ZnVuY3Rpb24gV2UodCxlKXtpZih0KXtlPWV8fFtdO3ZhciBuPUdlLmdldCh0KTtpZihuKXJldHVybiBCZShlLG4pO3ZhciBpPSh0Kz0iIikucmVwbGFjZSgvIC9nLCIiKS50b0xvd2VyQ2FzZSgpO2lmKGkgaW4gTGUpcmV0dXJuIEJlKGUsTGVbaV0pLEhlKHQsZSksZTt2YXIgcixvPWkubGVuZ3RoO2lmKCIjIj09PWkuY2hhckF0KDApKXJldHVybiA0PT09b3x8NT09PW8/KHI9cGFyc2VJbnQoaS5zbGljZSgxLDQpLDE2KSk+PTAmJnI8PTQwOTU/KFZlKGUsKDM4NDAmcik+PjR8KDM4NDAmcik+PjgsMjQwJnJ8KDI0MCZyKT4+NCwxNSZyfCgxNSZyKTw8NCw1PT09bz9wYXJzZUludChpLnNsaWNlKDQpLDE2KS8xNToxKSxIZSh0LGUpLGUpOnZvaWQgVmUoZSwwLDAsMCwxKTo3PT09b3x8OT09PW8/KHI9cGFyc2VJbnQoaS5zbGljZSgxLDcpLDE2KSk+PTAmJnI8PTE2Nzc3MjE1PyhWZShlLCgxNjcxMTY4MCZyKT4+MTYsKDY1MjgwJnIpPj44LDI1NSZyLDk9PT1vP3BhcnNlSW50KGkuc2xpY2UoNyksMTYpLzI1NToxKSxIZSh0LGUpLGUpOnZvaWQgVmUoZSwwLDAsMCwxKTp2b2lkIDA7dmFyIGE9aS5pbmRleE9mKCIoIikscz1pLmluZGV4T2YoIikiKTtpZigtMSE9PWEmJnMrMT09PW8pe3ZhciBsPWkuc3Vic3RyKDAsYSksdT1pLnN1YnN0cihhKzEscy0oYSsxKSkuc3BsaXQoIiwiKSxoPTE7c3dpdGNoKGwpe2Nhc2UicmdiYSI6aWYoNCE9PXUubGVuZ3RoKXJldHVybiAzPT09dS5sZW5ndGg/VmUoZSwrdVswXSwrdVsxXSwrdVsyXSwxKTpWZShlLDAsMCwwLDEpO2g9TmUodS5wb3AoKSk7Y2FzZSJyZ2IiOnJldHVybiAzIT09dS5sZW5ndGg/dm9pZCBWZShlLDAsMCwwLDEpOihWZShlLFJlKHVbMF0pLFJlKHVbMV0pLFJlKHVbMl0pLGgpLEhlKHQsZSksZSk7Y2FzZSJoc2xhIjpyZXR1cm4gNCE9PXUubGVuZ3RoP3ZvaWQgVmUoZSwwLDAsMCwxKToodVszXT1OZSh1WzNdKSxVZSh1LGUpLEhlKHQsZSksZSk7Y2FzZSJoc2wiOnJldHVybiAzIT09dS5sZW5ndGg/dm9pZCBWZShlLDAsMCwwLDEpOihVZSh1LGUpLEhlKHQsZSksZSk7ZGVmYXVsdDpyZXR1cm59fVZlKGUsMCwwLDAsMSl9fWZ1bmN0aW9uIFVlKHQsZSl7dmFyIG49KHBhcnNlRmxvYXQodFswXSklMzYwKzM2MCklMzYwLzM2MCxpPU5lKHRbMV0pLHI9TmUodFsyXSksbz1yPD0uNT9yKihpKzEpOnIraS1yKmksYT0yKnItbztyZXR1cm4gVmUoZT1lfHxbXSxQZSgyNTUqemUoYSxvLG4rMS8zKSksUGUoMjU1KnplKGEsbyxuKSksUGUoMjU1KnplKGEsbyxuLTEvMykpLDEpLDQ9PT10Lmxlbmd0aCYmKGVbM109dFszXSksZX1mdW5jdGlvbiBYZSh0LGUpe3ZhciBuPVdlKHQpO2lmKG4pe2Zvcih2YXIgaT0wO2k8MztpKyspbltpXT1lPDA/bltpXSooMS1lKXwwOigyNTUtbltpXSkqZStuW2ldfDAsbltpXT4yNTU/bltpXT0yNTU6bltpXTwwJiYobltpXT0wKTtyZXR1cm4gUWUobiw0PT09bi5sZW5ndGg/InJnYmEiOiJyZ2IiKX19ZnVuY3Rpb24gWWUodCl7dmFyIGU9V2UodCk7aWYoZSlyZXR1cm4oKDE8PDI0KSsoZVswXTw8MTYpKyhlWzFdPDw4KSsgK2VbMl0pLnRvU3RyaW5nKDE2KS5zbGljZSgxKX1mdW5jdGlvbiBaZSh0LGUsbil7aWYoZSYmZS5sZW5ndGgmJnQ+PTAmJnQ8PTEpe249bnx8W107dmFyIGk9dCooZS5sZW5ndGgtMSkscj1NYXRoLmZsb29yKGkpLG89TWF0aC5jZWlsKGkpLGE9ZVtyXSxzPWVbb10sbD1pLXI7cmV0dXJuIG5bMF09UGUoRWUoYVswXSxzWzBdLGwpKSxuWzFdPVBlKEVlKGFbMV0sc1sxXSxsKSksblsyXT1QZShFZShhWzJdLHNbMl0sbCkpLG5bM109T2UoRWUoYVszXSxzWzNdLGwpKSxufX12YXIgamU9WmU7ZnVuY3Rpb24gcWUodCxlLG4pe2lmKGUmJmUubGVuZ3RoJiZ0Pj0wJiZ0PD0xKXt2YXIgaT10KihlLmxlbmd0aC0xKSxyPU1hdGguZmxvb3IoaSksbz1NYXRoLmNlaWwoaSksYT1XZShlW3JdKSxzPVdlKGVbb10pLGw9aS1yLHU9UWUoW1BlKEVlKGFbMF0sc1swXSxsKSksUGUoRWUoYVsxXSxzWzFdLGwpKSxQZShFZShhWzJdLHNbMl0sbCkpLE9lKEVlKGFbM10sc1szXSxsKSldLCJyZ2JhIik7cmV0dXJuIG4/e2NvbG9yOnUsbGVmdEluZGV4OnIscmlnaHRJbmRleDpvLHZhbHVlOml9OnV9fXZhciBLZT1xZTtmdW5jdGlvbiAkZSh0LGUsbixpKXt2YXIgcj1XZSh0KTtpZih0KXJldHVybiByPWZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlLG4saT10WzBdLzI1NSxyPXRbMV0vMjU1LG89dFsyXS8yNTUsYT1NYXRoLm1pbihpLHIsbykscz1NYXRoLm1heChpLHIsbyksbD1zLWEsdT0ocythKS8yO2lmKDA9PT1sKWU9MCxuPTA7ZWxzZXtuPXU8LjU/bC8ocythKTpsLygyLXMtYSk7dmFyIGg9KChzLWkpLzYrbC8yKS9sLGM9KChzLXIpLzYrbC8yKS9sLHA9KChzLW8pLzYrbC8yKS9sO2k9PT1zP2U9cC1jOnI9PT1zP2U9MS8zK2gtcDpvPT09cyYmKGU9Mi8zK2MtaCksZTwwJiYoZSs9MSksZT4xJiYoZS09MSl9dmFyIGQ9WzM2MCplLG4sdV07cmV0dXJuIG51bGwhPXRbM10mJmQucHVzaCh0WzNdKSxkfX0ociksbnVsbCE9ZSYmKHJbMF09ZnVuY3Rpb24odCl7cmV0dXJuKHQ9TWF0aC5yb3VuZCh0KSk8MD8wOnQ+MzYwPzM2MDp0fShlKSksbnVsbCE9biYmKHJbMV09TmUobikpLG51bGwhPWkmJihyWzJdPU5lKGkpKSxRZShVZShyKSwicmdiYSIpfWZ1bmN0aW9uIEplKHQsZSl7dmFyIG49V2UodCk7aWYobiYmbnVsbCE9ZSlyZXR1cm4gblszXT1PZShlKSxRZShuLCJyZ2JhIil9ZnVuY3Rpb24gUWUodCxlKXtpZih0JiZ0Lmxlbmd0aCl7dmFyIG49dFswXSsiLCIrdFsxXSsiLCIrdFsyXTtyZXR1cm4icmdiYSIhPT1lJiYiaHN2YSIhPT1lJiYiaHNsYSIhPT1lfHwobis9IiwiK3RbM10pLGUrIigiK24rIikifX1mdW5jdGlvbiB0bih0LGUpe3ZhciBuPVdlKHQpO3JldHVybiBuPyguMjk5Km5bMF0rLjU4NypuWzFdKy4xMTQqblsyXSkqblszXS8yNTUrKDEtblszXSkqZTowfXZhciBlbj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxwYXJzZTpXZSxsaWZ0OlhlLHRvSGV4OlllLGZhc3RMZXJwOlplLGZhc3RNYXBUb0NvbG9yOmplLGxlcnA6cWUsbWFwVG9Db2xvcjpLZSxtb2RpZnlIU0w6JGUsbW9kaWZ5QWxwaGE6SmUsc3RyaW5naWZ5OlFlLGx1bTp0bixyYW5kb206ZnVuY3Rpb24oKXtyZXR1cm4icmdiKCIrTWF0aC5yb3VuZCgyNTUqTWF0aC5yYW5kb20oKSkrIiwiK01hdGgucm91bmQoMjU1Kk1hdGgucmFuZG9tKCkpKyIsIitNYXRoLnJvdW5kKDI1NSpNYXRoLnJhbmRvbSgpKSsiKSJ9fSksbm49QXJyYXkucHJvdG90eXBlLnNsaWNlO2Z1bmN0aW9uIHJuKHQsZSxuKXtyZXR1cm4oZS10KSpuK3R9ZnVuY3Rpb24gb24odCxlLG4saSl7Zm9yKHZhciByPWUubGVuZ3RoLG89MDtvPHI7bysrKXRbb109cm4oZVtvXSxuW29dLGkpfWZ1bmN0aW9uIGFuKHQsZSxuLGkpe2Zvcih2YXIgcj1lLmxlbmd0aCxvPTA7bzxyO28rKyl0W29dPWVbb10rbltvXSppO3JldHVybiB0fWZ1bmN0aW9uIHNuKHQsZSxuLGkpe2Zvcih2YXIgcj1lLmxlbmd0aCxvPXImJmVbMF0ubGVuZ3RoLGE9MDthPHI7YSsrKXt0W2FdfHwodFthXT1bXSk7Zm9yKHZhciBzPTA7czxvO3MrKyl0W2FdW3NdPWVbYV1bc10rblthXVtzXSppfXJldHVybiB0fWZ1bmN0aW9uIGxuKHQsZSxuKXt2YXIgaT10LHI9ZTtpZihpLnB1c2gmJnIucHVzaCl7dmFyIG89aS5sZW5ndGgsYT1yLmxlbmd0aDtpZihvIT09YSlpZihvPmEpaS5sZW5ndGg9YTtlbHNlIGZvcih2YXIgcz1vO3M8YTtzKyspaS5wdXNoKDE9PT1uP3Jbc106bm4uY2FsbChyW3NdKSk7dmFyIGw9aVswXSYmaVswXS5sZW5ndGg7Zm9yKHM9MDtzPGkubGVuZ3RoO3MrKylpZigxPT09bilpc05hTihpW3NdKSYmKGlbc109cltzXSk7ZWxzZSBmb3IodmFyIHU9MDt1PGw7dSsrKWlzTmFOKGlbc11bdV0pJiYoaVtzXVt1XT1yW3NdW3VdKX19ZnVuY3Rpb24gdW4odCxlKXt2YXIgbj10Lmxlbmd0aDtpZihuIT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBpPTA7aTxuO2krKylpZih0W2ldIT09ZVtpXSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBobih0LGUsbixpLHIsbyxhKXt2YXIgcz0uNSoobi10KSxsPS41KihpLWUpO3JldHVybigyKihlLW4pK3MrbCkqYSsoLTMqKGUtbiktMipzLWwpKm8rcypyK2V9ZnVuY3Rpb24gY24odCxlLG4saSxyLG8sYSxzKXtmb3IodmFyIGw9ZS5sZW5ndGgsdT0wO3U8bDt1KyspdFt1XT1obihlW3VdLG5bdV0saVt1XSxyW3VdLG8sYSxzKX1mdW5jdGlvbiBwbih0KXtpZihQKHQpKXt2YXIgZT10Lmxlbmd0aDtpZihQKHRbMF0pKXtmb3IodmFyIG49W10saT0wO2k8ZTtpKyspbi5wdXNoKG5uLmNhbGwodFtpXSkpO3JldHVybiBufXJldHVybiBubi5jYWxsKHQpfXJldHVybiB0fWZ1bmN0aW9uIGRuKHQpe3JldHVybiB0WzBdPU1hdGguZmxvb3IodFswXSksdFsxXT1NYXRoLmZsb29yKHRbMV0pLHRbMl09TWF0aC5mbG9vcih0WzJdKSwicmdiYSgiK3Quam9pbigiLCIpKyIpIn12YXIgZm4sZ24seW49WzAsMCwwLDBdLHZuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmtleWZyYW1lcz1bXSx0aGlzLm1heFRpbWU9MCx0aGlzLmFyckRpbT0wLHRoaXMuaW50ZXJwb2xhYmxlPSEwLHRoaXMuX25lZWRzU29ydD0hMSx0aGlzLl9pc0FsbFZhbHVlRXF1YWw9ITAsdGhpcy5fbGFzdEZyYW1lPTAsdGhpcy5fbGFzdEZyYW1lUGVyY2VudD0wLHRoaXMucHJvcE5hbWU9dH1yZXR1cm4gdC5wcm90b3R5cGUuaXNGaW5pc2hlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9maW5pc2hlZH0sdC5wcm90b3R5cGUuc2V0RmluaXNoZWQ9ZnVuY3Rpb24oKXt0aGlzLl9maW5pc2hlZD0hMCx0aGlzLl9hZGRpdGl2ZVRyYWNrJiZ0aGlzLl9hZGRpdGl2ZVRyYWNrLnNldEZpbmlzaGVkKCl9LHQucHJvdG90eXBlLm5lZWRzQW5pbWF0ZT1mdW5jdGlvbigpe3JldHVybiF0aGlzLl9pc0FsbFZhbHVlRXF1YWwmJnRoaXMua2V5ZnJhbWVzLmxlbmd0aD49MiYmdGhpcy5pbnRlcnBvbGFibGUmJnRoaXMubWF4VGltZT4wfSx0LnByb3RvdHlwZS5nZXRBZGRpdGl2ZVRyYWNrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FkZGl0aXZlVHJhY2t9LHQucHJvdG90eXBlLmFkZEtleWZyYW1lPWZ1bmN0aW9uKHQsZSl7dD49dGhpcy5tYXhUaW1lP3RoaXMubWF4VGltZT10OnRoaXMuX25lZWRzU29ydD0hMDt2YXIgbj10aGlzLmtleWZyYW1lcyxpPW4ubGVuZ3RoO2lmKHRoaXMuaW50ZXJwb2xhYmxlKWlmKFAoZSkpe3ZhciByPWZ1bmN0aW9uKHQpe3JldHVybiBQKHQmJnRbMF0pPzI6MX0oZSk7aWYoaT4wJiZ0aGlzLmFyckRpbSE9PXIpcmV0dXJuIHZvaWQodGhpcy5pbnRlcnBvbGFibGU9ITEpO2lmKDE9PT1yJiYibnVtYmVyIiE9dHlwZW9mIGVbMF18fDI9PT1yJiYibnVtYmVyIiE9dHlwZW9mIGVbMF1bMF0pcmV0dXJuIHZvaWQodGhpcy5pbnRlcnBvbGFibGU9ITEpO2lmKGk+MCl7dmFyIG89bltpLTFdO3RoaXMuX2lzQWxsVmFsdWVFcXVhbCYmKDE9PT1yJiZ1bihlLG8udmFsdWUpfHwodGhpcy5faXNBbGxWYWx1ZUVxdWFsPSExKSl9dGhpcy5hcnJEaW09cn1lbHNle2lmKHRoaXMuYXJyRGltPjApcmV0dXJuIHZvaWQodGhpcy5pbnRlcnBvbGFibGU9ITEpO2lmKCJzdHJpbmciPT10eXBlb2YgZSl7dmFyIGE9V2UoZSk7YT8oZT1hLHRoaXMuaXNWYWx1ZUNvbG9yPSEwKTp0aGlzLmludGVycG9sYWJsZT0hMX1lbHNlIGlmKCJudW1iZXIiIT10eXBlb2YgZXx8aXNOYU4oZSkpcmV0dXJuIHZvaWQodGhpcy5pbnRlcnBvbGFibGU9ITEpO2lmKHRoaXMuX2lzQWxsVmFsdWVFcXVhbCYmaT4wKXtvPW5baS0xXTsodGhpcy5pc1ZhbHVlQ29sb3ImJiF1bihvLnZhbHVlLGUpfHxvLnZhbHVlIT09ZSkmJih0aGlzLl9pc0FsbFZhbHVlRXF1YWw9ITEpfX12YXIgcz17dGltZTp0LHZhbHVlOmUscGVyY2VudDowfTtyZXR1cm4gdGhpcy5rZXlmcmFtZXMucHVzaChzKSxzfSx0LnByb3RvdHlwZS5wcmVwYXJlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMua2V5ZnJhbWVzO3RoaXMuX25lZWRzU29ydCYmZS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LnRpbWUtZS50aW1lfSkpO2Zvcih2YXIgbj10aGlzLmFyckRpbSxpPWUubGVuZ3RoLHI9ZVtpLTFdLG89MDtvPGk7bysrKWVbb10ucGVyY2VudD1lW29dLnRpbWUvdGhpcy5tYXhUaW1lLG4+MCYmbyE9PWktMSYmbG4oZVtvXS52YWx1ZSxyLnZhbHVlLG4pO2lmKHQmJnRoaXMubmVlZHNBbmltYXRlKCkmJnQubmVlZHNBbmltYXRlKCkmJm49PT10LmFyckRpbSYmdGhpcy5pc1ZhbHVlQ29sb3I9PT10LmlzVmFsdWVDb2xvciYmIXQuX2ZpbmlzaGVkKXt0aGlzLl9hZGRpdGl2ZVRyYWNrPXQ7dmFyIGE9ZVswXS52YWx1ZTtmb3Iobz0wO288aTtvKyspMD09PW4/dGhpcy5pc1ZhbHVlQ29sb3I/ZVtvXS5hZGRpdGl2ZVZhbHVlPWFuKFtdLGVbb10udmFsdWUsYSwtMSk6ZVtvXS5hZGRpdGl2ZVZhbHVlPWVbb10udmFsdWUtYToxPT09bj9lW29dLmFkZGl0aXZlVmFsdWU9YW4oW10sZVtvXS52YWx1ZSxhLC0xKToyPT09biYmKGVbb10uYWRkaXRpdmVWYWx1ZT1zbihbXSxlW29dLnZhbHVlLGEsLTEpKX19LHQucHJvdG90eXBlLnN0ZXA9ZnVuY3Rpb24odCxlKXtpZighdGhpcy5fZmluaXNoZWQpe3RoaXMuX2FkZGl0aXZlVHJhY2smJnRoaXMuX2FkZGl0aXZlVHJhY2suX2ZpbmlzaGVkJiYodGhpcy5fYWRkaXRpdmVUcmFjaz1udWxsKTt2YXIgbixpPW51bGwhPXRoaXMuX2FkZGl0aXZlVHJhY2sscj1pPyJhZGRpdGl2ZVZhbHVlIjoidmFsdWUiLG89dGhpcy5rZXlmcmFtZXMsYT10aGlzLmtleWZyYW1lcy5sZW5ndGgscz10aGlzLnByb3BOYW1lLGw9dGhpcy5hcnJEaW0sdT10aGlzLmlzVmFsdWVDb2xvcjtpZihlPDApbj0wO2Vsc2UgaWYoZTx0aGlzLl9sYXN0RnJhbWVQZXJjZW50KXtmb3Iobj1NYXRoLm1pbih0aGlzLl9sYXN0RnJhbWUrMSxhLTEpO24+PTAmJiEob1tuXS5wZXJjZW50PD1lKTtuLS0pO249TWF0aC5taW4obixhLTIpfWVsc2V7Zm9yKG49dGhpcy5fbGFzdEZyYW1lO248YSYmIShvW25dLnBlcmNlbnQ+ZSk7bisrKTtuPU1hdGgubWluKG4tMSxhLTIpfXZhciBoPW9bbisxXSxjPW9bbl07aWYoYyYmaCl7dGhpcy5fbGFzdEZyYW1lPW4sdGhpcy5fbGFzdEZyYW1lUGVyY2VudD1lO3ZhciBwPWgucGVyY2VudC1jLnBlcmNlbnQ7aWYoMCE9PXApe3ZhciBkPShlLWMucGVyY2VudCkvcCxmPWk/dGhpcy5fYWRkaXRpdmVWYWx1ZTp1P3luOnRbc107aWYoKGw+MHx8dSkmJiFmJiYoZj10aGlzLl9hZGRpdGl2ZVZhbHVlPVtdKSx0aGlzLnVzZVNwbGluZSl7dmFyIGc9b1tuXVtyXSx5PW9bMD09PW4/bjpuLTFdW3JdLHY9b1tuPmEtMj9hLTE6bisxXVtyXSxtPW9bbj5hLTM/YS0xOm4rMl1bcl07aWYobD4wKTE9PT1sP2NuKGYseSxnLHYsbSxkLGQqZCxkKmQqZCk6ZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzKXtmb3IodmFyIGw9ZS5sZW5ndGgsdT1lWzBdLmxlbmd0aCxoPTA7aDxsO2grKyl7dFtoXXx8KHRbMV09W10pO2Zvcih2YXIgYz0wO2M8dTtjKyspdFtoXVtjXT1obihlW2hdW2NdLG5baF1bY10saVtoXVtjXSxyW2hdW2NdLG8sYSxzKX19KGYseSxnLHYsbSxkLGQqZCxkKmQqZCk7ZWxzZSBpZih1KWNuKGYseSxnLHYsbSxkLGQqZCxkKmQqZCksaXx8KHRbc109ZG4oZikpO2Vsc2V7dmFyIF89dm9pZCAwO189dGhpcy5pbnRlcnBvbGFibGU/aG4oeSxnLHYsbSxkLGQqZCxkKmQqZCk6dixpP3RoaXMuX2FkZGl0aXZlVmFsdWU9Xzp0W3NdPV99fWVsc2UgaWYobD4wKTE9PT1sP29uKGYsY1tyXSxoW3JdLGQpOmZ1bmN0aW9uKHQsZSxuLGkpe2Zvcih2YXIgcj1lLmxlbmd0aCxvPXImJmVbMF0ubGVuZ3RoLGE9MDthPHI7YSsrKXt0W2FdfHwodFthXT1bXSk7Zm9yKHZhciBzPTA7czxvO3MrKyl0W2FdW3NdPXJuKGVbYV1bc10sblthXVtzXSxpKX19KGYsY1tyXSxoW3JdLGQpO2Vsc2UgaWYodSlvbihmLGNbcl0saFtyXSxkKSxpfHwodFtzXT1kbihmKSk7ZWxzZXtfPXZvaWQgMDtfPXRoaXMuaW50ZXJwb2xhYmxlP3JuKGNbcl0saFtyXSxkKTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIG4+LjU/ZTp0fShjW3JdLGhbcl0sZCksaT90aGlzLl9hZGRpdGl2ZVZhbHVlPV86dFtzXT1ffWkmJnRoaXMuX2FkZFRvVGFyZ2V0KHQpfX19fSx0LnByb3RvdHlwZS5fYWRkVG9UYXJnZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5hcnJEaW0sbj10aGlzLnByb3BOYW1lLGk9dGhpcy5fYWRkaXRpdmVWYWx1ZTswPT09ZT90aGlzLmlzVmFsdWVDb2xvcj8oV2UodFtuXSx5biksYW4oeW4seW4saSwxKSx0W25dPWRuKHluKSk6dFtuXT10W25dK2k6MT09PWU/YW4odFtuXSx0W25dLGksMSk6Mj09PWUmJnNuKHRbbl0sdFtuXSxpLDEpfSx0fSgpLG1uPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5fdHJhY2tzPXt9LHRoaXMuX3RyYWNrS2V5cz1bXSx0aGlzLl9kZWxheT0wLHRoaXMuX21heFRpbWU9MCx0aGlzLl9wYXVzZWQ9ITEsdGhpcy5fc3RhcnRlZD0wLHRoaXMuX2NsaXA9bnVsbCx0aGlzLl90YXJnZXQ9dCx0aGlzLl9sb29wPWUsZSYmbj93KCJDYW4nIHVzZSBhZGRpdGl2ZSBhbmltYXRpb24gb24gbG9vcGVkIGFuaW1hdGlvbi4iKTp0aGlzLl9hZGRpdGl2ZUFuaW1hdG9ycz1ufXJldHVybiB0LnByb3RvdHlwZS5nZXRUYXJnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGFyZ2V0fSx0LnByb3RvdHlwZS5jaGFuZ2VUYXJnZXQ9ZnVuY3Rpb24odCl7dGhpcy5fdGFyZ2V0PXR9LHQucHJvdG90eXBlLndoZW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy53aGVuV2l0aEtleXModCxlLFYoZSkpfSx0LnByb3RvdHlwZS53aGVuV2l0aEtleXM9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT10aGlzLl90cmFja3Mscj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgbz1uW3JdLGE9aVtvXTtpZighYSl7YT1pW29dPW5ldyB2bihvKTt2YXIgcz12b2lkIDAsbD10aGlzLl9nZXRBZGRpdGl2ZVRyYWNrKG8pO2lmKGwpe3ZhciB1PWwua2V5ZnJhbWVzW2wua2V5ZnJhbWVzLmxlbmd0aC0xXTtzPXUmJnUudmFsdWUsbC5pc1ZhbHVlQ29sb3ImJnMmJihzPWRuKHMpKX1lbHNlIHM9dGhpcy5fdGFyZ2V0W29dO2lmKG51bGw9PXMpY29udGludWU7MCE9PXQmJmEuYWRkS2V5ZnJhbWUoMCxwbihzKSksdGhpcy5fdHJhY2tLZXlzLnB1c2gobyl9YS5hZGRLZXlmcmFtZSh0LHBuKGVbb10pKX1yZXR1cm4gdGhpcy5fbWF4VGltZT1NYXRoLm1heCh0aGlzLl9tYXhUaW1lLHQpLHRoaXN9LHQucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5fY2xpcC5wYXVzZSgpLHRoaXMuX3BhdXNlZD0hMH0sdC5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7dGhpcy5fY2xpcC5yZXN1bWUoKSx0aGlzLl9wYXVzZWQ9ITF9LHQucHJvdG90eXBlLmlzUGF1c2VkPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9wYXVzZWR9LHQucHJvdG90eXBlLl9kb25lQ2FsbGJhY2s9ZnVuY3Rpb24oKXt0aGlzLl9zZXRUcmFja3NGaW5pc2hlZCgpLHRoaXMuX2NsaXA9bnVsbDt2YXIgdD10aGlzLl9kb25lQ2JzO2lmKHQpZm9yKHZhciBlPXQubGVuZ3RoLG49MDtuPGU7bisrKXRbbl0uY2FsbCh0aGlzKX0sdC5wcm90b3R5cGUuX2Fib3J0ZWRDYWxsYmFjaz1mdW5jdGlvbigpe3RoaXMuX3NldFRyYWNrc0ZpbmlzaGVkKCk7dmFyIHQ9dGhpcy5hbmltYXRpb24sZT10aGlzLl9hYm9ydGVkQ2JzO2lmKHQmJnQucmVtb3ZlQ2xpcCh0aGlzLl9jbGlwKSx0aGlzLl9jbGlwPW51bGwsZSlmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyllW25dLmNhbGwodGhpcyl9LHQucHJvdG90eXBlLl9zZXRUcmFja3NGaW5pc2hlZD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl90cmFja3MsZT10aGlzLl90cmFja0tleXMsbj0wO248ZS5sZW5ndGg7bisrKXRbZVtuXV0uc2V0RmluaXNoZWQoKX0sdC5wcm90b3R5cGUuX2dldEFkZGl0aXZlVHJhY2s9ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLl9hZGRpdGl2ZUFuaW1hdG9ycztpZihuKWZvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldLmdldFRyYWNrKHQpO3ImJihlPXIpfXJldHVybiBlfSx0LnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbih0LGUpe2lmKCEodGhpcy5fc3RhcnRlZD4wKSl7dGhpcy5fc3RhcnRlZD0xO2Zvcih2YXIgbj10aGlzLGk9W10scj0wO3I8dGhpcy5fdHJhY2tLZXlzLmxlbmd0aDtyKyspe3ZhciBvPXRoaXMuX3RyYWNrS2V5c1tyXSxhPXRoaXMuX3RyYWNrc1tvXSxzPXRoaXMuX2dldEFkZGl0aXZlVHJhY2sobyksbD1hLmtleWZyYW1lcztpZihhLnByZXBhcmUocyksYS5uZWVkc0FuaW1hdGUoKSlpLnB1c2goYSk7ZWxzZSBpZighYS5pbnRlcnBvbGFibGUpe3ZhciB1PWxbbC5sZW5ndGgtMV07dSYmKG4uX3RhcmdldFthLnByb3BOYW1lXT11LnZhbHVlKX19aWYoaS5sZW5ndGh8fGUpe3ZhciBoPW5ldyBDZSh7bGlmZTp0aGlzLl9tYXhUaW1lLGxvb3A6dGhpcy5fbG9vcCxkZWxheTp0aGlzLl9kZWxheSxvbmZyYW1lOmZ1bmN0aW9uKHQpe24uX3N0YXJ0ZWQ9Mjt2YXIgZT1uLl9hZGRpdGl2ZUFuaW1hdG9ycztpZihlKXtmb3IodmFyIHI9ITEsbz0wO288ZS5sZW5ndGg7bysrKWlmKGVbb10uX2NsaXApe3I9ITA7YnJlYWt9cnx8KG4uX2FkZGl0aXZlQW5pbWF0b3JzPW51bGwpfWZvcihvPTA7bzxpLmxlbmd0aDtvKyspaVtvXS5zdGVwKG4uX3RhcmdldCx0KTt2YXIgYT1uLl9vbmZyYW1lQ2JzO2lmKGEpZm9yKG89MDtvPGEubGVuZ3RoO28rKylhW29dKG4uX3RhcmdldCx0KX0sb25kZXN0cm95OmZ1bmN0aW9uKCl7bi5fZG9uZUNhbGxiYWNrKCl9fSk7dGhpcy5fY2xpcD1oLHRoaXMuYW5pbWF0aW9uJiZ0aGlzLmFuaW1hdGlvbi5hZGRDbGlwKGgpLHQmJiJzcGxpbmUiIT09dCYmKGguZWFzaW5nPXQpfWVsc2UgdGhpcy5fZG9uZUNhbGxiYWNrKCk7cmV0dXJuIHRoaXN9fSx0LnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2NsaXApe3ZhciBlPXRoaXMuX2NsaXA7dCYmZS5vbmZyYW1lKDEpLHRoaXMuX2Fib3J0ZWRDYWxsYmFjaygpfX0sdC5wcm90b3R5cGUuZGVsYXk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2RlbGF5PXQsdGhpc30sdC5wcm90b3R5cGUuZHVyaW5nPWZ1bmN0aW9uKHQpe3JldHVybiB0JiYodGhpcy5fb25mcmFtZUNic3x8KHRoaXMuX29uZnJhbWVDYnM9W10pLHRoaXMuX29uZnJhbWVDYnMucHVzaCh0KSksdGhpc30sdC5wcm90b3R5cGUuZG9uZT1mdW5jdGlvbih0KXtyZXR1cm4gdCYmKHRoaXMuX2RvbmVDYnN8fCh0aGlzLl9kb25lQ2JzPVtdKSx0aGlzLl9kb25lQ2JzLnB1c2godCkpLHRoaXN9LHQucHJvdG90eXBlLmFib3J0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJih0aGlzLl9hYm9ydGVkQ2JzfHwodGhpcy5fYWJvcnRlZENicz1bXSksdGhpcy5fYWJvcnRlZENicy5wdXNoKHQpKSx0aGlzfSx0LnByb3RvdHlwZS5nZXRDbGlwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NsaXB9LHQucHJvdG90eXBlLmdldFRyYWNrPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl90cmFja3NbdF19LHQucHJvdG90eXBlLnN0b3BUcmFja3M9ZnVuY3Rpb24odCxlKXtpZighdC5sZW5ndGh8fCF0aGlzLl9jbGlwKXJldHVybiEwO2Zvcih2YXIgbj10aGlzLl90cmFja3MsaT10aGlzLl90cmFja0tleXMscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz1uW3Rbcl1dO28mJihlP28uc3RlcCh0aGlzLl90YXJnZXQsMSk6MT09PXRoaXMuX3N0YXJ0ZWQmJm8uc3RlcCh0aGlzLl90YXJnZXQsMCksby5zZXRGaW5pc2hlZCgpKX12YXIgYT0hMDtmb3Iocj0wO3I8aS5sZW5ndGg7cisrKWlmKCFuW2lbcl1dLmlzRmluaXNoZWQoKSl7YT0hMTticmVha31yZXR1cm4gYSYmdGhpcy5fYWJvcnRlZENhbGxiYWNrKCksYX0sdC5wcm90b3R5cGUuc2F2ZUZpbmFsVG9UYXJnZXQ9ZnVuY3Rpb24odCxlKXtpZih0KXtlPWV8fHRoaXMuX3RyYWNrS2V5cztmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXSxyPXRoaXMuX3RyYWNrc1tpXTtpZihyJiYhci5pc0ZpbmlzaGVkKCkpe3ZhciBvPXIua2V5ZnJhbWVzLGE9b1tvLmxlbmd0aC0xXTtpZihhKXt2YXIgcz1wbihhLnZhbHVlKTtyLmlzVmFsdWVDb2xvciYmKHM9ZG4ocykpLHRbaV09c319fX19LHQucHJvdG90eXBlLl9fY2hhbmdlRmluYWxWYWx1ZT1mdW5jdGlvbih0LGUpe2U9ZXx8Vih0KTtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXSxyPXRoaXMuX3RyYWNrc1tpXTtpZihyKXt2YXIgbz1yLmtleWZyYW1lcztpZihvLmxlbmd0aD4xKXt2YXIgYT1vLnBvcCgpO3IuYWRkS2V5ZnJhbWUoYS50aW1lLHRbaV0pLHIucHJlcGFyZShyLmdldEFkZGl0aXZlVHJhY2soKSl9fX19LHR9KCksX249ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uX3J1bm5pbmc9ITEsbi5fdGltZT0wLG4uX3BhdXNlZFRpbWU9MCxuLl9wYXVzZVN0YXJ0PTAsbi5fcGF1c2VkPSExLGU9ZXx8e30sbi5zdGFnZT1lLnN0YWdlfHx7fSxuLm9uZnJhbWU9ZS5vbmZyYW1lfHxmdW5jdGlvbigpe30sbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmFkZENsaXA9ZnVuY3Rpb24odCl7dC5hbmltYXRpb24mJnRoaXMucmVtb3ZlQ2xpcCh0KSx0aGlzLl9jbGlwc0hlYWQ/KHRoaXMuX2NsaXBzVGFpbC5uZXh0PXQsdC5wcmV2PXRoaXMuX2NsaXBzVGFpbCx0Lm5leHQ9bnVsbCx0aGlzLl9jbGlwc1RhaWw9dCk6dGhpcy5fY2xpcHNIZWFkPXRoaXMuX2NsaXBzVGFpbD10LHQuYW5pbWF0aW9uPXRoaXN9LGUucHJvdG90eXBlLmFkZEFuaW1hdG9yPWZ1bmN0aW9uKHQpe3QuYW5pbWF0aW9uPXRoaXM7dmFyIGU9dC5nZXRDbGlwKCk7ZSYmdGhpcy5hZGRDbGlwKGUpfSxlLnByb3RvdHlwZS5yZW1vdmVDbGlwPWZ1bmN0aW9uKHQpe2lmKHQuYW5pbWF0aW9uKXt2YXIgZT10LnByZXYsbj10Lm5leHQ7ZT9lLm5leHQ9bjp0aGlzLl9jbGlwc0hlYWQ9bixuP24ucHJldj1lOnRoaXMuX2NsaXBzVGFpbD1lLHQubmV4dD10LnByZXY9dC5hbmltYXRpb249bnVsbH19LGUucHJvdG90eXBlLnJlbW92ZUFuaW1hdG9yPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0Q2xpcCgpO2UmJnRoaXMucmVtb3ZlQ2xpcChlKSx0LmFuaW1hdGlvbj1udWxsfSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPShuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMuX3BhdXNlZFRpbWUsbj1lLXRoaXMuX3RpbWUsaT10aGlzLl9jbGlwc0hlYWQ7aTspe3ZhciByPWkubmV4dDtpLnN0ZXAoZSxuKT8oaS5vbmRlc3Ryb3kmJmkub25kZXN0cm95KCksdGhpcy5yZW1vdmVDbGlwKGkpLGk9cik6aT1yfXRoaXMuX3RpbWU9ZSx0fHwodGhpcy5vbmZyYW1lKG4pLHRoaXMudHJpZ2dlcigiZnJhbWUiLG4pLHRoaXMuc3RhZ2UudXBkYXRlJiZ0aGlzLnN0YWdlLnVwZGF0ZSgpKX0sZS5wcm90b3R5cGUuX3N0YXJ0TG9vcD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fcnVubmluZz0hMCxJZSgoZnVuY3Rpb24gZSgpe3QuX3J1bm5pbmcmJihJZShlKSwhdC5fcGF1c2VkJiZ0LnVwZGF0ZSgpKX0pKX0sZS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLl9ydW5uaW5nfHwodGhpcy5fdGltZT0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLl9wYXVzZWRUaW1lPTAsdGhpcy5fc3RhcnRMb29wKCkpfSxlLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5fcnVubmluZz0hMX0sZS5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLl9wYXVzZWR8fCh0aGlzLl9wYXVzZVN0YXJ0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMuX3BhdXNlZD0hMCl9LGUucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe3RoaXMuX3BhdXNlZCYmKHRoaXMuX3BhdXNlZFRpbWUrPShuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMuX3BhdXNlU3RhcnQsdGhpcy5fcGF1c2VkPSExKX0sZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fY2xpcHNIZWFkO3Q7KXt2YXIgZT10Lm5leHQ7dC5wcmV2PXQubmV4dD10LmFuaW1hdGlvbj1udWxsLHQ9ZX10aGlzLl9jbGlwc0hlYWQ9dGhpcy5fY2xpcHNUYWlsPW51bGx9LGUucHJvdG90eXBlLmlzRmluaXNoZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09dGhpcy5fY2xpcHNIZWFkfSxlLnByb3RvdHlwZS5hbmltYXRlPWZ1bmN0aW9uKHQsZSl7ZT1lfHx7fSx0aGlzLnN0YXJ0KCk7dmFyIG49bmV3IG1uKHQsZS5sb29wKTtyZXR1cm4gdGhpcy5hZGRBbmltYXRvcihuKSxufSxlfShGdCkseG49YS5kb21TdXBwb3J0ZWQsYm49KGduPXtwb2ludGVyZG93bjoxLHBvaW50ZXJ1cDoxLHBvaW50ZXJtb3ZlOjEscG9pbnRlcm91dDoxfSx7bW91c2U6Zm49WyJjbGljayIsImRibGNsaWNrIiwibW91c2V3aGVlbCIsIndoZWVsIiwibW91c2VvdXQiLCJtb3VzZXVwIiwibW91c2Vkb3duIiwibW91c2Vtb3ZlIiwiY29udGV4dG1lbnUiXSx0b3VjaDpbInRvdWNoc3RhcnQiLCJ0b3VjaGVuZCIsInRvdWNobW92ZSJdLHBvaW50ZXI6UihmbiwoZnVuY3Rpb24odCl7dmFyIGU9dC5yZXBsYWNlKCJtb3VzZSIsInBvaW50ZXIiKTtyZXR1cm4gZ24uaGFzT3duUHJvcGVydHkoZSk/ZTp0fSkpfSksd249WyJtb3VzZW1vdmUiLCJtb3VzZXVwIl0sU249WyJwb2ludGVybW92ZSIsInBvaW50ZXJ1cCJdLE1uPSExO2Z1bmN0aW9uIEluKHQpe3ZhciBlPXQucG9pbnRlclR5cGU7cmV0dXJuInBlbiI9PT1lfHwidG91Y2giPT09ZX1mdW5jdGlvbiBUbih0KXt0JiYodC56ckJ5VG91Y2g9ITApfWZ1bmN0aW9uIENuKHQsZSl7Zm9yKHZhciBuPWUsaT0hMTtuJiY5IT09bi5ub2RlVHlwZSYmIShpPW4uZG9tQmVsb25nVG9acnx8biE9PWUmJm49PT10LnBhaW50ZXJSb290KTspbj1uLnBhcmVudE5vZGU7cmV0dXJuIGl9dmFyIERuPWZ1bmN0aW9uKHQsZSl7dGhpcy5zdG9wUHJvcGFnYXRpb249Z3QsdGhpcy5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb249Z3QsdGhpcy5wcmV2ZW50RGVmYXVsdD1ndCx0aGlzLnR5cGU9ZS50eXBlLHRoaXMudGFyZ2V0PXRoaXMuY3VycmVudFRhcmdldD10LmRvbSx0aGlzLnBvaW50ZXJUeXBlPWUucG9pbnRlclR5cGUsdGhpcy5jbGllbnRYPWUuY2xpZW50WCx0aGlzLmNsaWVudFk9ZS5jbGllbnRZfSxBbj17bW91c2Vkb3duOmZ1bmN0aW9uKHQpe3Q9dGUodGhpcy5kb20sdCksdGhpcy5fX21heVBvaW50ZXJDYXB0dXJlPVt0LnpyWCx0LnpyWV0sdGhpcy50cmlnZ2VyKCJtb3VzZWRvd24iLHQpfSxtb3VzZW1vdmU6ZnVuY3Rpb24odCl7dD10ZSh0aGlzLmRvbSx0KTt2YXIgZT10aGlzLl9fbWF5UG9pbnRlckNhcHR1cmU7IWV8fHQuenJYPT09ZVswXSYmdC56clk9PT1lWzFdfHx0aGlzLl9fdG9nZ2xlUG9pbnRlckNhcHR1cmUoITApLHRoaXMudHJpZ2dlcigibW91c2Vtb3ZlIix0KX0sbW91c2V1cDpmdW5jdGlvbih0KXt0PXRlKHRoaXMuZG9tLHQpLHRoaXMuX190b2dnbGVQb2ludGVyQ2FwdHVyZSghMSksdGhpcy50cmlnZ2VyKCJtb3VzZXVwIix0KX0sbW91c2VvdXQ6ZnVuY3Rpb24odCl7Q24odGhpcywodD10ZSh0aGlzLmRvbSx0KSkudG9FbGVtZW50fHx0LnJlbGF0ZWRUYXJnZXQpfHwodGhpcy5fX3BvaW50ZXJDYXB0dXJpbmcmJih0LnpyRXZlbnRDb250cm9sPSJub19nbG9iYWxvdXQiKSx0aGlzLnRyaWdnZXIoIm1vdXNlb3V0Iix0KSl9LHdoZWVsOmZ1bmN0aW9uKHQpe01uPSEwLHQ9dGUodGhpcy5kb20sdCksdGhpcy50cmlnZ2VyKCJtb3VzZXdoZWVsIix0KX0sbW91c2V3aGVlbDpmdW5jdGlvbih0KXtNbnx8KHQ9dGUodGhpcy5kb20sdCksdGhpcy50cmlnZ2VyKCJtb3VzZXdoZWVsIix0KSl9LHRvdWNoc3RhcnQ6ZnVuY3Rpb24odCl7VG4odD10ZSh0aGlzLmRvbSx0KSksdGhpcy5fX2xhc3RUb3VjaE1vbWVudD1uZXcgRGF0ZSx0aGlzLmhhbmRsZXIucHJvY2Vzc0dlc3R1cmUodCwic3RhcnQiKSxBbi5tb3VzZW1vdmUuY2FsbCh0aGlzLHQpLEFuLm1vdXNlZG93bi5jYWxsKHRoaXMsdCl9LHRvdWNobW92ZTpmdW5jdGlvbih0KXtUbih0PXRlKHRoaXMuZG9tLHQpKSx0aGlzLmhhbmRsZXIucHJvY2Vzc0dlc3R1cmUodCwiY2hhbmdlIiksQW4ubW91c2Vtb3ZlLmNhbGwodGhpcyx0KX0sdG91Y2hlbmQ6ZnVuY3Rpb24odCl7VG4odD10ZSh0aGlzLmRvbSx0KSksdGhpcy5oYW5kbGVyLnByb2Nlc3NHZXN0dXJlKHQsImVuZCIpLEFuLm1vdXNldXAuY2FsbCh0aGlzLHQpLCtuZXcgRGF0ZS0rdGhpcy5fX2xhc3RUb3VjaE1vbWVudDwzMDAmJkFuLmNsaWNrLmNhbGwodGhpcyx0KX0scG9pbnRlcmRvd246ZnVuY3Rpb24odCl7QW4ubW91c2Vkb3duLmNhbGwodGhpcyx0KX0scG9pbnRlcm1vdmU6ZnVuY3Rpb24odCl7SW4odCl8fEFuLm1vdXNlbW92ZS5jYWxsKHRoaXMsdCl9LHBvaW50ZXJ1cDpmdW5jdGlvbih0KXtBbi5tb3VzZXVwLmNhbGwodGhpcyx0KX0scG9pbnRlcm91dDpmdW5jdGlvbih0KXtJbih0KXx8QW4ubW91c2VvdXQuY2FsbCh0aGlzLHQpfX07TyhbImNsaWNrIiwiZGJsY2xpY2siLCJjb250ZXh0bWVudSJdLChmdW5jdGlvbih0KXtBblt0XT1mdW5jdGlvbihlKXtlPXRlKHRoaXMuZG9tLGUpLHRoaXMudHJpZ2dlcih0LGUpfX0pKTt2YXIga249e3BvaW50ZXJtb3ZlOmZ1bmN0aW9uKHQpe0luKHQpfHxrbi5tb3VzZW1vdmUuY2FsbCh0aGlzLHQpfSxwb2ludGVydXA6ZnVuY3Rpb24odCl7a24ubW91c2V1cC5jYWxsKHRoaXMsdCl9LG1vdXNlbW92ZTpmdW5jdGlvbih0KXt0aGlzLnRyaWdnZXIoIm1vdXNlbW92ZSIsdCl9LG1vdXNldXA6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX3BvaW50ZXJDYXB0dXJpbmc7dGhpcy5fX3RvZ2dsZVBvaW50ZXJDYXB0dXJlKCExKSx0aGlzLnRyaWdnZXIoIm1vdXNldXAiLHQpLGUmJih0LnpyRXZlbnRDb250cm9sPSJvbmx5X2dsb2JhbG91dCIsdGhpcy50cmlnZ2VyKCJtb3VzZW91dCIsdCkpfX07ZnVuY3Rpb24gTG4odCxlKXt2YXIgbj1lLmRvbUhhbmRsZXJzO2EucG9pbnRlckV2ZW50c1N1cHBvcnRlZD9PKGJuLnBvaW50ZXIsKGZ1bmN0aW9uKGkpe09uKGUsaSwoZnVuY3Rpb24oZSl7bltpXS5jYWxsKHQsZSl9KSl9KSk6KGEudG91Y2hFdmVudHNTdXBwb3J0ZWQmJk8oYm4udG91Y2gsKGZ1bmN0aW9uKGkpe09uKGUsaSwoZnVuY3Rpb24ocil7bltpXS5jYWxsKHQsciksZnVuY3Rpb24odCl7dC50b3VjaGluZz0hMCxudWxsIT10LnRvdWNoVGltZXImJihjbGVhclRpbWVvdXQodC50b3VjaFRpbWVyKSx0LnRvdWNoVGltZXI9bnVsbCksdC50b3VjaFRpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC50b3VjaGluZz0hMSx0LnRvdWNoVGltZXI9bnVsbH0pLDcwMCl9KGUpfSkpfSkpLE8oYm4ubW91c2UsKGZ1bmN0aW9uKGkpe09uKGUsaSwoZnVuY3Rpb24ocil7cj1RdChyKSxlLnRvdWNoaW5nfHxuW2ldLmNhbGwodCxyKX0pKX0pKSl9ZnVuY3Rpb24gUG4odCxlKXtmdW5jdGlvbiBuKG4pe09uKGUsbiwoZnVuY3Rpb24oaSl7aT1RdChpKSxDbih0LGkudGFyZ2V0KXx8KGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGUodC5kb20sbmV3IERuKHQsZSksITApfSh0LGkpLGUuZG9tSGFuZGxlcnNbbl0uY2FsbCh0LGkpKX0pLHtjYXB0dXJlOiEwfSl9YS5wb2ludGVyRXZlbnRzU3VwcG9ydGVkP08oU24sbik6YS50b3VjaEV2ZW50c1N1cHBvcnRlZHx8Tyh3bixuKX1mdW5jdGlvbiBPbih0LGUsbixpKXt0Lm1vdW50ZWRbZV09bix0Lmxpc3RlbmVyT3B0c1tlXT1pLGVlKHQuZG9tVGFyZ2V0LGUsbixpKX1mdW5jdGlvbiBSbih0KXt2YXIgZSxuLGkscixvPXQubW91bnRlZDtmb3IodmFyIGEgaW4gbylvLmhhc093blByb3BlcnR5KGEpJiYoZT10LmRvbVRhcmdldCxuPWEsaT1vW2FdLHI9dC5saXN0ZW5lck9wdHNbYV0sanQ/ZS5yZW1vdmVFdmVudExpc3RlbmVyKG4saSxyKTplLmRldGFjaEV2ZW50KCJvbiIrbixpKSk7dC5tb3VudGVkPXt9fXZhciBObj1mdW5jdGlvbih0LGUpe3RoaXMubW91bnRlZD17fSx0aGlzLmxpc3RlbmVyT3B0cz17fSx0aGlzLnRvdWNoaW5nPSExLHRoaXMuZG9tVGFyZ2V0PXQsdGhpcy5kb21IYW5kbGVycz1lfSx6bj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLl9fcG9pbnRlckNhcHR1cmluZz0hMSxpLmRvbT1lLGkucGFpbnRlclJvb3Q9bixpLl9sb2NhbEhhbmRsZXJTY29wZT1uZXcgTm4oZSxBbikseG4mJihpLl9nbG9iYWxIYW5kbGVyU2NvcGU9bmV3IE5uKGRvY3VtZW50LGtuKSksTG4oaSxpLl9sb2NhbEhhbmRsZXJTY29wZSksaX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtSbih0aGlzLl9sb2NhbEhhbmRsZXJTY29wZSkseG4mJlJuKHRoaXMuX2dsb2JhbEhhbmRsZXJTY29wZSl9LGUucHJvdG90eXBlLnNldEN1cnNvcj1mdW5jdGlvbih0KXt0aGlzLmRvbS5zdHlsZSYmKHRoaXMuZG9tLnN0eWxlLmN1cnNvcj10fHwiZGVmYXVsdCIpfSxlLnByb3RvdHlwZS5fX3RvZ2dsZVBvaW50ZXJDYXB0dXJlPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX19tYXlQb2ludGVyQ2FwdHVyZT1udWxsLHhuJiYrdGhpcy5fX3BvaW50ZXJDYXB0dXJpbmdeK3Qpe3RoaXMuX19wb2ludGVyQ2FwdHVyaW5nPXQ7dmFyIGU9dGhpcy5fZ2xvYmFsSGFuZGxlclNjb3BlO3Q/UG4odGhpcyxlKTpSbihlKX19LGV9KEZ0KSxFbj0xOyJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiYoRW49TWF0aC5tYXgod2luZG93LmRldmljZVBpeGVsUmF0aW98fHdpbmRvdy5zY3JlZW4mJndpbmRvdy5zY3JlZW4uZGV2aWNlWERQSS93aW5kb3cuc2NyZWVuLmxvZ2ljYWxYRFBJfHwxLDEpKTt2YXIgVm49RW4sQm49IiMzMzMiLEduPSIjY2NjIjtmdW5jdGlvbiBGbigpe3JldHVyblsxLDAsMCwxLDAsMF19ZnVuY3Rpb24gSG4odCl7cmV0dXJuIHRbMF09MSx0WzFdPTAsdFsyXT0wLHRbM109MSx0WzRdPTAsdFs1XT0wLHR9ZnVuY3Rpb24gV24odCxlKXtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdFszXT1lWzNdLHRbNF09ZVs0XSx0WzVdPWVbNV0sdH1mdW5jdGlvbiBVbih0LGUsbil7dmFyIGk9ZVswXSpuWzBdK2VbMl0qblsxXSxyPWVbMV0qblswXStlWzNdKm5bMV0sbz1lWzBdKm5bMl0rZVsyXSpuWzNdLGE9ZVsxXSpuWzJdK2VbM10qblszXSxzPWVbMF0qbls0XStlWzJdKm5bNV0rZVs0XSxsPWVbMV0qbls0XStlWzNdKm5bNV0rZVs1XTtyZXR1cm4gdFswXT1pLHRbMV09cix0WzJdPW8sdFszXT1hLHRbNF09cyx0WzVdPWwsdH1mdW5jdGlvbiBYbih0LGUsbil7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdFsyXT1lWzJdLHRbM109ZVszXSx0WzRdPWVbNF0rblswXSx0WzVdPWVbNV0rblsxXSx0fWZ1bmN0aW9uIFluKHQsZSxuKXt2YXIgaT1lWzBdLHI9ZVsyXSxvPWVbNF0sYT1lWzFdLHM9ZVszXSxsPWVbNV0sdT1NYXRoLnNpbihuKSxoPU1hdGguY29zKG4pO3JldHVybiB0WzBdPWkqaCthKnUsdFsxXT0taSp1K2EqaCx0WzJdPXIqaCtzKnUsdFszXT0tcip1K2gqcyx0WzRdPWgqbyt1KmwsdFs1XT1oKmwtdSpvLHR9ZnVuY3Rpb24gWm4odCxlLG4pe3ZhciBpPW5bMF0scj1uWzFdO3JldHVybiB0WzBdPWVbMF0qaSx0WzFdPWVbMV0qcix0WzJdPWVbMl0qaSx0WzNdPWVbM10qcix0WzRdPWVbNF0qaSx0WzVdPWVbNV0qcix0fWZ1bmN0aW9uIGpuKHQsZSl7dmFyIG49ZVswXSxpPWVbMl0scj1lWzRdLG89ZVsxXSxhPWVbM10scz1lWzVdLGw9biphLW8qaTtyZXR1cm4gbD8obD0xL2wsdFswXT1hKmwsdFsxXT0tbypsLHRbMl09LWkqbCx0WzNdPW4qbCx0WzRdPShpKnMtYSpyKSpsLHRbNV09KG8qci1uKnMpKmwsdCk6bnVsbH1mdW5jdGlvbiBxbih0KXt2YXIgZT1bMSwwLDAsMSwwLDBdO3JldHVybiBXbihlLHQpLGV9dmFyIEtuPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGNyZWF0ZTpGbixpZGVudGl0eTpIbixjb3B5OlduLG11bDpVbix0cmFuc2xhdGU6WG4scm90YXRlOlluLHNjYWxlOlpuLGludmVydDpqbixjbG9uZTpxbn0pLCRuPUhuLEpuPTVlLTU7ZnVuY3Rpb24gUW4odCl7cmV0dXJuIHQ+Sm58fHQ8LTVlLTV9dmFyIHRpLGVpLG5pPVtdLGlpPVtdLHJpPVsxLDAsMCwxLDAsMF0sb2k9TWF0aC5hYnMsYWk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5nZXRMb2NhbFRyYW5zZm9ybT1mdW5jdGlvbihlKXtyZXR1cm4gdC5nZXRMb2NhbFRyYW5zZm9ybSh0aGlzLGUpfSx0LnByb3RvdHlwZS5zZXRQb3NpdGlvbj1mdW5jdGlvbih0KXt0aGlzLng9dFswXSx0aGlzLnk9dFsxXX0sdC5wcm90b3R5cGUuc2V0U2NhbGU9ZnVuY3Rpb24odCl7dGhpcy5zY2FsZVg9dFswXSx0aGlzLnNjYWxlWT10WzFdfSx0LnByb3RvdHlwZS5zZXRTa2V3PWZ1bmN0aW9uKHQpe3RoaXMuc2tld1g9dFswXSx0aGlzLnNrZXdZPXRbMV19LHQucHJvdG90eXBlLnNldE9yaWdpbj1mdW5jdGlvbih0KXt0aGlzLm9yaWdpblg9dFswXSx0aGlzLm9yaWdpblk9dFsxXX0sdC5wcm90b3R5cGUubmVlZExvY2FsVHJhbnNmb3JtPWZ1bmN0aW9uKCl7cmV0dXJuIFFuKHRoaXMucm90YXRpb24pfHxRbih0aGlzLngpfHxRbih0aGlzLnkpfHxRbih0aGlzLnNjYWxlWC0xKXx8UW4odGhpcy5zY2FsZVktMSl9LHQucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbigpe3ZhciB0PXRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC50cmFuc2Zvcm0sZT10aGlzLm5lZWRMb2NhbFRyYW5zZm9ybSgpLG49dGhpcy50cmFuc2Zvcm07ZXx8dD8obj1ufHxbMSwwLDAsMSwwLDBdLGU/dGhpcy5nZXRMb2NhbFRyYW5zZm9ybShuKTokbihuKSx0JiYoZT9VbihuLHQsbik6V24obix0KSksdGhpcy50cmFuc2Zvcm09bix0aGlzLl9yZXNvbHZlR2xvYmFsU2NhbGVSYXRpbyhuKSk6biYmJG4obil9LHQucHJvdG90eXBlLl9yZXNvbHZlR2xvYmFsU2NhbGVSYXRpbz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdsb2JhbFNjYWxlUmF0aW87aWYobnVsbCE9ZSYmMSE9PWUpe3RoaXMuZ2V0R2xvYmFsU2NhbGUobmkpO3ZhciBuPW5pWzBdPDA/LTE6MSxpPW5pWzFdPDA/LTE6MSxyPSgobmlbMF0tbikqZStuKS9uaVswXXx8MCxvPSgobmlbMV0taSkqZStpKS9uaVsxXXx8MDt0WzBdKj1yLHRbMV0qPXIsdFsyXSo9byx0WzNdKj1vfXRoaXMuaW52VHJhbnNmb3JtPXRoaXMuaW52VHJhbnNmb3JtfHxbMSwwLDAsMSwwLDBdLGpuKHRoaXMuaW52VHJhbnNmb3JtLHQpfSx0LnByb3RvdHlwZS5nZXRDb21wdXRlZFRyYW5zZm9ybT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLGU9W107dDspZS5wdXNoKHQpLHQ9dC5wYXJlbnQ7Zm9yKDt0PWUucG9wKCk7KXQudXBkYXRlVHJhbnNmb3JtKCk7cmV0dXJuIHRoaXMudHJhbnNmb3JtfSx0LnByb3RvdHlwZS5zZXRMb2NhbFRyYW5zZm9ybT1mdW5jdGlvbih0KXtpZih0KXt2YXIgZT10WzBdKnRbMF0rdFsxXSp0WzFdLG49dFsyXSp0WzJdK3RbM10qdFszXSxpPU1hdGguYXRhbjIodFsxXSx0WzBdKSxyPU1hdGguUEkvMitpLU1hdGguYXRhbjIodFszXSx0WzJdKTtuPU1hdGguc3FydChuKSpNYXRoLmNvcyhyKSxlPU1hdGguc3FydChlKSx0aGlzLnNrZXdYPXIsdGhpcy5za2V3WT0wLHRoaXMucm90YXRpb249LWksdGhpcy54PSt0WzRdLHRoaXMueT0rdFs1XSx0aGlzLnNjYWxlWD1lLHRoaXMuc2NhbGVZPW4sdGhpcy5vcmlnaW5YPTAsdGhpcy5vcmlnaW5ZPTB9fSx0LnByb3RvdHlwZS5kZWNvbXBvc2VUcmFuc2Zvcm09ZnVuY3Rpb24oKXtpZih0aGlzLnRyYW5zZm9ybSl7dmFyIHQ9dGhpcy5wYXJlbnQsZT10aGlzLnRyYW5zZm9ybTt0JiZ0LnRyYW5zZm9ybSYmKFVuKGlpLHQuaW52VHJhbnNmb3JtLGUpLGU9aWkpO3ZhciBuPXRoaXMub3JpZ2luWCxpPXRoaXMub3JpZ2luWTsobnx8aSkmJihyaVs0XT1uLHJpWzVdPWksVW4oaWksZSxyaSksaWlbNF0tPW4saWlbNV0tPWksZT1paSksdGhpcy5zZXRMb2NhbFRyYW5zZm9ybShlKX19LHQucHJvdG90eXBlLmdldEdsb2JhbFNjYWxlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudHJhbnNmb3JtO3JldHVybiB0PXR8fFtdLGU/KHRbMF09TWF0aC5zcXJ0KGVbMF0qZVswXStlWzFdKmVbMV0pLHRbMV09TWF0aC5zcXJ0KGVbMl0qZVsyXStlWzNdKmVbM10pLGVbMF08MCYmKHRbMF09LXRbMF0pLGVbM108MCYmKHRbMV09LXRbMV0pLHQpOih0WzBdPTEsdFsxXT0xLHQpfSx0LnByb3RvdHlwZS50cmFuc2Zvcm1Db29yZFRvTG9jYWw9ZnVuY3Rpb24odCxlKXt2YXIgbj1bdCxlXSxpPXRoaXMuaW52VHJhbnNmb3JtO3JldHVybiBpJiZOdChuLG4saSksbn0sdC5wcm90b3R5cGUudHJhbnNmb3JtQ29vcmRUb0dsb2JhbD1mdW5jdGlvbih0LGUpe3ZhciBuPVt0LGVdLGk9dGhpcy50cmFuc2Zvcm07cmV0dXJuIGkmJk50KG4sbixpKSxufSx0LnByb3RvdHlwZS5nZXRMaW5lU2NhbGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRyYW5zZm9ybTtyZXR1cm4gdCYmb2kodFswXS0xKT4xZS0xMCYmb2kodFszXS0xKT4xZS0xMD9NYXRoLnNxcnQob2kodFswXSp0WzNdLXRbMl0qdFsxXSkpOjF9LHQucHJvdG90eXBlLmNvcHlUcmFuc2Zvcm09ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTxzaS5sZW5ndGg7ZSsrKXt2YXIgbj1zaVtlXTt0aGlzW25dPXRbbl19fSx0LmdldExvY2FsVHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSl7ZT1lfHxbXTt2YXIgbj10Lm9yaWdpblh8fDAsaT10Lm9yaWdpbll8fDAscj10LnNjYWxlWCxvPXQuc2NhbGVZLGE9dC5yb3RhdGlvbnx8MCxzPXQueCxsPXQueSx1PXQuc2tld1g/TWF0aC50YW4odC5za2V3WCk6MCxoPXQuc2tld1k/TWF0aC50YW4oLXQuc2tld1kpOjA7cmV0dXJuIG58fGk/KGVbNF09LW4qci11KmkqbyxlWzVdPS1pKm8taCpuKnIpOmVbNF09ZVs1XT0wLGVbMF09cixlWzNdPW8sZVsxXT1oKnIsZVsyXT11Km8sYSYmWW4oZSxlLGEpLGVbNF0rPW4rcyxlWzVdKz1pK2wsZX0sdC5pbml0RGVmYXVsdFByb3BzPWZ1bmN0aW9uKCl7dmFyIGU9dC5wcm90b3R5cGU7ZS54PTAsZS55PTAsZS5zY2FsZVg9MSxlLnNjYWxlWT0xLGUub3JpZ2luWD0wLGUub3JpZ2luWT0wLGUuc2tld1g9MCxlLnNrZXdZPTAsZS5yb3RhdGlvbj0wLGUuZ2xvYmFsU2NhbGVSYXRpbz0xfSgpLHR9KCksc2k9WyJ4IiwieSIsIm9yaWdpblgiLCJvcmlnaW5ZIiwicm90YXRpb24iLCJzY2FsZVgiLCJzY2FsZVkiLCJza2V3WCIsInNrZXdZIl0sbGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy54PXR8fDAsdGhpcy55PWV8fDB9cmV0dXJuIHQucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueD10LngsdGhpcy55PXQueSx0aGlzfSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLngsdGhpcy55KX0sdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMueD10LHRoaXMueT1lLHRoaXN9LHQucHJvdG90eXBlLmVxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0Lng9PT10aGlzLngmJnQueT09PXRoaXMueX0sdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngrPXQueCx0aGlzLnkrPXQueSx0aGlzfSx0LnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbih0KXt0aGlzLngqPXQsdGhpcy55Kj10fSx0LnByb3RvdHlwZS5zY2FsZUFuZEFkZD1mdW5jdGlvbih0LGUpe3RoaXMueCs9dC54KmUsdGhpcy55Kz10LnkqZX0sdC5wcm90b3R5cGUuc3ViPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngtPXQueCx0aGlzLnktPXQueSx0aGlzfSx0LnByb3RvdHlwZS5kb3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCp0LngrdGhpcy55KnQueX0sdC5wcm90b3R5cGUubGVuPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkpfSx0LnByb3RvdHlwZS5sZW5TcXVhcmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55fSx0LnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxlbigpO3JldHVybiB0aGlzLngvPXQsdGhpcy55Lz10LHRoaXN9LHQucHJvdG90eXBlLmRpc3RhbmNlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMueC10Lngsbj10aGlzLnktdC55O3JldHVybiBNYXRoLnNxcnQoZSplK24qbil9LHQucHJvdG90eXBlLmRpc3RhbmNlU3F1YXJlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMueC10Lngsbj10aGlzLnktdC55O3JldHVybiBlKmUrbipufSx0LnByb3RvdHlwZS5uZWdhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54PS10aGlzLngsdGhpcy55PS10aGlzLnksdGhpc30sdC5wcm90b3R5cGUudHJhbnNmb3JtPWZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlPXRoaXMueCxuPXRoaXMueTtyZXR1cm4gdGhpcy54PXRbMF0qZSt0WzJdKm4rdFs0XSx0aGlzLnk9dFsxXSplK3RbM10qbit0WzVdLHRoaXN9fSx0LnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKHQpe3JldHVybiB0WzBdPXRoaXMueCx0WzFdPXRoaXMueSx0fSx0LnByb3RvdHlwZS5mcm9tQXJyYXk9ZnVuY3Rpb24odCl7dGhpcy54PXRbMF0sdGhpcy55PXRbMV19LHQuc2V0PWZ1bmN0aW9uKHQsZSxuKXt0Lng9ZSx0Lnk9bn0sdC5jb3B5PWZ1bmN0aW9uKHQsZSl7dC54PWUueCx0Lnk9ZS55fSx0Lmxlbj1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zcXJ0KHQueCp0LngrdC55KnQueSl9LHQubGVuU3F1YXJlPWZ1bmN0aW9uKHQpe3JldHVybiB0LngqdC54K3QueSp0Lnl9LHQuZG90PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQueCplLngrdC55KmUueX0sdC5hZGQ9ZnVuY3Rpb24odCxlLG4pe3QueD1lLngrbi54LHQueT1lLnkrbi55fSx0LnN1Yj1mdW5jdGlvbih0LGUsbil7dC54PWUueC1uLngsdC55PWUueS1uLnl9LHQuc2NhbGU9ZnVuY3Rpb24odCxlLG4pe3QueD1lLngqbix0Lnk9ZS55Km59LHQuc2NhbGVBbmRBZGQ9ZnVuY3Rpb24odCxlLG4saSl7dC54PWUueCtuLngqaSx0Lnk9ZS55K24ueSppfSx0LmxlcnA9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9MS1pO3QueD1yKmUueCtpKm4ueCx0Lnk9ciplLnkraSpuLnl9LHR9KCksdWk9TWF0aC5taW4saGk9TWF0aC5tYXgsY2k9bmV3IGxpLHBpPW5ldyBsaSxkaT1uZXcgbGksZmk9bmV3IGxpLGdpPW5ldyBsaSx5aT1uZXcgbGksdmk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLGkpe248MCYmKHQrPW4sbj0tbiksaTwwJiYoZSs9aSxpPS1pKSx0aGlzLng9dCx0aGlzLnk9ZSx0aGlzLndpZHRoPW4sdGhpcy5oZWlnaHQ9aX1yZXR1cm4gdC5wcm90b3R5cGUudW5pb249ZnVuY3Rpb24odCl7dmFyIGU9dWkodC54LHRoaXMueCksbj11aSh0LnksdGhpcy55KTtpc0Zpbml0ZSh0aGlzLngpJiZpc0Zpbml0ZSh0aGlzLndpZHRoKT90aGlzLndpZHRoPWhpKHQueCt0LndpZHRoLHRoaXMueCt0aGlzLndpZHRoKS1lOnRoaXMud2lkdGg9dC53aWR0aCxpc0Zpbml0ZSh0aGlzLnkpJiZpc0Zpbml0ZSh0aGlzLmhlaWdodCk/dGhpcy5oZWlnaHQ9aGkodC55K3QuaGVpZ2h0LHRoaXMueSt0aGlzLmhlaWdodCktbjp0aGlzLmhlaWdodD10LmhlaWdodCx0aGlzLng9ZSx0aGlzLnk9bn0sdC5wcm90b3R5cGUuYXBwbHlUcmFuc2Zvcm09ZnVuY3Rpb24oZSl7dC5hcHBseVRyYW5zZm9ybSh0aGlzLHRoaXMsZSl9LHQucHJvdG90eXBlLmNhbGN1bGF0ZVRyYW5zZm9ybT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dC53aWR0aC9lLndpZHRoLGk9dC5oZWlnaHQvZS5oZWlnaHQscj1bMSwwLDAsMSwwLDBdO3JldHVybiBYbihyLHIsWy1lLngsLWUueV0pLFpuKHIscixbbixpXSksWG4ocixyLFt0LngsdC55XSkscn0sdC5wcm90b3R5cGUuaW50ZXJzZWN0PWZ1bmN0aW9uKGUsbil7aWYoIWUpcmV0dXJuITE7ZSBpbnN0YW5jZW9mIHR8fChlPXQuY3JlYXRlKGUpKTt2YXIgaT10aGlzLHI9aS54LG89aS54K2kud2lkdGgsYT1pLnkscz1pLnkraS5oZWlnaHQsbD1lLngsdT1lLngrZS53aWR0aCxoPWUueSxjPWUueStlLmhlaWdodCxwPSEobzxsfHx1PHJ8fHM8aHx8YzxhKTtpZihuKXt2YXIgZD0xLzAsZj0wLGc9TWF0aC5hYnMoby1sKSx5PU1hdGguYWJzKHUtciksdj1NYXRoLmFicyhzLWgpLG09TWF0aC5hYnMoYy1hKSxfPU1hdGgubWluKGcseSkseD1NYXRoLm1pbih2LG0pO288bHx8dTxyP18+ZiYmKGY9XyxnPHk/bGkuc2V0KHlpLC1nLDApOmxpLnNldCh5aSx5LDApKTpfPGQmJihkPV8sZzx5P2xpLnNldChnaSxnLDApOmxpLnNldChnaSwteSwwKSksczxofHxjPGE/eD5mJiYoZj14LHY8bT9saS5zZXQoeWksMCwtdik6bGkuc2V0KHlpLDAsbSkpOl88ZCYmKGQ9Xyx2PG0/bGkuc2V0KGdpLDAsdik6bGkuc2V0KGdpLDAsLW0pKX1yZXR1cm4gbiYmbGkuY29weShuLHA/Z2k6eWkpLHB9LHQucHJvdG90eXBlLmNvbnRhaW49ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0Pj1uLngmJnQ8PW4ueCtuLndpZHRoJiZlPj1uLnkmJmU8PW4ueStuLmhlaWdodH0sdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQodGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX0sdC5wcm90b3R5cGUuY29weT1mdW5jdGlvbihlKXt0LmNvcHkodGhpcyxlKX0sdC5wcm90b3R5cGUucGxhaW49ZnVuY3Rpb24oKXtyZXR1cm57eDp0aGlzLngseTp0aGlzLnksd2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9fSx0LnByb3RvdHlwZS5pc0Zpbml0ZT1mdW5jdGlvbigpe3JldHVybiBpc0Zpbml0ZSh0aGlzLngpJiZpc0Zpbml0ZSh0aGlzLnkpJiZpc0Zpbml0ZSh0aGlzLndpZHRoKSYmaXNGaW5pdGUodGhpcy5oZWlnaHQpfSx0LnByb3RvdHlwZS5pc1plcm89ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMud2lkdGh8fDA9PT10aGlzLmhlaWdodH0sdC5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0KGUueCxlLnksZS53aWR0aCxlLmhlaWdodCl9LHQuY29weT1mdW5jdGlvbih0LGUpe3QueD1lLngsdC55PWUueSx0LndpZHRoPWUud2lkdGgsdC5oZWlnaHQ9ZS5oZWlnaHR9LHQuYXBwbHlUcmFuc2Zvcm09ZnVuY3Rpb24oZSxuLGkpe2lmKGkpe2lmKGlbMV08MWUtNSYmaVsxXT4tMWUtNSYmaVsyXTwxZS01JiZpWzJdPi0xZS01KXt2YXIgcj1pWzBdLG89aVszXSxhPWlbNF0scz1pWzVdO3JldHVybiBlLng9bi54KnIrYSxlLnk9bi55Km8rcyxlLndpZHRoPW4ud2lkdGgqcixlLmhlaWdodD1uLmhlaWdodCpvLGUud2lkdGg8MCYmKGUueCs9ZS53aWR0aCxlLndpZHRoPS1lLndpZHRoKSx2b2lkKGUuaGVpZ2h0PDAmJihlLnkrPWUuaGVpZ2h0LGUuaGVpZ2h0PS1lLmhlaWdodCkpfWNpLng9ZGkueD1uLngsY2kueT1maS55PW4ueSxwaS54PWZpLng9bi54K24ud2lkdGgscGkueT1kaS55PW4ueStuLmhlaWdodCxjaS50cmFuc2Zvcm0oaSksZmkudHJhbnNmb3JtKGkpLHBpLnRyYW5zZm9ybShpKSxkaS50cmFuc2Zvcm0oaSksZS54PXVpKGNpLngscGkueCxkaS54LGZpLngpLGUueT11aShjaS55LHBpLnksZGkueSxmaS55KTt2YXIgbD1oaShjaS54LHBpLngsZGkueCxmaS54KSx1PWhpKGNpLnkscGkueSxkaS55LGZpLnkpO2Uud2lkdGg9bC1lLngsZS5oZWlnaHQ9dS1lLnl9ZWxzZSBlIT09biYmdC5jb3B5KGUsbil9LHR9KCksbWk9e30sX2k9IjEycHggc2Fucy1zZXJpZiI7dmFyIHhpPXttZWFzdXJlVGV4dDpmdW5jdGlvbih0LGUpe3JldHVybiB0aXx8KHRpPUQoKS5nZXRDb250ZXh0KCIyZCIpKSxlaSE9PWUmJihlaT10aS5mb250PWV8fF9pKSx0aS5tZWFzdXJlVGV4dCh0KX19O2Z1bmN0aW9uIGJpKHQsZSl7dmFyIG49bWlbZT1lfHxfaV07bnx8KG49bWlbZV09bmV3IGtlKDUwMCkpO3ZhciBpPW4uZ2V0KHQpO3JldHVybiBudWxsPT1pJiYoaT14aS5tZWFzdXJlVGV4dCh0LGUpLndpZHRoLG4ucHV0KHQsaSkpLGl9ZnVuY3Rpb24gd2kodCxlLG4saSl7dmFyIHI9YmkodCxlKSxvPVRpKGUpLGE9TWkoMCxyLG4pLHM9SWkoMCxvLGkpO3JldHVybiBuZXcgdmkoYSxzLHIsbyl9ZnVuY3Rpb24gU2kodCxlLG4saSl7dmFyIHI9KCh0fHwiIikrIiIpLnNwbGl0KCJcbiIpO2lmKDE9PT1yLmxlbmd0aClyZXR1cm4gd2koclswXSxlLG4saSk7Zm9yKHZhciBvPW5ldyB2aSgwLDAsMCwwKSxhPTA7YTxyLmxlbmd0aDthKyspe3ZhciBzPXdpKHJbYV0sZSxuLGkpOzA9PT1hP28uY29weShzKTpvLnVuaW9uKHMpfXJldHVybiBvfWZ1bmN0aW9uIE1pKHQsZSxuKXtyZXR1cm4icmlnaHQiPT09bj90LT1lOiJjZW50ZXIiPT09biYmKHQtPWUvMiksdH1mdW5jdGlvbiBJaSh0LGUsbil7cmV0dXJuIm1pZGRsZSI9PT1uP3QtPWUvMjoiYm90dG9tIj09PW4mJih0LT1lKSx0fWZ1bmN0aW9uIFRpKHQpe3JldHVybiBiaSgi5Zu9Iix0KX1mdW5jdGlvbiBDaSh0LGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD90Lmxhc3RJbmRleE9mKCIlIik+PTA/cGFyc2VGbG9hdCh0KS8xMDAqZTpwYXJzZUZsb2F0KHQpOnR9ZnVuY3Rpb24gRGkodCxlLG4pe3ZhciBpPWUucG9zaXRpb258fCJpbnNpZGUiLHI9bnVsbCE9ZS5kaXN0YW5jZT9lLmRpc3RhbmNlOjUsbz1uLmhlaWdodCxhPW4ud2lkdGgscz1vLzIsbD1uLngsdT1uLnksaD0ibGVmdCIsYz0idG9wIjtpZihpIGluc3RhbmNlb2YgQXJyYXkpbCs9Q2koaVswXSxuLndpZHRoKSx1Kz1DaShpWzFdLG4uaGVpZ2h0KSxoPW51bGwsYz1udWxsO2Vsc2Ugc3dpdGNoKGkpe2Nhc2UibGVmdCI6bC09cix1Kz1zLGg9InJpZ2h0IixjPSJtaWRkbGUiO2JyZWFrO2Nhc2UicmlnaHQiOmwrPXIrYSx1Kz1zLGM9Im1pZGRsZSI7YnJlYWs7Y2FzZSJ0b3AiOmwrPWEvMix1LT1yLGg9ImNlbnRlciIsYz0iYm90dG9tIjticmVhaztjYXNlImJvdHRvbSI6bCs9YS8yLHUrPW8rcixoPSJjZW50ZXIiO2JyZWFrO2Nhc2UiaW5zaWRlIjpsKz1hLzIsdSs9cyxoPSJjZW50ZXIiLGM9Im1pZGRsZSI7YnJlYWs7Y2FzZSJpbnNpZGVMZWZ0IjpsKz1yLHUrPXMsYz0ibWlkZGxlIjticmVhaztjYXNlImluc2lkZVJpZ2h0IjpsKz1hLXIsdSs9cyxoPSJyaWdodCIsYz0ibWlkZGxlIjticmVhaztjYXNlImluc2lkZVRvcCI6bCs9YS8yLHUrPXIsaD0iY2VudGVyIjticmVhaztjYXNlImluc2lkZUJvdHRvbSI6bCs9YS8yLHUrPW8tcixoPSJjZW50ZXIiLGM9ImJvdHRvbSI7YnJlYWs7Y2FzZSJpbnNpZGVUb3BMZWZ0IjpsKz1yLHUrPXI7YnJlYWs7Y2FzZSJpbnNpZGVUb3BSaWdodCI6bCs9YS1yLHUrPXIsaD0icmlnaHQiO2JyZWFrO2Nhc2UiaW5zaWRlQm90dG9tTGVmdCI6bCs9cix1Kz1vLXIsYz0iYm90dG9tIjticmVhaztjYXNlImluc2lkZUJvdHRvbVJpZ2h0IjpsKz1hLXIsdSs9by1yLGg9InJpZ2h0IixjPSJib3R0b20ifXJldHVybih0PXR8fHt9KS54PWwsdC55PXUsdC5hbGlnbj1oLHQudmVydGljYWxBbGlnbj1jLHR9dmFyIEFpPSJfX3pyX25vcm1hbF9fIixraT1bIngiLCJ5Iiwic2NhbGVYIiwic2NhbGVZIiwib3JpZ2luWCIsIm9yaWdpblkiLCJyb3RhdGlvbiIsImlnbm9yZSJdLExpPXt4OiEwLHk6ITAsc2NhbGVYOiEwLHNjYWxlWTohMCxvcmlnaW5YOiEwLG9yaWdpblk6ITAscm90YXRpb246ITAsaWdub3JlOiExfSxQaT17fSxPaT1uZXcgdmkoMCwwLDAsMCksUmk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuaWQ9YigpLHRoaXMuYW5pbWF0b3JzPVtdLHRoaXMuY3VycmVudFN0YXRlcz1bXSx0aGlzLnN0YXRlcz17fSx0aGlzLl9pbml0KHQpfXJldHVybiB0LnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbih0KXt0aGlzLmF0dHIodCl9LHQucHJvdG90eXBlLmRyaWZ0PWZ1bmN0aW9uKHQsZSxuKXtzd2l0Y2godGhpcy5kcmFnZ2FibGUpe2Nhc2UiaG9yaXpvbnRhbCI6ZT0wO2JyZWFrO2Nhc2UidmVydGljYWwiOnQ9MH12YXIgaT10aGlzLnRyYW5zZm9ybTtpfHwoaT10aGlzLnRyYW5zZm9ybT1bMSwwLDAsMSwwLDBdKSxpWzRdKz10LGlbNV0rPWUsdGhpcy5kZWNvbXBvc2VUcmFuc2Zvcm0oKSx0aGlzLm1hcmtSZWRyYXcoKX0sdC5wcm90b3R5cGUuYmVmb3JlVXBkYXRlPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5hZnRlclVwZGF0ZT1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVUcmFuc2Zvcm0oKSx0aGlzLl9fZGlydHkmJnRoaXMudXBkYXRlSW5uZXJUZXh0KCl9LHQucHJvdG90eXBlLnVwZGF0ZUlubmVyVGV4dD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl90ZXh0Q29udGVudDtpZihlJiYoIWUuaWdub3JlfHx0KSl7dGhpcy50ZXh0Q29uZmlnfHwodGhpcy50ZXh0Q29uZmlnPXt9KTt2YXIgbj10aGlzLnRleHRDb25maWcsaT1uLmxvY2FsLHI9ZS5pbm5lclRyYW5zZm9ybWFibGUsbz12b2lkIDAsYT12b2lkIDAscz0hMTtyLnBhcmVudD1pP3RoaXM6bnVsbDt2YXIgbD0hMTtpZihyLmNvcHlUcmFuc2Zvcm0oZSksbnVsbCE9bi5wb3NpdGlvbil7dmFyIHU9T2k7bi5sYXlvdXRSZWN0P3UuY29weShuLmxheW91dFJlY3QpOnUuY29weSh0aGlzLmdldEJvdW5kaW5nUmVjdCgpKSxpfHx1LmFwcGx5VHJhbnNmb3JtKHRoaXMudHJhbnNmb3JtKSx0aGlzLmNhbGN1bGF0ZVRleHRQb3NpdGlvbj90aGlzLmNhbGN1bGF0ZVRleHRQb3NpdGlvbihQaSxuLHUpOkRpKFBpLG4sdSksci54PVBpLngsci55PVBpLnksbz1QaS5hbGlnbixhPVBpLnZlcnRpY2FsQWxpZ247dmFyIGg9bi5vcmlnaW47aWYoaCYmbnVsbCE9bi5yb3RhdGlvbil7dmFyIGM9dm9pZCAwLHA9dm9pZCAwOyJjZW50ZXIiPT09aD8oYz0uNSp1LndpZHRoLHA9LjUqdS5oZWlnaHQpOihjPUNpKGhbMF0sdS53aWR0aCkscD1DaShoWzFdLHUuaGVpZ2h0KSksbD0hMCxyLm9yaWdpblg9LXIueCtjKyhpPzA6dS54KSxyLm9yaWdpblk9LXIueStwKyhpPzA6dS55KX19bnVsbCE9bi5yb3RhdGlvbiYmKHIucm90YXRpb249bi5yb3RhdGlvbik7dmFyIGQ9bi5vZmZzZXQ7ZCYmKHIueCs9ZFswXSxyLnkrPWRbMV0sbHx8KHIub3JpZ2luWD0tZFswXSxyLm9yaWdpblk9LWRbMV0pKTt2YXIgZj1udWxsPT1uLmluc2lkZT8ic3RyaW5nIj09dHlwZW9mIG4ucG9zaXRpb24mJm4ucG9zaXRpb24uaW5kZXhPZigiaW5zaWRlIik+PTA6bi5pbnNpZGUsZz10aGlzLl9pbm5lclRleHREZWZhdWx0U3R5bGV8fCh0aGlzLl9pbm5lclRleHREZWZhdWx0U3R5bGU9e30pLHk9dm9pZCAwLHY9dm9pZCAwLG09dm9pZCAwO2YmJnRoaXMuY2FuQmVJbnNpZGVUZXh0KCk/KHk9bi5pbnNpZGVGaWxsLHY9bi5pbnNpZGVTdHJva2UsbnVsbCE9eSYmImF1dG8iIT09eXx8KHk9dGhpcy5nZXRJbnNpZGVUZXh0RmlsbCgpKSxudWxsIT12JiYiYXV0byIhPT12fHwodj10aGlzLmdldEluc2lkZVRleHRTdHJva2UoeSksbT0hMCkpOih5PW4ub3V0c2lkZUZpbGwsdj1uLm91dHNpZGVTdHJva2UsbnVsbCE9eSYmImF1dG8iIT09eXx8KHk9dGhpcy5nZXRPdXRzaWRlRmlsbCgpKSxudWxsIT12JiYiYXV0byIhPT12fHwodj10aGlzLmdldE91dHNpZGVTdHJva2UoeSksbT0hMCkpLCh5PXl8fCIjMDAwIik9PT1nLmZpbGwmJnY9PT1nLnN0cm9rZSYmbT09PWcuYXV0b1N0cm9rZSYmbz09PWcuYWxpZ24mJmE9PT1nLnZlcnRpY2FsQWxpZ258fChzPSEwLGcuZmlsbD15LGcuc3Ryb2tlPXYsZy5hdXRvU3Ryb2tlPW0sZy5hbGlnbj1vLGcudmVydGljYWxBbGlnbj1hLGUuc2V0RGVmYXVsdFRleHRTdHlsZShnKSksZS5fX2RpcnR5fD0xLHMmJmUuZGlydHlTdHlsZSghMCl9fSx0LnByb3RvdHlwZS5jYW5CZUluc2lkZVRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdC5wcm90b3R5cGUuZ2V0SW5zaWRlVGV4dEZpbGw9ZnVuY3Rpb24oKXtyZXR1cm4iI2ZmZiJ9LHQucHJvdG90eXBlLmdldEluc2lkZVRleHRTdHJva2U9ZnVuY3Rpb24odCl7cmV0dXJuIiMwMDAifSx0LnByb3RvdHlwZS5nZXRPdXRzaWRlRmlsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9fenImJnRoaXMuX196ci5pc0RhcmtNb2RlKCk/R246Qm59LHQucHJvdG90eXBlLmdldE91dHNpZGVTdHJva2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX3pyJiZ0aGlzLl9fenIuZ2V0QmFja2dyb3VuZENvbG9yKCksbj0ic3RyaW5nIj09dHlwZW9mIGUmJldlKGUpO258fChuPVsyNTUsMjU1LDI1NSwxXSk7Zm9yKHZhciBpPW5bM10scj10aGlzLl9fenIuaXNEYXJrTW9kZSgpLG89MDtvPDM7bysrKW5bb109bltvXSppKyhyPzA6MjU1KSooMS1pKTtyZXR1cm4gblszXT0xLFFlKG4sInJnYmEiKX0sdC5wcm90b3R5cGUudHJhdmVyc2U9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLmF0dHJLVj1mdW5jdGlvbih0LGUpeyJ0ZXh0Q29uZmlnIj09PXQ/dGhpcy5zZXRUZXh0Q29uZmlnKGUpOiJ0ZXh0Q29udGVudCI9PT10P3RoaXMuc2V0VGV4dENvbnRlbnQoZSk6ImNsaXBQYXRoIj09PXQ/dGhpcy5zZXRDbGlwUGF0aChlKToiZXh0cmEiPT09dD8odGhpcy5leHRyYT10aGlzLmV4dHJhfHx7fSxUKHRoaXMuZXh0cmEsZSkpOnRoaXNbdF09ZX0sdC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3RoaXMuaWdub3JlPSEwLHRoaXMubWFya1JlZHJhdygpfSx0LnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dGhpcy5pZ25vcmU9ITEsdGhpcy5tYXJrUmVkcmF3KCl9LHQucHJvdG90eXBlLmF0dHI9ZnVuY3Rpb24odCxlKXtpZigic3RyaW5nIj09dHlwZW9mIHQpdGhpcy5hdHRyS1YodCxlKTtlbHNlIGlmKFkodCkpZm9yKHZhciBuPVYodCksaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldO3RoaXMuYXR0cktWKHIsdFtyXSl9cmV0dXJuIHRoaXMubWFya1JlZHJhdygpLHRoaXN9LHQucHJvdG90eXBlLnNhdmVDdXJyZW50VG9Ob3JtYWxTdGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9pbm5lclNhdmVUb05vcm1hbCh0KTtmb3IodmFyIGU9dGhpcy5fbm9ybWFsU3RhdGUsbj0wO248dGhpcy5hbmltYXRvcnMubGVuZ3RoO24rKyl7dmFyIGk9dGhpcy5hbmltYXRvcnNbbl0scj1pLl9fZnJvbVN0YXRlVHJhbnNpdGlvbjtpZighcnx8cj09PUFpKXt2YXIgbz1pLnRhcmdldE5hbWUsYT1vP2Vbb106ZTtpLnNhdmVGaW5hbFRvVGFyZ2V0KGEpfX19LHQucHJvdG90eXBlLl9pbm5lclNhdmVUb05vcm1hbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9ub3JtYWxTdGF0ZTtlfHwoZT10aGlzLl9ub3JtYWxTdGF0ZT17fSksdC50ZXh0Q29uZmlnJiYhZS50ZXh0Q29uZmlnJiYoZS50ZXh0Q29uZmlnPXRoaXMudGV4dENvbmZpZyksdGhpcy5fc2F2ZVByaW1hcnlUb05vcm1hbCh0LGUsa2kpfSx0LnByb3RvdHlwZS5fc2F2ZVByaW1hcnlUb05vcm1hbD1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV07bnVsbD09dFtyXXx8ciBpbiBlfHwoZVtyXT10aGlzW3JdKX19LHQucHJvdG90eXBlLmhhc1N0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudFN0YXRlcy5sZW5ndGg+MH0sdC5wcm90b3R5cGUuZ2V0U3RhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RhdGVzW3RdfSx0LnByb3RvdHlwZS5lbnN1cmVTdGF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0YXRlcztyZXR1cm4gZVt0XXx8KGVbdF09e30pLGVbdF19LHQucHJvdG90eXBlLmNsZWFyU3RhdGVzPWZ1bmN0aW9uKHQpe3RoaXMudXNlU3RhdGUoQWksITEsdCl9LHQucHJvdG90eXBlLnVzZVN0YXRlPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXQ9PT1BaTtpZih0aGlzLmhhc1N0YXRlKCl8fCFyKXt2YXIgbz10aGlzLmN1cnJlbnRTdGF0ZXMsYT10aGlzLnN0YXRlVHJhbnNpdGlvbjtpZighKEEobyx0KT49MCl8fCFlJiYxIT09by5sZW5ndGgpe3ZhciBzO2lmKHRoaXMuc3RhdGVQcm94eSYmIXImJihzPXRoaXMuc3RhdGVQcm94eSh0KSksc3x8KHM9dGhpcy5zdGF0ZXMmJnRoaXMuc3RhdGVzW3RdKSxzfHxyKXtyfHx0aGlzLnNhdmVDdXJyZW50VG9Ob3JtYWxTdGF0ZShzKTt2YXIgbD0hIShzJiZzLmhvdmVyTGF5ZXJ8fGkpO2wmJnRoaXMuX3RvZ2dsZUhvdmVyTGF5ZXJGbGFnKCEwKSx0aGlzLl9hcHBseVN0YXRlT2JqKHQscyx0aGlzLl9ub3JtYWxTdGF0ZSxlLCFuJiYhdGhpcy5fX2luSG92ZXImJmEmJmEuZHVyYXRpb24+MCxhKTt2YXIgdT10aGlzLl90ZXh0Q29udGVudCxoPXRoaXMuX3RleHRHdWlkZTtyZXR1cm4gdSYmdS51c2VTdGF0ZSh0LGUsbixsKSxoJiZoLnVzZVN0YXRlKHQsZSxuLGwpLHI/KHRoaXMuY3VycmVudFN0YXRlcz1bXSx0aGlzLl9ub3JtYWxTdGF0ZT17fSk6ZT90aGlzLmN1cnJlbnRTdGF0ZXMucHVzaCh0KTp0aGlzLmN1cnJlbnRTdGF0ZXM9W3RdLHRoaXMuX3VwZGF0ZUFuaW1hdGlvblRhcmdldHMoKSx0aGlzLm1hcmtSZWRyYXcoKSwhbCYmdGhpcy5fX2luSG92ZXImJih0aGlzLl90b2dnbGVIb3ZlckxheWVyRmxhZyghMSksdGhpcy5fX2RpcnR5Jj0tMiksc313KCJTdGF0ZSAiK3QrIiBub3QgZXhpc3RzLiIpfX19LHQucHJvdG90eXBlLnVzZVN0YXRlcz1mdW5jdGlvbih0LGUsbil7aWYodC5sZW5ndGgpe3ZhciBpPVtdLHI9dGhpcy5jdXJyZW50U3RhdGVzLG89dC5sZW5ndGgsYT1vPT09ci5sZW5ndGg7aWYoYSlmb3IodmFyIHM9MDtzPG87cysrKWlmKHRbc10hPT1yW3NdKXthPSExO2JyZWFrfWlmKGEpcmV0dXJuO2ZvcihzPTA7czxvO3MrKyl7dmFyIGw9dFtzXSx1PXZvaWQgMDt0aGlzLnN0YXRlUHJveHkmJih1PXRoaXMuc3RhdGVQcm94eShsLHQpKSx1fHwodT10aGlzLnN0YXRlc1tsXSksdSYmaS5wdXNoKHUpfXZhciBoPWlbby0xXSxjPSEhKGgmJmguaG92ZXJMYXllcnx8bik7YyYmdGhpcy5fdG9nZ2xlSG92ZXJMYXllckZsYWcoITApO3ZhciBwPXRoaXMuX21lcmdlU3RhdGVzKGkpLGQ9dGhpcy5zdGF0ZVRyYW5zaXRpb247dGhpcy5zYXZlQ3VycmVudFRvTm9ybWFsU3RhdGUocCksdGhpcy5fYXBwbHlTdGF0ZU9iaih0LmpvaW4oIiwiKSxwLHRoaXMuX25vcm1hbFN0YXRlLCExLCFlJiYhdGhpcy5fX2luSG92ZXImJmQmJmQuZHVyYXRpb24+MCxkKTt2YXIgZj10aGlzLl90ZXh0Q29udGVudCxnPXRoaXMuX3RleHRHdWlkZTtmJiZmLnVzZVN0YXRlcyh0LGUsYyksZyYmZy51c2VTdGF0ZXModCxlLGMpLHRoaXMuX3VwZGF0ZUFuaW1hdGlvblRhcmdldHMoKSx0aGlzLmN1cnJlbnRTdGF0ZXM9dC5zbGljZSgpLHRoaXMubWFya1JlZHJhdygpLCFjJiZ0aGlzLl9faW5Ib3ZlciYmKHRoaXMuX3RvZ2dsZUhvdmVyTGF5ZXJGbGFnKCExKSx0aGlzLl9fZGlydHkmPS0yKX1lbHNlIHRoaXMuY2xlYXJTdGF0ZXMoKX0sdC5wcm90b3R5cGUuX3VwZGF0ZUFuaW1hdGlvblRhcmdldHM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMuYW5pbWF0b3JzLmxlbmd0aDt0Kyspe3ZhciBlPXRoaXMuYW5pbWF0b3JzW3RdO2UudGFyZ2V0TmFtZSYmZS5jaGFuZ2VUYXJnZXQodGhpc1tlLnRhcmdldE5hbWVdKX19LHQucHJvdG90eXBlLnJlbW92ZVN0YXRlPWZ1bmN0aW9uKHQpe3ZhciBlPUEodGhpcy5jdXJyZW50U3RhdGVzLHQpO2lmKGU+PTApe3ZhciBuPXRoaXMuY3VycmVudFN0YXRlcy5zbGljZSgpO24uc3BsaWNlKGUsMSksdGhpcy51c2VTdGF0ZXMobil9fSx0LnByb3RvdHlwZS5yZXBsYWNlU3RhdGU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuY3VycmVudFN0YXRlcy5zbGljZSgpLHI9QShpLHQpLG89QShpLGUpPj0wO3I+PTA/bz9pLnNwbGljZShyLDEpOmlbcl09ZTpuJiYhbyYmaS5wdXNoKGUpLHRoaXMudXNlU3RhdGVzKGkpfSx0LnByb3RvdHlwZS50b2dnbGVTdGF0ZT1mdW5jdGlvbih0LGUpe2U/dGhpcy51c2VTdGF0ZSh0LCEwKTp0aGlzLnJlbW92ZVN0YXRlKHQpfSx0LnByb3RvdHlwZS5fbWVyZ2VTdGF0ZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49e30saT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgcj10W2ldO1QobixyKSxyLnRleHRDb25maWcmJlQoZT1lfHx7fSxyLnRleHRDb25maWcpfXJldHVybiBlJiYobi50ZXh0Q29uZmlnPWUpLG59LHQucHJvdG90eXBlLl9hcHBseVN0YXRlT2JqPWZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYT0hKGUmJmkpO2UmJmUudGV4dENvbmZpZz8odGhpcy50ZXh0Q29uZmlnPVQoe30saT90aGlzLnRleHRDb25maWc6bi50ZXh0Q29uZmlnKSxUKHRoaXMudGV4dENvbmZpZyxlLnRleHRDb25maWcpKTphJiZuLnRleHRDb25maWcmJih0aGlzLnRleHRDb25maWc9bi50ZXh0Q29uZmlnKTtmb3IodmFyIHM9e30sbD0hMSx1PTA7dTxraS5sZW5ndGg7dSsrKXt2YXIgaD1raVt1XSxjPXImJkxpW2hdO2UmJm51bGwhPWVbaF0/Yz8obD0hMCxzW2hdPWVbaF0pOnRoaXNbaF09ZVtoXTphJiZudWxsIT1uW2hdJiYoYz8obD0hMCxzW2hdPW5baF0pOnRoaXNbaF09bltoXSl9aWYoIXIpZm9yKHU9MDt1PHRoaXMuYW5pbWF0b3JzLmxlbmd0aDt1Kyspe3ZhciBwPXRoaXMuYW5pbWF0b3JzW3VdLGQ9cC50YXJnZXROYW1lO3AuX19jaGFuZ2VGaW5hbFZhbHVlKGQ/KGV8fG4pW2RdOmV8fG4pfWwmJnRoaXMuX3RyYW5zaXRpb25TdGF0ZSh0LHMsbyl9LHQucHJvdG90eXBlLl9hdHRhY2hDb21wb25lbnQ9ZnVuY3Rpb24odCl7aWYodC5fX3pyJiYhdC5fX2hvc3RUYXJnZXQpdGhyb3cgbmV3IEVycm9yKCJUZXh0IGVsZW1lbnQgaGFzIGJlZW4gYWRkZWQgdG8genJlbmRlci4iKTtpZih0PT09dGhpcyl0aHJvdyBuZXcgRXJyb3IoIlJlY3Vyc2l2ZSBjb21wb25lbnQgYXR0YWNobWVudC4iKTt2YXIgZT10aGlzLl9fenI7ZSYmdC5hZGRTZWxmVG9acihlKSx0Ll9fenI9ZSx0Ll9faG9zdFRhcmdldD10aGlzfSx0LnByb3RvdHlwZS5fZGV0YWNoQ29tcG9uZW50PWZ1bmN0aW9uKHQpe3QuX196ciYmdC5yZW1vdmVTZWxmRnJvbVpyKHQuX196ciksdC5fX3pyPW51bGwsdC5fX2hvc3RUYXJnZXQ9bnVsbH0sdC5wcm90b3R5cGUuZ2V0Q2xpcFBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2xpcFBhdGh9LHQucHJvdG90eXBlLnNldENsaXBQYXRoPWZ1bmN0aW9uKHQpe3RoaXMuX2NsaXBQYXRoJiZ0aGlzLl9jbGlwUGF0aCE9PXQmJnRoaXMucmVtb3ZlQ2xpcFBhdGgoKSx0aGlzLl9hdHRhY2hDb21wb25lbnQodCksdGhpcy5fY2xpcFBhdGg9dCx0aGlzLm1hcmtSZWRyYXcoKX0sdC5wcm90b3R5cGUucmVtb3ZlQ2xpcFBhdGg9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jbGlwUGF0aDt0JiYodGhpcy5fZGV0YWNoQ29tcG9uZW50KHQpLHRoaXMuX2NsaXBQYXRoPW51bGwsdGhpcy5tYXJrUmVkcmF3KCkpfSx0LnByb3RvdHlwZS5nZXRUZXh0Q29udGVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0Q29udGVudH0sdC5wcm90b3R5cGUuc2V0VGV4dENvbnRlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdGV4dENvbnRlbnQ7aWYoZSE9PXQpe2lmKGUmJmUhPT10JiZ0aGlzLnJlbW92ZVRleHRDb250ZW50KCksdC5fX3pyJiYhdC5fX2hvc3RUYXJnZXQpdGhyb3cgbmV3IEVycm9yKCJUZXh0IGVsZW1lbnQgaGFzIGJlZW4gYWRkZWQgdG8genJlbmRlci4iKTt0LmlubmVyVHJhbnNmb3JtYWJsZT1uZXcgYWksdGhpcy5fYXR0YWNoQ29tcG9uZW50KHQpLHRoaXMuX3RleHRDb250ZW50PXQsdGhpcy5tYXJrUmVkcmF3KCl9fSx0LnByb3RvdHlwZS5zZXRUZXh0Q29uZmlnPWZ1bmN0aW9uKHQpe3RoaXMudGV4dENvbmZpZ3x8KHRoaXMudGV4dENvbmZpZz17fSksVCh0aGlzLnRleHRDb25maWcsdCksdGhpcy5tYXJrUmVkcmF3KCl9LHQucHJvdG90eXBlLnJlbW92ZVRleHRDb25maWc9ZnVuY3Rpb24oKXt0aGlzLnRleHRDb25maWc9bnVsbCx0aGlzLm1hcmtSZWRyYXcoKX0sdC5wcm90b3R5cGUucmVtb3ZlVGV4dENvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90ZXh0Q29udGVudDt0JiYodC5pbm5lclRyYW5zZm9ybWFibGU9bnVsbCx0aGlzLl9kZXRhY2hDb21wb25lbnQodCksdGhpcy5fdGV4dENvbnRlbnQ9bnVsbCx0aGlzLl9pbm5lclRleHREZWZhdWx0U3R5bGU9bnVsbCx0aGlzLm1hcmtSZWRyYXcoKSl9LHQucHJvdG90eXBlLmdldFRleHRHdWlkZUxpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dEd1aWRlfSx0LnByb3RvdHlwZS5zZXRUZXh0R3VpZGVMaW5lPWZ1bmN0aW9uKHQpe3RoaXMuX3RleHRHdWlkZSYmdGhpcy5fdGV4dEd1aWRlIT09dCYmdGhpcy5yZW1vdmVUZXh0R3VpZGVMaW5lKCksdGhpcy5fYXR0YWNoQ29tcG9uZW50KHQpLHRoaXMuX3RleHRHdWlkZT10LHRoaXMubWFya1JlZHJhdygpfSx0LnByb3RvdHlwZS5yZW1vdmVUZXh0R3VpZGVMaW5lPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdGV4dEd1aWRlO3QmJih0aGlzLl9kZXRhY2hDb21wb25lbnQodCksdGhpcy5fdGV4dEd1aWRlPW51bGwsdGhpcy5tYXJrUmVkcmF3KCkpfSx0LnByb3RvdHlwZS5tYXJrUmVkcmF3PWZ1bmN0aW9uKCl7dGhpcy5fX2RpcnR5fD0xO3ZhciB0PXRoaXMuX196cjt0JiYodGhpcy5fX2luSG92ZXI/dC5yZWZyZXNoSG92ZXIoKTp0LnJlZnJlc2goKSksdGhpcy5fX2hvc3RUYXJnZXQmJnRoaXMuX19ob3N0VGFyZ2V0Lm1hcmtSZWRyYXcoKX0sdC5wcm90b3R5cGUuZGlydHk9ZnVuY3Rpb24oKXt0aGlzLm1hcmtSZWRyYXcoKX0sdC5wcm90b3R5cGUuX3RvZ2dsZUhvdmVyTGF5ZXJGbGFnPWZ1bmN0aW9uKHQpe3RoaXMuX19pbkhvdmVyPXQ7dmFyIGU9dGhpcy5fdGV4dENvbnRlbnQsbj10aGlzLl90ZXh0R3VpZGU7ZSYmKGUuX19pbkhvdmVyPXQpLG4mJihuLl9faW5Ib3Zlcj10KX0sdC5wcm90b3R5cGUuYWRkU2VsZlRvWnI9ZnVuY3Rpb24odCl7aWYodGhpcy5fX3pyIT09dCl7dGhpcy5fX3pyPXQ7dmFyIGU9dGhpcy5hbmltYXRvcnM7aWYoZSlmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0LmFuaW1hdGlvbi5hZGRBbmltYXRvcihlW25dKTt0aGlzLl9jbGlwUGF0aCYmdGhpcy5fY2xpcFBhdGguYWRkU2VsZlRvWnIodCksdGhpcy5fdGV4dENvbnRlbnQmJnRoaXMuX3RleHRDb250ZW50LmFkZFNlbGZUb1pyKHQpLHRoaXMuX3RleHRHdWlkZSYmdGhpcy5fdGV4dEd1aWRlLmFkZFNlbGZUb1pyKHQpfX0sdC5wcm90b3R5cGUucmVtb3ZlU2VsZkZyb21acj1mdW5jdGlvbih0KXtpZih0aGlzLl9fenIpe3RoaXMuX196cj1udWxsO3ZhciBlPXRoaXMuYW5pbWF0b3JzO2lmKGUpZm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdC5hbmltYXRpb24ucmVtb3ZlQW5pbWF0b3IoZVtuXSk7dGhpcy5fY2xpcFBhdGgmJnRoaXMuX2NsaXBQYXRoLnJlbW92ZVNlbGZGcm9tWnIodCksdGhpcy5fdGV4dENvbnRlbnQmJnRoaXMuX3RleHRDb250ZW50LnJlbW92ZVNlbGZGcm9tWnIodCksdGhpcy5fdGV4dEd1aWRlJiZ0aGlzLl90ZXh0R3VpZGUucmVtb3ZlU2VsZkZyb21acih0KX19LHQucHJvdG90eXBlLmFuaW1hdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10P3RoaXNbdF06dGhpcztpZihuKXt2YXIgaT1uZXcgbW4obixlKTtyZXR1cm4gdGhpcy5hZGRBbmltYXRvcihpLHQpLGl9dygnUHJvcGVydHkgIicrdCsnIiBpcyBub3QgZXhpc3RlZCBpbiBlbGVtZW50ICcrdGhpcy5pZCl9LHQucHJvdG90eXBlLmFkZEFuaW1hdG9yPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fX3pyLGk9dGhpczt0LmR1cmluZygoZnVuY3Rpb24oKXtpLnVwZGF0ZUR1cmluZ0FuaW1hdGlvbihlKX0pKS5kb25lKChmdW5jdGlvbigpe3ZhciBlPWkuYW5pbWF0b3JzLG49QShlLHQpO24+PTAmJmUuc3BsaWNlKG4sMSl9KSksdGhpcy5hbmltYXRvcnMucHVzaCh0KSxuJiZuLmFuaW1hdGlvbi5hZGRBbmltYXRvcih0KSxuJiZuLndha2VVcCgpfSx0LnByb3RvdHlwZS51cGRhdGVEdXJpbmdBbmltYXRpb249ZnVuY3Rpb24odCl7dGhpcy5tYXJrUmVkcmF3KCl9LHQucHJvdG90eXBlLnN0b3BBbmltYXRpb249ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5hbmltYXRvcnMsaT1uLmxlbmd0aCxyPVtdLG89MDtvPGk7bysrKXt2YXIgYT1uW29dO3QmJnQhPT1hLnNjb3BlP3IucHVzaChhKTphLnN0b3AoZSl9cmV0dXJuIHRoaXMuYW5pbWF0b3JzPXIsdGhpc30sdC5wcm90b3R5cGUuYW5pbWF0ZVRvPWZ1bmN0aW9uKHQsZSxuKXtOaSh0aGlzLHQsZSxuKX0sdC5wcm90b3R5cGUuYW5pbWF0ZUZyb209ZnVuY3Rpb24odCxlLG4pe05pKHRoaXMsdCxlLG4sITApfSx0LnByb3RvdHlwZS5fdHJhbnNpdGlvblN0YXRlPWZ1bmN0aW9uKHQsZSxuLGkpe2Zvcih2YXIgcj1OaSh0aGlzLGUsbixpKSxvPTA7bzxyLmxlbmd0aDtvKyspcltvXS5fX2Zyb21TdGF0ZVRyYW5zaXRpb249dH0sdC5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLmdldFBhaW50UmVjdD1mdW5jdGlvbigpe3JldHVybiBudWxsfSx0LmluaXREZWZhdWx0UHJvcHM9ZnVuY3Rpb24oKXt2YXIgZT10LnByb3RvdHlwZTtlLnR5cGU9ImVsZW1lbnQiLGUubmFtZT0iIixlLmlnbm9yZT0hMSxlLnNpbGVudD0hMSxlLmlzR3JvdXA9ITEsZS5kcmFnZ2FibGU9ITEsZS5kcmFnZ2luZz0hMSxlLmlnbm9yZUNsaXA9ITEsZS5fX2luSG92ZXI9ITEsZS5fX2RpcnR5PTE7dmFyIG49e307ZnVuY3Rpb24gaSh0LGUsaSl7blt0K2UraV18fChjb25zb2xlLndhcm4oIkRFUFJFQ0FURUQ6ICciK3QrIicgaGFzIGJlZW4gZGVwcmVjYXRlZC4gdXNlICciK2UrIicsICciK2krIicgaW5zdGVhZCIpLG5bdCtlK2ldPSEwKX1mdW5jdGlvbiByKHQsbixyLG8pe2Z1bmN0aW9uIGEodCxlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwwLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtyXX0sc2V0OmZ1bmN0aW9uKGUpe3Rbcl09ZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwxLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtvXX0sc2V0OmZ1bmN0aW9uKGUpe3Rbb109ZX19KX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtnZXQ6ZnVuY3Rpb24oKXsoaSh0LHIsbyksdGhpc1tuXSl8fGEodGhpcyx0aGlzW25dPVtdKTtyZXR1cm4gdGhpc1tuXX0sc2V0OmZ1bmN0aW9uKGUpe2kodCxyLG8pLHRoaXNbcl09ZVswXSx0aGlzW29dPWVbMV0sdGhpc1tuXT1lLGEodGhpcyxlKX19KX1PYmplY3QuZGVmaW5lUHJvcGVydHkmJighYS5icm93c2VyLmllfHxhLmJyb3dzZXIudmVyc2lvbj44KSYmKHIoInBvc2l0aW9uIiwiX2xlZ2FjeVBvcyIsIngiLCJ5Iikscigic2NhbGUiLCJfbGVnYWN5U2NhbGUiLCJzY2FsZVgiLCJzY2FsZVkiKSxyKCJvcmlnaW4iLCJfbGVnYWN5T3JpZ2luIiwib3JpZ2luWCIsIm9yaWdpblkiKSl9KCksdH0oKTtmdW5jdGlvbiBOaSh0LGUsbixpLHIpe3ZhciBvPVtdO1ZpKHQsIiIsdCxlLG49bnx8e30saSxvLHIpO3ZhciBhPW8ubGVuZ3RoLHM9ITEsbD1uLmRvbmUsdT1uLmFib3J0ZWQsaD1mdW5jdGlvbigpe3M9ITAsLS1hPD0wJiYocz9sJiZsKCk6dSYmdSgpKX0sYz1mdW5jdGlvbigpey0tYTw9MCYmKHM/bCYmbCgpOnUmJnUoKSl9O2F8fGwmJmwoKSxvLmxlbmd0aD4wJiZuLmR1cmluZyYmb1swXS5kdXJpbmcoKGZ1bmN0aW9uKHQsZSl7bi5kdXJpbmcoZSl9KSk7Zm9yKHZhciBwPTA7cDxvLmxlbmd0aDtwKyspe3ZhciBkPW9bcF07aCYmZC5kb25lKGgpLGMmJmQuYWJvcnRlZChjKSxkLnN0YXJ0KG4uZWFzaW5nLG4uZm9yY2UpfXJldHVybiBvfWZ1bmN0aW9uIHppKHQsZSxuKXtmb3IodmFyIGk9MDtpPG47aSsrKXRbaV09ZVtpXX1mdW5jdGlvbiBFaSh0LGUsbil7aWYoUChlW25dKSlpZihQKHRbbl0pfHwodFtuXT1bXSksaihlW25dKSl7dmFyIGk9ZVtuXS5sZW5ndGg7dFtuXS5sZW5ndGghPT1pJiYodFtuXT1uZXcgZVtuXS5jb25zdHJ1Y3RvcihpKSx6aSh0W25dLGVbbl0saSkpfWVsc2V7dmFyIHI9ZVtuXSxvPXRbbl0sYT1yLmxlbmd0aDtpZihQKHJbMF0pKWZvcih2YXIgcz1yWzBdLmxlbmd0aCxsPTA7bDxhO2wrKylvW2xdP3ppKG9bbF0scltsXSxzKTpvW2xdPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHJbbF0pO2Vsc2UgemkobyxyLGEpO28ubGVuZ3RoPXIubGVuZ3RofWVsc2UgdFtuXT1lW25dfWZ1bmN0aW9uIFZpKHQsZSxuLGkscixvLGEscyl7Zm9yKHZhciBsPVtdLHU9W10saD1WKGkpLGM9ci5kdXJhdGlvbixwPXIuZGVsYXksZD1yLmFkZGl0aXZlLGY9ci5zZXRUb0ZpbmFsLGc9IVkobykseT0wO3k8aC5sZW5ndGg7eSsrKXtpZihudWxsIT1uW0k9aFt5XV0mJm51bGwhPWlbSV0mJihnfHxvW0ldKSlpZihZKGlbSV0pJiYhUChpW0ldKSl7aWYoZSl7c3x8KG5bSV09aVtJXSx0LnVwZGF0ZUR1cmluZ0FuaW1hdGlvbihlKSk7Y29udGludWV9VmkodCxJLG5bSV0saVtJXSxyLG8mJm9bSV0sYSxzKX1lbHNlIGwucHVzaChJKSx1LnB1c2goSSk7ZWxzZSBzfHwobltJXT1pW0ldLHQudXBkYXRlRHVyaW5nQW5pbWF0aW9uKGUpLHUucHVzaChJKSl9dmFyIHY9bC5sZW5ndGg7aWYodj4wfHxyLmZvcmNlJiYhYS5sZW5ndGgpe2Zvcih2YXIgbT10LmFuaW1hdG9ycyxfPVtdLHg9MDt4PG0ubGVuZ3RoO3grKyltW3hdLnRhcmdldE5hbWU9PT1lJiZfLnB1c2gobVt4XSk7aWYoIWQmJl8ubGVuZ3RoKWZvcih4PTA7eDxfLmxlbmd0aDt4Kyspe2lmKF9beF0uc3RvcFRyYWNrcyh1KSl7dmFyIGI9QShtLF9beF0pO20uc3BsaWNlKGIsMSl9fXZhciB3PXZvaWQgMCxTPXZvaWQgMCxNPXZvaWQgMDtpZihzKXtTPXt9LGYmJih3PXt9KTtmb3IoeD0wO3g8djt4Kyspe1NbST1sW3hdXT1uW0ldLGY/d1tJXT1pW0ldOm5bSV09aVtJXX19ZWxzZSBpZihmKXtNPXt9O2Zvcih4PTA7eDx2O3grKyl7dmFyIEk7TVtJPWxbeF1dPXBuKG5bSV0pLEVpKG4saSxJKX19dmFyIFQ9bmV3IG1uKG4sITEsZD9fOm51bGwpO1QudGFyZ2V0TmFtZT1lLHIuc2NvcGUmJihULnNjb3BlPXIuc2NvcGUpLGYmJncmJlQud2hlbldpdGhLZXlzKDAsdyxsKSxNJiZULndoZW5XaXRoS2V5cygwLE0sbCksVC53aGVuV2l0aEtleXMobnVsbD09Yz81MDA6YyxzP1M6aSxsKS5kZWxheShwfHwwKSx0LmFkZEFuaW1hdG9yKFQsZSksYS5wdXNoKFQpfX1MKFJpLEZ0KSxMKFJpLGFpKTt2YXIgQmk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uaXNHcm91cD0hMCxuLl9jaGlsZHJlbj1bXSxuLmF0dHIoZSksbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmNoaWxkcmVuUmVmPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVufSxlLnByb3RvdHlwZS5jaGlsZHJlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5zbGljZSgpfSxlLnByb3RvdHlwZS5jaGlsZEF0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jaGlsZHJlblt0XX0sZS5wcm90b3R5cGUuY2hpbGRPZk5hbWU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2NoaWxkcmVuLG49MDtuPGUubGVuZ3RoO24rKylpZihlW25dLm5hbWU9PT10KXJldHVybiBlW25dfSxlLnByb3RvdHlwZS5jaGlsZENvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmxlbmd0aH0sZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe2lmKHQmJih0IT09dGhpcyYmdC5wYXJlbnQhPT10aGlzJiYodGhpcy5fY2hpbGRyZW4ucHVzaCh0KSx0aGlzLl9kb0FkZCh0KSksdC5fX2hvc3RUYXJnZXQpKXRocm93IlRoaXMgZWxlbWVuZXQgaGFzIGJlZW4gdXNlZCBhcyBhbiBhdHRhY2htZW50IjtyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuYWRkQmVmb3JlPWZ1bmN0aW9uKHQsZSl7aWYodCYmdCE9PXRoaXMmJnQucGFyZW50IT09dGhpcyYmZSYmZS5wYXJlbnQ9PT10aGlzKXt2YXIgbj10aGlzLl9jaGlsZHJlbixpPW4uaW5kZXhPZihlKTtpPj0wJiYobi5zcGxpY2UoaSwwLHQpLHRoaXMuX2RvQWRkKHQpKX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUucmVwbGFjZT1mdW5jdGlvbih0LGUpe3ZhciBuPUEodGhpcy5fY2hpbGRyZW4sdCk7cmV0dXJuIG4+PTAmJnRoaXMucmVwbGFjZUF0KGUsbiksdGhpc30sZS5wcm90b3R5cGUucmVwbGFjZUF0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fY2hpbGRyZW4saT1uW2VdO2lmKHQmJnQhPT10aGlzJiZ0LnBhcmVudCE9PXRoaXMmJnQhPT1pKXtuW2VdPXQsaS5wYXJlbnQ9bnVsbDt2YXIgcj10aGlzLl9fenI7ciYmaS5yZW1vdmVTZWxmRnJvbVpyKHIpLHRoaXMuX2RvQWRkKHQpfXJldHVybiB0aGlzfSxlLnByb3RvdHlwZS5fZG9BZGQ9ZnVuY3Rpb24odCl7dC5wYXJlbnQmJnQucGFyZW50LnJlbW92ZSh0KSx0LnBhcmVudD10aGlzO3ZhciBlPXRoaXMuX196cjtlJiZlIT09dC5fX3pyJiZ0LmFkZFNlbGZUb1pyKGUpLGUmJmUucmVmcmVzaCgpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX3pyLG49dGhpcy5fY2hpbGRyZW4saT1BKG4sdCk7cmV0dXJuIGk8MHx8KG4uc3BsaWNlKGksMSksdC5wYXJlbnQ9bnVsbCxlJiZ0LnJlbW92ZVNlbGZGcm9tWnIoZSksZSYmZS5yZWZyZXNoKCkpLHRoaXN9LGUucHJvdG90eXBlLnJlbW92ZUFsbD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9jaGlsZHJlbixlPXRoaXMuX196cixuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07ZSYmaS5yZW1vdmVTZWxmRnJvbVpyKGUpLGkucGFyZW50PW51bGx9cmV0dXJuIHQubGVuZ3RoPTAsdGhpc30sZS5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMuX2NoaWxkcmVuLGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXTt0LmNhbGwoZSxyLGkpfXJldHVybiB0aGlzfSxlLnByb3RvdHlwZS50cmF2ZXJzZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248dGhpcy5fY2hpbGRyZW4ubGVuZ3RoO24rKyl7dmFyIGk9dGhpcy5fY2hpbGRyZW5bbl0scj10LmNhbGwoZSxpKTtpLmlzR3JvdXAmJiFyJiZpLnRyYXZlcnNlKHQsZSl9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLmFkZFNlbGZUb1pyPWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLmFkZFNlbGZUb1pyLmNhbGwodGhpcyxlKTtmb3IodmFyIG49MDtuPHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtuKyspe3RoaXMuX2NoaWxkcmVuW25dLmFkZFNlbGZUb1pyKGUpfX0sZS5wcm90b3R5cGUucmVtb3ZlU2VsZkZyb21acj1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5yZW1vdmVTZWxmRnJvbVpyLmNhbGwodGhpcyxlKTtmb3IodmFyIG49MDtuPHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtuKyspe3RoaXMuX2NoaWxkcmVuW25dLnJlbW92ZVNlbGZGcm9tWnIoZSl9fSxlLnByb3RvdHlwZS5nZXRCb3VuZGluZ1JlY3Q9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyB2aSgwLDAsMCwwKSxuPXR8fHRoaXMuX2NoaWxkcmVuLGk9W10scj1udWxsLG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIGE9bltvXTtpZighYS5pZ25vcmUmJiFhLmludmlzaWJsZSl7dmFyIHM9YS5nZXRCb3VuZGluZ1JlY3QoKSxsPWEuZ2V0TG9jYWxUcmFuc2Zvcm0oaSk7bD8odmkuYXBwbHlUcmFuc2Zvcm0oZSxzLGwpLChyPXJ8fGUuY2xvbmUoKSkudW5pb24oZSkpOihyPXJ8fHMuY2xvbmUoKSkudW5pb24ocyl9fXJldHVybiByfHxlfSxlfShSaSk7QmkucHJvdG90eXBlLnR5cGU9Imdyb3VwIjsKLyohCiAgICAqIFpSZW5kZXIsIGEgaGlnaCBwZXJmb3JtYW5jZSAyZCBkcmF3aW5nIGxpYnJhcnkuCiAgICAqCiAgICAqIENvcHlyaWdodCAoYykgMjAxMywgQmFpZHUgSW5jLgogICAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLgogICAgKgogICAgKiBMSUNFTlNFCiAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9lY29tZmUvenJlbmRlci9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dAogICAgKi8KdmFyIEdpPSFhLmNhbnZhc1N1cHBvcnRlZCxGaT17fSxIaT17fTt2YXIgV2k9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt2YXIgaT10aGlzO3RoaXMuX3NsZWVwQWZ0ZXJTdGlsbD0xMCx0aGlzLl9zdGlsbEZyYW1lQWNjdW09MCx0aGlzLl9uZWVkc1JlZnJlc2g9ITAsdGhpcy5fbmVlZHNSZWZyZXNoSG92ZXI9ITAsdGhpcy5fZGFya01vZGU9ITEsbj1ufHx7fSx0aGlzLmRvbT1lLHRoaXMuaWQ9dDt2YXIgcj1uZXcgTWUsbz1uLnJlbmRlcmVyfHwiY2FudmFzIjtpZihHaSl0aHJvdyBuZXcgRXJyb3IoIklFOCBzdXBwb3J0IGhhcyBiZWVuIGRyb3BwZWQgc2luY2UgNS4wIik7aWYoRmlbb118fChvPVYoRmkpWzBdKSwhRmlbb10pdGhyb3cgbmV3IEVycm9yKCJSZW5kZXJlciAnIitvKyInIGlzIG5vdCBpbXBvcnRlZC4gUGxlYXNlIGltcG9ydCBpdCBmaXJzdC4iKTtuLnVzZURpcnR5UmVjdD1udWxsIT1uLnVzZURpcnR5UmVjdCYmbi51c2VEaXJ0eVJlY3Q7dmFyIHM9bmV3IEZpW29dKGUscixuLHQpO3RoaXMuc3RvcmFnZT1yLHRoaXMucGFpbnRlcj1zO3ZhciBsPWEubm9kZXx8YS53b3JrZXI/bnVsbDpuZXcgem4ocy5nZXRWaWV3cG9ydFJvb3QoKSxzLnJvb3QpO3RoaXMuaGFuZGxlcj1uZXcgcGUocixzLGwscy5yb290KSx0aGlzLmFuaW1hdGlvbj1uZXcgX24oe3N0YWdlOnt1cGRhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaS5fZmx1c2goITApfX19KSx0aGlzLmFuaW1hdGlvbi5zdGFydCgpfXJldHVybiB0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dCYmKHRoaXMuc3RvcmFnZS5hZGRSb290KHQpLHQuYWRkU2VsZlRvWnIodGhpcyksdGhpcy5yZWZyZXNoKCkpfSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dCYmKHRoaXMuc3RvcmFnZS5kZWxSb290KHQpLHQucmVtb3ZlU2VsZkZyb21acih0aGlzKSx0aGlzLnJlZnJlc2goKSl9LHQucHJvdG90eXBlLmNvbmZpZ0xheWVyPWZ1bmN0aW9uKHQsZSl7dGhpcy5wYWludGVyLmNvbmZpZ0xheWVyJiZ0aGlzLnBhaW50ZXIuY29uZmlnTGF5ZXIodCxlKSx0aGlzLnJlZnJlc2goKX0sdC5wcm90b3R5cGUuc2V0QmFja2dyb3VuZENvbG9yPWZ1bmN0aW9uKHQpe3RoaXMucGFpbnRlci5zZXRCYWNrZ3JvdW5kQ29sb3ImJnRoaXMucGFpbnRlci5zZXRCYWNrZ3JvdW5kQ29sb3IodCksdGhpcy5yZWZyZXNoKCksdGhpcy5fYmFja2dyb3VuZENvbG9yPXQsdGhpcy5fZGFya01vZGU9ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuITE7aWYoInN0cmluZyI9PXR5cGVvZiB0KXJldHVybiB0bih0LDEpPC40O2lmKHQuY29sb3JTdG9wcyl7Zm9yKHZhciBlPXQuY29sb3JTdG9wcyxuPTAsaT1lLmxlbmd0aCxyPTA7cjxpO3IrKyluKz10bihlW3JdLmNvbG9yLDEpO3JldHVybihuLz1pKTwuNH1yZXR1cm4hMX0odCl9LHQucHJvdG90eXBlLmdldEJhY2tncm91bmRDb2xvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9iYWNrZ3JvdW5kQ29sb3J9LHQucHJvdG90eXBlLnNldERhcmtNb2RlPWZ1bmN0aW9uKHQpe3RoaXMuX2RhcmtNb2RlPXR9LHQucHJvdG90eXBlLmlzRGFya01vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGFya01vZGV9LHQucHJvdG90eXBlLnJlZnJlc2hJbW1lZGlhdGVseT1mdW5jdGlvbih0KXt0fHx0aGlzLmFuaW1hdGlvbi51cGRhdGUoITApLHRoaXMuX25lZWRzUmVmcmVzaD0hMSx0aGlzLnBhaW50ZXIucmVmcmVzaCgpLHRoaXMuX25lZWRzUmVmcmVzaD0hMX0sdC5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe3RoaXMuX25lZWRzUmVmcmVzaD0hMCx0aGlzLmFuaW1hdGlvbi5zdGFydCgpfSx0LnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe3RoaXMuX2ZsdXNoKCExKX0sdC5wcm90b3R5cGUuX2ZsdXNoPWZ1bmN0aW9uKHQpe3ZhciBlLG49KG5ldyBEYXRlKS5nZXRUaW1lKCk7dGhpcy5fbmVlZHNSZWZyZXNoJiYoZT0hMCx0aGlzLnJlZnJlc2hJbW1lZGlhdGVseSh0KSksdGhpcy5fbmVlZHNSZWZyZXNoSG92ZXImJihlPSEwLHRoaXMucmVmcmVzaEhvdmVySW1tZWRpYXRlbHkoKSk7dmFyIGk9KG5ldyBEYXRlKS5nZXRUaW1lKCk7ZT8odGhpcy5fc3RpbGxGcmFtZUFjY3VtPTAsdGhpcy50cmlnZ2VyKCJyZW5kZXJlZCIse2VsYXBzZWRUaW1lOmktbn0pKTp0aGlzLl9zbGVlcEFmdGVyU3RpbGw+MCYmKHRoaXMuX3N0aWxsRnJhbWVBY2N1bSsrLHRoaXMuX3N0aWxsRnJhbWVBY2N1bT50aGlzLl9zbGVlcEFmdGVyU3RpbGwmJnRoaXMuYW5pbWF0aW9uLnN0b3AoKSl9LHQucHJvdG90eXBlLnNldFNsZWVwQWZ0ZXJTdGlsbD1mdW5jdGlvbih0KXt0aGlzLl9zbGVlcEFmdGVyU3RpbGw9dH0sdC5wcm90b3R5cGUud2FrZVVwPWZ1bmN0aW9uKCl7dGhpcy5hbmltYXRpb24uc3RhcnQoKSx0aGlzLl9zdGlsbEZyYW1lQWNjdW09MH0sdC5wcm90b3R5cGUuYWRkSG92ZXI9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5yZW1vdmVIb3Zlcj1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLmNsZWFySG92ZXI9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnJlZnJlc2hIb3Zlcj1mdW5jdGlvbigpe3RoaXMuX25lZWRzUmVmcmVzaEhvdmVyPSEwfSx0LnByb3RvdHlwZS5yZWZyZXNoSG92ZXJJbW1lZGlhdGVseT1mdW5jdGlvbigpe3RoaXMuX25lZWRzUmVmcmVzaEhvdmVyPSExLHRoaXMucGFpbnRlci5yZWZyZXNoSG92ZXImJiJjYW52YXMiPT09dGhpcy5wYWludGVyLmdldFR5cGUoKSYmdGhpcy5wYWludGVyLnJlZnJlc2hIb3ZlcigpfSx0LnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCl7dD10fHx7fSx0aGlzLnBhaW50ZXIucmVzaXplKHQud2lkdGgsdC5oZWlnaHQpLHRoaXMuaGFuZGxlci5yZXNpemUoKX0sdC5wcm90b3R5cGUuY2xlYXJBbmltYXRpb249ZnVuY3Rpb24oKXt0aGlzLmFuaW1hdGlvbi5jbGVhcigpfSx0LnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhaW50ZXIuZ2V0V2lkdGgoKX0sdC5wcm90b3R5cGUuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFpbnRlci5nZXRIZWlnaHQoKX0sdC5wcm90b3R5cGUucGF0aFRvSW1hZ2U9ZnVuY3Rpb24odCxlKXtpZih0aGlzLnBhaW50ZXIucGF0aFRvSW1hZ2UpcmV0dXJuIHRoaXMucGFpbnRlci5wYXRoVG9JbWFnZSh0LGUpfSx0LnByb3RvdHlwZS5zZXRDdXJzb3JTdHlsZT1mdW5jdGlvbih0KXt0aGlzLmhhbmRsZXIuc2V0Q3Vyc29yU3R5bGUodCl9LHQucHJvdG90eXBlLmZpbmRIb3Zlcj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmhhbmRsZXIuZmluZEhvdmVyKHQsZSl9LHQucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5oYW5kbGVyLm9uKHQsZSxuKSx0aGlzfSx0LnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24odCxlKXt0aGlzLmhhbmRsZXIub2ZmKHQsZSl9LHQucHJvdG90eXBlLnRyaWdnZXI9ZnVuY3Rpb24odCxlKXt0aGlzLmhhbmRsZXIudHJpZ2dlcih0LGUpfSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnN0b3JhZ2UuZ2V0Um9vdHMoKSxlPTA7ZTx0Lmxlbmd0aDtlKyspdFtlXWluc3RhbmNlb2YgQmkmJnRbZV0ucmVtb3ZlU2VsZkZyb21acih0aGlzKTt0aGlzLnN0b3JhZ2UuZGVsQWxsUm9vdHMoKSx0aGlzLnBhaW50ZXIuY2xlYXIoKX0sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3ZhciB0O3RoaXMuYW5pbWF0aW9uLnN0b3AoKSx0aGlzLmNsZWFyKCksdGhpcy5zdG9yYWdlLmRpc3Bvc2UoKSx0aGlzLnBhaW50ZXIuZGlzcG9zZSgpLHRoaXMuaGFuZGxlci5kaXNwb3NlKCksdGhpcy5hbmltYXRpb249dGhpcy5zdG9yYWdlPXRoaXMucGFpbnRlcj10aGlzLmhhbmRsZXI9bnVsbCx0PXRoaXMuaWQsZGVsZXRlIEhpW3RdfSx0fSgpO2Z1bmN0aW9uIFVpKHQsZSl7dmFyIG49bmV3IFdpKGIoKSx0LGUpO3JldHVybiBIaVtuLmlkXT1uLG59ZnVuY3Rpb24gWGkodCxlKXtGaVt0XT1lfXZhciBZaT1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxpbml0OlVpLGRpc3Bvc2U6ZnVuY3Rpb24odCl7dC5kaXNwb3NlKCl9LGRpc3Bvc2VBbGw6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gSGkpSGkuaGFzT3duUHJvcGVydHkodCkmJkhpW3RdLmRpc3Bvc2UoKTtIaT17fX0sZ2V0SW5zdGFuY2U6ZnVuY3Rpb24odCl7cmV0dXJuIEhpW3RdfSxyZWdpc3RlclBhaW50ZXI6WGksdmVyc2lvbjoiNS4yLjEifSksWmk9MWUtNDtmdW5jdGlvbiBqaSh0LGUsbixpKXt2YXIgcj1lWzBdLG89ZVsxXSxhPW5bMF0scz1uWzFdLGw9by1yLHU9cy1hO2lmKDA9PT1sKXJldHVybiAwPT09dT9hOihhK3MpLzI7aWYoaSlpZihsPjApe2lmKHQ8PXIpcmV0dXJuIGE7aWYodD49bylyZXR1cm4gc31lbHNle2lmKHQ+PXIpcmV0dXJuIGE7aWYodDw9bylyZXR1cm4gc31lbHNle2lmKHQ9PT1yKXJldHVybiBhO2lmKHQ9PT1vKXJldHVybiBzfXJldHVybih0LXIpL2wqdSthfWZ1bmN0aW9uIHFpKHQsZSl7c3dpdGNoKHQpe2Nhc2UiY2VudGVyIjpjYXNlIm1pZGRsZSI6dD0iNTAlIjticmVhaztjYXNlImxlZnQiOmNhc2UidG9wIjp0PSIwJSI7YnJlYWs7Y2FzZSJyaWdodCI6Y2FzZSJib3R0b20iOnQ9IjEwMCUifXJldHVybiJzdHJpbmciPT10eXBlb2YgdD8obj10LG4ucmVwbGFjZSgvXlxzK3xccyskL2csIiIpKS5tYXRjaCgvJSQvKT9wYXJzZUZsb2F0KHQpLzEwMCplOnBhcnNlRmxvYXQodCk6bnVsbD09dD9OYU46K3Q7dmFyIG59ZnVuY3Rpb24gS2kodCxlLG4pe3JldHVybiBudWxsPT1lJiYoZT0xMCksZT1NYXRoLm1pbihNYXRoLm1heCgwLGUpLDIwKSx0PSgrdCkudG9GaXhlZChlKSxuP3Q6K3R9ZnVuY3Rpb24gJGkodCl7cmV0dXJuIHQuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1lfSkpLHR9ZnVuY3Rpb24gSmkodCl7aWYodD0rdCxpc05hTih0KSlyZXR1cm4gMDtpZih0PjFlLTE0KWZvcih2YXIgZT0xLG49MDtuPDE1O24rKyxlKj0xMClpZihNYXRoLnJvdW5kKHQqZSkvZT09PXQpcmV0dXJuIG47cmV0dXJuIFFpKHQpfWZ1bmN0aW9uIFFpKHQpe3ZhciBlPXQudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLG49ZS5pbmRleE9mKCJlIiksaT1uPjA/K2Uuc2xpY2UobisxKTowLHI9bj4wP246ZS5sZW5ndGgsbz1lLmluZGV4T2YoIi4iKSxhPW88MD8wOnItMS1vO3JldHVybiBNYXRoLm1heCgwLGEtaSl9ZnVuY3Rpb24gdHIodCxlKXt2YXIgbj1NYXRoLmxvZyxpPU1hdGguTE4xMCxyPU1hdGguZmxvb3Iobih0WzFdLXRbMF0pL2kpLG89TWF0aC5yb3VuZChuKE1hdGguYWJzKGVbMV0tZVswXSkpL2kpLGE9TWF0aC5taW4oTWF0aC5tYXgoLXIrbywwKSwyMCk7cmV0dXJuIGlzRmluaXRlKGEpP2E6MjB9ZnVuY3Rpb24gZXIodCxlLG4pe2lmKCF0W2VdKXJldHVybiAwO3ZhciBpPU4odCwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCsoaXNOYU4oZSk/MDplKX0pLDApO2lmKDA9PT1pKXJldHVybiAwO2Zvcih2YXIgcj1NYXRoLnBvdygxMCxuKSxvPVIodCwoZnVuY3Rpb24odCl7cmV0dXJuKGlzTmFOKHQpPzA6dCkvaSpyKjEwMH0pKSxhPTEwMCpyLHM9UihvLChmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5mbG9vcih0KX0pKSxsPU4ocywoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtlfSksMCksdT1SKG8sKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQtc1tlXX0pKTtsPGE7KXtmb3IodmFyIGg9TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLGM9bnVsbCxwPTAsZD11Lmxlbmd0aDtwPGQ7KytwKXVbcF0+aCYmKGg9dVtwXSxjPXApOysrc1tjXSx1W2NdPTAsKytsfXJldHVybiBzW2VdL3J9ZnVuY3Rpb24gbnIodCxlKXt2YXIgbj1NYXRoLm1heChKaSh0KSxKaShlKSksaT10K2U7cmV0dXJuIG4+MjA/aTpLaShpLG4pfXZhciBpcj05MDA3MTk5MjU0NzQwOTkxO2Z1bmN0aW9uIHJyKHQpe3ZhciBlPTIqTWF0aC5QSTtyZXR1cm4odCVlK2UpJWV9ZnVuY3Rpb24gb3IodCl7cmV0dXJuIHQ+LTFlLTQmJnQ8Wml9dmFyIGFyPS9eKD86KFxkezR9KSg/OlstXC9dKFxkezEsMn0pKD86Wy1cL10oXGR7MSwyfSkoPzpbVCBdKFxkezEsMn0pKD86OihcZHsxLDJ9KSg/OjooXGR7MSwyfSkoPzpbLixdKFxkKykpPyk/KT8oWnxbXCtcLV1cZFxkOj9cZFxkKT8pPyk/KT8pPyQvO2Z1bmN0aW9uIHNyKHQpe2lmKHQgaW5zdGFuY2VvZiBEYXRlKXJldHVybiB0O2lmKCJzdHJpbmciPT10eXBlb2YgdCl7dmFyIGU9YXIuZXhlYyh0KTtpZighZSlyZXR1cm4gbmV3IERhdGUoTmFOKTtpZihlWzhdKXt2YXIgbj0rZVs0XXx8MDtyZXR1cm4iWiIhPT1lWzhdLnRvVXBwZXJDYXNlKCkmJihuLT0rZVs4XS5zbGljZSgwLDMpKSxuZXcgRGF0ZShEYXRlLlVUQygrZVsxXSwrKGVbMl18fDEpLTEsK2VbM118fDEsbiwrKGVbNV18fDApLCtlWzZdfHwwLGVbN10/K2VbN10uc3Vic3RyaW5nKDAsMyk6MCkpfXJldHVybiBuZXcgRGF0ZSgrZVsxXSwrKGVbMl18fDEpLTEsK2VbM118fDEsK2VbNF18fDAsKyhlWzVdfHwwKSwrZVs2XXx8MCxlWzddPytlWzddLnN1YnN0cmluZygwLDMpOjApfXJldHVybiBudWxsPT10P25ldyBEYXRlKE5hTik6bmV3IERhdGUoTWF0aC5yb3VuZCh0KSl9ZnVuY3Rpb24gbHIodCl7cmV0dXJuIE1hdGgucG93KDEwLHVyKHQpKX1mdW5jdGlvbiB1cih0KXtpZigwPT09dClyZXR1cm4gMDt2YXIgZT1NYXRoLmZsb29yKE1hdGgubG9nKHQpL01hdGguTE4xMCk7cmV0dXJuIHQvTWF0aC5wb3coMTAsZSk+PTEwJiZlKyssZX1mdW5jdGlvbiBocih0LGUpe3ZhciBuPXVyKHQpLGk9TWF0aC5wb3coMTAsbikscj10L2k7cmV0dXJuIHQ9KGU/cjwxLjU/MTpyPDIuNT8yOnI8ND8zOnI8Nz81OjEwOnI8MT8xOnI8Mj8yOnI8Mz8zOnI8NT81OjEwKSppLG4+PS0yMD8rdC50b0ZpeGVkKG48MD8tbjowKTp0fWZ1bmN0aW9uIGNyKHQsZSl7dmFyIG49KHQubGVuZ3RoLTEpKmUrMSxpPU1hdGguZmxvb3Iobikscj0rdFtpLTFdLG89bi1pO3JldHVybiBvP3IrbyoodFtpXS1yKTpyfWZ1bmN0aW9uIHByKHQpe3Quc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gcyh0LGUsMCk/LTE6MX0pKTtmb3IodmFyIGU9LTEvMCxuPTEsaT0wO2k8dC5sZW5ndGg7KXtmb3IodmFyIHI9dFtpXS5pbnRlcnZhbCxvPXRbaV0uY2xvc2UsYT0wO2E8MjthKyspclthXTw9ZSYmKHJbYV09ZSxvW2FdPWE/MToxLW4pLGU9clthXSxuPW9bYV07clswXT09PXJbMV0mJm9bMF0qb1sxXSE9MT90LnNwbGljZShpLDEpOmkrK31yZXR1cm4gdDtmdW5jdGlvbiBzKHQsZSxuKXtyZXR1cm4gdC5pbnRlcnZhbFtuXTxlLmludGVydmFsW25dfHx0LmludGVydmFsW25dPT09ZS5pbnRlcnZhbFtuXSYmKHQuY2xvc2Vbbl0tZS5jbG9zZVtuXT09KG4/LTE6MSl8fCFuJiZzKHQsZSwxKSl9fWZ1bmN0aW9uIGRyKHQpe3ZhciBlPXBhcnNlRmxvYXQodCk7cmV0dXJuIGU9PXQmJigwIT09ZXx8InN0cmluZyIhPXR5cGVvZiB0fHx0LmluZGV4T2YoIngiKTw9MCk/ZTpOYU59ZnVuY3Rpb24gZnIodCl7cmV0dXJuIWlzTmFOKGRyKHQpKX1mdW5jdGlvbiBncigpe3JldHVybiBNYXRoLnJvdW5kKDkqTWF0aC5yYW5kb20oKSl9ZnVuY3Rpb24geXIodCxlKXtyZXR1cm4gMD09PWU/dDp5cihlLHQlZSl9ZnVuY3Rpb24gdnIodCxlKXtyZXR1cm4gbnVsbD09dD9lOm51bGw9PWU/dDp0KmUveXIodCxlKX0idW5kZWZpbmVkIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUud2FybiYmY29uc29sZS5sb2c7ZnVuY3Rpb24gbXIodCl7MH1mdW5jdGlvbiBfcih0KXt0aHJvdyBuZXcgRXJyb3IodCl9dmFyIHhyPSJzZXJpZXNcMCIsYnI9IlwwX2VjX1wwIjtmdW5jdGlvbiB3cih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEFycmF5P3Q6bnVsbD09dD9bXTpbdF19ZnVuY3Rpb24gU3IodCxlLG4pe2lmKHQpe3RbZV09dFtlXXx8e30sdC5lbXBoYXNpcz10LmVtcGhhc2lzfHx7fSx0LmVtcGhhc2lzW2VdPXQuZW1waGFzaXNbZV18fHt9O2Zvcih2YXIgaT0wLHI9bi5sZW5ndGg7aTxyO2krKyl7dmFyIG89bltpXTshdC5lbXBoYXNpc1tlXS5oYXNPd25Qcm9wZXJ0eShvKSYmdFtlXS5oYXNPd25Qcm9wZXJ0eShvKSYmKHQuZW1waGFzaXNbZV1bb109dFtlXVtvXSl9fX12YXIgTXI9WyJmb250U3R5bGUiLCJmb250V2VpZ2h0IiwiZm9udFNpemUiLCJmb250RmFtaWx5IiwicmljaCIsInRhZyIsImNvbG9yIiwidGV4dEJvcmRlckNvbG9yIiwidGV4dEJvcmRlcldpZHRoIiwid2lkdGgiLCJoZWlnaHQiLCJsaW5lSGVpZ2h0IiwiYWxpZ24iLCJ2ZXJ0aWNhbEFsaWduIiwiYmFzZWxpbmUiLCJzaGFkb3dDb2xvciIsInNoYWRvd0JsdXIiLCJzaGFkb3dPZmZzZXRYIiwic2hhZG93T2Zmc2V0WSIsInRleHRTaGFkb3dDb2xvciIsInRleHRTaGFkb3dCbHVyIiwidGV4dFNoYWRvd09mZnNldFgiLCJ0ZXh0U2hhZG93T2Zmc2V0WSIsImJhY2tncm91bmRDb2xvciIsImJvcmRlckNvbG9yIiwiYm9yZGVyV2lkdGgiLCJib3JkZXJSYWRpdXMiLCJwYWRkaW5nIl07ZnVuY3Rpb24gSXIodCl7cmV0dXJuIVkodCl8fEYodCl8fHQgaW5zdGFuY2VvZiBEYXRlP3Q6dC52YWx1ZX1mdW5jdGlvbiBUcih0KXtyZXR1cm4gWSh0KSYmISh0IGluc3RhbmNlb2YgQXJyYXkpfWZ1bmN0aW9uIENyKHQsZSxuKXt2YXIgaT0ibm9ybWFsTWVyZ2UiPT09bixyPSJyZXBsYWNlTWVyZ2UiPT09bixvPSJyZXBsYWNlQWxsIj09PW47dD10fHxbXSxlPShlfHxbXSkuc2xpY2UoKTt2YXIgYT1jdCgpO08oZSwoZnVuY3Rpb24odCxuKXtZKHQpfHwoZVtuXT1udWxsKX0pKTt2YXIgcyxsLHU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPVtdO2lmKCJyZXBsYWNlQWxsIj09PW4pcmV0dXJuIGk7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl07byYmbnVsbCE9by5pZCYmZS5zZXQoby5pZCxyKSxpLnB1c2goe2V4aXN0aW5nOiJyZXBsYWNlTWVyZ2UiPT09bnx8UHIobyk/bnVsbDpvLG5ld09wdGlvbjpudWxsLGtleUluZm86bnVsbCxicmFuZE5ldzpudWxsfSl9cmV0dXJuIGl9KHQsYSxuKTtyZXR1cm4oaXx8cikmJmZ1bmN0aW9uKHQsZSxuLGkpe08oaSwoZnVuY3Rpb24ocixvKXtpZihyJiZudWxsIT1yLmlkKXt2YXIgYT1BcihyLmlkKSxzPW4uZ2V0KGEpO2lmKG51bGwhPXMpe3ZhciBsPXRbc107b3QoIWwubmV3T3B0aW9uLCdEdXBsaWNhdGVkIG9wdGlvbiBvbiBpZCAiJythKyciLicpLGwubmV3T3B0aW9uPXIsbC5leGlzdGluZz1lW3NdLGlbb109bnVsbH19fSkpfSh1LHQsYSxlKSxpJiZmdW5jdGlvbih0LGUpe08oZSwoZnVuY3Rpb24obixpKXtpZihuJiZudWxsIT1uLm5hbWUpZm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl0uZXhpc3Rpbmc7aWYoIXRbcl0ubmV3T3B0aW9uJiZvJiYobnVsbD09by5pZHx8bnVsbD09bi5pZCkmJiFQcihuKSYmIVByKG8pJiZEcigibmFtZSIsbyxuKSlyZXR1cm4gdFtyXS5uZXdPcHRpb249bix2b2lkKGVbaV09bnVsbCl9fSkpfSh1LGUpLGl8fHI/ZnVuY3Rpb24odCxlLG4pe08oZSwoZnVuY3Rpb24oZSl7aWYoZSl7Zm9yKHZhciBpLHI9MDsoaT10W3JdKSYmKGkubmV3T3B0aW9ufHxQcihpLmV4aXN0aW5nKXx8aS5leGlzdGluZyYmbnVsbCE9ZS5pZCYmIURyKCJpZCIsZSxpLmV4aXN0aW5nKSk7KXIrKztpPyhpLm5ld09wdGlvbj1lLGkuYnJhbmROZXc9bik6dC5wdXNoKHtuZXdPcHRpb246ZSxicmFuZE5ldzpuLGV4aXN0aW5nOm51bGwsa2V5SW5mbzpudWxsfSkscisrfX0pKX0odSxlLHIpOm8mJmZ1bmN0aW9uKHQsZSl7TyhlLChmdW5jdGlvbihlKXt0LnB1c2goe25ld09wdGlvbjplLGJyYW5kTmV3OiEwLGV4aXN0aW5nOm51bGwsa2V5SW5mbzpudWxsfSl9KSl9KHUsZSkscz11LGw9Y3QoKSxPKHMsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZXhpc3Rpbmc7ZSYmbC5zZXQoZS5pZCx0KX0pKSxPKHMsKGZ1bmN0aW9uKHQpe3ZhciBlPXQubmV3T3B0aW9uO290KCFlfHxudWxsPT1lLmlkfHwhbC5nZXQoZS5pZCl8fGwuZ2V0KGUuaWQpPT09dCwiaWQgZHVwbGljYXRlczogIisoZSYmZS5pZCkpLGUmJm51bGwhPWUuaWQmJmwuc2V0KGUuaWQsdCksIXQua2V5SW5mbyYmKHQua2V5SW5mbz17fSl9KSksTyhzLChmdW5jdGlvbih0LGUpe3ZhciBuPXQuZXhpc3RpbmcsaT10Lm5ld09wdGlvbixyPXQua2V5SW5mbztpZihZKGkpKXtpZihyLm5hbWU9bnVsbCE9aS5uYW1lP0FyKGkubmFtZSk6bj9uLm5hbWU6eHIrZSxuKXIuaWQ9QXIobi5pZCk7ZWxzZSBpZihudWxsIT1pLmlkKXIuaWQ9QXIoaS5pZCk7ZWxzZXt2YXIgbz0wO2Rve3IuaWQ9IlwwIityLm5hbWUrIlwwIitvKyt9d2hpbGUobC5nZXQoci5pZCkpfWwuc2V0KHIuaWQsdCl9fSkpLHV9ZnVuY3Rpb24gRHIodCxlLG4pe3ZhciBpPWtyKGVbdF0sbnVsbCkscj1rcihuW3RdLG51bGwpO3JldHVybiBudWxsIT1pJiZudWxsIT1yJiZpPT09cn1mdW5jdGlvbiBBcih0KXtyZXR1cm4ga3IodCwiIil9ZnVuY3Rpb24ga3IodCxlKXtpZihudWxsPT10KXJldHVybiBlO3ZhciBuPXR5cGVvZiB0O3JldHVybiJzdHJpbmciPT09bj90OiJudW1iZXIiPT09bnx8VSh0KT90KyIiOmV9ZnVuY3Rpb24gTHIodCl7dmFyIGU9dC5uYW1lO3JldHVybiEoIWV8fCFlLmluZGV4T2YoeHIpKX1mdW5jdGlvbiBQcih0KXtyZXR1cm4gdCYmbnVsbCE9dC5pZCYmMD09PUFyKHQuaWQpLmluZGV4T2YoYnIpfWZ1bmN0aW9uIE9yKHQsZSl7cmV0dXJuIG51bGwhPWUuZGF0YUluZGV4SW5zaWRlP2UuZGF0YUluZGV4SW5zaWRlOm51bGwhPWUuZGF0YUluZGV4P0YoZS5kYXRhSW5kZXgpP1IoZS5kYXRhSW5kZXgsKGZ1bmN0aW9uKGUpe3JldHVybiB0LmluZGV4T2ZSYXdJbmRleChlKX0pKTp0LmluZGV4T2ZSYXdJbmRleChlLmRhdGFJbmRleCk6bnVsbCE9ZS5uYW1lP0YoZS5uYW1lKT9SKGUubmFtZSwoZnVuY3Rpb24oZSl7cmV0dXJuIHQuaW5kZXhPZk5hbWUoZSl9KSk6dC5pbmRleE9mTmFtZShlLm5hbWUpOnZvaWQgMH1mdW5jdGlvbiBScigpe3ZhciB0PSJfX2VjX2lubmVyXyIrTnIrKztyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGVbdF18fChlW3RdPXt9KX19dmFyIE5yPWdyKCk7ZnVuY3Rpb24genIodCxlLG4pe3ZhciBpPUVyKGUsbikscj1pLm1haW5UeXBlU3BlY2lmaWVkLG89aS5xdWVyeU9wdGlvbk1hcCxhPWkub3RoZXJzLHM9bj9uLmRlZmF1bHRNYWluVHlwZTpudWxsO3JldHVybiFyJiZzJiZvLnNldChzLHt9KSxvLmVhY2goKGZ1bmN0aW9uKGUsaSl7dmFyIHI9R3IodCxpLGUse3VzZURlZmF1bHQ6cz09PWksZW5hYmxlQWxsOiFufHxudWxsPT1uLmVuYWJsZUFsbHx8bi5lbmFibGVBbGwsZW5hYmxlTm9uZTohbnx8bnVsbD09bi5lbmFibGVOb25lfHxuLmVuYWJsZU5vbmV9KTthW2krIk1vZGVscyJdPXIubW9kZWxzLGFbaSsiTW9kZWwiXT1yLm1vZGVsc1swXX0pKSxhfWZ1bmN0aW9uIEVyKHQsZSl7dmFyIG47aWYoVyh0KSl7dmFyIGk9e307aVt0KyJJbmRleCJdPTAsbj1pfWVsc2Ugbj10O3ZhciByPWN0KCksbz17fSxhPSExO3JldHVybiBPKG4sKGZ1bmN0aW9uKHQsbil7aWYoImRhdGFJbmRleCIhPT1uJiYiZGF0YUluZGV4SW5zaWRlIiE9PW4pe3ZhciBpPW4ubWF0Y2goL14oXHcrKShJbmRleHxJZHxOYW1lKSQvKXx8W10scz1pWzFdLGw9KGlbMl18fCIiKS50b0xvd2VyQ2FzZSgpO2lmKHMmJmwmJiEoZSYmZS5pbmNsdWRlTWFpblR5cGVzJiZBKGUuaW5jbHVkZU1haW5UeXBlcyxzKTwwKSlhPWF8fCEhcywoci5nZXQocyl8fHIuc2V0KHMse30pKVtsXT10fWVsc2Ugb1tuXT10fSkpLHttYWluVHlwZVNwZWNpZmllZDphLHF1ZXJ5T3B0aW9uTWFwOnIsb3RoZXJzOm99fXZhciBWcj17dXNlRGVmYXVsdDohMCxlbmFibGVBbGw6ITEsZW5hYmxlTm9uZTohMX0sQnI9e3VzZURlZmF1bHQ6ITEsZW5hYmxlQWxsOiEwLGVuYWJsZU5vbmU6ITB9O2Z1bmN0aW9uIEdyKHQsZSxuLGkpe2k9aXx8VnI7dmFyIHI9bi5pbmRleCxvPW4uaWQsYT1uLm5hbWUscz17bW9kZWxzOm51bGwsc3BlY2lmaWVkOm51bGwhPXJ8fG51bGwhPW98fG51bGwhPWF9O2lmKCFzLnNwZWNpZmllZCl7dmFyIGw9dm9pZCAwO3JldHVybiBzLm1vZGVscz1pLnVzZURlZmF1bHQmJihsPXQuZ2V0Q29tcG9uZW50KGUpKT9bbF06W10sc31yZXR1cm4ibm9uZSI9PT1yfHwhMT09PXI/KG90KGkuZW5hYmxlTm9uZSwnYCJub25lImAgb3IgYGZhbHNlYCBpcyBub3QgYSB2YWxpZCB2YWx1ZSBvbiBpbmRleCBvcHRpb24uJykscy5tb2RlbHM9W10scyk6KCJhbGwiPT09ciYmKG90KGkuZW5hYmxlQWxsLCdgImFsbCJgIGlzIG5vdCBhIHZhbGlkIHZhbHVlIG9uIGluZGV4IG9wdGlvbi4nKSxyPW89YT1udWxsKSxzLm1vZGVscz10LnF1ZXJ5Q29tcG9uZW50cyh7bWFpblR5cGU6ZSxpbmRleDpyLGlkOm8sbmFtZTphfSkscyl9ZnVuY3Rpb24gRnIodCxlLG4pe3Quc2V0QXR0cmlidXRlP3Quc2V0QXR0cmlidXRlKGUsbik6dFtlXT1ufWZ1bmN0aW9uIEhyKHQsZSl7dmFyIG49Y3QoKSxpPVtdO3JldHVybiBPKHQsKGZ1bmN0aW9uKHQpe3ZhciByPWUodCk7KG4uZ2V0KHIpfHwoaS5wdXNoKHIpLG4uc2V0KHIsW10pKSkucHVzaCh0KX0pKSx7a2V5czppLGJ1Y2tldHM6bn19ZnVuY3Rpb24gV3IodCxlLG4saSxyKXt2YXIgbz1udWxsPT1lfHwiYXV0byI9PT1lO2lmKG51bGw9PWkpcmV0dXJuIGk7aWYoIm51bWJlciI9PXR5cGVvZiBpKXJldHVybiBLaShmPXJuKG58fDAsaSxyKSxvP01hdGgubWF4KEppKG58fDApLEppKGkpKTplKTtpZigic3RyaW5nIj09dHlwZW9mIGkpcmV0dXJuIHI8MT9uOmk7Zm9yKHZhciBhPVtdLHM9bixsPWksdT1NYXRoLm1heChzP3MubGVuZ3RoOjAsbC5sZW5ndGgpLGg9MDtoPHU7KytoKXt2YXIgYz10LmdldERpbWVuc2lvbkluZm8oaCk7aWYoYyYmIm9yZGluYWwiPT09Yy50eXBlKWFbaF09KHI8MSYmcz9zOmwpW2hdO2Vsc2V7dmFyIHA9cyYmc1toXT9zW2hdOjAsZD1sW2hdLGY9cm4ocCxkLHIpO2FbaF09S2koZixvP01hdGgubWF4KEppKHApLEppKGQpKTplKX19cmV0dXJuIGF9dmFyIFVyPSJfX19FQ19fQ09NUE9ORU5UX19DT05UQUlORVJfX18iLFhyPSJfX19FQ19fRVhURU5ERURfQ0xBU1NfX18iO2Z1bmN0aW9uIFlyKHQpe3ZhciBlPXttYWluOiIiLHN1YjoiIn07aWYodCl7dmFyIG49dC5zcGxpdCgiLiIpO2UubWFpbj1uWzBdfHwiIixlLnN1Yj1uWzFdfHwiIn1yZXR1cm4gZX1mdW5jdGlvbiBacih0LGUpe3QuJGNvbnN0cnVjdG9yPXQsdC5leHRlbmQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztmdW5jdGlvbiBuKCl7Zm9yKHZhciBpPVtdLG89MDtvPGFyZ3VtZW50cy5sZW5ndGg7bysrKWlbb109YXJndW1lbnRzW29dO2lmKHQuJGNvbnN0cnVjdG9yKXQuJGNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtlbHNle2lmKGpyKGUpKXt2YXIgYT1kdChuLnByb3RvdHlwZSxuZXcoZS5iaW5kLmFwcGx5KGUscihbdm9pZCAwXSxpKSkpKTtyZXR1cm4gYX1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19cmV0dXJuIG5bWHJdPSEwLFQobi5wcm90b3R5cGUsdCksbi5leHRlbmQ9dGhpcy5leHRlbmQsbi5zdXBlckNhbGw9JHIsbi5zdXBlckFwcGx5PUpyLGsobix0aGlzKSxuLnN1cGVyQ2xhc3M9ZSxufX1mdW5jdGlvbiBqcih0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdCYmL15jbGFzc1xzLy50ZXN0KEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKX1mdW5jdGlvbiBxcih0LGUpe3QuZXh0ZW5kPWUuZXh0ZW5kfXZhciBLcj1NYXRoLnJvdW5kKDEwKk1hdGgucmFuZG9tKCkpO2Z1bmN0aW9uICRyKHQsZSl7Zm9yKHZhciBuPVtdLGk9MjtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKW5baS0yXT1hcmd1bWVudHNbaV07cmV0dXJuIHRoaXMuc3VwZXJDbGFzcy5wcm90b3R5cGVbZV0uYXBwbHkodCxuKX1mdW5jdGlvbiBKcih0LGUsbil7cmV0dXJuIHRoaXMuc3VwZXJDbGFzcy5wcm90b3R5cGVbZV0uYXBwbHkodCxuKX1mdW5jdGlvbiBRcih0KXt2YXIgZT17fTt0LnJlZ2lzdGVyQ2xhc3M9ZnVuY3Rpb24odCl7dmFyIG4saT10LnR5cGV8fHQucHJvdG90eXBlLnR5cGU7aWYoaSl7b3QoL15bYS16QS1aMC05X10rKFsuXVthLXpBLVowLTlfXSspPyQvLnRlc3Qobj1pKSwnY29tcG9uZW50VHlwZSAiJytuKyciIGlsbGVnYWwnKSx0LnByb3RvdHlwZS50eXBlPWk7dmFyIHI9WXIoaSk7aWYoci5zdWIpe2lmKHIuc3ViIT09VXIpeyhmdW5jdGlvbih0KXt2YXIgbj1lW3QubWFpbl07biYmbltVcl18fCgobj1lW3QubWFpbl09e30pW1VyXT0hMCk7cmV0dXJuIG59KHIpKVtyLnN1Yl09dH19ZWxzZSBlW3IubWFpbl09dH1yZXR1cm4gdH0sdC5nZXRDbGFzcz1mdW5jdGlvbih0LG4saSl7dmFyIHI9ZVt0XTtpZihyJiZyW1VyXSYmKHI9bj9yW25dOm51bGwpLGkmJiFyKXRocm93IG5ldyBFcnJvcihuPyJDb21wb25lbnQgIit0KyIuIisobnx8IiIpKyIgaXMgdXNlZCBidXQgbm90IGltcG9ydGVkLiI6dCsiLnR5cGUgc2hvdWxkIGJlIHNwZWNpZmllZC4iKTtyZXR1cm4gcn0sdC5nZXRDbGFzc2VzQnlNYWluVHlwZT1mdW5jdGlvbih0KXt2YXIgbj1Zcih0KSxpPVtdLHI9ZVtuLm1haW5dO3JldHVybiByJiZyW1VyXT9PKHIsKGZ1bmN0aW9uKHQsZSl7ZSE9PVVyJiZpLnB1c2godCl9KSk6aS5wdXNoKHIpLGl9LHQuaGFzQ2xhc3M9ZnVuY3Rpb24odCl7dmFyIG49WXIodCk7cmV0dXJuISFlW24ubWFpbl19LHQuZ2V0QWxsQ2xhc3NNYWluVHlwZXM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gTyhlLChmdW5jdGlvbihlLG4pe3QucHVzaChuKX0pKSx0fSx0Lmhhc1N1YlR5cGVzPWZ1bmN0aW9uKHQpe3ZhciBuPVlyKHQpLGk9ZVtuLm1haW5dO3JldHVybiBpJiZpW1VyXX19ZnVuY3Rpb24gdG8odCxlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl0W25dWzFdfHwodFtuXVsxXT10W25dWzBdKTtyZXR1cm4gZT1lfHwhMSxmdW5jdGlvbihuLGkscil7Zm9yKHZhciBvPXt9LGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIHM9dFthXVsxXTtpZighKGkmJkEoaSxzKT49MHx8ciYmQShyLHMpPDApKXt2YXIgbD1uLmdldFNoYWxsb3cocyxlKTtudWxsIT1sJiYob1t0W2FdWzBdXT1sKX19cmV0dXJuIG99fXZhciBlbz10byhbWyJmaWxsIiwiY29sb3IiXSxbInNoYWRvd0JsdXIiXSxbInNoYWRvd09mZnNldFgiXSxbInNoYWRvd09mZnNldFkiXSxbIm9wYWNpdHkiXSxbInNoYWRvd0NvbG9yIl1dKSxubz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmdldEFyZWFTdHlsZT1mdW5jdGlvbih0LGUpe3JldHVybiBlbyh0aGlzLHQsZSl9LHR9KCksaW89bmV3IGtlKDUwKTtmdW5jdGlvbiBybyh0KXtpZigic3RyaW5nIj09dHlwZW9mIHQpe3ZhciBlPWlvLmdldCh0KTtyZXR1cm4gZSYmZS5pbWFnZX1yZXR1cm4gdH1mdW5jdGlvbiBvbyh0LGUsbixpLHIpe2lmKHQpe2lmKCJzdHJpbmciPT10eXBlb2YgdCl7aWYoZSYmZS5fX3pySW1hZ2VTcmM9PT10fHwhbilyZXR1cm4gZTt2YXIgbz1pby5nZXQodCksYT17aG9zdEVsOm4sY2I6aSxjYlBheWxvYWQ6cn07cmV0dXJuIG8/IXNvKGU9by5pbWFnZSkmJm8ucGVuZGluZy5wdXNoKGEpOigoZT1uZXcgSW1hZ2UpLm9ubG9hZD1lLm9uZXJyb3I9YW8saW8ucHV0KHQsZS5fX2NhY2hlZEltZ09iaj17aW1hZ2U6ZSxwZW5kaW5nOlthXX0pLGUuc3JjPWUuX196ckltYWdlU3JjPXQpLGV9cmV0dXJuIHR9cmV0dXJuIGV9ZnVuY3Rpb24gYW8oKXt2YXIgdD10aGlzLl9fY2FjaGVkSW1nT2JqO3RoaXMub25sb2FkPXRoaXMub25lcnJvcj10aGlzLl9fY2FjaGVkSW1nT2JqPW51bGw7Zm9yKHZhciBlPTA7ZTx0LnBlbmRpbmcubGVuZ3RoO2UrKyl7dmFyIG49dC5wZW5kaW5nW2VdLGk9bi5jYjtpJiZpKHRoaXMsbi5jYlBheWxvYWQpLG4uaG9zdEVsLmRpcnR5KCl9dC5wZW5kaW5nLmxlbmd0aD0wfWZ1bmN0aW9uIHNvKHQpe3JldHVybiB0JiZ0LndpZHRoJiZ0LmhlaWdodH12YXIgbG89L1x7KFthLXpBLVowLTlfXSspXHwoW159XSopXH0vZztmdW5jdGlvbiB1byh0LGUsbixpLHIpe2lmKCFlKXJldHVybiIiO3ZhciBvPSh0KyIiKS5zcGxpdCgiXG4iKTtyPWhvKGUsbixpLHIpO2Zvcih2YXIgYT0wLHM9by5sZW5ndGg7YTxzO2ErKylvW2FdPWNvKG9bYV0scik7cmV0dXJuIG8uam9pbigiXG4iKX1mdW5jdGlvbiBobyh0LGUsbixpKXt2YXIgcj1UKHt9LGk9aXx8e30pO3IuZm9udD1lLG49ZXQobiwiLi4uIiksci5tYXhJdGVyYXRpb25zPWV0KGkubWF4SXRlcmF0aW9ucywyKTt2YXIgbz1yLm1pbkNoYXI9ZXQoaS5taW5DaGFyLDApO3IuY25DaGFyV2lkdGg9YmkoIuWbvSIsZSk7dmFyIGE9ci5hc2NDaGFyV2lkdGg9YmkoImEiLGUpO3IucGxhY2Vob2xkZXI9ZXQoaS5wbGFjZWhvbGRlciwiIik7Zm9yKHZhciBzPXQ9TWF0aC5tYXgoMCx0LTEpLGw9MDtsPG8mJnM+PWE7bCsrKXMtPWE7dmFyIHU9YmkobixlKTtyZXR1cm4gdT5zJiYobj0iIix1PTApLHM9dC11LHIuZWxsaXBzaXM9bixyLmVsbGlwc2lzV2lkdGg9dSxyLmNvbnRlbnRXaWR0aD1zLHIuY29udGFpbmVyV2lkdGg9dCxyfWZ1bmN0aW9uIGNvKHQsZSl7dmFyIG49ZS5jb250YWluZXJXaWR0aCxpPWUuZm9udCxyPWUuY29udGVudFdpZHRoO2lmKCFuKXJldHVybiIiO3ZhciBvPWJpKHQsaSk7aWYobzw9bilyZXR1cm4gdDtmb3IodmFyIGE9MDs7YSsrKXtpZihvPD1yfHxhPj1lLm1heEl0ZXJhdGlvbnMpe3QrPWUuZWxsaXBzaXM7YnJlYWt9dmFyIHM9MD09PWE/cG8odCxyLGUuYXNjQ2hhcldpZHRoLGUuY25DaGFyV2lkdGgpOm8+MD9NYXRoLmZsb29yKHQubGVuZ3RoKnIvbyk6MDtvPWJpKHQ9dC5zdWJzdHIoMCxzKSxpKX1yZXR1cm4iIj09PXQmJih0PWUucGxhY2Vob2xkZXIpLHR9ZnVuY3Rpb24gcG8odCxlLG4saSl7Zm9yKHZhciByPTAsbz0wLGE9dC5sZW5ndGg7bzxhJiZyPGU7bysrKXt2YXIgcz10LmNoYXJDb2RlQXQobyk7cis9MDw9cyYmczw9MTI3P246aX1yZXR1cm4gb312YXIgZm89ZnVuY3Rpb24oKXt9LGdvPWZ1bmN0aW9uKHQpe3RoaXMudG9rZW5zPVtdLHQmJih0aGlzLnRva2Vucz10KX0seW89ZnVuY3Rpb24oKXt0aGlzLndpZHRoPTAsdGhpcy5oZWlnaHQ9MCx0aGlzLmNvbnRlbnRXaWR0aD0wLHRoaXMuY29udGVudEhlaWdodD0wLHRoaXMub3V0ZXJXaWR0aD0wLHRoaXMub3V0ZXJIZWlnaHQ9MCx0aGlzLmxpbmVzPVtdfTtmdW5jdGlvbiB2byh0LGUsbixpLHIpe3ZhciBvLGEscz0iIj09PWUsbD1yJiZuLnJpY2hbcl18fHt9LHU9dC5saW5lcyxoPWwuZm9udHx8bi5mb250LGM9ITE7aWYoaSl7dmFyIHA9bC5wYWRkaW5nLGQ9cD9wWzFdK3BbM106MDtpZihudWxsIT1sLndpZHRoJiYiYXV0byIhPT1sLndpZHRoKXt2YXIgZj1DaShsLndpZHRoLGkud2lkdGgpK2Q7dS5sZW5ndGg+MCYmZitpLmFjY3VtV2lkdGg+aS53aWR0aCYmKG89ZS5zcGxpdCgiXG4iKSxjPSEwKSxpLmFjY3VtV2lkdGg9Zn1lbHNle3ZhciBnPXhvKGUsaCxpLndpZHRoLGkuYnJlYWtBbGwsaS5hY2N1bVdpZHRoKTtpLmFjY3VtV2lkdGg9Zy5hY2N1bVdpZHRoK2QsYT1nLmxpbmVzV2lkdGhzLG89Zy5saW5lc319ZWxzZSBvPWUuc3BsaXQoIlxuIik7Zm9yKHZhciB5PTA7eTxvLmxlbmd0aDt5Kyspe3ZhciB2PW9beV0sbT1uZXcgZm87aWYobS5zdHlsZU5hbWU9cixtLnRleHQ9dixtLmlzTGluZUhvbGRlcj0hdiYmIXMsIm51bWJlciI9PXR5cGVvZiBsLndpZHRoP20ud2lkdGg9bC53aWR0aDptLndpZHRoPWE/YVt5XTpiaSh2LGgpLHl8fGMpdS5wdXNoKG5ldyBnbyhbbV0pKTtlbHNle3ZhciBfPSh1W3UubGVuZ3RoLTFdfHwodVswXT1uZXcgZ28pKS50b2tlbnMseD1fLmxlbmd0aDsxPT09eCYmX1swXS5pc0xpbmVIb2xkZXI/X1swXT1tOih2fHwheHx8cykmJl8ucHVzaChtKX19fXZhciBtbz1OKCIsJj8vO10gIi5zcGxpdCgiIiksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbZV09ITAsdH0pLHt9KTtmdW5jdGlvbiBfbyh0KXtyZXR1cm4hZnVuY3Rpb24odCl7dmFyIGU9dC5jaGFyQ29kZUF0KDApO3JldHVybiBlPj0zMyYmZTw9MjU1fSh0KXx8ISFtb1t0XX1mdW5jdGlvbiB4byh0LGUsbixpLHIpe2Zvcih2YXIgbz1bXSxhPVtdLHM9IiIsbD0iIix1PTAsaD0wLGM9MDtjPHQubGVuZ3RoO2MrKyl7dmFyIHA9dC5jaGFyQXQoYyk7aWYoIlxuIiE9PXApe3ZhciBkPWJpKHAsZSksZj0haSYmIV9vKHApOyhvLmxlbmd0aD9oK2Q+bjpyK2grZD5uKT9oPyhzfHxsKSYmKGY/KHN8fChzPWwsbD0iIixoPXU9MCksby5wdXNoKHMpLGEucHVzaChoLXUpLGwrPXAscz0iIixoPXUrPWQpOihsJiYocys9bCxoKz11LGw9IiIsdT0wKSxvLnB1c2gocyksYS5wdXNoKGgpLHM9cCxoPWQpKTpmPyhvLnB1c2gobCksYS5wdXNoKHUpLGw9cCx1PWQpOihvLnB1c2gocCksYS5wdXNoKGQpKTooaCs9ZCxmPyhsKz1wLHUrPWQpOihsJiYocys9bCxsPSIiLHU9MCkscys9cCkpfWVsc2UgbCYmKHMrPWwsaCs9dSksby5wdXNoKHMpLGEucHVzaChoKSxzPSIiLGw9IiIsdT0wLGg9MH1yZXR1cm4gby5sZW5ndGh8fHN8fChzPXQsbD0iIix1PTApLGwmJihzKz1sKSxzJiYoby5wdXNoKHMpLGEucHVzaChoKSksMT09PW8ubGVuZ3RoJiYoaCs9cikse2FjY3VtV2lkdGg6aCxsaW5lczpvLGxpbmVzV2lkdGhzOmF9fXZhciBibz0iX196cl9zdHlsZV8iK01hdGgucm91bmQoMTAqTWF0aC5yYW5kb20oKSksd289e3NoYWRvd0JsdXI6MCxzaGFkb3dPZmZzZXRYOjAsc2hhZG93T2Zmc2V0WTowLHNoYWRvd0NvbG9yOiIjMDAwIixvcGFjaXR5OjEsYmxlbmQ6InNvdXJjZS1vdmVyIn0sU289e3N0eWxlOntzaGFkb3dCbHVyOiEwLHNoYWRvd09mZnNldFg6ITAsc2hhZG93T2Zmc2V0WTohMCxzaGFkb3dDb2xvcjohMCxvcGFjaXR5OiEwfX07d29bYm9dPSEwO3ZhciBNbz1bInoiLCJ6MiIsImludmlzaWJsZSJdLElvPVsiaW52aXNpYmxlIl0sVG89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSl8fHRoaXN9dmFyIGk7cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbihlKXtmb3IodmFyIG49VihlKSxpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV07InN0eWxlIj09PXI/dGhpcy51c2VTdHlsZShlW3JdKTp0LnByb3RvdHlwZS5hdHRyS1YuY2FsbCh0aGlzLHIsZVtyXSl9dGhpcy5zdHlsZXx8dGhpcy51c2VTdHlsZSh7fSl9LGUucHJvdG90eXBlLmJlZm9yZUJydXNoPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5hZnRlckJydXNoPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5pbm5lckJlZm9yZUJydXNoPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5pbm5lckFmdGVyQnJ1c2g9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLnNob3VsZEJlUGFpbnRlZD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzLnRyYW5zZm9ybTtpZih0aGlzLmlnbm9yZXx8dGhpcy5pbnZpc2libGV8fDA9PT10aGlzLnN0eWxlLm9wYWNpdHl8fHRoaXMuY3VsbGluZyYmZnVuY3Rpb24odCxlLG4pe0NvLmNvcHkodC5nZXRCb3VuZGluZ1JlY3QoKSksdC50cmFuc2Zvcm0mJkNvLmFwcGx5VHJhbnNmb3JtKHQudHJhbnNmb3JtKTtyZXR1cm4gRG8ud2lkdGg9ZSxEby5oZWlnaHQ9biwhQ28uaW50ZXJzZWN0KERvKX0odGhpcyx0LGUpfHxyJiYhclswXSYmIXJbM10pcmV0dXJuITE7aWYobiYmdGhpcy5fX2NsaXBQYXRocylmb3IodmFyIG89MDtvPHRoaXMuX19jbGlwUGF0aHMubGVuZ3RoOysrbylpZih0aGlzLl9fY2xpcFBhdGhzW29dLmlzWmVyb0FyZWEoKSlyZXR1cm4hMTtpZihpJiZ0aGlzLnBhcmVudClmb3IodmFyIGE9dGhpcy5wYXJlbnQ7YTspe2lmKGEuaWdub3JlKXJldHVybiExO2E9YS5wYXJlbnR9cmV0dXJuITB9LGUucHJvdG90eXBlLmNvbnRhaW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5yZWN0Q29udGFpbih0LGUpfSxlLnByb3RvdHlwZS50cmF2ZXJzZT1mdW5jdGlvbih0LGUpe3QuY2FsbChlLHRoaXMpfSxlLnByb3RvdHlwZS5yZWN0Q29udGFpbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMudHJhbnNmb3JtQ29vcmRUb0xvY2FsKHQsZSk7cmV0dXJuIHRoaXMuZ2V0Qm91bmRpbmdSZWN0KCkuY29udGFpbihuWzBdLG5bMV0pfSxlLnByb3RvdHlwZS5nZXRQYWludFJlY3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wYWludFJlY3Q7aWYoIXRoaXMuX3BhaW50UmVjdHx8dGhpcy5fX2RpcnR5KXt2YXIgZT10aGlzLnRyYW5zZm9ybSxuPXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCksaT10aGlzLnN0eWxlLHI9aS5zaGFkb3dCbHVyfHwwLG89aS5zaGFkb3dPZmZzZXRYfHwwLGE9aS5zaGFkb3dPZmZzZXRZfHwwO3Q9dGhpcy5fcGFpbnRSZWN0fHwodGhpcy5fcGFpbnRSZWN0PW5ldyB2aSgwLDAsMCwwKSksZT92aS5hcHBseVRyYW5zZm9ybSh0LG4sZSk6dC5jb3B5KG4pLChyfHxvfHxhKSYmKHQud2lkdGgrPTIqcitNYXRoLmFicyhvKSx0LmhlaWdodCs9MipyK01hdGguYWJzKGEpLHQueD1NYXRoLm1pbih0LngsdC54K28tciksdC55PU1hdGgubWluKHQueSx0LnkrYS1yKSk7dmFyIHM9dGhpcy5kaXJ0eVJlY3RUb2xlcmFuY2U7dC5pc1plcm8oKXx8KHQueD1NYXRoLmZsb29yKHQueC1zKSx0Lnk9TWF0aC5mbG9vcih0LnktcyksdC53aWR0aD1NYXRoLmNlaWwodC53aWR0aCsxKzIqcyksdC5oZWlnaHQ9TWF0aC5jZWlsKHQuaGVpZ2h0KzErMipzKSl9cmV0dXJuIHR9LGUucHJvdG90eXBlLnNldFByZXZQYWludFJlY3Q9ZnVuY3Rpb24odCl7dD8odGhpcy5fcHJldlBhaW50UmVjdD10aGlzLl9wcmV2UGFpbnRSZWN0fHxuZXcgdmkoMCwwLDAsMCksdGhpcy5fcHJldlBhaW50UmVjdC5jb3B5KHQpKTp0aGlzLl9wcmV2UGFpbnRSZWN0PW51bGx9LGUucHJvdG90eXBlLmdldFByZXZQYWludFJlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJldlBhaW50UmVjdH0sZS5wcm90b3R5cGUuYW5pbWF0ZVN0eWxlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFuaW1hdGUoInN0eWxlIix0KX0sZS5wcm90b3R5cGUudXBkYXRlRHVyaW5nQW5pbWF0aW9uPWZ1bmN0aW9uKHQpeyJzdHlsZSI9PT10P3RoaXMuZGlydHlTdHlsZSgpOnRoaXMubWFya1JlZHJhdygpfSxlLnByb3RvdHlwZS5hdHRyS1Y9ZnVuY3Rpb24oZSxuKXsic3R5bGUiIT09ZT90LnByb3RvdHlwZS5hdHRyS1YuY2FsbCh0aGlzLGUsbik6dGhpcy5zdHlsZT90aGlzLnNldFN0eWxlKG4pOnRoaXMudXNlU3R5bGUobil9LGUucHJvdG90eXBlLnNldFN0eWxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P3RoaXMuc3R5bGVbdF09ZTpUKHRoaXMuc3R5bGUsdCksdGhpcy5kaXJ0eVN0eWxlKCksdGhpc30sZS5wcm90b3R5cGUuZGlydHlTdHlsZT1mdW5jdGlvbih0KXt0fHx0aGlzLm1hcmtSZWRyYXcoKSx0aGlzLl9fZGlydHl8PTIsdGhpcy5fcmVjdCYmKHRoaXMuX3JlY3Q9bnVsbCl9LGUucHJvdG90eXBlLmRpcnR5PWZ1bmN0aW9uKCl7dGhpcy5kaXJ0eVN0eWxlKCl9LGUucHJvdG90eXBlLnN0eWxlQ2hhbmdlZD1mdW5jdGlvbigpe3JldHVybiEhKDImdGhpcy5fX2RpcnR5KX0sZS5wcm90b3R5cGUuc3R5bGVVcGRhdGVkPWZ1bmN0aW9uKCl7dGhpcy5fX2RpcnR5Jj0tM30sZS5wcm90b3R5cGUuY3JlYXRlU3R5bGU9ZnVuY3Rpb24odCl7cmV0dXJuIGR0KHdvLHQpfSxlLnByb3RvdHlwZS51c2VTdHlsZT1mdW5jdGlvbih0KXt0W2JvXXx8KHQ9dGhpcy5jcmVhdGVTdHlsZSh0KSksdGhpcy5fX2luSG92ZXI/dGhpcy5fX2hvdmVyU3R5bGU9dDp0aGlzLnN0eWxlPXQsdGhpcy5kaXJ0eVN0eWxlKCl9LGUucHJvdG90eXBlLmlzU3R5bGVPYmplY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRbYm9dfSxlLnByb3RvdHlwZS5faW5uZXJTYXZlVG9Ob3JtYWw9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuX2lubmVyU2F2ZVRvTm9ybWFsLmNhbGwodGhpcyxlKTt2YXIgbj10aGlzLl9ub3JtYWxTdGF0ZTtlLnN0eWxlJiYhbi5zdHlsZSYmKG4uc3R5bGU9dGhpcy5fbWVyZ2VTdHlsZSh0aGlzLmNyZWF0ZVN0eWxlKCksdGhpcy5zdHlsZSkpLHRoaXMuX3NhdmVQcmltYXJ5VG9Ob3JtYWwoZSxuLE1vKX0sZS5wcm90b3R5cGUuX2FwcGx5U3RhdGVPYmo9ZnVuY3Rpb24oZSxuLGkscixvLGEpe3QucHJvdG90eXBlLl9hcHBseVN0YXRlT2JqLmNhbGwodGhpcyxlLG4saSxyLG8sYSk7dmFyIHMsbD0hKG4mJnIpO2lmKG4mJm4uc3R5bGU/bz9yP3M9bi5zdHlsZToocz10aGlzLl9tZXJnZVN0eWxlKHRoaXMuY3JlYXRlU3R5bGUoKSxpLnN0eWxlKSx0aGlzLl9tZXJnZVN0eWxlKHMsbi5zdHlsZSkpOihzPXRoaXMuX21lcmdlU3R5bGUodGhpcy5jcmVhdGVTdHlsZSgpLHI/dGhpcy5zdHlsZTppLnN0eWxlKSx0aGlzLl9tZXJnZVN0eWxlKHMsbi5zdHlsZSkpOmwmJihzPWkuc3R5bGUpLHMpaWYobyl7dmFyIHU9dGhpcy5zdHlsZTtpZih0aGlzLnN0eWxlPXRoaXMuY3JlYXRlU3R5bGUobD97fTp1KSxsKWZvcih2YXIgaD1WKHUpLGM9MDtjPGgubGVuZ3RoO2MrKyl7KGQ9aFtjXSlpbiBzJiYoc1tkXT1zW2RdLHRoaXMuc3R5bGVbZF09dVtkXSl9dmFyIHA9VihzKTtmb3IoYz0wO2M8cC5sZW5ndGg7YysrKXt2YXIgZD1wW2NdO3RoaXMuc3R5bGVbZF09dGhpcy5zdHlsZVtkXX10aGlzLl90cmFuc2l0aW9uU3RhdGUoZSx7c3R5bGU6c30sYSx0aGlzLmdldEFuaW1hdGlvblN0eWxlUHJvcHMoKSl9ZWxzZSB0aGlzLnVzZVN0eWxlKHMpO3ZhciBmPXRoaXMuX19pbkhvdmVyP0lvOk1vO2ZvcihjPTA7YzxmLmxlbmd0aDtjKyspe2Q9ZltjXTtuJiZudWxsIT1uW2RdP3RoaXNbZF09bltkXTpsJiZudWxsIT1pW2RdJiYodGhpc1tkXT1pW2RdKX19LGUucHJvdG90eXBlLl9tZXJnZVN0YXRlcz1mdW5jdGlvbihlKXtmb3IodmFyIG4saT10LnByb3RvdHlwZS5fbWVyZ2VTdGF0ZXMuY2FsbCh0aGlzLGUpLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG89ZVtyXTtvLnN0eWxlJiYobj1ufHx7fSx0aGlzLl9tZXJnZVN0eWxlKG4sby5zdHlsZSkpfXJldHVybiBuJiYoaS5zdHlsZT1uKSxpfSxlLnByb3RvdHlwZS5fbWVyZ2VTdHlsZT1mdW5jdGlvbih0LGUpe3JldHVybiBUKHQsZSksdH0sZS5wcm90b3R5cGUuZ2V0QW5pbWF0aW9uU3R5bGVQcm9wcz1mdW5jdGlvbigpe3JldHVybiBTb30sZS5pbml0RGVmYXVsdFByb3BzPSgoaT1lLnByb3RvdHlwZSkudHlwZT0iZGlzcGxheWFibGUiLGkuaW52aXNpYmxlPSExLGkuej0wLGkuejI9MCxpLnpsZXZlbD0wLGkuY3VsbGluZz0hMSxpLmN1cnNvcj0icG9pbnRlciIsaS5yZWN0SG92ZXI9ITEsaS5pbmNyZW1lbnRhbD0hMSxpLl9yZWN0PW51bGwsaS5kaXJ0eVJlY3RUb2xlcmFuY2U9MCx2b2lkKGkuX19kaXJ0eT0zKSksZX0oUmkpLENvPW5ldyB2aSgwLDAsMCwwKSxEbz1uZXcgdmkoMCwwLDAsMCk7dmFyIEFvPU1hdGgucG93LGtvPU1hdGguc3FydCxMbz0xZS04LFBvPTFlLTQsT289a28oMyksUm89MS8zLE5vPXZ0KCksem89dnQoKSxFbz12dCgpO2Z1bmN0aW9uIFZvKHQpe3JldHVybiB0Pi0xZS04JiZ0PExvfWZ1bmN0aW9uIEJvKHQpe3JldHVybiB0PkxvfHx0PC0xZS04fWZ1bmN0aW9uIEdvKHQsZSxuLGkscil7dmFyIG89MS1yO3JldHVybiBvKm8qKG8qdCszKnIqZSkrcipyKihyKmkrMypvKm4pfWZ1bmN0aW9uIEZvKHQsZSxuLGkscil7dmFyIG89MS1yO3JldHVybiAzKigoKGUtdCkqbysyKihuLWUpKnIpKm8rKGktbikqcipyKX1mdW5jdGlvbiBIbyh0LGUsbixpLHIsbyl7dmFyIGE9aSszKihlLW4pLXQscz0zKihuLTIqZSt0KSxsPTMqKGUtdCksdT10LXIsaD1zKnMtMyphKmwsYz1zKmwtOSphKnUscD1sKmwtMypzKnUsZD0wO2lmKFZvKGgpJiZWbyhjKSl7aWYoVm8ocykpb1swXT0wO2Vsc2UoTT0tbC9zKT49MCYmTTw9MSYmKG9bZCsrXT1NKX1lbHNle3ZhciBmPWMqYy00KmgqcDtpZihWbyhmKSl7dmFyIGc9Yy9oLHk9LWcvMjsoTT0tcy9hK2cpPj0wJiZNPD0xJiYob1tkKytdPU0pLHk+PTAmJnk8PTEmJihvW2QrK109eSl9ZWxzZSBpZihmPjApe3ZhciB2PWtvKGYpLG09aCpzKzEuNSphKigtYyt2KSxfPWgqcysxLjUqYSooLWMtdik7KE09KC1zLSgobT1tPDA/LUFvKC1tLFJvKTpBbyhtLFJvKSkrKF89XzwwPy1BbygtXyxSbyk6QW8oXyxSbykpKSkvKDMqYSkpPj0wJiZNPD0xJiYob1tkKytdPU0pfWVsc2V7dmFyIHg9KDIqaCpzLTMqYSpjKS8oMiprbyhoKmgqaCkpLGI9TWF0aC5hY29zKHgpLzMsdz1rbyhoKSxTPU1hdGguY29zKGIpLE09KC1zLTIqdypTKS8oMyphKSxJPSh5PSgtcyt3KihTK09vKk1hdGguc2luKGIpKSkvKDMqYSksKC1zK3cqKFMtT28qTWF0aC5zaW4oYikpKS8oMyphKSk7TT49MCYmTTw9MSYmKG9bZCsrXT1NKSx5Pj0wJiZ5PD0xJiYob1tkKytdPXkpLEk+PTAmJkk8PTEmJihvW2QrK109SSl9fXJldHVybiBkfWZ1bmN0aW9uIFdvKHQsZSxuLGkscil7dmFyIG89NipuLTEyKmUrNip0LGE9OSplKzMqaS0zKnQtOSpuLHM9MyplLTMqdCxsPTA7aWYoVm8oYSkpe2lmKEJvKG8pKShoPS1zL28pPj0wJiZoPD0xJiYocltsKytdPWgpfWVsc2V7dmFyIHU9bypvLTQqYSpzO2lmKFZvKHUpKXJbMF09LW8vKDIqYSk7ZWxzZSBpZih1PjApe3ZhciBoLGM9a28odSkscD0oLW8tYykvKDIqYSk7KGg9KC1vK2MpLygyKmEpKT49MCYmaDw9MSYmKHJbbCsrXT1oKSxwPj0wJiZwPD0xJiYocltsKytdPXApfX1yZXR1cm4gbH1mdW5jdGlvbiBVbyh0LGUsbixpLHIsbyl7dmFyIGE9KGUtdCkqcit0LHM9KG4tZSkqcitlLGw9KGktbikqcituLHU9KHMtYSkqcithLGg9KGwtcykqcitzLGM9KGgtdSkqcit1O29bMF09dCxvWzFdPWEsb1syXT11LG9bM109YyxvWzRdPWMsb1s1XT1oLG9bNl09bCxvWzddPWl9ZnVuY3Rpb24gWG8odCxlLG4saSxyLG8sYSxzLGwsdSxoKXt2YXIgYyxwLGQsZixnLHk9LjAwNSx2PTEvMDtOb1swXT1sLE5vWzFdPXU7Zm9yKHZhciBtPTA7bTwxO20rPS4wNSl6b1swXT1Hbyh0LG4scixhLG0pLHpvWzFdPUdvKGUsaSxvLHMsbSksKGY9T3QoTm8sem8pKTx2JiYoYz1tLHY9Zik7dj0xLzA7Zm9yKHZhciBfPTA7XzwzMiYmISh5PFBvKTtfKyspcD1jLXksZD1jK3ksem9bMF09R28odCxuLHIsYSxwKSx6b1sxXT1HbyhlLGksbyxzLHApLGY9T3Qoem8sTm8pLHA+PTAmJmY8dj8oYz1wLHY9Zik6KEVvWzBdPUdvKHQsbixyLGEsZCksRW9bMV09R28oZSxpLG8scyxkKSxnPU90KEVvLE5vKSxkPD0xJiZnPHY/KGM9ZCx2PWcpOnkqPS41KTtyZXR1cm4gaCYmKGhbMF09R28odCxuLHIsYSxjKSxoWzFdPUdvKGUsaSxvLHMsYykpLGtvKHYpfWZ1bmN0aW9uIFlvKHQsZSxuLGkscixvLGEscyxsKXtmb3IodmFyIHU9dCxoPWUsYz0wLHA9MS9sLGQ9MTtkPD1sO2QrKyl7dmFyIGY9ZCpwLGc9R28odCxuLHIsYSxmKSx5PUdvKGUsaSxvLHMsZiksdj1nLXUsbT15LWg7Yys9TWF0aC5zcXJ0KHYqdittKm0pLHU9ZyxoPXl9cmV0dXJuIGN9ZnVuY3Rpb24gWm8odCxlLG4saSl7dmFyIHI9MS1pO3JldHVybiByKihyKnQrMippKmUpK2kqaSpufWZ1bmN0aW9uIGpvKHQsZSxuLGkpe3JldHVybiAyKigoMS1pKSooZS10KStpKihuLWUpKX1mdW5jdGlvbiBxbyh0LGUsbil7dmFyIGk9dCtuLTIqZTtyZXR1cm4gMD09PWk/LjU6KHQtZSkvaX1mdW5jdGlvbiBLbyh0LGUsbixpLHIpe3ZhciBvPShlLXQpKmkrdCxhPShuLWUpKmkrZSxzPShhLW8pKmkrbztyWzBdPXQsclsxXT1vLHJbMl09cyxyWzNdPXMscls0XT1hLHJbNV09bn1mdW5jdGlvbiAkbyh0LGUsbixpLHIsbyxhLHMsbCl7dmFyIHUsaD0uMDA1LGM9MS8wO05vWzBdPWEsTm9bMV09cztmb3IodmFyIHA9MDtwPDE7cCs9LjA1KXt6b1swXT1abyh0LG4scixwKSx6b1sxXT1abyhlLGksbyxwKSwoeT1PdChObyx6bykpPGMmJih1PXAsYz15KX1jPTEvMDtmb3IodmFyIGQ9MDtkPDMyJiYhKGg8UG8pO2QrKyl7dmFyIGY9dS1oLGc9dStoO3pvWzBdPVpvKHQsbixyLGYpLHpvWzFdPVpvKGUsaSxvLGYpO3ZhciB5PU90KHpvLE5vKTtpZihmPj0wJiZ5PGMpdT1mLGM9eTtlbHNle0VvWzBdPVpvKHQsbixyLGcpLEVvWzFdPVpvKGUsaSxvLGcpO3ZhciB2PU90KEVvLE5vKTtnPD0xJiZ2PGM/KHU9ZyxjPXYpOmgqPS41fX1yZXR1cm4gbCYmKGxbMF09Wm8odCxuLHIsdSksbFsxXT1abyhlLGksbyx1KSksa28oYyl9ZnVuY3Rpb24gSm8odCxlLG4saSxyLG8sYSl7Zm9yKHZhciBzPXQsbD1lLHU9MCxoPTEvYSxjPTE7Yzw9YTtjKyspe3ZhciBwPWMqaCxkPVpvKHQsbixyLHApLGY9Wm8oZSxpLG8scCksZz1kLXMseT1mLWw7dSs9TWF0aC5zcXJ0KGcqZyt5KnkpLHM9ZCxsPWZ9cmV0dXJuIHV9dmFyIFFvPU1hdGgubWluLHRhPU1hdGgubWF4LGVhPU1hdGguc2luLG5hPU1hdGguY29zLGlhPTIqTWF0aC5QSSxyYT12dCgpLG9hPXZ0KCksYWE9dnQoKTtmdW5jdGlvbiBzYSh0LGUsbil7aWYoMCE9PXQubGVuZ3RoKXtmb3IodmFyIGk9dFswXSxyPWlbMF0sbz1pWzBdLGE9aVsxXSxzPWlbMV0sbD0xO2w8dC5sZW5ndGg7bCsrKWk9dFtsXSxyPVFvKHIsaVswXSksbz10YShvLGlbMF0pLGE9UW8oYSxpWzFdKSxzPXRhKHMsaVsxXSk7ZVswXT1yLGVbMV09YSxuWzBdPW8sblsxXT1zfX1mdW5jdGlvbiBsYSh0LGUsbixpLHIsbyl7clswXT1Rbyh0LG4pLHJbMV09UW8oZSxpKSxvWzBdPXRhKHQsbiksb1sxXT10YShlLGkpfXZhciB1YT1bXSxoYT1bXTtmdW5jdGlvbiBjYSh0LGUsbixpLHIsbyxhLHMsbCx1KXt2YXIgaD1XbyxjPUdvLHA9aCh0LG4scixhLHVhKTtsWzBdPTEvMCxsWzFdPTEvMCx1WzBdPS0xLzAsdVsxXT0tMS8wO2Zvcih2YXIgZD0wO2Q8cDtkKyspe3ZhciBmPWModCxuLHIsYSx1YVtkXSk7bFswXT1RbyhmLGxbMF0pLHVbMF09dGEoZix1WzBdKX1wPWgoZSxpLG8scyxoYSk7Zm9yKGQ9MDtkPHA7ZCsrKXt2YXIgZz1jKGUsaSxvLHMsaGFbZF0pO2xbMV09UW8oZyxsWzFdKSx1WzFdPXRhKGcsdVsxXSl9bFswXT1Rbyh0LGxbMF0pLHVbMF09dGEodCx1WzBdKSxsWzBdPVFvKGEsbFswXSksdVswXT10YShhLHVbMF0pLGxbMV09UW8oZSxsWzFdKSx1WzFdPXRhKGUsdVsxXSksbFsxXT1RbyhzLGxbMV0pLHVbMV09dGEocyx1WzFdKX1mdW5jdGlvbiBwYSh0LGUsbixpLHIsbyxhLHMpe3ZhciBsPXFvLHU9Wm8saD10YShRbyhsKHQsbixyKSwxKSwwKSxjPXRhKFFvKGwoZSxpLG8pLDEpLDApLHA9dSh0LG4scixoKSxkPXUoZSxpLG8sYyk7YVswXT1Rbyh0LHIscCksYVsxXT1RbyhlLG8sZCksc1swXT10YSh0LHIscCksc1sxXT10YShlLG8sZCl9ZnVuY3Rpb24gZGEodCxlLG4saSxyLG8sYSxzLGwpe3ZhciB1PXp0LGg9RXQsYz1NYXRoLmFicyhyLW8pO2lmKGMlaWE8MWUtNCYmYz4xZS00KXJldHVybiBzWzBdPXQtbixzWzFdPWUtaSxsWzBdPXQrbix2b2lkKGxbMV09ZStpKTtpZihyYVswXT1uYShyKSpuK3QscmFbMV09ZWEocikqaStlLG9hWzBdPW5hKG8pKm4rdCxvYVsxXT1lYShvKSppK2UsdShzLHJhLG9hKSxoKGwscmEsb2EpLChyJT1pYSk8MCYmKHIrPWlhKSwobyU9aWEpPDAmJihvKz1pYSkscj5vJiYhYT9vKz1pYTpyPG8mJmEmJihyKz1pYSksYSl7dmFyIHA9bztvPXIscj1wfWZvcih2YXIgZD0wO2Q8bztkKz1NYXRoLlBJLzIpZD5yJiYoYWFbMF09bmEoZCkqbit0LGFhWzFdPWVhKGQpKmkrZSx1KHMsYWEscyksaChsLGFhLGwpKX12YXIgZmE9e006MSxMOjIsQzozLFE6NCxBOjUsWjo2LFI6N30sZ2E9W10seWE9W10sdmE9W10sbWE9W10sX2E9W10seGE9W10sYmE9TWF0aC5taW4sd2E9TWF0aC5tYXgsU2E9TWF0aC5jb3MsTWE9TWF0aC5zaW4sSWE9TWF0aC5zcXJ0LFRhPU1hdGguYWJzLENhPU1hdGguUEksRGE9MipDYSxBYT0idW5kZWZpbmVkIiE9dHlwZW9mIEZsb2F0MzJBcnJheSxrYT1bXTtmdW5jdGlvbiBMYSh0KXtyZXR1cm4gTWF0aC5yb3VuZCh0L0NhKjFlOCkvMWU4JTIqQ2F9ZnVuY3Rpb24gUGEodCxlKXt2YXIgbj1MYSh0WzBdKTtuPDAmJihuKz1EYSk7dmFyIGk9bi10WzBdLHI9dFsxXTtyKz1pLCFlJiZyLW4+PURhP3I9bitEYTplJiZuLXI+PURhP3I9bi1EYTohZSYmbj5yP3I9bisoRGEtTGEobi1yKSk6ZSYmbjxyJiYocj1uLShEYS1MYShyLW4pKSksdFswXT1uLHRbMV09cn12YXIgT2E9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuZHByPTEsdGhpcy5feGk9MCx0aGlzLl95aT0wLHRoaXMuX3gwPTAsdGhpcy5feTA9MCx0aGlzLl9sZW49MCx0JiYodGhpcy5fc2F2ZURhdGE9ITEpLHRoaXMuX3NhdmVEYXRhJiYodGhpcy5kYXRhPVtdKX1yZXR1cm4gdC5wcm90b3R5cGUuaW5jcmVhc2VWZXJzaW9uPWZ1bmN0aW9uKCl7dGhpcy5fdmVyc2lvbisrfSx0LnByb3RvdHlwZS5nZXRWZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZlcnNpb259LHQucHJvdG90eXBlLnNldFNjYWxlPWZ1bmN0aW9uKHQsZSxuKXsobj1ufHwwKT4wJiYodGhpcy5fdXg9VGEobi9Wbi90KXx8MCx0aGlzLl91eT1UYShuL1ZuL2UpfHwwKX0sdC5wcm90b3R5cGUuc2V0RFBSPWZ1bmN0aW9uKHQpe3RoaXMuZHByPXR9LHQucHJvdG90eXBlLnNldENvbnRleHQ9ZnVuY3Rpb24odCl7dGhpcy5fY3R4PXR9LHQucHJvdG90eXBlLmdldENvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3R4fSx0LnByb3RvdHlwZS5iZWdpblBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3R4JiZ0aGlzLl9jdHguYmVnaW5QYXRoKCksdGhpcy5yZXNldCgpLHRoaXN9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fc2F2ZURhdGEmJih0aGlzLl9sZW49MCksdGhpcy5fbGluZURhc2gmJih0aGlzLl9saW5lRGFzaD1udWxsLHRoaXMuX2Rhc2hPZmZzZXQ9MCksdGhpcy5fcGF0aFNlZ0xlbiYmKHRoaXMuX3BhdGhTZWdMZW49bnVsbCx0aGlzLl9wYXRoTGVuPTApLHRoaXMuX3ZlcnNpb24rK30sdC5wcm90b3R5cGUubW92ZVRvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2RyYXdQZW5kaW5nUHQoKSx0aGlzLmFkZERhdGEoZmEuTSx0LGUpLHRoaXMuX2N0eCYmdGhpcy5fY3R4Lm1vdmVUbyh0LGUpLHRoaXMuX3gwPXQsdGhpcy5feTA9ZSx0aGlzLl94aT10LHRoaXMuX3lpPWUsdGhpc30sdC5wcm90b3R5cGUubGluZVRvPWZ1bmN0aW9uKHQsZSl7dmFyIG49VGEodC10aGlzLl94aSksaT1UYShlLXRoaXMuX3lpKSxyPW4+dGhpcy5fdXh8fGk+dGhpcy5fdXk7aWYodGhpcy5hZGREYXRhKGZhLkwsdCxlKSx0aGlzLl9jdHgmJnImJih0aGlzLl9uZWVkc0Rhc2g/dGhpcy5fZGFzaGVkTGluZVRvKHQsZSk6dGhpcy5fY3R4LmxpbmVUbyh0LGUpKSxyKXRoaXMuX3hpPXQsdGhpcy5feWk9ZSx0aGlzLl9wZW5kaW5nUHREaXN0PTA7ZWxzZXt2YXIgbz1uKm4raSppO28+dGhpcy5fcGVuZGluZ1B0RGlzdCYmKHRoaXMuX3BlbmRpbmdQdFg9dCx0aGlzLl9wZW5kaW5nUHRZPWUsdGhpcy5fcGVuZGluZ1B0RGlzdD1vKX1yZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuYmV6aWVyQ3VydmVUbz1mdW5jdGlvbih0LGUsbixpLHIsbyl7cmV0dXJuIHRoaXMuX2RyYXdQZW5kaW5nUHQoKSx0aGlzLmFkZERhdGEoZmEuQyx0LGUsbixpLHIsbyksdGhpcy5fY3R4JiYodGhpcy5fbmVlZHNEYXNoP3RoaXMuX2Rhc2hlZEJlemllclRvKHQsZSxuLGkscixvKTp0aGlzLl9jdHguYmV6aWVyQ3VydmVUbyh0LGUsbixpLHIsbykpLHRoaXMuX3hpPXIsdGhpcy5feWk9byx0aGlzfSx0LnByb3RvdHlwZS5xdWFkcmF0aWNDdXJ2ZVRvPWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiB0aGlzLl9kcmF3UGVuZGluZ1B0KCksdGhpcy5hZGREYXRhKGZhLlEsdCxlLG4saSksdGhpcy5fY3R4JiYodGhpcy5fbmVlZHNEYXNoP3RoaXMuX2Rhc2hlZFF1YWRyYXRpY1RvKHQsZSxuLGkpOnRoaXMuX2N0eC5xdWFkcmF0aWNDdXJ2ZVRvKHQsZSxuLGkpKSx0aGlzLl94aT1uLHRoaXMuX3lpPWksdGhpc30sdC5wcm90b3R5cGUuYXJjPWZ1bmN0aW9uKHQsZSxuLGkscixvKXt0aGlzLl9kcmF3UGVuZGluZ1B0KCksa2FbMF09aSxrYVsxXT1yLFBhKGthLG8pLGk9a2FbMF07dmFyIGE9KHI9a2FbMV0pLWk7cmV0dXJuIHRoaXMuYWRkRGF0YShmYS5BLHQsZSxuLG4saSxhLDAsbz8wOjEpLHRoaXMuX2N0eCYmdGhpcy5fY3R4LmFyYyh0LGUsbixpLHIsbyksdGhpcy5feGk9U2Eocikqbit0LHRoaXMuX3lpPU1hKHIpKm4rZSx0aGlzfSx0LnByb3RvdHlwZS5hcmNUbz1mdW5jdGlvbih0LGUsbixpLHIpe3JldHVybiB0aGlzLl9kcmF3UGVuZGluZ1B0KCksdGhpcy5fY3R4JiZ0aGlzLl9jdHguYXJjVG8odCxlLG4saSxyKSx0aGlzfSx0LnByb3RvdHlwZS5yZWN0PWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiB0aGlzLl9kcmF3UGVuZGluZ1B0KCksdGhpcy5fY3R4JiZ0aGlzLl9jdHgucmVjdCh0LGUsbixpKSx0aGlzLmFkZERhdGEoZmEuUix0LGUsbixpKSx0aGlzfSx0LnByb3RvdHlwZS5jbG9zZVBhdGg9ZnVuY3Rpb24oKXt0aGlzLl9kcmF3UGVuZGluZ1B0KCksdGhpcy5hZGREYXRhKGZhLlopO3ZhciB0PXRoaXMuX2N0eCxlPXRoaXMuX3gwLG49dGhpcy5feTA7cmV0dXJuIHQmJih0aGlzLl9uZWVkc0Rhc2gmJnRoaXMuX2Rhc2hlZExpbmVUbyhlLG4pLHQuY2xvc2VQYXRoKCkpLHRoaXMuX3hpPWUsdGhpcy5feWk9bix0aGlzfSx0LnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKHQpe3QmJnQuZmlsbCgpLHRoaXMudG9TdGF0aWMoKX0sdC5wcm90b3R5cGUuc3Ryb2tlPWZ1bmN0aW9uKHQpe3QmJnQuc3Ryb2tlKCksdGhpcy50b1N0YXRpYygpfSx0LnByb3RvdHlwZS5zZXRMaW5lRGFzaD1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgQXJyYXkpe3RoaXMuX2xpbmVEYXNoPXQsdGhpcy5fZGFzaElkeD0wO2Zvcih2YXIgZT0wLG49MDtuPHQubGVuZ3RoO24rKyllKz10W25dO3RoaXMuX2Rhc2hTdW09ZSx0aGlzLl9uZWVkc0Rhc2g9ITB9ZWxzZSB0aGlzLl9saW5lRGFzaD1udWxsLHRoaXMuX25lZWRzRGFzaD0hMTtyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuc2V0TGluZURhc2hPZmZzZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2Rhc2hPZmZzZXQ9dCx0aGlzfSx0LnByb3RvdHlwZS5sZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGVufSx0LnByb3RvdHlwZS5zZXREYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXQubGVuZ3RoO3RoaXMuZGF0YSYmdGhpcy5kYXRhLmxlbmd0aD09PWV8fCFBYXx8KHRoaXMuZGF0YT1uZXcgRmxvYXQzMkFycmF5KGUpKTtmb3IodmFyIG49MDtuPGU7bisrKXRoaXMuZGF0YVtuXT10W25dO3RoaXMuX2xlbj1lfSx0LnByb3RvdHlwZS5hcHBlbmRQYXRoPWZ1bmN0aW9uKHQpe3QgaW5zdGFuY2VvZiBBcnJheXx8KHQ9W3RdKTtmb3IodmFyIGU9dC5sZW5ndGgsbj0wLGk9dGhpcy5fbGVuLHI9MDtyPGU7cisrKW4rPXRbcl0ubGVuKCk7QWEmJnRoaXMuZGF0YSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSYmKHRoaXMuZGF0YT1uZXcgRmxvYXQzMkFycmF5KGkrbikpO2ZvcihyPTA7cjxlO3IrKylmb3IodmFyIG89dFtyXS5kYXRhLGE9MDthPG8ubGVuZ3RoO2ErKyl0aGlzLmRhdGFbaSsrXT1vW2FdO3RoaXMuX2xlbj1pfSx0LnByb3RvdHlwZS5hZGREYXRhPWZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyxsKXtpZih0aGlzLl9zYXZlRGF0YSl7dmFyIHU9dGhpcy5kYXRhO3RoaXMuX2xlbithcmd1bWVudHMubGVuZ3RoPnUubGVuZ3RoJiYodGhpcy5fZXhwYW5kRGF0YSgpLHU9dGhpcy5kYXRhKTtmb3IodmFyIGg9MDtoPGFyZ3VtZW50cy5sZW5ndGg7aCsrKXVbdGhpcy5fbGVuKytdPWFyZ3VtZW50c1toXX19LHQucHJvdG90eXBlLl9kcmF3UGVuZGluZ1B0PWZ1bmN0aW9uKCl7dGhpcy5fcGVuZGluZ1B0RGlzdD4wJiYodGhpcy5fY3R4JiZ0aGlzLl9jdHgubGluZVRvKHRoaXMuX3BlbmRpbmdQdFgsdGhpcy5fcGVuZGluZ1B0WSksdGhpcy5fcGVuZGluZ1B0RGlzdD0wKX0sdC5wcm90b3R5cGUuX2V4cGFuZERhdGE9ZnVuY3Rpb24oKXtpZighKHRoaXMuZGF0YSBpbnN0YW5jZW9mIEFycmF5KSl7Zm9yKHZhciB0PVtdLGU9MDtlPHRoaXMuX2xlbjtlKyspdFtlXT10aGlzLmRhdGFbZV07dGhpcy5kYXRhPXR9fSx0LnByb3RvdHlwZS5fZGFzaGVkTGluZVRvPWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyPXRoaXMuX2Rhc2hTdW0sbz10aGlzLl9saW5lRGFzaCxhPXRoaXMuX2N0eCxzPXRoaXMuX2Rhc2hPZmZzZXQsbD10aGlzLl94aSx1PXRoaXMuX3lpLGg9dC1sLGM9ZS11LHA9SWEoaCpoK2MqYyksZD1sLGY9dSxnPW8ubGVuZ3RoO2ZvcihzPDAmJihzPXIrcyksZC09KHMlPXIpKihoLz1wKSxmLT1zKihjLz1wKTtoPjAmJmQ8PXR8fGg8MCYmZD49dHx8MD09PWgmJihjPjAmJmY8PWV8fGM8MCYmZj49ZSk7KWQrPWgqKG49b1tpPXRoaXMuX2Rhc2hJZHhdKSxmKz1jKm4sdGhpcy5fZGFzaElkeD0oaSsxKSVnLGg+MCYmZDxsfHxoPDAmJmQ+bHx8Yz4wJiZmPHV8fGM8MCYmZj51fHxhW2klMj8ibW92ZVRvIjoibGluZVRvIl0oaD49MD9iYShkLHQpOndhKGQsdCksYz49MD9iYShmLGUpOndhKGYsZSkpO2g9ZC10LGM9Zi1lLHRoaXMuX2Rhc2hPZmZzZXQ9LUlhKGgqaCtjKmMpfSx0LnByb3RvdHlwZS5fZGFzaGVkQmV6aWVyVG89ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhLHMsbCx1LGgsYz10aGlzLl9jdHgscD10aGlzLl9kYXNoU3VtLGQ9dGhpcy5fZGFzaE9mZnNldCxmPXRoaXMuX2xpbmVEYXNoLGc9dGhpcy5feGkseT10aGlzLl95aSx2PTAsbT10aGlzLl9kYXNoSWR4LF89Zi5sZW5ndGgseD0wO2ZvcihkPDAmJihkPXArZCksZCU9cCxhPTA7YTwxO2ErPS4xKXM9R28oZyx0LG4scixhKy4xKS1HbyhnLHQsbixyLGEpLGw9R28oeSxlLGksbyxhKy4xKS1Hbyh5LGUsaSxvLGEpLHYrPUlhKHMqcytsKmwpO2Zvcig7bTxfJiYhKCh4Kz1mW21dKT5kKTttKyspO2ZvcihhPSh4LWQpL3Y7YTw9MTspdT1HbyhnLHQsbixyLGEpLGg9R28oeSxlLGksbyxhKSxtJTI/Yy5tb3ZlVG8odSxoKTpjLmxpbmVUbyh1LGgpLGErPWZbbV0vdixtPShtKzEpJV87bSUyIT0wJiZjLmxpbmVUbyhyLG8pLHM9ci11LGw9by1oLHRoaXMuX2Rhc2hPZmZzZXQ9LUlhKHMqcytsKmwpfSx0LnByb3RvdHlwZS5fZGFzaGVkUXVhZHJhdGljVG89ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bixvPWk7bj0obisyKnQpLzMsaT0oaSsyKmUpLzMsdD0odGhpcy5feGkrMip0KS8zLGU9KHRoaXMuX3lpKzIqZSkvMyx0aGlzLl9kYXNoZWRCZXppZXJUbyh0LGUsbixpLHIsbyl9LHQucHJvdG90eXBlLnRvU3RhdGljPWZ1bmN0aW9uKCl7aWYodGhpcy5fc2F2ZURhdGEpe3RoaXMuX2RyYXdQZW5kaW5nUHQoKTt2YXIgdD10aGlzLmRhdGE7dCBpbnN0YW5jZW9mIEFycmF5JiYodC5sZW5ndGg9dGhpcy5fbGVuLEFhJiZ0aGlzLl9sZW4+MTEmJih0aGlzLmRhdGE9bmV3IEZsb2F0MzJBcnJheSh0KSkpfX0sdC5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKCl7dmFbMF09dmFbMV09X2FbMF09X2FbMV09TnVtYmVyLk1BWF9WQUxVRSxtYVswXT1tYVsxXT14YVswXT14YVsxXT0tTnVtYmVyLk1BWF9WQUxVRTt2YXIgdCxlPXRoaXMuZGF0YSxuPTAsaT0wLHI9MCxvPTA7Zm9yKHQ9MDt0PHRoaXMuX2xlbjspe3ZhciBhPWVbdCsrXSxzPTE9PT10O3N3aXRjaChzJiYocj1uPWVbdF0sbz1pPWVbdCsxXSksYSl7Y2FzZSBmYS5NOm49cj1lW3QrK10saT1vPWVbdCsrXSxfYVswXT1yLF9hWzFdPW8seGFbMF09cix4YVsxXT1vO2JyZWFrO2Nhc2UgZmEuTDpsYShuLGksZVt0XSxlW3QrMV0sX2EseGEpLG49ZVt0KytdLGk9ZVt0KytdO2JyZWFrO2Nhc2UgZmEuQzpjYShuLGksZVt0KytdLGVbdCsrXSxlW3QrK10sZVt0KytdLGVbdF0sZVt0KzFdLF9hLHhhKSxuPWVbdCsrXSxpPWVbdCsrXTticmVhaztjYXNlIGZhLlE6cGEobixpLGVbdCsrXSxlW3QrK10sZVt0XSxlW3QrMV0sX2EseGEpLG49ZVt0KytdLGk9ZVt0KytdO2JyZWFrO2Nhc2UgZmEuQTp2YXIgbD1lW3QrK10sdT1lW3QrK10saD1lW3QrK10sYz1lW3QrK10scD1lW3QrK10sZD1lW3QrK10rcDt0Kz0xO3ZhciBmPSFlW3QrK107cyYmKHI9U2EocCkqaCtsLG89TWEocCkqYyt1KSxkYShsLHUsaCxjLHAsZCxmLF9hLHhhKSxuPVNhKGQpKmgrbCxpPU1hKGQpKmMrdTticmVhaztjYXNlIGZhLlI6bGEocj1uPWVbdCsrXSxvPWk9ZVt0KytdLHIrZVt0KytdLG8rZVt0KytdLF9hLHhhKTticmVhaztjYXNlIGZhLlo6bj1yLGk9b316dCh2YSx2YSxfYSksRXQobWEsbWEseGEpfXJldHVybiAwPT09dCYmKHZhWzBdPXZhWzFdPW1hWzBdPW1hWzFdPTApLG5ldyB2aSh2YVswXSx2YVsxXSxtYVswXS12YVswXSxtYVsxXS12YVsxXSl9LHQucHJvdG90eXBlLl9jYWxjdWxhdGVMZW5ndGg9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRhdGEsZT10aGlzLl9sZW4sbj10aGlzLl91eCxpPXRoaXMuX3V5LHI9MCxvPTAsYT0wLHM9MDt0aGlzLl9wYXRoU2VnTGVufHwodGhpcy5fcGF0aFNlZ0xlbj1bXSk7Zm9yKHZhciBsPXRoaXMuX3BhdGhTZWdMZW4sdT0wLGg9MCxjPTA7YzxlOyl7dmFyIHA9dFtjKytdLGQ9MT09PWM7ZCYmKGE9cj10W2NdLHM9bz10W2MrMV0pO3ZhciBmPS0xO3N3aXRjaChwKXtjYXNlIGZhLk06cj1hPXRbYysrXSxvPXM9dFtjKytdO2JyZWFrO2Nhc2UgZmEuTDp2YXIgZz10W2MrK10seT0oXz10W2MrK10pLW87KFRhKEE9Zy1yKT5ufHxUYSh5KT5pfHxjPT09ZS0xKSYmKGY9TWF0aC5zcXJ0KEEqQSt5KnkpLHI9ZyxvPV8pO2JyZWFrO2Nhc2UgZmEuQzp2YXIgdj10W2MrK10sbT10W2MrK10sXz0oZz10W2MrK10sdFtjKytdKSx4PXRbYysrXSxiPXRbYysrXTtmPVlvKHIsbyx2LG0sZyxfLHgsYiwxMCkscj14LG89YjticmVhaztjYXNlIGZhLlE6Zj1KbyhyLG8sdj10W2MrK10sbT10W2MrK10sZz10W2MrK10sXz10W2MrK10sMTApLHI9ZyxvPV87YnJlYWs7Y2FzZSBmYS5BOnZhciB3PXRbYysrXSxTPXRbYysrXSxNPXRbYysrXSxJPXRbYysrXSxUPXRbYysrXSxDPXRbYysrXSxEPUMrVDtjKz0xO3RbYysrXTtkJiYoYT1TYShUKSpNK3cscz1NYShUKSpJK1MpLGY9d2EoTSxJKSpiYShEYSxNYXRoLmFicyhDKSkscj1TYShEKSpNK3csbz1NYShEKSpJK1M7YnJlYWs7Y2FzZSBmYS5SOmE9cj10W2MrK10scz1vPXRbYysrXSxmPTIqdFtjKytdKzIqdFtjKytdO2JyZWFrO2Nhc2UgZmEuWjp2YXIgQT1hLXI7eT1zLW87Zj1NYXRoLnNxcnQoQSpBK3kqeSkscj1hLG89c31mPj0wJiYobFtoKytdPWYsdSs9Zil9cmV0dXJuIHRoaXMuX3BhdGhMZW49dSx1fSx0LnByb3RvdHlwZS5yZWJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3ZhciBuLGkscixvLGEscyxsLHUsaCxjLHA9dGhpcy5kYXRhLGQ9dGhpcy5fdXgsZj10aGlzLl91eSxnPXRoaXMuX2xlbix5PWU8MSx2PTAsbT0wLF89MDtpZigheXx8KHRoaXMuX3BhdGhTZWdMZW58fHRoaXMuX2NhbGN1bGF0ZUxlbmd0aCgpLGw9dGhpcy5fcGF0aFNlZ0xlbix1PWUqdGhpcy5fcGF0aExlbikpdDpmb3IodmFyIHg9MDt4PGc7KXt2YXIgYj1wW3grK10sdz0xPT09eDtzd2l0Y2godyYmKG49cj1wW3hdLGk9bz1wW3grMV0pLGIhPT1mYS5MJiZfPjAmJih0LmxpbmVUbyhoLGMpLF89MCksYil7Y2FzZSBmYS5NOm49cj1wW3grK10saT1vPXBbeCsrXSx0Lm1vdmVUbyhyLG8pO2JyZWFrO2Nhc2UgZmEuTDphPXBbeCsrXSxzPXBbeCsrXTt2YXIgUz1UYShhLXIpLE09VGEocy1vKTtpZihTPmR8fE0+Zil7aWYoeSl7aWYodisoaj1sW20rK10pPnUpe3ZhciBJPSh1LXYpL2o7dC5saW5lVG8ociooMS1JKSthKkksbyooMS1JKStzKkkpO2JyZWFrIHR9dis9an10LmxpbmVUbyhhLHMpLHI9YSxvPXMsXz0wfWVsc2V7dmFyIFQ9UypTK00qTTtUPl8mJihoPWEsYz1zLF89VCl9YnJlYWs7Y2FzZSBmYS5DOnZhciBDPXBbeCsrXSxEPXBbeCsrXSxBPXBbeCsrXSxrPXBbeCsrXSxMPXBbeCsrXSxQPXBbeCsrXTtpZih5KXtpZih2KyhqPWxbbSsrXSk+dSl7VW8ocixDLEEsTCxJPSh1LXYpL2osZ2EpLFVvKG8sRCxrLFAsSSx5YSksdC5iZXppZXJDdXJ2ZVRvKGdhWzFdLHlhWzFdLGdhWzJdLHlhWzJdLGdhWzNdLHlhWzNdKTticmVhayB0fXYrPWp9dC5iZXppZXJDdXJ2ZVRvKEMsRCxBLGssTCxQKSxyPUwsbz1QO2JyZWFrO2Nhc2UgZmEuUTpDPXBbeCsrXSxEPXBbeCsrXSxBPXBbeCsrXSxrPXBbeCsrXTtpZih5KXtpZih2KyhqPWxbbSsrXSk+dSl7S28ocixDLEEsST0odS12KS9qLGdhKSxLbyhvLEQsayxJLHlhKSx0LnF1YWRyYXRpY0N1cnZlVG8oZ2FbMV0seWFbMV0sZ2FbMl0seWFbMl0pO2JyZWFrIHR9dis9an10LnF1YWRyYXRpY0N1cnZlVG8oQyxELEEsaykscj1BLG89azticmVhaztjYXNlIGZhLkE6dmFyIE89cFt4KytdLFI9cFt4KytdLE49cFt4KytdLHo9cFt4KytdLEU9cFt4KytdLFY9cFt4KytdLEI9cFt4KytdLEc9IXBbeCsrXSxGPU4+ej9OOnosSD1UYShOLXopPi4wMDEsVz1FK1YsVT0hMTtpZih5KXYrKGo9bFttKytdKT51JiYoVz1FK1YqKHUtdikvaixVPSEwKSx2Kz1qO2lmKEgmJnQuZWxsaXBzZT90LmVsbGlwc2UoTyxSLE4seixCLEUsVyxHKTp0LmFyYyhPLFIsRixFLFcsRyksVSlicmVhayB0O3cmJihuPVNhKEUpKk4rTyxpPU1hKEUpKnorUikscj1TYShXKSpOK08sbz1NYShXKSp6K1I7YnJlYWs7Y2FzZSBmYS5SOm49cj1wW3hdLGk9bz1wW3grMV0sYT1wW3grK10scz1wW3grK107dmFyIFg9cFt4KytdLFk9cFt4KytdO2lmKHkpe2lmKHYrKGo9bFttKytdKT51KXt2YXIgWj11LXY7dC5tb3ZlVG8oYSxzKSx0LmxpbmVUbyhhK2JhKFosWCkscyksKFotPVgpPjAmJnQubGluZVRvKGErWCxzK2JhKFosWSkpLChaLT1ZKT4wJiZ0LmxpbmVUbyhhK3dhKFgtWiwwKSxzK1kpLChaLT1YKT4wJiZ0LmxpbmVUbyhhLHMrd2EoWS1aLDApKTticmVhayB0fXYrPWp9dC5yZWN0KGEscyxYLFkpO2JyZWFrO2Nhc2UgZmEuWjppZih5KXt2YXIgajtpZih2KyhqPWxbbSsrXSk+dSl7ST0odS12KS9qO3QubGluZVRvKHIqKDEtSSkrbipJLG8qKDEtSSkraSpJKTticmVhayB0fXYrPWp9dC5jbG9zZVBhdGgoKSxyPW4sbz1pfX19LHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IHQsbj10aGlzLmRhdGE7cmV0dXJuIGUuZGF0YT1uLnNsaWNlP24uc2xpY2UoKTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChuKSxlLl9sZW49dGhpcy5fbGVuLGV9LHQuQ01EPWZhLHQuaW5pdERlZmF1bHRQcm9wcz1mdW5jdGlvbigpe3ZhciBlPXQucHJvdG90eXBlO2UuX3NhdmVEYXRhPSEwLGUuX25lZWRzRGFzaD0hMSxlLl9kYXNoT2Zmc2V0PTAsZS5fZGFzaElkeD0wLGUuX2Rhc2hTdW09MCxlLl91eD0wLGUuX3V5PTAsZS5fcGVuZGluZ1B0RGlzdD0wLGUuX3ZlcnNpb249MH0oKSx0fSgpO2Z1bmN0aW9uIFJhKHQsZSxuLGkscixvLGEpe2lmKDA9PT1yKXJldHVybiExO3ZhciBzPXIsbD0wO2lmKGE+ZStzJiZhPmkrc3x8YTxlLXMmJmE8aS1zfHxvPnQrcyYmbz5uK3N8fG88dC1zJiZvPG4tcylyZXR1cm4hMTtpZih0PT09bilyZXR1cm4gTWF0aC5hYnMoby10KTw9cy8yO3ZhciB1PShsPShlLWkpLyh0LW4pKSpvLWErKHQqaS1uKmUpLyh0LW4pO3JldHVybiB1KnUvKGwqbCsxKTw9cy8yKnMvMn1mdW5jdGlvbiBOYSh0LGUsbixpLHIsbyxhLHMsbCx1LGgpe2lmKDA9PT1sKXJldHVybiExO3ZhciBjPWw7cmV0dXJuIShoPmUrYyYmaD5pK2MmJmg+bytjJiZoPnMrY3x8aDxlLWMmJmg8aS1jJiZoPG8tYyYmaDxzLWN8fHU+dCtjJiZ1Pm4rYyYmdT5yK2MmJnU+YStjfHx1PHQtYyYmdTxuLWMmJnU8ci1jJiZ1PGEtYykmJlhvKHQsZSxuLGkscixvLGEscyx1LGgsbnVsbCk8PWMvMn1mdW5jdGlvbiB6YSh0LGUsbixpLHIsbyxhLHMsbCl7aWYoMD09PWEpcmV0dXJuITE7dmFyIHU9YTtyZXR1cm4hKGw+ZSt1JiZsPmkrdSYmbD5vK3V8fGw8ZS11JiZsPGktdSYmbDxvLXV8fHM+dCt1JiZzPm4rdSYmcz5yK3V8fHM8dC11JiZzPG4tdSYmczxyLXUpJiYkbyh0LGUsbixpLHIsbyxzLGwsbnVsbCk8PXUvMn12YXIgRWE9MipNYXRoLlBJO2Z1bmN0aW9uIFZhKHQpe3JldHVybih0JT1FYSk8MCYmKHQrPUVhKSx0fXZhciBCYT0yKk1hdGguUEk7ZnVuY3Rpb24gR2EodCxlLG4saSxyLG8sYSxzLGwpe2lmKDA9PT1hKXJldHVybiExO3ZhciB1PWE7cy09dCxsLT1lO3ZhciBoPU1hdGguc3FydChzKnMrbCpsKTtpZihoLXU+bnx8aCt1PG4pcmV0dXJuITE7aWYoTWF0aC5hYnMoaS1yKSVCYTwxZS00KXJldHVybiEwO2lmKG8pe3ZhciBjPWk7aT1WYShyKSxyPVZhKGMpfWVsc2UgaT1WYShpKSxyPVZhKHIpO2k+ciYmKHIrPUJhKTt2YXIgcD1NYXRoLmF0YW4yKGwscyk7cmV0dXJuIHA8MCYmKHArPUJhKSxwPj1pJiZwPD1yfHxwK0JhPj1pJiZwK0JhPD1yfWZ1bmN0aW9uIEZhKHQsZSxuLGkscixvKXtpZihvPmUmJm8+aXx8bzxlJiZvPGkpcmV0dXJuIDA7aWYoaT09PWUpcmV0dXJuIDA7dmFyIGE9KG8tZSkvKGktZSkscz1pPGU/MTotMTsxIT09YSYmMCE9PWF8fChzPWk8ZT8uNTotLjUpO3ZhciBsPWEqKG4tdCkrdDtyZXR1cm4gbD09PXI/MS8wOmw+cj9zOjB9dmFyIEhhPU9hLkNNRCxXYT0yKk1hdGguUEk7dmFyIFVhPVstMSwtMSwtMV0sWGE9Wy0xLC0xXTtmdW5jdGlvbiBZYSh0LGUsbixpLHIsbyxhLHMsbCx1KXtpZih1PmUmJnU+aSYmdT5vJiZ1PnN8fHU8ZSYmdTxpJiZ1PG8mJnU8cylyZXR1cm4gMDt2YXIgaCxjPUhvKGUsaSxvLHMsdSxVYSk7aWYoMD09PWMpcmV0dXJuIDA7Zm9yKHZhciBwPTAsZD0tMSxmPXZvaWQgMCxnPXZvaWQgMCx5PTA7eTxjO3krKyl7dmFyIHY9VWFbeV0sbT0wPT09dnx8MT09PXY/LjU6MTtHbyh0LG4scixhLHYpPGx8fChkPDAmJihkPVdvKGUsaSxvLHMsWGEpLFhhWzFdPFhhWzBdJiZkPjEmJihoPXZvaWQgMCxoPVhhWzBdLFhhWzBdPVhhWzFdLFhhWzFdPWgpLGY9R28oZSxpLG8scyxYYVswXSksZD4xJiYoZz1HbyhlLGksbyxzLFhhWzFdKSkpLDI9PT1kP3Y8WGFbMF0/cCs9ZjxlP206LW06djxYYVsxXT9wKz1nPGY/bTotbTpwKz1zPGc/bTotbTp2PFhhWzBdP3ArPWY8ZT9tOi1tOnArPXM8Zj9tOi1tKX1yZXR1cm4gcH1mdW5jdGlvbiBaYSh0LGUsbixpLHIsbyxhLHMpe2lmKHM+ZSYmcz5pJiZzPm98fHM8ZSYmczxpJiZzPG8pcmV0dXJuIDA7dmFyIGw9ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz10LTIqZStuLGE9MiooZS10KSxzPXQtaSxsPTA7aWYoVm8obykpQm8oYSkmJihoPS1zL2EpPj0wJiZoPD0xJiYocltsKytdPWgpO2Vsc2V7dmFyIHU9YSphLTQqbypzO2lmKFZvKHUpKShoPS1hLygyKm8pKT49MCYmaDw9MSYmKHJbbCsrXT1oKTtlbHNlIGlmKHU+MCl7dmFyIGgsYz1rbyh1KSxwPSgtYS1jKS8oMipvKTsoaD0oLWErYykvKDIqbykpPj0wJiZoPD0xJiYocltsKytdPWgpLHA+PTAmJnA8PTEmJihyW2wrK109cCl9fXJldHVybiBsfShlLGksbyxzLFVhKTtpZigwPT09bClyZXR1cm4gMDt2YXIgdT1xbyhlLGksbyk7aWYodT49MCYmdTw9MSl7Zm9yKHZhciBoPTAsYz1abyhlLGksbyx1KSxwPTA7cDxsO3ArKyl7dmFyIGQ9MD09PVVhW3BdfHwxPT09VWFbcF0/LjU6MTtabyh0LG4scixVYVtwXSk8YXx8KFVhW3BdPHU/aCs9YzxlP2Q6LWQ6aCs9bzxjP2Q6LWQpfXJldHVybiBofWQ9MD09PVVhWzBdfHwxPT09VWFbMF0/LjU6MTtyZXR1cm4gWm8odCxuLHIsVWFbMF0pPGE/MDpvPGU/ZDotZH1mdW5jdGlvbiBqYSh0LGUsbixpLHIsbyxhLHMpe2lmKChzLT1lKT5ufHxzPC1uKXJldHVybiAwO3ZhciBsPU1hdGguc3FydChuKm4tcypzKTtVYVswXT0tbCxVYVsxXT1sO3ZhciB1PU1hdGguYWJzKGktcik7aWYodTwxZS00KXJldHVybiAwO2lmKHU+PVdhLTFlLTQpe2k9MCxyPVdhO3ZhciBoPW8/MTotMTtyZXR1cm4gYT49VWFbMF0rdCYmYTw9VWFbMV0rdD9oOjB9aWYoaT5yKXt2YXIgYz1pO2k9cixyPWN9aTwwJiYoaSs9V2Escis9V2EpO2Zvcih2YXIgcD0wLGQ9MDtkPDI7ZCsrKXt2YXIgZj1VYVtkXTtpZihmK3Q+YSl7dmFyIGc9TWF0aC5hdGFuMihzLGYpO2g9bz8xOi0xO2c8MCYmKGc9V2ErZyksKGc+PWkmJmc8PXJ8fGcrV2E+PWkmJmcrV2E8PXIpJiYoZz5NYXRoLlBJLzImJmc8MS41Kk1hdGguUEkmJihoPS1oKSxwKz1oKX19cmV0dXJuIHB9ZnVuY3Rpb24gcWEodCxlLG4saSxyKXtmb3IodmFyIG8sYSxzLGwsdT10LmRhdGEsaD10LmxlbigpLGM9MCxwPTAsZD0wLGY9MCxnPTAseT0wO3k8aDspe3ZhciB2PXVbeSsrXSxtPTE9PT15O3N3aXRjaCh2PT09SGEuTSYmeT4xJiYobnx8KGMrPUZhKHAsZCxmLGcsaSxyKSkpLG0mJihmPXA9dVt5XSxnPWQ9dVt5KzFdKSx2KXtjYXNlIEhhLk06cD1mPXVbeSsrXSxkPWc9dVt5KytdO2JyZWFrO2Nhc2UgSGEuTDppZihuKXtpZihSYShwLGQsdVt5XSx1W3krMV0sZSxpLHIpKXJldHVybiEwfWVsc2UgYys9RmEocCxkLHVbeV0sdVt5KzFdLGkscil8fDA7cD11W3krK10sZD11W3krK107YnJlYWs7Y2FzZSBIYS5DOmlmKG4pe2lmKE5hKHAsZCx1W3krK10sdVt5KytdLHVbeSsrXSx1W3krK10sdVt5XSx1W3krMV0sZSxpLHIpKXJldHVybiEwfWVsc2UgYys9WWEocCxkLHVbeSsrXSx1W3krK10sdVt5KytdLHVbeSsrXSx1W3ldLHVbeSsxXSxpLHIpfHwwO3A9dVt5KytdLGQ9dVt5KytdO2JyZWFrO2Nhc2UgSGEuUTppZihuKXtpZih6YShwLGQsdVt5KytdLHVbeSsrXSx1W3ldLHVbeSsxXSxlLGkscikpcmV0dXJuITB9ZWxzZSBjKz1aYShwLGQsdVt5KytdLHVbeSsrXSx1W3ldLHVbeSsxXSxpLHIpfHwwO3A9dVt5KytdLGQ9dVt5KytdO2JyZWFrO2Nhc2UgSGEuQTp2YXIgXz11W3krK10seD11W3krK10sYj11W3krK10sdz11W3krK10sUz11W3krK10sTT11W3krK107eSs9MTt2YXIgST0hISgxLXVbeSsrXSk7bz1NYXRoLmNvcyhTKSpiK18sYT1NYXRoLnNpbihTKSp3K3gsbT8oZj1vLGc9YSk6Yys9RmEocCxkLG8sYSxpLHIpO3ZhciBUPShpLV8pKncvYitfO2lmKG4pe2lmKEdhKF8seCx3LFMsUytNLEksZSxULHIpKXJldHVybiEwfWVsc2UgYys9amEoXyx4LHcsUyxTK00sSSxULHIpO3A9TWF0aC5jb3MoUytNKSpiK18sZD1NYXRoLnNpbihTK00pKncreDticmVhaztjYXNlIEhhLlI6aWYoZj1wPXVbeSsrXSxnPWQ9dVt5KytdLG89Zit1W3krK10sYT1nK3VbeSsrXSxuKXtpZihSYShmLGcsbyxnLGUsaSxyKXx8UmEobyxnLG8sYSxlLGkscil8fFJhKG8sYSxmLGEsZSxpLHIpfHxSYShmLGEsZixnLGUsaSxyKSlyZXR1cm4hMH1lbHNlIGMrPUZhKG8sZyxvLGEsaSxyKSxjKz1GYShmLGEsZixnLGkscik7YnJlYWs7Y2FzZSBIYS5aOmlmKG4pe2lmKFJhKHAsZCxmLGcsZSxpLHIpKXJldHVybiEwfWVsc2UgYys9RmEocCxkLGYsZyxpLHIpO3A9ZixkPWd9fXJldHVybiBufHwocz1kLGw9ZyxNYXRoLmFicyhzLWwpPDFlLTQpfHwoYys9RmEocCxkLGYsZyxpLHIpfHwwKSwwIT09Y312YXIgS2E9Qyh7ZmlsbDoiIzAwMCIsc3Ryb2tlOm51bGwsc3Ryb2tlUGVyY2VudDoxLGZpbGxPcGFjaXR5OjEsc3Ryb2tlT3BhY2l0eToxLGxpbmVEYXNoT2Zmc2V0OjAsbGluZVdpZHRoOjEsbGluZUNhcDoiYnV0dCIsbWl0ZXJMaW1pdDoxMCxzdHJva2VOb1NjYWxlOiExLHN0cm9rZUZpcnN0OiExfSx3byksJGE9e3N0eWxlOkMoe2ZpbGw6ITAsc3Ryb2tlOiEwLHN0cm9rZVBlcmNlbnQ6ITAsZmlsbE9wYWNpdHk6ITAsc3Ryb2tlT3BhY2l0eTohMCxsaW5lRGFzaE9mZnNldDohMCxsaW5lV2lkdGg6ITAsbWl0ZXJMaW1pdDohMH0sU28uc3R5bGUpfSxKYT1bIngiLCJ5Iiwicm90YXRpb24iLCJzY2FsZVgiLCJzY2FsZVkiLCJvcmlnaW5YIiwib3JpZ2luWSIsImludmlzaWJsZSIsImN1bGxpbmciLCJ6IiwiejIiLCJ6bGV2ZWwiLCJwYXJlbnQiXSxRYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc312YXIgaTtyZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciBuPXRoaXM7dC5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyk7dmFyIGk9dGhpcy5zdHlsZTtpZihpLmRlY2FsKXt2YXIgcj10aGlzLl9kZWNhbEVsPXRoaXMuX2RlY2FsRWx8fG5ldyBlO3IuYnVpbGRQYXRoPT09ZS5wcm90b3R5cGUuYnVpbGRQYXRoJiYoci5idWlsZFBhdGg9ZnVuY3Rpb24odCl7bi5idWlsZFBhdGgodCxuLnNoYXBlKX0pLHIuc2lsZW50PSEwO3ZhciBvPXIuc3R5bGU7Zm9yKHZhciBhIGluIGkpb1thXSE9PWlbYV0mJihvW2FdPWlbYV0pO28uZmlsbD1pLmZpbGw/aS5kZWNhbDpudWxsLG8uZGVjYWw9bnVsbCxvLnNoYWRvd0NvbG9yPW51bGwsaS5zdHJva2VGaXJzdCYmKG8uc3Ryb2tlPW51bGwpO2Zvcih2YXIgcz0wO3M8SmEubGVuZ3RoOysrcylyW0phW3NdXT10aGlzW0phW3NdXTtyLl9fZGlydHl8PTF9ZWxzZSB0aGlzLl9kZWNhbEVsJiYodGhpcy5fZGVjYWxFbD1udWxsKX0sZS5wcm90b3R5cGUuZ2V0RGVjYWxFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlY2FsRWx9LGUucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKGUpe3ZhciBuPVYoZSk7dGhpcy5zaGFwZT10aGlzLmdldERlZmF1bHRTaGFwZSgpO3ZhciBpPXRoaXMuZ2V0RGVmYXVsdFN0eWxlKCk7aSYmdGhpcy51c2VTdHlsZShpKTtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIG89bltyXSxhPWVbb107InN0eWxlIj09PW8/dGhpcy5zdHlsZT9UKHRoaXMuc3R5bGUsYSk6dGhpcy51c2VTdHlsZShhKToic2hhcGUiPT09bz9UKHRoaXMuc2hhcGUsYSk6dC5wcm90b3R5cGUuYXR0cktWLmNhbGwodGhpcyxvLGEpfXRoaXMuc3R5bGV8fHRoaXMudXNlU3R5bGUoe30pfSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U3R5bGU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJue319LGUucHJvdG90eXBlLmNhbkJlSW5zaWRlVGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc0ZpbGwoKX0sZS5wcm90b3R5cGUuZ2V0SW5zaWRlVGV4dEZpbGw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0eWxlLmZpbGw7aWYoIm5vbmUiIT09dCl7aWYoVyh0KSl7dmFyIGU9dG4odCwwKTtyZXR1cm4gZT4uNT9CbjplPi4yPyIjZWVlIjpHbn1pZih0KXJldHVybiBHbn1yZXR1cm4gQm59LGUucHJvdG90eXBlLmdldEluc2lkZVRleHRTdHJva2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdHlsZS5maWxsO2lmKFcoZSkpe3ZhciBuPXRoaXMuX196cjtpZighKCFufHwhbi5pc0RhcmtNb2RlKCkpPT09dG4odCwwKTwuNClyZXR1cm4gZX19LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUsbil7fSxlLnByb3RvdHlwZS5wYXRoVXBkYXRlZD1mdW5jdGlvbigpe3RoaXMuX19kaXJ0eSY9LTV9LGUucHJvdG90eXBlLmdldFVwZGF0ZWRQYXRoUHJveHk9ZnVuY3Rpb24odCl7cmV0dXJuIXRoaXMucGF0aCYmdGhpcy5jcmVhdGVQYXRoUHJveHkoKSx0aGlzLnBhdGguYmVnaW5QYXRoKCksdGhpcy5idWlsZFBhdGgodGhpcy5wYXRoLHRoaXMuc2hhcGUsdCksdGhpcy5wYXRofSxlLnByb3RvdHlwZS5jcmVhdGVQYXRoUHJveHk9ZnVuY3Rpb24oKXt0aGlzLnBhdGg9bmV3IE9hKCExKX0sZS5wcm90b3R5cGUuaGFzU3Ryb2tlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdHlsZSxlPXQuc3Ryb2tlO3JldHVybiEobnVsbD09ZXx8Im5vbmUiPT09ZXx8ISh0LmxpbmVXaWR0aD4wKSl9LGUucHJvdG90eXBlLmhhc0ZpbGw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0eWxlLmZpbGw7cmV0dXJuIG51bGwhPXQmJiJub25lIiE9PXR9LGUucHJvdG90eXBlLmdldEJvdW5kaW5nUmVjdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3JlY3QsZT10aGlzLnN0eWxlLG49IXQ7aWYobil7dmFyIGk9ITE7dGhpcy5wYXRofHwoaT0hMCx0aGlzLmNyZWF0ZVBhdGhQcm94eSgpKTt2YXIgcj10aGlzLnBhdGg7KGl8fDQmdGhpcy5fX2RpcnR5KSYmKHIuYmVnaW5QYXRoKCksdGhpcy5idWlsZFBhdGgocix0aGlzLnNoYXBlLCExKSx0aGlzLnBhdGhVcGRhdGVkKCkpLHQ9ci5nZXRCb3VuZGluZ1JlY3QoKX1pZih0aGlzLl9yZWN0PXQsdGhpcy5oYXNTdHJva2UoKSYmdGhpcy5wYXRoJiZ0aGlzLnBhdGgubGVuKCk+MCl7dmFyIG89dGhpcy5fcmVjdFdpdGhTdHJva2V8fCh0aGlzLl9yZWN0V2l0aFN0cm9rZT10LmNsb25lKCkpO2lmKHRoaXMuX19kaXJ0eXx8bil7by5jb3B5KHQpO3ZhciBhPWUuc3Ryb2tlTm9TY2FsZT90aGlzLmdldExpbmVTY2FsZSgpOjEscz1lLmxpbmVXaWR0aDtpZighdGhpcy5oYXNGaWxsKCkpe3ZhciBsPXRoaXMuc3Ryb2tlQ29udGFpblRocmVzaG9sZDtzPU1hdGgubWF4KHMsbnVsbD09bD80OmwpfWE+MWUtMTAmJihvLndpZHRoKz1zL2Esby5oZWlnaHQrPXMvYSxvLngtPXMvYS8yLG8ueS09cy9hLzIpfXJldHVybiBvfXJldHVybiB0fSxlLnByb3RvdHlwZS5jb250YWluPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy50cmFuc2Zvcm1Db29yZFRvTG9jYWwodCxlKSxpPXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCkscj10aGlzLnN0eWxlO2lmKHQ9blswXSxlPW5bMV0saS5jb250YWluKHQsZSkpe3ZhciBvPXRoaXMucGF0aDtpZih0aGlzLmhhc1N0cm9rZSgpKXt2YXIgYT1yLmxpbmVXaWR0aCxzPXIuc3Ryb2tlTm9TY2FsZT90aGlzLmdldExpbmVTY2FsZSgpOjE7aWYocz4xZS0xMCYmKHRoaXMuaGFzRmlsbCgpfHwoYT1NYXRoLm1heChhLHRoaXMuc3Ryb2tlQ29udGFpblRocmVzaG9sZCkpLGZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiBxYSh0LGUsITAsbixpKX0obyxhL3MsdCxlKSkpcmV0dXJuITB9aWYodGhpcy5oYXNGaWxsKCkpcmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gcWEodCwwLCExLGUsbil9KG8sdCxlKX1yZXR1cm4hMX0sZS5wcm90b3R5cGUuZGlydHlTaGFwZT1mdW5jdGlvbigpe3RoaXMuX19kaXJ0eXw9NCx0aGlzLl9yZWN0JiYodGhpcy5fcmVjdD1udWxsKSx0aGlzLl9kZWNhbEVsJiZ0aGlzLl9kZWNhbEVsLmRpcnR5U2hhcGUoKSx0aGlzLm1hcmtSZWRyYXcoKX0sZS5wcm90b3R5cGUuZGlydHk9ZnVuY3Rpb24oKXt0aGlzLmRpcnR5U3R5bGUoKSx0aGlzLmRpcnR5U2hhcGUoKX0sZS5wcm90b3R5cGUuYW5pbWF0ZVNoYXBlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFuaW1hdGUoInNoYXBlIix0KX0sZS5wcm90b3R5cGUudXBkYXRlRHVyaW5nQW5pbWF0aW9uPWZ1bmN0aW9uKHQpeyJzdHlsZSI9PT10P3RoaXMuZGlydHlTdHlsZSgpOiJzaGFwZSI9PT10P3RoaXMuZGlydHlTaGFwZSgpOnRoaXMubWFya1JlZHJhdygpfSxlLnByb3RvdHlwZS5hdHRyS1Y9ZnVuY3Rpb24oZSxuKXsic2hhcGUiPT09ZT90aGlzLnNldFNoYXBlKG4pOnQucHJvdG90eXBlLmF0dHJLVi5jYWxsKHRoaXMsZSxuKX0sZS5wcm90b3R5cGUuc2V0U2hhcGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnNoYXBlO3JldHVybiBufHwobj10aGlzLnNoYXBlPXt9KSwic3RyaW5nIj09dHlwZW9mIHQ/blt0XT1lOlQobix0KSx0aGlzLmRpcnR5U2hhcGUoKSx0aGlzfSxlLnByb3RvdHlwZS5zaGFwZUNoYW5nZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hISg0JnRoaXMuX19kaXJ0eSl9LGUucHJvdG90eXBlLmNyZWF0ZVN0eWxlPWZ1bmN0aW9uKHQpe3JldHVybiBkdChLYSx0KX0sZS5wcm90b3R5cGUuX2lubmVyU2F2ZVRvTm9ybWFsPWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLl9pbm5lclNhdmVUb05vcm1hbC5jYWxsKHRoaXMsZSk7dmFyIG49dGhpcy5fbm9ybWFsU3RhdGU7ZS5zaGFwZSYmIW4uc2hhcGUmJihuLnNoYXBlPVQoe30sdGhpcy5zaGFwZSkpfSxlLnByb3RvdHlwZS5fYXBwbHlTdGF0ZU9iaj1mdW5jdGlvbihlLG4saSxyLG8sYSl7dC5wcm90b3R5cGUuX2FwcGx5U3RhdGVPYmouY2FsbCh0aGlzLGUsbixpLHIsbyxhKTt2YXIgcyxsPSEobiYmcik7aWYobiYmbi5zaGFwZT9vP3I/cz1uLnNoYXBlOihzPVQoe30saS5zaGFwZSksVChzLG4uc2hhcGUpKToocz1UKHt9LHI/dGhpcy5zaGFwZTppLnNoYXBlKSxUKHMsbi5zaGFwZSkpOmwmJihzPWkuc2hhcGUpLHMpaWYobyl7dGhpcy5zaGFwZT1UKHt9LHRoaXMuc2hhcGUpO2Zvcih2YXIgdT17fSxoPVYocyksYz0wO2M8aC5sZW5ndGg7YysrKXt2YXIgcD1oW2NdOyJvYmplY3QiPT10eXBlb2Ygc1twXT90aGlzLnNoYXBlW3BdPXNbcF06dVtwXT1zW3BdfXRoaXMuX3RyYW5zaXRpb25TdGF0ZShlLHtzaGFwZTp1fSxhKX1lbHNlIHRoaXMuc2hhcGU9cyx0aGlzLmRpcnR5U2hhcGUoKX0sZS5wcm90b3R5cGUuX21lcmdlU3RhdGVzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgbixpPXQucHJvdG90eXBlLl9tZXJnZVN0YXRlcy5jYWxsKHRoaXMsZSkscj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz1lW3JdO28uc2hhcGUmJihuPW58fHt9LHRoaXMuX21lcmdlU3R5bGUobixvLnNoYXBlKSl9cmV0dXJuIG4mJihpLnNoYXBlPW4pLGl9LGUucHJvdG90eXBlLmdldEFuaW1hdGlvblN0eWxlUHJvcHM9ZnVuY3Rpb24oKXtyZXR1cm4gJGF9LGUucHJvdG90eXBlLmlzWmVyb0FyZWE9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZS5leHRlbmQ9ZnVuY3Rpb24odCl7dmFyIGk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaShuKXt2YXIgaT1lLmNhbGwodGhpcyxuKXx8dGhpcztyZXR1cm4gdC5pbml0JiZ0LmluaXQuY2FsbChpLG4pLGl9cmV0dXJuIG4oaSxlKSxpLnByb3RvdHlwZS5nZXREZWZhdWx0U3R5bGU9ZnVuY3Rpb24oKXtyZXR1cm4gUyh0LnN0eWxlKX0saS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIFModC5zaGFwZSl9LGl9KGUpO2Zvcih2YXIgciBpbiB0KSJmdW5jdGlvbiI9PXR5cGVvZiB0W3JdJiYoaS5wcm90b3R5cGVbcl09dFtyXSk7cmV0dXJuIGl9LGUuaW5pdERlZmF1bHRQcm9wcz0oKGk9ZS5wcm90b3R5cGUpLnR5cGU9InBhdGgiLGkuc3Ryb2tlQ29udGFpblRocmVzaG9sZD01LGkuc2VnbWVudElnbm9yZVRocmVzaG9sZD0wLGkuc3ViUGl4ZWxPcHRpbWl6ZT0hMSxpLmF1dG9CYXRjaD0hMSx2b2lkKGkuX19kaXJ0eT03KSksZX0oVG8pLHRzPUMoe3N0cm9rZUZpcnN0OiEwLGZvbnQ6X2kseDowLHk6MCx0ZXh0QWxpZ246ImxlZnQiLHRleHRCYXNlbGluZToidG9wIixtaXRlckxpbWl0OjJ9LEthKSxlcz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmhhc1N0cm9rZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuc3R5bGUsZT10LnN0cm9rZTtyZXR1cm4gbnVsbCE9ZSYmIm5vbmUiIT09ZSYmdC5saW5lV2lkdGg+MH0sZS5wcm90b3R5cGUuaGFzRmlsbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuc3R5bGUuZmlsbDtyZXR1cm4gbnVsbCE9dCYmIm5vbmUiIT09dH0sZS5wcm90b3R5cGUuY3JlYXRlU3R5bGU9ZnVuY3Rpb24odCl7cmV0dXJuIGR0KHRzLHQpfSxlLnByb3RvdHlwZS5zZXRCb3VuZGluZ1JlY3Q9ZnVuY3Rpb24odCl7dGhpcy5fcmVjdD10fSxlLnByb3RvdHlwZS5nZXRCb3VuZGluZ1JlY3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0eWxlO2lmKCF0aGlzLl9yZWN0KXt2YXIgZT10LnRleHQ7bnVsbCE9ZT9lKz0iIjplPSIiO3ZhciBuPVNpKGUsdC5mb250LHQudGV4dEFsaWduLHQudGV4dEJhc2VsaW5lKTtpZihuLngrPXQueHx8MCxuLnkrPXQueXx8MCx0aGlzLmhhc1N0cm9rZSgpKXt2YXIgaT10LmxpbmVXaWR0aDtuLngtPWkvMixuLnktPWkvMixuLndpZHRoKz1pLG4uaGVpZ2h0Kz1pfXRoaXMuX3JlY3Q9bn1yZXR1cm4gdGhpcy5fcmVjdH0sZS5pbml0RGVmYXVsdFByb3BzPXZvaWQoZS5wcm90b3R5cGUuZGlydHlSZWN0VG9sZXJhbmNlPTEwKSxlfShUbyk7ZXMucHJvdG90eXBlLnR5cGU9InRzcGFuIjt2YXIgbnM9Qyh7eDowLHk6MH0sd28pLGlzPXtzdHlsZTpDKHt4OiEwLHk6ITAsd2lkdGg6ITAsaGVpZ2h0OiEwLHN4OiEwLHN5OiEwLHNXaWR0aDohMCxzSGVpZ2h0OiEwfSxTby5zdHlsZSl9O3ZhciBycz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmNyZWF0ZVN0eWxlPWZ1bmN0aW9uKHQpe3JldHVybiBkdChucyx0KX0sZS5wcm90b3R5cGUuX2dldFNpemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdHlsZSxuPWVbdF07aWYobnVsbCE9bilyZXR1cm4gbjt2YXIgaSxyPShpPWUuaW1hZ2UpJiYic3RyaW5nIiE9dHlwZW9mIGkmJmkud2lkdGgmJmkuaGVpZ2h0P2UuaW1hZ2U6dGhpcy5fX2ltYWdlO2lmKCFyKXJldHVybiAwO3ZhciBvPSJ3aWR0aCI9PT10PyJoZWlnaHQiOiJ3aWR0aCIsYT1lW29dO3JldHVybiBudWxsPT1hP3JbdF06clt0XS9yW29dKmF9LGUucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFNpemUoIndpZHRoIil9LGUucHJvdG90eXBlLmdldEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRTaXplKCJoZWlnaHQiKX0sZS5wcm90b3R5cGUuZ2V0QW5pbWF0aW9uU3R5bGVQcm9wcz1mdW5jdGlvbigpe3JldHVybiBpc30sZS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdHlsZTtyZXR1cm4gdGhpcy5fcmVjdHx8KHRoaXMuX3JlY3Q9bmV3IHZpKHQueHx8MCx0Lnl8fDAsdGhpcy5nZXRXaWR0aCgpLHRoaXMuZ2V0SGVpZ2h0KCkpKSx0aGlzLl9yZWN0fSxlfShUbyk7cnMucHJvdG90eXBlLnR5cGU9ImltYWdlIjt2YXIgb3M9TWF0aC5yb3VuZDtmdW5jdGlvbiBhcyh0LGUsbil7aWYoZSl7dmFyIGk9ZS54MSxyPWUueDIsbz1lLnkxLGE9ZS55Mjt0LngxPWksdC54Mj1yLHQueTE9byx0LnkyPWE7dmFyIHM9biYmbi5saW5lV2lkdGg7cmV0dXJuIHM/KG9zKDIqaSk9PT1vcygyKnIpJiYodC54MT10LngyPWxzKGkscywhMCkpLG9zKDIqbyk9PT1vcygyKmEpJiYodC55MT10LnkyPWxzKG8scywhMCkpLHQpOnR9fWZ1bmN0aW9uIHNzKHQsZSxuKXtpZihlKXt2YXIgaT1lLngscj1lLnksbz1lLndpZHRoLGE9ZS5oZWlnaHQ7dC54PWksdC55PXIsdC53aWR0aD1vLHQuaGVpZ2h0PWE7dmFyIHM9biYmbi5saW5lV2lkdGg7cmV0dXJuIHM/KHQueD1scyhpLHMsITApLHQueT1scyhyLHMsITApLHQud2lkdGg9TWF0aC5tYXgobHMoaStvLHMsITEpLXQueCwwPT09bz8wOjEpLHQuaGVpZ2h0PU1hdGgubWF4KGxzKHIrYSxzLCExKS10LnksMD09PWE/MDoxKSx0KTp0fX1mdW5jdGlvbiBscyh0LGUsbil7aWYoIWUpcmV0dXJuIHQ7dmFyIGk9b3MoMip0KTtyZXR1cm4oaStvcyhlKSklMj09MD9pLzI6KGkrKG4/MTotMSkpLzJ9dmFyIHVzPWZ1bmN0aW9uKCl7dGhpcy54PTAsdGhpcy55PTAsdGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTB9LGhzPXt9LGNzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIHQuY2FsbCh0aGlzLGUpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1c30sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyLG87aWYodGhpcy5zdWJQaXhlbE9wdGltaXplKXt2YXIgYT1zcyhocyxlLHRoaXMuc3R5bGUpO249YS54LGk9YS55LHI9YS53aWR0aCxvPWEuaGVpZ2h0LGEucj1lLnIsZT1hfWVsc2Ugbj1lLngsaT1lLnkscj1lLndpZHRoLG89ZS5oZWlnaHQ7ZS5yP2Z1bmN0aW9uKHQsZSl7dmFyIG4saSxyLG8sYSxzPWUueCxsPWUueSx1PWUud2lkdGgsaD1lLmhlaWdodCxjPWUucjt1PDAmJihzKz11LHU9LXUpLGg8MCYmKGwrPWgsaD0taCksIm51bWJlciI9PXR5cGVvZiBjP249aT1yPW89YzpjIGluc3RhbmNlb2YgQXJyYXk/MT09PWMubGVuZ3RoP249aT1yPW89Y1swXToyPT09Yy5sZW5ndGg/KG49cj1jWzBdLGk9bz1jWzFdKTozPT09Yy5sZW5ndGg/KG49Y1swXSxpPW89Y1sxXSxyPWNbMl0pOihuPWNbMF0saT1jWzFdLHI9Y1syXSxvPWNbM10pOm49aT1yPW89MCxuK2k+dSYmKG4qPXUvKGE9bitpKSxpKj11L2EpLHIrbz51JiYocio9dS8oYT1yK28pLG8qPXUvYSksaStyPmgmJihpKj1oLyhhPWkrcikscio9aC9hKSxuK28+aCYmKG4qPWgvKGE9bitvKSxvKj1oL2EpLHQubW92ZVRvKHMrbixsKSx0LmxpbmVUbyhzK3UtaSxsKSwwIT09aSYmdC5hcmMocyt1LWksbCtpLGksLU1hdGguUEkvMiwwKSx0LmxpbmVUbyhzK3UsbCtoLXIpLDAhPT1yJiZ0LmFyYyhzK3UtcixsK2gtcixyLDAsTWF0aC5QSS8yKSx0LmxpbmVUbyhzK28sbCtoKSwwIT09byYmdC5hcmMocytvLGwraC1vLG8sTWF0aC5QSS8yLE1hdGguUEkpLHQubGluZVRvKHMsbCtuKSwwIT09biYmdC5hcmMocytuLGwrbixuLE1hdGguUEksMS41Kk1hdGguUEkpfSh0LGUpOnQucmVjdChuLGkscixvKX0sZS5wcm90b3R5cGUuaXNaZXJvQXJlYT1mdW5jdGlvbigpe3JldHVybiF0aGlzLnNoYXBlLndpZHRofHwhdGhpcy5zaGFwZS5oZWlnaHR9LGV9KFFhKTtjcy5wcm90b3R5cGUudHlwZT0icmVjdCI7dmFyIHBzPXtmaWxsOiIjMDAwIn0sZHM9e3N0eWxlOkMoe2ZpbGw6ITAsc3Ryb2tlOiEwLGZpbGxPcGFjaXR5OiEwLHN0cm9rZU9wYWNpdHk6ITAsbGluZVdpZHRoOiEwLGZvbnRTaXplOiEwLGxpbmVIZWlnaHQ6ITAsd2lkdGg6ITAsaGVpZ2h0OiEwLHRleHRTaGFkb3dDb2xvcjohMCx0ZXh0U2hhZG93Qmx1cjohMCx0ZXh0U2hhZG93T2Zmc2V0WDohMCx0ZXh0U2hhZG93T2Zmc2V0WTohMCxiYWNrZ3JvdW5kQ29sb3I6ITAscGFkZGluZzohMCxib3JkZXJDb2xvcjohMCxib3JkZXJXaWR0aDohMCxib3JkZXJSYWRpdXM6ITB9LFNvLnN0eWxlKX0sZnM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4udHlwZT0idGV4dCIsbi5fY2hpbGRyZW49W10sbi5fZGVmYXVsdFN0eWxlPXBzLG4uYXR0cihlKSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuY2hpbGRyZW5SZWY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW59LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3QucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMpLHRoaXMuc3R5bGVDaGFuZ2VkKCkmJnRoaXMuX3VwZGF0ZVN1YlRleHRzKCk7Zm9yKHZhciBlPTA7ZTx0aGlzLl9jaGlsZHJlbi5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLl9jaGlsZHJlbltlXTtuLnpsZXZlbD10aGlzLnpsZXZlbCxuLno9dGhpcy56LG4uejI9dGhpcy56MixuLmN1bGxpbmc9dGhpcy5jdWxsaW5nLG4uY3Vyc29yPXRoaXMuY3Vyc29yLG4uaW52aXNpYmxlPXRoaXMuaW52aXNpYmxlfX0sZS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5pbm5lclRyYW5zZm9ybWFibGU7ZT8oZS51cGRhdGVUcmFuc2Zvcm0oKSxlLnRyYW5zZm9ybSYmKHRoaXMudHJhbnNmb3JtPWUudHJhbnNmb3JtKSk6dC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLmdldExvY2FsVHJhbnNmb3JtPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMuaW5uZXJUcmFuc2Zvcm1hYmxlO3JldHVybiBuP24uZ2V0TG9jYWxUcmFuc2Zvcm0oZSk6dC5wcm90b3R5cGUuZ2V0TG9jYWxUcmFuc2Zvcm0uY2FsbCh0aGlzLGUpfSxlLnByb3RvdHlwZS5nZXRDb21wdXRlZFRyYW5zZm9ybT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9faG9zdFRhcmdldCYmKHRoaXMuX19ob3N0VGFyZ2V0LmdldENvbXB1dGVkVHJhbnNmb3JtKCksdGhpcy5fX2hvc3RUYXJnZXQudXBkYXRlSW5uZXJUZXh0KCEwKSksdC5wcm90b3R5cGUuZ2V0Q29tcHV0ZWRUcmFuc2Zvcm0uY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuX3VwZGF0ZVN1YlRleHRzPWZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5fY2hpbGRDdXJzb3I9MCx2cyh0PXRoaXMuc3R5bGUpLE8odC5yaWNoLHZzKSx0aGlzLnN0eWxlLnJpY2g/dGhpcy5fdXBkYXRlUmljaFRleHRzKCk6dGhpcy5fdXBkYXRlUGxhaW5UZXh0cygpLHRoaXMuX2NoaWxkcmVuLmxlbmd0aD10aGlzLl9jaGlsZEN1cnNvcix0aGlzLnN0eWxlVXBkYXRlZCgpfSxlLnByb3RvdHlwZS5hZGRTZWxmVG9acj1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5hZGRTZWxmVG9aci5jYWxsKHRoaXMsZSk7Zm9yKHZhciBuPTA7bjx0aGlzLl9jaGlsZHJlbi5sZW5ndGg7bisrKXRoaXMuX2NoaWxkcmVuW25dLl9fenI9ZX0sZS5wcm90b3R5cGUucmVtb3ZlU2VsZkZyb21acj1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5yZW1vdmVTZWxmRnJvbVpyLmNhbGwodGhpcyxlKTtmb3IodmFyIG49MDtuPHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtuKyspdGhpcy5fY2hpbGRyZW5bbl0uX196cj1udWxsfSxlLnByb3RvdHlwZS5nZXRCb3VuZGluZ1JlY3Q9ZnVuY3Rpb24oKXtpZih0aGlzLnN0eWxlQ2hhbmdlZCgpJiZ0aGlzLl91cGRhdGVTdWJUZXh0cygpLCF0aGlzLl9yZWN0KXtmb3IodmFyIHQ9bmV3IHZpKDAsMCwwLDApLGU9dGhpcy5fY2hpbGRyZW4sbj1bXSxpPW51bGwscj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz1lW3JdLGE9by5nZXRCb3VuZGluZ1JlY3QoKSxzPW8uZ2V0TG9jYWxUcmFuc2Zvcm0obik7cz8odC5jb3B5KGEpLHQuYXBwbHlUcmFuc2Zvcm0ocyksKGk9aXx8dC5jbG9uZSgpKS51bmlvbih0KSk6KGk9aXx8YS5jbG9uZSgpKS51bmlvbihhKX10aGlzLl9yZWN0PWl8fHR9cmV0dXJuIHRoaXMuX3JlY3R9LGUucHJvdG90eXBlLnNldERlZmF1bHRUZXh0U3R5bGU9ZnVuY3Rpb24odCl7dGhpcy5fZGVmYXVsdFN0eWxlPXR8fHBzfSxlLnByb3RvdHlwZS5zZXRUZXh0Q29udGVudD1mdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoIkNhbid0IGF0dGFjaCB0ZXh0IG9uIGFub3RoZXIgdGV4dCIpfSxlLnByb3RvdHlwZS5fbWVyZ2VTdHlsZT1mdW5jdGlvbih0LGUpe2lmKCFlKXJldHVybiB0O3ZhciBuPWUucmljaCxpPXQucmljaHx8biYme307cmV0dXJuIFQodCxlKSxuJiZpPyh0aGlzLl9tZXJnZVJpY2goaSxuKSx0LnJpY2g9aSk6aSYmKHQucmljaD1pKSx0fSxlLnByb3RvdHlwZS5fbWVyZ2VSaWNoPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVYoZSksaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldO3Rbcl09dFtyXXx8e30sVCh0W3JdLGVbcl0pfX0sZS5wcm90b3R5cGUuZ2V0QW5pbWF0aW9uU3R5bGVQcm9wcz1mdW5jdGlvbigpe3JldHVybiBkc30sZS5wcm90b3R5cGUuX2dldE9yQ3JlYXRlQ2hpbGQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY2hpbGRyZW5bdGhpcy5fY2hpbGRDdXJzb3JdO3JldHVybiBlJiZlIGluc3RhbmNlb2YgdHx8KGU9bmV3IHQpLHRoaXMuX2NoaWxkcmVuW3RoaXMuX2NoaWxkQ3Vyc29yKytdPWUsZS5fX3pyPXRoaXMuX196cixlLnBhcmVudD10aGlzLGV9LGUucHJvdG90eXBlLl91cGRhdGVQbGFpblRleHRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdHlsZSxlPXQuZm9udHx8X2ksbj10LnBhZGRpbmcsaT1mdW5jdGlvbih0LGUpe251bGwhPXQmJih0Kz0iIik7dmFyIG4saT1lLm92ZXJmbG93LHI9ZS5wYWRkaW5nLG89ZS5mb250LGE9InRydW5jYXRlIj09PWkscz1UaShvKSxsPWV0KGUubGluZUhlaWdodCxzKSx1PSJ0cnVuY2F0ZSI9PT1lLmxpbmVPdmVyZmxvdyxoPWUud2lkdGgsYz0obj1udWxsIT1oJiYiYnJlYWsiPT09aXx8ImJyZWFrQWxsIj09PWk/dD94byh0LGUuZm9udCxoLCJicmVha0FsbCI9PT1pLDApLmxpbmVzOltdOnQ/dC5zcGxpdCgiXG4iKTpbXSkubGVuZ3RoKmwscD1ldChlLmhlaWdodCxjKTtpZihjPnAmJnUpe3ZhciBkPU1hdGguZmxvb3IocC9sKTtuPW4uc2xpY2UoMCxkKX12YXIgZj1wLGc9aDtpZihyJiYoZis9clswXStyWzJdLG51bGwhPWcmJihnKz1yWzFdK3JbM10pKSx0JiZhJiZudWxsIT1nKWZvcih2YXIgeT1obyhoLG8sZS5lbGxpcHNpcyx7bWluQ2hhcjplLnRydW5jYXRlTWluQ2hhcixwbGFjZWhvbGRlcjplLnBsYWNlaG9sZGVyfSksdj0wO3Y8bi5sZW5ndGg7disrKW5bdl09Y28oblt2XSx5KTtpZihudWxsPT1oKXt2YXIgbT0wO2Zvcih2PTA7djxuLmxlbmd0aDt2KyspbT1NYXRoLm1heChiaShuW3ZdLG8pLG0pO2g9bX1yZXR1cm57bGluZXM6bixoZWlnaHQ6cCxvdXRlckhlaWdodDpmLGxpbmVIZWlnaHQ6bCxjYWxjdWxhdGVkTGluZUhlaWdodDpzLGNvbnRlbnRIZWlnaHQ6Yyx3aWR0aDpofX0oYnModCksdCkscj13cyh0KSxvPSEhdC5iYWNrZ3JvdW5kQ29sb3IsYT1pLm91dGVySGVpZ2h0LHM9aS5saW5lcyxsPWkubGluZUhlaWdodCx1PXRoaXMuX2RlZmF1bHRTdHlsZSxoPXQueHx8MCxjPXQueXx8MCxwPXQuYWxpZ258fHUuYWxpZ258fCJsZWZ0IixkPXQudmVydGljYWxBbGlnbnx8dS52ZXJ0aWNhbEFsaWdufHwidG9wIixmPWgsZz1JaShjLGkuY29udGVudEhlaWdodCxkKTtpZihyfHxuKXt2YXIgeT1pLndpZHRoO24mJih5Kz1uWzFdK25bM10pO3ZhciB2PU1pKGgseSxwKSxtPUlpKGMsYSxkKTtyJiZ0aGlzLl9yZW5kZXJCYWNrZ3JvdW5kKHQsdCx2LG0seSxhKX1nKz1sLzIsbiYmKGY9eHMoaCxwLG4pLCJ0b3AiPT09ZD9nKz1uWzBdOiJib3R0b20iPT09ZCYmKGctPW5bMl0pKTtmb3IodmFyIF89MCx4PSExLGI9KF9zKCJmaWxsImluIHQ/dC5maWxsOih4PSEwLHUuZmlsbCkpKSx3PShtcygic3Ryb2tlImluIHQ/dC5zdHJva2U6b3x8dS5hdXRvU3Ryb2tlJiYheD9udWxsOihfPTIsdS5zdHJva2UpKSksUz10LnRleHRTaGFkb3dCbHVyPjAsTT1udWxsIT10LndpZHRoJiYoInRydW5jYXRlIj09PXQub3ZlcmZsb3d8fCJicmVhayI9PT10Lm92ZXJmbG93fHwiYnJlYWtBbGwiPT09dC5vdmVyZmxvdyksST1pLmNhbGN1bGF0ZWRMaW5lSGVpZ2h0LFQ9MDtUPHMubGVuZ3RoO1QrKyl7dmFyIEM9dGhpcy5fZ2V0T3JDcmVhdGVDaGlsZChlcyksRD1DLmNyZWF0ZVN0eWxlKCk7Qy51c2VTdHlsZShEKSxELnRleHQ9c1tUXSxELng9ZixELnk9ZyxwJiYoRC50ZXh0QWxpZ249cCksRC50ZXh0QmFzZWxpbmU9Im1pZGRsZSIsRC5vcGFjaXR5PXQub3BhY2l0eSxELnN0cm9rZUZpcnN0PSEwLFMmJihELnNoYWRvd0JsdXI9dC50ZXh0U2hhZG93Qmx1cnx8MCxELnNoYWRvd0NvbG9yPXQudGV4dFNoYWRvd0NvbG9yfHwidHJhbnNwYXJlbnQiLEQuc2hhZG93T2Zmc2V0WD10LnRleHRTaGFkb3dPZmZzZXRYfHwwLEQuc2hhZG93T2Zmc2V0WT10LnRleHRTaGFkb3dPZmZzZXRZfHwwKSx3JiYoRC5zdHJva2U9dyxELmxpbmVXaWR0aD10LmxpbmVXaWR0aHx8XyxELmxpbmVEYXNoPXQubGluZURhc2gsRC5saW5lRGFzaE9mZnNldD10LmxpbmVEYXNoT2Zmc2V0fHwwKSxiJiYoRC5maWxsPWIpLEQuZm9udD1lLGcrPWwsTSYmQy5zZXRCb3VuZGluZ1JlY3QobmV3IHZpKE1pKEQueCx0LndpZHRoLEQudGV4dEFsaWduKSxJaShELnksSSxELnRleHRCYXNlbGluZSksdC53aWR0aCxJKSl9fSxlLnByb3RvdHlwZS5fdXBkYXRlUmljaFRleHRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdHlsZSxlPWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IHlvO2lmKG51bGwhPXQmJih0Kz0iIiksIXQpcmV0dXJuIG47Zm9yKHZhciBpLHI9ZS53aWR0aCxvPWUuaGVpZ2h0LGE9ZS5vdmVyZmxvdyxzPSJicmVhayIhPT1hJiYiYnJlYWtBbGwiIT09YXx8bnVsbD09cj9udWxsOnt3aWR0aDpyLGFjY3VtV2lkdGg6MCxicmVha0FsbDoiYnJlYWtBbGwiPT09YX0sbD1sby5sYXN0SW5kZXg9MDtudWxsIT0oaT1sby5leGVjKHQpKTspe3ZhciB1PWkuaW5kZXg7dT5sJiZ2byhuLHQuc3Vic3RyaW5nKGwsdSksZSxzKSx2byhuLGlbMl0sZSxzLGlbMV0pLGw9bG8ubGFzdEluZGV4fWw8dC5sZW5ndGgmJnZvKG4sdC5zdWJzdHJpbmcobCx0Lmxlbmd0aCksZSxzKTt2YXIgaD1bXSxjPTAscD0wLGQ9ZS5wYWRkaW5nLGY9InRydW5jYXRlIj09PWEsZz0idHJ1bmNhdGUiPT09ZS5saW5lT3ZlcmZsb3c7ZnVuY3Rpb24geSh0LGUsbil7dC53aWR0aD1lLHQubGluZUhlaWdodD1uLGMrPW4scD1NYXRoLm1heChwLGUpfXQ6Zm9yKHZhciB2PTA7djxuLmxpbmVzLmxlbmd0aDt2Kyspe2Zvcih2YXIgbT1uLmxpbmVzW3ZdLF89MCx4PTAsYj0wO2I8bS50b2tlbnMubGVuZ3RoO2IrKyl7dmFyIHc9KFA9bS50b2tlbnNbYl0pLnN0eWxlTmFtZSYmZS5yaWNoW1Auc3R5bGVOYW1lXXx8e30sUz1QLnRleHRQYWRkaW5nPXcucGFkZGluZyxNPVM/U1sxXStTWzNdOjAsST1QLmZvbnQ9dy5mb250fHxlLmZvbnQ7UC5jb250ZW50SGVpZ2h0PVRpKEkpO3ZhciBUPWV0KHcuaGVpZ2h0LFAuY29udGVudEhlaWdodCk7aWYoUC5pbm5lckhlaWdodD1ULFMmJihUKz1TWzBdK1NbMl0pLFAuaGVpZ2h0PVQsUC5saW5lSGVpZ2h0PW50KHcubGluZUhlaWdodCxlLmxpbmVIZWlnaHQsVCksUC5hbGlnbj13JiZ3LmFsaWdufHxlLmFsaWduLFAudmVydGljYWxBbGlnbj13JiZ3LnZlcnRpY2FsQWxpZ258fCJtaWRkbGUiLGcmJm51bGwhPW8mJmMrUC5saW5lSGVpZ2h0Pm8pe2I+MD8obS50b2tlbnM9bS50b2tlbnMuc2xpY2UoMCxiKSx5KG0seCxfKSxuLmxpbmVzPW4ubGluZXMuc2xpY2UoMCx2KzEpKTpuLmxpbmVzPW4ubGluZXMuc2xpY2UoMCx2KTticmVhayB0fXZhciBDPXcud2lkdGgsRD1udWxsPT1DfHwiYXV0byI9PT1DO2lmKCJzdHJpbmciPT10eXBlb2YgQyYmIiUiPT09Qy5jaGFyQXQoQy5sZW5ndGgtMSkpUC5wZXJjZW50V2lkdGg9QyxoLnB1c2goUCksUC5jb250ZW50V2lkdGg9YmkoUC50ZXh0LEkpO2Vsc2V7aWYoRCl7dmFyIEE9dy5iYWNrZ3JvdW5kQ29sb3Isaz1BJiZBLmltYWdlO2smJnNvKGs9cm8oaykpJiYoUC53aWR0aD1NYXRoLm1heChQLndpZHRoLGsud2lkdGgqVC9rLmhlaWdodCkpfXZhciBMPWYmJm51bGwhPXI/ci14Om51bGw7bnVsbCE9TCYmTDxQLndpZHRoPyFEfHxMPE0/KFAudGV4dD0iIixQLndpZHRoPVAuY29udGVudFdpZHRoPTApOihQLnRleHQ9dW8oUC50ZXh0LEwtTSxJLGUuZWxsaXBzaXMse21pbkNoYXI6ZS50cnVuY2F0ZU1pbkNoYXJ9KSxQLndpZHRoPVAuY29udGVudFdpZHRoPWJpKFAudGV4dCxJKSk6UC5jb250ZW50V2lkdGg9YmkoUC50ZXh0LEkpfVAud2lkdGgrPU0seCs9UC53aWR0aCx3JiYoXz1NYXRoLm1heChfLFAubGluZUhlaWdodCkpfXkobSx4LF8pfWZvcihuLm91dGVyV2lkdGg9bi53aWR0aD1ldChyLHApLG4ub3V0ZXJIZWlnaHQ9bi5oZWlnaHQ9ZXQobyxjKSxuLmNvbnRlbnRIZWlnaHQ9YyxuLmNvbnRlbnRXaWR0aD1wLGQmJihuLm91dGVyV2lkdGgrPWRbMV0rZFszXSxuLm91dGVySGVpZ2h0Kz1kWzBdK2RbMl0pLHY9MDt2PGgubGVuZ3RoO3YrKyl7dmFyIFAsTz0oUD1oW3ZdKS5wZXJjZW50V2lkdGg7UC53aWR0aD1wYXJzZUludChPLDEwKS8xMDAqbi53aWR0aH1yZXR1cm4gbn0oYnModCksdCksbj1lLndpZHRoLGk9ZS5vdXRlcldpZHRoLHI9ZS5vdXRlckhlaWdodCxvPXQucGFkZGluZyxhPXQueHx8MCxzPXQueXx8MCxsPXRoaXMuX2RlZmF1bHRTdHlsZSx1PXQuYWxpZ258fGwuYWxpZ24saD10LnZlcnRpY2FsQWxpZ258fGwudmVydGljYWxBbGlnbixjPU1pKGEsaSx1KSxwPUlpKHMscixoKSxkPWMsZj1wO28mJihkKz1vWzNdLGYrPW9bMF0pO3ZhciBnPWQrbjt3cyh0KSYmdGhpcy5fcmVuZGVyQmFja2dyb3VuZCh0LHQsYyxwLGkscik7Zm9yKHZhciB5PSEhdC5iYWNrZ3JvdW5kQ29sb3Isdj0wO3Y8ZS5saW5lcy5sZW5ndGg7disrKXtmb3IodmFyIG09ZS5saW5lc1t2XSxfPW0udG9rZW5zLHg9Xy5sZW5ndGgsYj1tLmxpbmVIZWlnaHQsdz1tLndpZHRoLFM9MCxNPWQsST1nLFQ9eC0xLEM9dm9pZCAwO1M8eCYmKCEoQz1fW1NdKS5hbGlnbnx8ImxlZnQiPT09Qy5hbGlnbik7KXRoaXMuX3BsYWNlVG9rZW4oQyx0LGIsZixNLCJsZWZ0Iix5KSx3LT1DLndpZHRoLE0rPUMud2lkdGgsUysrO2Zvcig7VD49MCYmInJpZ2h0Ij09PShDPV9bVF0pLmFsaWduOyl0aGlzLl9wbGFjZVRva2VuKEMsdCxiLGYsSSwicmlnaHQiLHkpLHctPUMud2lkdGgsSS09Qy53aWR0aCxULS07Zm9yKE0rPShuLShNLWQpLShnLUkpLXcpLzI7Uzw9VDspQz1fW1NdLHRoaXMuX3BsYWNlVG9rZW4oQyx0LGIsZixNK0Mud2lkdGgvMiwiY2VudGVyIix5KSxNKz1DLndpZHRoLFMrKztmKz1ifX0sZS5wcm90b3R5cGUuX3BsYWNlVG9rZW49ZnVuY3Rpb24odCxlLG4saSxyLG8sYSl7dmFyIHM9ZS5yaWNoW3Quc3R5bGVOYW1lXXx8e307cy50ZXh0PXQudGV4dDt2YXIgbD10LnZlcnRpY2FsQWxpZ24sdT1pK24vMjsidG9wIj09PWw/dT1pK3QuaGVpZ2h0LzI6ImJvdHRvbSI9PT1sJiYodT1pK24tdC5oZWlnaHQvMiksIXQuaXNMaW5lSG9sZGVyJiZ3cyhzKSYmdGhpcy5fcmVuZGVyQmFja2dyb3VuZChzLGUsInJpZ2h0Ij09PW8/ci10LndpZHRoOiJjZW50ZXIiPT09bz9yLXQud2lkdGgvMjpyLHUtdC5oZWlnaHQvMix0LndpZHRoLHQuaGVpZ2h0KTt2YXIgaD0hIXMuYmFja2dyb3VuZENvbG9yLGM9dC50ZXh0UGFkZGluZztjJiYocj14cyhyLG8sYyksdS09dC5oZWlnaHQvMi1jWzBdLXQuaW5uZXJIZWlnaHQvMik7dmFyIHA9dGhpcy5fZ2V0T3JDcmVhdGVDaGlsZChlcyksZD1wLmNyZWF0ZVN0eWxlKCk7cC51c2VTdHlsZShkKTt2YXIgZj10aGlzLl9kZWZhdWx0U3R5bGUsZz0hMSx5PTAsdj1fcygiZmlsbCJpbiBzP3MuZmlsbDoiZmlsbCJpbiBlP2UuZmlsbDooZz0hMCxmLmZpbGwpKSxtPW1zKCJzdHJva2UiaW4gcz9zLnN0cm9rZToic3Ryb2tlImluIGU/ZS5zdHJva2U6aHx8YXx8Zi5hdXRvU3Ryb2tlJiYhZz9udWxsOih5PTIsZi5zdHJva2UpKSxfPXMudGV4dFNoYWRvd0JsdXI+MHx8ZS50ZXh0U2hhZG93Qmx1cj4wO2QudGV4dD10LnRleHQsZC54PXIsZC55PXUsXyYmKGQuc2hhZG93Qmx1cj1zLnRleHRTaGFkb3dCbHVyfHxlLnRleHRTaGFkb3dCbHVyfHwwLGQuc2hhZG93Q29sb3I9cy50ZXh0U2hhZG93Q29sb3J8fGUudGV4dFNoYWRvd0NvbG9yfHwidHJhbnNwYXJlbnQiLGQuc2hhZG93T2Zmc2V0WD1zLnRleHRTaGFkb3dPZmZzZXRYfHxlLnRleHRTaGFkb3dPZmZzZXRYfHwwLGQuc2hhZG93T2Zmc2V0WT1zLnRleHRTaGFkb3dPZmZzZXRZfHxlLnRleHRTaGFkb3dPZmZzZXRZfHwwKSxkLnRleHRBbGlnbj1vLGQudGV4dEJhc2VsaW5lPSJtaWRkbGUiLGQuZm9udD10LmZvbnR8fF9pLGQub3BhY2l0eT1udChzLm9wYWNpdHksZS5vcGFjaXR5LDEpLG0mJihkLmxpbmVXaWR0aD1udChzLmxpbmVXaWR0aCxlLmxpbmVXaWR0aCx5KSxkLmxpbmVEYXNoPWV0KHMubGluZURhc2gsZS5saW5lRGFzaCksZC5saW5lRGFzaE9mZnNldD1lLmxpbmVEYXNoT2Zmc2V0fHwwLGQuc3Ryb2tlPW0pLHYmJihkLmZpbGw9dik7dmFyIHg9dC5jb250ZW50V2lkdGgsYj10LmNvbnRlbnRIZWlnaHQ7cC5zZXRCb3VuZGluZ1JlY3QobmV3IHZpKE1pKGQueCx4LGQudGV4dEFsaWduKSxJaShkLnksYixkLnRleHRCYXNlbGluZSkseCxiKSl9LGUucHJvdG90eXBlLl9yZW5kZXJCYWNrZ3JvdW5kPWZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYSxzLGwsdT10LmJhY2tncm91bmRDb2xvcixoPXQuYm9yZGVyV2lkdGgsYz10LmJvcmRlckNvbG9yLHA9dSYmdS5pbWFnZSxkPXUmJiFwLGY9dC5ib3JkZXJSYWRpdXMsZz10aGlzO2lmKGR8fHQubGluZUhlaWdodHx8aCYmYyl7KGE9dGhpcy5fZ2V0T3JDcmVhdGVDaGlsZChjcykpLnVzZVN0eWxlKGEuY3JlYXRlU3R5bGUoKSksYS5zdHlsZS5maWxsPW51bGw7dmFyIHk9YS5zaGFwZTt5Lng9bix5Lnk9aSx5LndpZHRoPXIseS5oZWlnaHQ9byx5LnI9ZixhLmRpcnR5U2hhcGUoKX1pZihkKShsPWEuc3R5bGUpLmZpbGw9dXx8bnVsbCxsLmZpbGxPcGFjaXR5PWV0KHQuZmlsbE9wYWNpdHksMSk7ZWxzZSBpZihwKXsocz10aGlzLl9nZXRPckNyZWF0ZUNoaWxkKHJzKSkub25sb2FkPWZ1bmN0aW9uKCl7Zy5kaXJ0eVN0eWxlKCl9O3ZhciB2PXMuc3R5bGU7di5pbWFnZT11LmltYWdlLHYueD1uLHYueT1pLHYud2lkdGg9cix2LmhlaWdodD1vfWgmJmMmJigobD1hLnN0eWxlKS5saW5lV2lkdGg9aCxsLnN0cm9rZT1jLGwuc3Ryb2tlT3BhY2l0eT1ldCh0LnN0cm9rZU9wYWNpdHksMSksbC5saW5lRGFzaD10LmJvcmRlckRhc2gsbC5saW5lRGFzaE9mZnNldD10LmJvcmRlckRhc2hPZmZzZXR8fDAsYS5zdHJva2VDb250YWluVGhyZXNob2xkPTAsYS5oYXNGaWxsKCkmJmEuaGFzU3Ryb2tlKCkmJihsLnN0cm9rZUZpcnN0PSEwLGwubGluZVdpZHRoKj0yKSk7dmFyIG09KGF8fHMpLnN0eWxlO20uc2hhZG93Qmx1cj10LnNoYWRvd0JsdXJ8fDAsbS5zaGFkb3dDb2xvcj10LnNoYWRvd0NvbG9yfHwidHJhbnNwYXJlbnQiLG0uc2hhZG93T2Zmc2V0WD10LnNoYWRvd09mZnNldFh8fDAsbS5zaGFkb3dPZmZzZXRZPXQuc2hhZG93T2Zmc2V0WXx8MCxtLm9wYWNpdHk9bnQodC5vcGFjaXR5LGUub3BhY2l0eSwxKX0sZS5tYWtlRm9udD1mdW5jdGlvbih0KXt2YXIgZT0iIjtpZih0LmZvbnRTaXplfHx0LmZvbnRGYW1pbHl8fHQuZm9udFdlaWdodCl7dmFyIG49IiI7bj0ic3RyaW5nIiE9dHlwZW9mIHQuZm9udFNpemV8fC0xPT09dC5mb250U2l6ZS5pbmRleE9mKCJweCIpJiYtMT09PXQuZm9udFNpemUuaW5kZXhPZigicmVtIikmJi0xPT09dC5mb250U2l6ZS5pbmRleE9mKCJlbSIpP2lzTmFOKCt0LmZvbnRTaXplKT8iMTJweCI6dC5mb250U2l6ZSsicHgiOnQuZm9udFNpemUsZT1bdC5mb250U3R5bGUsdC5mb250V2VpZ2h0LG4sdC5mb250RmFtaWx5fHwic2Fucy1zZXJpZiJdLmpvaW4oIiAiKX1yZXR1cm4gZSYmYXQoZSl8fHQudGV4dEZvbnR8fHQuZm9udH0sZX0oVG8pLGdzPXtsZWZ0OiEwLHJpZ2h0OjEsY2VudGVyOjF9LHlzPXt0b3A6MSxib3R0b206MSxtaWRkbGU6MX07ZnVuY3Rpb24gdnModCl7aWYodCl7dC5mb250PWZzLm1ha2VGb250KHQpO3ZhciBlPXQuYWxpZ247Im1pZGRsZSI9PT1lJiYoZT0iY2VudGVyIiksdC5hbGlnbj1udWxsPT1lfHxnc1tlXT9lOiJsZWZ0Ijt2YXIgbj10LnZlcnRpY2FsQWxpZ247ImNlbnRlciI9PT1uJiYobj0ibWlkZGxlIiksdC52ZXJ0aWNhbEFsaWduPW51bGw9PW58fHlzW25dP246InRvcCIsdC5wYWRkaW5nJiYodC5wYWRkaW5nPXJ0KHQucGFkZGluZykpfX1mdW5jdGlvbiBtcyh0LGUpe3JldHVybiBudWxsPT10fHxlPD0wfHwidHJhbnNwYXJlbnQiPT09dHx8Im5vbmUiPT09dD9udWxsOnQuaW1hZ2V8fHQuY29sb3JTdG9wcz8iIzAwMCI6dH1mdW5jdGlvbiBfcyh0KXtyZXR1cm4gbnVsbD09dHx8Im5vbmUiPT09dD9udWxsOnQuaW1hZ2V8fHQuY29sb3JTdG9wcz8iIzAwMCI6dH1mdW5jdGlvbiB4cyh0LGUsbil7cmV0dXJuInJpZ2h0Ij09PWU/dC1uWzFdOiJjZW50ZXIiPT09ZT90K25bM10vMi1uWzFdLzI6dCtuWzNdfWZ1bmN0aW9uIGJzKHQpe3ZhciBlPXQudGV4dDtyZXR1cm4gbnVsbCE9ZSYmKGUrPSIiKSxlfWZ1bmN0aW9uIHdzKHQpe3JldHVybiEhKHQuYmFja2dyb3VuZENvbG9yfHx0LmxpbmVIZWlnaHR8fHQuYm9yZGVyV2lkdGgmJnQuYm9yZGVyQ29sb3IpfXZhciBTcz1ScigpLE1zPWZ1bmN0aW9uKHQsZSxuLGkpe2lmKGkpe3ZhciByPVNzKGkpO3IuZGF0YUluZGV4PW4sci5kYXRhVHlwZT1lLHIuc2VyaWVzSW5kZXg9dCwiZ3JvdXAiPT09aS50eXBlJiZpLnRyYXZlcnNlKChmdW5jdGlvbihpKXt2YXIgcj1TcyhpKTtyLnNlcmllc0luZGV4PXQsci5kYXRhSW5kZXg9bixyLmRhdGFUeXBlPWV9KSl9fSxJcz0xLFRzPXt9LENzPVJyKCksRHM9WyJlbXBoYXNpcyIsImJsdXIiLCJzZWxlY3QiXSxBcz1bIm5vcm1hbCIsImVtcGhhc2lzIiwiYmx1ciIsInNlbGVjdCJdLGtzPTEwLExzPSJoaWdobGlnaHQiLFBzPSJkb3ducGxheSIsT3M9InNlbGVjdCIsUnM9InVuc2VsZWN0IixOcz0idG9nZ2xlU2VsZWN0IjtmdW5jdGlvbiB6cyh0KXtyZXR1cm4gbnVsbCE9dCYmIm5vbmUiIT09dH12YXIgRXM9bmV3IGtlKDEwMCk7ZnVuY3Rpb24gVnModCl7aWYoInN0cmluZyIhPXR5cGVvZiB0KXJldHVybiB0O3ZhciBlPUVzLmdldCh0KTtyZXR1cm4gZXx8KGU9WGUodCwtLjEpLEVzLnB1dCh0LGUpKSxlfWZ1bmN0aW9uIEJzKHQsZSxuKXt0Lm9uSG92ZXJTdGF0ZUNoYW5nZSYmKHQuaG92ZXJTdGF0ZXx8MCkhPT1uJiZ0Lm9uSG92ZXJTdGF0ZUNoYW5nZShlKSx0LmhvdmVyU3RhdGU9bn1mdW5jdGlvbiBHcyh0KXtCcyh0LCJlbXBoYXNpcyIsMil9ZnVuY3Rpb24gRnModCl7Mj09PXQuaG92ZXJTdGF0ZSYmQnModCwibm9ybWFsIiwwKX1mdW5jdGlvbiBIcyh0KXtCcyh0LCJibHVyIiwxKX1mdW5jdGlvbiBXcyh0KXsxPT09dC5ob3ZlclN0YXRlJiZCcyh0LCJub3JtYWwiLDApfWZ1bmN0aW9uIFVzKHQpe3Quc2VsZWN0ZWQ9ITB9ZnVuY3Rpb24gWHModCl7dC5zZWxlY3RlZD0hMX1mdW5jdGlvbiBZcyh0LGUsbil7ZSh0LG4pfWZ1bmN0aW9uIFpzKHQsZSxuKXtZcyh0LGUsbiksdC5pc0dyb3VwJiZ0LnRyYXZlcnNlKChmdW5jdGlvbih0KXtZcyh0LGUsbil9KSl9ZnVuY3Rpb24ganModCxlKXtzd2l0Y2goZSl7Y2FzZSJlbXBoYXNpcyI6dC5ob3ZlclN0YXRlPTI7YnJlYWs7Y2FzZSJub3JtYWwiOnQuaG92ZXJTdGF0ZT0wO2JyZWFrO2Nhc2UiYmx1ciI6dC5ob3ZlclN0YXRlPTE7YnJlYWs7Y2FzZSJzZWxlY3QiOnQuc2VsZWN0ZWQ9ITB9fWZ1bmN0aW9uIHFzKHQsZSl7dmFyIG49dGhpcy5zdGF0ZXNbdF07aWYodGhpcy5zdHlsZSl7aWYoImVtcGhhc2lzIj09PXQpcmV0dXJuIGZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPW4mJkEobiwic2VsZWN0Iik+PTAsbz0hMTtpZih0IGluc3RhbmNlb2YgUWEpe3ZhciBhPUNzKHQpLHM9ciYmYS5zZWxlY3RGaWxsfHxhLm5vcm1hbEZpbGwsbD1yJiZhLnNlbGVjdFN0cm9rZXx8YS5ub3JtYWxTdHJva2U7aWYoenMocyl8fHpzKGwpKXt2YXIgdT0oaT1pfHx7fSkuc3R5bGV8fHt9OyJpbmhlcml0Ij09PXUuZmlsbD8obz0hMCxpPVQoe30saSksKHU9VCh7fSx1KSkuZmlsbD1zKTohenModS5maWxsKSYmenMocyk/KG89ITAsaT1UKHt9LGkpLCh1PVQoe30sdSkpLmZpbGw9VnMocykpOiF6cyh1LnN0cm9rZSkmJnpzKGwpJiYob3x8KGk9VCh7fSxpKSx1PVQoe30sdSkpLHUuc3Ryb2tlPVZzKGwpKSxpLnN0eWxlPXV9fWlmKGkmJm51bGw9PWkuejIpe298fChpPVQoe30saSkpO3ZhciBoPXQuejJFbXBoYXNpc0xpZnQ7aS56Mj10LnoyKyhudWxsIT1oP2g6a3MpfXJldHVybiBpfSh0aGlzLDAsZSxuKTtpZigiYmx1ciI9PT10KXJldHVybiBmdW5jdGlvbih0LGUsbil7dmFyIGk9QSh0LmN1cnJlbnRTdGF0ZXMsZSk+PTAscj10LnN0eWxlLm9wYWNpdHksbz1pP251bGw6ZnVuY3Rpb24odCxlLG4saSl7Zm9yKHZhciByPXQuc3R5bGUsbz17fSxhPTA7YTxlLmxlbmd0aDthKyspe3ZhciBzPWVbYV0sbD1yW3NdO29bc109bnVsbD09bD9pJiZpW3NdOmx9Zm9yKGE9MDthPHQuYW5pbWF0b3JzLmxlbmd0aDthKyspe3ZhciB1PXQuYW5pbWF0b3JzW2FdO3UuX19mcm9tU3RhdGVUcmFuc2l0aW9uJiZ1Ll9fZnJvbVN0YXRlVHJhbnNpdGlvbi5pbmRleE9mKG4pPDAmJiJzdHlsZSI9PT11LnRhcmdldE5hbWUmJnUuc2F2ZUZpbmFsVG9UYXJnZXQobyxlKX1yZXR1cm4gb30odCxbIm9wYWNpdHkiXSxlLHtvcGFjaXR5OjF9KSxhPShuPW58fHt9KS5zdHlsZXx8e307cmV0dXJuIG51bGw9PWEub3BhY2l0eSYmKG49VCh7fSxuKSxhPVQoe29wYWNpdHk6aT9yOi4xKm8ub3BhY2l0eX0sYSksbi5zdHlsZT1hKSxufSh0aGlzLHQsbik7aWYoInNlbGVjdCI9PT10KXJldHVybiBmdW5jdGlvbih0LGUsbil7aWYobiYmbnVsbD09bi56Mil7bj1UKHt9LG4pO3ZhciBpPXQuejJTZWxlY3RMaWZ0O24uejI9dC56MisobnVsbCE9aT9pOjkpfXJldHVybiBufSh0aGlzLDAsbil9cmV0dXJuIG59ZnVuY3Rpb24gS3ModCl7dC5zdGF0ZVByb3h5PXFzO3ZhciBlPXQuZ2V0VGV4dENvbnRlbnQoKSxuPXQuZ2V0VGV4dEd1aWRlTGluZSgpO2UmJihlLnN0YXRlUHJveHk9cXMpLG4mJihuLnN0YXRlUHJveHk9cXMpfWZ1bmN0aW9uICRzKHQsZSl7IW9sKHQsZSkmJiF0Ll9faGlnaEJ5T3V0ZXImJlpzKHQsR3MpfWZ1bmN0aW9uIEpzKHQsZSl7IW9sKHQsZSkmJiF0Ll9faGlnaEJ5T3V0ZXImJlpzKHQsRnMpfWZ1bmN0aW9uIFFzKHQsZSl7dC5fX2hpZ2hCeU91dGVyfD0xPDwoZXx8MCksWnModCxHcyl9ZnVuY3Rpb24gdGwodCxlKXshKHQuX19oaWdoQnlPdXRlciY9figxPDwoZXx8MCkpKSYmWnModCxGcyl9ZnVuY3Rpb24gZWwodCl7WnModCxIcyl9ZnVuY3Rpb24gbmwodCl7WnModCxXcyl9ZnVuY3Rpb24gaWwodCl7WnModCxVcyl9ZnVuY3Rpb24gcmwodCl7WnModCxYcyl9ZnVuY3Rpb24gb2wodCxlKXtyZXR1cm4gdC5fX2hpZ2hEb3duU2lsZW50T25Ub3VjaCYmZS56ckJ5VG91Y2h9ZnVuY3Rpb24gYWwodCl7dC5nZXRNb2RlbCgpLmVhY2hDb21wb25lbnQoKGZ1bmN0aW9uKGUsbil7KCJzZXJpZXMiPT09ZT90LmdldFZpZXdPZlNlcmllc01vZGVsKG4pOnQuZ2V0Vmlld09mQ29tcG9uZW50TW9kZWwobikpLmdyb3VwLnRyYXZlcnNlKChmdW5jdGlvbih0KXtXcyh0KX0pKX0pKX1mdW5jdGlvbiBzbCh0LGUsbixpKXt2YXIgcj1pLmdldE1vZGVsKCk7ZnVuY3Rpb24gbyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT10LmdldEl0ZW1HcmFwaGljRWwoZVtuXSk7aSYmbmwoaSl9fWlmKG49bnx8ImNvb3JkaW5hdGVTeXN0ZW0iLG51bGwhPXQmJmUmJiJub25lIiE9PWUpe3ZhciBhPXIuZ2V0U2VyaWVzQnlJbmRleCh0KSxzPWEuY29vcmRpbmF0ZVN5c3RlbTtzJiZzLm1hc3RlciYmKHM9cy5tYXN0ZXIpO3ZhciBsPVtdO3IuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7dmFyIHI9YT09PXQsdT10LmNvb3JkaW5hdGVTeXN0ZW07aWYodSYmdS5tYXN0ZXImJih1PXUubWFzdGVyKSwhKCJzZXJpZXMiPT09biYmIXJ8fCJjb29yZGluYXRlU3lzdGVtIj09PW4mJiEodSYmcz91PT09czpyKXx8InNlcmllcyI9PT1lJiZyKSl7aWYoaS5nZXRWaWV3T2ZTZXJpZXNNb2RlbCh0KS5ncm91cC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7SHModCl9KSksUChlKSlvKHQuZ2V0RGF0YSgpLGUpO2Vsc2UgaWYoWShlKSlmb3IodmFyIGg9VihlKSxjPTA7YzxoLmxlbmd0aDtjKyspbyh0LmdldERhdGEoaFtjXSksZVtoW2NdXSk7bC5wdXNoKHQpfX0pKSxyLmVhY2hDb21wb25lbnQoKGZ1bmN0aW9uKHQsZSl7aWYoInNlcmllcyIhPT10KXt2YXIgbj1pLmdldFZpZXdPZkNvbXBvbmVudE1vZGVsKGUpO24mJm4uYmx1clNlcmllcyYmbi5ibHVyU2VyaWVzKGwscil9fSkpfX1mdW5jdGlvbiBsbCh0LGUsbil7aWYobnVsbCE9dCYmbnVsbCE9ZSl7dmFyIGk9bi5nZXRNb2RlbCgpLmdldENvbXBvbmVudCh0LGUpO2lmKGkpe3ZhciByPW4uZ2V0Vmlld09mQ29tcG9uZW50TW9kZWwoaSk7ciYmci5mb2N1c0JsdXJFbmFibGVkJiZyLmdyb3VwLnRyYXZlcnNlKChmdW5jdGlvbih0KXtIcyh0KX0pKX19fWZ1bmN0aW9uIHVsKHQsZSxuLGkpe3ZhciByPXtmb2N1c1NlbGY6ITEsZGlzcGF0Y2hlcnM6bnVsbH07aWYobnVsbD09dHx8InNlcmllcyI9PT10fHxudWxsPT1lfHxudWxsPT1uKXJldHVybiByO3ZhciBvPWkuZ2V0TW9kZWwoKS5nZXRDb21wb25lbnQodCxlKTtpZighbylyZXR1cm4gcjt2YXIgYT1pLmdldFZpZXdPZkNvbXBvbmVudE1vZGVsKG8pO2lmKCFhfHwhYS5maW5kSGlnaERvd25EaXNwYXRjaGVycylyZXR1cm4gcjtmb3IodmFyIHMsbD1hLmZpbmRIaWdoRG93bkRpc3BhdGNoZXJzKG4pLHU9MDt1PGwubGVuZ3RoO3UrKylpZigic2VsZiI9PT1TcyhsW3VdKS5mb2N1cyl7cz0hMDticmVha31yZXR1cm57Zm9jdXNTZWxmOnMsZGlzcGF0Y2hlcnM6bH19ZnVuY3Rpb24gaGwodCl7Tyh0LmdldEFsbERhdGEoKSwoZnVuY3Rpb24oZSl7dmFyIG49ZS5kYXRhLGk9ZS50eXBlO24uZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKGUsbil7dC5pc1NlbGVjdGVkKG4saSk/aWwoZSk6cmwoZSl9KSl9KSl9ZnVuY3Rpb24gY2wodCl7dmFyIGU9W107cmV0dXJuIHQuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7Tyh0LmdldEFsbERhdGEoKSwoZnVuY3Rpb24obil7bi5kYXRhO3ZhciBpPW4udHlwZSxyPXQuZ2V0U2VsZWN0ZWREYXRhSW5kaWNlcygpO2lmKHIubGVuZ3RoPjApe3ZhciBvPXtkYXRhSW5kZXg6cixzZXJpZXNJbmRleDp0LnNlcmllc0luZGV4fTtudWxsIT1pJiYoby5kYXRhVHlwZT1pKSxlLnB1c2gobyl9fSkpfSkpLGV9ZnVuY3Rpb24gcGwodCxlLG4pe3ZsKHQsITApLFpzKHQsS3MpLGRsKHQsZSxuKX1mdW5jdGlvbiBkbCh0LGUsbil7dmFyIGk9U3ModCk7bnVsbCE9ZT8oaS5mb2N1cz1lLGkuYmx1clNjb3BlPW4pOmkuZm9jdXMmJihpLmZvY3VzPW51bGwpfXZhciBmbD1bImVtcGhhc2lzIiwiYmx1ciIsInNlbGVjdCJdLGdsPXtpdGVtU3R5bGU6ImdldEl0ZW1TdHlsZSIsbGluZVN0eWxlOiJnZXRMaW5lU3R5bGUiLGFyZWFTdHlsZToiZ2V0QXJlYVN0eWxlIn07ZnVuY3Rpb24geWwodCxlLG4saSl7bj1ufHwiaXRlbVN0eWxlIjtmb3IodmFyIHI9MDtyPGZsLmxlbmd0aDtyKyspe3ZhciBvPWZsW3JdLGE9ZS5nZXRNb2RlbChbbyxuXSk7dC5lbnN1cmVTdGF0ZShvKS5zdHlsZT1pP2koYSk6YVtnbFtuXV0oKX19ZnVuY3Rpb24gdmwodCxlKXt2YXIgbj0hMT09PWUsaT10O3QuaGlnaERvd25TaWxlbnRPblRvdWNoJiYoaS5fX2hpZ2hEb3duU2lsZW50T25Ub3VjaD10LmhpZ2hEb3duU2lsZW50T25Ub3VjaCksbiYmIWkuX19oaWdoRG93bkRpc3BhdGNoZXJ8fChpLl9faGlnaEJ5T3V0ZXI9aS5fX2hpZ2hCeU91dGVyfHwwLGkuX19oaWdoRG93bkRpc3BhdGNoZXI9IW4pfWZ1bmN0aW9uIG1sKHQpe3JldHVybiEoIXR8fCF0Ll9faGlnaERvd25EaXNwYXRjaGVyKX1mdW5jdGlvbiBfbCh0KXt2YXIgZT10LnR5cGU7cmV0dXJuIGU9PT1Pc3x8ZT09PVJzfHxlPT09TnN9ZnVuY3Rpb24geGwodCl7dmFyIGU9dC50eXBlO3JldHVybiBlPT09THN8fGU9PT1Qc312YXIgYmw9T2EuQ01ELHdsPVtbXSxbXSxbXV0sU2w9TWF0aC5zcXJ0LE1sPU1hdGguYXRhbjI7ZnVuY3Rpb24gSWwodCxlKXtpZihlKXt2YXIgbixpLHIsbyxhLHMsbD10LmRhdGEsdT10LmxlbigpLGg9YmwuTSxjPWJsLkMscD1ibC5MLGQ9YmwuUixmPWJsLkEsZz1ibC5RO2ZvcihyPTAsbz0wO3I8dTspe3N3aXRjaChuPWxbcisrXSxvPXIsaT0wLG4pe2Nhc2UgaDpjYXNlIHA6aT0xO2JyZWFrO2Nhc2UgYzppPTM7YnJlYWs7Y2FzZSBnOmk9MjticmVhaztjYXNlIGY6dmFyIHk9ZVs0XSx2PWVbNV0sbT1TbChlWzBdKmVbMF0rZVsxXSplWzFdKSxfPVNsKGVbMl0qZVsyXStlWzNdKmVbM10pLHg9TWwoLWVbMV0vXyxlWzBdL20pO2xbcl0qPW0sbFtyKytdKz15LGxbcl0qPV8sbFtyKytdKz12LGxbcisrXSo9bSxsW3IrK10qPV8sbFtyKytdKz14LGxbcisrXSs9eCxvPXIrPTI7YnJlYWs7Y2FzZSBkOnNbMF09bFtyKytdLHNbMV09bFtyKytdLE50KHMscyxlKSxsW28rK109c1swXSxsW28rK109c1sxXSxzWzBdKz1sW3IrK10sc1sxXSs9bFtyKytdLE50KHMscyxlKSxsW28rK109c1swXSxsW28rK109c1sxXX1mb3IoYT0wO2E8aTthKyspe3ZhciBiPXdsW2FdO2JbMF09bFtyKytdLGJbMV09bFtyKytdLE50KGIsYixlKSxsW28rK109YlswXSxsW28rK109YlsxXX19dC5pbmNyZWFzZVZlcnNpb24oKX19dmFyIFRsPU1hdGguc3FydCxDbD1NYXRoLnNpbixEbD1NYXRoLmNvcyxBbD1NYXRoLlBJO2Z1bmN0aW9uIGtsKHQpe3JldHVybiBNYXRoLnNxcnQodFswXSp0WzBdK3RbMV0qdFsxXSl9ZnVuY3Rpb24gTGwodCxlKXtyZXR1cm4odFswXSplWzBdK3RbMV0qZVsxXSkvKGtsKHQpKmtsKGUpKX1mdW5jdGlvbiBQbCh0LGUpe3JldHVybih0WzBdKmVbMV08dFsxXSplWzBdPy0xOjEpKk1hdGguYWNvcyhMbCh0LGUpKX1mdW5jdGlvbiBPbCh0LGUsbixpLHIsbyxhLHMsbCx1LGgpe3ZhciBjPWwqKEFsLzE4MCkscD1EbChjKSoodC1uKS8yK0NsKGMpKihlLWkpLzIsZD0tMSpDbChjKSoodC1uKS8yK0RsKGMpKihlLWkpLzIsZj1wKnAvKGEqYSkrZCpkLyhzKnMpO2Y+MSYmKGEqPVRsKGYpLHMqPVRsKGYpKTt2YXIgZz0ocj09PW8/LTE6MSkqVGwoKGEqYSoocypzKS1hKmEqKGQqZCktcypzKihwKnApKS8oYSphKihkKmQpK3MqcyoocCpwKSkpfHwwLHk9ZyphKmQvcyx2PWcqLXMqcC9hLG09KHQrbikvMitEbChjKSp5LUNsKGMpKnYsXz0oZStpKS8yK0NsKGMpKnkrRGwoYykqdix4PVBsKFsxLDBdLFsocC15KS9hLChkLXYpL3NdKSxiPVsocC15KS9hLChkLXYpL3NdLHc9WygtMSpwLXkpL2EsKC0xKmQtdikvc10sUz1QbChiLHcpO2lmKExsKGIsdyk8PS0xJiYoUz1BbCksTGwoYix3KT49MSYmKFM9MCksUzwwKXt2YXIgTT1NYXRoLnJvdW5kKFMvQWwqMWU2KS8xZTY7Uz0yKkFsK00lMipBbH1oLmFkZERhdGEodSxtLF8sYSxzLHgsUyxjLG8pfXZhciBSbD0vKFttbHZoemNxdHNhXSkoW15tbHZoemNxdHNhXSopL2dpLE5sPS8tPyhbMC05XSpcLik/WzAtOV0rKFtlRV0tP1swLTldKyk/L2c7dmFyIHpsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuYXBwbHlUcmFuc2Zvcm09ZnVuY3Rpb24odCl7fSxlfShRYSk7ZnVuY3Rpb24gRWwodCl7cmV0dXJuIG51bGwhPXQuc2V0RGF0YX1mdW5jdGlvbiBWbCh0LGUpe3ZhciBuPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBPYTtpZighdClyZXR1cm4gZTt2YXIgbixpPTAscj0wLG89aSxhPXIscz1PYS5DTUQsbD10Lm1hdGNoKFJsKTtpZighbClyZXR1cm4gZTtmb3IodmFyIHU9MDt1PGwubGVuZ3RoO3UrKyl7Zm9yKHZhciBoPWxbdV0sYz1oLmNoYXJBdCgwKSxwPXZvaWQgMCxkPWgubWF0Y2goTmwpfHxbXSxmPWQubGVuZ3RoLGc9MDtnPGY7ZysrKWRbZ109cGFyc2VGbG9hdChkW2ddKTtmb3IodmFyIHk9MDt5PGY7KXt2YXIgdj12b2lkIDAsbT12b2lkIDAsXz12b2lkIDAseD12b2lkIDAsYj12b2lkIDAsdz12b2lkIDAsUz12b2lkIDAsTT1pLEk9cixUPXZvaWQgMCxDPXZvaWQgMDtzd2l0Y2goYyl7Y2FzZSJsIjppKz1kW3krK10scis9ZFt5KytdLHA9cy5MLGUuYWRkRGF0YShwLGkscik7YnJlYWs7Y2FzZSJMIjppPWRbeSsrXSxyPWRbeSsrXSxwPXMuTCxlLmFkZERhdGEocCxpLHIpO2JyZWFrO2Nhc2UibSI6aSs9ZFt5KytdLHIrPWRbeSsrXSxwPXMuTSxlLmFkZERhdGEocCxpLHIpLG89aSxhPXIsYz0ibCI7YnJlYWs7Y2FzZSJNIjppPWRbeSsrXSxyPWRbeSsrXSxwPXMuTSxlLmFkZERhdGEocCxpLHIpLG89aSxhPXIsYz0iTCI7YnJlYWs7Y2FzZSJoIjppKz1kW3krK10scD1zLkwsZS5hZGREYXRhKHAsaSxyKTticmVhaztjYXNlIkgiOmk9ZFt5KytdLHA9cy5MLGUuYWRkRGF0YShwLGkscik7YnJlYWs7Y2FzZSJ2IjpyKz1kW3krK10scD1zLkwsZS5hZGREYXRhKHAsaSxyKTticmVhaztjYXNlIlYiOnI9ZFt5KytdLHA9cy5MLGUuYWRkRGF0YShwLGkscik7YnJlYWs7Y2FzZSJDIjpwPXMuQyxlLmFkZERhdGEocCxkW3krK10sZFt5KytdLGRbeSsrXSxkW3krK10sZFt5KytdLGRbeSsrXSksaT1kW3ktMl0scj1kW3ktMV07YnJlYWs7Y2FzZSJjIjpwPXMuQyxlLmFkZERhdGEocCxkW3krK10raSxkW3krK10rcixkW3krK10raSxkW3krK10rcixkW3krK10raSxkW3krK10rciksaSs9ZFt5LTJdLHIrPWRbeS0xXTticmVhaztjYXNlIlMiOnY9aSxtPXIsVD1lLmxlbigpLEM9ZS5kYXRhLG49PT1zLkMmJih2Kz1pLUNbVC00XSxtKz1yLUNbVC0zXSkscD1zLkMsTT1kW3krK10sST1kW3krK10saT1kW3krK10scj1kW3krK10sZS5hZGREYXRhKHAsdixtLE0sSSxpLHIpO2JyZWFrO2Nhc2UicyI6dj1pLG09cixUPWUubGVuKCksQz1lLmRhdGEsbj09PXMuQyYmKHYrPWktQ1tULTRdLG0rPXItQ1tULTNdKSxwPXMuQyxNPWkrZFt5KytdLEk9citkW3krK10saSs9ZFt5KytdLHIrPWRbeSsrXSxlLmFkZERhdGEocCx2LG0sTSxJLGkscik7YnJlYWs7Y2FzZSJRIjpNPWRbeSsrXSxJPWRbeSsrXSxpPWRbeSsrXSxyPWRbeSsrXSxwPXMuUSxlLmFkZERhdGEocCxNLEksaSxyKTticmVhaztjYXNlInEiOk09ZFt5KytdK2ksST1kW3krK10rcixpKz1kW3krK10scis9ZFt5KytdLHA9cy5RLGUuYWRkRGF0YShwLE0sSSxpLHIpO2JyZWFrO2Nhc2UiVCI6dj1pLG09cixUPWUubGVuKCksQz1lLmRhdGEsbj09PXMuUSYmKHYrPWktQ1tULTRdLG0rPXItQ1tULTNdKSxpPWRbeSsrXSxyPWRbeSsrXSxwPXMuUSxlLmFkZERhdGEocCx2LG0saSxyKTticmVhaztjYXNlInQiOnY9aSxtPXIsVD1lLmxlbigpLEM9ZS5kYXRhLG49PT1zLlEmJih2Kz1pLUNbVC00XSxtKz1yLUNbVC0zXSksaSs9ZFt5KytdLHIrPWRbeSsrXSxwPXMuUSxlLmFkZERhdGEocCx2LG0saSxyKTticmVhaztjYXNlIkEiOl89ZFt5KytdLHg9ZFt5KytdLGI9ZFt5KytdLHc9ZFt5KytdLFM9ZFt5KytdLE9sKE09aSxJPXIsaT1kW3krK10scj1kW3krK10sdyxTLF8seCxiLHA9cy5BLGUpO2JyZWFrO2Nhc2UiYSI6Xz1kW3krK10seD1kW3krK10sYj1kW3krK10sdz1kW3krK10sUz1kW3krK10sT2woTT1pLEk9cixpKz1kW3krK10scis9ZFt5KytdLHcsUyxfLHgsYixwPXMuQSxlKX19InoiIT09YyYmIloiIT09Y3x8KHA9cy5aLGUuYWRkRGF0YShwKSxpPW8scj1hKSxuPXB9cmV0dXJuIGUudG9TdGF0aWMoKSxlfSh0KSxpPVQoe30sZSk7cmV0dXJuIGkuYnVpbGRQYXRoPWZ1bmN0aW9uKHQpe2lmKEVsKHQpKXt0LnNldERhdGEobi5kYXRhKSwoZT10LmdldENvbnRleHQoKSkmJnQucmVidWlsZFBhdGgoZSwxKX1lbHNle3ZhciBlPXQ7bi5yZWJ1aWxkUGF0aChlLDEpfX0saS5hcHBseVRyYW5zZm9ybT1mdW5jdGlvbih0KXtJbChuLHQpLHRoaXMuZGlydHlTaGFwZSgpfSxpfWZ1bmN0aW9uIEJsKHQsZSl7cmV0dXJuIG5ldyB6bChWbCh0LGUpKX1mdW5jdGlvbiBHbCh0LGUpe2U9ZXx8e307dmFyIG49bmV3IFFhO3JldHVybiB0LnNoYXBlJiZuLnNldFNoYXBlKHQuc2hhcGUpLG4uc2V0U3R5bGUodC5zdHlsZSksZS5iYWtlVHJhbnNmb3JtP0lsKG4ucGF0aCx0LmdldENvbXB1dGVkVHJhbnNmb3JtKCkpOmUudG9Mb2NhbD9uLnNldExvY2FsVHJhbnNmb3JtKHQuZ2V0Q29tcHV0ZWRUcmFuc2Zvcm0oKSk6bi5jb3B5VHJhbnNmb3JtKHQpLG4uYnVpbGRQYXRoPXQuYnVpbGRQYXRoLG4uYXBwbHlUcmFuc2Zvcm09bi5hcHBseVRyYW5zZm9ybSxuLno9dC56LG4uejI9dC56MixuLnpsZXZlbD10LnpsZXZlbCxufXZhciBGbD1mdW5jdGlvbigpe3RoaXMuY3g9MCx0aGlzLmN5PTAsdGhpcy5yPTB9LEhsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIHQuY2FsbCh0aGlzLGUpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBGbH0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSxuKXtuJiZ0Lm1vdmVUbyhlLmN4K2UucixlLmN5KSx0LmFyYyhlLmN4LGUuY3ksZS5yLDAsMipNYXRoLlBJKX0sZX0oUWEpO0hsLnByb3RvdHlwZS50eXBlPSJjaXJjbGUiO3ZhciBXbD1mdW5jdGlvbigpe3RoaXMuY3g9MCx0aGlzLmN5PTAsdGhpcy5yeD0wLHRoaXMucnk9MH0sVWw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U2hhcGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFdsfSxlLnByb3RvdHlwZS5idWlsZFBhdGg9ZnVuY3Rpb24odCxlKXt2YXIgbj0uNTUyMjg0OCxpPWUuY3gscj1lLmN5LG89ZS5yeCxhPWUucnkscz1vKm4sbD1hKm47dC5tb3ZlVG8oaS1vLHIpLHQuYmV6aWVyQ3VydmVUbyhpLW8sci1sLGktcyxyLWEsaSxyLWEpLHQuYmV6aWVyQ3VydmVUbyhpK3Msci1hLGkrbyxyLWwsaStvLHIpLHQuYmV6aWVyQ3VydmVUbyhpK28scitsLGkrcyxyK2EsaSxyK2EpLHQuYmV6aWVyQ3VydmVUbyhpLXMscithLGktbyxyK2wsaS1vLHIpLHQuY2xvc2VQYXRoKCl9LGV9KFFhKTtVbC5wcm90b3R5cGUudHlwZT0iZWxsaXBzZSI7dmFyIFhsPU1hdGguUEksWWw9MipYbCxabD1NYXRoLnNpbixqbD1NYXRoLmNvcyxxbD1NYXRoLmFjb3MsS2w9TWF0aC5hdGFuMiwkbD1NYXRoLmFicyxKbD1NYXRoLnNxcnQsUWw9TWF0aC5tYXgsdHU9TWF0aC5taW4sZXU9MWUtNDtmdW5jdGlvbiBudSh0LGUsbixpLHIsbyxhKXt2YXIgcz10LW4sbD1lLWksdT0oYT9vOi1vKS9KbChzKnMrbCpsKSxoPXUqbCxjPS11KnMscD10K2gsZD1lK2MsZj1uK2gsZz1pK2MseT0ocCtmKS8yLHY9KGQrZykvMixtPWYtcCxfPWctZCx4PW0qbStfKl8sYj1yLW8sdz1wKmctZipkLFM9KF88MD8tMToxKSpKbChRbCgwLGIqYip4LXcqdykpLE09KHcqXy1tKlMpL3gsST0oLXcqbS1fKlMpL3gsVD0odypfK20qUykveCxDPSgtdyptK18qUykveCxEPU0teSxBPUktdixrPVQteSxMPUMtdjtyZXR1cm4gRCpEK0EqQT5rKmsrTCpMJiYoTT1ULEk9Qykse2N4Ok0sY3k6SSx4MDE6LWgseTAxOi1jLHgxMTpNKihyL2ItMSkseTExOkkqKHIvYi0xKX19ZnVuY3Rpb24gaXUodCxlKXt2YXIgbj1RbChlLnIsMCksaT1RbChlLnIwfHwwLDApLHI9bj4wO2lmKHJ8fGk+MCl7aWYocnx8KG49aSxpPTApLGk+bil7dmFyIG89bjtuPWksaT1vfXZhciBhLHM9ISFlLmNsb2Nrd2lzZSxsPWUuc3RhcnRBbmdsZSx1PWUuZW5kQW5nbGU7aWYobD09PXUpYT0wO2Vsc2V7dmFyIGg9W2wsdV07UGEoaCwhcyksYT0kbChoWzBdLWhbMV0pfXZhciBjPWUuY3gscD1lLmN5LGQ9ZS5jb3JuZXJSYWRpdXN8fDAsZj1lLmlubmVyQ29ybmVyUmFkaXVzfHwwO2lmKG4+ZXUpaWYoYT5ZbC1ldSl0Lm1vdmVUbyhjK24qamwobCkscCtuKlpsKGwpKSx0LmFyYyhjLHAsbixsLHUsIXMpLGk+ZXUmJih0Lm1vdmVUbyhjK2kqamwodSkscCtpKlpsKHUpKSx0LmFyYyhjLHAsaSx1LGwscykpO2Vsc2V7dmFyIGc9JGwobi1pKS8yLHk9dHUoZyxkKSx2PXR1KGcsZiksbT12LF89eSx4PW4qamwobCksYj1uKlpsKGwpLHc9aSpqbCh1KSxTPWkqWmwodSksTT12b2lkIDAsST12b2lkIDAsVD12b2lkIDAsQz12b2lkIDA7aWYoKHk+ZXV8fHY+ZXUpJiYoTT1uKmpsKHUpLEk9bipabCh1KSxUPWkqamwobCksQz1pKlpsKGwpLGE8WGwpKXt2YXIgRD1mdW5jdGlvbih0LGUsbixpLHIsbyxhLHMpe3ZhciBsPW4tdCx1PWktZSxoPWEtcixjPXMtbyxwPWMqbC1oKnU7aWYoIShwKnA8ZXUpKXJldHVyblt0KyhwPShoKihlLW8pLWMqKHQtcikpL3ApKmwsZStwKnVdfSh4LGIsVCxDLE0sSSx3LFMpO2lmKEQpe3ZhciBBPXgtRFswXSxrPWItRFsxXSxMPU0tRFswXSxQPUktRFsxXSxPPTEvWmwocWwoKEEqTCtrKlApLyhKbChBKkErayprKSpKbChMKkwrUCpQKSkpLzIpLFI9SmwoRFswXSpEWzBdK0RbMV0qRFsxXSk7bT10dSh2LChpLVIpLyhPLTEpKSxfPXR1KHksKG4tUikvKE8rMSkpfX1pZihhPmV1KWlmKF8+ZXUpe3ZhciBOPW51KFQsQyx4LGIsbixfLHMpLHo9bnUoTSxJLHcsUyxuLF8scyk7dC5tb3ZlVG8oYytOLmN4K04ueDAxLHArTi5jeStOLnkwMSksXzx5P3QuYXJjKGMrTi5jeCxwK04uY3ksXyxLbChOLnkwMSxOLngwMSksS2woei55MDEsei54MDEpLCFzKToodC5hcmMoYytOLmN4LHArTi5jeSxfLEtsKE4ueTAxLE4ueDAxKSxLbChOLnkxMSxOLngxMSksIXMpLHQuYXJjKGMscCxuLEtsKE4uY3krTi55MTEsTi5jeCtOLngxMSksS2woei5jeSt6LnkxMSx6LmN4K3oueDExKSwhcyksdC5hcmMoYyt6LmN4LHArei5jeSxfLEtsKHoueTExLHoueDExKSxLbCh6LnkwMSx6LngwMSksIXMpKX1lbHNlIHQubW92ZVRvKGMreCxwK2IpLHQuYXJjKGMscCxuLGwsdSwhcyk7ZWxzZSB0Lm1vdmVUbyhjK3gscCtiKTtpZihpPmV1JiZhPmV1KWlmKG0+ZXUpe049bnUodyxTLE0sSSxpLC1tLHMpLHo9bnUoeCxiLFQsQyxpLC1tLHMpO3QubGluZVRvKGMrTi5jeCtOLngwMSxwK04uY3krTi55MDEpLG08dj90LmFyYyhjK04uY3gscCtOLmN5LG0sS2woTi55MDEsTi54MDEpLEtsKHoueTAxLHoueDAxKSwhcyk6KHQuYXJjKGMrTi5jeCxwK04uY3ksbSxLbChOLnkwMSxOLngwMSksS2woTi55MTEsTi54MTEpLCFzKSx0LmFyYyhjLHAsaSxLbChOLmN5K04ueTExLE4uY3grTi54MTEpLEtsKHouY3krei55MTEsei5jeCt6LngxMSkscyksdC5hcmMoYyt6LmN4LHArei5jeSxtLEtsKHoueTExLHoueDExKSxLbCh6LnkwMSx6LngwMSksIXMpKX1lbHNlIHQubGluZVRvKGMrdyxwK1MpLHQuYXJjKGMscCxpLHUsbCxzKTtlbHNlIHQubGluZVRvKGMrdyxwK1MpfWVsc2UgdC5tb3ZlVG8oYyxwKTt0LmNsb3NlUGF0aCgpfX12YXIgcnU9ZnVuY3Rpb24oKXt0aGlzLmN4PTAsdGhpcy5jeT0wLHRoaXMucjA9MCx0aGlzLnI9MCx0aGlzLnN0YXJ0QW5nbGU9MCx0aGlzLmVuZEFuZ2xlPTIqTWF0aC5QSSx0aGlzLmNsb2Nrd2lzZT0hMCx0aGlzLmNvcm5lclJhZGl1cz0wLHRoaXMuaW5uZXJDb3JuZXJSYWRpdXM9MH0sb3U9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U2hhcGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHJ1fSxlLnByb3RvdHlwZS5idWlsZFBhdGg9ZnVuY3Rpb24odCxlKXtpdSh0LGUpfSxlLnByb3RvdHlwZS5pc1plcm9BcmVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2hhcGUuc3RhcnRBbmdsZT09PXRoaXMuc2hhcGUuZW5kQW5nbGV8fHRoaXMuc2hhcGUucj09PXRoaXMuc2hhcGUucjB9LGV9KFFhKTtvdS5wcm90b3R5cGUudHlwZT0ic2VjdG9yIjt2YXIgYXU9ZnVuY3Rpb24oKXt0aGlzLmN4PTAsdGhpcy5jeT0wLHRoaXMucj0wLHRoaXMucjA9MH0sc3U9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U2hhcGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGF1fSxlLnByb3RvdHlwZS5idWlsZFBhdGg9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmN4LGk9ZS5jeSxyPTIqTWF0aC5QSTt0Lm1vdmVUbyhuK2UucixpKSx0LmFyYyhuLGksZS5yLDAsciwhMSksdC5tb3ZlVG8obitlLnIwLGkpLHQuYXJjKG4saSxlLnIwLDAsciwhMCl9LGV9KFFhKTtmdW5jdGlvbiBsdSh0LGUsbixpLHIsbyxhKXt2YXIgcz0uNSoobi10KSxsPS41KihpLWUpO3JldHVybigyKihlLW4pK3MrbCkqYSsoLTMqKGUtbiktMipzLWwpKm8rcypyK2V9ZnVuY3Rpb24gdXUodCxlLG4pe3ZhciBpPWUuc21vb3RoLHI9ZS5wb2ludHM7aWYociYmci5sZW5ndGg+PTIpe2lmKGkmJiJzcGxpbmUiIT09aSl7dmFyIG89ZnVuY3Rpb24odCxlLG4saSl7dmFyIHIsbyxhLHMsbD1bXSx1PVtdLGg9W10sYz1bXTtpZihpKXthPVsxLzAsMS8wXSxzPVstMS8wLC0xLzBdO2Zvcih2YXIgcD0wLGQ9dC5sZW5ndGg7cDxkO3ArKyl6dChhLGEsdFtwXSksRXQocyxzLHRbcF0pO3p0KGEsYSxpWzBdKSxFdChzLHMsaVsxXSl9Zm9yKHA9MCxkPXQubGVuZ3RoO3A8ZDtwKyspe3ZhciBmPXRbcF07aWYobilyPXRbcD9wLTE6ZC0xXSxvPXRbKHArMSklZF07ZWxzZXtpZigwPT09cHx8cD09PWQtMSl7bC5wdXNoKF90KHRbcF0pKTtjb250aW51ZX1yPXRbcC0xXSxvPXRbcCsxXX1TdCh1LG8sciksRHQodSx1LGUpO3ZhciBnPWt0KGYscikseT1rdChmLG8pLHY9Zyt5OzAhPT12JiYoZy89dix5Lz12KSxEdChoLHUsLWcpLER0KGMsdSx5KTt2YXIgbT1idChbXSxmLGgpLF89YnQoW10sZixjKTtpJiYoRXQobSxtLGEpLHp0KG0sbSxzKSxFdChfLF8sYSksenQoXyxfLHMpKSxsLnB1c2gobSksbC5wdXNoKF8pfXJldHVybiBuJiZsLnB1c2gobC5zaGlmdCgpKSxsfShyLGksbixlLnNtb290aENvbnN0cmFpbnQpO3QubW92ZVRvKHJbMF1bMF0sclswXVsxXSk7Zm9yKHZhciBhPXIubGVuZ3RoLHM9MDtzPChuP2E6YS0xKTtzKyspe3ZhciBsPW9bMipzXSx1PW9bMipzKzFdLGg9clsocysxKSVhXTt0LmJlemllckN1cnZlVG8obFswXSxsWzFdLHVbMF0sdVsxXSxoWzBdLGhbMV0pfX1lbHNleyJzcGxpbmUiPT09aSYmKHI9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dC5sZW5ndGgsaT1bXSxyPTAsbz0xO288bjtvKyspcis9a3QodFtvLTFdLHRbb10pO3ZhciBhPXIvMjtmb3IoYT1hPG4/bjphLG89MDtvPGE7bysrKXt2YXIgcz1vLyhhLTEpKihlP246bi0xKSxsPU1hdGguZmxvb3IocyksdT1zLWwsaD12b2lkIDAsYz10W2wlbl0scD12b2lkIDAsZD12b2lkIDA7ZT8oaD10WyhsLTErbiklbl0scD10WyhsKzEpJW5dLGQ9dFsobCsyKSVuXSk6KGg9dFswPT09bD9sOmwtMV0scD10W2w+bi0yP24tMTpsKzFdLGQ9dFtsPm4tMz9uLTE6bCsyXSk7dmFyIGY9dSp1LGc9dSpmO2kucHVzaChbbHUoaFswXSxjWzBdLHBbMF0sZFswXSx1LGYsZyksbHUoaFsxXSxjWzFdLHBbMV0sZFsxXSx1LGYsZyldKX1yZXR1cm4gaX0ocixuKSksdC5tb3ZlVG8oclswXVswXSxyWzBdWzFdKTtzPTE7Zm9yKHZhciBjPXIubGVuZ3RoO3M8YztzKyspdC5saW5lVG8ocltzXVswXSxyW3NdWzFdKX1uJiZ0LmNsb3NlUGF0aCgpfX1zdS5wcm90b3R5cGUudHlwZT0icmluZyI7dmFyIGh1PWZ1bmN0aW9uKCl7dGhpcy5wb2ludHM9bnVsbCx0aGlzLnNtb290aD0wLHRoaXMuc21vb3RoQ29uc3RyYWludD1udWxsfSxjdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaHV9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3V1KHQsZSwhMCl9LGV9KFFhKTtjdS5wcm90b3R5cGUudHlwZT0icG9seWdvbiI7dmFyIHB1PWZ1bmN0aW9uKCl7dGhpcy5wb2ludHM9bnVsbCx0aGlzLnBlcmNlbnQ9MSx0aGlzLnNtb290aD0wLHRoaXMuc21vb3RoQ29uc3RyYWludD1udWxsfSxkdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTdHlsZT1mdW5jdGlvbigpe3JldHVybntzdHJva2U6IiMwMDAiLGZpbGw6bnVsbH19LGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgcHV9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3V1KHQsZSwhMSl9LGV9KFFhKTtkdS5wcm90b3R5cGUudHlwZT0icG9seWxpbmUiO3ZhciBmdT17fSxndT1mdW5jdGlvbigpe3RoaXMueDE9MCx0aGlzLnkxPTAsdGhpcy54Mj0wLHRoaXMueTI9MCx0aGlzLnBlcmNlbnQ9MX0seXU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U3R5bGU9ZnVuY3Rpb24oKXtyZXR1cm57c3Ryb2tlOiIjMDAwIixmaWxsOm51bGx9fSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U2hhcGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGd1fSxlLnByb3RvdHlwZS5idWlsZFBhdGg9ZnVuY3Rpb24odCxlKXt2YXIgbixpLHIsbztpZih0aGlzLnN1YlBpeGVsT3B0aW1pemUpe3ZhciBhPWFzKGZ1LGUsdGhpcy5zdHlsZSk7bj1hLngxLGk9YS55MSxyPWEueDIsbz1hLnkyfWVsc2Ugbj1lLngxLGk9ZS55MSxyPWUueDIsbz1lLnkyO3ZhciBzPWUucGVyY2VudDswIT09cyYmKHQubW92ZVRvKG4saSksczwxJiYocj1uKigxLXMpK3IqcyxvPWkqKDEtcykrbypzKSx0LmxpbmVUbyhyLG8pKX0sZS5wcm90b3R5cGUucG9pbnRBdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnNoYXBlO3JldHVybltlLngxKigxLXQpK2UueDIqdCxlLnkxKigxLXQpK2UueTIqdF19LGV9KFFhKTt5dS5wcm90b3R5cGUudHlwZT0ibGluZSI7dmFyIHZ1PVtdLG11PWZ1bmN0aW9uKCl7dGhpcy54MT0wLHRoaXMueTE9MCx0aGlzLngyPTAsdGhpcy55Mj0wLHRoaXMuY3B4MT0wLHRoaXMuY3B5MT0wLHRoaXMucGVyY2VudD0xfTtmdW5jdGlvbiBfdSh0LGUsbil7dmFyIGk9dC5jcHgyLHI9dC5jcHkyO3JldHVybiBudWxsPT09aXx8bnVsbD09PXI/WyhuP0ZvOkdvKSh0LngxLHQuY3B4MSx0LmNweDIsdC54MixlKSwobj9GbzpHbykodC55MSx0LmNweTEsdC5jcHkyLHQueTIsZSldOlsobj9qbzpabykodC54MSx0LmNweDEsdC54MixlKSwobj9qbzpabykodC55MSx0LmNweTEsdC55MixlKV19dmFyIHh1PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIHQuY2FsbCh0aGlzLGUpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFN0eWxlPWZ1bmN0aW9uKCl7cmV0dXJue3N0cm9rZToiIzAwMCIsZmlsbDpudWxsfX0sZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBtdX0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS54MSxpPWUueTEscj1lLngyLG89ZS55MixhPWUuY3B4MSxzPWUuY3B5MSxsPWUuY3B4Mix1PWUuY3B5MixoPWUucGVyY2VudDswIT09aCYmKHQubW92ZVRvKG4saSksbnVsbD09bHx8bnVsbD09dT8oaDwxJiYoS28obixhLHIsaCx2dSksYT12dVsxXSxyPXZ1WzJdLEtvKGkscyxvLGgsdnUpLHM9dnVbMV0sbz12dVsyXSksdC5xdWFkcmF0aWNDdXJ2ZVRvKGEscyxyLG8pKTooaDwxJiYoVW8obixhLGwscixoLHZ1KSxhPXZ1WzFdLGw9dnVbMl0scj12dVszXSxVbyhpLHMsdSxvLGgsdnUpLHM9dnVbMV0sdT12dVsyXSxvPXZ1WzNdKSx0LmJlemllckN1cnZlVG8oYSxzLGwsdSxyLG8pKSl9LGUucHJvdG90eXBlLnBvaW50QXQ9ZnVuY3Rpb24odCl7cmV0dXJuIF91KHRoaXMuc2hhcGUsdCwhMSl9LGUucHJvdG90eXBlLnRhbmdlbnRBdD1mdW5jdGlvbih0KXt2YXIgZT1fdSh0aGlzLnNoYXBlLHQsITApO3JldHVybiBBdChlLGUpfSxlfShRYSk7eHUucHJvdG90eXBlLnR5cGU9ImJlemllci1jdXJ2ZSI7dmFyIGJ1PWZ1bmN0aW9uKCl7dGhpcy5jeD0wLHRoaXMuY3k9MCx0aGlzLnI9MCx0aGlzLnN0YXJ0QW5nbGU9MCx0aGlzLmVuZEFuZ2xlPTIqTWF0aC5QSSx0aGlzLmNsb2Nrd2lzZT0hMH0sd3U9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U3R5bGU9ZnVuY3Rpb24oKXtyZXR1cm57c3Ryb2tlOiIjMDAwIixmaWxsOm51bGx9fSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U2hhcGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGJ1fSxlLnByb3RvdHlwZS5idWlsZFBhdGg9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmN4LGk9ZS5jeSxyPU1hdGgubWF4KGUuciwwKSxvPWUuc3RhcnRBbmdsZSxhPWUuZW5kQW5nbGUscz1lLmNsb2Nrd2lzZSxsPU1hdGguY29zKG8pLHU9TWF0aC5zaW4obyk7dC5tb3ZlVG8obCpyK24sdSpyK2kpLHQuYXJjKG4saSxyLG8sYSwhcyl9LGV9KFFhKTt3dS5wcm90b3R5cGUudHlwZT0iYXJjIjt2YXIgU3U9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS50eXBlPSJjb21wb3VuZCIsZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLl91cGRhdGVQYXRoRGlydHk9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5zaGFwZS5wYXRocyxlPXRoaXMuc2hhcGVDaGFuZ2VkKCksbj0wO248dC5sZW5ndGg7bisrKWU9ZXx8dFtuXS5zaGFwZUNoYW5nZWQoKTtlJiZ0aGlzLmRpcnR5U2hhcGUoKX0sZS5wcm90b3R5cGUuYmVmb3JlQnJ1c2g9ZnVuY3Rpb24oKXt0aGlzLl91cGRhdGVQYXRoRGlydHkoKTtmb3IodmFyIHQ9dGhpcy5zaGFwZS5wYXRoc3x8W10sZT10aGlzLmdldEdsb2JhbFNjYWxlKCksbj0wO248dC5sZW5ndGg7bisrKXRbbl0ucGF0aHx8dFtuXS5jcmVhdGVQYXRoUHJveHkoKSx0W25dLnBhdGguc2V0U2NhbGUoZVswXSxlWzFdLHRbbl0uc2VnbWVudElnbm9yZVRocmVzaG9sZCl9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1lLnBhdGhzfHxbXSxpPTA7aTxuLmxlbmd0aDtpKyspbltpXS5idWlsZFBhdGgodCxuW2ldLnNoYXBlLCEwKX0sZS5wcm90b3R5cGUuYWZ0ZXJCcnVzaD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnNoYXBlLnBhdGhzfHxbXSxlPTA7ZTx0Lmxlbmd0aDtlKyspdFtlXS5wYXRoVXBkYXRlZCgpfSxlLnByb3RvdHlwZS5nZXRCb3VuZGluZ1JlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXBkYXRlUGF0aERpcnR5LmNhbGwodGhpcyksUWEucHJvdG90eXBlLmdldEJvdW5kaW5nUmVjdC5jYWxsKHRoaXMpfSxlfShRYSksTXU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuY29sb3JTdG9wcz10fHxbXX1yZXR1cm4gdC5wcm90b3R5cGUuYWRkQ29sb3JTdG9wPWZ1bmN0aW9uKHQsZSl7dGhpcy5jb2xvclN0b3BzLnB1c2goe29mZnNldDp0LGNvbG9yOmV9KX0sdH0oKSxJdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpLHIsbyxhKXt2YXIgcz10LmNhbGwodGhpcyxvKXx8dGhpcztyZXR1cm4gcy54PW51bGw9PWU/MDplLHMueT1udWxsPT1uPzA6bixzLngyPW51bGw9PWk/MTppLHMueTI9bnVsbD09cj8wOnIscy50eXBlPSJsaW5lYXIiLHMuZ2xvYmFsPWF8fCExLHN9cmV0dXJuIG4oZSx0KSxlfShNdSksVHU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSxyLG8pe3ZhciBhPXQuY2FsbCh0aGlzLHIpfHx0aGlzO3JldHVybiBhLng9bnVsbD09ZT8uNTplLGEueT1udWxsPT1uPy41Om4sYS5yPW51bGw9PWk/LjU6aSxhLnR5cGU9InJhZGlhbCIsYS5nbG9iYWw9b3x8ITEsYX1yZXR1cm4gbihlLHQpLGV9KE11KSxDdT1bMCwwXSxEdT1bMCwwXSxBdT1uZXcgbGksa3U9bmV3IGxpLEx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX2Nvcm5lcnM9W10sdGhpcy5fYXhlcz1bXSx0aGlzLl9vcmlnaW49WzAsMF07Zm9yKHZhciBuPTA7bjw0O24rKyl0aGlzLl9jb3JuZXJzW25dPW5ldyBsaTtmb3Iobj0wO248MjtuKyspdGhpcy5fYXhlc1tuXT1uZXcgbGk7dCYmdGhpcy5mcm9tQm91bmRpbmdSZWN0KHQsZSl9cmV0dXJuIHQucHJvdG90eXBlLmZyb21Cb3VuZGluZ1JlY3Q9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9jb3JuZXJzLGk9dGhpcy5fYXhlcyxyPXQueCxvPXQueSxhPXIrdC53aWR0aCxzPW8rdC5oZWlnaHQ7aWYoblswXS5zZXQocixvKSxuWzFdLnNldChhLG8pLG5bMl0uc2V0KGEscyksblszXS5zZXQocixzKSxlKWZvcih2YXIgbD0wO2w8NDtsKyspbltsXS50cmFuc2Zvcm0oZSk7bGkuc3ViKGlbMF0sblsxXSxuWzBdKSxsaS5zdWIoaVsxXSxuWzNdLG5bMF0pLGlbMF0ubm9ybWFsaXplKCksaVsxXS5ub3JtYWxpemUoKTtmb3IobD0wO2w8MjtsKyspdGhpcy5fb3JpZ2luW2xdPWlbbF0uZG90KG5bMF0pfSx0LnByb3RvdHlwZS5pbnRlcnNlY3Q9ZnVuY3Rpb24odCxlKXt2YXIgbj0hMCxpPSFlO3JldHVybiBBdS5zZXQoMS8wLDEvMCksa3Uuc2V0KDAsMCksIXRoaXMuX2ludGVyc2VjdENoZWNrT25lU2lkZSh0aGlzLHQsQXUsa3UsaSwxKSYmKG49ITEsaSl8fCF0aGlzLl9pbnRlcnNlY3RDaGVja09uZVNpZGUodCx0aGlzLEF1LGt1LGksLTEpJiYobj0hMSxpKXx8aXx8bGkuY29weShlLG4/QXU6a3UpLG59LHQucHJvdG90eXBlLl9pbnRlcnNlY3RDaGVja09uZVNpZGU9ZnVuY3Rpb24odCxlLG4saSxyLG8pe2Zvcih2YXIgYT0hMCxzPTA7czwyO3MrKyl7dmFyIGw9dGhpcy5fYXhlc1tzXTtpZih0aGlzLl9nZXRQcm9qTWluTWF4T25BeGlzKHMsdC5fY29ybmVycyxDdSksdGhpcy5fZ2V0UHJvak1pbk1heE9uQXhpcyhzLGUuX2Nvcm5lcnMsRHUpLEN1WzFdPER1WzBdfHxDdVswXT5EdVsxXSl7aWYoYT0hMSxyKXJldHVybiBhO3ZhciB1PU1hdGguYWJzKER1WzBdLUN1WzFdKSxoPU1hdGguYWJzKEN1WzBdLUR1WzFdKTtNYXRoLm1pbih1LGgpPmkubGVuKCkmJih1PGg/bGkuc2NhbGUoaSxsLC11Km8pOmxpLnNjYWxlKGksbCxoKm8pKX1lbHNlIGlmKG4pe3U9TWF0aC5hYnMoRHVbMF0tQ3VbMV0pLGg9TWF0aC5hYnMoQ3VbMF0tRHVbMV0pO01hdGgubWluKHUsaCk8bi5sZW4oKSYmKHU8aD9saS5zY2FsZShuLGwsdSpvKTpsaS5zY2FsZShuLGwsLWgqbykpfX1yZXR1cm4gYX0sdC5wcm90b3R5cGUuX2dldFByb2pNaW5NYXhPbkF4aXM9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT10aGlzLl9heGVzW3RdLHI9dGhpcy5fb3JpZ2luLG89ZVswXS5kb3QoaSkrclt0XSxhPW8scz1vLGw9MTtsPGUubGVuZ3RoO2wrKyl7dmFyIHU9ZVtsXS5kb3QoaSkrclt0XTthPU1hdGgubWluKHUsYSkscz1NYXRoLm1heCh1LHMpfW5bMF09YSxuWzFdPXN9LHR9KCksUHU9W10sT3U9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS5ub3RDbGVhcj0hMCxlLmluY3JlbWVudGFsPSEwLGUuX2Rpc3BsYXlhYmxlcz1bXSxlLl90ZW1wb3JhcnlEaXNwbGF5YWJsZXM9W10sZS5fY3Vyc29yPTAsZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnRyYXZlcnNlPWZ1bmN0aW9uKHQsZSl7dC5jYWxsKGUsdGhpcyl9LGUucHJvdG90eXBlLnVzZVN0eWxlPWZ1bmN0aW9uKCl7dGhpcy5zdHlsZT17fX0sZS5wcm90b3R5cGUuZ2V0Q3Vyc29yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnNvcn0sZS5wcm90b3R5cGUuaW5uZXJBZnRlckJydXNoPWZ1bmN0aW9uKCl7dGhpcy5fY3Vyc29yPXRoaXMuX2Rpc3BsYXlhYmxlcy5sZW5ndGh9LGUucHJvdG90eXBlLmNsZWFyRGlzcGxheWJsZXM9ZnVuY3Rpb24oKXt0aGlzLl9kaXNwbGF5YWJsZXM9W10sdGhpcy5fdGVtcG9yYXJ5RGlzcGxheWFibGVzPVtdLHRoaXMuX2N1cnNvcj0wLHRoaXMubWFya1JlZHJhdygpLHRoaXMubm90Q2xlYXI9ITF9LGUucHJvdG90eXBlLmNsZWFyVGVtcG9yYWxEaXNwbGF5YWJsZXM9ZnVuY3Rpb24oKXt0aGlzLl90ZW1wb3JhcnlEaXNwbGF5YWJsZXM9W119LGUucHJvdG90eXBlLmFkZERpc3BsYXlhYmxlPWZ1bmN0aW9uKHQsZSl7ZT90aGlzLl90ZW1wb3JhcnlEaXNwbGF5YWJsZXMucHVzaCh0KTp0aGlzLl9kaXNwbGF5YWJsZXMucHVzaCh0KSx0aGlzLm1hcmtSZWRyYXcoKX0sZS5wcm90b3R5cGUuYWRkRGlzcGxheWFibGVzPWZ1bmN0aW9uKHQsZSl7ZT1lfHwhMTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl0aGlzLmFkZERpc3BsYXlhYmxlKHRbbl0sZSl9LGUucHJvdG90eXBlLmdldERpc3BsYXlhYmxlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXNwbGF5YWJsZXN9LGUucHJvdG90eXBlLmdldFRlbXBvcmFsRGlzcGxheWFibGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlc30sZS5wcm90b3R5cGUuZWFjaFBlbmRpbmdEaXNwbGF5YWJsZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fY3Vyc29yO2U8dGhpcy5fZGlzcGxheWFibGVzLmxlbmd0aDtlKyspdCYmdCh0aGlzLl9kaXNwbGF5YWJsZXNbZV0pO2ZvcihlPTA7ZTx0aGlzLl90ZW1wb3JhcnlEaXNwbGF5YWJsZXMubGVuZ3RoO2UrKyl0JiZ0KHRoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlc1tlXSl9LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMudXBkYXRlVHJhbnNmb3JtKCk7Zm9yKHZhciB0PXRoaXMuX2N1cnNvcjt0PHRoaXMuX2Rpc3BsYXlhYmxlcy5sZW5ndGg7dCsrKXsoZT10aGlzLl9kaXNwbGF5YWJsZXNbdF0pLnBhcmVudD10aGlzLGUudXBkYXRlKCksZS5wYXJlbnQ9bnVsbH1mb3IodD0wO3Q8dGhpcy5fdGVtcG9yYXJ5RGlzcGxheWFibGVzLmxlbmd0aDt0Kyspe3ZhciBlOyhlPXRoaXMuX3RlbXBvcmFyeURpc3BsYXlhYmxlc1t0XSkucGFyZW50PXRoaXMsZS51cGRhdGUoKSxlLnBhcmVudD1udWxsfX0sZS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKCl7aWYoIXRoaXMuX3JlY3Qpe2Zvcih2YXIgdD1uZXcgdmkoMS8wLDEvMCwtMS8wLC0xLzApLGU9MDtlPHRoaXMuX2Rpc3BsYXlhYmxlcy5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLl9kaXNwbGF5YWJsZXNbZV0saT1uLmdldEJvdW5kaW5nUmVjdCgpLmNsb25lKCk7bi5uZWVkTG9jYWxUcmFuc2Zvcm0oKSYmaS5hcHBseVRyYW5zZm9ybShuLmdldExvY2FsVHJhbnNmb3JtKFB1KSksdC51bmlvbihpKX10aGlzLl9yZWN0PXR9cmV0dXJuIHRoaXMuX3JlY3R9LGUucHJvdG90eXBlLmNvbnRhaW49ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnRyYW5zZm9ybUNvb3JkVG9Mb2NhbCh0LGUpO2lmKHRoaXMuZ2V0Qm91bmRpbmdSZWN0KCkuY29udGFpbihuWzBdLG5bMV0pKWZvcih2YXIgaT0wO2k8dGhpcy5fZGlzcGxheWFibGVzLmxlbmd0aDtpKyspe2lmKHRoaXMuX2Rpc3BsYXlhYmxlc1tpXS5jb250YWluKHQsZSkpcmV0dXJuITB9cmV0dXJuITF9LGV9KFRvKSxSdT1ScigpO2Z1bmN0aW9uIE51KHQsZSxuLGkscil7dmFyIG87aWYoZSYmZS5lY01vZGVsKXt2YXIgYT1lLmVjTW9kZWwuZ2V0VXBkYXRlUGF5bG9hZCgpO289YSYmYS5hbmltYXRpb259dmFyIHM9InVwZGF0ZSI9PT10O2lmKGUmJmUuaXNBbmltYXRpb25FbmFibGVkKCkpe3ZhciBsPXZvaWQgMCx1PXZvaWQgMCxoPXZvaWQgMDtyZXR1cm4gaT8obD1ldChpLmR1cmF0aW9uLDIwMCksdT1ldChpLmVhc2luZywiY3ViaWNPdXQiKSxoPTApOihsPWUuZ2V0U2hhbGxvdyhzPyJhbmltYXRpb25EdXJhdGlvblVwZGF0ZSI6ImFuaW1hdGlvbkR1cmF0aW9uIiksdT1lLmdldFNoYWxsb3cocz8iYW5pbWF0aW9uRWFzaW5nVXBkYXRlIjoiYW5pbWF0aW9uRWFzaW5nIiksaD1lLmdldFNoYWxsb3cocz8iYW5pbWF0aW9uRGVsYXlVcGRhdGUiOiJhbmltYXRpb25EZWxheSIpKSxvJiYobnVsbCE9by5kdXJhdGlvbiYmKGw9by5kdXJhdGlvbiksbnVsbCE9by5lYXNpbmcmJih1PW8uZWFzaW5nKSxudWxsIT1vLmRlbGF5JiYoaD1vLmRlbGF5KSksImZ1bmN0aW9uIj09dHlwZW9mIGgmJihoPWgobixyKSksImZ1bmN0aW9uIj09dHlwZW9mIGwmJihsPWwobikpLHtkdXJhdGlvbjpsfHwwLGRlbGF5OmgsZWFzaW5nOnV9fXJldHVybiBudWxsfWZ1bmN0aW9uIHp1KHQsZSxuLGkscixvLGEpe3ZhciBzLGw9ITE7ImZ1bmN0aW9uIj09dHlwZW9mIHI/KGE9byxvPXIscj1udWxsKTpZKHIpJiYobz1yLmNiLGE9ci5kdXJpbmcsbD1yLmlzRnJvbSxzPXIucmVtb3ZlT3B0LHI9ci5kYXRhSW5kZXgpO3ZhciB1PSJyZW1vdmUiPT09dDt1fHxlLnN0b3BBbmltYXRpb24oInJlbW92ZSIpO3ZhciBoPU51KHQsaSxyLHU/c3x8e306bnVsbCxpJiZpLmdldEFuaW1hdGlvbkRlbGF5UGFyYW1zP2kuZ2V0QW5pbWF0aW9uRGVsYXlQYXJhbXMoZSxyKTpudWxsKTtpZihoJiZoLmR1cmF0aW9uPjApe3ZhciBjPXtkdXJhdGlvbjpoLmR1cmF0aW9uLGRlbGF5OmguZGVsYXl8fDAsZWFzaW5nOmguZWFzaW5nLGRvbmU6byxmb3JjZTohIW98fCEhYSxzZXRUb0ZpbmFsOiF1LHNjb3BlOnQsZHVyaW5nOmF9O2w/ZS5hbmltYXRlRnJvbShuLGMpOmUuYW5pbWF0ZVRvKG4sYyl9ZWxzZSBlLnN0b3BBbmltYXRpb24oKSwhbCYmZS5hdHRyKG4pLGEmJmEoMSksbyYmbygpfWZ1bmN0aW9uIEV1KHQsZSxuLGkscixvKXt6dSgidXBkYXRlIix0LGUsbixpLHIsbyl9ZnVuY3Rpb24gVnUodCxlLG4saSxyLG8pe3p1KCJpbml0Iix0LGUsbixpLHIsbyl9ZnVuY3Rpb24gQnUodCl7aWYoIXQuX196cilyZXR1cm4hMDtmb3IodmFyIGU9MDtlPHQuYW5pbWF0b3JzLmxlbmd0aDtlKyspe2lmKCJyZW1vdmUiPT09dC5hbmltYXRvcnNbZV0uc2NvcGUpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gR3UodCxlLG4saSxyLG8pe0J1KHQpfHx6dSgicmVtb3ZlIix0LGUsbixpLHIsbyl9ZnVuY3Rpb24gRnUodCxlLG4saSl7dC5yZW1vdmVUZXh0Q29udGVudCgpLHQucmVtb3ZlVGV4dEd1aWRlTGluZSgpLEd1KHQse3N0eWxlOntvcGFjaXR5OjB9fSxlLG4saSl9ZnVuY3Rpb24gSHUodCxlLG4pe2Z1bmN0aW9uIGkoKXt0LnBhcmVudCYmdC5wYXJlbnQucmVtb3ZlKHQpfXQuaXNHcm91cD90LnRyYXZlcnNlKChmdW5jdGlvbih0KXt0LmlzR3JvdXB8fEZ1KHQsZSxuLGkpfSkpOkZ1KHQsZSxuLGkpfWZ1bmN0aW9uIFd1KHQpe1J1KHQpLm9sZFN0eWxlPXQuc3R5bGV9dmFyIFV1PU1hdGgubWF4LFh1PU1hdGgubWluLFl1PXt9O2Z1bmN0aW9uIFp1KHQpe3JldHVybiBRYS5leHRlbmQodCl9dmFyIGp1PWZ1bmN0aW9uKHQsZSl7dmFyIGk9VmwodCxlKTtyZXR1cm4gZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbi5hcHBseVRyYW5zZm9ybT1pLmFwcGx5VHJhbnNmb3JtLG4uYnVpbGRQYXRoPWkuYnVpbGRQYXRoLG59cmV0dXJuIG4oZSx0KSxlfSh6bCl9O2Z1bmN0aW9uIHF1KHQsZSl7cmV0dXJuIGp1KHQsZSl9ZnVuY3Rpb24gS3UodCxlKXtZdVt0XT1lfWZ1bmN0aW9uICR1KHQpe2lmKFl1Lmhhc093blByb3BlcnR5KHQpKXJldHVybiBZdVt0XX1mdW5jdGlvbiBKdSh0LGUsbixpKXt2YXIgcj1CbCh0LGUpO3JldHVybiBuJiYoImNlbnRlciI9PT1pJiYobj10aChuLHIuZ2V0Qm91bmRpbmdSZWN0KCkpKSxuaChyLG4pKSxyfWZ1bmN0aW9uIFF1KHQsZSxuKXt2YXIgaT1uZXcgcnMoe3N0eWxlOntpbWFnZTp0LHg6ZS54LHk6ZS55LHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0fSxvbmxvYWQ6ZnVuY3Rpb24odCl7aWYoImNlbnRlciI9PT1uKXt2YXIgcj17d2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHR9O2kuc2V0U3R5bGUodGgoZSxyKSl9fX0pO3JldHVybiBpfWZ1bmN0aW9uIHRoKHQsZSl7dmFyIG4saT1lLndpZHRoL2UuaGVpZ2h0LHI9dC5oZWlnaHQqaTtyZXR1cm4gbj1yPD10LndpZHRoP3QuaGVpZ2h0OihyPXQud2lkdGgpL2kse3g6dC54K3Qud2lkdGgvMi1yLzIseTp0LnkrdC5oZWlnaHQvMi1uLzIsd2lkdGg6cixoZWlnaHQ6bn19dmFyIGVoPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVtdLGk9dC5sZW5ndGgscj0wO3I8aTtyKyspe3ZhciBvPXRbcl07bi5wdXNoKG8uZ2V0VXBkYXRlZFBhdGhQcm94eSghMCkpfXZhciBhPW5ldyBRYShlKTtyZXR1cm4gYS5jcmVhdGVQYXRoUHJveHkoKSxhLmJ1aWxkUGF0aD1mdW5jdGlvbih0KXtpZihFbCh0KSl7dC5hcHBlbmRQYXRoKG4pO3ZhciBlPXQuZ2V0Q29udGV4dCgpO2UmJnQucmVidWlsZFBhdGgoZSwxKX19LGF9O2Z1bmN0aW9uIG5oKHQsZSl7aWYodC5hcHBseVRyYW5zZm9ybSl7dmFyIG49dC5nZXRCb3VuZGluZ1JlY3QoKS5jYWxjdWxhdGVUcmFuc2Zvcm0oZSk7dC5hcHBseVRyYW5zZm9ybShuKX19dmFyIGloPWxzO2Z1bmN0aW9uIHJoKHQsZSl7Zm9yKHZhciBuPUhuKFtdKTt0JiZ0IT09ZTspVW4obix0LmdldExvY2FsVHJhbnNmb3JtKCksbiksdD10LnBhcmVudDtyZXR1cm4gbn1mdW5jdGlvbiBvaCh0LGUsbil7cmV0dXJuIGUmJiFQKGUpJiYoZT1haS5nZXRMb2NhbFRyYW5zZm9ybShlKSksbiYmKGU9am4oW10sZSkpLE50KFtdLHQsZSl9ZnVuY3Rpb24gYWgodCxlLG4pe3ZhciBpPTA9PT1lWzRdfHwwPT09ZVs1XXx8MD09PWVbMF0/MTpNYXRoLmFicygyKmVbNF0vZVswXSkscj0wPT09ZVs0XXx8MD09PWVbNV18fDA9PT1lWzJdPzE6TWF0aC5hYnMoMiplWzRdL2VbMl0pLG89WyJsZWZ0Ij09PXQ/LWk6InJpZ2h0Ij09PXQ/aTowLCJ0b3AiPT09dD8tcjoiYm90dG9tIj09PXQ/cjowXTtyZXR1cm4gbz1vaChvLGUsbiksTWF0aC5hYnMob1swXSk+TWF0aC5hYnMob1sxXSk/b1swXT4wPyJyaWdodCI6ImxlZnQiOm9bMV0+MD8iYm90dG9tIjoidG9wIn1mdW5jdGlvbiBzaCh0KXtyZXR1cm4hdC5pc0dyb3VwfWZ1bmN0aW9uIGxoKHQsZSxuKXtpZih0JiZlKXt2YXIgaSxyPShpPXt9LHQudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe3NoKHQpJiZ0LmFuaWQmJihpW3QuYW5pZF09dCl9KSksaSk7ZS50cmF2ZXJzZSgoZnVuY3Rpb24odCl7aWYoc2godCkmJnQuYW5pZCl7dmFyIGU9clt0LmFuaWRdO2lmKGUpe3ZhciBpPW8odCk7dC5hdHRyKG8oZSkpLEV1KHQsaSxuLFNzKHQpLmRhdGFJbmRleCl9fX0pKX1mdW5jdGlvbiBvKHQpe3ZhciBlPXt4OnQueCx5OnQueSxyb3RhdGlvbjp0LnJvdGF0aW9ufTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQuc2hhcGV9KHQpJiYoZS5zaGFwZT1UKHt9LHQuc2hhcGUpKSxlfX1mdW5jdGlvbiB1aCh0LGUpe3JldHVybiBSKHQsKGZ1bmN0aW9uKHQpe3ZhciBuPXRbMF07bj1VdShuLGUueCksbj1YdShuLGUueCtlLndpZHRoKTt2YXIgaT10WzFdO3JldHVybiBpPVV1KGksZS55KSxbbixpPVh1KGksZS55K2UuaGVpZ2h0KV19KSl9ZnVuY3Rpb24gaGgodCxlKXt2YXIgbj1VdSh0LngsZS54KSxpPVh1KHQueCt0LndpZHRoLGUueCtlLndpZHRoKSxyPVV1KHQueSxlLnkpLG89WHUodC55K3QuaGVpZ2h0LGUueStlLmhlaWdodCk7aWYoaT49biYmbz49cilyZXR1cm57eDpuLHk6cix3aWR0aDppLW4saGVpZ2h0Om8tcn19ZnVuY3Rpb24gY2godCxlLG4pe3ZhciBpPVQoe3JlY3RIb3ZlcjohMH0sZSkscj1pLnN0eWxlPXtzdHJva2VOb1NjYWxlOiEwfTtpZihuPW58fHt4Oi0xLHk6LTEsd2lkdGg6MixoZWlnaHQ6Mn0sdClyZXR1cm4gMD09PXQuaW5kZXhPZigiaW1hZ2U6Ly8iKT8oci5pbWFnZT10LnNsaWNlKDgpLEMocixuKSxuZXcgcnMoaSkpOkp1KHQucmVwbGFjZSgicGF0aDovLyIsIiIpLGksbiwiY2VudGVyIil9ZnVuY3Rpb24gcGgodCxlLG4saSxyKXtmb3IodmFyIG89MCxhPXJbci5sZW5ndGgtMV07bzxyLmxlbmd0aDtvKyspe3ZhciBzPXJbb107aWYoZGgodCxlLG4saSxzWzBdLHNbMV0sYVswXSxhWzFdKSlyZXR1cm4hMDthPXN9fWZ1bmN0aW9uIGRoKHQsZSxuLGkscixvLGEscyl7dmFyIGwsdT1uLXQsaD1pLWUsYz1hLXIscD1zLW8sZD1maChjLHAsdSxoKTtpZigobD1kKTw9MWUtNiYmbD49LTFlLTYpcmV0dXJuITE7dmFyIGY9dC1yLGc9ZS1vLHk9ZmgoZixnLHUsaCkvZDtpZih5PDB8fHk+MSlyZXR1cm4hMTt2YXIgdj1maChmLGcsYyxwKS9kO3JldHVybiEodjwwfHx2PjEpfWZ1bmN0aW9uIGZoKHQsZSxuLGkpe3JldHVybiB0KmktbiplfWZ1bmN0aW9uIGdoKHQpe3ZhciBlPXQuaXRlbVRvb2x0aXBPcHRpb24sbj10LmNvbXBvbmVudE1vZGVsLGk9dC5pdGVtTmFtZSxyPVcoZSk/e2Zvcm1hdHRlcjplfTplLG89bi5tYWluVHlwZSxhPW4uY29tcG9uZW50SW5kZXgscz17Y29tcG9uZW50VHlwZTpvLG5hbWU6aSwkdmFyczpbIm5hbWUiXX07c1tvKyJJbmRleCJdPWE7dmFyIGw9dC5mb3JtYXR0ZXJQYXJhbXNFeHRyYTtsJiZPKFYobCksKGZ1bmN0aW9uKHQpe2Z0KHMsdCl8fChzW3RdPWxbdF0scy4kdmFycy5wdXNoKHQpKX0pKTt2YXIgdT1Tcyh0LmVsKTt1LmNvbXBvbmVudE1haW5UeXBlPW8sdS5jb21wb25lbnRJbmRleD1hLHUudG9vbHRpcENvbmZpZz17bmFtZTppLG9wdGlvbjpDKHtjb250ZW50OmksZm9ybWF0dGVyUGFyYW1zOnN9LHIpfX1LdSgiY2lyY2xlIixIbCksS3UoImVsbGlwc2UiLFVsKSxLdSgic2VjdG9yIixvdSksS3UoInJpbmciLHN1KSxLdSgicG9seWdvbiIsY3UpLEt1KCJwb2x5bGluZSIsZHUpLEt1KCJyZWN0IixjcyksS3UoImxpbmUiLHl1KSxLdSgiYmV6aWVyQ3VydmUiLHh1KSxLdSgiYXJjIix3dSk7dmFyIHloPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHVwZGF0ZVByb3BzOkV1LGluaXRQcm9wczpWdSxyZW1vdmVFbGVtZW50Okd1LHJlbW92ZUVsZW1lbnRXaXRoRmFkZU91dDpIdSxpc0VsZW1lbnRSZW1vdmVkOkJ1LGV4dGVuZFNoYXBlOlp1LGV4dGVuZFBhdGg6cXUscmVnaXN0ZXJTaGFwZTpLdSxnZXRTaGFwZUNsYXNzOiR1LG1ha2VQYXRoOkp1LG1ha2VJbWFnZTpRdSxtZXJnZVBhdGg6ZWgscmVzaXplUGF0aDpuaCxzdWJQaXhlbE9wdGltaXplTGluZTpmdW5jdGlvbih0KXtyZXR1cm4gYXModC5zaGFwZSx0LnNoYXBlLHQuc3R5bGUpLHR9LHN1YlBpeGVsT3B0aW1pemVSZWN0OmZ1bmN0aW9uKHQpe3JldHVybiBzcyh0LnNoYXBlLHQuc2hhcGUsdC5zdHlsZSksdH0sc3ViUGl4ZWxPcHRpbWl6ZTppaCxnZXRUcmFuc2Zvcm06cmgsYXBwbHlUcmFuc2Zvcm06b2gsdHJhbnNmb3JtRGlyZWN0aW9uOmFoLGdyb3VwVHJhbnNpdGlvbjpsaCxjbGlwUG9pbnRzQnlSZWN0OnVoLGNsaXBSZWN0QnlSZWN0OmhoLGNyZWF0ZUljb246Y2gsbGluZVBvbHlnb25JbnRlcnNlY3Q6cGgsbGluZUxpbmVJbnRlcnNlY3Q6ZGgsc2V0VG9vbHRpcENvbmZpZzpnaCxHcm91cDpCaSxJbWFnZTpycyxUZXh0OmZzLENpcmNsZTpIbCxFbGxpcHNlOlVsLFNlY3RvcjpvdSxSaW5nOnN1LFBvbHlnb246Y3UsUG9seWxpbmU6ZHUsUmVjdDpjcyxMaW5lOnl1LEJlemllckN1cnZlOnh1LEFyYzp3dSxJbmNyZW1lbnRhbERpc3BsYXlhYmxlOk91LENvbXBvdW5kUGF0aDpTdSxMaW5lYXJHcmFkaWVudDpJdSxSYWRpYWxHcmFkaWVudDpUdSxCb3VuZGluZ1JlY3Q6dmksT3JpZW50ZWRCb3VuZGluZ1JlY3Q6THUsUG9pbnQ6bGksUGF0aDpRYX0pLHZoPXt9O2Z1bmN0aW9uIG1oKHQsZSl7Zm9yKHZhciBuPTA7bjxEcy5sZW5ndGg7bisrKXt2YXIgaT1Ec1tuXSxyPWVbaV0sbz10LmVuc3VyZVN0YXRlKGkpO28uc3R5bGU9by5zdHlsZXx8e30sby5zdHlsZS50ZXh0PXJ9dmFyIGE9dC5jdXJyZW50U3RhdGVzLnNsaWNlKCk7dC5jbGVhclN0YXRlcyghMCksdC5zZXRTdHlsZSh7dGV4dDplLm5vcm1hbH0pLHQudXNlU3RhdGVzKGEsITApfWZ1bmN0aW9uIF9oKHQsZSxuKXt2YXIgaSxyPXQubGFiZWxGZXRjaGVyLG89dC5sYWJlbERhdGFJbmRleCxhPXQubGFiZWxEaW1JbmRleCxzPWUubm9ybWFsO3ImJihpPXIuZ2V0Rm9ybWF0dGVkTGFiZWwobywibm9ybWFsIixudWxsLGEscyYmcy5nZXQoImZvcm1hdHRlciIpLG51bGwhPW4/e2ludGVycG9sYXRlZFZhbHVlOm59Om51bGwpKSxudWxsPT1pJiYoaT1IKHQuZGVmYXVsdFRleHQpP3QuZGVmYXVsdFRleHQobyx0LG4pOnQuZGVmYXVsdFRleHQpO2Zvcih2YXIgbD17bm9ybWFsOml9LHU9MDt1PERzLmxlbmd0aDt1Kyspe3ZhciBoPURzW3VdLGM9ZVtoXTtsW2hdPWV0KHI/ci5nZXRGb3JtYXR0ZWRMYWJlbChvLGgsbnVsbCxhLGMmJmMuZ2V0KCJmb3JtYXR0ZXIiKSk6bnVsbCxpKX1yZXR1cm4gbH1mdW5jdGlvbiB4aCh0LGUsbixpKXtuPW58fHZoO2Zvcih2YXIgcj10IGluc3RhbmNlb2YgZnMsbz0hMSxhPTA7YTxBcy5sZW5ndGg7YSsrKXtpZigocD1lW0FzW2FdXSkmJnAuZ2V0U2hhbGxvdygic2hvdyIpKXtvPSEwO2JyZWFrfX12YXIgcz1yP3Q6dC5nZXRUZXh0Q29udGVudCgpO2lmKG8pe3J8fChzfHwocz1uZXcgZnMsdC5zZXRUZXh0Q29udGVudChzKSksdC5zdGF0ZVByb3h5JiYocy5zdGF0ZVByb3h5PXQuc3RhdGVQcm94eSkpO3ZhciBsPV9oKG4sZSksdT1lLm5vcm1hbCxoPSEhdS5nZXRTaGFsbG93KCJzaG93IiksYz13aCh1LGkmJmkubm9ybWFsLG4sITEsIXIpO2MudGV4dD1sLm5vcm1hbCxyfHx0LnNldFRleHRDb25maWcoU2godSxuLCExKSk7Zm9yKGE9MDthPERzLmxlbmd0aDthKyspe3ZhciBwLGQ9RHNbYV07aWYocD1lW2RdKXt2YXIgZj1zLmVuc3VyZVN0YXRlKGQpLGc9ISFldChwLmdldFNoYWxsb3coInNob3ciKSxoKTtpZihnIT09aCYmKGYuaWdub3JlPSFnKSxmLnN0eWxlPXdoKHAsaSYmaVtkXSxuLCEwLCFyKSxmLnN0eWxlLnRleHQ9bFtkXSwhcil0LmVuc3VyZVN0YXRlKGQpLnRleHRDb25maWc9U2gocCxuLCEwKX19cy5zaWxlbnQ9ISF1LmdldFNoYWxsb3coInNpbGVudCIpLG51bGwhPXMuc3R5bGUueCYmKGMueD1zLnN0eWxlLngpLG51bGwhPXMuc3R5bGUueSYmKGMueT1zLnN0eWxlLnkpLHMuaWdub3JlPSFoLHMudXNlU3R5bGUoYykscy5kaXJ0eSgpLG4uZW5hYmxlVGV4dFNldHRlciYmKEFoKHMpLnNldExhYmVsVGV4dD1mdW5jdGlvbih0KXt2YXIgaT1faChuLGUsdCk7bWgocyxpKX0pfWVsc2UgcyYmKHMuaWdub3JlPSEwKTt0LmRpcnR5KCl9ZnVuY3Rpb24gYmgodCxlKXtlPWV8fCJsYWJlbCI7Zm9yKHZhciBuPXtub3JtYWw6dC5nZXRNb2RlbChlKX0saT0wO2k8RHMubGVuZ3RoO2krKyl7dmFyIHI9RHNbaV07bltyXT10LmdldE1vZGVsKFtyLGVdKX1yZXR1cm4gbn1mdW5jdGlvbiB3aCh0LGUsbixpLHIpe3ZhciBvPXt9O3JldHVybiBmdW5jdGlvbih0LGUsbixpLHIpe249bnx8dmg7dmFyIG8sYT1lLmVjTW9kZWwscz1hJiZhLm9wdGlvbi50ZXh0U3R5bGUsbD1mdW5jdGlvbih0KXt2YXIgZTtmb3IoO3QmJnQhPT10LmVjTW9kZWw7KXt2YXIgbj0odC5vcHRpb258fHZoKS5yaWNoO2lmKG4pe2U9ZXx8e307Zm9yKHZhciBpPVYobikscj0wO3I8aS5sZW5ndGg7cisrKXtlW2lbcl1dPTF9fXQ9dC5wYXJlbnRNb2RlbH1yZXR1cm4gZX0oZSk7aWYobClmb3IodmFyIHUgaW4gbz17fSxsKWlmKGwuaGFzT3duUHJvcGVydHkodSkpe3ZhciBoPWUuZ2V0TW9kZWwoWyJyaWNoIix1XSk7Q2gob1t1XT17fSxoLHMsbixpLHIsITEsITApfW8mJih0LnJpY2g9byk7dmFyIGM9ZS5nZXQoIm92ZXJmbG93Iik7YyYmKHQub3ZlcmZsb3c9Yyk7dmFyIHA9ZS5nZXQoIm1pbk1hcmdpbiIpO251bGwhPXAmJih0Lm1hcmdpbj1wKTtDaCh0LGUscyxuLGksciwhMCwhMSl9KG8sdCxuLGksciksZSYmVChvLGUpLG99ZnVuY3Rpb24gU2godCxlLG4pe2U9ZXx8e307dmFyIGkscj17fSxvPXQuZ2V0U2hhbGxvdygicm90YXRlIiksYT1ldCh0LmdldFNoYWxsb3coImRpc3RhbmNlIiksbj9udWxsOjUpLHM9dC5nZXRTaGFsbG93KCJvZmZzZXQiKTtyZXR1cm4ib3V0c2lkZSI9PT0oaT10LmdldFNoYWxsb3coInBvc2l0aW9uIil8fChuP251bGw6Imluc2lkZSIpKSYmKGk9ZS5kZWZhdWx0T3V0c2lkZVBvc2l0aW9ufHwidG9wIiksbnVsbCE9aSYmKHIucG9zaXRpb249aSksbnVsbCE9cyYmKHIub2Zmc2V0PXMpLG51bGwhPW8mJihvKj1NYXRoLlBJLzE4MCxyLnJvdGF0aW9uPW8pLG51bGwhPWEmJihyLmRpc3RhbmNlPWEpLHIub3V0c2lkZUZpbGw9ImluaGVyaXQiPT09dC5nZXQoImNvbG9yIik/ZS5pbmhlcml0Q29sb3J8fG51bGw6ImF1dG8iLHJ9dmFyIE1oPVsiZm9udFN0eWxlIiwiZm9udFdlaWdodCIsImZvbnRTaXplIiwiZm9udEZhbWlseSIsInRleHRTaGFkb3dDb2xvciIsInRleHRTaGFkb3dCbHVyIiwidGV4dFNoYWRvd09mZnNldFgiLCJ0ZXh0U2hhZG93T2Zmc2V0WSJdLEloPVsiYWxpZ24iLCJsaW5lSGVpZ2h0Iiwid2lkdGgiLCJoZWlnaHQiLCJ0YWciLCJ2ZXJ0aWNhbEFsaWduIl0sVGg9WyJwYWRkaW5nIiwiYm9yZGVyV2lkdGgiLCJib3JkZXJSYWRpdXMiLCJib3JkZXJEYXNoT2Zmc2V0IiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyQ29sb3IiLCJzaGFkb3dDb2xvciIsInNoYWRvd0JsdXIiLCJzaGFkb3dPZmZzZXRYIiwic2hhZG93T2Zmc2V0WSJdO2Z1bmN0aW9uIENoKHQsZSxuLGkscixvLGEscyl7bj0hciYmbnx8dmg7dmFyIGw9aSYmaS5pbmhlcml0Q29sb3IsdT1lLmdldFNoYWxsb3coImNvbG9yIiksaD1lLmdldFNoYWxsb3coInRleHRCb3JkZXJDb2xvciIpLGM9ZXQoZS5nZXRTaGFsbG93KCJvcGFjaXR5Iiksbi5vcGFjaXR5KTsiaW5oZXJpdCIhPT11JiYiYXV0byIhPT11fHwodT1sfHxudWxsKSwiaW5oZXJpdCIhPT1oJiYiYXV0byIhPT1ofHwoaD1sfHxudWxsKSxvfHwodT11fHxuLmNvbG9yLGg9aHx8bi50ZXh0Qm9yZGVyQ29sb3IpLG51bGwhPXUmJih0LmZpbGw9dSksbnVsbCE9aCYmKHQuc3Ryb2tlPWgpO3ZhciBwPWV0KGUuZ2V0U2hhbGxvdygidGV4dEJvcmRlcldpZHRoIiksbi50ZXh0Qm9yZGVyV2lkdGgpO251bGwhPXAmJih0LmxpbmVXaWR0aD1wKTt2YXIgZD1ldChlLmdldFNoYWxsb3coInRleHRCb3JkZXJUeXBlIiksbi50ZXh0Qm9yZGVyVHlwZSk7bnVsbCE9ZCYmKHQubGluZURhc2g9ZCk7dmFyIGY9ZXQoZS5nZXRTaGFsbG93KCJ0ZXh0Qm9yZGVyRGFzaE9mZnNldCIpLG4udGV4dEJvcmRlckRhc2hPZmZzZXQpO251bGwhPWYmJih0LmxpbmVEYXNoT2Zmc2V0PWYpLHJ8fG51bGwhPWN8fHN8fChjPWkmJmkuZGVmYXVsdE9wYWNpdHkpLG51bGwhPWMmJih0Lm9wYWNpdHk9Yykscnx8b3x8bnVsbD09dC5maWxsJiZpLmluaGVyaXRDb2xvciYmKHQuZmlsbD1pLmluaGVyaXRDb2xvcik7Zm9yKHZhciBnPTA7ZzxNaC5sZW5ndGg7ZysrKXt2YXIgeT1NaFtnXTtudWxsIT0obT1ldChlLmdldFNoYWxsb3coeSksblt5XSkpJiYodFt5XT1tKX1mb3IoZz0wO2c8SWgubGVuZ3RoO2crKyl7eT1JaFtnXTtudWxsIT0obT1lLmdldFNoYWxsb3coeSkpJiYodFt5XT1tKX1pZihudWxsPT10LnZlcnRpY2FsQWxpZ24pe3ZhciB2PWUuZ2V0U2hhbGxvdygiYmFzZWxpbmUiKTtudWxsIT12JiYodC52ZXJ0aWNhbEFsaWduPXYpfWlmKCFhfHwhaS5kaXNhYmxlQm94KXtmb3IoZz0wO2c8VGgubGVuZ3RoO2crKyl7dmFyIG07eT1UaFtnXTtudWxsIT0obT1lLmdldFNoYWxsb3coeSkpJiYodFt5XT1tKX12YXIgXz1lLmdldFNoYWxsb3coImJvcmRlclR5cGUiKTtudWxsIT1fJiYodC5ib3JkZXJEYXNoPV8pLCJhdXRvIiE9PXQuYmFja2dyb3VuZENvbG9yJiYiaW5oZXJpdCIhPT10LmJhY2tncm91bmRDb2xvcnx8IWx8fCh0LmJhY2tncm91bmRDb2xvcj1sKSwiYXV0byIhPT10LmJvcmRlckNvbG9yJiYiaW5oZXJpdCIhPT10LmJvcmRlckNvbG9yfHwhbHx8KHQuYm9yZGVyQ29sb3I9bCl9fWZ1bmN0aW9uIERoKHQsZSl7dmFyIG49ZSYmZS5nZXRNb2RlbCgidGV4dFN0eWxlIik7cmV0dXJuIGF0KFt0LmZvbnRTdHlsZXx8biYmbi5nZXRTaGFsbG93KCJmb250U3R5bGUiKXx8IiIsdC5mb250V2VpZ2h0fHxuJiZuLmdldFNoYWxsb3coImZvbnRXZWlnaHQiKXx8IiIsKHQuZm9udFNpemV8fG4mJm4uZ2V0U2hhbGxvdygiZm9udFNpemUiKXx8MTIpKyJweCIsdC5mb250RmFtaWx5fHxuJiZuLmdldFNoYWxsb3coImZvbnRGYW1pbHkiKXx8InNhbnMtc2VyaWYiXS5qb2luKCIgIikpfXZhciBBaD1ScigpO2Z1bmN0aW9uIGtoKHQsZSxuLGkpe2lmKHQpe3ZhciByPUFoKHQpO3IucHJldlZhbHVlPXIudmFsdWUsci52YWx1ZT1uO3ZhciBvPWUubm9ybWFsO3IudmFsdWVBbmltYXRpb249by5nZXQoInZhbHVlQW5pbWF0aW9uIiksci52YWx1ZUFuaW1hdGlvbiYmKHIucHJlY2lzaW9uPW8uZ2V0KCJwcmVjaXNpb24iKSxyLmRlZmF1bHRJbnRlcnBvbGF0ZWRUZXh0PWksci5zdGF0ZXNNb2RlbHM9ZSl9fWZ1bmN0aW9uIExoKHQsZSxuLGkscil7dmFyIG89QWgodCk7aWYoby52YWx1ZUFuaW1hdGlvbiYmby5wcmV2VmFsdWUhPT1vLnZhbHVlKXt2YXIgYT1vLmRlZmF1bHRJbnRlcnBvbGF0ZWRUZXh0LHM9ZXQoby5pbnRlcnBvbGF0ZWRWYWx1ZSxvLnByZXZWYWx1ZSksbD1vLnZhbHVlO3QucGVyY2VudD0wLChudWxsPT1vLnByZXZWYWx1ZT9WdTpFdSkodCx7cGVyY2VudDoxfSxpLGUsbnVsbCwoZnVuY3Rpb24oaSl7dmFyIHU9V3IobixvLnByZWNpc2lvbixzLGwsaSk7by5pbnRlcnBvbGF0ZWRWYWx1ZT0xPT09aT9udWxsOnU7dmFyIGg9X2goe2xhYmVsRGF0YUluZGV4OmUsbGFiZWxGZXRjaGVyOnIsZGVmYXVsdFRleHQ6YT9hKHUpOnUrIiJ9LG8uc3RhdGVzTW9kZWxzLHUpO21oKHQsaCl9KSl9fXZhciBQaCxPaCxSaD1bInRleHRTdHlsZSIsImNvbG9yIl0sTmg9bmV3IGZzLHpoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZ2V0VGV4dENvbG9yPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZWNNb2RlbDtyZXR1cm4gdGhpcy5nZXRTaGFsbG93KCJjb2xvciIpfHwoIXQmJmU/ZS5nZXQoUmgpOm51bGwpfSx0LnByb3RvdHlwZS5nZXRGb250PWZ1bmN0aW9uKCl7cmV0dXJuIERoKHtmb250U3R5bGU6dGhpcy5nZXRTaGFsbG93KCJmb250U3R5bGUiKSxmb250V2VpZ2h0OnRoaXMuZ2V0U2hhbGxvdygiZm9udFdlaWdodCIpLGZvbnRTaXplOnRoaXMuZ2V0U2hhbGxvdygiZm9udFNpemUiKSxmb250RmFtaWx5OnRoaXMuZ2V0U2hhbGxvdygiZm9udEZhbWlseSIpfSx0aGlzLmVjTW9kZWwpfSx0LnByb3RvdHlwZS5nZXRUZXh0UmVjdD1mdW5jdGlvbih0KXtyZXR1cm4gTmgudXNlU3R5bGUoe3RleHQ6dCxmb250U3R5bGU6dGhpcy5nZXRTaGFsbG93KCJmb250U3R5bGUiKSxmb250V2VpZ2h0OnRoaXMuZ2V0U2hhbGxvdygiZm9udFdlaWdodCIpLGZvbnRTaXplOnRoaXMuZ2V0U2hhbGxvdygiZm9udFNpemUiKSxmb250RmFtaWx5OnRoaXMuZ2V0U2hhbGxvdygiZm9udEZhbWlseSIpLHZlcnRpY2FsQWxpZ246dGhpcy5nZXRTaGFsbG93KCJ2ZXJ0aWNhbEFsaWduIil8fHRoaXMuZ2V0U2hhbGxvdygiYmFzZWxpbmUiKSxwYWRkaW5nOnRoaXMuZ2V0U2hhbGxvdygicGFkZGluZyIpLGxpbmVIZWlnaHQ6dGhpcy5nZXRTaGFsbG93KCJsaW5lSGVpZ2h0IikscmljaDp0aGlzLmdldFNoYWxsb3coInJpY2giKX0pLE5oLnVwZGF0ZSgpLE5oLmdldEJvdW5kaW5nUmVjdCgpfSx0fSgpLEVoPVtbImxpbmVXaWR0aCIsIndpZHRoIl0sWyJzdHJva2UiLCJjb2xvciJdLFsib3BhY2l0eSJdLFsic2hhZG93Qmx1ciJdLFsic2hhZG93T2Zmc2V0WCJdLFsic2hhZG93T2Zmc2V0WSJdLFsic2hhZG93Q29sb3IiXSxbImxpbmVEYXNoIiwidHlwZSJdLFsibGluZURhc2hPZmZzZXQiLCJkYXNoT2Zmc2V0Il0sWyJsaW5lQ2FwIiwiY2FwIl0sWyJsaW5lSm9pbiIsImpvaW4iXSxbIm1pdGVyTGltaXQiXV0sVmg9dG8oRWgpLEJoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZ2V0TGluZVN0eWxlPWZ1bmN0aW9uKHQpe3JldHVybiBWaCh0aGlzLHQpfSx0fSgpLEdoPVtbImZpbGwiLCJjb2xvciJdLFsic3Ryb2tlIiwiYm9yZGVyQ29sb3IiXSxbImxpbmVXaWR0aCIsImJvcmRlcldpZHRoIl0sWyJvcGFjaXR5Il0sWyJzaGFkb3dCbHVyIl0sWyJzaGFkb3dPZmZzZXRYIl0sWyJzaGFkb3dPZmZzZXRZIl0sWyJzaGFkb3dDb2xvciJdLFsibGluZURhc2giLCJib3JkZXJUeXBlIl0sWyJsaW5lRGFzaE9mZnNldCIsImJvcmRlckRhc2hPZmZzZXQiXSxbImxpbmVDYXAiLCJib3JkZXJDYXAiXSxbImxpbmVKb2luIiwiYm9yZGVySm9pbiJdLFsibWl0ZXJMaW1pdCIsImJvcmRlck1pdGVyTGltaXQiXV0sRmg9dG8oR2gpLEhoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZ2V0SXRlbVN0eWxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEZoKHRoaXMsdCxlKX0sdH0oKSxXaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMucGFyZW50TW9kZWw9ZSx0aGlzLmVjTW9kZWw9bix0aGlzLm9wdGlvbj10fXJldHVybiB0LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9W10scj0zO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspaVtyLTNdPWFyZ3VtZW50c1tyXX0sdC5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24odCxlKXtNKHRoaXMub3B0aW9uLHQsITApfSx0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbD09dD90aGlzLm9wdGlvbjp0aGlzLl9kb0dldCh0aGlzLnBhcnNlUGF0aCh0KSwhZSYmdGhpcy5wYXJlbnRNb2RlbCl9LHQucHJvdG90eXBlLmdldFNoYWxsb3c9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm9wdGlvbixpPW51bGw9PW4/bjpuW3RdO2lmKG51bGw9PWkmJiFlKXt2YXIgcj10aGlzLnBhcmVudE1vZGVsO3ImJihpPXIuZ2V0U2hhbGxvdyh0KSl9cmV0dXJuIGl9LHQucHJvdG90eXBlLmdldE1vZGVsPWZ1bmN0aW9uKGUsbil7dmFyIGk9bnVsbCE9ZSxyPWk/dGhpcy5wYXJzZVBhdGgoZSk6bnVsbDtyZXR1cm4gbmV3IHQoaT90aGlzLl9kb0dldChyKTp0aGlzLm9wdGlvbixuPW58fHRoaXMucGFyZW50TW9kZWwmJnRoaXMucGFyZW50TW9kZWwuZ2V0TW9kZWwodGhpcy5yZXNvbHZlUGFyZW50UGF0aChyKSksdGhpcy5lY01vZGVsKX0sdC5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiBudWxsPT10aGlzLm9wdGlvbn0sdC5wcm90b3R5cGUucmVzdG9yZURhdGE9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldygwLHRoaXMuY29uc3RydWN0b3IpKFModGhpcy5vcHRpb24pKX0sdC5wcm90b3R5cGUucGFyc2VQYXRoPWZ1bmN0aW9uKHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD90LnNwbGl0KCIuIik6dH0sdC5wcm90b3R5cGUucmVzb2x2ZVBhcmVudFBhdGg9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LHQucHJvdG90eXBlLmlzQW5pbWF0aW9uRW5hYmxlZD1mdW5jdGlvbigpe2lmKCFhLm5vZGUmJnRoaXMub3B0aW9uKXtpZihudWxsIT10aGlzLm9wdGlvbi5hbmltYXRpb24pcmV0dXJuISF0aGlzLm9wdGlvbi5hbmltYXRpb247aWYodGhpcy5wYXJlbnRNb2RlbClyZXR1cm4gdGhpcy5wYXJlbnRNb2RlbC5pc0FuaW1hdGlvbkVuYWJsZWQoKX19LHQucHJvdG90eXBlLl9kb0dldD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMub3B0aW9uO2lmKCF0KXJldHVybiBuO2Zvcih2YXIgaT0wO2k8dC5sZW5ndGgmJighdFtpXXx8bnVsbCE9KG49biYmIm9iamVjdCI9PXR5cGVvZiBuP25bdFtpXV06bnVsbCkpO2krKyk7cmV0dXJuIG51bGw9PW4mJmUmJihuPWUuX2RvR2V0KHRoaXMucmVzb2x2ZVBhcmVudFBhdGgodCksZS5wYXJlbnRNb2RlbCkpLG59LHR9KCk7WnIoV2gpLFBoPVdoLE9oPVsiX19cMGlzX2NseiIsS3IrK10uam9pbigiXyIpLFBoLnByb3RvdHlwZVtPaF09ITAsUGguaXNJbnN0YW5jZT1mdW5jdGlvbih0KXtyZXR1cm4hKCF0fHwhdFtPaF0pfSxMKFdoLEJoKSxMKFdoLEhoKSxMKFdoLG5vKSxMKFdoLHpoKTt2YXIgVWg9TWF0aC5yb3VuZCgxMCpNYXRoLnJhbmRvbSgpKTtmdW5jdGlvbiBYaCh0KXtyZXR1cm5bdHx8IiIsVWgrK10uam9pbigiXyIpfWZ1bmN0aW9uIFloKHQsZSl7cmV0dXJuIE0oTSh7fSx0LCEwKSxlLCEwKX12YXIgWmg9IlpIIixqaD0iRU4iLHFoPWpoLEtoPXt9LCRoPXt9LEpoPWEuZG9tU3VwcG9ydGVkJiYoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lmxhbmd8fG5hdmlnYXRvci5sYW5ndWFnZXx8bmF2aWdhdG9yLmJyb3dzZXJMYW5ndWFnZSkudG9VcHBlckNhc2UoKS5pbmRleE9mKFpoKT4tMT9aaDpxaDtmdW5jdGlvbiBRaCh0LGUpe3Q9dC50b1VwcGVyQ2FzZSgpLCRoW3RdPW5ldyBXaChlKSxLaFt0XT1lfWZ1bmN0aW9uIHRjKHQpe3JldHVybiAkaFt0XX1RaChqaCx7dGltZTp7bW9udGg6WyJKYW51YXJ5IiwiRmVicnVhcnkiLCJNYXJjaCIsIkFwcmlsIiwiTWF5IiwiSnVuZSIsIkp1bHkiLCJBdWd1c3QiLCJTZXB0ZW1iZXIiLCJPY3RvYmVyIiwiTm92ZW1iZXIiLCJEZWNlbWJlciJdLG1vbnRoQWJicjpbIkphbiIsIkZlYiIsIk1hciIsIkFwciIsIk1heSIsIkp1biIsIkp1bCIsIkF1ZyIsIlNlcCIsIk9jdCIsIk5vdiIsIkRlYyJdLGRheU9mV2VlazpbIlN1bmRheSIsIk1vbmRheSIsIlR1ZXNkYXkiLCJXZWRuZXNkYXkiLCJUaHVyc2RheSIsIkZyaWRheSIsIlNhdHVyZGF5Il0sZGF5T2ZXZWVrQWJicjpbIlN1biIsIk1vbiIsIlR1ZSIsIldlZCIsIlRodSIsIkZyaSIsIlNhdCJdfSxsZWdlbmQ6e3NlbGVjdG9yOnthbGw6IkFsbCIsaW52ZXJzZToiSW52In19LHRvb2xib3g6e2JydXNoOnt0aXRsZTp7cmVjdDoiQm94IFNlbGVjdCIscG9seWdvbjoiTGFzc28gU2VsZWN0IixsaW5lWDoiSG9yaXpvbnRhbGx5IFNlbGVjdCIsbGluZVk6IlZlcnRpY2FsbHkgU2VsZWN0IixrZWVwOiJLZWVwIFNlbGVjdGlvbnMiLGNsZWFyOiJDbGVhciBTZWxlY3Rpb25zIn19LGRhdGFWaWV3Ont0aXRsZToiRGF0YSBWaWV3IixsYW5nOlsiRGF0YSBWaWV3IiwiQ2xvc2UiLCJSZWZyZXNoIl19LGRhdGFab29tOnt0aXRsZTp7em9vbToiWm9vbSIsYmFjazoiWm9vbSBSZXNldCJ9fSxtYWdpY1R5cGU6e3RpdGxlOntsaW5lOiJTd2l0Y2ggdG8gTGluZSBDaGFydCIsYmFyOiJTd2l0Y2ggdG8gQmFyIENoYXJ0IixzdGFjazoiU3RhY2siLHRpbGVkOiJUaWxlIn19LHJlc3RvcmU6e3RpdGxlOiJSZXN0b3JlIn0sc2F2ZUFzSW1hZ2U6e3RpdGxlOiJTYXZlIGFzIEltYWdlIixsYW5nOlsiUmlnaHQgQ2xpY2sgdG8gU2F2ZSBJbWFnZSJdfX0sc2VyaWVzOnt0eXBlTmFtZXM6e3BpZToiUGllIGNoYXJ0IixiYXI6IkJhciBjaGFydCIsbGluZToiTGluZSBjaGFydCIsc2NhdHRlcjoiU2NhdHRlciBwbG90IixlZmZlY3RTY2F0dGVyOiJSaXBwbGUgc2NhdHRlciBwbG90IixyYWRhcjoiUmFkYXIgY2hhcnQiLHRyZWU6IlRyZWUiLHRyZWVtYXA6IlRyZWVtYXAiLGJveHBsb3Q6IkJveHBsb3QiLGNhbmRsZXN0aWNrOiJDYW5kbGVzdGljayIsazoiSyBsaW5lIGNoYXJ0IixoZWF0bWFwOiJIZWF0IG1hcCIsbWFwOiJNYXAiLHBhcmFsbGVsOiJQYXJhbGxlbCBjb29yZGluYXRlIG1hcCIsbGluZXM6IkxpbmUgZ3JhcGgiLGdyYXBoOiJSZWxhdGlvbnNoaXAgZ3JhcGgiLHNhbmtleToiU2Fua2V5IGRpYWdyYW0iLGZ1bm5lbDoiRnVubmVsIGNoYXJ0IixnYXVnZToiR2F1Z2UiLHBpY3RvcmlhbEJhcjoiUGljdG9yaWFsIGJhciIsdGhlbWVSaXZlcjoiVGhlbWUgUml2ZXIgTWFwIixzdW5idXJzdDoiU3VuYnVyc3QifX0sYXJpYTp7Z2VuZXJhbDp7d2l0aFRpdGxlOidUaGlzIGlzIGEgY2hhcnQgYWJvdXQgInt0aXRsZX0iJyx3aXRob3V0VGl0bGU6IlRoaXMgaXMgYSBjaGFydCJ9LHNlcmllczp7c2luZ2xlOntwcmVmaXg6IiIsd2l0aE5hbWU6IiB3aXRoIHR5cGUge3Nlcmllc1R5cGV9IG5hbWVkIHtzZXJpZXNOYW1lfS4iLHdpdGhvdXROYW1lOiIgd2l0aCB0eXBlIHtzZXJpZXNUeXBlfS4ifSxtdWx0aXBsZTp7cHJlZml4OiIuIEl0IGNvbnNpc3RzIG9mIHtzZXJpZXNDb3VudH0gc2VyaWVzIGNvdW50LiIsd2l0aE5hbWU6IiBUaGUge3Nlcmllc0lkfSBzZXJpZXMgaXMgYSB7c2VyaWVzVHlwZX0gcmVwcmVzZW50aW5nIHtzZXJpZXNOYW1lfS4iLHdpdGhvdXROYW1lOiIgVGhlIHtzZXJpZXNJZH0gc2VyaWVzIGlzIGEge3Nlcmllc1R5cGV9LiIsc2VwYXJhdG9yOnttaWRkbGU6IiIsZW5kOiIifX19LGRhdGE6e2FsbERhdGE6IlRoZSBkYXRhIGlzIGFzIGZvbGxvd3M6ICIscGFydGlhbERhdGE6IlRoZSBmaXJzdCB7ZGlzcGxheUNudH0gaXRlbXMgYXJlOiAiLHdpdGhOYW1lOiJ0aGUgZGF0YSBmb3Ige25hbWV9IGlzIHt2YWx1ZX0iLHdpdGhvdXROYW1lOiJ7dmFsdWV9IixzZXBhcmF0b3I6e21pZGRsZToiLCAiLGVuZDoiLiAifX19fSksUWgoWmgse3RpbWU6e21vbnRoOlsi5LiA5pyIIiwi5LqM5pyIIiwi5LiJ5pyIIiwi5Zub5pyIIiwi5LqU5pyIIiwi5YWt5pyIIiwi5LiD5pyIIiwi5YWr5pyIIiwi5Lmd5pyIIiwi5Y2B5pyIIiwi5Y2B5LiA5pyIIiwi5Y2B5LqM5pyIIl0sbW9udGhBYmJyOlsiMeaciCIsIjLmnIgiLCIz5pyIIiwiNOaciCIsIjXmnIgiLCI25pyIIiwiN+aciCIsIjjmnIgiLCI55pyIIiwiMTDmnIgiLCIxMeaciCIsIjEy5pyIIl0sZGF5T2ZXZWVrOlsi5pif5pyf5pelIiwi5pif5pyf5LiAIiwi5pif5pyf5LqMIiwi5pif5pyf5LiJIiwi5pif5pyf5ZubIiwi5pif5pyf5LqUIiwi5pif5pyf5YWtIl0sZGF5T2ZXZWVrQWJicjpbIuaXpSIsIuS4gCIsIuS6jCIsIuS4iSIsIuWbmyIsIuS6lCIsIuWFrSJdfSxsZWdlbmQ6e3NlbGVjdG9yOnthbGw6IuWFqOmAiSIsaW52ZXJzZToi5Y+N6YCJIn19LHRvb2xib3g6e2JydXNoOnt0aXRsZTp7cmVjdDoi55+p5b2i6YCJ5oupIixwb2x5Z29uOiLlnIjpgIkiLGxpbmVYOiLmqKrlkJHpgInmi6kiLGxpbmVZOiLnurXlkJHpgInmi6kiLGtlZXA6IuS/neaMgemAieaLqSIsY2xlYXI6Iua4hemZpOmAieaLqSJ9fSxkYXRhVmlldzp7dGl0bGU6IuaVsOaNruinhuWbviIsbGFuZzpbIuaVsOaNruinhuWbviIsIuWFs+mXrSIsIuWIt+aWsCJdfSxkYXRhWm9vbTp7dGl0bGU6e3pvb206IuWMuuWfn+e8qeaUviIsYmFjazoi5Yy65Z+f57yp5pS+6L+Y5Y6fIn19LG1hZ2ljVHlwZTp7dGl0bGU6e2xpbmU6IuWIh+aNouS4uuaKmOe6v+WbviIsYmFyOiLliIfmjaLkuLrmn7Hnirblm74iLHN0YWNrOiLliIfmjaLkuLrloIblj6AiLHRpbGVkOiLliIfmjaLkuLrlubPpk7oifX0scmVzdG9yZTp7dGl0bGU6Iui/mOWOnyJ9LHNhdmVBc0ltYWdlOnt0aXRsZToi5L+d5a2Y5Li65Zu+54mHIixsYW5nOlsi5Y+z6ZSu5Y+m5a2Y5Li65Zu+54mHIl19fSxzZXJpZXM6e3R5cGVOYW1lczp7cGllOiLppbzlm74iLGJhcjoi5p+x54q25Zu+IixsaW5lOiLmipjnur/lm74iLHNjYXR0ZXI6IuaVo+eCueWbviIsZWZmZWN0U2NhdHRlcjoi5raf5ryq5pWj54K55Zu+IixyYWRhcjoi6Zu36L6+5Zu+Iix0cmVlOiLmoJHlm74iLHRyZWVtYXA6IuefqeW9ouagkeWbviIsYm94cGxvdDoi566x5Z6L5Zu+IixjYW5kbGVzdGljazoiS+e6v+WbviIsazoiS+e6v+WbviIsaGVhdG1hcDoi54Ot5Yqb5Zu+IixtYXA6IuWcsOWbviIscGFyYWxsZWw6IuW5s+ihjOWdkOagh+WbviIsbGluZXM6Iue6v+WbviIsZ3JhcGg6IuWFs+ezu+WbviIsc2Fua2V5OiLmoZHln7rlm74iLGZ1bm5lbDoi5ryP5paX5Zu+IixnYXVnZToi5Luq6KGo55uY5Zu+IixwaWN0b3JpYWxCYXI6IuixoeW9ouafseWbviIsdGhlbWVSaXZlcjoi5Li76aKY5rKz5rWB5Zu+IixzdW5idXJzdDoi5pet5pel5Zu+In19LGFyaWE6e2dlbmVyYWw6e3dpdGhUaXRsZToi6L+Z5piv5LiA5Liq5YWz5LqO4oCce3RpdGxlfeKAneeahOWbvuihqOOAgiIsd2l0aG91dFRpdGxlOiLov5nmmK/kuIDkuKrlm77ooajvvIwifSxzZXJpZXM6e3NpbmdsZTp7cHJlZml4OiIiLHdpdGhOYW1lOiLlm77ooajnsbvlnovmmK97c2VyaWVzVHlwZX3vvIzooajnpLp7c2VyaWVzTmFtZX3jgIIiLHdpdGhvdXROYW1lOiLlm77ooajnsbvlnovmmK97c2VyaWVzVHlwZX3jgIIifSxtdWx0aXBsZTp7cHJlZml4OiLlroPnlLF7c2VyaWVzQ291bnR95Liq5Zu+6KGo57O75YiX57uE5oiQ44CCIix3aXRoTmFtZToi56yse3Nlcmllc0lkfeS4quezu+WIl+aYr+S4gOS4quihqOekuntzZXJpZXNOYW1lfeeahHtzZXJpZXNUeXBlfe+8jCIsd2l0aG91dE5hbWU6IuesrHtzZXJpZXNJZH3kuKrns7vliJfmmK/kuIDkuKp7c2VyaWVzVHlwZX3vvIwiLHNlcGFyYXRvcjp7bWlkZGxlOiLvvJsiLGVuZDoi44CCIn19fSxkYXRhOnthbGxEYXRhOiLlhbbmlbDmja7mmK/igJTigJQiLHBhcnRpYWxEYXRhOiLlhbbkuK3vvIzliY17ZGlzcGxheUNudH3pobnmmK/igJTigJQiLHdpdGhOYW1lOiJ7bmFtZX3nmoTmlbDmja7mmK97dmFsdWV9Iix3aXRob3V0TmFtZToie3ZhbHVlfSIsc2VwYXJhdG9yOnttaWRkbGU6Iu+8jCIsZW5kOiIifX19fSk7dmFyIGVjPTFlMyxuYz02ZTQsaWM9MzZlNSxyYz04NjRlNSxvYz0zMTUzNmU2LGFjPXt5ZWFyOiJ7eXl5eX0iLG1vbnRoOiJ7TU1NfSIsZGF5OiJ7ZH0iLGhvdXI6IntISH06e21tfSIsbWludXRlOiJ7SEh9OnttbX0iLHNlY29uZDoie0hIfTp7bW19Ontzc30iLG1pbGxpc2Vjb25kOiJ7SEh9OnttbX06e3NzfSB7U1NTfSIsbm9uZToie3l5eXl9LXtNTX0te2RkfSB7SEh9OnttbX06e3NzfSB7U1NTfSJ9LHNjPSJ7eXl5eX0te01NfS17ZGR9IixsYz17eWVhcjoie3l5eXl9Iixtb250aDoie3l5eXl9LXtNTX0iLGRheTpzYyxob3VyOiJ7eXl5eX0te01NfS17ZGR9ICIrYWMuaG91cixtaW51dGU6Int5eXl5fS17TU19LXtkZH0gIithYy5taW51dGUsc2Vjb25kOiJ7eXl5eX0te01NfS17ZGR9ICIrYWMuc2Vjb25kLG1pbGxpc2Vjb25kOmFjLm5vbmV9LHVjPVsieWVhciIsIm1vbnRoIiwiZGF5IiwiaG91ciIsIm1pbnV0ZSIsInNlY29uZCIsIm1pbGxpc2Vjb25kIl0saGM9WyJ5ZWFyIiwiaGFsZi15ZWFyIiwicXVhcnRlciIsIm1vbnRoIiwid2VlayIsImhhbGYtd2VlayIsImRheSIsImhhbGYtZGF5IiwicXVhcnRlci1kYXkiLCJob3VyIiwibWludXRlIiwic2Vjb25kIiwibWlsbGlzZWNvbmQiXTtmdW5jdGlvbiBjYyh0LGUpe3JldHVybiIwMDAwIi5zdWJzdHIoMCxlLSh0Kz0iIikubGVuZ3RoKSt0fWZ1bmN0aW9uIHBjKHQpe3N3aXRjaCh0KXtjYXNlImhhbGYteWVhciI6Y2FzZSJxdWFydGVyIjpyZXR1cm4ibW9udGgiO2Nhc2Uid2VlayI6Y2FzZSJoYWxmLXdlZWsiOnJldHVybiJkYXkiO2Nhc2UiaGFsZi1kYXkiOmNhc2UicXVhcnRlci1kYXkiOnJldHVybiJob3VyIjtkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiBkYyh0KXtyZXR1cm4gdD09PXBjKHQpfWZ1bmN0aW9uIGZjKHQsZSxuLGkpe3ZhciByPXNyKHQpLG89clt2YyhuKV0oKSxhPXJbbWMobildKCkrMSxzPU1hdGguZmxvb3IoKGEtMSkvNCkrMSxsPXJbX2MobildKCksdT1yWyJnZXQiKyhuPyJVVEMiOiIiKSsiRGF5Il0oKSxoPXJbeGMobildKCksYz0oaC0xKSUxMisxLHA9cltiYyhuKV0oKSxkPXJbd2MobildKCksZj1yW1NjKG4pXSgpLGc9KGkgaW5zdGFuY2VvZiBXaD9pOnRjKGl8fEpoKXx8JGguRU4pLmdldE1vZGVsKCJ0aW1lIikseT1nLmdldCgibW9udGgiKSx2PWcuZ2V0KCJtb250aEFiYnIiKSxtPWcuZ2V0KCJkYXlPZldlZWsiKSxfPWcuZ2V0KCJkYXlPZldlZWtBYmJyIik7cmV0dXJuKGV8fCIiKS5yZXBsYWNlKC97eXl5eX0vZyxvKyIiKS5yZXBsYWNlKC97eXl9L2csbyUxMDArIiIpLnJlcGxhY2UoL3tRfS9nLHMrIiIpLnJlcGxhY2UoL3tNTU1NfS9nLHlbYS0xXSkucmVwbGFjZSgve01NTX0vZyx2W2EtMV0pLnJlcGxhY2UoL3tNTX0vZyxjYyhhLDIpKS5yZXBsYWNlKC97TX0vZyxhKyIiKS5yZXBsYWNlKC97ZGR9L2csY2MobCwyKSkucmVwbGFjZSgve2R9L2csbCsiIikucmVwbGFjZSgve2VlZWV9L2csbVt1XSkucmVwbGFjZSgve2VlfS9nLF9bdV0pLnJlcGxhY2UoL3tlfS9nLHUrIiIpLnJlcGxhY2UoL3tISH0vZyxjYyhoLDIpKS5yZXBsYWNlKC97SH0vZyxoKyIiKS5yZXBsYWNlKC97aGh9L2csY2MoYysiIiwyKSkucmVwbGFjZSgve2h9L2csYysiIikucmVwbGFjZSgve21tfS9nLGNjKHAsMikpLnJlcGxhY2UoL3ttfS9nLHArIiIpLnJlcGxhY2UoL3tzc30vZyxjYyhkLDIpKS5yZXBsYWNlKC97c30vZyxkKyIiKS5yZXBsYWNlKC97U1NTfS9nLGNjKGYsMykpLnJlcGxhY2UoL3tTfS9nLGYrIiIpfWZ1bmN0aW9uIGdjKHQsZSl7dmFyIG49c3IodCksaT1uW21jKGUpXSgpKzEscj1uW19jKGUpXSgpLG89blt4YyhlKV0oKSxhPW5bYmMoZSldKCkscz1uW3djKGUpXSgpLGw9MD09PW5bU2MoZSldKCksdT1sJiYwPT09cyxoPXUmJjA9PT1hLGM9aCYmMD09PW8scD1jJiYxPT09cjtyZXR1cm4gcCYmMT09PWk/InllYXIiOnA/Im1vbnRoIjpjPyJkYXkiOmg/ImhvdXIiOnU/Im1pbnV0ZSI6bD8ic2Vjb25kIjoibWlsbGlzZWNvbmQifWZ1bmN0aW9uIHljKHQsZSxuKXt2YXIgaT0ibnVtYmVyIj09dHlwZW9mIHQ/c3IodCk6dDtzd2l0Y2goZT1lfHxnYyh0LG4pKXtjYXNlInllYXIiOnJldHVybiBpW3ZjKG4pXSgpO2Nhc2UiaGFsZi15ZWFyIjpyZXR1cm4gaVttYyhuKV0oKT49Nj8xOjA7Y2FzZSJxdWFydGVyIjpyZXR1cm4gTWF0aC5mbG9vcigoaVttYyhuKV0oKSsxKS80KTtjYXNlIm1vbnRoIjpyZXR1cm4gaVttYyhuKV0oKTtjYXNlImRheSI6cmV0dXJuIGlbX2MobildKCk7Y2FzZSJoYWxmLWRheSI6cmV0dXJuIGlbeGMobildKCkvMjQ7Y2FzZSJob3VyIjpyZXR1cm4gaVt4YyhuKV0oKTtjYXNlIm1pbnV0ZSI6cmV0dXJuIGlbYmMobildKCk7Y2FzZSJzZWNvbmQiOnJldHVybiBpW3djKG4pXSgpO2Nhc2UibWlsbGlzZWNvbmQiOnJldHVybiBpW1NjKG4pXSgpfX1mdW5jdGlvbiB2Yyh0KXtyZXR1cm4gdD8iZ2V0VVRDRnVsbFllYXIiOiJnZXRGdWxsWWVhciJ9ZnVuY3Rpb24gbWModCl7cmV0dXJuIHQ/ImdldFVUQ01vbnRoIjoiZ2V0TW9udGgifWZ1bmN0aW9uIF9jKHQpe3JldHVybiB0PyJnZXRVVENEYXRlIjoiZ2V0RGF0ZSJ9ZnVuY3Rpb24geGModCl7cmV0dXJuIHQ/ImdldFVUQ0hvdXJzIjoiZ2V0SG91cnMifWZ1bmN0aW9uIGJjKHQpe3JldHVybiB0PyJnZXRVVENNaW51dGVzIjoiZ2V0TWludXRlcyJ9ZnVuY3Rpb24gd2ModCl7cmV0dXJuIHQ/ImdldFVUQ1NlY29uZHMiOiJnZXRTZWNvbmRzIn1mdW5jdGlvbiBTYyh0KXtyZXR1cm4gdD8iZ2V0VVRDTWlsbGlzZWNvbmRzIjoiZ2V0TWlsbGlzZWNvbmRzIn1mdW5jdGlvbiBNYyh0KXtyZXR1cm4gdD8ic2V0VVRDRnVsbFllYXIiOiJzZXRGdWxsWWVhciJ9ZnVuY3Rpb24gSWModCl7cmV0dXJuIHQ/InNldFVUQ01vbnRoIjoic2V0TW9udGgifWZ1bmN0aW9uIFRjKHQpe3JldHVybiB0PyJzZXRVVENEYXRlIjoic2V0RGF0ZSJ9ZnVuY3Rpb24gQ2ModCl7cmV0dXJuIHQ/InNldFVUQ0hvdXJzIjoic2V0SG91cnMifWZ1bmN0aW9uIERjKHQpe3JldHVybiB0PyJzZXRVVENNaW51dGVzIjoic2V0TWludXRlcyJ9ZnVuY3Rpb24gQWModCl7cmV0dXJuIHQ/InNldFVUQ1NlY29uZHMiOiJzZXRTZWNvbmRzIn1mdW5jdGlvbiBrYyh0KXtyZXR1cm4gdD8ic2V0VVRDTWlsbGlzZWNvbmRzIjoic2V0TWlsbGlzZWNvbmRzIn1mdW5jdGlvbiBMYyh0KXtpZighZnIodCkpcmV0dXJuIFcodCk/dDoiLSI7dmFyIGU9KHQrIiIpLnNwbGl0KCIuIik7cmV0dXJuIGVbMF0ucmVwbGFjZSgvKFxkezEsM30pKD89KD86XGR7M30pKyg/IVxkKSkvZywiJDEsIikrKGUubGVuZ3RoPjE/Ii4iK2VbMV06IiIpfWZ1bmN0aW9uIFBjKHQsZSl7cmV0dXJuIHQ9KHR8fCIiKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLy0oLikvZywoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS50b1VwcGVyQ2FzZSgpfSkpLGUmJnQmJih0PXQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKSksdH12YXIgT2M9cnQsUmM9LyhbJjw+IiddKS9nLE5jPXsiJiI6IiZhbXA7IiwiPCI6IiZsdDsiLCI+IjoiJmd0OyIsJyInOiImcXVvdDsiLCInIjoiJiMzOTsifTtmdW5jdGlvbiB6Yyh0KXtyZXR1cm4gbnVsbD09dD8iIjoodCsiIikucmVwbGFjZShSYywoZnVuY3Rpb24odCxlKXtyZXR1cm4gTmNbZV19KSl9ZnVuY3Rpb24gRWModCxlLG4pe2Z1bmN0aW9uIGkodCl7cmV0dXJuIHQmJmF0KHQpP3Q6Ii0ifWZ1bmN0aW9uIHIodCl7cmV0dXJuIShudWxsPT10fHxpc05hTih0KXx8IWlzRmluaXRlKHQpKX12YXIgbz0idGltZSI9PT1lLGE9dCBpbnN0YW5jZW9mIERhdGU7aWYob3x8YSl7dmFyIHM9bz9zcih0KTp0O2lmKCFpc05hTigrcykpcmV0dXJuIGZjKHMsInt5eXl5fS17TU19LXtkZH0ge2hofTp7bW19Ontzc30iLG4pO2lmKGEpcmV0dXJuIi0ifWlmKCJvcmRpbmFsIj09PWUpcmV0dXJuIFUodCk/aSh0KTpYKHQpJiZyKHQpP3QrIiI6Ii0iO3ZhciBsPWRyKHQpO3JldHVybiByKGwpP0xjKGwpOlUodCk/aSh0KToiYm9vbGVhbiI9PXR5cGVvZiB0P3QrIiI6Ii0ifXZhciBWYz1bImEiLCJiIiwiYyIsImQiLCJlIiwiZiIsImciXSxCYz1mdW5jdGlvbih0LGUpe3JldHVybiJ7Iit0KyhudWxsPT1lPyIiOmUpKyJ9In07ZnVuY3Rpb24gR2ModCxlLG4pe0YoZSl8fChlPVtlXSk7dmFyIGk9ZS5sZW5ndGg7aWYoIWkpcmV0dXJuIiI7Zm9yKHZhciByPWVbMF0uJHZhcnN8fFtdLG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIGE9VmNbb107dD10LnJlcGxhY2UoQmMoYSksQmMoYSwwKSl9Zm9yKHZhciBzPTA7czxpO3MrKylmb3IodmFyIGw9MDtsPHIubGVuZ3RoO2wrKyl7dmFyIHU9ZVtzXVtyW2xdXTt0PXQucmVwbGFjZShCYyhWY1tsXSxzKSxuP3pjKHUpOnUpfXJldHVybiB0fWZ1bmN0aW9uIEZjKHQsZSl7dmFyIG49Vyh0KT97Y29sb3I6dCxleHRyYUNzc1RleHQ6ZX06dHx8e30saT1uLmNvbG9yLHI9bi50eXBlO2U9bi5leHRyYUNzc1RleHQ7dmFyIG89bi5yZW5kZXJNb2RlfHwiaHRtbCI7cmV0dXJuIGk/Imh0bWwiPT09bz8ic3ViSXRlbSI9PT1yPyc8c3BhbiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246bWlkZGxlO21hcmdpbi1yaWdodDo4cHg7bWFyZ2luLWxlZnQ6M3B4O2JvcmRlci1yYWRpdXM6NHB4O3dpZHRoOjRweDtoZWlnaHQ6NHB4O2JhY2tncm91bmQtY29sb3I6Jyt6YyhpKSsiOyIrKGV8fCIiKSsnIj48L3NwYW4+JzonPHNwYW4gc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO21hcmdpbi1yaWdodDo0cHg7Ym9yZGVyLXJhZGl1czoxMHB4O3dpZHRoOjEwcHg7aGVpZ2h0OjEwcHg7YmFja2dyb3VuZC1jb2xvcjonK3pjKGkpKyI7IisoZXx8IiIpKyciPjwvc3Bhbj4nOntyZW5kZXJNb2RlOm8sY29udGVudDoieyIrKG4ubWFya2VySWR8fCJtYXJrZXJYIikrInx9ICAiLHN0eWxlOiJzdWJJdGVtIj09PXI/e3dpZHRoOjQsaGVpZ2h0OjQsYm9yZGVyUmFkaXVzOjIsYmFja2dyb3VuZENvbG9yOml9Ont3aWR0aDoxMCxoZWlnaHQ6MTAsYm9yZGVyUmFkaXVzOjUsYmFja2dyb3VuZENvbG9yOml9fToiIn1mdW5jdGlvbiBIYyh0LGUpe3JldHVybiBlPWV8fCJ0cmFuc3BhcmVudCIsVyh0KT90OlkodCkmJnQuY29sb3JTdG9wcyYmKHQuY29sb3JTdG9wc1swXXx8e30pLmNvbG9yfHxlfWZ1bmN0aW9uIFdjKHQsZSl7aWYoIl9ibGFuayI9PT1lfHwiYmxhbmsiPT09ZSl7dmFyIG49d2luZG93Lm9wZW4oKTtuLm9wZW5lcj1udWxsLG4ubG9jYXRpb24uaHJlZj10fWVsc2Ugd2luZG93Lm9wZW4odCxlKX12YXIgVWM9TyxYYz1bImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSIsIndpZHRoIiwiaGVpZ2h0Il0sWWM9W1sid2lkdGgiLCJsZWZ0IiwicmlnaHQiXSxbImhlaWdodCIsInRvcCIsImJvdHRvbSJdXTtmdW5jdGlvbiBaYyh0LGUsbixpLHIpe3ZhciBvPTAsYT0wO251bGw9PWkmJihpPTEvMCksbnVsbD09ciYmKHI9MS8wKTt2YXIgcz0wO2UuZWFjaENoaWxkKChmdW5jdGlvbihsLHUpe3ZhciBoLGMscD1sLmdldEJvdW5kaW5nUmVjdCgpLGQ9ZS5jaGlsZEF0KHUrMSksZj1kJiZkLmdldEJvdW5kaW5nUmVjdCgpO2lmKCJob3Jpem9udGFsIj09PXQpe3ZhciBnPXAud2lkdGgrKGY/LWYueCtwLng6MCk7KGg9bytnKT5pfHxsLm5ld2xpbmU/KG89MCxoPWcsYSs9cytuLHM9cC5oZWlnaHQpOnM9TWF0aC5tYXgocyxwLmhlaWdodCl9ZWxzZXt2YXIgeT1wLmhlaWdodCsoZj8tZi55K3AueTowKTsoYz1hK3kpPnJ8fGwubmV3bGluZT8obys9cytuLGE9MCxjPXkscz1wLndpZHRoKTpzPU1hdGgubWF4KHMscC53aWR0aCl9bC5uZXdsaW5lfHwobC54PW8sbC55PWEsbC5tYXJrUmVkcmF3KCksImhvcml6b250YWwiPT09dD9vPWgrbjphPWMrbil9KSl9dmFyIGpjPVpjO0coWmMsInZlcnRpY2FsIiksRyhaYywiaG9yaXpvbnRhbCIpO2Z1bmN0aW9uIHFjKHQsZSxuKXtuPU9jKG58fDApO3ZhciBpPWUud2lkdGgscj1lLmhlaWdodCxvPXFpKHQubGVmdCxpKSxhPXFpKHQudG9wLHIpLHM9cWkodC5yaWdodCxpKSxsPXFpKHQuYm90dG9tLHIpLHU9cWkodC53aWR0aCxpKSxoPXFpKHQuaGVpZ2h0LHIpLGM9blsyXStuWzBdLHA9blsxXStuWzNdLGQ9dC5hc3BlY3Q7c3dpdGNoKGlzTmFOKHUpJiYodT1pLXMtcC1vKSxpc05hTihoKSYmKGg9ci1sLWMtYSksbnVsbCE9ZCYmKGlzTmFOKHUpJiZpc05hTihoKSYmKGQ+aS9yP3U9LjgqaTpoPS44KnIpLGlzTmFOKHUpJiYodT1kKmgpLGlzTmFOKGgpJiYoaD11L2QpKSxpc05hTihvKSYmKG89aS1zLXUtcCksaXNOYU4oYSkmJihhPXItbC1oLWMpLHQubGVmdHx8dC5yaWdodCl7Y2FzZSJjZW50ZXIiOm89aS8yLXUvMi1uWzNdO2JyZWFrO2Nhc2UicmlnaHQiOm89aS11LXB9c3dpdGNoKHQudG9wfHx0LmJvdHRvbSl7Y2FzZSJtaWRkbGUiOmNhc2UiY2VudGVyIjphPXIvMi1oLzItblswXTticmVhaztjYXNlImJvdHRvbSI6YT1yLWgtY31vPW98fDAsYT1hfHwwLGlzTmFOKHUpJiYodT1pLXAtby0oc3x8MCkpLGlzTmFOKGgpJiYoaD1yLWMtYS0obHx8MCkpO3ZhciBmPW5ldyB2aShvK25bM10sYStuWzBdLHUsaCk7cmV0dXJuIGYubWFyZ2luPW4sZn1mdW5jdGlvbiBLYyh0LGUsbixpLHIpe3ZhciBvPSFyfHwhci5odnx8ci5odlswXSxhPSFyfHwhci5odnx8ci5odlsxXSxzPXImJnIuYm91bmRpbmdNb2RlfHwiYWxsIjtpZihvfHxhKXt2YXIgbDtpZigicmF3Ij09PXMpbD0iZ3JvdXAiPT09dC50eXBlP25ldyB2aSgwLDAsK2Uud2lkdGh8fDAsK2UuaGVpZ2h0fHwwKTp0LmdldEJvdW5kaW5nUmVjdCgpO2Vsc2UgaWYobD10LmdldEJvdW5kaW5nUmVjdCgpLHQubmVlZExvY2FsVHJhbnNmb3JtKCkpe3ZhciB1PXQuZ2V0TG9jYWxUcmFuc2Zvcm0oKTsobD1sLmNsb25lKCkpLmFwcGx5VHJhbnNmb3JtKHUpfXZhciBoPXFjKEMoe3dpZHRoOmwud2lkdGgsaGVpZ2h0OmwuaGVpZ2h0fSxlKSxuLGkpLGM9bz9oLngtbC54OjAscD1hP2gueS1sLnk6MDsicmF3Ij09PXM/KHQueD1jLHQueT1wKToodC54Kz1jLHQueSs9cCksdC5tYXJrUmVkcmF3KCl9fWZ1bmN0aW9uICRjKHQpe3ZhciBlPXQubGF5b3V0TW9kZXx8dC5jb25zdHJ1Y3Rvci5sYXlvdXRNb2RlO3JldHVybiBZKGUpP2U6ZT97dHlwZTplfTpudWxsfWZ1bmN0aW9uIEpjKHQsZSxuKXt2YXIgaT1uJiZuLmlnbm9yZVNpemU7IUYoaSkmJihpPVtpLGldKTt2YXIgcj1hKFljWzBdLDApLG89YShZY1sxXSwxKTtmdW5jdGlvbiBhKG4scil7dmFyIG89e30sYT0wLHU9e30saD0wO2lmKFVjKG4sKGZ1bmN0aW9uKGUpe3VbZV09dFtlXX0pKSxVYyhuLChmdW5jdGlvbih0KXtzKGUsdCkmJihvW3RdPXVbdF09ZVt0XSksbChvLHQpJiZhKyssbCh1LHQpJiZoKyt9KSksaVtyXSlyZXR1cm4gbChlLG5bMV0pP3VbblsyXV09bnVsbDpsKGUsblsyXSkmJih1W25bMV1dPW51bGwpLHU7aWYoMiE9PWgmJmEpe2lmKGE+PTIpcmV0dXJuIG87Zm9yKHZhciBjPTA7YzxuLmxlbmd0aDtjKyspe3ZhciBwPW5bY107aWYoIXMobyxwKSYmcyh0LHApKXtvW3BdPXRbcF07YnJlYWt9fXJldHVybiBvfXJldHVybiB1fWZ1bmN0aW9uIHModCxlKXtyZXR1cm4gdC5oYXNPd25Qcm9wZXJ0eShlKX1mdW5jdGlvbiBsKHQsZSl7cmV0dXJuIG51bGwhPXRbZV0mJiJhdXRvIiE9PXRbZV19ZnVuY3Rpb24gdSh0LGUsbil7VWModCwoZnVuY3Rpb24odCl7ZVt0XT1uW3RdfSkpfXUoWWNbMF0sdCxyKSx1KFljWzFdLHQsbyl9ZnVuY3Rpb24gUWModCl7cmV0dXJuIHRwKHt9LHQpfWZ1bmN0aW9uIHRwKHQsZSl7cmV0dXJuIGUmJnQmJlVjKFhjLChmdW5jdGlvbihuKXtlLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKX0pKSx0fXZhciBlcD1ScigpLG5wPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkpe3ZhciByPXQuY2FsbCh0aGlzLGUsbixpKXx8dGhpcztyZXR1cm4gci51aWQ9WGgoImVjX2NwdF9tb2RlbCIpLHJ9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLm1lcmdlRGVmYXVsdEFuZFRoZW1lKHQsbil9LGUucHJvdG90eXBlLm1lcmdlRGVmYXVsdEFuZFRoZW1lPWZ1bmN0aW9uKHQsZSl7dmFyIG49JGModGhpcyksaT1uP1FjKHQpOnt9O00odCxlLmdldFRoZW1lKCkuZ2V0KHRoaXMubWFpblR5cGUpKSxNKHQsdGhpcy5nZXREZWZhdWx0T3B0aW9uKCkpLG4mJkpjKHQsaSxuKX0sZS5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24odCxlKXtNKHRoaXMub3B0aW9uLHQsITApO3ZhciBuPSRjKHRoaXMpO24mJkpjKHRoaXMub3B0aW9uLHQsbil9LGUucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQ9ZnVuY3Rpb24odCxlKXt9LGUucHJvdG90eXBlLmdldERlZmF1bHRPcHRpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbnN0cnVjdG9yO2lmKCFmdW5jdGlvbih0KXtyZXR1cm4hKCF0fHwhdFtYcl0pfSh0KSlyZXR1cm4gdC5kZWZhdWx0T3B0aW9uO3ZhciBlPWVwKHRoaXMpO2lmKCFlLmRlZmF1bHRPcHRpb24pe2Zvcih2YXIgbj1bXSxpPXQ7aTspe3ZhciByPWkucHJvdG90eXBlLmRlZmF1bHRPcHRpb247ciYmbi5wdXNoKHIpLGk9aS5zdXBlckNsYXNzfWZvcih2YXIgbz17fSxhPW4ubGVuZ3RoLTE7YT49MDthLS0pbz1NKG8sblthXSwhMCk7ZS5kZWZhdWx0T3B0aW9uPW99cmV0dXJuIGUuZGVmYXVsdE9wdGlvbn0sZS5wcm90b3R5cGUuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cz1mdW5jdGlvbih0LGUpe3ZhciBuPXQrIkluZGV4IixpPXQrIklkIjtyZXR1cm4gR3IodGhpcy5lY01vZGVsLHQse2luZGV4OnRoaXMuZ2V0KG4sITApLGlkOnRoaXMuZ2V0KGksITApfSxlKX0sZS5wcm90b3R5cGUuZ2V0Qm94TGF5b3V0UGFyYW1zPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm57bGVmdDp0LmdldCgibGVmdCIpLHRvcDp0LmdldCgidG9wIikscmlnaHQ6dC5nZXQoInJpZ2h0IiksYm90dG9tOnQuZ2V0KCJib3R0b20iKSx3aWR0aDp0LmdldCgid2lkdGgiKSxoZWlnaHQ6dC5nZXQoImhlaWdodCIpfX0sZS5wcm90b0luaXRpYWxpemU9ZnVuY3Rpb24oKXt2YXIgdD1lLnByb3RvdHlwZTt0LnR5cGU9ImNvbXBvbmVudCIsdC5pZD0iIix0Lm5hbWU9IiIsdC5tYWluVHlwZT0iIix0LnN1YlR5cGU9IiIsdC5jb21wb25lbnRJbmRleD0wfSgpLGV9KFdoKTtxcihucCxXaCksUXIobnApLGZ1bmN0aW9uKHQpe3ZhciBlPXt9O3QucmVnaXN0ZXJTdWJUeXBlRGVmYXVsdGVyPWZ1bmN0aW9uKHQsbil7dmFyIGk9WXIodCk7ZVtpLm1haW5dPW59LHQuZGV0ZXJtaW5lU3ViVHlwZT1mdW5jdGlvbihuLGkpe3ZhciByPWkudHlwZTtpZighcil7dmFyIG89WXIobikubWFpbjt0Lmhhc1N1YlR5cGVzKG4pJiZlW29dJiYocj1lW29dKGkpKX1yZXR1cm4gcn19KG5wKSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCxlKXtyZXR1cm4gdFtlXXx8KHRbZV09e3ByZWRlY2Vzc29yOltdLHN1Y2Nlc3NvcjpbXX0pLHRbZV19dC50b3BvbG9naWNhbFRyYXZlbD1mdW5jdGlvbih0LGkscixvKXtpZih0Lmxlbmd0aCl7dmFyIGE9ZnVuY3Rpb24odCl7dmFyIGk9e30scj1bXTtyZXR1cm4gTyh0LChmdW5jdGlvbihvKXt2YXIgYT1uKGksbykscz1mdW5jdGlvbih0LGUpe3ZhciBuPVtdO3JldHVybiBPKHQsKGZ1bmN0aW9uKHQpe0EoZSx0KT49MCYmbi5wdXNoKHQpfSkpLG59KGEub3JpZ2luYWxEZXBzPWUobyksdCk7YS5lbnRyeUNvdW50PXMubGVuZ3RoLDA9PT1hLmVudHJ5Q291bnQmJnIucHVzaChvKSxPKHMsKGZ1bmN0aW9uKHQpe0EoYS5wcmVkZWNlc3Nvcix0KTwwJiZhLnByZWRlY2Vzc29yLnB1c2godCk7dmFyIGU9bihpLHQpO0EoZS5zdWNjZXNzb3IsdCk8MCYmZS5zdWNjZXNzb3IucHVzaChvKX0pKX0pKSx7Z3JhcGg6aSxub0VudHJ5TGlzdDpyfX0oaSkscz1hLmdyYXBoLGw9YS5ub0VudHJ5TGlzdCx1PXt9O2ZvcihPKHQsKGZ1bmN0aW9uKHQpe3VbdF09ITB9KSk7bC5sZW5ndGg7KXt2YXIgaD1sLnBvcCgpLGM9c1toXSxwPSEhdVtoXTtwJiYoci5jYWxsKG8saCxjLm9yaWdpbmFsRGVwcy5zbGljZSgpKSxkZWxldGUgdVtoXSksTyhjLnN1Y2Nlc3NvcixwP2Y6ZCl9Tyh1LChmdW5jdGlvbigpe3ZhciB0PSIiO3Rocm93IG5ldyBFcnJvcih0KX0pKX1mdW5jdGlvbiBkKHQpe3NbdF0uZW50cnlDb3VudC0tLDA9PT1zW3RdLmVudHJ5Q291bnQmJmwucHVzaCh0KX1mdW5jdGlvbiBmKHQpe3VbdF09ITAsZCh0KX19fShucCwoZnVuY3Rpb24odCl7dmFyIGU9W107TyhucC5nZXRDbGFzc2VzQnlNYWluVHlwZSh0KSwoZnVuY3Rpb24odCl7ZT1lLmNvbmNhdCh0LmRlcGVuZGVuY2llc3x8dC5wcm90b3R5cGUuZGVwZW5kZW5jaWVzfHxbXSl9KSksZT1SKGUsKGZ1bmN0aW9uKHQpe3JldHVybiBZcih0KS5tYWlufSkpLCJkYXRhc2V0IiE9PXQmJkEoZSwiZGF0YXNldCIpPD0wJiZlLnVuc2hpZnQoImRhdGFzZXQiKTtyZXR1cm4gZX0pKTt2YXIgaXA9IiI7InVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJihpcD1uYXZpZ2F0b3IucGxhdGZvcm18fCIiKTt2YXIgcnA9InJnYmEoMCwgMCwgMCwgMC4yKSIsb3A9e2RhcmtNb2RlOiJhdXRvIixjb2xvckJ5OiJzZXJpZXMiLGNvbG9yOlsiIzU0NzBjNiIsIiM5MWNjNzUiLCIjZmFjODU4IiwiI2VlNjY2NiIsIiM3M2MwZGUiLCIjM2JhMjcyIiwiI2ZjODQ1MiIsIiM5YTYwYjQiLCIjZWE3Y2NjIl0sZ3JhZGllbnRDb2xvcjpbIiNmNmVmYTYiLCIjZDg4MjczIiwiI2JmNDQ0YyJdLGFyaWE6e2RlY2FsOntkZWNhbHM6W3tjb2xvcjpycCxkYXNoQXJyYXlYOlsxLDBdLGRhc2hBcnJheVk6WzIsNV0sc3ltYm9sU2l6ZToxLHJvdGF0aW9uOk1hdGguUEkvNn0se2NvbG9yOnJwLHN5bWJvbDoiY2lyY2xlIixkYXNoQXJyYXlYOltbOCw4XSxbMCw4LDgsMF1dLGRhc2hBcnJheVk6WzYsMF0sc3ltYm9sU2l6ZTouOH0se2NvbG9yOnJwLGRhc2hBcnJheVg6WzEsMF0sZGFzaEFycmF5WTpbNCwzXSxyb3RhdGlvbjotTWF0aC5QSS80fSx7Y29sb3I6cnAsZGFzaEFycmF5WDpbWzYsNl0sWzAsNiw2LDBdXSxkYXNoQXJyYXlZOls2LDBdfSx7Y29sb3I6cnAsZGFzaEFycmF5WDpbWzEsMF0sWzEsNl1dLGRhc2hBcnJheVk6WzEsMCw2LDBdLHJvdGF0aW9uOk1hdGguUEkvNH0se2NvbG9yOnJwLHN5bWJvbDoidHJpYW5nbGUiLGRhc2hBcnJheVg6W1s5LDldLFswLDksOSwwXV0sZGFzaEFycmF5WTpbNywyXSxzeW1ib2xTaXplOi43NX1dfX0sdGV4dFN0eWxlOntmb250RmFtaWx5OmlwLm1hdGNoKC9eV2luLyk/Ik1pY3Jvc29mdCBZYUhlaSI6InNhbnMtc2VyaWYiLGZvbnRTaXplOjEyLGZvbnRTdHlsZToibm9ybWFsIixmb250V2VpZ2h0OiJub3JtYWwifSxibGVuZE1vZGU6bnVsbCxzdGF0ZUFuaW1hdGlvbjp7ZHVyYXRpb246MzAwLGVhc2luZzoiY3ViaWNPdXQifSxhbmltYXRpb246ImF1dG8iLGFuaW1hdGlvbkR1cmF0aW9uOjFlMyxhbmltYXRpb25EdXJhdGlvblVwZGF0ZTo1MDAsYW5pbWF0aW9uRWFzaW5nOiJjdWJpY0luT3V0IixhbmltYXRpb25FYXNpbmdVcGRhdGU6ImN1YmljSW5PdXQiLGFuaW1hdGlvblRocmVzaG9sZDoyZTMscHJvZ3Jlc3NpdmVUaHJlc2hvbGQ6M2UzLHByb2dyZXNzaXZlOjQwMCxob3ZlckxheWVyVGhyZXNob2xkOjNlMyx1c2VVVEM6ITF9LGFwPWN0KFsidG9vbHRpcCIsImxhYmVsIiwiaXRlbU5hbWUiLCJpdGVtSWQiLCJpdGVtR3JvdXBJZCIsInNlcmllc05hbWUiXSksc3A9Im9yaWdpbmFsIixscD0iYXJyYXlSb3dzIix1cD0ib2JqZWN0Um93cyIsaHA9ImtleWVkQ29sdW1ucyIsY3A9InR5cGVkQXJyYXkiLHBwPSJ1bmtub3duIixkcD0iY29sdW1uIixmcD0icm93IixncD0xLHlwPTIsdnA9MyxtcD1ScigpO2Z1bmN0aW9uIF9wKHQsZSxuKXt2YXIgaT17fSxyPWJwKGUpO2lmKCFyfHwhdClyZXR1cm4gaTt2YXIgbyxhLHM9W10sbD1bXSx1PWUuZWNNb2RlbCxoPW1wKHUpLmRhdGFzZXRNYXAsYz1yLnVpZCsiXyIrbi5zZXJpZXNMYXlvdXRCeTtPKHQ9dC5zbGljZSgpLChmdW5jdGlvbihlLG4pe3ZhciByPVkoZSk/ZTp0W25dPXtuYW1lOmV9OyJvcmRpbmFsIj09PXIudHlwZSYmbnVsbD09byYmKG89bixhPWYocikpLGlbci5uYW1lXT1bXX0pKTt2YXIgcD1oLmdldChjKXx8aC5zZXQoYyx7Y2F0ZWdvcnlXYXlEaW06YSx2YWx1ZVdheURpbTowfSk7ZnVuY3Rpb24gZCh0LGUsbil7Zm9yKHZhciBpPTA7aTxuO2krKyl0LnB1c2goZStpKX1mdW5jdGlvbiBmKHQpe3ZhciBlPXQuZGltc0RlZjtyZXR1cm4gZT9lLmxlbmd0aDoxfXJldHVybiBPKHQsKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5uYW1lLHI9Zih0KTtpZihudWxsPT1vKXt2YXIgYT1wLnZhbHVlV2F5RGltO2QoaVtuXSxhLHIpLGQobCxhLHIpLHAudmFsdWVXYXlEaW0rPXJ9ZWxzZSBpZihvPT09ZSlkKGlbbl0sMCxyKSxkKHMsMCxyKTtlbHNle2E9cC5jYXRlZ29yeVdheURpbTtkKGlbbl0sYSxyKSxkKGwsYSxyKSxwLmNhdGVnb3J5V2F5RGltKz1yfX0pKSxzLmxlbmd0aCYmKGkuaXRlbU5hbWU9cyksbC5sZW5ndGgmJihpLnNlcmllc05hbWU9bCksaX1mdW5jdGlvbiB4cCh0LGUsbil7dmFyIGk9e307aWYoIWJwKHQpKXJldHVybiBpO3ZhciByLG89ZS5zb3VyY2VGb3JtYXQsYT1lLmRpbWVuc2lvbnNEZWZpbmU7byE9PXVwJiZvIT09aHB8fE8oYSwoZnVuY3Rpb24odCxlKXsibmFtZSI9PT0oWSh0KT90Lm5hbWU6dCkmJihyPWUpfSkpO3ZhciBzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXt9LGk9e30scz1bXSxsPTAsdT1NYXRoLm1pbig1LG4pO2w8dTtsKyspe3ZhciBoPVNwKGUuZGF0YSxvLGUuc2VyaWVzTGF5b3V0QnksYSxlLnN0YXJ0SW5kZXgsbCk7cy5wdXNoKGgpO3ZhciBjPWg9PT12cDtpZihjJiZudWxsPT10LnYmJmwhPT1yJiYodC52PWwpLChudWxsPT10Lm58fHQubj09PXQudnx8IWMmJnNbdC5uXT09PXZwKSYmKHQubj1sKSxwKHQpJiZzW3Qubl0hPT12cClyZXR1cm4gdDtjfHwoaD09PXlwJiZudWxsPT1pLnYmJmwhPT1yJiYoaS52PWwpLG51bGwhPWkubiYmaS5uIT09aS52fHwoaS5uPWwpKX1mdW5jdGlvbiBwKHQpe3JldHVybiBudWxsIT10LnYmJm51bGwhPXQubn1yZXR1cm4gcCh0KT90OnAoaSk/aTpudWxsfSgpO2lmKHMpe2kudmFsdWU9W3Mudl07dmFyIGw9bnVsbCE9cj9yOnMubjtpLml0ZW1OYW1lPVtsXSxpLnNlcmllc05hbWU9W2xdfXJldHVybiBpfWZ1bmN0aW9uIGJwKHQpe2lmKCF0LmdldCgiZGF0YSIsITApKXJldHVybiBHcih0LmVjTW9kZWwsImRhdGFzZXQiLHtpbmRleDp0LmdldCgiZGF0YXNldEluZGV4IiwhMCksaWQ6dC5nZXQoImRhdGFzZXRJZCIsITApfSxWcikubW9kZWxzWzBdfWZ1bmN0aW9uIHdwKHQsZSl7cmV0dXJuIFNwKHQuZGF0YSx0LnNvdXJjZUZvcm1hdCx0LnNlcmllc0xheW91dEJ5LHQuZGltZW5zaW9uc0RlZmluZSx0LnN0YXJ0SW5kZXgsZSl9ZnVuY3Rpb24gU3AodCxlLG4saSxyLG8pe3ZhciBhLHMsbDtpZihqKHQpKXJldHVybiB2cDtpZihpKXt2YXIgdT1pW29dO1kodSk/KHM9dS5uYW1lLGw9dS50eXBlKTpXKHUpJiYocz11KX1pZihudWxsIT1sKXJldHVybiJvcmRpbmFsIj09PWw/Z3A6dnA7aWYoZT09PWxwKXt2YXIgaD10O2lmKG49PT1mcCl7Zm9yKHZhciBjPWhbb10scD0wO3A8KGN8fFtdKS5sZW5ndGgmJnA8NTtwKyspaWYobnVsbCE9KGE9bShjW3IrcF0pKSlyZXR1cm4gYX1lbHNlIGZvcihwPTA7cDxoLmxlbmd0aCYmcDw1O3ArKyl7dmFyIGQ9aFtyK3BdO2lmKGQmJm51bGwhPShhPW0oZFtvXSkpKXJldHVybiBhfX1lbHNlIGlmKGU9PT11cCl7dmFyIGY9dDtpZighcylyZXR1cm4gdnA7Zm9yKHA9MDtwPGYubGVuZ3RoJiZwPDU7cCsrKXtpZigoeT1mW3BdKSYmbnVsbCE9KGE9bSh5W3NdKSkpcmV0dXJuIGF9fWVsc2UgaWYoZT09PWhwKXtpZighcylyZXR1cm4gdnA7aWYoIShjPXRbc10pfHxqKGMpKXJldHVybiB2cDtmb3IocD0wO3A8Yy5sZW5ndGgmJnA8NTtwKyspaWYobnVsbCE9KGE9bShjW3BdKSkpcmV0dXJuIGF9ZWxzZSBpZihlPT09c3Ape3ZhciBnPXQ7Zm9yKHA9MDtwPGcubGVuZ3RoJiZwPDU7cCsrKXt2YXIgeSx2PUlyKHk9Z1twXSk7aWYoIUYodikpcmV0dXJuIHZwO2lmKG51bGwhPShhPW0odltvXSkpKXJldHVybiBhfX1mdW5jdGlvbiBtKHQpe3ZhciBlPVcodCk7cmV0dXJuIG51bGwhPXQmJmlzRmluaXRlKHQpJiYiIiE9PXQ/ZT95cDp2cDplJiYiLSIhPT10P2dwOnZvaWQgMH1yZXR1cm4gdnB9dmFyIE1wPWN0KCk7dmFyIElwLFRwLENwLERwPVJyKCksQXA9UnIoKSxrcD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmdldENvbG9yRnJvbVBhbGV0dGU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXdyKHRoaXMuZ2V0KCJjb2xvciIsITApKSxyPXRoaXMuZ2V0KCJjb2xvckxheWVyIiwhMCk7cmV0dXJuIFBwKHRoaXMsRHAsaSxyLHQsZSxuKX0sdC5wcm90b3R5cGUuY2xlYXJDb2xvclBhbGV0dGU9ZnVuY3Rpb24oKXshZnVuY3Rpb24odCxlKXtlKHQpLnBhbGV0dGVJZHg9MCxlKHQpLnBhbGV0dGVOYW1lTWFwPXt9fSh0aGlzLERwKX0sdH0oKTtmdW5jdGlvbiBMcCh0LGUsbixpKXt2YXIgcj13cih0LmdldChbImFyaWEiLCJkZWNhbCIsImRlY2FscyJdKSk7cmV0dXJuIFBwKHQsQXAscixudWxsLGUsbixpKX1mdW5jdGlvbiBQcCh0LGUsbixpLHIsbyxhKXt2YXIgcz1lKG89b3x8dCksbD1zLnBhbGV0dGVJZHh8fDAsdT1zLnBhbGV0dGVOYW1lTWFwPXMucGFsZXR0ZU5hbWVNYXB8fHt9O2lmKHUuaGFzT3duUHJvcGVydHkocikpcmV0dXJuIHVbcl07dmFyIGg9bnVsbCE9YSYmaT9mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aCxpPTA7aTxuO2krKylpZih0W2ldLmxlbmd0aD5lKXJldHVybiB0W2ldO3JldHVybiB0W24tMV19KGksYSk6bjtpZigoaD1ofHxuKSYmaC5sZW5ndGgpe3ZhciBjPWhbbF07cmV0dXJuIHImJih1W3JdPWMpLHMucGFsZXR0ZUlkeD0obCsxKSVoLmxlbmd0aCxjfX12YXIgT3A9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSxuLGkscixvKXtpPWl8fHt9LHRoaXMub3B0aW9uPW51bGwsdGhpcy5fdGhlbWU9bmV3IFdoKGkpLHRoaXMuX2xvY2FsZT1uZXcgV2gociksdGhpcy5fb3B0aW9uTWFuYWdlcj1vfSxlLnByb3RvdHlwZS5zZXRPcHRpb249ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXpwKGUpO3RoaXMuX29wdGlvbk1hbmFnZXIuc2V0T3B0aW9uKHQsbixpKSx0aGlzLl9yZXNldE9wdGlvbihudWxsLGkpfSxlLnByb3RvdHlwZS5yZXNldE9wdGlvbj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9yZXNldE9wdGlvbih0LHpwKGUpKX0sZS5wcm90b3R5cGUuX3Jlc2V0T3B0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49ITEsaT10aGlzLl9vcHRpb25NYW5hZ2VyO2lmKCF0fHwicmVjcmVhdGUiPT09dCl7dmFyIHI9aS5tb3VudE9wdGlvbigicmVjcmVhdGUiPT09dCk7MCx0aGlzLm9wdGlvbiYmInJlY3JlYXRlIiE9PXQ/KHRoaXMucmVzdG9yZURhdGEoKSx0aGlzLl9tZXJnZU9wdGlvbihyLGUpKTpDcCh0aGlzLHIpLG49ITB9aWYoInRpbWVsaW5lIiE9PXQmJiJtZWRpYSIhPT10fHx0aGlzLnJlc3RvcmVEYXRhKCksIXR8fCJyZWNyZWF0ZSI9PT10fHwidGltZWxpbmUiPT09dCl7dmFyIG89aS5nZXRUaW1lbGluZU9wdGlvbih0aGlzKTtvJiYobj0hMCx0aGlzLl9tZXJnZU9wdGlvbihvLGUpKX1pZighdHx8InJlY3JlYXRlIj09PXR8fCJtZWRpYSI9PT10KXt2YXIgYT1pLmdldE1lZGlhT3B0aW9uKHRoaXMpO2EubGVuZ3RoJiZPKGEsKGZ1bmN0aW9uKHQpe249ITAsdGhpcy5fbWVyZ2VPcHRpb24odCxlKX0pLHRoaXMpfXJldHVybiBufSxlLnByb3RvdHlwZS5tZXJnZU9wdGlvbj1mdW5jdGlvbih0KXt0aGlzLl9tZXJnZU9wdGlvbih0LG51bGwpfSxlLnByb3RvdHlwZS5fbWVyZ2VPcHRpb249ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm9wdGlvbixpPXRoaXMuX2NvbXBvbmVudHNNYXAscj10aGlzLl9jb21wb25lbnRzQ291bnQsbz1bXSxhPWN0KCkscz1lJiZlLnJlcGxhY2VNZXJnZU1haW5UeXBlTWFwO21wKHRoaXMpLmRhdGFzZXRNYXA9Y3QoKSxPKHQsKGZ1bmN0aW9uKHQsZSl7bnVsbCE9dCYmKG5wLmhhc0NsYXNzKGUpP2UmJihvLnB1c2goZSksYS5zZXQoZSwhMCkpOm5bZV09bnVsbD09bltlXT9TKHQpOk0obltlXSx0LCEwKSl9KSkscyYmcy5lYWNoKChmdW5jdGlvbih0LGUpe25wLmhhc0NsYXNzKGUpJiYhYS5nZXQoZSkmJihvLnB1c2goZSksYS5zZXQoZSwhMCkpfSkpLG5wLnRvcG9sb2dpY2FsVHJhdmVsKG8sbnAuZ2V0QWxsQ2xhc3NNYWluVHlwZXMoKSwoZnVuY3Rpb24oZSl7dmFyIG89ZnVuY3Rpb24odCxlLG4pe3ZhciBpPU1wLmdldChlKTtpZighaSlyZXR1cm4gbjt2YXIgcj1pKHQpO3JldHVybiByP24uY29uY2F0KHIpOm59KHRoaXMsZSx3cih0W2VdKSksYT1pLmdldChlKSxsPWE/cyYmcy5nZXQoZSk/InJlcGxhY2VNZXJnZSI6Im5vcm1hbE1lcmdlIjoicmVwbGFjZUFsbCIsdT1DcihhLG8sbCk7KGZ1bmN0aW9uKHQsZSxuKXtPKHQsKGZ1bmN0aW9uKHQpe3ZhciBpPXQubmV3T3B0aW9uO1koaSkmJih0LmtleUluZm8ubWFpblR5cGU9ZSx0LmtleUluZm8uc3ViVHlwZT1mdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gZS50eXBlP2UudHlwZTpuP24uc3ViVHlwZTppLmRldGVybWluZVN1YlR5cGUodCxlKX0oZSxpLHQuZXhpc3RpbmcsbikpfSkpfSkodSxlLG5wKSxuW2VdPW51bGwsaS5zZXQoZSxudWxsKSxyLnNldChlLDApO3ZhciBoPVtdLGM9W10scD0wO08odSwoZnVuY3Rpb24odCxuKXt2YXIgaT10LmV4aXN0aW5nLHI9dC5uZXdPcHRpb247aWYocil7dmFyIG89InNlcmllcyI9PT1lLGE9bnAuZ2V0Q2xhc3MoZSx0LmtleUluZm8uc3ViVHlwZSwhbyk7aWYoIWEpcmV0dXJuO2lmKGkmJmkuY29uc3RydWN0b3I9PT1hKWkubmFtZT10LmtleUluZm8ubmFtZSxpLm1lcmdlT3B0aW9uKHIsdGhpcyksaS5vcHRpb25VcGRhdGVkKHIsITEpO2Vsc2V7dmFyIHM9VCh7Y29tcG9uZW50SW5kZXg6bn0sdC5rZXlJbmZvKTtUKGk9bmV3IGEocix0aGlzLHRoaXMscykscyksdC5icmFuZE5ldyYmKGkuX19yZXF1aXJlTmV3Vmlldz0hMCksaS5pbml0KHIsdGhpcyx0aGlzKSxpLm9wdGlvblVwZGF0ZWQobnVsbCwhMCl9fWVsc2UgaSYmKGkubWVyZ2VPcHRpb24oe30sdGhpcyksaS5vcHRpb25VcGRhdGVkKHt9LCExKSk7aT8oaC5wdXNoKGkub3B0aW9uKSxjLnB1c2goaSkscCsrKTooaC5wdXNoKHZvaWQgMCksYy5wdXNoKHZvaWQgMCkpfSksdGhpcyksbltlXT1oLGkuc2V0KGUsYyksci5zZXQoZSxwKSwic2VyaWVzIj09PWUmJklwKHRoaXMpfSksdGhpcyksdGhpcy5fc2VyaWVzSW5kaWNlc3x8SXAodGhpcyl9LGUucHJvdG90eXBlLmdldE9wdGlvbj1mdW5jdGlvbigpe3ZhciB0PVModGhpcy5vcHRpb24pO3JldHVybiBPKHQsKGZ1bmN0aW9uKGUsbil7aWYobnAuaGFzQ2xhc3Mobikpe2Zvcih2YXIgaT13cihlKSxyPWkubGVuZ3RoLG89ITEsYT1yLTE7YT49MDthLS0paVthXSYmIVByKGlbYV0pP289ITA6KGlbYV09bnVsbCwhbyYmci0tKTtpLmxlbmd0aD1yLHRbbl09aX19KSksZGVsZXRlIHRbIlwwX2VjX2lubmVyIl0sdH0sZS5wcm90b3R5cGUuZ2V0VGhlbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGhlbWV9LGUucHJvdG90eXBlLmdldExvY2FsZU1vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvY2FsZX0sZS5wcm90b3R5cGUuc2V0VXBkYXRlUGF5bG9hZD1mdW5jdGlvbih0KXt0aGlzLl9wYXlsb2FkPXR9LGUucHJvdG90eXBlLmdldFVwZGF0ZVBheWxvYWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGF5bG9hZH0sZS5wcm90b3R5cGUuZ2V0Q29tcG9uZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fY29tcG9uZW50c01hcC5nZXQodCk7aWYobil7dmFyIGk9bltlfHwwXTtpZihpKXJldHVybiBpO2lmKG51bGw9PWUpZm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspaWYobltyXSlyZXR1cm4gbltyXX19LGUucHJvdG90eXBlLnF1ZXJ5Q29tcG9uZW50cz1mdW5jdGlvbih0KXt2YXIgZT10Lm1haW5UeXBlO2lmKCFlKXJldHVybltdO3ZhciBuLGk9dC5pbmRleCxyPXQuaWQsbz10Lm5hbWUsYT10aGlzLl9jb21wb25lbnRzTWFwLmdldChlKTtyZXR1cm4gYSYmYS5sZW5ndGg/KG51bGwhPWk/KG49W10sTyh3cihpKSwoZnVuY3Rpb24odCl7YVt0XSYmbi5wdXNoKGFbdF0pfSkpKTpuPW51bGwhPXI/UnAoImlkIixyLGEpOm51bGwhPW8/UnAoIm5hbWUiLG8sYSk6eihhLChmdW5jdGlvbih0KXtyZXR1cm4hIXR9KSksTnAobix0KSk6W119LGUucHJvdG90eXBlLmZpbmRDb21wb25lbnRzPWZ1bmN0aW9uKHQpe3ZhciBlLG4saSxyLG8sYT10LnF1ZXJ5LHM9dC5tYWluVHlwZSxsPShuPXMrIkluZGV4IixpPXMrIklkIixyPXMrIk5hbWUiLCEoZT1hKXx8bnVsbD09ZVtuXSYmbnVsbD09ZVtpXSYmbnVsbD09ZVtyXT9udWxsOnttYWluVHlwZTpzLGluZGV4OmVbbl0saWQ6ZVtpXSxuYW1lOmVbcl19KSx1PWw/dGhpcy5xdWVyeUNvbXBvbmVudHMobCk6eih0aGlzLl9jb21wb25lbnRzTWFwLmdldChzKSwoZnVuY3Rpb24odCl7cmV0dXJuISF0fSkpO3JldHVybiBvPU5wKHUsdCksdC5maWx0ZXI/eihvLHQuZmlsdGVyKTpvfSxlLnByb3RvdHlwZS5lYWNoQ29tcG9uZW50PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLl9jb21wb25lbnRzTWFwO2lmKEgodCkpe3ZhciByPWUsbz10O2kuZWFjaCgoZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDt0JiZuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpJiZvLmNhbGwocixlLGksaS5jb21wb25lbnRJbmRleCl9fSkpfWVsc2UgZm9yKHZhciBhPVcodCk/aS5nZXQodCk6WSh0KT90aGlzLmZpbmRDb21wb25lbnRzKHQpOm51bGwscz0wO2EmJnM8YS5sZW5ndGg7cysrKXt2YXIgbD1hW3NdO2wmJmUuY2FsbChuLGwsbC5jb21wb25lbnRJbmRleCl9fSxlLnByb3RvdHlwZS5nZXRTZXJpZXNCeU5hbWU9ZnVuY3Rpb24odCl7dmFyIGU9a3IodCxudWxsKTtyZXR1cm4geih0aGlzLl9jb21wb25lbnRzTWFwLmdldCgic2VyaWVzIiksKGZ1bmN0aW9uKHQpe3JldHVybiEhdCYmbnVsbCE9ZSYmdC5uYW1lPT09ZX0pKX0sZS5wcm90b3R5cGUuZ2V0U2VyaWVzQnlJbmRleD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY29tcG9uZW50c01hcC5nZXQoInNlcmllcyIpW3RdfSxlLnByb3RvdHlwZS5nZXRTZXJpZXNCeVR5cGU9ZnVuY3Rpb24odCl7cmV0dXJuIHoodGhpcy5fY29tcG9uZW50c01hcC5nZXQoInNlcmllcyIpLChmdW5jdGlvbihlKXtyZXR1cm4hIWUmJmUuc3ViVHlwZT09PXR9KSl9LGUucHJvdG90eXBlLmdldFNlcmllcz1mdW5jdGlvbigpe3JldHVybiB6KHRoaXMuX2NvbXBvbmVudHNNYXAuZ2V0KCJzZXJpZXMiKSwoZnVuY3Rpb24odCl7cmV0dXJuISF0fSkpfSxlLnByb3RvdHlwZS5nZXRTZXJpZXNDb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb21wb25lbnRzQ291bnQuZ2V0KCJzZXJpZXMiKX0sZS5wcm90b3R5cGUuZWFjaFNlcmllcz1mdW5jdGlvbih0LGUpe1RwKHRoaXMpLE8odGhpcy5fc2VyaWVzSW5kaWNlcywoZnVuY3Rpb24obil7dmFyIGk9dGhpcy5fY29tcG9uZW50c01hcC5nZXQoInNlcmllcyIpW25dO3QuY2FsbChlLGksbil9KSx0aGlzKX0sZS5wcm90b3R5cGUuZWFjaFJhd1Nlcmllcz1mdW5jdGlvbih0LGUpe08odGhpcy5fY29tcG9uZW50c01hcC5nZXQoInNlcmllcyIpLChmdW5jdGlvbihuKXtuJiZ0LmNhbGwoZSxuLG4uY29tcG9uZW50SW5kZXgpfSkpfSxlLnByb3RvdHlwZS5lYWNoU2VyaWVzQnlUeXBlPWZ1bmN0aW9uKHQsZSxuKXtUcCh0aGlzKSxPKHRoaXMuX3Nlcmllc0luZGljZXMsKGZ1bmN0aW9uKGkpe3ZhciByPXRoaXMuX2NvbXBvbmVudHNNYXAuZ2V0KCJzZXJpZXMiKVtpXTtyLnN1YlR5cGU9PT10JiZlLmNhbGwobixyLGkpfSksdGhpcyl9LGUucHJvdG90eXBlLmVhY2hSYXdTZXJpZXNCeVR5cGU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBPKHRoaXMuZ2V0U2VyaWVzQnlUeXBlKHQpLGUsbil9LGUucHJvdG90eXBlLmlzU2VyaWVzRmlsdGVyZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIFRwKHRoaXMpLG51bGw9PXRoaXMuX3Nlcmllc0luZGljZXNNYXAuZ2V0KHQuY29tcG9uZW50SW5kZXgpfSxlLnByb3RvdHlwZS5nZXRDdXJyZW50U2VyaWVzSW5kaWNlcz1mdW5jdGlvbigpe3JldHVybih0aGlzLl9zZXJpZXNJbmRpY2VzfHxbXSkuc2xpY2UoKX0sZS5wcm90b3R5cGUuZmlsdGVyU2VyaWVzPWZ1bmN0aW9uKHQsZSl7VHAodGhpcyk7dmFyIG49W107Tyh0aGlzLl9zZXJpZXNJbmRpY2VzLChmdW5jdGlvbihpKXt2YXIgcj10aGlzLl9jb21wb25lbnRzTWFwLmdldCgic2VyaWVzIilbaV07dC5jYWxsKGUscixpKSYmbi5wdXNoKGkpfSksdGhpcyksdGhpcy5fc2VyaWVzSW5kaWNlcz1uLHRoaXMuX3Nlcmllc0luZGljZXNNYXA9Y3Qobil9LGUucHJvdG90eXBlLnJlc3RvcmVEYXRhPWZ1bmN0aW9uKHQpe0lwKHRoaXMpO3ZhciBlPXRoaXMuX2NvbXBvbmVudHNNYXAsbj1bXTtlLmVhY2goKGZ1bmN0aW9uKHQsZSl7bnAuaGFzQ2xhc3MoZSkmJm4ucHVzaChlKX0pKSxucC50b3BvbG9naWNhbFRyYXZlbChuLG5wLmdldEFsbENsYXNzTWFpblR5cGVzKCksKGZ1bmN0aW9uKG4pe08oZS5nZXQobiksKGZ1bmN0aW9uKGUpeyFlfHwic2VyaWVzIj09PW4mJmZ1bmN0aW9uKHQsZSl7aWYoZSl7dmFyIG49ZS5zZXJpZXNJbmRleCxpPWUuc2VyaWVzSWQscj1lLnNlcmllc05hbWU7cmV0dXJuIG51bGwhPW4mJnQuY29tcG9uZW50SW5kZXghPT1ufHxudWxsIT1pJiZ0LmlkIT09aXx8bnVsbCE9ciYmdC5uYW1lIT09cn19KGUsdCl8fGUucmVzdG9yZURhdGEoKX0pKX0pKX0sZS5pbnRlcm5hbEZpZWxkPShJcD1mdW5jdGlvbih0KXt2YXIgZT10Ll9zZXJpZXNJbmRpY2VzPVtdO08odC5fY29tcG9uZW50c01hcC5nZXQoInNlcmllcyIpLChmdW5jdGlvbih0KXt0JiZlLnB1c2godC5jb21wb25lbnRJbmRleCl9KSksdC5fc2VyaWVzSW5kaWNlc01hcD1jdChlKX0sVHA9ZnVuY3Rpb24odCl7fSx2b2lkKENwPWZ1bmN0aW9uKHQsZSl7dC5vcHRpb249e30sdC5vcHRpb25bIlwwX2VjX2lubmVyIl09MSx0Ll9jb21wb25lbnRzTWFwPWN0KHtzZXJpZXM6W119KSx0Ll9jb21wb25lbnRzQ291bnQ9Y3QoKTt2YXIgbj1lLmFyaWE7WShuKSYmbnVsbD09bi5lbmFibGVkJiYobi5lbmFibGVkPSEwKSxmdW5jdGlvbih0LGUpe3ZhciBuPXQuY29sb3ImJiF0LmNvbG9yTGF5ZXI7TyhlLChmdW5jdGlvbihlLGkpeyJjb2xvckxheWVyIj09PWkmJm58fG5wLmhhc0NsYXNzKGkpfHwoIm9iamVjdCI9PXR5cGVvZiBlP3RbaV09dFtpXT9NKHRbaV0sZSwhMSk6UyhlKTpudWxsPT10W2ldJiYodFtpXT1lKSl9KSl9KGUsdC5fdGhlbWUub3B0aW9uKSxNKGUsb3AsITEpLHQuX21lcmdlT3B0aW9uKGUsbnVsbCl9KSksZX0oV2gpO2Z1bmN0aW9uIFJwKHQsZSxuKXtpZihGKGUpKXt2YXIgaT1jdCgpO3JldHVybiBPKGUsKGZ1bmN0aW9uKHQpe251bGwhPXQmJihudWxsIT1rcih0LG51bGwpJiZpLnNldCh0LCEwKSl9KSkseihuLChmdW5jdGlvbihlKXtyZXR1cm4gZSYmaS5nZXQoZVt0XSl9KSl9dmFyIHI9a3IoZSxudWxsKTtyZXR1cm4geihuLChmdW5jdGlvbihlKXtyZXR1cm4gZSYmbnVsbCE9ciYmZVt0XT09PXJ9KSl9ZnVuY3Rpb24gTnAodCxlKXtyZXR1cm4gZS5oYXNPd25Qcm9wZXJ0eSgic3ViVHlwZSIpP3oodCwoZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuc3ViVHlwZT09PWUuc3ViVHlwZX0pKTp0fWZ1bmN0aW9uIHpwKHQpe3ZhciBlPWN0KCk7cmV0dXJuIHQmJk8od3IodC5yZXBsYWNlTWVyZ2UpLChmdW5jdGlvbih0KXtlLnNldCh0LCEwKX0pKSx7cmVwbGFjZU1lcmdlTWFpblR5cGVNYXA6ZX19TChPcCxrcCk7dmFyIEVwPVsiZ2V0RG9tIiwiZ2V0WnIiLCJnZXRXaWR0aCIsImdldEhlaWdodCIsImdldERldmljZVBpeGVsUmF0aW8iLCJkaXNwYXRjaEFjdGlvbiIsImlzRGlzcG9zZWQiLCJvbiIsIm9mZiIsImdldERhdGFVUkwiLCJnZXRDb25uZWN0ZWREYXRhVVJMIiwiZ2V0T3B0aW9uIiwiZ2V0SWQiLCJ1cGRhdGVMYWJlbExheW91dCJdLFZwPWZ1bmN0aW9uKHQpe08oRXAsKGZ1bmN0aW9uKGUpe3RoaXNbZV09Qih0W2VdLHQpfSksdGhpcyl9LEJwPXt9LEdwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuX2Nvb3JkaW5hdGVTeXN0ZW1zPVtdfXJldHVybiB0LnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTtPKEJwLChmdW5jdGlvbihpLHIpe3ZhciBvPWkuY3JlYXRlKHQsZSk7bj1uLmNvbmNhdChvfHxbXSl9KSksdGhpcy5fY29vcmRpbmF0ZVN5c3RlbXM9bn0sdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7Tyh0aGlzLl9jb29yZGluYXRlU3lzdGVtcywoZnVuY3Rpb24obil7bi51cGRhdGUmJm4udXBkYXRlKHQsZSl9KSl9LHQucHJvdG90eXBlLmdldENvb3JkaW5hdGVTeXN0ZW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nvb3JkaW5hdGVTeXN0ZW1zLnNsaWNlKCl9LHQucmVnaXN0ZXI9ZnVuY3Rpb24odCxlKXtCcFt0XT1lfSx0LmdldD1mdW5jdGlvbih0KXtyZXR1cm4gQnBbdF19LHR9KCksRnA9L14obWlufG1heCk/KC4rKSQvLEhwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl90aW1lbGluZU9wdGlvbnM9W10sdGhpcy5fbWVkaWFMaXN0PVtdLHRoaXMuX2N1cnJlbnRNZWRpYUluZGljZXM9W10sdGhpcy5fYXBpPXR9cmV0dXJuIHQucHJvdG90eXBlLnNldE9wdGlvbj1mdW5jdGlvbih0LGUsbil7dCYmKE8od3IodC5zZXJpZXMpLChmdW5jdGlvbih0KXt0JiZ0LmRhdGEmJmoodC5kYXRhKSYmbHQodC5kYXRhKX0pKSxPKHdyKHQuZGF0YXNldCksKGZ1bmN0aW9uKHQpe3QmJnQuc291cmNlJiZqKHQuc291cmNlKSYmbHQodC5zb3VyY2UpfSkpKSx0PVModCk7dmFyIGk9dGhpcy5fb3B0aW9uQmFja3VwLHI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpLHIsbz1bXSxhPXQuYmFzZU9wdGlvbixzPXQudGltZWxpbmUsbD10Lm9wdGlvbnMsdT10Lm1lZGlhLGg9ISF0Lm1lZGlhLGM9ISEobHx8c3x8YSYmYS50aW1lbGluZSk7YT8ocj1hKS50aW1lbGluZXx8KHIudGltZWxpbmU9cyk6KChjfHxoKSYmKHQub3B0aW9ucz10Lm1lZGlhPW51bGwpLHI9dCk7aCYmRih1KSYmTyh1LChmdW5jdGlvbih0KXt0JiZ0Lm9wdGlvbiYmKHQucXVlcnk/by5wdXNoKHQpOml8fChpPXQpKX0pKTtmdW5jdGlvbiBwKHQpe08oZSwoZnVuY3Rpb24oZSl7ZSh0LG4pfSkpfXJldHVybiBwKHIpLE8obCwoZnVuY3Rpb24odCl7cmV0dXJuIHAodCl9KSksTyhvLChmdW5jdGlvbih0KXtyZXR1cm4gcCh0Lm9wdGlvbil9KSkse2Jhc2VPcHRpb246cix0aW1lbGluZU9wdGlvbnM6bHx8W10sbWVkaWFEZWZhdWx0OmksbWVkaWFMaXN0Om99fSh0LGUsIWkpO3RoaXMuX25ld0Jhc2VPcHRpb249ci5iYXNlT3B0aW9uLGk/KHIudGltZWxpbmVPcHRpb25zLmxlbmd0aCYmKGkudGltZWxpbmVPcHRpb25zPXIudGltZWxpbmVPcHRpb25zKSxyLm1lZGlhTGlzdC5sZW5ndGgmJihpLm1lZGlhTGlzdD1yLm1lZGlhTGlzdCksci5tZWRpYURlZmF1bHQmJihpLm1lZGlhRGVmYXVsdD1yLm1lZGlhRGVmYXVsdCkpOnRoaXMuX29wdGlvbkJhY2t1cD1yfSx0LnByb3RvdHlwZS5tb3VudE9wdGlvbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9vcHRpb25CYWNrdXA7cmV0dXJuIHRoaXMuX3RpbWVsaW5lT3B0aW9ucz1lLnRpbWVsaW5lT3B0aW9ucyx0aGlzLl9tZWRpYUxpc3Q9ZS5tZWRpYUxpc3QsdGhpcy5fbWVkaWFEZWZhdWx0PWUubWVkaWFEZWZhdWx0LHRoaXMuX2N1cnJlbnRNZWRpYUluZGljZXM9W10sUyh0P2UuYmFzZU9wdGlvbjp0aGlzLl9uZXdCYXNlT3B0aW9uKX0sdC5wcm90b3R5cGUuZ2V0VGltZWxpbmVPcHRpb249ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLl90aW1lbGluZU9wdGlvbnM7aWYobi5sZW5ndGgpe3ZhciBpPXQuZ2V0Q29tcG9uZW50KCJ0aW1lbGluZSIpO2kmJihlPVMobltpLmdldEN1cnJlbnRJbmRleCgpXSkpfXJldHVybiBlfSx0LnByb3RvdHlwZS5nZXRNZWRpYU9wdGlvbj1mdW5jdGlvbih0KXt2YXIgZSxuLGk9dGhpcy5fYXBpLmdldFdpZHRoKCkscj10aGlzLl9hcGkuZ2V0SGVpZ2h0KCksbz10aGlzLl9tZWRpYUxpc3QsYT10aGlzLl9tZWRpYURlZmF1bHQscz1bXSxsPVtdO2lmKCFvLmxlbmd0aCYmIWEpcmV0dXJuIGw7Zm9yKHZhciB1PTAsaD1vLmxlbmd0aDt1PGg7dSsrKVdwKG9bdV0ucXVlcnksaSxyKSYmcy5wdXNoKHUpO3JldHVybiFzLmxlbmd0aCYmYSYmKHM9Wy0xXSkscy5sZW5ndGgmJihlPXMsbj10aGlzLl9jdXJyZW50TWVkaWFJbmRpY2VzLGUuam9pbigiLCIpIT09bi5qb2luKCIsIikpJiYobD1SKHMsKGZ1bmN0aW9uKHQpe3JldHVybiBTKC0xPT09dD9hLm9wdGlvbjpvW3RdLm9wdGlvbil9KSkpLHRoaXMuX2N1cnJlbnRNZWRpYUluZGljZXM9cyxsfSx0fSgpO2Z1bmN0aW9uIFdwKHQsZSxuKXt2YXIgaT17d2lkdGg6ZSxoZWlnaHQ6bixhc3BlY3RyYXRpbzplL259LHI9ITA7cmV0dXJuIE8odCwoZnVuY3Rpb24odCxlKXt2YXIgbj1lLm1hdGNoKEZwKTtpZihuJiZuWzFdJiZuWzJdKXt2YXIgbz1uWzFdLGE9blsyXS50b0xvd2VyQ2FzZSgpOyhmdW5jdGlvbih0LGUsbil7cmV0dXJuIm1pbiI9PT1uP3Q+PWU6Im1heCI9PT1uP3Q8PWU6dD09PWV9KShpW2FdLHQsbyl8fChyPSExKX19KSkscn12YXIgVXA9TyxYcD1ZLFlwPVsiYXJlYVN0eWxlIiwibGluZVN0eWxlIiwibm9kZVN0eWxlIiwibGlua1N0eWxlIiwiY2hvcmRTdHlsZSIsImxhYmVsIiwibGFiZWxMaW5lIl07ZnVuY3Rpb24gWnAodCl7dmFyIGU9dCYmdC5pdGVtU3R5bGU7aWYoZSlmb3IodmFyIG49MCxpPVlwLmxlbmd0aDtuPGk7bisrKXt2YXIgcj1ZcFtuXSxvPWUubm9ybWFsLGE9ZS5lbXBoYXNpcztvJiZvW3JdJiYodFtyXT10W3JdfHx7fSx0W3JdLm5vcm1hbD9NKHRbcl0ubm9ybWFsLG9bcl0pOnRbcl0ubm9ybWFsPW9bcl0sb1tyXT1udWxsKSxhJiZhW3JdJiYodFtyXT10W3JdfHx7fSx0W3JdLmVtcGhhc2lzP00odFtyXS5lbXBoYXNpcyxhW3JdKTp0W3JdLmVtcGhhc2lzPWFbcl0sYVtyXT1udWxsKX19ZnVuY3Rpb24ganAodCxlLG4pe2lmKHQmJnRbZV0mJih0W2VdLm5vcm1hbHx8dFtlXS5lbXBoYXNpcykpe3ZhciBpPXRbZV0ubm9ybWFsLHI9dFtlXS5lbXBoYXNpcztpJiYobj8odFtlXS5ub3JtYWw9dFtlXS5lbXBoYXNpcz1udWxsLEModFtlXSxpKSk6dFtlXT1pKSxyJiYodC5lbXBoYXNpcz10LmVtcGhhc2lzfHx7fSx0LmVtcGhhc2lzW2VdPXIsci5mb2N1cyYmKHQuZW1waGFzaXMuZm9jdXM9ci5mb2N1cyksci5ibHVyU2NvcGUmJih0LmVtcGhhc2lzLmJsdXJTY29wZT1yLmJsdXJTY29wZSkpfX1mdW5jdGlvbiBxcCh0KXtqcCh0LCJpdGVtU3R5bGUiKSxqcCh0LCJsaW5lU3R5bGUiKSxqcCh0LCJhcmVhU3R5bGUiKSxqcCh0LCJsYWJlbCIpLGpwKHQsImxhYmVsTGluZSIpLGpwKHQsInVwcGVyTGFiZWwiKSxqcCh0LCJlZGdlTGFiZWwiKX1mdW5jdGlvbiBLcCh0LGUpe3ZhciBuPVhwKHQpJiZ0W2VdLGk9WHAobikmJm4udGV4dFN0eWxlO2lmKGkpezA7Zm9yKHZhciByPTAsbz1Nci5sZW5ndGg7cjxvO3IrKyl7dmFyIGE9TXJbcl07aS5oYXNPd25Qcm9wZXJ0eShhKSYmKG5bYV09aVthXSl9fX1mdW5jdGlvbiAkcCh0KXt0JiYocXAodCksS3AodCwibGFiZWwiKSx0LmVtcGhhc2lzJiZLcCh0LmVtcGhhc2lzLCJsYWJlbCIpKX1mdW5jdGlvbiBKcCh0KXtyZXR1cm4gRih0KT90OnQ/W3RdOltdfWZ1bmN0aW9uIFFwKHQpe3JldHVybihGKHQpP3RbMF06dCl8fHt9fWZ1bmN0aW9uIHRkKHQsZSl7VXAoSnAodC5zZXJpZXMpLChmdW5jdGlvbih0KXtYcCh0KSYmZnVuY3Rpb24odCl7aWYoWHAodCkpe1pwKHQpLHFwKHQpLEtwKHQsImxhYmVsIiksS3AodCwidXBwZXJMYWJlbCIpLEtwKHQsImVkZ2VMYWJlbCIpLHQuZW1waGFzaXMmJihLcCh0LmVtcGhhc2lzLCJsYWJlbCIpLEtwKHQuZW1waGFzaXMsInVwcGVyTGFiZWwiKSxLcCh0LmVtcGhhc2lzLCJlZGdlTGFiZWwiKSk7dmFyIGU9dC5tYXJrUG9pbnQ7ZSYmKFpwKGUpLCRwKGUpKTt2YXIgbj10Lm1hcmtMaW5lO24mJihacChuKSwkcChuKSk7dmFyIGk9dC5tYXJrQXJlYTtpJiYkcChpKTt2YXIgcj10LmRhdGE7aWYoImdyYXBoIj09PXQudHlwZSl7cj1yfHx0Lm5vZGVzO3ZhciBvPXQubGlua3N8fHQuZWRnZXM7aWYobyYmIWoobykpZm9yKHZhciBhPTA7YTxvLmxlbmd0aDthKyspJHAob1thXSk7Tyh0LmNhdGVnb3JpZXMsKGZ1bmN0aW9uKHQpe3FwKHQpfSkpfWlmKHImJiFqKHIpKWZvcihhPTA7YTxyLmxlbmd0aDthKyspJHAoclthXSk7aWYoKGU9dC5tYXJrUG9pbnQpJiZlLmRhdGEpe3ZhciBzPWUuZGF0YTtmb3IoYT0wO2E8cy5sZW5ndGg7YSsrKSRwKHNbYV0pfWlmKChuPXQubWFya0xpbmUpJiZuLmRhdGEpe3ZhciBsPW4uZGF0YTtmb3IoYT0wO2E8bC5sZW5ndGg7YSsrKUYobFthXSk/KCRwKGxbYV1bMF0pLCRwKGxbYV1bMV0pKTokcChsW2FdKX0iZ2F1Z2UiPT09dC50eXBlPyhLcCh0LCJheGlzTGFiZWwiKSxLcCh0LCJ0aXRsZSIpLEtwKHQsImRldGFpbCIpKToidHJlZW1hcCI9PT10LnR5cGU/KGpwKHQuYnJlYWRjcnVtYiwiaXRlbVN0eWxlIiksTyh0LmxldmVscywoZnVuY3Rpb24odCl7cXAodCl9KSkpOiJ0cmVlIj09PXQudHlwZSYmcXAodC5sZWF2ZXMpfX0odCl9KSk7dmFyIG49WyJ4QXhpcyIsInlBeGlzIiwicmFkaXVzQXhpcyIsImFuZ2xlQXhpcyIsInNpbmdsZUF4aXMiLCJwYXJhbGxlbEF4aXMiLCJyYWRhciJdO2UmJm4ucHVzaCgidmFsdWVBeGlzIiwiY2F0ZWdvcnlBeGlzIiwibG9nQXhpcyIsInRpbWVBeGlzIiksVXAobiwoZnVuY3Rpb24oZSl7VXAoSnAodFtlXSksKGZ1bmN0aW9uKHQpe3QmJihLcCh0LCJheGlzTGFiZWwiKSxLcCh0LmF4aXNQb2ludGVyLCJsYWJlbCIpKX0pKX0pKSxVcChKcCh0LnBhcmFsbGVsKSwoZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5wYXJhbGxlbEF4aXNEZWZhdWx0O0twKGUsImF4aXNMYWJlbCIpLEtwKGUmJmUuYXhpc1BvaW50ZXIsImxhYmVsIil9KSksVXAoSnAodC5jYWxlbmRhciksKGZ1bmN0aW9uKHQpe2pwKHQsIml0ZW1TdHlsZSIpLEtwKHQsImRheUxhYmVsIiksS3AodCwibW9udGhMYWJlbCIpLEtwKHQsInllYXJMYWJlbCIpfSkpLFVwKEpwKHQucmFkYXIpLChmdW5jdGlvbih0KXtLcCh0LCJuYW1lIiksdC5uYW1lJiZudWxsPT10LmF4aXNOYW1lJiYodC5heGlzTmFtZT10Lm5hbWUsZGVsZXRlIHQubmFtZSksbnVsbCE9dC5uYW1lR2FwJiZudWxsPT10LmF4aXNOYW1lR2FwJiYodC5heGlzTmFtZUdhcD10Lm5hbWVHYXAsZGVsZXRlIHQubmFtZUdhcCl9KSksVXAoSnAodC5nZW8pLChmdW5jdGlvbih0KXtYcCh0KSYmKCRwKHQpLFVwKEpwKHQucmVnaW9ucyksKGZ1bmN0aW9uKHQpeyRwKHQpfSkpKX0pKSxVcChKcCh0LnRpbWVsaW5lKSwoZnVuY3Rpb24odCl7JHAodCksanAodCwibGFiZWwiKSxqcCh0LCJpdGVtU3R5bGUiKSxqcCh0LCJjb250cm9sU3R5bGUiLCEwKTt2YXIgZT10LmRhdGE7RihlKSYmTyhlLChmdW5jdGlvbih0KXtZKHQpJiYoanAodCwibGFiZWwiKSxqcCh0LCJpdGVtU3R5bGUiKSl9KSl9KSksVXAoSnAodC50b29sYm94KSwoZnVuY3Rpb24odCl7anAodCwiaWNvblN0eWxlIiksVXAodC5mZWF0dXJlLChmdW5jdGlvbih0KXtqcCh0LCJpY29uU3R5bGUiKX0pKX0pKSxLcChRcCh0LmF4aXNQb2ludGVyKSwibGFiZWwiKSxLcChRcCh0LnRvb2x0aXApLmF4aXNQb2ludGVyLCJsYWJlbCIpfWZ1bmN0aW9uIGVkKHQpe3QmJk8obmQsKGZ1bmN0aW9uKGUpe2VbMF1pbiB0JiYhKGVbMV1pbiB0KSYmKHRbZVsxXV09dFtlWzBdXSl9KSl9dmFyIG5kPVtbIngiLCJsZWZ0Il0sWyJ5IiwidG9wIl0sWyJ4MiIsInJpZ2h0Il0sWyJ5MiIsImJvdHRvbSJdXSxpZD1bImdyaWQiLCJnZW8iLCJwYXJhbGxlbCIsImxlZ2VuZCIsInRvb2xib3giLCJ0aXRsZSIsInZpc3VhbE1hcCIsImRhdGFab29tIiwidGltZWxpbmUiXSxyZD1bWyJib3JkZXJSYWRpdXMiLCJiYXJCb3JkZXJSYWRpdXMiXSxbImJvcmRlckNvbG9yIiwiYmFyQm9yZGVyQ29sb3IiXSxbImJvcmRlcldpZHRoIiwiYmFyQm9yZGVyV2lkdGgiXV07ZnVuY3Rpb24gb2QodCl7dmFyIGU9dCYmdC5pdGVtU3R5bGU7aWYoZSlmb3IodmFyIG49MDtuPHJkLmxlbmd0aDtuKyspe3ZhciBpPXJkW25dWzFdLHI9cmRbbl1bMF07bnVsbCE9ZVtpXSYmKGVbcl09ZVtpXSl9fWZ1bmN0aW9uIGFkKHQpe3QmJiJlZGdlIj09PXQuYWxpZ25UbyYmbnVsbCE9dC5tYXJnaW4mJm51bGw9PXQuZWRnZURpc3RhbmNlJiYodC5lZGdlRGlzdGFuY2U9dC5tYXJnaW4pfWZ1bmN0aW9uIHNkKHQpe3QmJnQuZG93bnBsYXkmJiF0LmJsdXImJih0LmJsdXI9dC5kb3ducGxheSl9ZnVuY3Rpb24gbGQodCxlKXtpZih0KWZvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWUodFtuXSksdFtuXSYmbGQodFtuXS5jaGlsZHJlbixlKX1mdW5jdGlvbiB1ZCh0LGUpe3RkKHQsZSksdC5zZXJpZXM9d3IodC5zZXJpZXMpLE8odC5zZXJpZXMsKGZ1bmN0aW9uKHQpe2lmKFkodCkpe3ZhciBlPXQudHlwZTtpZigibGluZSI9PT1lKW51bGwhPXQuY2xpcE92ZXJmbG93JiYodC5jbGlwPXQuY2xpcE92ZXJmbG93KTtlbHNlIGlmKCJwaWUiPT09ZXx8ImdhdWdlIj09PWUpe2lmKG51bGwhPXQuY2xvY2tXaXNlJiYodC5jbG9ja3dpc2U9dC5jbG9ja1dpc2UpLGFkKHQubGFiZWwpLChyPXQuZGF0YSkmJiFqKHIpKWZvcih2YXIgbj0wO248ci5sZW5ndGg7bisrKWFkKHJbbl0pO251bGwhPXQuaG92ZXJPZmZzZXQmJih0LmVtcGhhc2lzPXQuZW1waGFzaXN8fHt9LCh0LmVtcGhhc2lzLnNjYWxlU2l6ZT1udWxsKSYmKHQuZW1waGFzaXMuc2NhbGVTaXplPXQuaG92ZXJPZmZzZXQpKX1lbHNlIGlmKCJnYXVnZSI9PT1lKXt2YXIgaT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1lLnNwbGl0KCIsIiksaT10LHI9MDtyPG4ubGVuZ3RoJiZudWxsIT0oaT1pJiZpW25bcl1dKTtyKyspO3JldHVybiBpfSh0LCJwb2ludGVyLmNvbG9yIik7bnVsbCE9aSYmZnVuY3Rpb24odCxlLG4saSl7Zm9yKHZhciByLG89ZS5zcGxpdCgiLCIpLGE9dCxzPTA7czxvLmxlbmd0aC0xO3MrKyludWxsPT1hW3I9b1tzXV0mJihhW3JdPXt9KSxhPWFbcl07KGl8fG51bGw9PWFbb1tzXV0pJiYoYVtvW3NdXT1uKX0odCwiaXRlbVN0eWxlLmNvbG9yIixpKX1lbHNlIGlmKCJiYXIiPT09ZSl7dmFyIHI7aWYob2QodCksb2QodC5iYWNrZ3JvdW5kU3R5bGUpLG9kKHQuZW1waGFzaXMpLChyPXQuZGF0YSkmJiFqKHIpKWZvcihuPTA7bjxyLmxlbmd0aDtuKyspIm9iamVjdCI9PXR5cGVvZiByW25dJiYob2QocltuXSksb2QocltuXSYmcltuXS5lbXBoYXNpcykpfWVsc2UgaWYoInN1bmJ1cnN0Ij09PWUpe3ZhciBvPXQuaGlnaGxpZ2h0UG9saWN5O28mJih0LmVtcGhhc2lzPXQuZW1waGFzaXN8fHt9LHQuZW1waGFzaXMuZm9jdXN8fCh0LmVtcGhhc2lzLmZvY3VzPW8pKSxzZCh0KSxsZCh0LmRhdGEsc2QpfWVsc2UiZ3JhcGgiPT09ZXx8InNhbmtleSI9PT1lP2Z1bmN0aW9uKHQpe3QmJm51bGwhPXQuZm9jdXNOb2RlQWRqYWNlbmN5JiYodC5lbXBoYXNpcz10LmVtcGhhc2lzfHx7fSxudWxsPT10LmVtcGhhc2lzLmZvY3VzJiYodC5lbXBoYXNpcy5mb2N1cz0iYWRqYWNlbmN5IikpfSh0KToibWFwIj09PWUmJih0Lm1hcFR5cGUmJiF0Lm1hcCYmKHQubWFwPXQubWFwVHlwZSksdC5tYXBMb2NhdGlvbiYmQyh0LHQubWFwTG9jYXRpb24pKTtudWxsIT10LmhvdmVyQW5pbWF0aW9uJiYodC5lbXBoYXNpcz10LmVtcGhhc2lzfHx7fSx0LmVtcGhhc2lzJiZudWxsPT10LmVtcGhhc2lzLnNjYWxlJiYodC5lbXBoYXNpcy5zY2FsZT10LmhvdmVyQW5pbWF0aW9uKSksZWQodCl9fSkpLHQuZGF0YVJhbmdlJiYodC52aXN1YWxNYXA9dC5kYXRhUmFuZ2UpLE8oaWQsKGZ1bmN0aW9uKGUpe3ZhciBuPXRbZV07biYmKEYobil8fChuPVtuXSksTyhuLChmdW5jdGlvbih0KXtlZCh0KX0pKSl9KSl9ZnVuY3Rpb24gaGQodCl7Tyh0LChmdW5jdGlvbihlLG4pe3ZhciBpPVtdLHI9W05hTixOYU5dLG89W2Uuc3RhY2tSZXN1bHREaW1lbnNpb24sZS5zdGFja2VkT3ZlckRpbWVuc2lvbl0sYT1lLmRhdGEscz1lLmlzU3RhY2tlZEJ5SW5kZXg7YS5tb2RpZnkobywoZnVuY3Rpb24obyxsLHUpe3ZhciBoLGMscD1hLmdldChlLnN0YWNrZWREaW1lbnNpb24sdSk7aWYoaXNOYU4ocCkpcmV0dXJuIHI7cz9jPWEuZ2V0UmF3SW5kZXgodSk6aD1hLmdldChlLnN0YWNrZWRCeURpbWVuc2lvbix1KTtmb3IodmFyIGQ9TmFOLGY9bi0xO2Y+PTA7Zi0tKXt2YXIgZz10W2ZdO2lmKHN8fChjPWcuZGF0YS5yYXdJbmRleE9mKGcuc3RhY2tlZEJ5RGltZW5zaW9uLGgpKSxjPj0wKXt2YXIgeT1nLmRhdGEuZ2V0QnlSYXdJbmRleChnLnN0YWNrUmVzdWx0RGltZW5zaW9uLGMpO2lmKHA+PTAmJnk+MHx8cDw9MCYmeTwwKXtwPW5yKHAseSksZD15O2JyZWFrfX19cmV0dXJuIGlbMF09cCxpWzFdPWQsaX0pKX0pKX12YXIgY2QscGQsZGQsZmQsZ2QseWQ9ZnVuY3Rpb24odCl7dGhpcy5kYXRhPXQuZGF0YXx8KHQuc291cmNlRm9ybWF0PT09aHA/e306W10pLHRoaXMuc291cmNlRm9ybWF0PXQuc291cmNlRm9ybWF0fHxwcCx0aGlzLnNlcmllc0xheW91dEJ5PXQuc2VyaWVzTGF5b3V0Qnl8fGRwLHRoaXMuc3RhcnRJbmRleD10LnN0YXJ0SW5kZXh8fDAsdGhpcy5kaW1lbnNpb25zRGV0ZWN0ZWRDb3VudD10LmRpbWVuc2lvbnNEZXRlY3RlZENvdW50LHRoaXMubWV0YVJhd09wdGlvbj10Lm1ldGFSYXdPcHRpb247dmFyIGU9dGhpcy5kaW1lbnNpb25zRGVmaW5lPXQuZGltZW5zaW9uc0RlZmluZTtpZihlKWZvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dO251bGw9PWkudHlwZSYmd3AodGhpcyxuKT09PWdwJiYoaS50eXBlPSJvcmRpbmFsIil9fTtmdW5jdGlvbiB2ZCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHlkfWZ1bmN0aW9uIG1kKHQsZSxuKXtuPW58fHhkKHQpO3ZhciBpPWUuc2VyaWVzTGF5b3V0Qnkscj1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvLGE7aWYoIXQpcmV0dXJue2RpbWVuc2lvbnNEZWZpbmU6YmQociksc3RhcnRJbmRleDphLGRpbWVuc2lvbnNEZXRlY3RlZENvdW50Om99O2lmKGU9PT1scCl7dmFyIHM9dDsiYXV0byI9PT1pfHxudWxsPT1pP3dkKChmdW5jdGlvbih0KXtudWxsIT10JiYiLSIhPT10JiYoVyh0KT9udWxsPT1hJiYoYT0xKTphPTApfSksbixzLDEwKTphPVgoaSk/aTppPzE6MCxyfHwxIT09YXx8KHI9W10sd2QoKGZ1bmN0aW9uKHQsZSl7cltlXT1udWxsIT10P3QrIiI6IiJ9KSxuLHMsMS8wKSksbz1yP3IubGVuZ3RoOm49PT1mcD9zLmxlbmd0aDpzWzBdP3NbMF0ubGVuZ3RoOm51bGx9ZWxzZSBpZihlPT09dXApcnx8KHI9ZnVuY3Rpb24odCl7dmFyIGUsbj0wO2Zvcig7bjx0Lmxlbmd0aCYmIShlPXRbbisrXSk7KTtpZihlKXt2YXIgaT1bXTtyZXR1cm4gTyhlLChmdW5jdGlvbih0LGUpe2kucHVzaChlKX0pKSxpfX0odCkpO2Vsc2UgaWYoZT09PWhwKXJ8fChyPVtdLE8odCwoZnVuY3Rpb24odCxlKXtyLnB1c2goZSl9KSkpO2Vsc2UgaWYoZT09PXNwKXt2YXIgbD1Jcih0WzBdKTtvPUYobCkmJmwubGVuZ3RofHwxfXJldHVybntzdGFydEluZGV4OmEsZGltZW5zaW9uc0RlZmluZTpiZChyKSxkaW1lbnNpb25zRGV0ZWN0ZWRDb3VudDpvfX0odCxuLGksZS5zb3VyY2VIZWFkZXIsZS5kaW1lbnNpb25zKTtyZXR1cm4gbmV3IHlkKHtkYXRhOnQsc291cmNlRm9ybWF0Om4sc2VyaWVzTGF5b3V0Qnk6aSxkaW1lbnNpb25zRGVmaW5lOnIuZGltZW5zaW9uc0RlZmluZSxzdGFydEluZGV4OnIuc3RhcnRJbmRleCxkaW1lbnNpb25zRGV0ZWN0ZWRDb3VudDpyLmRpbWVuc2lvbnNEZXRlY3RlZENvdW50LG1ldGFSYXdPcHRpb246UyhlKX0pfWZ1bmN0aW9uIF9kKHQpe3JldHVybiBuZXcgeWQoe2RhdGE6dCxzb3VyY2VGb3JtYXQ6aih0KT9jcDpzcH0pfWZ1bmN0aW9uIHhkKHQpe3ZhciBlPXBwO2lmKGoodCkpZT1jcDtlbHNlIGlmKEYodCkpezA9PT10Lmxlbmd0aCYmKGU9bHApO2Zvcih2YXIgbj0wLGk9dC5sZW5ndGg7bjxpO24rKyl7dmFyIHI9dFtuXTtpZihudWxsIT1yKXtpZihGKHIpKXtlPWxwO2JyZWFrfWlmKFkocikpe2U9dXA7YnJlYWt9fX19ZWxzZSBpZihZKHQpKWZvcih2YXIgbyBpbiB0KWlmKGZ0KHQsbykmJlAodFtvXSkpe2U9aHA7YnJlYWt9cmV0dXJuIGV9ZnVuY3Rpb24gYmQodCl7aWYodCl7dmFyIGU9Y3QoKTtyZXR1cm4gUih0LChmdW5jdGlvbih0LG4pe3ZhciBpPXtuYW1lOih0PVkodCk/dDp7bmFtZTp0fSkubmFtZSxkaXNwbGF5TmFtZTp0LmRpc3BsYXlOYW1lLHR5cGU6dC50eXBlfTtpZihudWxsPT1pLm5hbWUpcmV0dXJuIGk7aS5uYW1lKz0iIixudWxsPT1pLmRpc3BsYXlOYW1lJiYoaS5kaXNwbGF5TmFtZT1pLm5hbWUpO3ZhciByPWUuZ2V0KGkubmFtZSk7cmV0dXJuIHI/aS5uYW1lKz0iLSIrci5jb3VudCsrOmUuc2V0KGkubmFtZSx7Y291bnQ6MX0pLGl9KSl9fWZ1bmN0aW9uIHdkKHQsZSxuLGkpe2lmKGU9PT1mcClmb3IodmFyIHI9MDtyPG4ubGVuZ3RoJiZyPGk7cisrKXQobltyXT9uW3JdWzBdOm51bGwscik7ZWxzZXt2YXIgbz1uWzBdfHxbXTtmb3Iocj0wO3I8by5sZW5ndGgmJnI8aTtyKyspdChvW3JdLHIpfX1mdW5jdGlvbiBTZCh0KXt2YXIgZT10LnNvdXJjZUZvcm1hdDtyZXR1cm4gZT09PXVwfHxlPT09aHB9dmFyIE1kPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZhciBuPXZkKHQpP3Q6X2QodCk7dGhpcy5fc291cmNlPW47dmFyIGk9dGhpcy5fZGF0YT1uLmRhdGE7bi5zb3VyY2VGb3JtYXQ9PT1jcCYmKHRoaXMuX29mZnNldD0wLHRoaXMuX2RpbVNpemU9ZSx0aGlzLl9kYXRhPWkpLGdkKHRoaXMsaSxuKX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0U291cmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZX0sdC5wcm90b3R5cGUuY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sdC5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUuYXBwZW5kRGF0YT1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLmNsZWFuPWZ1bmN0aW9uKCl7fSx0LnByb3RvSW5pdGlhbGl6ZT1mdW5jdGlvbigpe3ZhciBlPXQucHJvdG90eXBlO2UucHVyZT0hMSxlLnBlcnNpc3RlbnQ9ITB9KCksdC5pbnRlcm5hbEZpZWxkPWZ1bmN0aW9uKCl7dmFyIHQ7Z2Q9ZnVuY3Rpb24odCxyLG8pe3ZhciBhPW8uc291cmNlRm9ybWF0LHM9by5zZXJpZXNMYXlvdXRCeSxsPW8uc3RhcnRJbmRleCx1PW8uZGltZW5zaW9uc0RlZmluZSxoPWZkW1JkKGEscyldO2lmKFQodCxoKSxhPT09Y3ApdC5nZXRJdGVtPWUsdC5jb3VudD1pLHQuZmlsbFN0b3JhZ2U9bjtlbHNle3ZhciBjPUNkKGEscyk7dC5nZXRJdGVtPUIoYyxudWxsLHIsbCx1KTt2YXIgcD1rZChhLHMpO3QuY291bnQ9QihwLG51bGwscixsLHUpfX07dmFyIGU9ZnVuY3Rpb24odCxlKXt0LT10aGlzLl9vZmZzZXQsZT1lfHxbXTtmb3IodmFyIG49dGhpcy5fZGF0YSxpPXRoaXMuX2RpbVNpemUscj1pKnQsbz0wO288aTtvKyspZVtvXT1uW3Irb107cmV0dXJuIGV9LG49ZnVuY3Rpb24odCxlLG4saSl7Zm9yKHZhciByPXRoaXMuX2RhdGEsbz10aGlzLl9kaW1TaXplLGE9MDthPG87YSsrKXtmb3IodmFyIHM9aVthXSxsPW51bGw9PXNbMF0/MS8wOnNbMF0sdT1udWxsPT1zWzFdPy0xLzA6c1sxXSxoPWUtdCxjPW5bYV0scD0wO3A8aDtwKyspe3ZhciBkPXJbcCpvK2FdO2NbdCtwXT1kLGQ8bCYmKGw9ZCksZD51JiYodT1kKX1zWzBdPWwsc1sxXT11fX0saT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhP3RoaXMuX2RhdGEubGVuZ3RoL3RoaXMuX2RpbVNpemU6MH07ZnVuY3Rpb24gcih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl0aGlzLl9kYXRhLnB1c2godFtlXSl9KHQ9e30pLmFycmF5Um93c19jb2x1bW49e3B1cmU6ITAsYXBwZW5kRGF0YTpyfSx0LmFycmF5Um93c19yb3c9e3B1cmU6ITAsYXBwZW5kRGF0YTpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcignRG8gbm90IHN1cHBvcnQgYXBwZW5kRGF0YSB3aGVuIHNldCBzZXJpZXNMYXlvdXRCeTogInJvdyIuJyl9fSx0Lm9iamVjdFJvd3M9e3B1cmU6ITAsYXBwZW5kRGF0YTpyfSx0LmtleWVkQ29sdW1ucz17cHVyZTohMCxhcHBlbmREYXRhOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2RhdGE7Tyh0LChmdW5jdGlvbih0LG4pe2Zvcih2YXIgaT1lW25dfHwoZVtuXT1bXSkscj0wO3I8KHR8fFtdKS5sZW5ndGg7cisrKWkucHVzaCh0W3JdKX0pKX19LHQub3JpZ2luYWw9e2FwcGVuZERhdGE6cn0sdC50eXBlZEFycmF5PXtwZXJzaXN0ZW50OiExLHB1cmU6ITAsYXBwZW5kRGF0YTpmdW5jdGlvbih0KXt0aGlzLl9kYXRhPXR9LGNsZWFuOmZ1bmN0aW9uKCl7dGhpcy5fb2Zmc2V0Kz10aGlzLmNvdW50KCksdGhpcy5fZGF0YT1udWxsfX0sZmQ9dH0oKSx0fSgpLElkPWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiB0W2ldfSxUZD0oKGNkPXt9KS5hcnJheVJvd3NfY29sdW1uPWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiB0W2krZV19LGNkLmFycmF5Um93c19yb3c9ZnVuY3Rpb24odCxlLG4saSxyKXtpKz1lO2Zvcih2YXIgbz1yfHxbXSxhPXQscz0wO3M8YS5sZW5ndGg7cysrKXt2YXIgbD1hW3NdO29bc109bD9sW2ldOm51bGx9cmV0dXJuIG99LGNkLm9iamVjdFJvd3M9SWQsY2Qua2V5ZWRDb2x1bW5zPWZ1bmN0aW9uKHQsZSxuLGkscil7Zm9yKHZhciBvPXJ8fFtdLGE9MDthPG4ubGVuZ3RoO2ErKyl7dmFyIHM9blthXS5uYW1lOzA7dmFyIGw9dFtzXTtvW2FdPWw/bFtpXTpudWxsfXJldHVybiBvfSxjZC5vcmlnaW5hbD1JZCxjZCk7ZnVuY3Rpb24gQ2QodCxlKXt2YXIgbj1UZFtSZCh0LGUpXTtyZXR1cm4gbn12YXIgRGQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0Lmxlbmd0aH0sQWQ9KChwZD17fSkuYXJyYXlSb3dzX2NvbHVtbj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIE1hdGgubWF4KDAsdC5sZW5ndGgtZSl9LHBkLmFycmF5Um93c19yb3c9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRbMF07cmV0dXJuIGk/TWF0aC5tYXgoMCxpLmxlbmd0aC1lKTowfSxwZC5vYmplY3RSb3dzPURkLHBkLmtleWVkQ29sdW1ucz1mdW5jdGlvbih0LGUsbil7dmFyIGk9blswXS5uYW1lO3ZhciByPXRbaV07cmV0dXJuIHI/ci5sZW5ndGg6MH0scGQub3JpZ2luYWw9RGQscGQpO2Z1bmN0aW9uIGtkKHQsZSl7dmFyIG49QWRbUmQodCxlKV07cmV0dXJuIG59dmFyIExkPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdFtlXX0sUGQ9KChkZD17fSkuYXJyYXlSb3dzPUxkLGRkLm9iamVjdFJvd3M9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0W25dfSxkZC5rZXllZENvbHVtbnM9TGQsZGQub3JpZ2luYWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPUlyKHQpO3JldHVybiBpIGluc3RhbmNlb2YgQXJyYXk/aVtlXTppfSxkZC50eXBlZEFycmF5PUxkLGRkKTtmdW5jdGlvbiBPZCh0KXt2YXIgZT1QZFt0XTtyZXR1cm4gZX1mdW5jdGlvbiBSZCh0LGUpe3JldHVybiB0PT09bHA/dCsiXyIrZTp0fWZ1bmN0aW9uIE5kKHQsZSxuKXtpZih0KXt2YXIgaT10LmdldFJhd0RhdGFJdGVtKGUpO2lmKG51bGwhPWkpe3ZhciByPXQuZ2V0U3RvcmUoKSxvPXIuZ2V0U291cmNlKCkuc291cmNlRm9ybWF0O2lmKG51bGwhPW4pe3ZhciBhPXQuZ2V0RGltZW5zaW9uSW5kZXgobikscz1yLmdldERpbWVuc2lvblByb3BlcnR5KGEpO3JldHVybiBPZChvKShpLGEscyl9dmFyIGw9aTtyZXR1cm4gbz09PXNwJiYobD1JcihpKSksbH19fXZhciB6ZD0vXHtAKC4rPylcfS9nLEVkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZ2V0RGF0YVBhcmFtcz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZ2V0RGF0YShlKSxpPXRoaXMuZ2V0UmF3VmFsdWUodCxlKSxyPW4uZ2V0UmF3SW5kZXgodCksbz1uLmdldE5hbWUodCksYT1uLmdldFJhd0RhdGFJdGVtKHQpLHM9bi5nZXRJdGVtVmlzdWFsKHQsInN0eWxlIiksbD1zJiZzW24uZ2V0SXRlbVZpc3VhbCh0LCJkcmF3VHlwZSIpfHwiZmlsbCJdLHU9cyYmcy5zdHJva2UsaD10aGlzLm1haW5UeXBlLGM9InNlcmllcyI9PT1oLHA9bi51c2VyT3V0cHV0JiZuLnVzZXJPdXRwdXQuZ2V0KCk7cmV0dXJue2NvbXBvbmVudFR5cGU6aCxjb21wb25lbnRTdWJUeXBlOnRoaXMuc3ViVHlwZSxjb21wb25lbnRJbmRleDp0aGlzLmNvbXBvbmVudEluZGV4LHNlcmllc1R5cGU6Yz90aGlzLnN1YlR5cGU6bnVsbCxzZXJpZXNJbmRleDp0aGlzLnNlcmllc0luZGV4LHNlcmllc0lkOmM/dGhpcy5pZDpudWxsLHNlcmllc05hbWU6Yz90aGlzLm5hbWU6bnVsbCxuYW1lOm8sZGF0YUluZGV4OnIsZGF0YTphLGRhdGFUeXBlOmUsdmFsdWU6aSxjb2xvcjpsLGJvcmRlckNvbG9yOnUsZGltZW5zaW9uTmFtZXM6cD9wLmZ1bGxEaW1lbnNpb25zOm51bGwsZW5jb2RlOnA/cC5lbmNvZGU6bnVsbCwkdmFyczpbInNlcmllc05hbWUiLCJuYW1lIiwidmFsdWUiXX19LHQucHJvdG90eXBlLmdldEZvcm1hdHRlZExhYmVsPWZ1bmN0aW9uKHQsZSxuLGkscixvKXtlPWV8fCJub3JtYWwiO3ZhciBhPXRoaXMuZ2V0RGF0YShuKSxzPXRoaXMuZ2V0RGF0YVBhcmFtcyh0LG4pOyhvJiYocy52YWx1ZT1vLmludGVycG9sYXRlZFZhbHVlKSxudWxsIT1pJiZGKHMudmFsdWUpJiYocy52YWx1ZT1zLnZhbHVlW2ldKSxyKXx8KHI9YS5nZXRJdGVtTW9kZWwodCkuZ2V0KCJub3JtYWwiPT09ZT9bImxhYmVsIiwiZm9ybWF0dGVyIl06W2UsImxhYmVsIiwiZm9ybWF0dGVyIl0pKTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2Ygcj8ocy5zdGF0dXM9ZSxzLmRpbWVuc2lvbkluZGV4PWkscihzKSk6InN0cmluZyI9PXR5cGVvZiByP0djKHIscykucmVwbGFjZSh6ZCwoZnVuY3Rpb24oZSxuKXt2YXIgaT1uLmxlbmd0aCxyPW47IlsiPT09ci5jaGFyQXQoMCkmJiJdIj09PXIuY2hhckF0KGktMSkmJihyPStyLnNsaWNlKDEsaS0xKSk7dmFyIHM9TmQoYSx0LHIpO2lmKG8mJkYoby5pbnRlcnBvbGF0ZWRWYWx1ZSkpe3ZhciBsPWEuZ2V0RGltZW5zaW9uSW5kZXgocik7bD49MCYmKHM9by5pbnRlcnBvbGF0ZWRWYWx1ZVtsXSl9cmV0dXJuIG51bGwhPXM/cysiIjoiIn0pKTp2b2lkIDB9LHQucHJvdG90eXBlLmdldFJhd1ZhbHVlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE5kKHRoaXMuZ2V0RGF0YShlKSx0KX0sdC5wcm90b3R5cGUuZm9ybWF0VG9vbHRpcD1mdW5jdGlvbih0LGUsbil7fSx0fSgpO2Z1bmN0aW9uIFZkKHQpe3ZhciBlLG47cmV0dXJuIFkodCk/dC50eXBlJiYobj10KTplPXQse21hcmt1cFRleHQ6ZSxtYXJrdXBGcmFnbWVudDpufX1mdW5jdGlvbiBCZCh0KXtyZXR1cm4gbmV3IEdkKHQpfXZhciBHZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dD10fHx7fSx0aGlzLl9yZXNldD10LnJlc2V0LHRoaXMuX3BsYW49dC5wbGFuLHRoaXMuX2NvdW50PXQuY291bnQsdGhpcy5fb25EaXJ0eT10Lm9uRGlydHksdGhpcy5fZGlydHk9ITB9cmV0dXJuIHQucHJvdG90eXBlLnBlcmZvcm09ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLl91cHN0cmVhbSxpPXQmJnQuc2tpcDtpZih0aGlzLl9kaXJ0eSYmbil7dmFyIHI9dGhpcy5jb250ZXh0O3IuZGF0YT1yLm91dHB1dERhdGE9bi5jb250ZXh0Lm91dHB1dERhdGF9dGhpcy5fX3BpcGVsaW5lJiYodGhpcy5fX3BpcGVsaW5lLmN1cnJlbnRUYXNrPXRoaXMpLHRoaXMuX3BsYW4mJiFpJiYoZT10aGlzLl9wbGFuKHRoaXMuY29udGV4dCkpO3ZhciBvLGE9aCh0aGlzLl9tb2RCeSkscz10aGlzLl9tb2REYXRhQ291bnR8fDAsbD1oKHQmJnQubW9kQnkpLHU9dCYmdC5tb2REYXRhQ291bnR8fDA7ZnVuY3Rpb24gaCh0KXtyZXR1cm4hKHQ+PTEpJiYodD0xKSx0fWE9PT1sJiZzPT09dXx8KGU9InJlc2V0IiksKHRoaXMuX2RpcnR5fHwicmVzZXQiPT09ZSkmJih0aGlzLl9kaXJ0eT0hMSxvPXRoaXMuX2RvUmVzZXQoaSkpLHRoaXMuX21vZEJ5PWwsdGhpcy5fbW9kRGF0YUNvdW50PXU7dmFyIGM9dCYmdC5zdGVwO2lmKHRoaXMuX2R1ZUVuZD1uP24uX291dHB1dER1ZUVuZDp0aGlzLl9jb3VudD90aGlzLl9jb3VudCh0aGlzLmNvbnRleHQpOjEvMCx0aGlzLl9wcm9ncmVzcyl7dmFyIHA9dGhpcy5fZHVlSW5kZXgsZD1NYXRoLm1pbihudWxsIT1jP3RoaXMuX2R1ZUluZGV4K2M6MS8wLHRoaXMuX2R1ZUVuZCk7aWYoIWkmJihvfHxwPGQpKXt2YXIgZj10aGlzLl9wcm9ncmVzcztpZihGKGYpKWZvcih2YXIgZz0wO2c8Zi5sZW5ndGg7ZysrKXRoaXMuX2RvUHJvZ3Jlc3MoZltnXSxwLGQsbCx1KTtlbHNlIHRoaXMuX2RvUHJvZ3Jlc3MoZixwLGQsbCx1KX10aGlzLl9kdWVJbmRleD1kO3ZhciB5PW51bGwhPXRoaXMuX3NldHRlZE91dHB1dEVuZD90aGlzLl9zZXR0ZWRPdXRwdXRFbmQ6ZDswLHRoaXMuX291dHB1dER1ZUVuZD15fWVsc2UgdGhpcy5fZHVlSW5kZXg9dGhpcy5fb3V0cHV0RHVlRW5kPW51bGwhPXRoaXMuX3NldHRlZE91dHB1dEVuZD90aGlzLl9zZXR0ZWRPdXRwdXRFbmQ6dGhpcy5fZHVlRW5kO3JldHVybiB0aGlzLnVuZmluaXNoZWQoKX0sdC5wcm90b3R5cGUuZGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9kaXJ0eT0hMCx0aGlzLl9vbkRpcnR5JiZ0aGlzLl9vbkRpcnR5KHRoaXMuY29udGV4dCl9LHQucHJvdG90eXBlLl9kb1Byb2dyZXNzPWZ1bmN0aW9uKHQsZSxuLGkscil7RmQucmVzZXQoZSxuLGksciksdGhpcy5fY2FsbGluZ1Byb2dyZXNzPXQsdGhpcy5fY2FsbGluZ1Byb2dyZXNzKHtzdGFydDplLGVuZDpuLGNvdW50Om4tZSxuZXh0OkZkLm5leHR9LHRoaXMuY29udGV4dCl9LHQucHJvdG90eXBlLl9kb1Jlc2V0PWZ1bmN0aW9uKHQpe3ZhciBlLG47dGhpcy5fZHVlSW5kZXg9dGhpcy5fb3V0cHV0RHVlRW5kPXRoaXMuX2R1ZUVuZD0wLHRoaXMuX3NldHRlZE91dHB1dEVuZD1udWxsLCF0JiZ0aGlzLl9yZXNldCYmKChlPXRoaXMuX3Jlc2V0KHRoaXMuY29udGV4dCkpJiZlLnByb2dyZXNzJiYobj1lLmZvcmNlRmlyc3RQcm9ncmVzcyxlPWUucHJvZ3Jlc3MpLEYoZSkmJiFlLmxlbmd0aCYmKGU9bnVsbCkpLHRoaXMuX3Byb2dyZXNzPWUsdGhpcy5fbW9kQnk9dGhpcy5fbW9kRGF0YUNvdW50PW51bGw7dmFyIGk9dGhpcy5fZG93bnN0cmVhbTtyZXR1cm4gaSYmaS5kaXJ0eSgpLG59LHQucHJvdG90eXBlLnVuZmluaXNoZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvZ3Jlc3MmJnRoaXMuX2R1ZUluZGV4PHRoaXMuX2R1ZUVuZH0sdC5wcm90b3R5cGUucGlwZT1mdW5jdGlvbih0KXsodGhpcy5fZG93bnN0cmVhbSE9PXR8fHRoaXMuX2RpcnR5KSYmKHRoaXMuX2Rvd25zdHJlYW09dCx0Ll91cHN0cmVhbT10aGlzLHQuZGlydHkoKSl9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9kaXNwb3NlZHx8KHRoaXMuX3Vwc3RyZWFtJiYodGhpcy5fdXBzdHJlYW0uX2Rvd25zdHJlYW09bnVsbCksdGhpcy5fZG93bnN0cmVhbSYmKHRoaXMuX2Rvd25zdHJlYW0uX3Vwc3RyZWFtPW51bGwpLHRoaXMuX2RpcnR5PSExLHRoaXMuX2Rpc3Bvc2VkPSEwKX0sdC5wcm90b3R5cGUuZ2V0VXBzdHJlYW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXBzdHJlYW19LHQucHJvdG90eXBlLmdldERvd25zdHJlYW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZG93bnN0cmVhbX0sdC5wcm90b3R5cGUuc2V0T3V0cHV0RW5kPWZ1bmN0aW9uKHQpe3RoaXMuX291dHB1dER1ZUVuZD10aGlzLl9zZXR0ZWRPdXRwdXRFbmQ9dH0sdH0oKSxGZD1mdW5jdGlvbigpe3ZhciB0LGUsbixpLHIsbz17cmVzZXQ6ZnVuY3Rpb24obCx1LGgsYyl7ZT1sLHQ9dSxuPWgsaT1jLHI9TWF0aC5jZWlsKGkvbiksby5uZXh0PW4+MSYmaT4wP3M6YX19O3JldHVybiBvO2Z1bmN0aW9uIGEoKXtyZXR1cm4gZTx0P2UrKzpudWxsfWZ1bmN0aW9uIHMoKXt2YXIgbz1lJXIqbitNYXRoLmNlaWwoZS9yKSxhPWU+PXQ/bnVsbDpvPGk/bzplO3JldHVybiBlKyssYX19KCk7ZnVuY3Rpb24gSGQodCxlKXt2YXIgbj1lJiZlLnR5cGU7cmV0dXJuIm9yZGluYWwiPT09bj90OigidGltZSI9PT1uJiYibnVtYmVyIiE9dHlwZW9mIHQmJm51bGwhPXQmJiItIiE9PXQmJih0PStzcih0KSksbnVsbD09dHx8IiI9PT10P05hTjordCl9dmFyIFdkPWN0KHtudW1iZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHBhcnNlRmxvYXQodCl9LHRpbWU6ZnVuY3Rpb24odCl7cmV0dXJuK3NyKHQpfSx0cmltOmZ1bmN0aW9uKHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD9hdCh0KTp0fX0pO2Z1bmN0aW9uIFVkKHQpe3JldHVybiBXZC5nZXQodCl9dmFyIFhkPXtsdDpmdW5jdGlvbih0LGUpe3JldHVybiB0PGV9LGx0ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0PD1lfSxndDpmdW5jdGlvbih0LGUpe3JldHVybiB0PmV9LGd0ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0Pj1lfX0sWWQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7aWYoIm51bWJlciIhPXR5cGVvZiBlKXt2YXIgbj0iIjswLF9yKG4pfXRoaXMuX29wRm49WGRbdF0sdGhpcy5fcnZhbEZsb2F0PWRyKGUpfXJldHVybiB0LnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIHQ/dGhpcy5fb3BGbih0LHRoaXMuX3J2YWxGbG9hdCk6dGhpcy5fb3BGbihkcih0KSx0aGlzLl9ydmFsRmxvYXQpfSx0fSgpLFpkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZhciBuPSJkZXNjIj09PXQ7dGhpcy5fcmVzdWx0TFQ9bj8xOi0xLG51bGw9PWUmJihlPW4/Im1pbiI6Im1heCIpLHRoaXMuX2luY29tcGFyYWJsZT0ibWluIj09PWU/LTEvMDoxLzB9cmV0dXJuIHQucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dHlwZW9mIHQsaT10eXBlb2YgZSxyPSJudW1iZXIiPT09bj90OmRyKHQpLG89Im51bWJlciI9PT1pP2U6ZHIoZSksYT1pc05hTihyKSxzPWlzTmFOKG8pO2lmKGEmJihyPXRoaXMuX2luY29tcGFyYWJsZSkscyYmKG89dGhpcy5faW5jb21wYXJhYmxlKSxhJiZzKXt2YXIgbD0ic3RyaW5nIj09PW4sdT0ic3RyaW5nIj09PWk7bCYmKHI9dT90OjApLHUmJihvPWw/ZTowKX1yZXR1cm4gcjxvP3RoaXMuX3Jlc3VsdExUOnI+bz8tdGhpcy5fcmVzdWx0TFQ6MH0sdH0oKSxqZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9ydmFsPWUsdGhpcy5faXNFUT10LHRoaXMuX3J2YWxUeXBlb2Y9dHlwZW9mIGUsdGhpcy5fcnZhbEZsb2F0PWRyKGUpfXJldHVybiB0LnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXt2YXIgZT10PT09dGhpcy5fcnZhbDtpZighZSl7dmFyIG49dHlwZW9mIHQ7bj09PXRoaXMuX3J2YWxUeXBlb2Z8fCJudW1iZXIiIT09biYmIm51bWJlciIhPT10aGlzLl9ydmFsVHlwZW9mfHwoZT1kcih0KT09PXRoaXMuX3J2YWxGbG9hdCl9cmV0dXJuIHRoaXMuX2lzRVE/ZTohZX0sdH0oKTtmdW5jdGlvbiBxZCh0LGUpe3JldHVybiJlcSI9PT10fHwibmUiPT09dD9uZXcgamQoImVxIj09PXQsZSk6ZnQoWGQsdCk/bmV3IFlkKHQsZSk6bnVsbH12YXIgS2Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5nZXRSYXdEYXRhPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJub3Qgc3VwcG9ydGVkIil9LHQucHJvdG90eXBlLmdldFJhd0RhdGFJdGVtPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcigibm90IHN1cHBvcnRlZCIpfSx0LnByb3RvdHlwZS5jbG9uZVJhd0RhdGE9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmdldERpbWVuc2lvbkluZm89ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5jbG9uZUFsbERpbWVuc2lvbkluZm89ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmNvdW50PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5yZXRyaWV2ZVZhbHVlPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS5yZXRyaWV2ZVZhbHVlRnJvbUl0ZW09ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLmNvbnZlcnRWYWx1ZT1mdW5jdGlvbih0LGUpe3JldHVybiBIZCh0LGUpfSx0fSgpO2Z1bmN0aW9uICRkKHQpe3ZhciBlPXQuc291cmNlRm9ybWF0O2lmKCFyZihlKSl7dmFyIG49IiI7MCxfcihuKX1yZXR1cm4gdC5kYXRhfWZ1bmN0aW9uIEpkKHQpe3ZhciBlPXQuc291cmNlRm9ybWF0LG49dC5kYXRhO2lmKCFyZihlKSl7dmFyIGk9IiI7MCxfcihpKX1pZihlPT09bHApe2Zvcih2YXIgcj1bXSxvPTAsYT1uLmxlbmd0aDtvPGE7bysrKXIucHVzaChuW29dLnNsaWNlKCkpO3JldHVybiByfWlmKGU9PT11cCl7Zm9yKHI9W10sbz0wLGE9bi5sZW5ndGg7bzxhO28rKylyLnB1c2goVCh7fSxuW29dKSk7cmV0dXJuIHJ9fWZ1bmN0aW9uIFFkKHQsZSxuKXtpZihudWxsIT1uKXJldHVybiJudW1iZXIiPT10eXBlb2Ygbnx8IWlzTmFOKG4pJiYhZnQoZSxuKT90W25dOmZ0KGUsbik/ZVtuXTp2b2lkIDB9ZnVuY3Rpb24gdGYodCl7cmV0dXJuIFModCl9dmFyIGVmPWN0KCk7ZnVuY3Rpb24gbmYodCxlLG4saSl7dmFyIHI9IiI7ZS5sZW5ndGh8fF9yKHIpLFkodCl8fF9yKHIpO3ZhciBvPXQudHlwZSxhPWVmLmdldChvKTthfHxfcihyKTt2YXIgcz1SKGUsKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBLZCxpPXQuZGF0YSxyPW4uc291cmNlRm9ybWF0PXQuc291cmNlRm9ybWF0LG89dC5zdGFydEluZGV4LGE9IiI7dC5zZXJpZXNMYXlvdXRCeSE9PWRwJiZfcihhKTt2YXIgcz1bXSxsPXt9LHU9dC5kaW1lbnNpb25zRGVmaW5lO2lmKHUpTyh1LChmdW5jdGlvbih0LGUpe3ZhciBuPXQubmFtZSxpPXtpbmRleDplLG5hbWU6bixkaXNwbGF5TmFtZTp0LmRpc3BsYXlOYW1lfTtpZihzLnB1c2goaSksbnVsbCE9bil7dmFyIHI9IiI7ZnQobCxuKSYmX3IociksbFtuXT1pfX0pKTtlbHNlIGZvcih2YXIgaD0wO2g8dC5kaW1lbnNpb25zRGV0ZWN0ZWRDb3VudDtoKyspcy5wdXNoKHtpbmRleDpofSk7dmFyIGM9Q2QocixkcCk7ZS5fX2lzQnVpbHRJbiYmKG4uZ2V0UmF3RGF0YUl0ZW09ZnVuY3Rpb24odCl7cmV0dXJuIGMoaSxvLHMsdCl9LG4uZ2V0UmF3RGF0YT1CKCRkLG51bGwsdCkpLG4uY2xvbmVSYXdEYXRhPUIoSmQsbnVsbCx0KTt2YXIgcD1rZChyLGRwKTtuLmNvdW50PUIocCxudWxsLGksbyxzKTt2YXIgZD1PZChyKTtuLnJldHJpZXZlVmFsdWU9ZnVuY3Rpb24odCxlKXt2YXIgbj1jKGksbyxzLHQpO3JldHVybiBmKG4sZSl9O3ZhciBmPW4ucmV0cmlldmVWYWx1ZUZyb21JdGVtPWZ1bmN0aW9uKHQsZSl7aWYobnVsbCE9dCl7dmFyIG49c1tlXTtyZXR1cm4gbj9kKHQsZSxuLm5hbWUpOnZvaWQgMH19O3JldHVybiBuLmdldERpbWVuc2lvbkluZm89QihRZCxudWxsLHMsbCksbi5jbG9uZUFsbERpbWVuc2lvbkluZm89Qih0ZixudWxsLHMpLG59KHQsYSl9KSksbD13cihhLnRyYW5zZm9ybSh7dXBzdHJlYW06c1swXSx1cHN0cmVhbUxpc3Q6cyxjb25maWc6Uyh0LmNvbmZpZyl9KSk7cmV0dXJuIFIobCwoZnVuY3Rpb24odCxuKXt2YXIgaSxyPSIiO1kodCl8fF9yKHIpLHQuZGF0YXx8X3IocikscmYoeGQodC5kYXRhKSl8fF9yKHIpO3ZhciBvPWVbMF07aWYobyYmMD09PW4mJiF0LmRpbWVuc2lvbnMpe3ZhciBhPW8uc3RhcnRJbmRleDthJiYodC5kYXRhPW8uZGF0YS5zbGljZSgwLGEpLmNvbmNhdCh0LmRhdGEpKSxpPXtzZXJpZXNMYXlvdXRCeTpkcCxzb3VyY2VIZWFkZXI6YSxkaW1lbnNpb25zOm8ubWV0YVJhd09wdGlvbi5kaW1lbnNpb25zfX1lbHNlIGk9e3Nlcmllc0xheW91dEJ5OmRwLHNvdXJjZUhlYWRlcjowLGRpbWVuc2lvbnM6dC5kaW1lbnNpb25zfTtyZXR1cm4gbWQodC5kYXRhLGksbnVsbCl9KSl9ZnVuY3Rpb24gcmYodCl7cmV0dXJuIHQ9PT1scHx8dD09PXVwfXZhciBvZixhZj0idW5kZWZpbmVkIixzZj10eXBlb2YgVWludDMyQXJyYXk9PT1hZj9BcnJheTpVaW50MzJBcnJheSxsZj10eXBlb2YgVWludDE2QXJyYXk9PT1hZj9BcnJheTpVaW50MTZBcnJheSx1Zj10eXBlb2YgSW50MzJBcnJheT09PWFmP0FycmF5OkludDMyQXJyYXksaGY9dHlwZW9mIEZsb2F0NjRBcnJheT09PWFmP0FycmF5OkZsb2F0NjRBcnJheSxjZj17ZmxvYXQ6aGYsaW50OnVmLG9yZGluYWw6QXJyYXksbnVtYmVyOkFycmF5LHRpbWU6aGZ9O2Z1bmN0aW9uIHBmKHQpe3JldHVybiB0PjY1NTM1P3NmOmxmfWZ1bmN0aW9uIGRmKHQsZSxuLGkscil7dmFyIG89Y2Zbbnx8ImZsb2F0Il07aWYocil7dmFyIGE9dFtlXSxzPWEmJmEubGVuZ3RoO2lmKHMhPT1pKXtmb3IodmFyIGw9bmV3IG8oaSksdT0wO3U8czt1KyspbFt1XT1hW3VdO3RbZV09bH19ZWxzZSB0W2VdPW5ldyBvKGkpfXZhciBmZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9jaHVua3M9W10sdGhpcy5fcmF3RXh0ZW50PVtdLHRoaXMuX2V4dGVudD1bXSx0aGlzLl9jb3VudD0wLHRoaXMuX3Jhd0NvdW50PTAsdGhpcy5fY2FsY0RpbU5hbWVUb0lkeD1jdCgpfXJldHVybiB0LnByb3RvdHlwZS5pbml0RGF0YT1mdW5jdGlvbih0LGUsbil7dGhpcy5fcHJvdmlkZXI9dCx0aGlzLl9jaHVua3M9W10sdGhpcy5faW5kaWNlcz1udWxsLHRoaXMuZ2V0UmF3SW5kZXg9dGhpcy5fZ2V0UmF3SWR4SWRlbnRpdHk7dmFyIGk9dC5nZXRTb3VyY2UoKSxyPXRoaXMuZGVmYXVsdERpbVZhbHVlR2V0dGVyPW9mW2kuc291cmNlRm9ybWF0XTt0aGlzLl9kaW1WYWx1ZUdldHRlcj1ufHxyLHRoaXMuX3Jhd0V4dGVudD1bXTtTZChpKTt0aGlzLl9kaW1lbnNpb25zPVIoZSwoZnVuY3Rpb24odCl7cmV0dXJue3R5cGU6dC50eXBlLHByb3BlcnR5OnQucHJvcGVydHl9fSkpLHRoaXMuX2luaXREYXRhRnJvbVByb3ZpZGVyKDAsdC5jb3VudCgpKX0sdC5wcm90b3R5cGUuZ2V0UHJvdmlkZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvdmlkZXJ9LHQucHJvdG90eXBlLmdldFNvdXJjZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm92aWRlci5nZXRTb3VyY2UoKX0sdC5wcm90b3R5cGUuZW5zdXJlQ2FsY3VsYXRpb25EaW1lbnNpb249ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9jYWxjRGltTmFtZVRvSWR4LGk9dGhpcy5fZGltZW5zaW9ucyxyPW4uZ2V0KHQpO2lmKG51bGwhPXIpe2lmKGlbcl0udHlwZT09PWUpcmV0dXJuIHJ9ZWxzZSByPWkubGVuZ3RoO3JldHVybiBpW3JdPXt0eXBlOmV9LG4uc2V0KHQsciksdGhpcy5fY2h1bmtzW3JdPW5ldyBjZltlfHwiZmxvYXQiXSh0aGlzLl9yYXdDb3VudCksdGhpcy5fcmF3RXh0ZW50W3JdPVsxLzAsLTEvMF0scn0sdC5wcm90b3R5cGUuY29sbGVjdE9yZGluYWxNZXRhPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fY2h1bmtzW3RdLGk9dGhpcy5fZGltZW5zaW9uc1t0XSxyPXRoaXMuX3Jhd0V4dGVudCxvPWkub3JkaW5hbE9mZnNldHx8MCxhPW4ubGVuZ3RoOzA9PT1vJiYoclt0XT1bMS8wLC0xLzBdKTtmb3IodmFyIHM9clt0XSxsPW87bDxhO2wrKyl7dmFyIHU9bltsXT1lLnBhcnNlQW5kQ29sbGVjdChuW2xdKTtzWzBdPU1hdGgubWluKHUsc1swXSksc1sxXT1NYXRoLm1heCh1LHNbMV0pfWkub3JkaW5hbE1ldGE9ZSxpLm9yZGluYWxPZmZzZXQ9YSxpLnR5cGU9Im9yZGluYWwifSx0LnByb3RvdHlwZS5nZXRPcmRpbmFsTWV0YT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGltZW5zaW9uc1t0XS5vcmRpbmFsTWV0YX0sdC5wcm90b3R5cGUuZ2V0RGltZW5zaW9uUHJvcGVydHk9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZGltZW5zaW9uc1t0XTtyZXR1cm4gZSYmZS5wcm9wZXJ0eX0sdC5wcm90b3R5cGUuYXBwZW5kRGF0YT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9wcm92aWRlcixuPXRoaXMuY291bnQoKTtlLmFwcGVuZERhdGEodCk7dmFyIGk9ZS5jb3VudCgpO3JldHVybiBlLnBlcnNpc3RlbnR8fChpKz1uKSxuPGkmJnRoaXMuX2luaXREYXRhRnJvbVByb3ZpZGVyKG4saSwhMCksW24saV19LHQucHJvdG90eXBlLmFwcGVuZFZhbHVlcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLl9jaHVua3MsaT10aGlzLl9kaW1lbnNpb25zLHI9aS5sZW5ndGgsbz10aGlzLl9yYXdFeHRlbnQsYT10aGlzLmNvdW50KCkscz1hK01hdGgubWF4KHQubGVuZ3RoLGV8fDApLGw9MDtsPHI7bCsrKXtkZihuLGwsKGQ9aVtsXSkudHlwZSxzLCEwKX1mb3IodmFyIHU9W10saD1hO2g8cztoKyspZm9yKHZhciBjPWgtYSxwPTA7cDxyO3ArKyl7dmFyIGQ9aVtwXSxmPW9mLmFycmF5Um93cy5jYWxsKHRoaXMsdFtjXXx8dSxkLnByb3BlcnR5LGMscCk7bltwXVtoXT1mO3ZhciBnPW9bcF07ZjxnWzBdJiYoZ1swXT1mKSxmPmdbMV0mJihnWzFdPWYpfXJldHVybiB0aGlzLl9yYXdDb3VudD10aGlzLl9jb3VudD1zLHtzdGFydDphLGVuZDpzfX0sdC5wcm90b3R5cGUuX2luaXREYXRhRnJvbVByb3ZpZGVyPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9dGhpcy5fcHJvdmlkZXIscj10aGlzLl9jaHVua3Msbz10aGlzLl9kaW1lbnNpb25zLGE9by5sZW5ndGgscz10aGlzLl9yYXdFeHRlbnQsbD1SKG8sKGZ1bmN0aW9uKHQpe3JldHVybiB0LnByb3BlcnR5fSkpLHU9MDt1PGE7dSsrKXt2YXIgaD1vW3VdO3NbdV18fChzW3VdPVsxLzAsLTEvMF0pLGRmKHIsdSxoLnR5cGUsZSxuKX1pZihpLmZpbGxTdG9yYWdlKWkuZmlsbFN0b3JhZ2UodCxlLHIscyk7ZWxzZSBmb3IodmFyIGM9W10scD10O3A8ZTtwKyspe2M9aS5nZXRJdGVtKHAsYyk7Zm9yKHZhciBkPTA7ZDxhO2QrKyl7dmFyIGY9cltkXSxnPXRoaXMuX2RpbVZhbHVlR2V0dGVyKGMsbFtkXSxwLGQpO2ZbcF09Zzt2YXIgeT1zW2RdO2c8eVswXSYmKHlbMF09ZyksZz55WzFdJiYoeVsxXT1nKX19IWkucGVyc2lzdGVudCYmaS5jbGVhbiYmaS5jbGVhbigpLHRoaXMuX3Jhd0NvdW50PXRoaXMuX2NvdW50PWUsdGhpcy5fZXh0ZW50PVtdfSx0LnByb3RvdHlwZS5jb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3VudH0sdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSl7aWYoIShlPj0wJiZlPHRoaXMuX2NvdW50KSlyZXR1cm4gTmFOO3ZhciBuPXRoaXMuX2NodW5rc1t0XTtyZXR1cm4gbj9uW3RoaXMuZ2V0UmF3SW5kZXgoZSldOk5hTn0sdC5wcm90b3R5cGUuZ2V0VmFsdWVzPWZ1bmN0aW9uKHQsZSl7dmFyIG49W10saT1bXTtpZihudWxsPT1lKXtlPXQsdD1bXTtmb3IodmFyIHI9MDtyPHRoaXMuX2RpbWVuc2lvbnMubGVuZ3RoO3IrKylpLnB1c2gocil9ZWxzZSBpPXQ7cj0wO2Zvcih2YXIgbz1pLmxlbmd0aDtyPG87cisrKW4ucHVzaCh0aGlzLmdldChpW3JdLGUpKTtyZXR1cm4gbn0sdC5wcm90b3R5cGUuZ2V0QnlSYXdJbmRleD1mdW5jdGlvbih0LGUpe2lmKCEoZT49MCYmZTx0aGlzLl9yYXdDb3VudCkpcmV0dXJuIE5hTjt2YXIgbj10aGlzLl9jaHVua3NbdF07cmV0dXJuIG4/bltlXTpOYU59LHQucHJvdG90eXBlLmdldFN1bT1mdW5jdGlvbih0KXt2YXIgZT0wO2lmKHRoaXMuX2NodW5rc1t0XSlmb3IodmFyIG49MCxpPXRoaXMuY291bnQoKTtuPGk7bisrKXt2YXIgcj10aGlzLmdldCh0LG4pO2lzTmFOKHIpfHwoZSs9cil9cmV0dXJuIGV9LHQucHJvdG90eXBlLmdldE1lZGlhbj1mdW5jdGlvbih0KXt2YXIgZT1bXTt0aGlzLmVhY2goW3RdLChmdW5jdGlvbih0KXtpc05hTih0KXx8ZS5wdXNoKHQpfSkpO3ZhciBuPWUuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1lfSkpLGk9dGhpcy5jb3VudCgpO3JldHVybiAwPT09aT8wOmklMj09MT9uWyhpLTEpLzJdOihuW2kvMl0rbltpLzItMV0pLzJ9LHQucHJvdG90eXBlLmluZGV4T2ZSYXdJbmRleD1mdW5jdGlvbih0KXtpZih0Pj10aGlzLl9yYXdDb3VudHx8dDwwKXJldHVybi0xO2lmKCF0aGlzLl9pbmRpY2VzKXJldHVybiB0O3ZhciBlPXRoaXMuX2luZGljZXMsbj1lW3RdO2lmKG51bGwhPW4mJm48dGhpcy5fY291bnQmJm49PT10KXJldHVybiB0O2Zvcih2YXIgaT0wLHI9dGhpcy5fY291bnQtMTtpPD1yOyl7dmFyIG89KGkrcikvMnwwO2lmKGVbb108dClpPW8rMTtlbHNle2lmKCEoZVtvXT50KSlyZXR1cm4gbztyPW8tMX19cmV0dXJuLTF9LHQucHJvdG90eXBlLmluZGljZXNPZk5lYXJlc3Q9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuX2NodW5rc1t0XSxyPVtdO2lmKCFpKXJldHVybiByO251bGw9PW4mJihuPTEvMCk7Zm9yKHZhciBvPTEvMCxhPS0xLHM9MCxsPTAsdT10aGlzLmNvdW50KCk7bDx1O2wrKyl7dmFyIGg9ZS1pW3RoaXMuZ2V0UmF3SW5kZXgobCldLGM9TWF0aC5hYnMoaCk7Yzw9biYmKChjPG98fGM9PT1vJiZoPj0wJiZhPDApJiYobz1jLGE9aCxzPTApLGg9PT1hJiYocltzKytdPWwpKX1yZXR1cm4gci5sZW5ndGg9cyxyfSx0LnByb3RvdHlwZS5nZXRJbmRpY2VzPWZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLl9pbmRpY2VzO2lmKGUpe3ZhciBuPWUuY29uc3RydWN0b3IsaT10aGlzLl9jb3VudDtpZihuPT09QXJyYXkpe3Q9bmV3IG4oaSk7Zm9yKHZhciByPTA7cjxpO3IrKyl0W3JdPWVbcl19ZWxzZSB0PW5ldyBuKGUuYnVmZmVyLDAsaSl9ZWxzZXt0PW5ldyhuPXBmKHRoaXMuX3Jhd0NvdW50KSkodGhpcy5jb3VudCgpKTtmb3Iocj0wO3I8dC5sZW5ndGg7cisrKXRbcl09cn1yZXR1cm4gdH0sdC5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMuX2NvdW50KXJldHVybiB0aGlzO2Zvcih2YXIgbj10aGlzLmNsb25lKCksaT1uLmNvdW50KCkscj1uZXcocGYobi5fcmF3Q291bnQpKShpKSxvPVtdLGE9dC5sZW5ndGgscz0wLGw9dFswXSx1PW4uX2NodW5rcyxoPTA7aDxpO2grKyl7dmFyIGM9dm9pZCAwLHA9bi5nZXRSYXdJbmRleChoKTtpZigwPT09YSljPWUoaCk7ZWxzZSBpZigxPT09YSl7Yz1lKHVbbF1bcF0saCl9ZWxzZXtmb3IodmFyIGQ9MDtkPGE7ZCsrKW9bZF09dVt0W2RdXVtwXTtvW2RdPWgsYz1lLmFwcGx5KG51bGwsbyl9YyYmKHJbcysrXT1wKX1yZXR1cm4gczxpJiYobi5faW5kaWNlcz1yKSxuLl9jb3VudD1zLG4uX2V4dGVudD1bXSxuLl91cGRhdGVHZXRSYXdJZHgoKSxufSx0LnByb3RvdHlwZS5zZWxlY3RSYW5nZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNsb25lKCksbj1lLl9jb3VudDtpZighbilyZXR1cm4gdGhpczt2YXIgaT1WKHQpLHI9aS5sZW5ndGg7aWYoIXIpcmV0dXJuIHRoaXM7dmFyIG89ZS5jb3VudCgpLGE9bmV3KHBmKGUuX3Jhd0NvdW50KSkobykscz0wLGw9aVswXSx1PXRbbF1bMF0saD10W2xdWzFdLGM9ZS5fY2h1bmtzLHA9ITE7aWYoIWUuX2luZGljZXMpe3ZhciBkPTA7aWYoMT09PXIpe2Zvcih2YXIgZj1jW2lbMF1dLGc9MDtnPG47ZysrKXsoKF89ZltnXSk+PXUmJl88PWh8fGlzTmFOKF8pKSYmKGFbcysrXT1kKSxkKyt9cD0hMH1lbHNlIGlmKDI9PT1yKXtmPWNbaVswXV07dmFyIHk9Y1tpWzFdXSx2PXRbaVsxXV1bMF0sbT10W2lbMV1dWzFdO2ZvcihnPTA7ZzxuO2crKyl7dmFyIF89ZltnXSx4PXlbZ107KF8+PXUmJl88PWh8fGlzTmFOKF8pKSYmKHg+PXYmJng8PW18fGlzTmFOKHgpKSYmKGFbcysrXT1kKSxkKyt9cD0hMH19aWYoIXApaWYoMT09PXIpZm9yKGc9MDtnPG87ZysrKXt2YXIgYj1lLmdldFJhd0luZGV4KGcpOygoXz1jW2lbMF1dW2JdKT49dSYmXzw9aHx8aXNOYU4oXykpJiYoYVtzKytdPWIpfWVsc2UgZm9yKGc9MDtnPG87ZysrKXtmb3IodmFyIHc9ITAsUz0oYj1lLmdldFJhd0luZGV4KGcpLDApO1M8cjtTKyspe3ZhciBNPWlbU107KChfPWNbTV1bYl0pPHRbTV1bMF18fF8+dFtNXVsxXSkmJih3PSExKX13JiYoYVtzKytdPWUuZ2V0UmF3SW5kZXgoZykpfXJldHVybiBzPG8mJihlLl9pbmRpY2VzPWEpLGUuX2NvdW50PXMsZS5fZXh0ZW50PVtdLGUuX3VwZGF0ZUdldFJhd0lkeCgpLGV9LHQucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuY2xvbmUodCk7cmV0dXJuIHRoaXMuX3VwZGF0ZURpbXMobix0LGUpLG59LHQucHJvdG90eXBlLm1vZGlmeT1mdW5jdGlvbih0LGUpe3RoaXMuX3VwZGF0ZURpbXModGhpcyx0LGUpfSx0LnByb3RvdHlwZS5fdXBkYXRlRGltcz1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPXQuX2NodW5rcyxyPVtdLG89ZS5sZW5ndGgsYT10LmNvdW50KCkscz1bXSxsPXQuX3Jhd0V4dGVudCx1PTA7dTxlLmxlbmd0aDt1KyspbFtlW3VdXT1bMS8wLC0xLzBdO2Zvcih2YXIgaD0wO2g8YTtoKyspe2Zvcih2YXIgYz10LmdldFJhd0luZGV4KGgpLHA9MDtwPG87cCsrKXNbcF09aVtlW3BdXVtjXTtzW29dPWg7dmFyIGQ9biYmbi5hcHBseShudWxsLHMpO2lmKG51bGwhPWQpeyJvYmplY3QiIT10eXBlb2YgZCYmKHJbMF09ZCxkPXIpO2Zvcih1PTA7dTxkLmxlbmd0aDt1Kyspe3ZhciBmPWVbdV0sZz1kW3VdLHk9bFtmXSx2PWlbZl07diYmKHZbY109ZyksZzx5WzBdJiYoeVswXT1nKSxnPnlbMV0mJih5WzFdPWcpfX19fSx0LnByb3RvdHlwZS5sdHRiRG93blNhbXBsZT1mdW5jdGlvbih0LGUpe3ZhciBuLGkscixvPXRoaXMuY2xvbmUoW3RdLCEwKSxhPW8uX2NodW5rc1t0XSxzPXRoaXMuY291bnQoKSxsPTAsdT1NYXRoLmZsb29yKDEvZSksaD10aGlzLmdldFJhd0luZGV4KDApLGM9bmV3KHBmKHRoaXMuX3Jhd0NvdW50KSkoTWF0aC5jZWlsKHMvdSkrMik7Y1tsKytdPWg7Zm9yKHZhciBwPTE7cDxzLTE7cCs9dSl7Zm9yKHZhciBkPU1hdGgubWluKHArdSxzLTEpLGY9TWF0aC5taW4ocCsyKnUscyksZz0oZitkKS8yLHk9MCx2PWQ7djxmO3YrKyl7dmFyIG09YVtTPXRoaXMuZ2V0UmF3SW5kZXgodildO2lzTmFOKG0pfHwoeSs9bSl9eS89Zi1kO3ZhciBfPXAseD1NYXRoLm1pbihwK3UscyksYj1wLTEsdz1hW2hdO249LTEscj1fO2Zvcih2PV87djx4O3YrKyl7dmFyIFM7bT1hW1M9dGhpcy5nZXRSYXdJbmRleCh2KV07aXNOYU4obSl8fChpPU1hdGguYWJzKChiLWcpKihtLXcpLShiLXYpKih5LXcpKSk+biYmKG49aSxyPVMpfWNbbCsrXT1yLGg9cn1yZXR1cm4gY1tsKytdPXRoaXMuZ2V0UmF3SW5kZXgocy0xKSxvLl9jb3VudD1sLG8uX2luZGljZXM9YyxvLmdldFJhd0luZGV4PXRoaXMuX2dldFJhd0lkeCxvfSx0LnByb3RvdHlwZS5kb3duU2FtcGxlPWZ1bmN0aW9uKHQsZSxuLGkpe2Zvcih2YXIgcj10aGlzLmNsb25lKFt0XSwhMCksbz1yLl9jaHVua3MsYT1bXSxzPU1hdGguZmxvb3IoMS9lKSxsPW9bdF0sdT10aGlzLmNvdW50KCksaD1yLl9yYXdFeHRlbnRbdF09WzEvMCwtMS8wXSxjPW5ldyhwZih0aGlzLl9yYXdDb3VudCkpKE1hdGguY2VpbCh1L3MpKSxwPTAsZD0wO2Q8dTtkKz1zKXtzPnUtZCYmKHM9dS1kLGEubGVuZ3RoPXMpO2Zvcih2YXIgZj0wO2Y8cztmKyspe3ZhciBnPXRoaXMuZ2V0UmF3SW5kZXgoZCtmKTthW2ZdPWxbZ119dmFyIHk9bihhKSx2PXRoaXMuZ2V0UmF3SW5kZXgoTWF0aC5taW4oZCtpKGEseSl8fDAsdS0xKSk7bFt2XT15LHk8aFswXSYmKGhbMF09eSkseT5oWzFdJiYoaFsxXT15KSxjW3ArK109dn1yZXR1cm4gci5fY291bnQ9cCxyLl9pbmRpY2VzPWMsci5fdXBkYXRlR2V0UmF3SWR4KCkscn0sdC5wcm90b3R5cGUuZWFjaD1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX2NvdW50KWZvcih2YXIgbj10Lmxlbmd0aCxpPXRoaXMuX2NodW5rcyxyPTAsbz10aGlzLmNvdW50KCk7cjxvO3IrKyl7dmFyIGE9dGhpcy5nZXRSYXdJbmRleChyKTtzd2l0Y2gobil7Y2FzZSAwOmUocik7YnJlYWs7Y2FzZSAxOmUoaVt0WzBdXVthXSxyKTticmVhaztjYXNlIDI6ZShpW3RbMF1dW2FdLGlbdFsxXV1bYV0scik7YnJlYWs7ZGVmYXVsdDpmb3IodmFyIHM9MCxsPVtdO3M8bjtzKyspbFtzXT1pW3Rbc11dW2FdO2xbc109cixlLmFwcGx5KG51bGwsbCl9fX0sdC5wcm90b3R5cGUuZ2V0RGF0YUV4dGVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jaHVua3NbdF0sbj1bMS8wLC0xLzBdO2lmKCFlKXJldHVybiBuO3ZhciBpLHI9dGhpcy5jb3VudCgpO2lmKCF0aGlzLl9pbmRpY2VzKXJldHVybiB0aGlzLl9yYXdFeHRlbnRbdF0uc2xpY2UoKTtpZihpPXRoaXMuX2V4dGVudFt0XSlyZXR1cm4gaS5zbGljZSgpO2Zvcih2YXIgbz0oaT1uKVswXSxhPWlbMV0scz0wO3M8cjtzKyspe3ZhciBsPWVbdGhpcy5nZXRSYXdJbmRleChzKV07bDxvJiYobz1sKSxsPmEmJihhPWwpfXJldHVybiBpPVtvLGFdLHRoaXMuX2V4dGVudFt0XT1pLGl9LHQucHJvdG90eXBlLmdldFJhd0RhdGFJdGVtPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0UmF3SW5kZXgodCk7aWYodGhpcy5fcHJvdmlkZXIucGVyc2lzdGVudClyZXR1cm4gdGhpcy5fcHJvdmlkZXIuZ2V0SXRlbShlKTtmb3IodmFyIG49W10saT10aGlzLl9jaHVua3Mscj0wO3I8aS5sZW5ndGg7cisrKW4ucHVzaChpW3JdW2VdKTtyZXR1cm4gbn0sdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oZSxuKXt2YXIgaSxyLG89bmV3IHQsYT10aGlzLl9jaHVua3Mscz1lJiZOKGUsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbZV09ITAsdH0pLHt9KTtpZihzKWZvcih2YXIgbD0wO2w8YS5sZW5ndGg7bCsrKW8uX2NodW5rc1tsXT1zW2xdPyhpPWFbbF0scj12b2lkIDAsKHI9aS5jb25zdHJ1Y3Rvcik9PT1BcnJheT9pLnNsaWNlKCk6bmV3IHIoaSkpOmFbbF07ZWxzZSBvLl9jaHVua3M9YTtyZXR1cm4gdGhpcy5fY29weUNvbW1vblByb3BzKG8pLG58fChvLl9pbmRpY2VzPXRoaXMuX2Nsb25lSW5kaWNlcygpKSxvLl91cGRhdGVHZXRSYXdJZHgoKSxvfSx0LnByb3RvdHlwZS5fY29weUNvbW1vblByb3BzPWZ1bmN0aW9uKHQpe3QuX2NvdW50PXRoaXMuX2NvdW50LHQuX3Jhd0NvdW50PXRoaXMuX3Jhd0NvdW50LHQuX3Byb3ZpZGVyPXRoaXMuX3Byb3ZpZGVyLHQuX2RpbWVuc2lvbnM9dGhpcy5fZGltZW5zaW9ucyx0Ll9leHRlbnQ9Uyh0aGlzLl9leHRlbnQpLHQuX3Jhd0V4dGVudD1TKHRoaXMuX3Jhd0V4dGVudCl9LHQucHJvdG90eXBlLl9jbG9uZUluZGljZXM9ZnVuY3Rpb24oKXtpZih0aGlzLl9pbmRpY2VzKXt2YXIgdD10aGlzLl9pbmRpY2VzLmNvbnN0cnVjdG9yLGU9dm9pZCAwO2lmKHQ9PT1BcnJheSl7dmFyIG49dGhpcy5faW5kaWNlcy5sZW5ndGg7ZT1uZXcgdChuKTtmb3IodmFyIGk9MDtpPG47aSsrKWVbaV09dGhpcy5faW5kaWNlc1tpXX1lbHNlIGU9bmV3IHQodGhpcy5faW5kaWNlcyk7cmV0dXJuIGV9cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLl9nZXRSYXdJZHhJZGVudGl0eT1mdW5jdGlvbih0KXtyZXR1cm4gdH0sdC5wcm90b3R5cGUuX2dldFJhd0lkeD1mdW5jdGlvbih0KXtyZXR1cm4gdDx0aGlzLl9jb3VudCYmdD49MD90aGlzLl9pbmRpY2VzW3RdOi0xfSx0LnByb3RvdHlwZS5fdXBkYXRlR2V0UmF3SWR4PWZ1bmN0aW9uKCl7dGhpcy5nZXRSYXdJbmRleD10aGlzLl9pbmRpY2VzP3RoaXMuX2dldFJhd0lkeDp0aGlzLl9nZXRSYXdJZHhJZGVudGl0eX0sdC5pbnRlcm5hbEZpZWxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixpKXtyZXR1cm4gSGQodFtpXSx0aGlzLl9kaW1lbnNpb25zW2ldKX1vZj17YXJyYXlSb3dzOnQsb2JqZWN0Um93czpmdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gSGQodFtlXSx0aGlzLl9kaW1lbnNpb25zW2ldKX0sa2V5ZWRDb2x1bW5zOnQsb3JpZ2luYWw6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dCYmKG51bGw9PXQudmFsdWU/dDp0LnZhbHVlKTtyZXR1cm4gSGQociBpbnN0YW5jZW9mIEFycmF5P3JbaV06cix0aGlzLl9kaW1lbnNpb25zW2ldKX0sdHlwZWRBcnJheTpmdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gdFtpXX19fSgpLHR9KCksZ2Y9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3NvdXJjZUxpc3Q9W10sdGhpcy5fc3RvcmVMaXN0PVtdLHRoaXMuX3Vwc3RyZWFtU2lnbkxpc3Q9W10sdGhpcy5fdmVyc2lvblNpZ25CYXNlPTAsdGhpcy5fZGlydHk9ITAsdGhpcy5fc291cmNlSG9zdD10fXJldHVybiB0LnByb3RvdHlwZS5kaXJ0eT1mdW5jdGlvbigpe3RoaXMuX3NldExvY2FsU291cmNlKFtdLFtdKSx0aGlzLl9zdG9yZUxpc3Q9W10sdGhpcy5fZGlydHk9ITB9LHQucHJvdG90eXBlLl9zZXRMb2NhbFNvdXJjZT1mdW5jdGlvbih0LGUpe3RoaXMuX3NvdXJjZUxpc3Q9dCx0aGlzLl91cHN0cmVhbVNpZ25MaXN0PWUsdGhpcy5fdmVyc2lvblNpZ25CYXNlKyssdGhpcy5fdmVyc2lvblNpZ25CYXNlPjllMTAmJih0aGlzLl92ZXJzaW9uU2lnbkJhc2U9MCl9LHQucHJvdG90eXBlLl9nZXRWZXJzaW9uU2lnbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VIb3N0LnVpZCsiXyIrdGhpcy5fdmVyc2lvblNpZ25CYXNlfSx0LnByb3RvdHlwZS5wcmVwYXJlU291cmNlPWZ1bmN0aW9uKCl7dGhpcy5faXNEaXJ0eSgpJiYodGhpcy5fY3JlYXRlU291cmNlKCksdGhpcy5fZGlydHk9ITEpfSx0LnByb3RvdHlwZS5fY3JlYXRlU291cmNlPWZ1bmN0aW9uKCl7dGhpcy5fc2V0TG9jYWxTb3VyY2UoW10sW10pO3ZhciB0LGUsbj10aGlzLl9zb3VyY2VIb3N0LGk9dGhpcy5fZ2V0VXBzdHJlYW1Tb3VyY2VNYW5hZ2VycygpLHI9ISFpLmxlbmd0aDtpZih2ZihuKSl7dmFyIG89bixhPXZvaWQgMCxzPXZvaWQgMCxsPXZvaWQgMDtpZihyKXt2YXIgdT1pWzBdO3UucHJlcGFyZVNvdXJjZSgpLGE9KGw9dS5nZXRTb3VyY2UoKSkuZGF0YSxzPWwuc291cmNlRm9ybWF0LGU9W3UuX2dldFZlcnNpb25TaWduKCldfWVsc2Ugcz1qKGE9by5nZXQoImRhdGEiLCEwKSk/Y3A6c3AsZT1bXTt2YXIgaD10aGlzLl9nZXRTb3VyY2VNZXRhUmF3T3B0aW9uKCl8fHt9LGM9bCYmbC5tZXRhUmF3T3B0aW9ufHx7fSxwPWV0KGguc2VyaWVzTGF5b3V0QnksYy5zZXJpZXNMYXlvdXRCeSl8fG51bGwsZD1ldChoLnNvdXJjZUhlYWRlcixjLnNvdXJjZUhlYWRlcil8fG51bGwsZj1ldChoLmRpbWVuc2lvbnMsYy5kaW1lbnNpb25zKTt0PXAhPT1jLnNlcmllc0xheW91dEJ5fHwhIWQhPSEhYy5zb3VyY2VIZWFkZXJ8fGY/W21kKGEse3Nlcmllc0xheW91dEJ5OnAsc291cmNlSGVhZGVyOmQsZGltZW5zaW9uczpmfSxzKV06W119ZWxzZXt2YXIgZz1uO2lmKHIpe3ZhciB5PXRoaXMuX2FwcGx5VHJhbnNmb3JtKGkpO3Q9eS5zb3VyY2VMaXN0LGU9eS51cHN0cmVhbVNpZ25MaXN0fWVsc2V7dD1bbWQoZy5nZXQoInNvdXJjZSIsITApLHRoaXMuX2dldFNvdXJjZU1ldGFSYXdPcHRpb24oKSxudWxsKV0sZT1bXX19dGhpcy5fc2V0TG9jYWxTb3VyY2UodCxlKX0sdC5wcm90b3R5cGUuX2FwcGx5VHJhbnNmb3JtPWZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcy5fc291cmNlSG9zdCxpPW4uZ2V0KCJ0cmFuc2Zvcm0iLCEwKSxyPW4uZ2V0KCJmcm9tVHJhbnNmb3JtUmVzdWx0IiwhMCk7aWYobnVsbCE9cil7dmFyIG89IiI7MSE9PXQubGVuZ3RoJiZtZihvKX12YXIgYSxzPVtdLGw9W107cmV0dXJuIE8odCwoZnVuY3Rpb24odCl7dC5wcmVwYXJlU291cmNlKCk7dmFyIGU9dC5nZXRTb3VyY2Uocnx8MCksbj0iIjtudWxsPT1yfHxlfHxtZihuKSxzLnB1c2goZSksbC5wdXNoKHQuX2dldFZlcnNpb25TaWduKCkpfSkpLGk/ZT1mdW5jdGlvbih0LGUsbil7dmFyIGk9d3IodCkscj1pLmxlbmd0aCxvPSIiO3J8fF9yKG8pO2Zvcih2YXIgYT0wLHM9cjthPHM7YSsrKWU9bmYoaVthXSxlKSxhIT09cy0xJiYoZS5sZW5ndGg9TWF0aC5tYXgoZS5sZW5ndGgsMSkpO3JldHVybiBlfShpLHMsbi5jb21wb25lbnRJbmRleCk6bnVsbCE9ciYmKGU9WyhhPXNbMF0sbmV3IHlkKHtkYXRhOmEuZGF0YSxzb3VyY2VGb3JtYXQ6YS5zb3VyY2VGb3JtYXQsc2VyaWVzTGF5b3V0Qnk6YS5zZXJpZXNMYXlvdXRCeSxkaW1lbnNpb25zRGVmaW5lOlMoYS5kaW1lbnNpb25zRGVmaW5lKSxzdGFydEluZGV4OmEuc3RhcnRJbmRleCxkaW1lbnNpb25zRGV0ZWN0ZWRDb3VudDphLmRpbWVuc2lvbnNEZXRlY3RlZENvdW50fSkpXSkse3NvdXJjZUxpc3Q6ZSx1cHN0cmVhbVNpZ25MaXN0Omx9fSx0LnByb3RvdHlwZS5faXNEaXJ0eT1mdW5jdGlvbigpe2lmKHRoaXMuX2RpcnR5KXJldHVybiEwO2Zvcih2YXIgdD10aGlzLl9nZXRVcHN0cmVhbVNvdXJjZU1hbmFnZXJzKCksZT0wO2U8dC5sZW5ndGg7ZSsrKXt2YXIgbj10W2VdO2lmKG4uX2lzRGlydHkoKXx8dGhpcy5fdXBzdHJlYW1TaWduTGlzdFtlXSE9PW4uX2dldFZlcnNpb25TaWduKCkpcmV0dXJuITB9fSx0LnByb3RvdHlwZS5nZXRTb3VyY2U9ZnVuY3Rpb24odCl7dD10fHwwO3ZhciBlPXRoaXMuX3NvdXJjZUxpc3RbdF07aWYoIWUpe3ZhciBuPXRoaXMuX2dldFVwc3RyZWFtU291cmNlTWFuYWdlcnMoKTtyZXR1cm4gblswXSYmblswXS5nZXRTb3VyY2UodCl9cmV0dXJuIGV9LHQucHJvdG90eXBlLmdldFNoYXJlZERhdGFTdG9yZT1mdW5jdGlvbih0KXt2YXIgZT10Lm1ha2VTdG9yZVNjaGVtYSgpO3JldHVybiB0aGlzLl9pbm5lckdldERhdGFTdG9yZShlLmRpbWVuc2lvbnMsdC5zb3VyY2UsZS5oYXNoKX0sdC5wcm90b3R5cGUuX2lubmVyR2V0RGF0YVN0b3JlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLl9zdG9yZUxpc3Qscj1pWzBdO3J8fChyPWlbMF09e30pO3ZhciBvPXJbbl07aWYoIW8pe3ZhciBhPXRoaXMuX2dldFVwc3RyZWFtU291cmNlTWFuYWdlcnMoKVswXTt2Zih0aGlzLl9zb3VyY2VIb3N0KSYmYT9vPWEuX2lubmVyR2V0RGF0YVN0b3JlKHQsZSxuKToobz1uZXcgZmYpLmluaXREYXRhKG5ldyBNZChlLHQubGVuZ3RoKSx0KSxyW25dPW99cmV0dXJuIG99LHQucHJvdG90eXBlLl9nZXRVcHN0cmVhbVNvdXJjZU1hbmFnZXJzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc291cmNlSG9zdDtpZih2Zih0KSl7dmFyIGU9YnAodCk7cmV0dXJuIGU/W2UuZ2V0U291cmNlTWFuYWdlcigpXTpbXX1yZXR1cm4gUihmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXQoInRyYW5zZm9ybSIsITApfHx0LmdldCgiZnJvbVRyYW5zZm9ybVJlc3VsdCIsITApP0dyKHQuZWNNb2RlbCwiZGF0YXNldCIse2luZGV4OnQuZ2V0KCJmcm9tRGF0YXNldEluZGV4IiwhMCksaWQ6dC5nZXQoImZyb21EYXRhc2V0SWQiLCEwKX0sVnIpLm1vZGVsczpbXX0odCksKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldFNvdXJjZU1hbmFnZXIoKX0pKX0sdC5wcm90b3R5cGUuX2dldFNvdXJjZU1ldGFSYXdPcHRpb249ZnVuY3Rpb24oKXt2YXIgdCxlLG4saT10aGlzLl9zb3VyY2VIb3N0O2lmKHZmKGkpKXQ9aS5nZXQoInNlcmllc0xheW91dEJ5IiwhMCksZT1pLmdldCgic291cmNlSGVhZGVyIiwhMCksbj1pLmdldCgiZGltZW5zaW9ucyIsITApO2Vsc2UgaWYoIXRoaXMuX2dldFVwc3RyZWFtU291cmNlTWFuYWdlcnMoKS5sZW5ndGgpe3ZhciByPWk7dD1yLmdldCgic2VyaWVzTGF5b3V0QnkiLCEwKSxlPXIuZ2V0KCJzb3VyY2VIZWFkZXIiLCEwKSxuPXIuZ2V0KCJkaW1lbnNpb25zIiwhMCl9cmV0dXJue3Nlcmllc0xheW91dEJ5OnQsc291cmNlSGVhZGVyOmUsZGltZW5zaW9uczpufX0sdH0oKTtmdW5jdGlvbiB5Zih0KXt0Lm9wdGlvbi50cmFuc2Zvcm0mJmx0KHQub3B0aW9uLnRyYW5zZm9ybSl9ZnVuY3Rpb24gdmYodCl7cmV0dXJuInNlcmllcyI9PT10Lm1haW5UeXBlfWZ1bmN0aW9uIG1mKHQpe3Rocm93IG5ldyBFcnJvcih0KX1mdW5jdGlvbiBfZih0LGUpe3ZhciBuPXQuY29sb3J8fCIjNmU3MDc5IixpPXQuZm9udFNpemV8fDEyLHI9dC5mb250V2VpZ2h0fHwiNDAwIixvPXQuY29sb3J8fCIjNDY0NjQ2IixhPXQuZm9udFNpemV8fDE0LHM9dC5mb250V2VpZ2h0fHwiOTAwIjtyZXR1cm4iaHRtbCI9PT1lP3tuYW1lU3R5bGU6ImZvbnQtc2l6ZToiK3pjKGkrIiIpKyJweDtjb2xvcjoiK3pjKG4pKyI7Zm9udC13ZWlnaHQ6Iit6YyhyKyIiKSx2YWx1ZVN0eWxlOiJmb250LXNpemU6Iit6YyhhKyIiKSsicHg7Y29sb3I6Iit6YyhvKSsiO2ZvbnQtd2VpZ2h0OiIremMocysiIil9OntuYW1lU3R5bGU6e2ZvbnRTaXplOmksZmlsbDpuLGZvbnRXZWlnaHQ6cn0sdmFsdWVTdHlsZTp7Zm9udFNpemU6YSxmaWxsOm8sZm9udFdlaWdodDpzfX19dmFyIHhmPVswLDEwLDIwLDMwXSxiZj1bIiIsIlxuIiwiXG5cbiIsIlxuXG5cbiJdO2Z1bmN0aW9uIHdmKHQsZSl7cmV0dXJuIGUudHlwZT10LGV9ZnVuY3Rpb24gU2YodCl7cmV0dXJuIGZ0KE1mLHQudHlwZSkmJk1mW3QudHlwZV19dmFyIE1mPXtzZWN0aW9uOntwbGFuTGF5b3V0OmZ1bmN0aW9uKHQpe3ZhciBlPXQuYmxvY2tzLmxlbmd0aCxuPWU+MXx8ZT4wJiYhdC5ub0hlYWRlcixpPTA7Tyh0LmJsb2NrcywoZnVuY3Rpb24odCl7U2YodCkucGxhbkxheW91dCh0KTt2YXIgZT10Ll9fZ2FwTGV2ZWxCZXR3ZWVuU3ViQmxvY2tzO2U+PWkmJihpPWUrKCFufHxlJiYoInNlY3Rpb24iIT09dC50eXBlfHx0Lm5vSGVhZGVyKT8wOjEpKX0pKSx0Ll9fZ2FwTGV2ZWxCZXR3ZWVuU3ViQmxvY2tzPWl9LGJ1aWxkOmZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWUubm9IZWFkZXIsbz1UZihlKSxhPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPVtdLG89ZS5ibG9ja3N8fFtdO290KCFvfHxGKG8pKSxvPW98fFtdO3ZhciBhPXQub3JkZXJNb2RlO2lmKGUuc29ydEJsb2NrcyYmYSl7bz1vLnNsaWNlKCk7dmFyIHM9e3ZhbHVlQXNjOiJhc2MiLHZhbHVlRGVzYzoiZGVzYyJ9O2lmKGZ0KHMsYSkpe3ZhciBsPW5ldyBaZChzW2FdLG51bGwpO28uc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gbC5ldmFsdWF0ZSh0LnNvcnRQYXJhbSxlLnNvcnRQYXJhbSl9KSl9ZWxzZSJzZXJpZXNEZXNjIj09PWEmJm8ucmV2ZXJzZSgpfXZhciB1PVRmKGUpO2lmKE8obywoZnVuY3Rpb24oZSxuKXt2YXIgbz1TZihlKS5idWlsZCh0LGUsbj4wP3UuaHRtbDowLGkpO251bGwhPW8mJnIucHVzaChvKX0pKSwhci5sZW5ndGgpcmV0dXJuO3JldHVybiJyaWNoVGV4dCI9PT10LnJlbmRlck1vZGU/ci5qb2luKHUucmljaFRleHQpOkNmKHIuam9pbigiIiksbil9KHQsZSxyP246by5odG1sLGkpO2lmKHIpcmV0dXJuIGE7dmFyIHM9RWMoZS5oZWFkZXIsIm9yZGluYWwiLHQudXNlVVRDKSxsPV9mKGksdC5yZW5kZXJNb2RlKS5uYW1lU3R5bGU7cmV0dXJuInJpY2hUZXh0Ij09PXQucmVuZGVyTW9kZT9EZih0LHMsbCkrby5yaWNoVGV4dCthOkNmKCc8ZGl2IHN0eWxlPSInK2wrIjsiKydsaW5lLWhlaWdodDoxOyI+Jyt6YyhzKSsiPC9kaXY+IithLG4pfX0sbmFtZVZhbHVlOntwbGFuTGF5b3V0OmZ1bmN0aW9uKHQpe3QuX19nYXBMZXZlbEJldHdlZW5TdWJCbG9ja3M9MH0sYnVpbGQ6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dC5yZW5kZXJNb2RlLG89ZS5ub05hbWUsYT1lLm5vVmFsdWUscz0hZS5tYXJrZXJUeXBlLGw9ZS5uYW1lLHU9ZS52YWx1ZSxoPXQudXNlVVRDO2lmKCFvfHwhYSl7dmFyIGM9cz8iIjp0Lm1hcmt1cFN0eWxlQ3JlYXRvci5tYWtlVG9vbHRpcE1hcmtlcihlLm1hcmtlclR5cGUsZS5tYXJrZXJDb2xvcnx8IiMzMzMiLHIpLHA9bz8iIjpFYyhsLCJvcmRpbmFsIixoKSxkPWUudmFsdWVUeXBlLGY9YT9bXTpGKHUpP1IodSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gRWModCxGKGQpP2RbZV06ZCxoKX0pKTpbRWModSxGKGQpP2RbMF06ZCxoKV0sZz0hc3x8IW8seT0hcyYmbyx2PV9mKGksciksbT12Lm5hbWVTdHlsZSxfPXYudmFsdWVTdHlsZTtyZXR1cm4icmljaFRleHQiPT09cj8ocz8iIjpjKSsobz8iIjpEZih0LHAsbSkpKyhhPyIiOmZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89W3JdLGE9aT8xMDoyMDtyZXR1cm4gbiYmby5wdXNoKHtwYWRkaW5nOlswLDAsMCxhXSxhbGlnbjoicmlnaHQifSksdC5tYXJrdXBTdHlsZUNyZWF0b3Iud3JhcFJpY2hUZXh0U3R5bGUoZS5qb2luKCIgICIpLG8pfSh0LGYsZyx5LF8pKTpDZigocz8iIjpjKSsobz8iIjpmdW5jdGlvbih0LGUsbil7cmV0dXJuJzxzcGFuIHN0eWxlPSInK24rIjsiKyhlPyJtYXJnaW4tbGVmdDoycHgiOiIiKSsnIj4nK3pjKHQpKyI8L3NwYW4+In0ocCwhcyxtKSkrKGE/IiI6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bj8iMTBweCI6IjIwcHgiO3JldHVybic8c3BhbiBzdHlsZT0iJysoZT8iZmxvYXQ6cmlnaHQ7bWFyZ2luLWxlZnQ6IityOiIiKSsiOyIraSsnIj4nK1IodCwoZnVuY3Rpb24odCl7cmV0dXJuIHpjKHQpfSkpLmpvaW4oIiZuYnNwOyZuYnNwOyIpKyI8L3NwYW4+In0oZixnLHksXykpLG4pfX19fTtmdW5jdGlvbiBJZih0LGUsbixpLHIsbyl7aWYodCl7dmFyIGE9U2YodCk7YS5wbGFuTGF5b3V0KHQpO3ZhciBzPXt1c2VVVEM6cixyZW5kZXJNb2RlOm4sb3JkZXJNb2RlOmksbWFya3VwU3R5bGVDcmVhdG9yOmV9O3JldHVybiBhLmJ1aWxkKHMsdCwwLG8pfX1mdW5jdGlvbiBUZih0KXt2YXIgZT10Ll9fZ2FwTGV2ZWxCZXR3ZWVuU3ViQmxvY2tzO3JldHVybntodG1sOnhmW2VdLHJpY2hUZXh0OmJmW2VdfX1mdW5jdGlvbiBDZih0LGUpe3JldHVybic8ZGl2IHN0eWxlPSInKygibWFyZ2luOiAiK2UrInB4IDAgMCIpKyI7IisnbGluZS1oZWlnaHQ6MTsiPicrdCsnPGRpdiBzdHlsZT0iY2xlYXI6Ym90aCI+PC9kaXY+PC9kaXY+J31mdW5jdGlvbiBEZih0LGUsbil7cmV0dXJuIHQubWFya3VwU3R5bGVDcmVhdG9yLndyYXBSaWNoVGV4dFN0eWxlKGUsbil9ZnVuY3Rpb24gQWYodCxlKXtyZXR1cm4gSGModC5nZXREYXRhKCkuZ2V0SXRlbVZpc3VhbChlLCJzdHlsZSIpW3QudmlzdWFsRHJhd1R5cGVdKX1mdW5jdGlvbiBrZih0LGUpe3ZhciBuPXQuZ2V0KCJwYWRkaW5nIik7cmV0dXJuIG51bGwhPW4/bjoicmljaFRleHQiPT09ZT9bOCwxMF06MTB9dmFyIExmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMucmljaFRleHRTdHlsZXM9e30sdGhpcy5fbmV4dFN0eWxlTmFtZUlkPWdyKCl9cmV0dXJuIHQucHJvdG90eXBlLl9nZW5lcmF0ZVN0eWxlTmFtZT1mdW5jdGlvbigpe3JldHVybiJfX0VDX2FVVG9fIit0aGlzLl9uZXh0U3R5bGVOYW1lSWQrK30sdC5wcm90b3R5cGUubWFrZVRvb2x0aXBNYXJrZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPSJyaWNoVGV4dCI9PT1uP3RoaXMuX2dlbmVyYXRlU3R5bGVOYW1lKCk6bnVsbCxyPUZjKHtjb2xvcjplLHR5cGU6dCxyZW5kZXJNb2RlOm4sbWFya2VySWQ6aX0pO3JldHVybiBXKHIpP3I6KHRoaXMucmljaFRleHRTdHlsZXNbaV09ci5zdHlsZSxyLmNvbnRlbnQpfSx0LnByb3RvdHlwZS53cmFwUmljaFRleHRTdHlsZT1mdW5jdGlvbih0LGUpe3ZhciBuPXt9O0YoZSk/TyhlLChmdW5jdGlvbih0KXtyZXR1cm4gVChuLHQpfSkpOlQobixlKTt2YXIgaT10aGlzLl9nZW5lcmF0ZVN0eWxlTmFtZSgpO3JldHVybiB0aGlzLnJpY2hUZXh0U3R5bGVzW2ldPW4sInsiK2krInwiK3QrIn0ifSx0fSgpO2Z1bmN0aW9uIFBmKHQpe3ZhciBlLG4saSxyLG89dC5zZXJpZXMsYT10LmRhdGFJbmRleCxzPXQubXVsdGlwbGVTZXJpZXMsbD1vLmdldERhdGEoKSx1PWwubWFwRGltZW5zaW9uc0FsbCgiZGVmYXVsdGVkVG9vbHRpcCIpLGg9dS5sZW5ndGgsYz1vLmdldFJhd1ZhbHVlKGEpLHA9RihjKSxkPUFmKG8sYSk7aWYoaD4xfHxwJiYhaCl7dmFyIGY9ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz1lLmdldERhdGEoKSxhPU4odCwoZnVuY3Rpb24odCxlLG4pe3ZhciBpPW8uZ2V0RGltZW5zaW9uSW5mbyhuKTtyZXR1cm4gdHx8aSYmITEhPT1pLnRvb2x0aXAmJm51bGwhPWkuZGlzcGxheU5hbWV9KSwhMSkscz1bXSxsPVtdLHU9W107ZnVuY3Rpb24gaCh0LGUpe3ZhciBuPW8uZ2V0RGltZW5zaW9uSW5mbyhlKTtuJiYhMSE9PW4ub3RoZXJEaW1zLnRvb2x0aXAmJihhP3UucHVzaCh3ZigibmFtZVZhbHVlIix7bWFya2VyVHlwZToic3ViSXRlbSIsbWFya2VyQ29sb3I6cixuYW1lOm4uZGlzcGxheU5hbWUsdmFsdWU6dCx2YWx1ZVR5cGU6bi50eXBlfSkpOihzLnB1c2godCksbC5wdXNoKG4udHlwZSkpKX1yZXR1cm4gaS5sZW5ndGg/TyhpLChmdW5jdGlvbih0KXtoKE5kKG8sbix0KSx0KX0pKTpPKHQsaCkse2lubGluZVZhbHVlczpzLGlubGluZVZhbHVlVHlwZXM6bCxibG9ja3M6dX19KGMsbyxhLHUsZCk7ZT1mLmlubGluZVZhbHVlcyxuPWYuaW5saW5lVmFsdWVUeXBlcyxpPWYuYmxvY2tzLHI9Zi5pbmxpbmVWYWx1ZXNbMF19ZWxzZSBpZihoKXt2YXIgZz1sLmdldERpbWVuc2lvbkluZm8odVswXSk7cj1lPU5kKGwsYSx1WzBdKSxuPWcudHlwZX1lbHNlIHI9ZT1wP2NbMF06Yzt2YXIgeT1McihvKSx2PXkmJm8ubmFtZXx8IiIsbT1sLmdldE5hbWUoYSksXz1zP3Y6bTtyZXR1cm4gd2YoInNlY3Rpb24iLHtoZWFkZXI6dixub0hlYWRlcjpzfHwheSxzb3J0UGFyYW06cixibG9ja3M6W3dmKCJuYW1lVmFsdWUiLHttYXJrZXJUeXBlOiJpdGVtIixtYXJrZXJDb2xvcjpkLG5hbWU6Xyxub05hbWU6IWF0KF8pLHZhbHVlOmUsdmFsdWVUeXBlOm59KV0uY29uY2F0KGl8fFtdKX0pfXZhciBPZj1ScigpO2Z1bmN0aW9uIFJmKHQsZSl7cmV0dXJuIHQuZ2V0TmFtZShlKXx8dC5nZXRJZChlKX12YXIgTmY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS5fc2VsZWN0ZWREYXRhSW5kaWNlc01hcD17fSxlfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUsbil7dGhpcy5zZXJpZXNJbmRleD10aGlzLmNvbXBvbmVudEluZGV4LHRoaXMuZGF0YVRhc2s9QmQoe2NvdW50OkVmLHJlc2V0OlZmfSksdGhpcy5kYXRhVGFzay5jb250ZXh0PXttb2RlbDp0aGlzfSx0aGlzLm1lcmdlRGVmYXVsdEFuZFRoZW1lKHQsbiksKE9mKHRoaXMpLnNvdXJjZU1hbmFnZXI9bmV3IGdmKHRoaXMpKS5wcmVwYXJlU291cmNlKCk7dmFyIGk9dGhpcy5nZXRJbml0aWFsRGF0YSh0LG4pO0dmKGksdGhpcyksdGhpcy5kYXRhVGFzay5jb250ZXh0LmRhdGE9aSxPZih0aGlzKS5kYXRhQmVmb3JlUHJvY2Vzc2VkPWksemYodGhpcyksdGhpcy5faW5pdFNlbGVjdGVkTWFwRnJvbURhdGEoaSl9LGUucHJvdG90eXBlLm1lcmdlRGVmYXVsdEFuZFRoZW1lPWZ1bmN0aW9uKHQsZSl7dmFyIG49JGModGhpcyksaT1uP1FjKHQpOnt9LHI9dGhpcy5zdWJUeXBlO25wLmhhc0NsYXNzKHIpJiYocis9IlNlcmllcyIpLE0odCxlLmdldFRoZW1lKCkuZ2V0KHRoaXMuc3ViVHlwZSkpLE0odCx0aGlzLmdldERlZmF1bHRPcHRpb24oKSksU3IodCwibGFiZWwiLFsic2hvdyJdKSx0aGlzLmZpbGxEYXRhVGV4dFN0eWxlKHQuZGF0YSksbiYmSmModCxpLG4pfSxlLnByb3RvdHlwZS5tZXJnZU9wdGlvbj1mdW5jdGlvbih0LGUpe3Q9TSh0aGlzLm9wdGlvbix0LCEwKSx0aGlzLmZpbGxEYXRhVGV4dFN0eWxlKHQuZGF0YSk7dmFyIG49JGModGhpcyk7biYmSmModGhpcy5vcHRpb24sdCxuKTt2YXIgaT1PZih0aGlzKS5zb3VyY2VNYW5hZ2VyO2kuZGlydHkoKSxpLnByZXBhcmVTb3VyY2UoKTt2YXIgcj10aGlzLmdldEluaXRpYWxEYXRhKHQsZSk7R2Yocix0aGlzKSx0aGlzLmRhdGFUYXNrLmRpcnR5KCksdGhpcy5kYXRhVGFzay5jb250ZXh0LmRhdGE9cixPZih0aGlzKS5kYXRhQmVmb3JlUHJvY2Vzc2VkPXIsemYodGhpcyksdGhpcy5faW5pdFNlbGVjdGVkTWFwRnJvbURhdGEocil9LGUucHJvdG90eXBlLmZpbGxEYXRhVGV4dFN0eWxlPWZ1bmN0aW9uKHQpe2lmKHQmJiFqKHQpKWZvcih2YXIgZT1bInNob3ciXSxuPTA7bjx0Lmxlbmd0aDtuKyspdFtuXSYmdFtuXS5sYWJlbCYmU3IodFtuXSwibGFiZWwiLGUpfSxlLnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbih0LGUpe30sZS5wcm90b3R5cGUuYXBwZW5kRGF0YT1mdW5jdGlvbih0KXt0aGlzLmdldFJhd0RhdGEoKS5hcHBlbmREYXRhKHQuZGF0YSl9LGUucHJvdG90eXBlLmdldERhdGE9ZnVuY3Rpb24odCl7dmFyIGU9SGYodGhpcyk7aWYoZSl7dmFyIG49ZS5jb250ZXh0LmRhdGE7cmV0dXJuIG51bGw9PXQ/bjpuLmdldExpbmtlZERhdGEodCl9cmV0dXJuIE9mKHRoaXMpLmRhdGF9LGUucHJvdG90eXBlLmdldEFsbERhdGE9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldERhdGEoKTtyZXR1cm4gdCYmdC5nZXRMaW5rZWREYXRhQWxsP3QuZ2V0TGlua2VkRGF0YUFsbCgpOlt7ZGF0YTp0fV19LGUucHJvdG90eXBlLnNldERhdGE9ZnVuY3Rpb24odCl7dmFyIGU9SGYodGhpcyk7aWYoZSl7dmFyIG49ZS5jb250ZXh0O24ub3V0cHV0RGF0YT10LGUhPT10aGlzLmRhdGFUYXNrJiYobi5kYXRhPXQpfU9mKHRoaXMpLmRhdGE9dH0sZS5wcm90b3R5cGUuZ2V0RW5jb2RlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXQoImVuY29kZSIsITApO2lmKHQpcmV0dXJuIGN0KHQpfSxlLnByb3RvdHlwZS5nZXRTb3VyY2VNYW5hZ2VyPWZ1bmN0aW9uKCl7cmV0dXJuIE9mKHRoaXMpLnNvdXJjZU1hbmFnZXJ9LGUucHJvdG90eXBlLmdldFNvdXJjZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFNvdXJjZU1hbmFnZXIoKS5nZXRTb3VyY2UoKX0sZS5wcm90b3R5cGUuZ2V0UmF3RGF0YT1mdW5jdGlvbigpe3JldHVybiBPZih0aGlzKS5kYXRhQmVmb3JlUHJvY2Vzc2VkfSxlLnByb3RvdHlwZS5nZXRDb2xvckJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJjb2xvckJ5Iil8fCJzZXJpZXMifSxlLnByb3RvdHlwZS5pc0NvbG9yQnlTZXJpZXM9ZnVuY3Rpb24oKXtyZXR1cm4ic2VyaWVzIj09PXRoaXMuZ2V0Q29sb3JCeSgpfSxlLnByb3RvdHlwZS5nZXRCYXNlQXhpcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY29vcmRpbmF0ZVN5c3RlbTtyZXR1cm4gdCYmdC5nZXRCYXNlQXhpcyYmdC5nZXRCYXNlQXhpcygpfSxlLnByb3RvdHlwZS5mb3JtYXRUb29sdGlwPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gUGYoe3Nlcmllczp0aGlzLGRhdGFJbmRleDp0LG11bHRpcGxlU2VyaWVzOmV9KX0sZS5wcm90b3R5cGUuaXNBbmltYXRpb25FbmFibGVkPWZ1bmN0aW9uKCl7aWYoYS5ub2RlKXJldHVybiExO3ZhciB0PXRoaXMuZ2V0U2hhbGxvdygiYW5pbWF0aW9uIik7cmV0dXJuIHQmJnRoaXMuZ2V0RGF0YSgpLmNvdW50KCk+dGhpcy5nZXRTaGFsbG93KCJhbmltYXRpb25UaHJlc2hvbGQiKSYmKHQ9ITEpLCEhdH0sZS5wcm90b3R5cGUucmVzdG9yZURhdGE9ZnVuY3Rpb24oKXt0aGlzLmRhdGFUYXNrLmRpcnR5KCl9LGUucHJvdG90eXBlLmdldENvbG9yRnJvbVBhbGV0dGU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuZWNNb2RlbCxyPWtwLnByb3RvdHlwZS5nZXRDb2xvckZyb21QYWxldHRlLmNhbGwodGhpcyx0LGUsbik7cmV0dXJuIHJ8fChyPWkuZ2V0Q29sb3JGcm9tUGFsZXR0ZSh0LGUsbikpLHJ9LGUucHJvdG90eXBlLmNvb3JkRGltVG9EYXRhRGltPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldFJhd0RhdGEoKS5tYXBEaW1lbnNpb25zQWxsKHQpfSxlLnByb3RvdHlwZS5nZXRQcm9ncmVzc2l2ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgicHJvZ3Jlc3NpdmUiKX0sZS5wcm90b3R5cGUuZ2V0UHJvZ3Jlc3NpdmVUaHJlc2hvbGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoInByb2dyZXNzaXZlVGhyZXNob2xkIil9LGUucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbih0LGUpe3RoaXMuX2lubmVyU2VsZWN0KHRoaXMuZ2V0RGF0YShlKSx0KX0sZS5wcm90b3R5cGUudW5zZWxlY3Q9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm9wdGlvbi5zZWxlY3RlZE1hcDtpZihuKWZvcih2YXIgaT10aGlzLmdldERhdGEoZSkscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz1SZihpLHRbcl0pO25bb109ITEsdGhpcy5fc2VsZWN0ZWREYXRhSW5kaWNlc01hcFtvXT0tMX19LGUucHJvdG90eXBlLnRvZ2dsZVNlbGVjdD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1bXSxpPTA7aTx0Lmxlbmd0aDtpKyspblswXT10W2ldLHRoaXMuaXNTZWxlY3RlZCh0W2ldLGUpP3RoaXMudW5zZWxlY3QobixlKTp0aGlzLnNlbGVjdChuLGUpfSxlLnByb3RvdHlwZS5nZXRTZWxlY3RlZERhdGFJbmRpY2VzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX3NlbGVjdGVkRGF0YUluZGljZXNNYXAsZT1WKHQpLG49W10saT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgcj10W2VbaV1dO3I+PTAmJm4ucHVzaChyKX1yZXR1cm4gbn0sZS5wcm90b3R5cGUuaXNTZWxlY3RlZD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMub3B0aW9uLnNlbGVjdGVkTWFwO3JldHVybiBuJiZuW1JmKHRoaXMuZ2V0RGF0YShlKSx0KV18fCExfSxlLnByb3RvdHlwZS5pc1VuaXZlcnNhbFRyYW5zaXRpb25FbmFibGVkPWZ1bmN0aW9uKCl7aWYodGhpcy5fX3VuaXZlcnNhbFRyYW5zaXRpb25FbmFibGVkKXJldHVybiEwO3ZhciB0PXRoaXMub3B0aW9uLnVuaXZlcnNhbFRyYW5zaXRpb247cmV0dXJuISF0JiYoITA9PT10fHx0JiZ0LmVuYWJsZWQpfSxlLnByb3RvdHlwZS5faW5uZXJTZWxlY3Q9ZnVuY3Rpb24odCxlKXt2YXIgbixpLHI9dGhpcy5vcHRpb24uc2VsZWN0ZWRNb2RlLG89ZS5sZW5ndGg7aWYociYmbylpZigibXVsdGlwbGUiPT09cilmb3IodmFyIGE9dGhpcy5vcHRpb24uc2VsZWN0ZWRNYXB8fCh0aGlzLm9wdGlvbi5zZWxlY3RlZE1hcD17fSkscz0wO3M8bztzKyspe3ZhciBsPWVbc107YVtoPVJmKHQsbCldPSEwLHRoaXMuX3NlbGVjdGVkRGF0YUluZGljZXNNYXBbaF09dC5nZXRSYXdJbmRleChsKX1lbHNlIGlmKCJzaW5nbGUiPT09cnx8ITA9PT1yKXt2YXIgdT1lW28tMV0saD1SZih0LHUpO3RoaXMub3B0aW9uLnNlbGVjdGVkTWFwPSgobj17fSlbaF09ITAsbiksdGhpcy5fc2VsZWN0ZWREYXRhSW5kaWNlc01hcD0oKGk9e30pW2hdPXQuZ2V0UmF3SW5kZXgodSksaSl9fSxlLnByb3RvdHlwZS5faW5pdFNlbGVjdGVkTWFwRnJvbURhdGE9ZnVuY3Rpb24odCl7aWYoIXRoaXMub3B0aW9uLnNlbGVjdGVkTWFwKXt2YXIgZT1bXTt0Lmhhc0l0ZW1PcHRpb24mJnQuZWFjaCgoZnVuY3Rpb24obil7dmFyIGk9dC5nZXRSYXdEYXRhSXRlbShuKTtpJiZpLnNlbGVjdGVkJiZlLnB1c2gobil9KSksZS5sZW5ndGg+MCYmdGhpcy5faW5uZXJTZWxlY3QodCxlKX19LGUucmVnaXN0ZXJDbGFzcz1mdW5jdGlvbih0KXtyZXR1cm4gbnAucmVnaXN0ZXJDbGFzcyh0KX0sZS5wcm90b0luaXRpYWxpemU9ZnVuY3Rpb24oKXt2YXIgdD1lLnByb3RvdHlwZTt0LnR5cGU9InNlcmllcy5fX2Jhc2VfXyIsdC5zZXJpZXNJbmRleD0wLHQuaWdub3JlU3R5bGVPbkRhdGE9ITEsdC5oYXNTeW1ib2xWaXN1YWw9ITEsdC5kZWZhdWx0U3ltYm9sPSJjaXJjbGUiLHQudmlzdWFsU3R5bGVBY2Nlc3NQYXRoPSJpdGVtU3R5bGUiLHQudmlzdWFsRHJhd1R5cGU9ImZpbGwifSgpLGV9KG5wKTtmdW5jdGlvbiB6Zih0KXt2YXIgZT10Lm5hbWU7THIodCl8fCh0Lm5hbWU9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRSYXdEYXRhKCksbj1lLm1hcERpbWVuc2lvbnNBbGwoInNlcmllc05hbWUiKSxpPVtdO3JldHVybiBPKG4sKGZ1bmN0aW9uKHQpe3ZhciBuPWUuZ2V0RGltZW5zaW9uSW5mbyh0KTtuLmRpc3BsYXlOYW1lJiZpLnB1c2gobi5kaXNwbGF5TmFtZSl9KSksaS5qb2luKCIgIil9KHQpfHxlKX1mdW5jdGlvbiBFZih0KXtyZXR1cm4gdC5tb2RlbC5nZXRSYXdEYXRhKCkuY291bnQoKX1mdW5jdGlvbiBWZih0KXt2YXIgZT10Lm1vZGVsO3JldHVybiBlLnNldERhdGEoZS5nZXRSYXdEYXRhKCkuY2xvbmVTaGFsbG93KCkpLEJmfWZ1bmN0aW9uIEJmKHQsZSl7ZS5vdXRwdXREYXRhJiZ0LmVuZD5lLm91dHB1dERhdGEuY291bnQoKSYmZS5tb2RlbC5nZXRSYXdEYXRhKCkuY2xvbmVTaGFsbG93KGUub3V0cHV0RGF0YSl9ZnVuY3Rpb24gR2YodCxlKXtPKHB0KHQuQ0hBTkdBQkxFX01FVEhPRFMsdC5ET1dOU0FNUExFX01FVEhPRFMpLChmdW5jdGlvbihuKXt0LndyYXBNZXRob2QobixHKEZmLGUpKX0pKX1mdW5jdGlvbiBGZih0LGUpe3ZhciBuPUhmKHQpO3JldHVybiBuJiZuLnNldE91dHB1dEVuZCgoZXx8dGhpcykuY291bnQoKSksZX1mdW5jdGlvbiBIZih0KXt2YXIgZT0odC5lY01vZGVsfHx7fSkuc2NoZWR1bGVyLG49ZSYmZS5nZXRQaXBlbGluZSh0LnVpZCk7aWYobil7dmFyIGk9bi5jdXJyZW50VGFzaztpZihpKXt2YXIgcj1pLmFnZW50U3R1Yk1hcDtyJiYoaT1yLmdldCh0LnVpZCkpfXJldHVybiBpfX1MKE5mLEVkKSxMKE5mLGtwKSxxcihOZixucCk7dmFyIFdmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuZ3JvdXA9bmV3IEJpLHRoaXMudWlkPVhoKCJ2aWV3Q29tcG9uZW50Iil9cmV0dXJuIHQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbixpKXt9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnVwZGF0ZVZpZXc9ZnVuY3Rpb24odCxlLG4saSl7fSx0LnByb3RvdHlwZS51cGRhdGVMYXlvdXQ9ZnVuY3Rpb24odCxlLG4saSl7fSx0LnByb3RvdHlwZS51cGRhdGVWaXN1YWw9ZnVuY3Rpb24odCxlLG4saSl7fSx0LnByb3RvdHlwZS5ibHVyU2VyaWVzPWZ1bmN0aW9uKHQsZSl7fSx0fSgpO2Z1bmN0aW9uIFVmKCl7dmFyIHQ9UnIoKTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49dChlKSxpPWUucGlwZWxpbmVDb250ZXh0LHI9ISFuLmxhcmdlLG89ISFuLnByb2dyZXNzaXZlUmVuZGVyLGE9bi5sYXJnZT0hKCFpfHwhaS5sYXJnZSkscz1uLnByb2dyZXNzaXZlUmVuZGVyPSEoIWl8fCFpLnByb2dyZXNzaXZlUmVuZGVyKTtyZXR1cm4hKHI9PT1hJiZvPT09cykmJiJyZXNldCJ9fVpyKFdmKSxRcihXZik7dmFyIFhmPVJyKCksWWY9VWYoKSxaZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmdyb3VwPW5ldyBCaSx0aGlzLnVpZD1YaCgidmlld0NoYXJ0IiksdGhpcy5yZW5kZXJUYXNrPUJkKHtwbGFuOktmLHJlc2V0OiRmfSksdGhpcy5yZW5kZXJUYXNrLmNvbnRleHQ9e3ZpZXc6dGhpc319cmV0dXJuIHQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlKXt9LHQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbixpKXt9LHQucHJvdG90eXBlLmhpZ2hsaWdodD1mdW5jdGlvbih0LGUsbixpKXtxZih0LmdldERhdGEoKSxpLCJlbXBoYXNpcyIpfSx0LnByb3RvdHlwZS5kb3ducGxheT1mdW5jdGlvbih0LGUsbixpKXtxZih0LmdldERhdGEoKSxpLCJub3JtYWwiKX0sdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQsZSl7dGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0LGUpe30sdC5wcm90b3R5cGUudXBkYXRlVmlldz1mdW5jdGlvbih0LGUsbixpKXt0aGlzLnJlbmRlcih0LGUsbixpKX0sdC5wcm90b3R5cGUudXBkYXRlTGF5b3V0PWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMucmVuZGVyKHQsZSxuLGkpfSx0LnByb3RvdHlwZS51cGRhdGVWaXN1YWw9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5yZW5kZXIodCxlLG4saSl9LHQubWFya1VwZGF0ZU1ldGhvZD1mdW5jdGlvbih0LGUpe1hmKHQpLnVwZGF0ZU1ldGhvZD1lfSx0LnByb3RvSW5pdGlhbGl6ZT12b2lkKHQucHJvdG90eXBlLnR5cGU9ImNoYXJ0IiksdH0oKTtmdW5jdGlvbiBqZih0LGUsbil7dCYmKCJlbXBoYXNpcyI9PT1lP1FzOnRsKSh0LG4pfWZ1bmN0aW9uIHFmKHQsZSxuKXt2YXIgaT1Pcih0LGUpLHI9ZSYmbnVsbCE9ZS5oaWdobGlnaHRLZXk/ZnVuY3Rpb24odCl7dmFyIGU9VHNbdF07cmV0dXJuIG51bGw9PWUmJklzPD0zMiYmKGU9VHNbdF09SXMrKyksZX0oZS5oaWdobGlnaHRLZXkpOm51bGw7bnVsbCE9aT9PKHdyKGkpLChmdW5jdGlvbihlKXtqZih0LmdldEl0ZW1HcmFwaGljRWwoZSksbixyKX0pKTp0LmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbih0KXtqZih0LG4scil9KSl9ZnVuY3Rpb24gS2YodCl7cmV0dXJuIFlmKHQubW9kZWwpfWZ1bmN0aW9uICRmKHQpe3ZhciBlPXQubW9kZWwsbj10LmVjTW9kZWwsaT10LmFwaSxyPXQucGF5bG9hZCxvPWUucGlwZWxpbmVDb250ZXh0LnByb2dyZXNzaXZlUmVuZGVyLGE9dC52aWV3LHM9ciYmWGYocikudXBkYXRlTWV0aG9kLGw9bz8iaW5jcmVtZW50YWxQcmVwYXJlUmVuZGVyIjpzJiZhW3NdP3M6InJlbmRlciI7cmV0dXJuInJlbmRlciIhPT1sJiZhW2xdKGUsbixpLHIpLEpmW2xdfVpyKFpmKSxRcihaZik7dmFyIEpmPXtpbmNyZW1lbnRhbFByZXBhcmVSZW5kZXI6e3Byb2dyZXNzOmZ1bmN0aW9uKHQsZSl7ZS52aWV3LmluY3JlbWVudGFsUmVuZGVyKHQsZS5tb2RlbCxlLmVjTW9kZWwsZS5hcGksZS5wYXlsb2FkKX19LHJlbmRlcjp7Zm9yY2VGaXJzdFByb2dyZXNzOiEwLHByb2dyZXNzOmZ1bmN0aW9uKHQsZSl7ZS52aWV3LnJlbmRlcihlLm1vZGVsLGUuZWNNb2RlbCxlLmFwaSxlLnBheWxvYWQpfX19LFFmPSJcMF9fdGhyb3R0bGVPcmlnaW5NZXRob2QiLHRnPSJcMF9fdGhyb3R0bGVSYXRlIixlZz0iXDBfX3Rocm90dGxlVHlwZSI7ZnVuY3Rpb24gbmcodCxlLG4pe3ZhciBpLHIsbyxhLHMsbD0wLHU9MCxoPW51bGw7ZnVuY3Rpb24gYygpe3U9KG5ldyBEYXRlKS5nZXRUaW1lKCksaD1udWxsLHQuYXBwbHkobyxhfHxbXSl9ZT1lfHwwO3ZhciBwPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLHA9MDtwPGFyZ3VtZW50cy5sZW5ndGg7cCsrKXRbcF09YXJndW1lbnRzW3BdO2k9KG5ldyBEYXRlKS5nZXRUaW1lKCksbz10aGlzLGE9dDt2YXIgZD1zfHxlLGY9c3x8bjtzPW51bGwscj1pLShmP2w6dSktZCxjbGVhclRpbWVvdXQoaCksZj9oPXNldFRpbWVvdXQoYyxkKTpyPj0wP2MoKTpoPXNldFRpbWVvdXQoYywtciksbD1pfTtyZXR1cm4gcC5jbGVhcj1mdW5jdGlvbigpe2gmJihjbGVhclRpbWVvdXQoaCksaD1udWxsKX0scC5kZWJvdW5jZU5leHRDYWxsPWZ1bmN0aW9uKHQpe3M9dH0scH1mdW5jdGlvbiBpZyh0LGUsbixpKXt2YXIgcj10W2VdO2lmKHIpe3ZhciBvPXJbUWZdfHxyLGE9cltlZ107aWYoclt0Z10hPT1ufHxhIT09aSl7aWYobnVsbD09bnx8IWkpcmV0dXJuIHRbZV09bzsocj10W2VdPW5nKG8sbiwiZGVib3VuY2UiPT09aSkpW1FmXT1vLHJbZWddPWksclt0Z109bn1yZXR1cm4gcn19dmFyIHJnPVJyKCksb2c9e2l0ZW1TdHlsZTp0byhHaCwhMCksbGluZVN0eWxlOnRvKEVoLCEwKX0sYWc9e2xpbmVTdHlsZToic3Ryb2tlIixpdGVtU3R5bGU6ImZpbGwifTtmdW5jdGlvbiBzZyh0LGUpe3ZhciBuPXQudmlzdWFsU3R5bGVNYXBwZXJ8fG9nW2VdO3JldHVybiBufHwoY29uc29sZS53YXJuKCJVbmtvd24gc3R5bGUgdHlwZSAnIitlKyInLiIpLG9nLml0ZW1TdHlsZSl9ZnVuY3Rpb24gbGcodCxlKXt2YXIgbj10LnZpc3VhbERyYXdUeXBlfHxhZ1tlXTtyZXR1cm4gbnx8KGNvbnNvbGUud2FybigiVW5rb3duIHN0eWxlIHR5cGUgJyIrZSsiJy4iKSwiZmlsbCIpfXZhciB1Zz17Y3JlYXRlT25BbGxTZXJpZXM6ITAscGVyZm9ybVJhd1NlcmllczohMCxyZXNldDpmdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0RGF0YSgpLGk9dC52aXN1YWxTdHlsZUFjY2Vzc1BhdGh8fCJpdGVtU3R5bGUiLHI9dC5nZXRNb2RlbChpKSxvPXNnKHQsaSkociksYT1yLmdldFNoYWxsb3coImRlY2FsIik7YSYmKG4uc2V0VmlzdWFsKCJkZWNhbCIsYSksYS5kaXJ0eT0hMCk7dmFyIHM9bGcodCxpKSxsPW9bc10sdT1IKGwpP2w6bnVsbCxoPSJhdXRvIj09PW8uZmlsbHx8ImF1dG8iPT09by5zdHJva2U7aWYoIW9bc118fHV8fGgpe3ZhciBjPXQuZ2V0Q29sb3JGcm9tUGFsZXR0ZSh0Lm5hbWUsbnVsbCxlLmdldFNlcmllc0NvdW50KCkpO29bc118fChvW3NdPWMsbi5zZXRWaXN1YWwoImNvbG9yRnJvbVBhbGV0dGUiLCEwKSksby5maWxsPSJhdXRvIj09PW8uZmlsbHx8ImZ1bmN0aW9uIj09dHlwZW9mIG8uZmlsbD9jOm8uZmlsbCxvLnN0cm9rZT0iYXV0byI9PT1vLnN0cm9rZXx8ImZ1bmN0aW9uIj09dHlwZW9mIG8uc3Ryb2tlP2M6by5zdHJva2V9aWYobi5zZXRWaXN1YWwoInN0eWxlIixvKSxuLnNldFZpc3VhbCgiZHJhd1R5cGUiLHMpLCFlLmlzU2VyaWVzRmlsdGVyZWQodCkmJnUpcmV0dXJuIG4uc2V0VmlzdWFsKCJjb2xvckZyb21QYWxldHRlIiwhMSkse2RhdGFFYWNoOmZ1bmN0aW9uKGUsbil7dmFyIGk9dC5nZXREYXRhUGFyYW1zKG4pLHI9VCh7fSxvKTtyW3NdPXUoaSksZS5zZXRJdGVtVmlzdWFsKG4sInN0eWxlIixyKX19fX0saGc9bmV3IFdoLGNnPXtjcmVhdGVPbkFsbFNlcmllczohMCxwZXJmb3JtUmF3U2VyaWVzOiEwLHJlc2V0OmZ1bmN0aW9uKHQsZSl7aWYoIXQuaWdub3JlU3R5bGVPbkRhdGEmJiFlLmlzU2VyaWVzRmlsdGVyZWQodCkpe3ZhciBuPXQuZ2V0RGF0YSgpLGk9dC52aXN1YWxTdHlsZUFjY2Vzc1BhdGh8fCJpdGVtU3R5bGUiLHI9c2codCxpKSxvPW4uZ2V0VmlzdWFsKCJkcmF3VHlwZSIpO3JldHVybntkYXRhRWFjaDpuLmhhc0l0ZW1PcHRpb24/ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldFJhd0RhdGFJdGVtKGUpO2lmKG4mJm5baV0pe2hnLm9wdGlvbj1uW2ldO3ZhciBhPXIoaGcpO1QodC5lbnN1cmVVbmlxdWVJdGVtVmlzdWFsKGUsInN0eWxlIiksYSksaGcub3B0aW9uLmRlY2FsJiYodC5zZXRJdGVtVmlzdWFsKGUsImRlY2FsIixoZy5vcHRpb24uZGVjYWwpLGhnLm9wdGlvbi5kZWNhbC5kaXJ0eT0hMCksbyBpbiBhJiZ0LnNldEl0ZW1WaXN1YWwoZSwiY29sb3JGcm9tUGFsZXR0ZSIsITEpfX06bnVsbH19fX0scGc9e3BlcmZvcm1SYXdTZXJpZXM6ITAsb3ZlcmFsbFJlc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPWN0KCk7dC5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXt2YXIgbj10LmdldENvbG9yQnkoKTtpZighdC5pc0NvbG9yQnlTZXJpZXMoKSl7dmFyIGk9dC50eXBlKyItIituLHI9ZS5nZXQoaSk7cnx8KHI9e30sZS5zZXQoaSxyKSkscmcodCkuc2NvcGU9cn19KSksdC5lYWNoU2VyaWVzKChmdW5jdGlvbihlKXtpZighZS5pc0NvbG9yQnlTZXJpZXMoKSYmIXQuaXNTZXJpZXNGaWx0ZXJlZChlKSl7dmFyIG49ZS5nZXRSYXdEYXRhKCksaT17fSxyPWUuZ2V0RGF0YSgpLG89cmcoZSkuc2NvcGUsYT1lLnZpc3VhbFN0eWxlQWNjZXNzUGF0aHx8Iml0ZW1TdHlsZSIscz1sZyhlLGEpO3IuZWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9ci5nZXRSYXdJbmRleCh0KTtpW2VdPXR9KSksbi5lYWNoKChmdW5jdGlvbih0KXt2YXIgYT1pW3RdO2lmKHIuZ2V0SXRlbVZpc3VhbChhLCJjb2xvckZyb21QYWxldHRlIikpe3ZhciBsPXIuZW5zdXJlVW5pcXVlSXRlbVZpc3VhbChhLCJzdHlsZSIpLHU9bi5nZXROYW1lKHQpfHx0KyIiLGg9bi5jb3VudCgpO2xbc109ZS5nZXRDb2xvckZyb21QYWxldHRlKHUsbyxoKX19KSl9fSkpfX0sZGc9TWF0aC5QSTt2YXIgZmc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLGkpe3RoaXMuX3N0YWdlVGFza01hcD1jdCgpLHRoaXMuZWNJbnN0YW5jZT10LHRoaXMuYXBpPWUsbj10aGlzLl9kYXRhUHJvY2Vzc29ySGFuZGxlcnM9bi5zbGljZSgpLGk9dGhpcy5fdmlzdWFsSGFuZGxlcnM9aS5zbGljZSgpLHRoaXMuX2FsbEhhbmRsZXJzPW4uY29uY2F0KGkpfXJldHVybiB0LnByb3RvdHlwZS5yZXN0b3JlRGF0YT1mdW5jdGlvbih0LGUpe3QucmVzdG9yZURhdGEoZSksdGhpcy5fc3RhZ2VUYXNrTWFwLmVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPXQub3ZlcmFsbFRhc2s7ZSYmZS5kaXJ0eSgpfSkpfSx0LnByb3RvdHlwZS5nZXRQZXJmb3JtQXJncz1mdW5jdGlvbih0LGUpe2lmKHQuX19waXBlbGluZSl7dmFyIG49dGhpcy5fcGlwZWxpbmVNYXAuZ2V0KHQuX19waXBlbGluZS5pZCksaT1uLmNvbnRleHQscj0hZSYmbi5wcm9ncmVzc2l2ZUVuYWJsZWQmJighaXx8aS5wcm9ncmVzc2l2ZVJlbmRlcikmJnQuX19pZHhJblBpcGVsaW5lPm4uYmxvY2tJbmRleD9uLnN0ZXA6bnVsbCxvPWkmJmkubW9kRGF0YUNvdW50O3JldHVybntzdGVwOnIsbW9kQnk6bnVsbCE9bz9NYXRoLmNlaWwoby9yKTpudWxsLG1vZERhdGFDb3VudDpvfX19LHQucHJvdG90eXBlLmdldFBpcGVsaW5lPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9waXBlbGluZU1hcC5nZXQodCl9LHQucHJvdG90eXBlLnVwZGF0ZVN0cmVhbU1vZGVzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fcGlwZWxpbmVNYXAuZ2V0KHQudWlkKSxpPXQuZ2V0RGF0YSgpLmNvdW50KCkscj1uLnByb2dyZXNzaXZlRW5hYmxlZCYmZS5pbmNyZW1lbnRhbFByZXBhcmVSZW5kZXImJmk+PW4udGhyZXNob2xkLG89dC5nZXQoImxhcmdlIikmJmk+PXQuZ2V0KCJsYXJnZVRocmVzaG9sZCIpLGE9Im1vZCI9PT10LmdldCgicHJvZ3Jlc3NpdmVDaHVua01vZGUiKT9pOm51bGw7dC5waXBlbGluZUNvbnRleHQ9bi5jb250ZXh0PXtwcm9ncmVzc2l2ZVJlbmRlcjpyLG1vZERhdGFDb3VudDphLGxhcmdlOm99fSx0LnByb3RvdHlwZS5yZXN0b3JlUGlwZWxpbmVzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1lLl9waXBlbGluZU1hcD1jdCgpO3QuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7dmFyIGk9dC5nZXRQcm9ncmVzc2l2ZSgpLHI9dC51aWQ7bi5zZXQocix7aWQ6cixoZWFkOm51bGwsdGFpbDpudWxsLHRocmVzaG9sZDp0LmdldFByb2dyZXNzaXZlVGhyZXNob2xkKCkscHJvZ3Jlc3NpdmVFbmFibGVkOmkmJiEodC5wcmV2ZW50SW5jcmVtZW50YWwmJnQucHJldmVudEluY3JlbWVudGFsKCkpLGJsb2NrSW5kZXg6LTEsc3RlcDpNYXRoLnJvdW5kKGl8fDcwMCksY291bnQ6MH0pLGUuX3BpcGUodCx0LmRhdGFUYXNrKX0pKX0sdC5wcm90b3R5cGUucHJlcGFyZVN0YWdlVGFza3M9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zdGFnZVRhc2tNYXAsZT10aGlzLmFwaS5nZXRNb2RlbCgpLG49dGhpcy5hcGk7Tyh0aGlzLl9hbGxIYW5kbGVycywoZnVuY3Rpb24oaSl7dmFyIHI9dC5nZXQoaS51aWQpfHx0LnNldChpLnVpZCx7fSksbz0iIjtvdCghKGkucmVzZXQmJmkub3ZlcmFsbFJlc2V0KSxvKSxpLnJlc2V0JiZ0aGlzLl9jcmVhdGVTZXJpZXNTdGFnZVRhc2soaSxyLGUsbiksaS5vdmVyYWxsUmVzZXQmJnRoaXMuX2NyZWF0ZU92ZXJhbGxTdGFnZVRhc2soaSxyLGUsbil9KSx0aGlzKX0sdC5wcm90b3R5cGUucHJlcGFyZVZpZXc9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dC5yZW5kZXJUYXNrLG89ci5jb250ZXh0O28ubW9kZWw9ZSxvLmVjTW9kZWw9bixvLmFwaT1pLHIuX19ibG9jaz0hdC5pbmNyZW1lbnRhbFByZXBhcmVSZW5kZXIsdGhpcy5fcGlwZShlLHIpfSx0LnByb3RvdHlwZS5wZXJmb3JtRGF0YVByb2Nlc3NvclRhc2tzPWZ1bmN0aW9uKHQsZSl7dGhpcy5fcGVyZm9ybVN0YWdlVGFza3ModGhpcy5fZGF0YVByb2Nlc3NvckhhbmRsZXJzLHQsZSx7YmxvY2s6ITB9KX0sdC5wcm90b3R5cGUucGVyZm9ybVZpc3VhbFRhc2tzPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl9wZXJmb3JtU3RhZ2VUYXNrcyh0aGlzLl92aXN1YWxIYW5kbGVycyx0LGUsbil9LHQucHJvdG90eXBlLl9wZXJmb3JtU3RhZ2VUYXNrcz1mdW5jdGlvbih0LGUsbixpKXtpPWl8fHt9O3ZhciByPSExLG89dGhpcztmdW5jdGlvbiBhKHQsZSl7cmV0dXJuIHQuc2V0RGlydHkmJighdC5kaXJ0eU1hcHx8dC5kaXJ0eU1hcC5nZXQoZS5fX3BpcGVsaW5lLmlkKSl9Tyh0LChmdW5jdGlvbih0LHMpe2lmKCFpLnZpc3VhbFR5cGV8fGkudmlzdWFsVHlwZT09PXQudmlzdWFsVHlwZSl7dmFyIGw9by5fc3RhZ2VUYXNrTWFwLmdldCh0LnVpZCksdT1sLnNlcmllc1Rhc2tNYXAsaD1sLm92ZXJhbGxUYXNrO2lmKGgpe3ZhciBjLHA9aC5hZ2VudFN0dWJNYXA7cC5lYWNoKChmdW5jdGlvbih0KXthKGksdCkmJih0LmRpcnR5KCksYz0hMCl9KSksYyYmaC5kaXJ0eSgpLG8udXBkYXRlUGF5bG9hZChoLG4pO3ZhciBkPW8uZ2V0UGVyZm9ybUFyZ3MoaCxpLmJsb2NrKTtwLmVhY2goKGZ1bmN0aW9uKHQpe3QucGVyZm9ybShkKX0pKSxoLnBlcmZvcm0oZCkmJihyPSEwKX1lbHNlIHUmJnUuZWFjaCgoZnVuY3Rpb24ocyxsKXthKGkscykmJnMuZGlydHkoKTt2YXIgdT1vLmdldFBlcmZvcm1BcmdzKHMsaS5ibG9jayk7dS5za2lwPSF0LnBlcmZvcm1SYXdTZXJpZXMmJmUuaXNTZXJpZXNGaWx0ZXJlZChzLmNvbnRleHQubW9kZWwpLG8udXBkYXRlUGF5bG9hZChzLG4pLHMucGVyZm9ybSh1KSYmKHI9ITApfSkpfX0pKSx0aGlzLnVuZmluaXNoZWQ9cnx8dGhpcy51bmZpbmlzaGVkfSx0LnByb3RvdHlwZS5wZXJmb3JtU2VyaWVzVGFza3M9ZnVuY3Rpb24odCl7dmFyIGU7dC5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXtlPXQuZGF0YVRhc2sucGVyZm9ybSgpfHxlfSkpLHRoaXMudW5maW5pc2hlZD1lfHx0aGlzLnVuZmluaXNoZWR9LHQucHJvdG90eXBlLnBsYW49ZnVuY3Rpb24oKXt0aGlzLl9waXBlbGluZU1hcC5lYWNoKChmdW5jdGlvbih0KXt2YXIgZT10LnRhaWw7ZG97aWYoZS5fX2Jsb2NrKXt0LmJsb2NrSW5kZXg9ZS5fX2lkeEluUGlwZWxpbmU7YnJlYWt9ZT1lLmdldFVwc3RyZWFtKCl9d2hpbGUoZSl9KSl9LHQucHJvdG90eXBlLnVwZGF0ZVBheWxvYWQ9ZnVuY3Rpb24odCxlKXsicmVtYWluIiE9PWUmJih0LmNvbnRleHQucGF5bG9hZD1lKX0sdC5wcm90b3R5cGUuX2NyZWF0ZVNlcmllc1N0YWdlVGFzaz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzLG89ZS5zZXJpZXNUYXNrTWFwLGE9ZS5zZXJpZXNUYXNrTWFwPWN0KCkscz10LnNlcmllc1R5cGUsbD10LmdldFRhcmdldFNlcmllcztmdW5jdGlvbiB1KGUpe3ZhciBzPWUudWlkLGw9YS5zZXQocyxvJiZvLmdldChzKXx8QmQoe3BsYW46X2cscmVzZXQ6eGcsY291bnQ6U2d9KSk7bC5jb250ZXh0PXttb2RlbDplLGVjTW9kZWw6bixhcGk6aSx1c2VDbGVhclZpc3VhbDp0LmlzVmlzdWFsJiYhdC5pc0xheW91dCxwbGFuOnQucGxhbixyZXNldDp0LnJlc2V0LHNjaGVkdWxlcjpyfSxyLl9waXBlKGUsbCl9dC5jcmVhdGVPbkFsbFNlcmllcz9uLmVhY2hSYXdTZXJpZXModSk6cz9uLmVhY2hSYXdTZXJpZXNCeVR5cGUocyx1KTpsJiZsKG4saSkuZWFjaCh1KX0sdC5wcm90b3R5cGUuX2NyZWF0ZU92ZXJhbGxTdGFnZVRhc2s9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcyxvPWUub3ZlcmFsbFRhc2s9ZS5vdmVyYWxsVGFza3x8QmQoe3Jlc2V0OmdnfSk7by5jb250ZXh0PXtlY01vZGVsOm4sYXBpOmksb3ZlcmFsbFJlc2V0OnQub3ZlcmFsbFJlc2V0LHNjaGVkdWxlcjpyfTt2YXIgYT1vLmFnZW50U3R1Yk1hcCxzPW8uYWdlbnRTdHViTWFwPWN0KCksbD10LnNlcmllc1R5cGUsdT10LmdldFRhcmdldFNlcmllcyxoPSEwLGM9ITEscD0iIjtmdW5jdGlvbiBkKHQpe3ZhciBlPXQudWlkLG49cy5zZXQoZSxhJiZhLmdldChlKXx8KGM9ITAsQmQoe3Jlc2V0OnlnLG9uRGlydHk6bWd9KSkpO24uY29udGV4dD17bW9kZWw6dCxvdmVyYWxsUHJvZ3Jlc3M6aH0sbi5hZ2VudD1vLG4uX19ibG9jaz1oLHIuX3BpcGUodCxuKX1vdCghdC5jcmVhdGVPbkFsbFNlcmllcyxwKSxsP24uZWFjaFJhd1Nlcmllc0J5VHlwZShsLGQpOnU/dShuLGkpLmVhY2goZCk6KGg9ITEsTyhuLmdldFNlcmllcygpLGQpKSxjJiZvLmRpcnR5KCl9LHQucHJvdG90eXBlLl9waXBlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC51aWQsaT10aGlzLl9waXBlbGluZU1hcC5nZXQobik7IWkuaGVhZCYmKGkuaGVhZD1lKSxpLnRhaWwmJmkudGFpbC5waXBlKGUpLGkudGFpbD1lLGUuX19pZHhJblBpcGVsaW5lPWkuY291bnQrKyxlLl9fcGlwZWxpbmU9aX0sdC53cmFwU3RhZ2VIYW5kbGVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEgodCkmJih0PXtvdmVyYWxsUmVzZXQ6dCxzZXJpZXNUeXBlOk1nKHQpfSksdC51aWQ9WGgoInN0YWdlSGFuZGxlciIpLGUmJih0LnZpc3VhbFR5cGU9ZSksdH0sdH0oKTtmdW5jdGlvbiBnZyh0KXt0Lm92ZXJhbGxSZXNldCh0LmVjTW9kZWwsdC5hcGksdC5wYXlsb2FkKX1mdW5jdGlvbiB5Zyh0KXtyZXR1cm4gdC5vdmVyYWxsUHJvZ3Jlc3MmJnZnfWZ1bmN0aW9uIHZnKCl7dGhpcy5hZ2VudC5kaXJ0eSgpLHRoaXMuZ2V0RG93bnN0cmVhbSgpLmRpcnR5KCl9ZnVuY3Rpb24gbWcoKXt0aGlzLmFnZW50JiZ0aGlzLmFnZW50LmRpcnR5KCl9ZnVuY3Rpb24gX2codCl7cmV0dXJuIHQucGxhbj90LnBsYW4odC5tb2RlbCx0LmVjTW9kZWwsdC5hcGksdC5wYXlsb2FkKTpudWxsfWZ1bmN0aW9uIHhnKHQpe3QudXNlQ2xlYXJWaXN1YWwmJnQuZGF0YS5jbGVhckFsbFZpc3VhbCgpO3ZhciBlPXQucmVzZXREZWZpbmVzPXdyKHQucmVzZXQodC5tb2RlbCx0LmVjTW9kZWwsdC5hcGksdC5wYXlsb2FkKSk7cmV0dXJuIGUubGVuZ3RoPjE/UihlLChmdW5jdGlvbih0LGUpe3JldHVybiB3ZyhlKX0pKTpiZ312YXIgYmc9d2coMCk7ZnVuY3Rpb24gd2codCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIGk9bi5kYXRhLHI9bi5yZXNldERlZmluZXNbdF07aWYociYmci5kYXRhRWFjaClmb3IodmFyIG89ZS5zdGFydDtvPGUuZW5kO28rKylyLmRhdGFFYWNoKGksbyk7ZWxzZSByJiZyLnByb2dyZXNzJiZyLnByb2dyZXNzKGUsaSl9fWZ1bmN0aW9uIFNnKHQpe3JldHVybiB0LmRhdGEuY291bnQoKX1mdW5jdGlvbiBNZyh0KXtJZz1udWxsO3RyeXt0KFRnLENnKX1jYXRjaCh0KXt9cmV0dXJuIElnfXZhciBJZyxUZz17fSxDZz17fTtmdW5jdGlvbiBEZyh0LGUpe2Zvcih2YXIgbiBpbiBlLnByb3RvdHlwZSl0W25dPWd0fURnKFRnLE9wKSxEZyhDZyxWcCksVGcuZWFjaFNlcmllc0J5VHlwZT1UZy5lYWNoUmF3U2VyaWVzQnlUeXBlPWZ1bmN0aW9uKHQpe0lnPXR9LFRnLmVhY2hDb21wb25lbnQ9ZnVuY3Rpb24odCl7InNlcmllcyI9PT10Lm1haW5UeXBlJiZ0LnN1YlR5cGUmJihJZz10LnN1YlR5cGUpfTt2YXIgQWc9WyIjMzdBMkRBIiwiIzMyQzVFOSIsIiM2N0UwRTMiLCIjOUZFNkI4IiwiI0ZGREI1QyIsIiNmZjlmN2YiLCIjZmI3MjkzIiwiI0UwNjJBRSIsIiNFNjkwRDEiLCIjZTdiY2YzIiwiIzlkOTZmNSIsIiM4Mzc4RUEiLCIjOTZCRkZGIl0sa2c9e2NvbG9yOkFnLGNvbG9yTGF5ZXI6W1siIzM3QTJEQSIsIiNmZmQ4NWMiLCIjZmQ3YjVmIl0sWyIjMzdBMkRBIiwiIzY3RTBFMyIsIiNGRkRCNUMiLCIjZmY5ZjdmIiwiI0UwNjJBRSIsIiM5ZDk2ZjUiXSxbIiMzN0EyREEiLCIjMzJDNUU5IiwiIzlGRTZCOCIsIiNGRkRCNUMiLCIjZmY5ZjdmIiwiI2ZiNzI5MyIsIiNlN2JjZjMiLCIjODM3OEVBIiwiIzk2QkZGRiJdLEFnXX0sTGc9IiNCOUI4Q0UiLFBnPSIjMTAwQzJBIixPZz1mdW5jdGlvbigpe3JldHVybntheGlzTGluZTp7bGluZVN0eWxlOntjb2xvcjpMZ319LHNwbGl0TGluZTp7bGluZVN0eWxlOntjb2xvcjoiIzQ4NDc1MyJ9fSxzcGxpdEFyZWE6e2FyZWFTdHlsZTp7Y29sb3I6WyJyZ2JhKDI1NSwyNTUsMjU1LDAuMDIpIiwicmdiYSgyNTUsMjU1LDI1NSwwLjA1KSJdfX0sbWlub3JTcGxpdExpbmU6e2xpbmVTdHlsZTp7Y29sb3I6IiMyMDIwM0IifX19fSxSZz1bIiM0OTkyZmYiLCIjN2NmZmIyIiwiI2ZkZGQ2MCIsIiNmZjZlNzYiLCIjNThkOWY5IiwiIzA1YzA5MSIsIiNmZjhhNDUiLCIjOGQ0OGUzIiwiI2RkNzlmZiJdLE5nPXtkYXJrTW9kZTohMCxjb2xvcjpSZyxiYWNrZ3JvdW5kQ29sb3I6UGcsYXhpc1BvaW50ZXI6e2xpbmVTdHlsZTp7Y29sb3I6IiM4MTdmOTEifSxjcm9zc1N0eWxlOntjb2xvcjoiIzgxN2Y5MSJ9LGxhYmVsOntjb2xvcjoiI2ZmZiJ9fSxsZWdlbmQ6e3RleHRTdHlsZTp7Y29sb3I6TGd9fSx0ZXh0U3R5bGU6e2NvbG9yOkxnfSx0aXRsZTp7dGV4dFN0eWxlOntjb2xvcjoiI0VFRjFGQSJ9LHN1YnRleHRTdHlsZTp7Y29sb3I6IiNCOUI4Q0UifX0sdG9vbGJveDp7aWNvblN0eWxlOntib3JkZXJDb2xvcjpMZ319LGRhdGFab29tOntib3JkZXJDb2xvcjoiIzcxNzA4QSIsdGV4dFN0eWxlOntjb2xvcjpMZ30sYnJ1c2hTdHlsZTp7Y29sb3I6InJnYmEoMTM1LDE2MywyMDYsMC4zKSJ9LGhhbmRsZVN0eWxlOntjb2xvcjoiIzM1MzQ1MCIsYm9yZGVyQ29sb3I6IiNDNUNCRTMifSxtb3ZlSGFuZGxlU3R5bGU6e2NvbG9yOiIjQjBCNkMzIixvcGFjaXR5Oi4zfSxmaWxsZXJDb2xvcjoicmdiYSgxMzUsMTYzLDIwNiwwLjIpIixlbXBoYXNpczp7aGFuZGxlU3R5bGU6e2JvcmRlckNvbG9yOiIjOTFCN0YyIixjb2xvcjoiIzRENTg3RCJ9LG1vdmVIYW5kbGVTdHlsZTp7Y29sb3I6IiM2MzZEOUEiLG9wYWNpdHk6Ljd9fSxkYXRhQmFja2dyb3VuZDp7bGluZVN0eWxlOntjb2xvcjoiIzcxNzA4QSIsd2lkdGg6MX0sYXJlYVN0eWxlOntjb2xvcjoiIzcxNzA4QSJ9fSxzZWxlY3RlZERhdGFCYWNrZ3JvdW5kOntsaW5lU3R5bGU6e2NvbG9yOiIjODdBM0NFIn0sYXJlYVN0eWxlOntjb2xvcjoiIzg3QTNDRSJ9fX0sdmlzdWFsTWFwOnt0ZXh0U3R5bGU6e2NvbG9yOkxnfX0sdGltZWxpbmU6e2xpbmVTdHlsZTp7Y29sb3I6TGd9LGxhYmVsOntjb2xvcjpMZ30sY29udHJvbFN0eWxlOntjb2xvcjpMZyxib3JkZXJDb2xvcjpMZ319LGNhbGVuZGFyOntpdGVtU3R5bGU6e2NvbG9yOlBnfSxkYXlMYWJlbDp7Y29sb3I6TGd9LG1vbnRoTGFiZWw6e2NvbG9yOkxnfSx5ZWFyTGFiZWw6e2NvbG9yOkxnfX0sdGltZUF4aXM6T2coKSxsb2dBeGlzOk9nKCksdmFsdWVBeGlzOk9nKCksY2F0ZWdvcnlBeGlzOk9nKCksbGluZTp7c3ltYm9sOiJjaXJjbGUifSxncmFwaDp7Y29sb3I6Umd9LGdhdWdlOnt0aXRsZTp7Y29sb3I6TGd9LGF4aXNMaW5lOntsaW5lU3R5bGU6e2NvbG9yOltbMSwicmdiYSgyMDcsMjEyLDIxOSwwLjIpIl1dfX0sYXhpc0xhYmVsOntjb2xvcjpMZ30sZGV0YWlsOntjb2xvcjoiI0VFRjFGQSJ9fSxjYW5kbGVzdGljazp7aXRlbVN0eWxlOntjb2xvcjoiI2Y2NGU1NiIsY29sb3IwOiIjNTRlYTkyIixib3JkZXJDb2xvcjoiI2Y2NGU1NiIsYm9yZGVyQ29sb3IwOiIjNTRlYTkyIn19fTtOZy5jYXRlZ29yeUF4aXMuc3BsaXRMaW5lLnNob3c9ITE7dmFyIHpnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUubm9ybWFsaXplUXVlcnk9ZnVuY3Rpb24odCl7dmFyIGU9e30sbj17fSxpPXt9O2lmKFcodCkpe3ZhciByPVlyKHQpO2UubWFpblR5cGU9ci5tYWlufHxudWxsLGUuc3ViVHlwZT1yLnN1Ynx8bnVsbH1lbHNle3ZhciBvPVsiSW5kZXgiLCJOYW1lIiwiSWQiXSxhPXtuYW1lOjEsZGF0YUluZGV4OjEsZGF0YVR5cGU6MX07Tyh0LChmdW5jdGlvbih0LHIpe2Zvcih2YXIgcz0hMSxsPTA7bDxvLmxlbmd0aDtsKyspe3ZhciB1PW9bbF0saD1yLmxhc3RJbmRleE9mKHUpO2lmKGg+MCYmaD09PXIubGVuZ3RoLXUubGVuZ3RoKXt2YXIgYz1yLnNsaWNlKDAsaCk7ImRhdGEiIT09YyYmKGUubWFpblR5cGU9YyxlW3UudG9Mb3dlckNhc2UoKV09dCxzPSEwKX19YS5oYXNPd25Qcm9wZXJ0eShyKSYmKG5bcl09dCxzPSEwKSxzfHwoaVtyXT10KX0pKX1yZXR1cm57Y3B0UXVlcnk6ZSxkYXRhUXVlcnk6bixvdGhlclF1ZXJ5Oml9fSx0LnByb3RvdHlwZS5maWx0ZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmV2ZW50SW5mbztpZighbilyZXR1cm4hMDt2YXIgaT1uLnRhcmdldEVsLHI9bi5wYWNrZWRFdmVudCxvPW4ubW9kZWwsYT1uLnZpZXc7aWYoIW98fCFhKXJldHVybiEwO3ZhciBzPWUuY3B0UXVlcnksbD1lLmRhdGFRdWVyeTtyZXR1cm4gdShzLG8sIm1haW5UeXBlIikmJnUocyxvLCJzdWJUeXBlIikmJnUocyxvLCJpbmRleCIsImNvbXBvbmVudEluZGV4IikmJnUocyxvLCJuYW1lIikmJnUocyxvLCJpZCIpJiZ1KGwsciwibmFtZSIpJiZ1KGwsciwiZGF0YUluZGV4IikmJnUobCxyLCJkYXRhVHlwZSIpJiYoIWEuZmlsdGVyRm9yRXhwb3NlZEV2ZW50fHxhLmZpbHRlckZvckV4cG9zZWRFdmVudCh0LGUub3RoZXJRdWVyeSxpLHIpKTtmdW5jdGlvbiB1KHQsZSxuLGkpe3JldHVybiBudWxsPT10W25dfHxlW2l8fG5dPT09dFtuXX19LHQucHJvdG90eXBlLmFmdGVyVHJpZ2dlcj1mdW5jdGlvbigpe3RoaXMuZXZlbnRJbmZvPW51bGx9LHR9KCksRWc9e2NyZWF0ZU9uQWxsU2VyaWVzOiEwLHBlcmZvcm1SYXdTZXJpZXM6ITAscmVzZXQ6ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldERhdGEoKTtpZih0LmxlZ2VuZEljb24mJm4uc2V0VmlzdWFsKCJsZWdlbmRJY29uIix0LmxlZ2VuZEljb24pLHQuaGFzU3ltYm9sVmlzdWFsKXt2YXIgaT10LmdldCgic3ltYm9sIikscj10LmdldCgic3ltYm9sU2l6ZSIpLG89dC5nZXQoInN5bWJvbEtlZXBBc3BlY3QiKSxhPXQuZ2V0KCJzeW1ib2xSb3RhdGUiKSxzPXQuZ2V0KCJzeW1ib2xPZmZzZXQiKSxsPUgoaSksdT1IKHIpLGg9SChhKSxjPUgocykscD1sfHx1fHxofHxjLGQ9IWwmJmk/aTp0LmRlZmF1bHRTeW1ib2wsZj11P251bGw6cixnPWg/bnVsbDphLHk9Yz9udWxsOnM7aWYobi5zZXRWaXN1YWwoe2xlZ2VuZEljb246dC5sZWdlbmRJY29ufHxkLHN5bWJvbDpkLHN5bWJvbFNpemU6ZixzeW1ib2xLZWVwQXNwZWN0Om8sc3ltYm9sUm90YXRlOmcsc3ltYm9sT2Zmc2V0Onl9KSwhZS5pc1Nlcmllc0ZpbHRlcmVkKHQpKXJldHVybntkYXRhRWFjaDpwP2Z1bmN0aW9uKGUsbil7dmFyIG89dC5nZXRSYXdWYWx1ZShuKSxwPXQuZ2V0RGF0YVBhcmFtcyhuKTtsJiZlLnNldEl0ZW1WaXN1YWwobiwic3ltYm9sIixpKG8scCkpLHUmJmUuc2V0SXRlbVZpc3VhbChuLCJzeW1ib2xTaXplIixyKG8scCkpLGgmJmUuc2V0SXRlbVZpc3VhbChuLCJzeW1ib2xSb3RhdGUiLGEobyxwKSksYyYmZS5zZXRJdGVtVmlzdWFsKG4sInN5bWJvbE9mZnNldCIscyhvLHApKX06bnVsbH19fX07ZnVuY3Rpb24gVmcodCxlLG4pe3N3aXRjaChuKXtjYXNlImNvbG9yIjpyZXR1cm4gdC5nZXRJdGVtVmlzdWFsKGUsInN0eWxlIilbdC5nZXRWaXN1YWwoImRyYXdUeXBlIildO2Nhc2Uib3BhY2l0eSI6cmV0dXJuIHQuZ2V0SXRlbVZpc3VhbChlLCJzdHlsZSIpLm9wYWNpdHk7Y2FzZSJzeW1ib2wiOmNhc2Uic3ltYm9sU2l6ZSI6Y2FzZSJsaWZ0WiI6cmV0dXJuIHQuZ2V0SXRlbVZpc3VhbChlLG4pO2RlZmF1bHQ6MH19ZnVuY3Rpb24gQmcodCxlKXtzd2l0Y2goZSl7Y2FzZSJjb2xvciI6cmV0dXJuIHQuZ2V0VmlzdWFsKCJzdHlsZSIpW3QuZ2V0VmlzdWFsKCJkcmF3VHlwZSIpXTtjYXNlIm9wYWNpdHkiOnJldHVybiB0LmdldFZpc3VhbCgic3R5bGUiKS5vcGFjaXR5O2Nhc2Uic3ltYm9sIjpjYXNlInN5bWJvbFNpemUiOmNhc2UibGlmdFoiOnJldHVybiB0LmdldFZpc3VhbChlKTtkZWZhdWx0OjB9fWZ1bmN0aW9uIEdnKHQsZSxuLGkpe3N3aXRjaChuKXtjYXNlImNvbG9yIjp0LmVuc3VyZVVuaXF1ZUl0ZW1WaXN1YWwoZSwic3R5bGUiKVt0LmdldFZpc3VhbCgiZHJhd1R5cGUiKV09aSx0LnNldEl0ZW1WaXN1YWwoZSwiY29sb3JGcm9tUGFsZXR0ZSIsITEpO2JyZWFrO2Nhc2Uib3BhY2l0eSI6dC5lbnN1cmVVbmlxdWVJdGVtVmlzdWFsKGUsInN0eWxlIikub3BhY2l0eT1pO2JyZWFrO2Nhc2Uic3ltYm9sIjpjYXNlInN5bWJvbFNpemUiOmNhc2UibGlmdFoiOnQuc2V0SXRlbVZpc3VhbChlLG4saSk7YnJlYWs7ZGVmYXVsdDowfX1mdW5jdGlvbiBGZyh0LGUpe2Z1bmN0aW9uIG4oZSxuKXt2YXIgaT1bXTtyZXR1cm4gZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToic2VyaWVzIixzdWJUeXBlOnQscXVlcnk6bn0sKGZ1bmN0aW9uKHQpe2kucHVzaCh0LnNlcmllc0luZGV4KX0pKSxpfU8oW1t0KyJUb2dnbGVTZWxlY3QiLCJ0b2dnbGVTZWxlY3QiXSxbdCsiU2VsZWN0Iiwic2VsZWN0Il0sW3QrIlVuU2VsZWN0IiwidW5zZWxlY3QiXV0sKGZ1bmN0aW9uKHQpe2UodFswXSwoZnVuY3Rpb24oZSxpLHIpe2U9VCh7fSxlKSxyLmRpc3BhdGNoQWN0aW9uKFQoZSx7dHlwZTp0WzFdLHNlcmllc0luZGV4Om4oaSxlKX0pKX0pKX0pKX1mdW5jdGlvbiBIZyh0LGUsbixpLHIpe3ZhciBvPXQrZTtuLmlzU2lsZW50KG8pfHxpLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJzZXJpZXMiLHN1YlR5cGU6InBpZSJ9LChmdW5jdGlvbih0KXtmb3IodmFyIGU9dC5zZXJpZXNJbmRleCxpPXIuc2VsZWN0ZWQsYT0wO2E8aS5sZW5ndGg7YSsrKWlmKGlbYV0uc2VyaWVzSW5kZXg9PT1lKXt2YXIgcz10LmdldERhdGEoKSxsPU9yKHMsci5mcm9tQWN0aW9uUGF5bG9hZCk7bi50cmlnZ2VyKG8se3R5cGU6byxzZXJpZXNJZDp0LmlkLG5hbWU6RihsKT9zLmdldE5hbWUobFswXSk6cy5nZXROYW1lKGwpLHNlbGVjdGVkOlQoe30sdC5vcHRpb24uc2VsZWN0ZWRNYXApfSl9fSkpfWZ1bmN0aW9uIFdnKHQsZSxuKXtmb3IodmFyIGk7dCYmKCFlKHQpfHwoaT10LCFuKSk7KXQ9dC5fX2hvc3RUYXJnZXR8fHQucGFyZW50O3JldHVybiBpfXZhciBVZz1NYXRoLnJvdW5kKDkqTWF0aC5yYW5kb20oKSksWGc9ImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSxZZz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9pZD0iX19lY19pbm5lcl8iK1VnKyt9cmV0dXJuIHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZ3VhcmQodClbdGhpcy5faWRdfSx0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9ndWFyZCh0KTtyZXR1cm4gWGc/T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sdGhpcy5faWQse3ZhbHVlOmUsZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KTpuW3RoaXMuX2lkXT1lLHRoaXN9LHQucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMuaGFzKHQpJiYoZGVsZXRlIHRoaXMuX2d1YXJkKHQpW3RoaXMuX2lkXSwhMCl9LHQucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMuX2d1YXJkKHQpW3RoaXMuX2lkXX0sdC5wcm90b3R5cGUuX2d1YXJkPWZ1bmN0aW9uKHQpe2lmKHQhPT1PYmplY3QodCkpdGhyb3cgVHlwZUVycm9yKCJWYWx1ZSBvZiBXZWFrTWFwIGlzIG5vdCBhIG5vbi1udWxsIG9iamVjdC4iKTtyZXR1cm4gdH0sdH0oKSxaZz1RYS5leHRlbmQoe3R5cGU6InRyaWFuZ2xlIixzaGFwZTp7Y3g6MCxjeTowLHdpZHRoOjAsaGVpZ2h0OjB9LGJ1aWxkUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBuPWUuY3gsaT1lLmN5LHI9ZS53aWR0aC8yLG89ZS5oZWlnaHQvMjt0Lm1vdmVUbyhuLGktbyksdC5saW5lVG8obityLGkrbyksdC5saW5lVG8obi1yLGkrbyksdC5jbG9zZVBhdGgoKX19KSxqZz1RYS5leHRlbmQoe3R5cGU6ImRpYW1vbmQiLHNoYXBlOntjeDowLGN5OjAsd2lkdGg6MCxoZWlnaHQ6MH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5jeCxpPWUuY3kscj1lLndpZHRoLzIsbz1lLmhlaWdodC8yO3QubW92ZVRvKG4saS1vKSx0LmxpbmVUbyhuK3IsaSksdC5saW5lVG8obixpK28pLHQubGluZVRvKG4tcixpKSx0LmNsb3NlUGF0aCgpfX0pLHFnPVFhLmV4dGVuZCh7dHlwZToicGluIixzaGFwZTp7eDowLHk6MCx3aWR0aDowLGhlaWdodDowfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLngsaT1lLnkscj1lLndpZHRoLzUqMyxvPU1hdGgubWF4KHIsZS5oZWlnaHQpLGE9ci8yLHM9YSphLyhvLWEpLGw9aS1vK2Ercyx1PU1hdGguYXNpbihzL2EpLGg9TWF0aC5jb3ModSkqYSxjPU1hdGguc2luKHUpLHA9TWF0aC5jb3ModSksZD0uNiphLGY9LjcqYTt0Lm1vdmVUbyhuLWgsbCtzKSx0LmFyYyhuLGwsYSxNYXRoLlBJLXUsMipNYXRoLlBJK3UpLHQuYmV6aWVyQ3VydmVUbyhuK2gtYypkLGwrcytwKmQsbixpLWYsbixpKSx0LmJlemllckN1cnZlVG8obixpLWYsbi1oK2MqZCxsK3MrcCpkLG4taCxsK3MpLHQuY2xvc2VQYXRoKCl9fSksS2c9UWEuZXh0ZW5kKHt0eXBlOiJhcnJvdyIsc2hhcGU6e3g6MCx5OjAsd2lkdGg6MCxoZWlnaHQ6MH0sYnVpbGRQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5oZWlnaHQsaT1lLndpZHRoLHI9ZS54LG89ZS55LGE9aS8zKjI7dC5tb3ZlVG8ocixvKSx0LmxpbmVUbyhyK2EsbytuKSx0LmxpbmVUbyhyLG8rbi80KjMpLHQubGluZVRvKHItYSxvK24pLHQubGluZVRvKHIsbyksdC5jbG9zZVBhdGgoKX19KSwkZz17bGluZTpmdW5jdGlvbih0LGUsbixpLHIpe3IueDE9dCxyLnkxPWUraS8yLHIueDI9dCtuLHIueTI9ZStpLzJ9LHJlY3Q6ZnVuY3Rpb24odCxlLG4saSxyKXtyLng9dCxyLnk9ZSxyLndpZHRoPW4sci5oZWlnaHQ9aX0scm91bmRSZWN0OmZ1bmN0aW9uKHQsZSxuLGkscil7ci54PXQsci55PWUsci53aWR0aD1uLHIuaGVpZ2h0PWksci5yPU1hdGgubWluKG4saSkvNH0sc3F1YXJlOmZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89TWF0aC5taW4obixpKTtyLng9dCxyLnk9ZSxyLndpZHRoPW8sci5oZWlnaHQ9b30sY2lyY2xlOmZ1bmN0aW9uKHQsZSxuLGkscil7ci5jeD10K24vMixyLmN5PWUraS8yLHIucj1NYXRoLm1pbihuLGkpLzJ9LGRpYW1vbmQ6ZnVuY3Rpb24odCxlLG4saSxyKXtyLmN4PXQrbi8yLHIuY3k9ZStpLzIsci53aWR0aD1uLHIuaGVpZ2h0PWl9LHBpbjpmdW5jdGlvbih0LGUsbixpLHIpe3IueD10K24vMixyLnk9ZStpLzIsci53aWR0aD1uLHIuaGVpZ2h0PWl9LGFycm93OmZ1bmN0aW9uKHQsZSxuLGkscil7ci54PXQrbi8yLHIueT1lK2kvMixyLndpZHRoPW4sci5oZWlnaHQ9aX0sdHJpYW5nbGU6ZnVuY3Rpb24odCxlLG4saSxyKXtyLmN4PXQrbi8yLHIuY3k9ZStpLzIsci53aWR0aD1uLHIuaGVpZ2h0PWl9fSxKZz17fTtPKHtsaW5lOnl1LHJlY3Q6Y3Mscm91bmRSZWN0OmNzLHNxdWFyZTpjcyxjaXJjbGU6SGwsZGlhbW9uZDpqZyxwaW46cWcsYXJyb3c6S2csdHJpYW5nbGU6Wmd9LChmdW5jdGlvbih0LGUpe0pnW2VdPW5ldyB0fSkpO3ZhciBRZz1RYS5leHRlbmQoe3R5cGU6InN5bWJvbCIsc2hhcGU6e3N5bWJvbFR5cGU6IiIseDowLHk6MCx3aWR0aDowLGhlaWdodDowfSxjYWxjdWxhdGVUZXh0UG9zaXRpb246ZnVuY3Rpb24odCxlLG4pe3ZhciBpPURpKHQsZSxuKSxyPXRoaXMuc2hhcGU7cmV0dXJuIHImJiJwaW4iPT09ci5zeW1ib2xUeXBlJiYiaW5zaWRlIj09PWUucG9zaXRpb24mJihpLnk9bi55Ky40Km4uaGVpZ2h0KSxpfSxidWlsZFBhdGg6ZnVuY3Rpb24odCxlLG4pe3ZhciBpPWUuc3ltYm9sVHlwZTtpZigibm9uZSIhPT1pKXt2YXIgcj1KZ1tpXTtyfHwocj1KZ1tpPSJyZWN0Il0pLCRnW2ldKGUueCxlLnksZS53aWR0aCxlLmhlaWdodCxyLnNoYXBlKSxyLmJ1aWxkUGF0aCh0LHIuc2hhcGUsbil9fX0pO2Z1bmN0aW9uIHR5KHQsZSl7aWYoImltYWdlIiE9PXRoaXMudHlwZSl7dmFyIG49dGhpcy5zdHlsZTt0aGlzLl9faXNFbXB0eUJydXNoPyhuLnN0cm9rZT10LG4uZmlsbD1lfHwiI2ZmZiIsbi5saW5lV2lkdGg9Mik6ImxpbmUiPT09dGhpcy5zaGFwZS5zeW1ib2xUeXBlP24uc3Ryb2tlPXQ6bi5maWxsPXQsdGhpcy5tYXJrUmVkcmF3KCl9fWZ1bmN0aW9uIGV5KHQsZSxuLGkscixvLGEpe3ZhciBzLGw9MD09PXQuaW5kZXhPZigiZW1wdHkiKTtyZXR1cm4gbCYmKHQ9dC5zdWJzdHIoNSwxKS50b0xvd2VyQ2FzZSgpK3Quc3Vic3RyKDYpKSwocz0wPT09dC5pbmRleE9mKCJpbWFnZTovLyIpP1F1KHQuc2xpY2UoOCksbmV3IHZpKGUsbixpLHIpLGE/ImNlbnRlciI6ImNvdmVyIik6MD09PXQuaW5kZXhPZigicGF0aDovLyIpP0p1KHQuc2xpY2UoNykse30sbmV3IHZpKGUsbixpLHIpLGE/ImNlbnRlciI6ImNvdmVyIik6bmV3IFFnKHtzaGFwZTp7c3ltYm9sVHlwZTp0LHg6ZSx5Om4sd2lkdGg6aSxoZWlnaHQ6cn19KSkuX19pc0VtcHR5QnJ1c2g9bCxzLnNldENvbG9yPXR5LG8mJnMuc2V0Q29sb3Iobyksc31mdW5jdGlvbiBueSh0KXtyZXR1cm4gRih0KXx8KHQ9Wyt0LCt0XSksW3RbMF18fDAsdFsxXXx8MF19ZnVuY3Rpb24gaXkodCxlKXtpZihudWxsIT10KXJldHVybiBGKHQpfHwodD1bdCx0XSksW3FpKHRbMF0sZVswXSl8fDAscWkoZXQodFsxXSx0WzBdKSxlWzFdKXx8MF19ZnVuY3Rpb24gcnkodCxlLG4pe2Zvcih2YXIgaT0icmFkaWFsIj09PWUudHlwZT9mdW5jdGlvbih0LGUsbil7dmFyIGk9bi53aWR0aCxyPW4uaGVpZ2h0LG89TWF0aC5taW4oaSxyKSxhPW51bGw9PWUueD8uNTplLngscz1udWxsPT1lLnk/LjU6ZS55LGw9bnVsbD09ZS5yPy41OmUucjtyZXR1cm4gZS5nbG9iYWx8fChhPWEqaStuLngscz1zKnIrbi55LGwqPW8pLHQuY3JlYXRlUmFkaWFsR3JhZGllbnQoYSxzLDAsYSxzLGwpfSh0LGUsbik6ZnVuY3Rpb24odCxlLG4pe3ZhciBpPW51bGw9PWUueD8wOmUueCxyPW51bGw9PWUueDI/MTplLngyLG89bnVsbD09ZS55PzA6ZS55LGE9bnVsbD09ZS55Mj8wOmUueTI7cmV0dXJuIGUuZ2xvYmFsfHwoaT1pKm4ud2lkdGgrbi54LHI9cipuLndpZHRoK24ueCxvPW8qbi5oZWlnaHQrbi55LGE9YSpuLmhlaWdodCtuLnkpLGk9aXNOYU4oaSk/MDppLHI9aXNOYU4ocik/MTpyLG89aXNOYU4obyk/MDpvLGE9aXNOYU4oYSk/MDphLHQuY3JlYXRlTGluZWFyR3JhZGllbnQoaSxvLHIsYSl9KHQsZSxuKSxyPWUuY29sb3JTdG9wcyxvPTA7bzxyLmxlbmd0aDtvKyspaS5hZGRDb2xvclN0b3AocltvXS5vZmZzZXQscltvXS5jb2xvcik7cmV0dXJuIGl9ZnVuY3Rpb24gb3kodCxlKXtpZih0PT09ZXx8IXQmJiFlKXJldHVybiExO2lmKCF0fHwhZXx8dC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMDtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylpZih0W25dIT09ZVtuXSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBheSh0LGUpe3JldHVybiB0JiYic29saWQiIT09dCYmZT4wPyhlPWV8fDEsImRhc2hlZCI9PT10P1s0KmUsMiplXToiZG90dGVkIj09PXQ/W2VdOlgodCk/W3RdOkYodCk/dDpudWxsKTpudWxsfXZhciBzeT1uZXcgT2EoITApO2Z1bmN0aW9uIGx5KHQpe3ZhciBlPXQuc3Ryb2tlO3JldHVybiEobnVsbD09ZXx8Im5vbmUiPT09ZXx8ISh0LmxpbmVXaWR0aD4wKSl9ZnVuY3Rpb24gdXkodCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0JiYibm9uZSIhPT10fWZ1bmN0aW9uIGh5KHQpe3ZhciBlPXQuZmlsbDtyZXR1cm4gbnVsbCE9ZSYmIm5vbmUiIT09ZX1mdW5jdGlvbiBjeSh0LGUpe2lmKG51bGwhPWUuZmlsbE9wYWNpdHkmJjEhPT1lLmZpbGxPcGFjaXR5KXt2YXIgbj10Lmdsb2JhbEFscGhhO3QuZ2xvYmFsQWxwaGE9ZS5maWxsT3BhY2l0eSplLm9wYWNpdHksdC5maWxsKCksdC5nbG9iYWxBbHBoYT1ufWVsc2UgdC5maWxsKCl9ZnVuY3Rpb24gcHkodCxlKXtpZihudWxsIT1lLnN0cm9rZU9wYWNpdHkmJjEhPT1lLnN0cm9rZU9wYWNpdHkpe3ZhciBuPXQuZ2xvYmFsQWxwaGE7dC5nbG9iYWxBbHBoYT1lLnN0cm9rZU9wYWNpdHkqZS5vcGFjaXR5LHQuc3Ryb2tlKCksdC5nbG9iYWxBbHBoYT1ufWVsc2UgdC5zdHJva2UoKX1mdW5jdGlvbiBkeSh0LGUsbil7dmFyIGk9b28oZS5pbWFnZSxlLl9faW1hZ2Usbik7aWYoc28oaSkpe3ZhciByPXQuY3JlYXRlUGF0dGVybihpLGUucmVwZWF0fHwicmVwZWF0Iik7aWYoImZ1bmN0aW9uIj09dHlwZW9mIERPTU1hdHJpeCYmci5zZXRUcmFuc2Zvcm0pe3ZhciBvPW5ldyBET01NYXRyaXg7by5yb3RhdGVTZWxmKDAsMCwoZS5yb3RhdGlvbnx8MCkvTWF0aC5QSSoxODApLG8uc2NhbGVTZWxmKGUuc2NhbGVYfHwxLGUuc2NhbGVZfHwxKSxvLnRyYW5zbGF0ZVNlbGYoZS54fHwwLGUueXx8MCksci5zZXRUcmFuc2Zvcm0obyl9cmV0dXJuIHJ9fXZhciBmeT1bInNoYWRvd0JsdXIiLCJzaGFkb3dPZmZzZXRYIiwic2hhZG93T2Zmc2V0WSJdLGd5PVtbImxpbmVDYXAiLCJidXR0Il0sWyJsaW5lSm9pbiIsIm1pdGVyIl0sWyJtaXRlckxpbWl0IiwxMF1dO2Z1bmN0aW9uIHl5KHQsZSxuLGkscil7dmFyIG89ITE7aWYoIWkmJmU9PT0obj1ufHx7fSkpcmV0dXJuITE7aWYoaXx8ZS5vcGFjaXR5IT09bi5vcGFjaXR5KXtvfHwoX3kodCxyKSxvPSEwKTt2YXIgYT1NYXRoLm1heChNYXRoLm1pbihlLm9wYWNpdHksMSksMCk7dC5nbG9iYWxBbHBoYT1pc05hTihhKT93by5vcGFjaXR5OmF9KGl8fGUuYmxlbmQhPT1uLmJsZW5kKSYmKG98fChfeSh0LHIpLG89ITApLHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPWUuYmxlbmR8fHdvLmJsZW5kKTtmb3IodmFyIHM9MDtzPGZ5Lmxlbmd0aDtzKyspe3ZhciBsPWZ5W3NdOyhpfHxlW2xdIT09bltsXSkmJihvfHwoX3kodCxyKSxvPSEwKSx0W2xdPXQuZHByKihlW2xdfHwwKSl9cmV0dXJuKGl8fGUuc2hhZG93Q29sb3IhPT1uLnNoYWRvd0NvbG9yKSYmKG98fChfeSh0LHIpLG89ITApLHQuc2hhZG93Q29sb3I9ZS5zaGFkb3dDb2xvcnx8d28uc2hhZG93Q29sb3IpLG99ZnVuY3Rpb24gdnkodCxlLG4saSxyKXt2YXIgbz14eShlLHIuaW5Ib3ZlciksYT1pP251bGw6biYmeHkobixyLmluSG92ZXIpfHx7fTtpZihvPT09YSlyZXR1cm4hMTt2YXIgcz15eSh0LG8sYSxpLHIpO2lmKChpfHxvLmZpbGwhPT1hLmZpbGwpJiYoc3x8KF95KHQscikscz0hMCksdXkoby5maWxsKSYmKHQuZmlsbFN0eWxlPW8uZmlsbCkpLChpfHxvLnN0cm9rZSE9PWEuc3Ryb2tlKSYmKHN8fChfeSh0LHIpLHM9ITApLHV5KG8uc3Ryb2tlKSYmKHQuc3Ryb2tlU3R5bGU9by5zdHJva2UpKSwoaXx8by5vcGFjaXR5IT09YS5vcGFjaXR5KSYmKHN8fChfeSh0LHIpLHM9ITApLHQuZ2xvYmFsQWxwaGE9bnVsbD09by5vcGFjaXR5PzE6by5vcGFjaXR5KSxlLmhhc1N0cm9rZSgpKXt2YXIgbD1vLmxpbmVXaWR0aC8oby5zdHJva2VOb1NjYWxlJiZlJiZlLmdldExpbmVTY2FsZT9lLmdldExpbmVTY2FsZSgpOjEpO3QubGluZVdpZHRoIT09bCYmKHN8fChfeSh0LHIpLHM9ITApLHQubGluZVdpZHRoPWwpfWZvcih2YXIgdT0wO3U8Z3kubGVuZ3RoO3UrKyl7dmFyIGg9Z3lbdV0sYz1oWzBdOyhpfHxvW2NdIT09YVtjXSkmJihzfHwoX3kodCxyKSxzPSEwKSx0W2NdPW9bY118fGhbMV0pfXJldHVybiBzfWZ1bmN0aW9uIG15KHQsZSl7dmFyIG49ZS50cmFuc2Zvcm0saT10LmRwcnx8MTtuP3Quc2V0VHJhbnNmb3JtKGkqblswXSxpKm5bMV0saSpuWzJdLGkqblszXSxpKm5bNF0saSpuWzVdKTp0LnNldFRyYW5zZm9ybShpLDAsMCxpLDAsMCl9ZnVuY3Rpb24gX3kodCxlKXtlLmJhdGNoRmlsbCYmdC5maWxsKCksZS5iYXRjaFN0cm9rZSYmdC5zdHJva2UoKSxlLmJhdGNoRmlsbD0iIixlLmJhdGNoU3Ryb2tlPSIifWZ1bmN0aW9uIHh5KHQsZSl7cmV0dXJuIGUmJnQuX19ob3ZlclN0eWxlfHx0LnN0eWxlfWZ1bmN0aW9uIGJ5KHQsZSl7d3kodCxlLHtpbkhvdmVyOiExLHZpZXdXaWR0aDowLHZpZXdIZWlnaHQ6MH0sITApfWZ1bmN0aW9uIHd5KHQsZSxuLGkpe3ZhciByPWUudHJhbnNmb3JtO2lmKCFlLnNob3VsZEJlUGFpbnRlZChuLnZpZXdXaWR0aCxuLnZpZXdIZWlnaHQsITEsITEpKXJldHVybiBlLl9fZGlydHkmPS0yLHZvaWQoZS5fX2lzUmVuZGVyZWQ9ITEpO3ZhciBvPWUuX19jbGlwUGF0aHMsYT1uLnByZXZFbENsaXBQYXRocyxzPSExLGw9ITE7aWYoYSYmIW95KG8sYSl8fChhJiZhLmxlbmd0aCYmKF95KHQsbiksdC5yZXN0b3JlKCksbD1zPSEwLG4ucHJldkVsQ2xpcFBhdGhzPW51bGwsbi5hbGxDbGlwcGVkPSExLG4ucHJldkVsPW51bGwpLG8mJm8ubGVuZ3RoJiYoX3kodCxuKSx0LnNhdmUoKSxmdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPSExLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTtpPWl8fG8uaXNaZXJvQXJlYSgpLG15KGUsbyksZS5iZWdpblBhdGgoKSxvLmJ1aWxkUGF0aChlLG8uc2hhcGUpLGUuY2xpcCgpfW4uYWxsQ2xpcHBlZD1pfShvLHQsbikscz0hMCksbi5wcmV2RWxDbGlwUGF0aHM9byksbi5hbGxDbGlwcGVkKWUuX19pc1JlbmRlcmVkPSExO2Vsc2V7ZS5iZWZvcmVCcnVzaCYmZS5iZWZvcmVCcnVzaCgpLGUuaW5uZXJCZWZvcmVCcnVzaCgpO3ZhciB1PW4ucHJldkVsO3V8fChsPXM9ITApO3ZhciBoLGMscD1lIGluc3RhbmNlb2YgUWEmJmUuYXV0b0JhdGNoJiZmdW5jdGlvbih0KXt2YXIgZT1oeSh0KSxuPWx5KHQpO3JldHVybiEodC5saW5lRGFzaHx8ISgrZV4rbil8fGUmJiJzdHJpbmciIT10eXBlb2YgdC5maWxsfHxuJiYic3RyaW5nIiE9dHlwZW9mIHQuc3Ryb2tlfHx0LnN0cm9rZVBlcmNlbnQ8MXx8dC5zdHJva2VPcGFjaXR5PDF8fHQuZmlsbE9wYWNpdHk8MSl9KGUuc3R5bGUpO3N8fChoPXIsYz11LnRyYW5zZm9ybSxoJiZjP2hbMF0hPT1jWzBdfHxoWzFdIT09Y1sxXXx8aFsyXSE9PWNbMl18fGhbM10hPT1jWzNdfHxoWzRdIT09Y1s0XXx8aFs1XSE9PWNbNV06aHx8Yyk/KF95KHQsbiksbXkodCxlKSk6cHx8X3kodCxuKTt2YXIgZD14eShlLG4uaW5Ib3Zlcik7ZSBpbnN0YW5jZW9mIFFhPygxIT09bi5sYXN0RHJhd1R5cGUmJihsPSEwLG4ubGFzdERyYXdUeXBlPTEpLHZ5KHQsZSx1LGwsbikscCYmKG4uYmF0Y2hGaWxsfHxuLmJhdGNoU3Ryb2tlKXx8dC5iZWdpblBhdGgoKSxmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1seShuKSxvPWh5KG4pLGE9bi5zdHJva2VQZXJjZW50LHM9YTwxLGw9IWUucGF0aDtlLnNpbGVudCYmIXN8fCFsfHxlLmNyZWF0ZVBhdGhQcm94eSgpO3ZhciB1PWUucGF0aHx8c3k7aWYoIWkpe3ZhciBoPW4uZmlsbCxjPW4uc3Ryb2tlLHA9byYmISFoLmNvbG9yU3RvcHMsZD1yJiYhIWMuY29sb3JTdG9wcyxmPW8mJiEhaC5pbWFnZSxnPXImJiEhYy5pbWFnZSx5PXZvaWQgMCx2PXZvaWQgMCxtPXZvaWQgMCxfPXZvaWQgMCx4PXZvaWQgMDsocHx8ZCkmJih4PWUuZ2V0Qm91bmRpbmdSZWN0KCkpLHAmJih5PWUuX19kaXJ0eT9yeSh0LGgseCk6ZS5fX2NhbnZhc0ZpbGxHcmFkaWVudCxlLl9fY2FudmFzRmlsbEdyYWRpZW50PXkpLGQmJih2PWUuX19kaXJ0eT9yeSh0LGMseCk6ZS5fX2NhbnZhc1N0cm9rZUdyYWRpZW50LGUuX19jYW52YXNTdHJva2VHcmFkaWVudD12KSxmJiYobT1lLl9fZGlydHl8fCFlLl9fY2FudmFzRmlsbFBhdHRlcm4/ZHkodCxoLGUpOmUuX19jYW52YXNGaWxsUGF0dGVybixlLl9fY2FudmFzRmlsbFBhdHRlcm49bSksZyYmKF89ZS5fX2RpcnR5fHwhZS5fX2NhbnZhc1N0cm9rZVBhdHRlcm4/ZHkodCxjLGUpOmUuX19jYW52YXNTdHJva2VQYXR0ZXJuLGUuX19jYW52YXNTdHJva2VQYXR0ZXJuPW0pLHA/dC5maWxsU3R5bGU9eTpmJiYobT90LmZpbGxTdHlsZT1tOm89ITEpLGQ/dC5zdHJva2VTdHlsZT12OmcmJihfP3Quc3Ryb2tlU3R5bGU9XzpyPSExKX12YXIgYj1uLmxpbmVEYXNoJiZuLmxpbmVXaWR0aD4wJiZheShuLmxpbmVEYXNoLG4ubGluZVdpZHRoKSx3PW4ubGluZURhc2hPZmZzZXQsUz0hIXQuc2V0TGluZURhc2gsTT1lLmdldEdsb2JhbFNjYWxlKCk7aWYodS5zZXRTY2FsZShNWzBdLE1bMV0sZS5zZWdtZW50SWdub3JlVGhyZXNob2xkKSxiKXt2YXIgST1uLnN0cm9rZU5vU2NhbGUmJmUuZ2V0TGluZVNjYWxlP2UuZ2V0TGluZVNjYWxlKCk6MTtJJiYxIT09SSYmKGI9UihiLChmdW5jdGlvbih0KXtyZXR1cm4gdC9JfSkpLHcvPUkpfXZhciBUPSEwOyhsfHw0JmUuX19kaXJ0eXx8YiYmIVMmJnIpJiYodS5zZXREUFIodC5kcHIpLHM/dS5zZXRDb250ZXh0KG51bGwpOih1LnNldENvbnRleHQodCksVD0hMSksdS5yZXNldCgpLGImJiFTJiYodS5zZXRMaW5lRGFzaChiKSx1LnNldExpbmVEYXNoT2Zmc2V0KHcpKSxlLmJ1aWxkUGF0aCh1LGUuc2hhcGUsaSksdS50b1N0YXRpYygpLGUucGF0aFVwZGF0ZWQoKSksVCYmdS5yZWJ1aWxkUGF0aCh0LHM/YToxKSxiJiZTJiYodC5zZXRMaW5lRGFzaChiKSx0LmxpbmVEYXNoT2Zmc2V0PXcpLGl8fChuLnN0cm9rZUZpcnN0PyhyJiZweSh0LG4pLG8mJmN5KHQsbikpOihvJiZjeSh0LG4pLHImJnB5KHQsbikpKSxiJiZTJiZ0LnNldExpbmVEYXNoKFtdKX0odCxlLGQscCkscCYmKG4uYmF0Y2hGaWxsPWQuZmlsbHx8IiIsbi5iYXRjaFN0cm9rZT1kLnN0cm9rZXx8IiIpKTplIGluc3RhbmNlb2YgZXM/KDMhPT1uLmxhc3REcmF3VHlwZSYmKGw9ITAsbi5sYXN0RHJhd1R5cGU9MyksdnkodCxlLHUsbCxuKSxmdW5jdGlvbih0LGUsbil7dmFyIGk9bi50ZXh0O2lmKG51bGwhPWkmJihpKz0iIiksaSl7dC5mb250PW4uZm9udHx8X2ksdC50ZXh0QWxpZ249bi50ZXh0QWxpZ24sdC50ZXh0QmFzZWxpbmU9bi50ZXh0QmFzZWxpbmU7dmFyIHI9dm9pZCAwO2lmKHQuc2V0TGluZURhc2gpe3ZhciBvPW4ubGluZURhc2gmJm4ubGluZVdpZHRoPjAmJmF5KG4ubGluZURhc2gsbi5saW5lV2lkdGgpLGE9bi5saW5lRGFzaE9mZnNldDtpZihvKXt2YXIgcz1uLnN0cm9rZU5vU2NhbGUmJmUuZ2V0TGluZVNjYWxlP2UuZ2V0TGluZVNjYWxlKCk6MTtzJiYxIT09cyYmKG89UihvLChmdW5jdGlvbih0KXtyZXR1cm4gdC9zfSkpLGEvPXMpLHQuc2V0TGluZURhc2gobyksdC5saW5lRGFzaE9mZnNldD1hLHI9ITB9fW4uc3Ryb2tlRmlyc3Q/KGx5KG4pJiZ0LnN0cm9rZVRleHQoaSxuLngsbi55KSxoeShuKSYmdC5maWxsVGV4dChpLG4ueCxuLnkpKTooaHkobikmJnQuZmlsbFRleHQoaSxuLngsbi55KSxseShuKSYmdC5zdHJva2VUZXh0KGksbi54LG4ueSkpLHImJnQuc2V0TGluZURhc2goW10pfX0odCxlLGQpKTplIGluc3RhbmNlb2YgcnM/KDIhPT1uLmxhc3REcmF3VHlwZSYmKGw9ITAsbi5sYXN0RHJhd1R5cGU9MiksZnVuY3Rpb24odCxlLG4saSxyKXt5eSh0LHh5KGUsci5pbkhvdmVyKSxuJiZ4eShuLHIuaW5Ib3ZlciksaSxyKX0odCxlLHUsbCxuKSxmdW5jdGlvbih0LGUsbil7dmFyIGk9ZS5fX2ltYWdlPW9vKG4uaW1hZ2UsZS5fX2ltYWdlLGUsZS5vbmxvYWQpO2lmKGkmJnNvKGkpKXt2YXIgcj1uLnh8fDAsbz1uLnl8fDAsYT1lLmdldFdpZHRoKCkscz1lLmdldEhlaWdodCgpLGw9aS53aWR0aC9pLmhlaWdodDtpZihudWxsPT1hJiZudWxsIT1zP2E9cypsOm51bGw9PXMmJm51bGwhPWE/cz1hL2w6bnVsbD09YSYmbnVsbD09cyYmKGE9aS53aWR0aCxzPWkuaGVpZ2h0KSxuLnNXaWR0aCYmbi5zSGVpZ2h0KXt2YXIgdT1uLnN4fHwwLGg9bi5zeXx8MDt0LmRyYXdJbWFnZShpLHUsaCxuLnNXaWR0aCxuLnNIZWlnaHQscixvLGEscyl9ZWxzZSBpZihuLnN4JiZuLnN5KXt2YXIgYz1hLSh1PW4uc3gpLHA9cy0oaD1uLnN5KTt0LmRyYXdJbWFnZShpLHUsaCxjLHAscixvLGEscyl9ZWxzZSB0LmRyYXdJbWFnZShpLHIsbyxhLHMpfX0odCxlLGQpKTplIGluc3RhbmNlb2YgT3UmJig0IT09bi5sYXN0RHJhd1R5cGUmJihsPSEwLG4ubGFzdERyYXdUeXBlPTQpLGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1lLmdldERpc3BsYXlhYmxlcygpLHI9ZS5nZXRUZW1wb3JhbERpc3BsYXlhYmxlcygpO3Quc2F2ZSgpO3ZhciBvLGEscz17cHJldkVsQ2xpcFBhdGhzOm51bGwscHJldkVsOm51bGwsYWxsQ2xpcHBlZDohMSx2aWV3V2lkdGg6bi52aWV3V2lkdGgsdmlld0hlaWdodDpuLnZpZXdIZWlnaHQsaW5Ib3ZlcjpuLmluSG92ZXJ9O2ZvcihvPWUuZ2V0Q3Vyc29yKCksYT1pLmxlbmd0aDtvPGE7bysrKXsoaD1pW29dKS5iZWZvcmVCcnVzaCYmaC5iZWZvcmVCcnVzaCgpLGguaW5uZXJCZWZvcmVCcnVzaCgpLHd5KHQsaCxzLG89PT1hLTEpLGguaW5uZXJBZnRlckJydXNoKCksaC5hZnRlckJydXNoJiZoLmFmdGVyQnJ1c2goKSxzLnByZXZFbD1ofWZvcih2YXIgbD0wLHU9ci5sZW5ndGg7bDx1O2wrKyl7dmFyIGg7KGg9cltsXSkuYmVmb3JlQnJ1c2gmJmguYmVmb3JlQnJ1c2goKSxoLmlubmVyQmVmb3JlQnJ1c2goKSx3eSh0LGgscyxsPT09dS0xKSxoLmlubmVyQWZ0ZXJCcnVzaCgpLGguYWZ0ZXJCcnVzaCYmaC5hZnRlckJydXNoKCkscy5wcmV2RWw9aH1lLmNsZWFyVGVtcG9yYWxEaXNwbGF5YWJsZXMoKSxlLm5vdENsZWFyPSEwLHQucmVzdG9yZSgpfSh0LGUsbikpLHAmJmkmJl95KHQsbiksZS5pbm5lckFmdGVyQnJ1c2goKSxlLmFmdGVyQnJ1c2gmJmUuYWZ0ZXJCcnVzaCgpLG4ucHJldkVsPWUsZS5fX2RpcnR5PTAsZS5fX2lzUmVuZGVyZWQ9ITB9fXZhciBTeSxNeT1uZXcgWWcsSXk9bmV3IGtlKDEwMCksVHk9WyJzeW1ib2wiLCJzeW1ib2xTaXplIiwic3ltYm9sS2VlcEFzcGVjdCIsImNvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwiZGFzaEFycmF5WCIsImRhc2hBcnJheVkiLCJtYXhUaWxlV2lkdGgiLCJtYXhUaWxlSGVpZ2h0Il07ZnVuY3Rpb24gQ3kodCxlKXtpZigibm9uZSI9PT10KXJldHVybiBudWxsO3ZhciBuPWUuZ2V0RGV2aWNlUGl4ZWxSYXRpbygpLGk9ZS5nZXRacigpLHI9InN2ZyI9PT1pLnBhaW50ZXIudHlwZTt0LmRpcnR5JiZNeS5kZWxldGUodCk7dmFyIG89TXkuZ2V0KHQpO2lmKG8pcmV0dXJuIG87dmFyIGE9Qyh0LHtzeW1ib2w6InJlY3QiLHN5bWJvbFNpemU6MSxzeW1ib2xLZWVwQXNwZWN0OiEwLGNvbG9yOiJyZ2JhKDAsIDAsIDAsIDAuMikiLGJhY2tncm91bmRDb2xvcjpudWxsLGRhc2hBcnJheVg6NSxkYXNoQXJyYXlZOjUscm90YXRpb246MCxtYXhUaWxlV2lkdGg6NTEyLG1heFRpbGVIZWlnaHQ6NTEyfSk7Im5vbmUiPT09YS5iYWNrZ3JvdW5kQ29sb3ImJihhLmJhY2tncm91bmRDb2xvcj1udWxsKTt2YXIgcz17cmVwZWF0OiJyZXBlYXQifTtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKHZhciBlLG89W25dLHM9ITAsbD0wO2w8VHkubGVuZ3RoOysrbCl7dmFyIHU9YVtUeVtsXV0saD10eXBlb2YgdTtpZihudWxsIT11JiYhRih1KSYmInN0cmluZyIhPT1oJiYibnVtYmVyIiE9PWgmJiJib29sZWFuIiE9PWgpe3M9ITE7YnJlYWt9by5wdXNoKHUpfWlmKHMpe2U9by5qb2luKCIsIikrKHI/Ii1zdmciOiIiKTt2YXIgYz1JeS5nZXQoZSk7YyYmKHI/dC5zdmdFbGVtZW50PWM6dC5pbWFnZT1jKX12YXIgcCxkPUF5KGEuZGFzaEFycmF5WCksZj1mdW5jdGlvbih0KXtpZighdHx8Im9iamVjdCI9PXR5cGVvZiB0JiYwPT09dC5sZW5ndGgpcmV0dXJuWzAsMF07aWYoIm51bWJlciI9PXR5cGVvZiB0KXt2YXIgZT1NYXRoLmNlaWwodCk7cmV0dXJuW2UsZV19dmFyIG49Uih0LChmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5jZWlsKHQpfSkpO3JldHVybiB0Lmxlbmd0aCUyP24uY29uY2F0KG4pOm59KGEuZGFzaEFycmF5WSksZz1EeShhLnN5bWJvbCkseT0oYj1kLFIoYiwoZnVuY3Rpb24odCl7cmV0dXJuIGt5KHQpfSkpKSx2PWt5KGYpLG09IXImJkQoKSxfPXImJmkucGFpbnRlci5jcmVhdGVTVkdFbGVtZW50KCJnIikseD1mdW5jdGlvbigpe2Zvcih2YXIgdD0xLGU9MCxuPXkubGVuZ3RoO2U8bjsrK2UpdD12cih0LHlbZV0pO3ZhciBpPTE7Zm9yKGU9MCxuPWcubGVuZ3RoO2U8bjsrK2UpaT12cihpLGdbZV0ubGVuZ3RoKTt0Kj1pO3ZhciByPXYqeS5sZW5ndGgqZy5sZW5ndGg7cmV0dXJue3dpZHRoOk1hdGgubWF4KDEsTWF0aC5taW4odCxhLm1heFRpbGVXaWR0aCkpLGhlaWdodDpNYXRoLm1heCgxLE1hdGgubWluKHIsYS5tYXhUaWxlSGVpZ2h0KSl9fSgpO3ZhciBiO20mJihtLndpZHRoPXgud2lkdGgqbixtLmhlaWdodD14LmhlaWdodCpuLHA9bS5nZXRDb250ZXh0KCIyZCIpKTsoZnVuY3Rpb24oKXtwJiYocC5jbGVhclJlY3QoMCwwLG0ud2lkdGgsbS5oZWlnaHQpLGEuYmFja2dyb3VuZENvbG9yJiYocC5maWxsU3R5bGU9YS5iYWNrZ3JvdW5kQ29sb3IscC5maWxsUmVjdCgwLDAsbS53aWR0aCxtLmhlaWdodCkpKTtmb3IodmFyIHQ9MCxlPTA7ZTxmLmxlbmd0aDsrK2UpdCs9ZltlXTtpZih0PD0wKXJldHVybjt2YXIgbz0tdixzPTAsbD0wLHU9MDtmb3IoO288eC5oZWlnaHQ7KXtpZihzJTI9PTApe2Zvcih2YXIgaD1sLzIlZy5sZW5ndGgsYz0wLHk9MCxiPTA7YzwyKngud2lkdGg7KXt2YXIgdz0wO2ZvcihlPTA7ZTxkW3VdLmxlbmd0aDsrK2Updys9ZFt1XVtlXTtpZih3PD0wKWJyZWFrO2lmKHklMj09MCl7dmFyIFM9LjUqKDEtYS5zeW1ib2xTaXplKSxNPWMrZFt1XVt5XSpTLEk9bytmW3NdKlMsVD1kW3VdW3ldKmEuc3ltYm9sU2l6ZSxDPWZbc10qYS5zeW1ib2xTaXplLEQ9Yi8yJWdbaF0ubGVuZ3RoO0EoTSxJLFQsQyxnW2hdW0RdKX1jKz1kW3VdW3ldLCsrYiwrK3k9PT1kW3VdLmxlbmd0aCYmKHk9MCl9Kyt1PT09ZC5sZW5ndGgmJih1PTApfW8rPWZbc10sKytsLCsrcz09PWYubGVuZ3RoJiYocz0wKX1mdW5jdGlvbiBBKHQsZSxvLHMsbCl7dmFyIHU9cj8xOm4saD1leShsLHQqdSxlKnUsbyp1LHMqdSxhLmNvbG9yLGEuc3ltYm9sS2VlcEFzcGVjdCk7cj9fLmFwcGVuZENoaWxkKGkucGFpbnRlci5wYWludE9uZShoKSk6YnkocCxoKX19KSgpLHMmJkl5LnB1dChlLG18fF8pO3QuaW1hZ2U9bSx0LnN2Z0VsZW1lbnQ9Xyx0LnN2Z1dpZHRoPXgud2lkdGgsdC5zdmdIZWlnaHQ9eC5oZWlnaHR9KHMpLHMucm90YXRpb249YS5yb3RhdGlvbixzLnNjYWxlWD1zLnNjYWxlWT1yPzE6MS9uLE15LnNldCh0LHMpLHQuZGlydHk9ITEsc31mdW5jdGlvbiBEeSh0KXtpZighdHx8MD09PXQubGVuZ3RoKXJldHVybltbInJlY3QiXV07aWYoInN0cmluZyI9PXR5cGVvZiB0KXJldHVybltbdF1dO2Zvcih2YXIgZT0hMCxuPTA7bjx0Lmxlbmd0aDsrK24paWYoInN0cmluZyIhPXR5cGVvZiB0W25dKXtlPSExO2JyZWFrfWlmKGUpcmV0dXJuIER5KFt0XSk7dmFyIGk9W107Zm9yKG49MDtuPHQubGVuZ3RoOysrbikic3RyaW5nIj09dHlwZW9mIHRbbl0/aS5wdXNoKFt0W25dXSk6aS5wdXNoKHRbbl0pO3JldHVybiBpfWZ1bmN0aW9uIEF5KHQpe2lmKCF0fHwwPT09dC5sZW5ndGgpcmV0dXJuW1swLDBdXTtpZigibnVtYmVyIj09dHlwZW9mIHQpcmV0dXJuW1tyPU1hdGguY2VpbCh0KSxyXV07Zm9yKHZhciBlPSEwLG49MDtuPHQubGVuZ3RoOysrbilpZigibnVtYmVyIiE9dHlwZW9mIHRbbl0pe2U9ITE7YnJlYWt9aWYoZSlyZXR1cm4gQXkoW3RdKTt2YXIgaT1bXTtmb3Iobj0wO248dC5sZW5ndGg7KytuKWlmKCJudW1iZXIiPT10eXBlb2YgdFtuXSl7dmFyIHI9TWF0aC5jZWlsKHRbbl0pO2kucHVzaChbcixyXSl9ZWxzZXsocj1SKHRbbl0sKGZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLmNlaWwodCl9KSkpLmxlbmd0aCUyPT0xP2kucHVzaChyLmNvbmNhdChyKSk6aS5wdXNoKHIpfXJldHVybiBpfWZ1bmN0aW9uIGt5KHQpe2Zvcih2YXIgZT0wLG49MDtuPHQubGVuZ3RoOysrbillKz10W25dO3JldHVybiB0Lmxlbmd0aCUyPT0xPzIqZTplfWZ1bmN0aW9uIEx5KHQpe1codCkmJih0PShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcodCwidGV4dC94bWwiKSk7dmFyIGU9dDtmb3IoOT09PWUubm9kZVR5cGUmJihlPWUuZmlyc3RDaGlsZCk7InN2ZyIhPT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCl8fDEhPT1lLm5vZGVUeXBlOyllPWUubmV4dFNpYmxpbmc7cmV0dXJuIGV9dmFyIFB5PXtmaWxsOiJmaWxsIixzdHJva2U6InN0cm9rZSIsInN0cm9rZS13aWR0aCI6ImxpbmVXaWR0aCIsb3BhY2l0eToib3BhY2l0eSIsImZpbGwtb3BhY2l0eSI6ImZpbGxPcGFjaXR5Iiwic3Ryb2tlLW9wYWNpdHkiOiJzdHJva2VPcGFjaXR5Iiwic3Ryb2tlLWRhc2hhcnJheSI6ImxpbmVEYXNoIiwic3Ryb2tlLWRhc2hvZmZzZXQiOiJsaW5lRGFzaE9mZnNldCIsInN0cm9rZS1saW5lY2FwIjoibGluZUNhcCIsInN0cm9rZS1saW5lam9pbiI6ImxpbmVKb2luIiwic3Ryb2tlLW1pdGVybGltaXQiOiJtaXRlckxpbWl0IiwiZm9udC1mYW1pbHkiOiJmb250RmFtaWx5IiwiZm9udC1zaXplIjoiZm9udFNpemUiLCJmb250LXN0eWxlIjoiZm9udFN0eWxlIiwiZm9udC13ZWlnaHQiOiJmb250V2VpZ2h0IiwidGV4dC1hbmNob3IiOiJ0ZXh0QWxpZ24iLHZpc2liaWxpdHk6InZpc2liaWxpdHkiLGRpc3BsYXk6ImRpc3BsYXkifSxPeT1WKFB5KSxSeT17ImFsaWdubWVudC1iYXNlbGluZSI6InRleHRCYXNlbGluZSIsInN0b3AtY29sb3IiOiJzdG9wQ29sb3IifSxOeT1WKFJ5KSx6eT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9kZWZzPXt9LHRoaXMuX3Jvb3Q9bnVsbH1yZXR1cm4gdC5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCxlKXtlPWV8fHt9O3ZhciBuPUx5KHQpO2lmKCFuKXRocm93IG5ldyBFcnJvcigiSWxsZWdhbCBzdmciKTt0aGlzLl9kZWZzVXNlUGVuZGluZz1bXTt2YXIgaT1uZXcgQmk7dGhpcy5fcm9vdD1pO3ZhciByPVtdLG89bi5nZXRBdHRyaWJ1dGUoInZpZXdCb3giKXx8IiIsYT1wYXJzZUZsb2F0KG4uZ2V0QXR0cmlidXRlKCJ3aWR0aCIpfHxlLndpZHRoKSxzPXBhcnNlRmxvYXQobi5nZXRBdHRyaWJ1dGUoImhlaWdodCIpfHxlLmhlaWdodCk7aXNOYU4oYSkmJihhPW51bGwpLGlzTmFOKHMpJiYocz1udWxsKSxIeShuLGksbnVsbCwhMCwhMSk7Zm9yKHZhciBsLHUsaD1uLmZpcnN0Q2hpbGQ7aDspdGhpcy5fcGFyc2VOb2RlKGgsaSxyLG51bGwsITEsITEpLGg9aC5uZXh0U2libGluZztpZihmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dO2lbMF0uc3R5bGVbaVsxXV09dFtpWzJdXX19KHRoaXMuX2RlZnMsdGhpcy5fZGVmc1VzZVBlbmRpbmcpLHRoaXMuX2RlZnNVc2VQZW5kaW5nPVtdLG8pe3ZhciBjPVl5KG8pO2MubGVuZ3RoPj00JiYobD17eDpwYXJzZUZsb2F0KGNbMF18fDApLHk6cGFyc2VGbG9hdChjWzFdfHwwKSx3aWR0aDpwYXJzZUZsb2F0KGNbMl0pLGhlaWdodDpwYXJzZUZsb2F0KGNbM10pfSl9aWYobCYmbnVsbCE9YSYmbnVsbCE9cyYmKHU9JHkobCx7eDowLHk6MCx3aWR0aDphLGhlaWdodDpzfSksIWUuaWdub3JlVmlld0JveCkpe3ZhciBwPWk7KGk9bmV3IEJpKS5hZGQocCkscC5zY2FsZVg9cC5zY2FsZVk9dS5zY2FsZSxwLng9dS54LHAueT11Lnl9cmV0dXJuIGUuaWdub3JlUm9vdENsaXB8fG51bGw9PWF8fG51bGw9PXN8fGkuc2V0Q2xpcFBhdGgobmV3IGNzKHtzaGFwZTp7eDowLHk6MCx3aWR0aDphLGhlaWdodDpzfX0pKSx7cm9vdDppLHdpZHRoOmEsaGVpZ2h0OnMsdmlld0JveFJlY3Q6bCx2aWV3Qm94VHJhbnNmb3JtOnUsbmFtZWQ6cn19LHQucHJvdG90eXBlLl9wYXJzZU5vZGU9ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhLHM9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGw9aTtpZigiZGVmcyI9PT1zJiYocj0hMCksInRleHQiPT09cyYmKG89ITApLCJkZWZzIj09PXN8fCJzd2l0Y2giPT09cylhPWU7ZWxzZXtpZighcil7dmFyIHU9U3lbc107aWYodSYmZnQoU3kscykpe2E9dS5jYWxsKHRoaXMsdCxlKTt2YXIgaD10LmdldEF0dHJpYnV0ZSgibmFtZSIpO2lmKGgpe3ZhciBjPXtuYW1lOmgsbmFtZWRGcm9tOm51bGwsc3ZnTm9kZVRhZ0xvd2VyOnMsZWw6YX07bi5wdXNoKGMpLCJnIj09PXMmJihsPWMpfWVsc2UgaSYmbi5wdXNoKHtuYW1lOmkubmFtZSxuYW1lZEZyb206aSxzdmdOb2RlVGFnTG93ZXI6cyxlbDphfSk7ZS5hZGQoYSl9fXZhciBwPUV5W3NdO2lmKHAmJmZ0KEV5LHMpKXt2YXIgZD1wLmNhbGwodGhpcyx0KSxmPXQuZ2V0QXR0cmlidXRlKCJpZCIpO2YmJih0aGlzLl9kZWZzW2ZdPWQpfX1pZihhJiZhLmlzR3JvdXApZm9yKHZhciBnPXQuZmlyc3RDaGlsZDtnOykxPT09Zy5ub2RlVHlwZT90aGlzLl9wYXJzZU5vZGUoZyxhLG4sbCxyLG8pOjM9PT1nLm5vZGVUeXBlJiZvJiZ0aGlzLl9wYXJzZVRleHQoZyxhKSxnPWcubmV4dFNpYmxpbmd9LHQucHJvdG90eXBlLl9wYXJzZVRleHQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgZXMoe3N0eWxlOnt0ZXh0OnQudGV4dENvbnRlbnR9LHNpbGVudDohMCx4OnRoaXMuX3RleHRYfHwwLHk6dGhpcy5fdGV4dFl8fDB9KTtHeShlLG4pLEh5KHQsbix0aGlzLl9kZWZzVXNlUGVuZGluZywhMSwhMSksZnVuY3Rpb24odCxlKXt2YXIgbj1lLl9fc2VsZlN0eWxlO2lmKG4pe3ZhciBpPW4udGV4dEJhc2VsaW5lLHI9aTtpJiYiYXV0byIhPT1pPyJiYXNlbGluZSI9PT1pP3I9ImFscGhhYmV0aWMiOiJiZWZvcmUtZWRnZSI9PT1pfHwidGV4dC1iZWZvcmUtZWRnZSI9PT1pP3I9InRvcCI6ImFmdGVyLWVkZ2UiPT09aXx8InRleHQtYWZ0ZXItZWRnZSI9PT1pP3I9ImJvdHRvbSI6ImNlbnRyYWwiIT09aSYmIm1hdGhlbWF0aWNhbCIhPT1pfHwocj0ibWlkZGxlIik6cj0iYWxwaGFiZXRpYyIsdC5zdHlsZS50ZXh0QmFzZWxpbmU9cn12YXIgbz1lLl9faW5oZXJpdGVkU3R5bGU7aWYobyl7dmFyIGE9by50ZXh0QWxpZ24scz1hO2EmJigibWlkZGxlIj09PWEmJihzPSJjZW50ZXIiKSx0LnN0eWxlLnRleHRBbGlnbj1zKX19KG4sZSk7dmFyIGk9bi5zdHlsZSxyPWkuZm9udFNpemU7ciYmcjw5JiYoaS5mb250U2l6ZT05LG4uc2NhbGVYKj1yLzksbi5zY2FsZVkqPXIvOSk7dmFyIG89KGkuZm9udFNpemV8fGkuZm9udEZhbWlseSkmJltpLmZvbnRTdHlsZSxpLmZvbnRXZWlnaHQsKGkuZm9udFNpemV8fDEyKSsicHgiLGkuZm9udEZhbWlseXx8InNhbnMtc2VyaWYiXS5qb2luKCIgIik7aS5mb250PW87dmFyIGE9bi5nZXRCb3VuZGluZ1JlY3QoKTtyZXR1cm4gdGhpcy5fdGV4dFgrPWEud2lkdGgsZS5hZGQobiksbn0sdC5pbnRlcm5hbEZpZWxkPXZvaWQoU3k9e2c6ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgQmk7cmV0dXJuIEd5KGUsbiksSHkodCxuLHRoaXMuX2RlZnNVc2VQZW5kaW5nLCExLCExKSxufSxyZWN0OmZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IGNzO3JldHVybiBHeShlLG4pLEh5KHQsbix0aGlzLl9kZWZzVXNlUGVuZGluZywhMSwhMSksbi5zZXRTaGFwZSh7eDpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKCJ4Iil8fCIwIikseTpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKCJ5Iil8fCIwIiksd2lkdGg6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZSgid2lkdGgiKXx8IjAiKSxoZWlnaHQ6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZSgiaGVpZ2h0Iil8fCIwIil9KSxuLnNpbGVudD0hMCxufSxjaXJjbGU6ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgSGw7cmV0dXJuIEd5KGUsbiksSHkodCxuLHRoaXMuX2RlZnNVc2VQZW5kaW5nLCExLCExKSxuLnNldFNoYXBlKHtjeDpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKCJjeCIpfHwiMCIpLGN5OnBhcnNlRmxvYXQodC5nZXRBdHRyaWJ1dGUoImN5Iil8fCIwIikscjpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKCJyIil8fCIwIil9KSxuLnNpbGVudD0hMCxufSxsaW5lOmZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IHl1O3JldHVybiBHeShlLG4pLEh5KHQsbix0aGlzLl9kZWZzVXNlUGVuZGluZywhMSwhMSksbi5zZXRTaGFwZSh7eDE6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZSgieDEiKXx8IjAiKSx5MTpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKCJ5MSIpfHwiMCIpLHgyOnBhcnNlRmxvYXQodC5nZXRBdHRyaWJ1dGUoIngyIil8fCIwIikseTI6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZSgieTIiKXx8IjAiKX0pLG4uc2lsZW50PSEwLG59LGVsbGlwc2U6ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgVWw7cmV0dXJuIEd5KGUsbiksSHkodCxuLHRoaXMuX2RlZnNVc2VQZW5kaW5nLCExLCExKSxuLnNldFNoYXBlKHtjeDpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKCJjeCIpfHwiMCIpLGN5OnBhcnNlRmxvYXQodC5nZXRBdHRyaWJ1dGUoImN5Iil8fCIwIikscng6cGFyc2VGbG9hdCh0LmdldEF0dHJpYnV0ZSgicngiKXx8IjAiKSxyeTpwYXJzZUZsb2F0KHQuZ2V0QXR0cmlidXRlKCJyeSIpfHwiMCIpfSksbi5zaWxlbnQ9ITAsbn0scG9seWdvbjpmdW5jdGlvbih0LGUpe3ZhciBuLGk9dC5nZXRBdHRyaWJ1dGUoInBvaW50cyIpO2kmJihuPUZ5KGkpKTt2YXIgcj1uZXcgY3Uoe3NoYXBlOntwb2ludHM6bnx8W119LHNpbGVudDohMH0pO3JldHVybiBHeShlLHIpLEh5KHQscix0aGlzLl9kZWZzVXNlUGVuZGluZywhMSwhMSkscn0scG9seWxpbmU6ZnVuY3Rpb24odCxlKXt2YXIgbixpPXQuZ2V0QXR0cmlidXRlKCJwb2ludHMiKTtpJiYobj1GeShpKSk7dmFyIHI9bmV3IGR1KHtzaGFwZTp7cG9pbnRzOm58fFtdfSxzaWxlbnQ6ITB9KTtyZXR1cm4gR3koZSxyKSxIeSh0LHIsdGhpcy5fZGVmc1VzZVBlbmRpbmcsITEsITEpLHJ9LGltYWdlOmZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IHJzO3JldHVybiBHeShlLG4pLEh5KHQsbix0aGlzLl9kZWZzVXNlUGVuZGluZywhMSwhMSksbi5zZXRTdHlsZSh7aW1hZ2U6dC5nZXRBdHRyaWJ1dGUoInhsaW5rOmhyZWYiKXx8dC5nZXRBdHRyaWJ1dGUoImhyZWYiKSx4Oit0LmdldEF0dHJpYnV0ZSgieCIpLHk6K3QuZ2V0QXR0cmlidXRlKCJ5Iiksd2lkdGg6K3QuZ2V0QXR0cmlidXRlKCJ3aWR0aCIpLGhlaWdodDordC5nZXRBdHRyaWJ1dGUoImhlaWdodCIpfSksbi5zaWxlbnQ9ITAsbn0sdGV4dDpmdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0QXR0cmlidXRlKCJ4Iil8fCIwIixpPXQuZ2V0QXR0cmlidXRlKCJ5Iil8fCIwIixyPXQuZ2V0QXR0cmlidXRlKCJkeCIpfHwiMCIsbz10LmdldEF0dHJpYnV0ZSgiZHkiKXx8IjAiO3RoaXMuX3RleHRYPXBhcnNlRmxvYXQobikrcGFyc2VGbG9hdChyKSx0aGlzLl90ZXh0WT1wYXJzZUZsb2F0KGkpK3BhcnNlRmxvYXQobyk7dmFyIGE9bmV3IEJpO3JldHVybiBHeShlLGEpLEh5KHQsYSx0aGlzLl9kZWZzVXNlUGVuZGluZywhMSwhMCksYX0sdHNwYW46ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldEF0dHJpYnV0ZSgieCIpLGk9dC5nZXRBdHRyaWJ1dGUoInkiKTtudWxsIT1uJiYodGhpcy5fdGV4dFg9cGFyc2VGbG9hdChuKSksbnVsbCE9aSYmKHRoaXMuX3RleHRZPXBhcnNlRmxvYXQoaSkpO3ZhciByPXQuZ2V0QXR0cmlidXRlKCJkeCIpfHwiMCIsbz10LmdldEF0dHJpYnV0ZSgiZHkiKXx8IjAiLGE9bmV3IEJpO3JldHVybiBHeShlLGEpLEh5KHQsYSx0aGlzLl9kZWZzVXNlUGVuZGluZywhMSwhMCksdGhpcy5fdGV4dFgrPXBhcnNlRmxvYXQociksdGhpcy5fdGV4dFkrPXBhcnNlRmxvYXQobyksYX0scGF0aDpmdW5jdGlvbih0LGUpe3ZhciBuPUJsKHQuZ2V0QXR0cmlidXRlKCJkIil8fCIiKTtyZXR1cm4gR3koZSxuKSxIeSh0LG4sdGhpcy5fZGVmc1VzZVBlbmRpbmcsITEsITEpLG4uc2lsZW50PSEwLG59fSksdH0oKSxFeT17bGluZWFyZ3JhZGllbnQ6ZnVuY3Rpb24odCl7dmFyIGU9cGFyc2VJbnQodC5nZXRBdHRyaWJ1dGUoIngxIil8fCIwIiwxMCksbj1wYXJzZUludCh0LmdldEF0dHJpYnV0ZSgieTEiKXx8IjAiLDEwKSxpPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKCJ4MiIpfHwiMTAiLDEwKSxyPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKCJ5MiIpfHwiMCIsMTApLG89bmV3IEl1KGUsbixpLHIpO3JldHVybiBWeSh0LG8pLEJ5KHQsbyksb30scmFkaWFsZ3JhZGllbnQ6ZnVuY3Rpb24odCl7dmFyIGU9cGFyc2VJbnQodC5nZXRBdHRyaWJ1dGUoImN4Iil8fCIwIiwxMCksbj1wYXJzZUludCh0LmdldEF0dHJpYnV0ZSgiY3kiKXx8IjAiLDEwKSxpPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKCJyIil8fCIwIiwxMCkscj1uZXcgVHUoZSxuLGkpO3JldHVybiBWeSh0LHIpLEJ5KHQscikscn19O2Z1bmN0aW9uIFZ5KHQsZSl7InVzZXJTcGFjZU9uVXNlIj09PXQuZ2V0QXR0cmlidXRlKCJncmFkaWVudFVuaXRzIikmJihlLmdsb2JhbD0hMCl9ZnVuY3Rpb24gQnkodCxlKXtmb3IodmFyIG49dC5maXJzdENoaWxkO247KXtpZigxPT09bi5ub2RlVHlwZSYmInN0b3AiPT09bi5ub2RlTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpKXt2YXIgaT1uLmdldEF0dHJpYnV0ZSgib2Zmc2V0Iikscj12b2lkIDA7cj1pJiZpLmluZGV4T2YoIiUiKT4wP3BhcnNlSW50KGksMTApLzEwMDppP3BhcnNlRmxvYXQoaSk6MDt2YXIgbz17fTtLeShuLG8sbyk7dmFyIGE9by5zdG9wQ29sb3J8fG4uZ2V0QXR0cmlidXRlKCJzdG9wLWNvbG9yIil8fCIjMDAwMDAwIjtlLmNvbG9yU3RvcHMucHVzaCh7b2Zmc2V0OnIsY29sb3I6YX0pfW49bi5uZXh0U2libGluZ319ZnVuY3Rpb24gR3kodCxlKXt0JiZ0Ll9faW5oZXJpdGVkU3R5bGUmJihlLl9faW5oZXJpdGVkU3R5bGV8fChlLl9faW5oZXJpdGVkU3R5bGU9e30pLEMoZS5fX2luaGVyaXRlZFN0eWxlLHQuX19pbmhlcml0ZWRTdHlsZSkpfWZ1bmN0aW9uIEZ5KHQpe2Zvcih2YXIgZT1ZeSh0KSxuPVtdLGk9MDtpPGUubGVuZ3RoO2krPTIpe3ZhciByPXBhcnNlRmxvYXQoZVtpXSksbz1wYXJzZUZsb2F0KGVbaSsxXSk7bi5wdXNoKFtyLG9dKX1yZXR1cm4gbn1mdW5jdGlvbiBIeSh0LGUsbixpLHIpe3ZhciBvPWUsYT1vLl9faW5oZXJpdGVkU3R5bGU9by5fX2luaGVyaXRlZFN0eWxlfHx7fSxzPXt9OzE9PT10Lm5vZGVUeXBlJiYoZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldEF0dHJpYnV0ZSgidHJhbnNmb3JtIik7aWYobil7bj1uLnJlcGxhY2UoLywvZywiICIpO3ZhciBpPVtdLHI9bnVsbDtuLnJlcGxhY2UoWnksKGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaS5wdXNoKGUsbiksIiJ9KSk7Zm9yKHZhciBvPWkubGVuZ3RoLTE7bz4wO28tPTIpe3ZhciBhPWlbb10scz1pW28tMV0sbD1ZeShhKTtzd2l0Y2gocj1yfHxbMSwwLDAsMSwwLDBdLHMpe2Nhc2UidHJhbnNsYXRlIjpYbihyLHIsW3BhcnNlRmxvYXQobFswXSkscGFyc2VGbG9hdChsWzFdfHwiMCIpXSk7YnJlYWs7Y2FzZSJzY2FsZSI6Wm4ocixyLFtwYXJzZUZsb2F0KGxbMF0pLHBhcnNlRmxvYXQobFsxXXx8bFswXSldKTticmVhaztjYXNlInJvdGF0ZSI6WW4ocixyLC1wYXJzZUZsb2F0KGxbMF0pKmp5KTticmVhaztjYXNlInNrZXdYIjpVbihyLFsxLDAsTWF0aC50YW4ocGFyc2VGbG9hdChsWzBdKSpqeSksMSwwLDBdLHIpO2JyZWFrO2Nhc2Uic2tld1kiOlVuKHIsWzEsTWF0aC50YW4ocGFyc2VGbG9hdChsWzBdKSpqeSksMCwxLDAsMF0scik7YnJlYWs7Y2FzZSJtYXRyaXgiOnJbMF09cGFyc2VGbG9hdChsWzBdKSxyWzFdPXBhcnNlRmxvYXQobFsxXSksclsyXT1wYXJzZUZsb2F0KGxbMl0pLHJbM109cGFyc2VGbG9hdChsWzNdKSxyWzRdPXBhcnNlRmxvYXQobFs0XSkscls1XT1wYXJzZUZsb2F0KGxbNV0pfX1lLnNldExvY2FsVHJhbnNmb3JtKHIpfX0odCxlKSxLeSh0LGEscyksaXx8ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT0wO2k8T3kubGVuZ3RoO2krKyl7dmFyIHI9T3lbaV07bnVsbCE9KG89dC5nZXRBdHRyaWJ1dGUocikpJiYoZVtQeVtyXV09byl9Zm9yKGk9MDtpPE55Lmxlbmd0aDtpKyspe3ZhciBvO3I9TnlbaV07bnVsbCE9KG89dC5nZXRBdHRyaWJ1dGUocikpJiYobltSeVtyXV09byl9fSh0LGEscykpLG8uc3R5bGU9by5zdHlsZXx8e30sbnVsbCE9YS5maWxsJiYoby5zdHlsZS5maWxsPVV5KG8sImZpbGwiLGEuZmlsbCxuKSksbnVsbCE9YS5zdHJva2UmJihvLnN0eWxlLnN0cm9rZT1VeShvLCJzdHJva2UiLGEuc3Ryb2tlLG4pKSxPKFsibGluZVdpZHRoIiwib3BhY2l0eSIsImZpbGxPcGFjaXR5Iiwic3Ryb2tlT3BhY2l0eSIsIm1pdGVyTGltaXQiLCJmb250U2l6ZSJdLChmdW5jdGlvbih0KXtudWxsIT1hW3RdJiYoby5zdHlsZVt0XT1wYXJzZUZsb2F0KGFbdF0pKX0pKSxPKFsibGluZURhc2hPZmZzZXQiLCJsaW5lQ2FwIiwibGluZUpvaW4iLCJmb250V2VpZ2h0IiwiZm9udEZhbWlseSIsImZvbnRTdHlsZSIsInRleHRBbGlnbiJdLChmdW5jdGlvbih0KXtudWxsIT1hW3RdJiYoby5zdHlsZVt0XT1hW3RdKX0pKSxyJiYoby5fX3NlbGZTdHlsZT1zKSxhLmxpbmVEYXNoJiYoby5zdHlsZS5saW5lRGFzaD1SKFl5KGEubGluZURhc2gpLChmdW5jdGlvbih0KXtyZXR1cm4gcGFyc2VGbG9hdCh0KX0pKSksImhpZGRlbiIhPT1hLnZpc2liaWxpdHkmJiJjb2xsYXBzZSIhPT1hLnZpc2liaWxpdHl8fChvLmludmlzaWJsZT0hMCksIm5vbmUiPT09YS5kaXNwbGF5JiYoby5pZ25vcmU9ITApfXZhciBXeT0vXnVybFwoXHMqIyguKj8pXCkvO2Z1bmN0aW9uIFV5KHQsZSxuLGkpe3ZhciByPW4mJm4ubWF0Y2goV3kpO2lmKCFyKXJldHVybiJub25lIj09PW4mJihuPW51bGwpLG47dmFyIG89YXQoclsxXSk7aS5wdXNoKFt0LGUsb10pfXZhciBYeT0vLT8oWzAtOV0qXC4pP1swLTldKyhbZUVdLT9bMC05XSspPy9nO2Z1bmN0aW9uIFl5KHQpe3JldHVybiB0Lm1hdGNoKFh5KXx8W119dmFyIFp5PS8odHJhbnNsYXRlfHNjYWxlfHJvdGF0ZXxza2V3WHxza2V3WXxtYXRyaXgpXCgoW1wtXHMwLTlcLmVFLF0qKVwpL2csank9TWF0aC5QSS8xODA7dmFyIHF5PS8oW15cczo7XSspXHMqOlxzKihbXjo7XSspL2c7ZnVuY3Rpb24gS3kodCxlLG4pe3ZhciBpLHI9dC5nZXRBdHRyaWJ1dGUoInN0eWxlIik7aWYocilmb3IocXkubGFzdEluZGV4PTA7bnVsbCE9KGk9cXkuZXhlYyhyKSk7KXt2YXIgbz1pWzFdLGE9ZnQoUHksbyk/UHlbb106bnVsbDthJiYoZVthXT1pWzJdKTt2YXIgcz1mdChSeSxvKT9SeVtvXTpudWxsO3MmJihuW3NdPWlbMl0pfX1mdW5jdGlvbiAkeSh0LGUpe3ZhciBuPWUud2lkdGgvdC53aWR0aCxpPWUuaGVpZ2h0L3QuaGVpZ2h0LHI9TWF0aC5taW4obixpKTtyZXR1cm57c2NhbGU6cix4Oi0odC54K3Qud2lkdGgvMikqcisoZS54K2Uud2lkdGgvMikseTotKHQueSt0LmhlaWdodC8yKSpyKyhlLnkrZS5oZWlnaHQvMil9fWZ1bmN0aW9uIEp5KHQsZSl7cmV0dXJuIE1hdGguYWJzKHQtZSk8MWUtOH1mdW5jdGlvbiBReSh0LGUsbil7dmFyIGk9MCxyPXRbMF07aWYoIXIpcmV0dXJuITE7Zm9yKHZhciBvPTE7bzx0Lmxlbmd0aDtvKyspe3ZhciBhPXRbb107aSs9RmEoclswXSxyWzFdLGFbMF0sYVsxXSxlLG4pLHI9YX12YXIgcz10WzBdO3JldHVybiBKeShyWzBdLHNbMF0pJiZKeShyWzFdLHNbMV0pfHwoaSs9RmEoclswXSxyWzFdLHNbMF0sc1sxXSxlLG4pKSwwIT09aX12YXIgdHY9W10sZXY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMubmFtZT10fXJldHVybiB0LnByb3RvdHlwZS5nZXRDZW50ZXI9ZnVuY3Rpb24oKXt9LHR9KCksbnY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSl7dmFyIHI9dC5jYWxsKHRoaXMsZSl8fHRoaXM7aWYoci50eXBlPSJnZW9KU09OIixyLmdlb21ldHJpZXM9bixpKWk9W2lbMF0saVsxXV07ZWxzZXt2YXIgbz1yLmdldEJvdW5kaW5nUmVjdCgpO2k9W28ueCtvLndpZHRoLzIsby55K28uaGVpZ2h0LzJdfXJldHVybiByLl9jZW50ZXI9aSxyfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcmVjdDtpZih0KXJldHVybiB0O2Zvcih2YXIgZT1OdW1iZXIuTUFYX1ZBTFVFLG49W2UsZV0saT1bLWUsLWVdLHI9W10sbz1bXSxhPXRoaXMuZ2VvbWV0cmllcyxzPTA7czxhLmxlbmd0aDtzKyspe2lmKCJwb2x5Z29uIj09PWFbc10udHlwZSlzYShhW3NdLmV4dGVyaW9yLHIsbyksenQobixuLHIpLEV0KGksaSxvKX1yZXR1cm4gMD09PXMmJihuWzBdPW5bMV09aVswXT1pWzFdPTApLHRoaXMuX3JlY3Q9bmV3IHZpKG5bMF0sblsxXSxpWzBdLW5bMF0saVsxXS1uWzFdKX0sZS5wcm90b3R5cGUuY29udGFpbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEJvdW5kaW5nUmVjdCgpLG49dGhpcy5nZW9tZXRyaWVzO2lmKCFlLmNvbnRhaW4odFswXSx0WzFdKSlyZXR1cm4hMTt0OmZvcih2YXIgaT0wLHI9bi5sZW5ndGg7aTxyO2krKylpZigicG9seWdvbiI9PT1uW2ldLnR5cGUpe3ZhciBvPW5baV0uZXh0ZXJpb3IsYT1uW2ldLmludGVyaW9ycztpZihReShvLHRbMF0sdFsxXSkpe2Zvcih2YXIgcz0wO3M8KGE/YS5sZW5ndGg6MCk7cysrKWlmKFF5KGFbc10sdFswXSx0WzFdKSljb250aW51ZSB0O3JldHVybiEwfX1yZXR1cm4hMX0sZS5wcm90b3R5cGUudHJhbnNmb3JtVG89ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcy5nZXRCb3VuZGluZ1JlY3QoKSxvPXIud2lkdGgvci5oZWlnaHQ7bj9pfHwoaT1uL28pOm49byppO2Zvcih2YXIgYT1uZXcgdmkodCxlLG4saSkscz1yLmNhbGN1bGF0ZVRyYW5zZm9ybShhKSxsPXRoaXMuZ2VvbWV0cmllcyx1PTA7dTxsLmxlbmd0aDt1KyspaWYoInBvbHlnb24iPT09bFt1XS50eXBlKXtmb3IodmFyIGg9bFt1XS5leHRlcmlvcixjPWxbdV0uaW50ZXJpb3JzLHA9MDtwPGgubGVuZ3RoO3ArKylOdChoW3BdLGhbcF0scyk7Zm9yKHZhciBkPTA7ZDwoYz9jLmxlbmd0aDowKTtkKyspZm9yKHA9MDtwPGNbZF0ubGVuZ3RoO3ArKylOdChjW2RdW3BdLGNbZF1bcF0scyl9KHI9dGhpcy5fcmVjdCkuY29weShhKSx0aGlzLl9jZW50ZXI9W3IueCtyLndpZHRoLzIsci55K3IuaGVpZ2h0LzJdfSxlLnByb3RvdHlwZS5jbG9uZVNoYWxsb3c9ZnVuY3Rpb24odCl7bnVsbD09dCYmKHQ9dGhpcy5uYW1lKTt2YXIgbj1uZXcgZSh0LHRoaXMuZ2VvbWV0cmllcyx0aGlzLl9jZW50ZXIpO3JldHVybiBuLl9yZWN0PXRoaXMuX3JlY3Qsbi50cmFuc2Zvcm1Ubz1udWxsLG59LGUucHJvdG90eXBlLmdldENlbnRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jZW50ZXJ9LGUucHJvdG90eXBlLnNldENlbnRlcj1mdW5jdGlvbih0KXt0aGlzLl9jZW50ZXI9dH0sZX0oZXYpLGl2PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaT10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gaS50eXBlPSJnZW9TVkciLGkuX2VsT25seUZvckNhbGN1bGF0ZT1uLGl9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXRDZW50ZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jZW50ZXI7cmV0dXJuIHR8fCh0PXRoaXMuX2NlbnRlcj10aGlzLl9jYWxjdWxhdGVDZW50ZXIoKSksdH0sZS5wcm90b3R5cGUuX2NhbGN1bGF0ZUNlbnRlcj1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9lbE9ubHlGb3JDYWxjdWxhdGUsZT10LmdldEJvdW5kaW5nUmVjdCgpLG49W2UueCtlLndpZHRoLzIsZS55K2UuaGVpZ2h0LzJdLGk9SG4odHYpLHI9dDtyJiYhci5pc0dlb1NWR0dyYXBoaWNSb290OylVbihpLHIuZ2V0TG9jYWxUcmFuc2Zvcm0oKSxpKSxyPXIucGFyZW50O3JldHVybiBqbihpLGkpLE50KG4sbixpKSxufSxlfShldikscnY9Y3QoWyJyZWN0IiwiY2lyY2xlIiwibGluZSIsImVsbGlwc2UiLCJwb2x5Z29uIiwicG9seWxpbmUiLCJwYXRoIiwidGV4dCIsInRzcGFuIiwiZyJdKSxvdj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLnR5cGU9Imdlb1NWRyIsdGhpcy5fdXNlZEdyYXBoaWNNYXA9Y3QoKSx0aGlzLl9mcmVlZEdyYXBoaWNzPVtdLHRoaXMuX21hcE5hbWU9dCx0aGlzLl9wYXJzZWRYTUw9THkoZSl9cmV0dXJuIHQucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9maXJzdEdyYXBoaWM7aWYoIXQpe3Q9dGhpcy5fZmlyc3RHcmFwaGljPXRoaXMuX2J1aWxkR3JhcGhpYyh0aGlzLl9wYXJzZWRYTUwpLHRoaXMuX2ZyZWVkR3JhcGhpY3MucHVzaCh0KSx0aGlzLl9ib3VuZGluZ1JlY3Q9dGhpcy5fZmlyc3RHcmFwaGljLmJvdW5kaW5nUmVjdC5jbG9uZSgpO3ZhciBlPWZ1bmN0aW9uKHQpe3ZhciBlPVtdLG49Y3QoKTtyZXR1cm4gTyh0LChmdW5jdGlvbih0KXtpZihudWxsPT10Lm5hbWVkRnJvbSl7dmFyIGk9bmV3IGl2KHQubmFtZSx0LmVsKTtlLnB1c2goaSksbi5zZXQodC5uYW1lLGkpfX0pKSx7cmVnaW9uczplLHJlZ2lvbnNNYXA6bn19KHQubmFtZWQpLG49ZS5yZWdpb25zLGk9ZS5yZWdpb25zTWFwO3RoaXMuX3JlZ2lvbnM9bix0aGlzLl9yZWdpb25zTWFwPWl9cmV0dXJue2JvdW5kaW5nUmVjdDp0aGlzLl9ib3VuZGluZ1JlY3QscmVnaW9uczp0aGlzLl9yZWdpb25zLHJlZ2lvbnNNYXA6dGhpcy5fcmVnaW9uc01hcH19LHQucHJvdG90eXBlLl9idWlsZEdyYXBoaWM9ZnVuY3Rpb24odCl7dmFyIGUsbixpLHI7dHJ5e290KG51bGwhPShuPShlPXQmJihpPXQscj17aWdub3JlVmlld0JveDohMCxpZ25vcmVSb290Q2xpcDohMH0sKG5ldyB6eSkucGFyc2UoaSxyKSl8fHt9KS5yb290KSl9Y2F0Y2godCl7dGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHN2ZyBmb3JtYXRcbiIrdC5tZXNzYWdlKX12YXIgbz1uZXcgQmk7by5hZGQobiksby5pc0dlb1NWR0dyYXBoaWNSb290PSEwO3ZhciBhPWUud2lkdGgscz1lLmhlaWdodCxsPWUudmlld0JveFJlY3QsdT10aGlzLl9ib3VuZGluZ1JlY3Q7aWYoIXUpe3ZhciBoPXZvaWQgMCxjPXZvaWQgMCxwPXZvaWQgMCxkPXZvaWQgMDtpZihudWxsIT1hPyhoPTAscD1hKTpsJiYoaD1sLngscD1sLndpZHRoKSxudWxsIT1zPyhjPTAsZD1zKTpsJiYoYz1sLnksZD1sLmhlaWdodCksbnVsbD09aHx8bnVsbD09Yyl7dmFyIGY9bi5nZXRCb3VuZGluZ1JlY3QoKTtudWxsPT1oJiYoaD1mLngscD1mLndpZHRoKSxudWxsPT1jJiYoYz1mLnksZD1mLmhlaWdodCl9dT10aGlzLl9ib3VuZGluZ1JlY3Q9bmV3IHZpKGgsYyxwLGQpfWlmKGwpe3ZhciBnPSR5KGwsdSk7bi5zY2FsZVg9bi5zY2FsZVk9Zy5zY2FsZSxuLng9Zy54LG4ueT1nLnl9by5zZXRDbGlwUGF0aChuZXcgY3Moe3NoYXBlOnUucGxhaW4oKX0pKTt2YXIgeT1bXTtyZXR1cm4gTyhlLm5hbWVkLChmdW5jdGlvbih0KXt2YXIgZTtudWxsIT1ydi5nZXQodC5zdmdOb2RlVGFnTG93ZXIpJiYoeS5wdXNoKHQpLChlPXQuZWwpLnNpbGVudD0hMSxlLmlzR3JvdXAmJmUudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe3Quc2lsZW50PSExfSkpKX0pKSx7cm9vdDpvLGJvdW5kaW5nUmVjdDp1LG5hbWVkOnl9fSx0LnByb3RvdHlwZS51c2VHcmFwaGljPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3VzZWRHcmFwaGljTWFwLG49ZS5nZXQodCk7cmV0dXJuIG58fChuPXRoaXMuX2ZyZWVkR3JhcGhpY3MucG9wKCl8fHRoaXMuX2J1aWxkR3JhcGhpYyh0aGlzLl9wYXJzZWRYTUwpLGUuc2V0KHQsbiksbil9LHQucHJvdG90eXBlLmZyZWVHcmFwaGljPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3VzZWRHcmFwaGljTWFwLG49ZS5nZXQodCk7biYmKGUucmVtb3ZlS2V5KHQpLHRoaXMuX2ZyZWVkR3JhcGhpY3MucHVzaChuKSl9LHR9KCk7ZnVuY3Rpb24gYXYodCxlLG4pe2Zvcih2YXIgaT1bXSxyPWVbMF0sbz1lWzFdLGE9MDthPHQubGVuZ3RoO2ErPTIpe3ZhciBzPXQuY2hhckNvZGVBdChhKS02NCxsPXQuY2hhckNvZGVBdChhKzEpLTY0O3M9cz4+MV4tKDEmcyksbD1sPj4xXi0oMSZsKSxyPXMrPXIsbz1sKz1vLGkucHVzaChbcy9uLGwvbl0pfXJldHVybiBpfWZ1bmN0aW9uIHN2KHQsZSl7cmV0dXJuIFIoeigodD1mdW5jdGlvbih0KXtpZighdC5VVEY4RW5jb2RpbmcpcmV0dXJuIHQ7dmFyIGU9dCxuPWUuVVRGOFNjYWxlO251bGw9PW4mJihuPTEwMjQpO2Zvcih2YXIgaT1lLmZlYXR1cmVzLHI9MDtyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXS5nZW9tZXRyeTtpZigiUG9seWdvbiI9PT1vLnR5cGUpZm9yKHZhciBhPW8uY29vcmRpbmF0ZXMscz0wO3M8YS5sZW5ndGg7cysrKWFbc109YXYoYVtzXSxvLmVuY29kZU9mZnNldHNbc10sbik7ZWxzZSBpZigiTXVsdGlQb2x5Z29uIj09PW8udHlwZSlmb3IoYT1vLmNvb3JkaW5hdGVzLHM9MDtzPGEubGVuZ3RoO3MrKylmb3IodmFyIGw9YVtzXSx1PTA7dTxsLmxlbmd0aDt1KyspbFt1XT1hdihsW3VdLG8uZW5jb2RlT2Zmc2V0c1tzXVt1XSxuKX1yZXR1cm4gZS5VVEY4RW5jb2Rpbmc9ITEsZX0odCkpLmZlYXR1cmVzLChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZW9tZXRyeSYmdC5wcm9wZXJ0aWVzJiZ0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzLmxlbmd0aD4wfSkpLChmdW5jdGlvbih0KXt2YXIgbj10LnByb3BlcnRpZXMsaT10Lmdlb21ldHJ5LHI9W107aWYoIlBvbHlnb24iPT09aS50eXBlKXt2YXIgbz1pLmNvb3JkaW5hdGVzO3IucHVzaCh7dHlwZToicG9seWdvbiIsZXh0ZXJpb3I6b1swXSxpbnRlcmlvcnM6by5zbGljZSgxKX0pfSJNdWx0aVBvbHlnb24iPT09aS50eXBlJiZPKG89aS5jb29yZGluYXRlcywoZnVuY3Rpb24odCl7dFswXSYmci5wdXNoKHt0eXBlOiJwb2x5Z29uIixleHRlcmlvcjp0WzBdLGludGVyaW9yczp0LnNsaWNlKDEpfSl9KSk7dmFyIGE9bmV3IG52KG5bZXx8Im5hbWUiXSxyLG4uY3ApO3JldHVybiBhLnByb3BlcnRpZXM9bixhfSkpfWZvcih2YXIgbHY9WzEyNiwyNV0sdXY9IuWNl+a1t+ivuOWymyIsaHY9W1tbMCwzLjVdLFs3LDExLjJdLFsxNSwxMS45XSxbMzAsN10sWzQyLC43XSxbNTIsLjddLFs1Niw3LjddLFs1OSwuN10sWzY0LC43XSxbNjQsMF0sWzUsMF0sWzAsMy41XV0sW1sxMywxNi4xXSxbMTksMTQuN10sWzE2LDIxLjddLFsxMSwyMy4xXSxbMTMsMTYuMV1dLFtbMTIsMzIuMl0sWzE0LDM4LjVdLFsxNSwzOC41XSxbMTMsMzIuMl0sWzEyLDMyLjJdXSxbWzE2LDQ3LjZdLFsxMiw1My4yXSxbMTMsNTMuMl0sWzE4LDQ3LjZdLFsxNiw0Ny42XV0sW1s2LDY0LjRdLFs4LDcwXSxbOSw3MF0sWzgsNjQuNF0sWzYsNjQuNF1dLFtbMjMsODIuNl0sWzI5LDc5LjhdLFszMCw3OS44XSxbMjUsODIuNl0sWzIzLDgyLjZdXSxbWzM3LDcwLjddLFs0Myw2Mi4zXSxbNDQsNjIuM10sWzM5LDcwLjddLFszNyw3MC43XV0sW1s0OCw1MS4xXSxbNTEsNDUuNV0sWzUzLDQ1LjVdLFs1MCw1MS4xXSxbNDgsNTEuMV1dLFtbNTEsMzVdLFs1MSwyOC43XSxbNTMsMjguN10sWzUzLDM1XSxbNTEsMzVdXSxbWzUyLDIyLjRdLFs1NSwxNy41XSxbNTYsMTcuNV0sWzUzLDIyLjRdLFs1MiwyMi40XV0sW1s1OCwxMi42XSxbNjIsN10sWzYzLDddLFs2MCwxMi42XSxbNTgsMTIuNl1dLFtbMCwzLjVdLFswLDkzLjFdLFs2NCw5My4xXSxbNjQsMF0sWzYzLDBdLFs2Myw5Mi40XSxbMSw5Mi40XSxbMSwzLjVdLFswLDMuNV1dXSxjdj0wO2N2PGh2Lmxlbmd0aDtjdisrKWZvcih2YXIgcHY9MDtwdjxodltjdl0ubGVuZ3RoO3B2KyspaHZbY3ZdW3B2XVswXS89MTAuNSxodltjdl1bcHZdWzFdLz0tMTQsaHZbY3ZdW3B2XVswXSs9bHZbMF0saHZbY3ZdW3B2XVsxXSs9bHZbMV07dmFyIGR2PXsi5Y2X5rW36K+45bKbIjpbMzIsODBdLCLlub/kuJwiOlswLC0xMF0sIummmea4ryI6WzEwLDVdLCLmvrPpl6giOlstMTAsMTBdLCLlpKnmtKUiOls1LDVdfTt2YXIgZnY9e1J1c3NpYTpbMTAwLDYwXSwiVW5pdGVkIFN0YXRlcyI6Wy05OSwzOF0sIlVuaXRlZCBTdGF0ZXMgb2YgQW1lcmljYSI6Wy05OSwzOF19O3ZhciBndj1bW1sxMjMuNDUxNjUyNTI2ODU1NDcsMjUuNzM1MjcxNjQ0MDIyNjFdLFsxMjMuNDk3MzE0NDUzMTI0OTksMjUuNzM1MjcxNjQ0MDIyNjFdLFsxMjMuNDk3MzE0NDUzMTI0OTksMjUuNzUwNzM0MDY0NjAwODg0XSxbMTIzLjQ1MTY1MjUyNjg1NTQ3LDI1Ljc1MDczNDA2NDYwMDg4NF0sWzEyMy40NTE2NTI1MjY4NTU0NywyNS43MzUyNzE2NDQwMjI2MV1dXTt2YXIgeXY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt2YXIgaTt0aGlzLnR5cGU9Imdlb0pTT04iLHRoaXMuX3BhcnNlZE1hcD1jdCgpLHRoaXMuX21hcE5hbWU9dCx0aGlzLl9zcGVjaWFsQXJlYXM9bix0aGlzLl9nZW9KU09OPVcoaT1lKT8idW5kZWZpbmVkIiE9dHlwZW9mIEpTT04mJkpTT04ucGFyc2U/SlNPTi5wYXJzZShpKTpuZXcgRnVuY3Rpb24oInJldHVybiAoIitpKyIpOyIpKCk6aX1yZXR1cm4gdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbih0LGUpe2U9ZXx8Im5hbWUiO3ZhciBuPXRoaXMuX3BhcnNlZE1hcC5nZXQoZSk7aWYoIW4pe3ZhciBpPXRoaXMuX3BhcnNlVG9SZWdpb25zKGUpO249dGhpcy5fcGFyc2VkTWFwLnNldChlLHtyZWdpb25zOmksYm91bmRpbmdSZWN0OnZ2KGkpfSl9dmFyIHI9Y3QoKSxvPVtdO3JldHVybiBPKG4ucmVnaW9ucywoZnVuY3Rpb24oZSl7dmFyIG49ZS5uYW1lO3QmJnQuaGFzT3duUHJvcGVydHkobikmJihlPWUuY2xvbmVTaGFsbG93KG49dFtuXSkpLG8ucHVzaChlKSxyLnNldChuLGUpfSkpLHtyZWdpb25zOm8sYm91bmRpbmdSZWN0Om4uYm91bmRpbmdSZWN0fHxuZXcgdmkoMCwwLDAsMCkscmVnaW9uc01hcDpyfX0sdC5wcm90b3R5cGUuX3BhcnNlVG9SZWdpb25zPWZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcy5fbWFwTmFtZSxpPXRoaXMuX2dlb0pTT047dHJ5e2U9aT9zdihpLHQpOltdfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcigiSW52YWxpZCBnZW9Kc29uIGZvcm1hdFxuIit0Lm1lc3NhZ2UpfXJldHVybiBmdW5jdGlvbih0LGUpe2lmKCJjaGluYSI9PT10KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylpZihlW25dLm5hbWU9PT11dilyZXR1cm47ZS5wdXNoKG5ldyBudih1dixSKGh2LChmdW5jdGlvbih0KXtyZXR1cm57dHlwZToicG9seWdvbiIsZXh0ZXJpb3I6dH19KSksbHYpKX19KG4sZSksTyhlLChmdW5jdGlvbih0KXt2YXIgZT10Lm5hbWU7IWZ1bmN0aW9uKHQsZSl7aWYoImNoaW5hIj09PXQpe3ZhciBuPWR2W2UubmFtZV07aWYobil7dmFyIGk9ZS5nZXRDZW50ZXIoKTtpWzBdKz1uWzBdLzEwLjUsaVsxXSs9LW5bMV0vMTQsZS5zZXRDZW50ZXIoaSl9fX0obix0KSxmdW5jdGlvbih0LGUpe2lmKCJ3b3JsZCI9PT10KXt2YXIgbj1mdltlLm5hbWVdO2lmKG4pe3ZhciBpPVtuWzBdLG5bMV1dO2Uuc2V0Q2VudGVyKGkpfX19KG4sdCksZnVuY3Rpb24odCxlKXsiY2hpbmEiPT09dCYmIuWPsOa5viI9PT1lLm5hbWUmJmUuZ2VvbWV0cmllcy5wdXNoKHt0eXBlOiJwb2x5Z29uIixleHRlcmlvcjpndlswXX0pfShuLHQpO3ZhciBpPXRoaXMuX3NwZWNpYWxBcmVhcyYmdGhpcy5fc3BlY2lhbEFyZWFzW2VdO2kmJnQudHJhbnNmb3JtVG8oaS5sZWZ0LGkudG9wLGkud2lkdGgsaS5oZWlnaHQpfSksdGhpcyksZX0sdC5wcm90b3R5cGUuZ2V0TWFwRm9yVXNlcj1mdW5jdGlvbigpe3JldHVybntnZW9Kc29uOnRoaXMuX2dlb0pTT04sZ2VvSlNPTjp0aGlzLl9nZW9KU09OLHNwZWNpYWxBcmVhczp0aGlzLl9zcGVjaWFsQXJlYXN9fSx0fSgpO2Z1bmN0aW9uIHZ2KHQpe2Zvcih2YXIgZSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl0uZ2V0Qm91bmRpbmdSZWN0KCk7KGU9ZXx8aS5jbG9uZSgpKS51bmlvbihpKX1yZXR1cm4gZX12YXIgbXY9Y3QoKSxfdj1mdW5jdGlvbih0LGUsbil7aWYoZS5zdmcpe3ZhciBpPW5ldyBvdih0LGUuc3ZnKTttdi5zZXQodCxpKX1lbHNle3ZhciByPWUuZ2VvSnNvbnx8ZS5nZW9KU09OO3ImJiFlLmZlYXR1cmVzP249ZS5zcGVjaWFsQXJlYXM6cj1lO2k9bmV3IHl2KHQscixuKTttdi5zZXQodCxpKX19LHh2PWZ1bmN0aW9uKHQpe3JldHVybiBtdi5nZXQodCl9LGJ2PWZ1bmN0aW9uKHQpe3ZhciBlPW12LmdldCh0KTtyZXR1cm4gZSYmImdlb0pTT04iPT09ZS50eXBlJiZlLmdldE1hcEZvclVzZXIoKX0sd3Y9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPW12LmdldCh0KTtpZihpKXJldHVybiBpLmxvYWQoZSxuKX0sU3Y9bmV3IEZ0LE12PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93LEl2PTJlMyxUdj00NTAwLEN2PXtQUk9DRVNTT1I6e0ZJTFRFUjoxZTMsU0VSSUVTX0ZJTFRFUjo4MDAsU1RBVElTVElDOjVlM30sVklTVUFMOntMQVlPVVQ6MWUzLFBST0dSRVNTSVZFX0xBWU9VVDoxMTAwLEdMT0JBTDpJdixDSEFSVDozZTMsUE9TVF9DSEFSVF9MQVlPVVQ6NDYwMCxDT01QT05FTlQ6NGUzLEJSVVNIOjVlMyxDSEFSVF9JVEVNOlR2LEFSSUE6NmUzLERFQ0FMOjdlM319LER2PS9eW2EtekEtWjAtOV9dKyQvLEF2PSJfX2Nvbm5lY3RVcGRhdGVTdGF0dXMiO2Z1bmN0aW9uIGt2KHQpe3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKyllW25dPWFyZ3VtZW50c1tuXTtpZighdGhpcy5pc0Rpc3Bvc2VkKCkpcmV0dXJuIFB2KHRoaXMsdCxlKTtpbSh0aGlzLmlkKX19ZnVuY3Rpb24gTHYodCl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbl09YXJndW1lbnRzW25dO3JldHVybiBQdih0aGlzLHQsZSl9fWZ1bmN0aW9uIFB2KHQsZSxuKXtyZXR1cm4gblswXT1uWzBdJiZuWzBdLnRvTG93ZXJDYXNlKCksRnQucHJvdG90eXBlW2VdLmFwcGx5KHQsbil9dmFyIE92LFJ2LE52LHp2LEV2LFZ2LEJ2LEd2LEZ2LEh2LFd2LFV2LFh2LFl2LFp2LGp2LHF2LEt2LCR2LEp2PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZX0oRnQpLFF2PUp2LnByb3RvdHlwZTtRdi5vbj1Mdigib24iKSxRdi5vZmY9THYoIm9mZiIpO3ZhciB0bT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpKXt2YXIgcj10LmNhbGwodGhpcyxuZXcgemcpfHx0aGlzO3IuX2NoYXJ0c1ZpZXdzPVtdLHIuX2NoYXJ0c01hcD17fSxyLl9jb21wb25lbnRzVmlld3M9W10sci5fY29tcG9uZW50c01hcD17fSxyLl9wZW5kaW5nQWN0aW9ucz1bXSxpPWl8fHt9LCJzdHJpbmciPT10eXBlb2YgbiYmKG49dW1bbl0pLHIuX2RvbT1lO3ZhciBvPSJjYW52YXMiLGE9ITEscz1yLl96cj1VaShlLHtyZW5kZXJlcjppLnJlbmRlcmVyfHxvLGRldmljZVBpeGVsUmF0aW86aS5kZXZpY2VQaXhlbFJhdGlvLHdpZHRoOmkud2lkdGgsaGVpZ2h0OmkuaGVpZ2h0LHVzZURpcnR5UmVjdDpudWxsPT1pLnVzZURpcnR5UmVjdD9hOmkudXNlRGlydHlSZWN0fSk7ci5fdGhyb3R0bGVkWnJGbHVzaD1uZyhCKHMuZmx1c2gscyksMTcpLChuPVMobikpJiZ1ZChuLCEwKSxyLl90aGVtZT1uLHIuX2xvY2FsZT1mdW5jdGlvbih0KXtpZihXKHQpKXt2YXIgZT1LaFt0LnRvVXBwZXJDYXNlKCldfHx7fTtyZXR1cm4gdD09PVpofHx0PT09amg/UyhlKTpNKFMoZSksUyhLaC5FTiksITEpfXJldHVybiBNKFModCksUyhLaC5FTiksITEpfShpLmxvY2FsZXx8SmgpLHIuX2Nvb3JkU3lzTWdyPW5ldyBHcDt2YXIgbD1yLl9hcGk9anYocik7ZnVuY3Rpb24gdSh0LGUpe3JldHVybiB0Ll9fcHJpby1lLl9fcHJpb31yZXR1cm4geGUobG0sdSkseGUoYW0sdSksci5fc2NoZWR1bGVyPW5ldyBmZyhyLGwsYW0sbG0pLHIuX21lc3NhZ2VDZW50ZXI9bmV3IEp2LHIuX2luaXRFdmVudHMoKSxyLnJlc2l6ZT1CKHIucmVzaXplLHIpLHMuYW5pbWF0aW9uLm9uKCJmcmFtZSIsci5fb25mcmFtZSxyKSxIdihzLHIpLFd2KHMsciksbHQocikscn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLl9vbmZyYW1lPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2Rpc3Bvc2VkKXskdih0aGlzKTt2YXIgdD10aGlzLl9zY2hlZHVsZXI7aWYodGhpcy5fX3BlbmRpbmdVcGRhdGUpe3ZhciBlPXRoaXMuX19wZW5kaW5nVXBkYXRlLnNpbGVudDt0aGlzLl9fZmxhZ0luTWFpblByb2Nlc3M9ITAsT3YodGhpcyksenYudXBkYXRlLmNhbGwodGhpcyxudWxsLHRoaXMuX19wZW5kaW5nVXBkYXRlLnVwZGF0ZVBhcmFtcyksdGhpcy5fenIuZmx1c2goKSx0aGlzLl9fZmxhZ0luTWFpblByb2Nlc3M9ITEsdGhpcy5fX3BlbmRpbmdVcGRhdGU9bnVsbCxHdi5jYWxsKHRoaXMsZSksRnYuY2FsbCh0aGlzLGUpfWVsc2UgaWYodC51bmZpbmlzaGVkKXt2YXIgbj0xLGk9dGhpcy5fbW9kZWwscj10aGlzLl9hcGk7dC51bmZpbmlzaGVkPSExO2Rve3ZhciBvPStuZXcgRGF0ZTt0LnBlcmZvcm1TZXJpZXNUYXNrcyhpKSx0LnBlcmZvcm1EYXRhUHJvY2Vzc29yVGFza3MoaSksVnYodGhpcyxpKSx0LnBlcmZvcm1WaXN1YWxUYXNrcyhpKSxadih0aGlzLHRoaXMuX21vZGVsLHIsInJlbWFpbiIse30pLG4tPStuZXcgRGF0ZS1vfXdoaWxlKG4+MCYmdC51bmZpbmlzaGVkKTt0LnVuZmluaXNoZWR8fHRoaXMuX3pyLmZsdXNoKCl9fX0sZS5wcm90b3R5cGUuZ2V0RG9tPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RvbX0sZS5wcm90b3R5cGUuZ2V0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZH0sZS5wcm90b3R5cGUuZ2V0WnI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fenJ9LGUucHJvdG90eXBlLnNldE9wdGlvbj1mdW5jdGlvbih0LGUsbil7aWYodGhpcy5fZGlzcG9zZWQpaW0odGhpcy5pZCk7ZWxzZXt2YXIgaSxyLG87aWYoWShlKSYmKG49ZS5sYXp5VXBkYXRlLGk9ZS5zaWxlbnQscj1lLnJlcGxhY2VNZXJnZSxvPWUudHJhbnNpdGlvbixlPWUubm90TWVyZ2UpLHRoaXMuX19mbGFnSW5NYWluUHJvY2Vzcz0hMCwhdGhpcy5fbW9kZWx8fGUpe3ZhciBhPW5ldyBIcCh0aGlzLl9hcGkpLHM9dGhpcy5fdGhlbWUsbD10aGlzLl9tb2RlbD1uZXcgT3A7bC5zY2hlZHVsZXI9dGhpcy5fc2NoZWR1bGVyLGwuaW5pdChudWxsLG51bGwsbnVsbCxzLHRoaXMuX2xvY2FsZSxhKX10aGlzLl9tb2RlbC5zZXRPcHRpb24odCx7cmVwbGFjZU1lcmdlOnJ9LHNtKTt2YXIgdT17c2VyaWVzVHJhbnNpdGlvbjpvLG9wdGlvbkNoYW5nZWQ6ITB9O24/KHRoaXMuX19wZW5kaW5nVXBkYXRlPXtzaWxlbnQ6aSx1cGRhdGVQYXJhbXM6dX0sdGhpcy5fX2ZsYWdJbk1haW5Qcm9jZXNzPSExLHRoaXMuZ2V0WnIoKS53YWtlVXAoKSk6KE92KHRoaXMpLHp2LnVwZGF0ZS5jYWxsKHRoaXMsbnVsbCx1KSx0aGlzLl96ci5mbHVzaCgpLHRoaXMuX19wZW5kaW5nVXBkYXRlPW51bGwsdGhpcy5fX2ZsYWdJbk1haW5Qcm9jZXNzPSExLEd2LmNhbGwodGhpcyxpKSxGdi5jYWxsKHRoaXMsaSkpfX0sZS5wcm90b3R5cGUuc2V0VGhlbWU9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJFQ2hhcnRzI3NldFRoZW1lKCkgaXMgREVQUkVDQVRFRCBpbiBFQ2hhcnRzIDMuMCIpfSxlLnByb3RvdHlwZS5nZXRNb2RlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tb2RlbH0sZS5wcm90b3R5cGUuZ2V0T3B0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21vZGVsJiZ0aGlzLl9tb2RlbC5nZXRPcHRpb24oKX0sZS5wcm90b3R5cGUuZ2V0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fenIuZ2V0V2lkdGgoKX0sZS5wcm90b3R5cGUuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3pyLmdldEhlaWdodCgpfSxlLnByb3RvdHlwZS5nZXREZXZpY2VQaXhlbFJhdGlvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3pyLnBhaW50ZXIuZHByfHxNdiYmd2luZG93LmRldmljZVBpeGVsUmF0aW98fDF9LGUucHJvdG90eXBlLmdldFJlbmRlcmVkQ2FudmFzPWZ1bmN0aW9uKHQpe2lmKGEuY2FudmFzU3VwcG9ydGVkKXJldHVybiB0PXR8fHt9LHRoaXMuX3pyLnBhaW50ZXIuZ2V0UmVuZGVyZWRDYW52YXMoe2JhY2tncm91bmRDb2xvcjp0LmJhY2tncm91bmRDb2xvcnx8dGhpcy5fbW9kZWwuZ2V0KCJiYWNrZ3JvdW5kQ29sb3IiKSxwaXhlbFJhdGlvOnQucGl4ZWxSYXRpb3x8dGhpcy5nZXREZXZpY2VQaXhlbFJhdGlvKCl9KX0sZS5wcm90b3R5cGUuZ2V0U3ZnRGF0YVVSTD1mdW5jdGlvbigpe2lmKGEuc3ZnU3VwcG9ydGVkKXt2YXIgdD10aGlzLl96cjtyZXR1cm4gTyh0LnN0b3JhZ2UuZ2V0RGlzcGxheUxpc3QoKSwoZnVuY3Rpb24odCl7dC5zdG9wQW5pbWF0aW9uKG51bGwsITApfSkpLHQucGFpbnRlci50b0RhdGFVUkwoKX19LGUucHJvdG90eXBlLmdldERhdGFVUkw9ZnVuY3Rpb24odCl7aWYoIXRoaXMuX2Rpc3Bvc2VkKXt2YXIgZT0odD10fHx7fSkuZXhjbHVkZUNvbXBvbmVudHMsbj10aGlzLl9tb2RlbCxpPVtdLHI9dGhpcztPKGUsKGZ1bmN0aW9uKHQpe24uZWFjaENvbXBvbmVudCh7bWFpblR5cGU6dH0sKGZ1bmN0aW9uKHQpe3ZhciBlPXIuX2NvbXBvbmVudHNNYXBbdC5fX3ZpZXdJZF07ZS5ncm91cC5pZ25vcmV8fChpLnB1c2goZSksZS5ncm91cC5pZ25vcmU9ITApfSkpfSkpO3ZhciBvPSJzdmciPT09dGhpcy5fenIucGFpbnRlci5nZXRUeXBlKCk/dGhpcy5nZXRTdmdEYXRhVVJMKCk6dGhpcy5nZXRSZW5kZXJlZENhbnZhcyh0KS50b0RhdGFVUkwoImltYWdlLyIrKHQmJnQudHlwZXx8InBuZyIpKTtyZXR1cm4gTyhpLChmdW5jdGlvbih0KXt0Lmdyb3VwLmlnbm9yZT0hMX0pKSxvfWltKHRoaXMuaWQpfSxlLnByb3RvdHlwZS5nZXRDb25uZWN0ZWREYXRhVVJMPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2Rpc3Bvc2VkKWltKHRoaXMuaWQpO2Vsc2UgaWYoYS5jYW52YXNTdXBwb3J0ZWQpe3ZhciBlPSJzdmciPT09dC50eXBlLG49dGhpcy5ncm91cCxpPU1hdGgubWluLHI9TWF0aC5tYXgsbz0xLzA7aWYocG1bbl0pe3ZhciBzPW8sbD1vLHU9LTEvMCxoPS0xLzAsYz1bXSxwPXQmJnQucGl4ZWxSYXRpb3x8dGhpcy5nZXREZXZpY2VQaXhlbFJhdGlvKCk7TyhjbSwoZnVuY3Rpb24obyxhKXtpZihvLmdyb3VwPT09bil7dmFyIHA9ZT9vLmdldFpyKCkucGFpbnRlci5nZXRTdmdEb20oKS5pbm5lckhUTUw6by5nZXRSZW5kZXJlZENhbnZhcyhTKHQpKSxkPW8uZ2V0RG9tKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cz1pKGQubGVmdCxzKSxsPWkoZC50b3AsbCksdT1yKGQucmlnaHQsdSksaD1yKGQuYm90dG9tLGgpLGMucHVzaCh7ZG9tOnAsbGVmdDpkLmxlZnQsdG9wOmQudG9wfSl9fSkpO3ZhciBkPSh1Kj1wKS0ocyo9cCksZj0oaCo9cCktKGwqPXApLGc9RCgpLHk9VWkoZyx7cmVuZGVyZXI6ZT8ic3ZnIjoiY2FudmFzIn0pO2lmKHkucmVzaXplKHt3aWR0aDpkLGhlaWdodDpmfSksZSl7dmFyIHY9IiI7cmV0dXJuIE8oYywoZnVuY3Rpb24odCl7dmFyIGU9dC5sZWZ0LXMsbj10LnRvcC1sO3YrPSc8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgnK2UrIiwiK24rJykiPicrdC5kb20rIjwvZz4ifSkpLHkucGFpbnRlci5nZXRTdmdSb290KCkuaW5uZXJIVE1MPXYsdC5jb25uZWN0ZWRCYWNrZ3JvdW5kQ29sb3ImJnkucGFpbnRlci5zZXRCYWNrZ3JvdW5kQ29sb3IodC5jb25uZWN0ZWRCYWNrZ3JvdW5kQ29sb3IpLHkucmVmcmVzaEltbWVkaWF0ZWx5KCkseS5wYWludGVyLnRvRGF0YVVSTCgpfXJldHVybiB0LmNvbm5lY3RlZEJhY2tncm91bmRDb2xvciYmeS5hZGQobmV3IGNzKHtzaGFwZTp7eDowLHk6MCx3aWR0aDpkLGhlaWdodDpmfSxzdHlsZTp7ZmlsbDp0LmNvbm5lY3RlZEJhY2tncm91bmRDb2xvcn19KSksTyhjLChmdW5jdGlvbih0KXt2YXIgZT1uZXcgcnMoe3N0eWxlOnt4OnQubGVmdCpwLXMseTp0LnRvcCpwLWwsaW1hZ2U6dC5kb219fSk7eS5hZGQoZSl9KSkseS5yZWZyZXNoSW1tZWRpYXRlbHkoKSxnLnRvRGF0YVVSTCgiaW1hZ2UvIisodCYmdC50eXBlfHwicG5nIikpfXJldHVybiB0aGlzLmdldERhdGFVUkwodCl9fSxlLnByb3RvdHlwZS5jb252ZXJ0VG9QaXhlbD1mdW5jdGlvbih0LGUpe3JldHVybiBFdih0aGlzLCJjb252ZXJ0VG9QaXhlbCIsdCxlKX0sZS5wcm90b3R5cGUuY29udmVydEZyb21QaXhlbD1mdW5jdGlvbih0LGUpe3JldHVybiBFdih0aGlzLCJjb252ZXJ0RnJvbVBpeGVsIix0LGUpfSxlLnByb3RvdHlwZS5jb250YWluUGl4ZWw9ZnVuY3Rpb24odCxlKXt2YXIgbjtpZighdGhpcy5fZGlzcG9zZWQpcmV0dXJuIE8oenIodGhpcy5fbW9kZWwsdCksKGZ1bmN0aW9uKHQsaSl7aS5pbmRleE9mKCJNb2RlbHMiKT49MCYmTyh0LChmdW5jdGlvbih0KXt2YXIgcj10LmNvb3JkaW5hdGVTeXN0ZW07aWYociYmci5jb250YWluUG9pbnQpbj1ufHwhIXIuY29udGFpblBvaW50KGUpO2Vsc2UgaWYoInNlcmllc01vZGVscyI9PT1pKXt2YXIgbz10aGlzLl9jaGFydHNNYXBbdC5fX3ZpZXdJZF07byYmby5jb250YWluUG9pbnQmJihuPW58fG8uY29udGFpblBvaW50KGUsdCkpfWVsc2UgMH0pLHRoaXMpfSksdGhpcyksISFuO2ltKHRoaXMuaWQpfSxlLnByb3RvdHlwZS5nZXRWaXN1YWw9ZnVuY3Rpb24odCxlKXt2YXIgbj16cih0aGlzLl9tb2RlbCx0LHtkZWZhdWx0TWFpblR5cGU6InNlcmllcyJ9KSxpPW4uc2VyaWVzTW9kZWw7dmFyIHI9aS5nZXREYXRhKCksbz1uLmhhc093blByb3BlcnR5KCJkYXRhSW5kZXhJbnNpZGUiKT9uLmRhdGFJbmRleEluc2lkZTpuLmhhc093blByb3BlcnR5KCJkYXRhSW5kZXgiKT9yLmluZGV4T2ZSYXdJbmRleChuLmRhdGFJbmRleCk6bnVsbDtyZXR1cm4gbnVsbCE9bz9WZyhyLG8sZSk6QmcocixlKX0sZS5wcm90b3R5cGUuZ2V0Vmlld09mQ29tcG9uZW50TW9kZWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NvbXBvbmVudHNNYXBbdC5fX3ZpZXdJZF19LGUucHJvdG90eXBlLmdldFZpZXdPZlNlcmllc01vZGVsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jaGFydHNNYXBbdC5fX3ZpZXdJZF19LGUucHJvdG90eXBlLl9pbml0RXZlbnRzPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLGk9dGhpcztPKG5tLChmdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbihlKXt2YXIgbixyPWkuZ2V0TW9kZWwoKSxvPWUudGFyZ2V0LGE9Imdsb2JhbG91dCI9PT10O2lmKGE/bj17fTpvJiZXZyhvLChmdW5jdGlvbih0KXt2YXIgZT1Tcyh0KTtpZihlJiZudWxsIT1lLmRhdGFJbmRleCl7dmFyIGk9ZS5kYXRhTW9kZWx8fHIuZ2V0U2VyaWVzQnlJbmRleChlLnNlcmllc0luZGV4KTtyZXR1cm4gbj1pJiZpLmdldERhdGFQYXJhbXMoZS5kYXRhSW5kZXgsZS5kYXRhVHlwZSl8fHt9LCEwfWlmKGUuZXZlbnREYXRhKXJldHVybiBuPVQoe30sZS5ldmVudERhdGEpLCEwfSksITApLG4pe3ZhciBzPW4uY29tcG9uZW50VHlwZSxsPW4uY29tcG9uZW50SW5kZXg7Im1hcmtMaW5lIiE9PXMmJiJtYXJrUG9pbnQiIT09cyYmIm1hcmtBcmVhIiE9PXN8fChzPSJzZXJpZXMiLGw9bi5zZXJpZXNJbmRleCk7dmFyIHU9cyYmbnVsbCE9bCYmci5nZXRDb21wb25lbnQocyxsKSxoPXUmJmlbInNlcmllcyI9PT11Lm1haW5UeXBlPyJfY2hhcnRzTWFwIjoiX2NvbXBvbmVudHNNYXAiXVt1Ll9fdmlld0lkXTswLG4uZXZlbnQ9ZSxuLnR5cGU9dCxpLl8kZXZlbnRQcm9jZXNzb3IuZXZlbnRJbmZvPXt0YXJnZXRFbDpvLHBhY2tlZEV2ZW50Om4sbW9kZWw6dSx2aWV3Omh9LGkudHJpZ2dlcih0LG4pfX07ZS56ckV2ZW50ZnVsQ2FsbEF0TGFzdD0hMCxpLl96ci5vbih0LGUsaSl9KSksTyhvbSwoZnVuY3Rpb24odCxlKXtpLl9tZXNzYWdlQ2VudGVyLm9uKGUsKGZ1bmN0aW9uKHQpe3RoaXMudHJpZ2dlcihlLHQpfSksaSl9KSksTyhbInNlbGVjdGNoYW5nZWQiXSwoZnVuY3Rpb24odCl7aS5fbWVzc2FnZUNlbnRlci5vbih0LChmdW5jdGlvbihlKXt0aGlzLnRyaWdnZXIodCxlKX0pLGkpfSkpLHQ9dGhpcy5fbWVzc2FnZUNlbnRlcixlPXRoaXMsbj10aGlzLl9hcGksdC5vbigic2VsZWN0Y2hhbmdlZCIsKGZ1bmN0aW9uKHQpe3ZhciBpPW4uZ2V0TW9kZWwoKTt0LmlzRnJvbUNsaWNrPyhIZygibWFwIiwic2VsZWN0Y2hhbmdlZCIsZSxpLHQpLEhnKCJwaWUiLCJzZWxlY3RjaGFuZ2VkIixlLGksdCkpOiJzZWxlY3QiPT09dC5mcm9tQWN0aW9uPyhIZygibWFwIiwic2VsZWN0ZWQiLGUsaSx0KSxIZygicGllIiwic2VsZWN0ZWQiLGUsaSx0KSk6InVuc2VsZWN0Ij09PXQuZnJvbUFjdGlvbiYmKEhnKCJtYXAiLCJ1bnNlbGVjdGVkIixlLGksdCksSGcoInBpZSIsInVuc2VsZWN0ZWQiLGUsaSx0KSl9KSl9LGUucHJvdG90eXBlLmlzRGlzcG9zZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlzcG9zZWR9LGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fZGlzcG9zZWQ/aW0odGhpcy5pZCk6dGhpcy5zZXRPcHRpb24oe3NlcmllczpbXX0sITApfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7aWYodGhpcy5fZGlzcG9zZWQpaW0odGhpcy5pZCk7ZWxzZXt0aGlzLl9kaXNwb3NlZD0hMCxGcih0aGlzLmdldERvbSgpLGdtLCIiKTt2YXIgdD10aGlzLGU9dC5fYXBpLG49dC5fbW9kZWw7Tyh0Ll9jb21wb25lbnRzVmlld3MsKGZ1bmN0aW9uKHQpe3QuZGlzcG9zZShuLGUpfSkpLE8odC5fY2hhcnRzVmlld3MsKGZ1bmN0aW9uKHQpe3QuZGlzcG9zZShuLGUpfSkpLHQuX3pyLmRpc3Bvc2UoKSx0Ll9kb209dC5fbW9kZWw9dC5fY2hhcnRzTWFwPXQuX2NvbXBvbmVudHNNYXA9dC5fY2hhcnRzVmlld3M9dC5fY29tcG9uZW50c1ZpZXdzPXQuX3NjaGVkdWxlcj10Ll9hcGk9dC5fenI9dC5fdGhyb3R0bGVkWnJGbHVzaD10Ll90aGVtZT10Ll9jb29yZFN5c01ncj10Ll9tZXNzYWdlQ2VudGVyPW51bGwsZGVsZXRlIGNtW3QuaWRdfX0sZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2Rpc3Bvc2VkKWltKHRoaXMuaWQpO2Vsc2V7dGhpcy5fenIucmVzaXplKHQpO3ZhciBlPXRoaXMuX21vZGVsO2lmKHRoaXMuX2xvYWRpbmdGWCYmdGhpcy5fbG9hZGluZ0ZYLnJlc2l6ZSgpLGUpe3ZhciBuPWUucmVzZXRPcHRpb24oIm1lZGlhIiksaT10JiZ0LnNpbGVudDt0aGlzLl9fcGVuZGluZ1VwZGF0ZSYmKG51bGw9PWkmJihpPXRoaXMuX19wZW5kaW5nVXBkYXRlLnNpbGVudCksbj0hMCx0aGlzLl9fcGVuZGluZ1VwZGF0ZT1udWxsKSx0aGlzLl9fZmxhZ0luTWFpblByb2Nlc3M9ITAsbiYmT3YodGhpcyksenYudXBkYXRlLmNhbGwodGhpcyx7dHlwZToicmVzaXplIixhbmltYXRpb246VCh7ZHVyYXRpb246MH0sdCYmdC5hbmltYXRpb24pfSksdGhpcy5fX2ZsYWdJbk1haW5Qcm9jZXNzPSExLEd2LmNhbGwodGhpcyxpKSxGdi5jYWxsKHRoaXMsaSl9fX0sZS5wcm90b3R5cGUuc2hvd0xvYWRpbmc9ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9kaXNwb3NlZClpbSh0aGlzLmlkKTtlbHNlIGlmKFkodCkmJihlPXQsdD0iIiksdD10fHwiZGVmYXVsdCIsdGhpcy5oaWRlTG9hZGluZygpLGhtW3RdKXt2YXIgbj1obVt0XSh0aGlzLl9hcGksZSksaT10aGlzLl96cjt0aGlzLl9sb2FkaW5nRlg9bixpLmFkZChuKX19LGUucHJvdG90eXBlLmhpZGVMb2FkaW5nPWZ1bmN0aW9uKCl7dGhpcy5fZGlzcG9zZWQ/aW0odGhpcy5pZCk6KHRoaXMuX2xvYWRpbmdGWCYmdGhpcy5fenIucmVtb3ZlKHRoaXMuX2xvYWRpbmdGWCksdGhpcy5fbG9hZGluZ0ZYPW51bGwpfSxlLnByb3RvdHlwZS5tYWtlQWN0aW9uRnJvbUV2ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPVQoe30sdCk7cmV0dXJuIGUudHlwZT1vbVt0LnR5cGVdLGV9LGUucHJvdG90eXBlLmRpc3BhdGNoQWN0aW9uPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fZGlzcG9zZWQpaW0odGhpcy5pZCk7ZWxzZSBpZihZKGUpfHwoZT17c2lsZW50OiEhZX0pLHJtW3QudHlwZV0mJnRoaXMuX21vZGVsKWlmKHRoaXMuX19mbGFnSW5NYWluUHJvY2Vzcyl0aGlzLl9wZW5kaW5nQWN0aW9ucy5wdXNoKHQpO2Vsc2V7dmFyIG49ZS5zaWxlbnQ7QnYuY2FsbCh0aGlzLHQsbik7dmFyIGk9ZS5mbHVzaDtpP3RoaXMuX3pyLmZsdXNoKCk6ITEhPT1pJiZhLmJyb3dzZXIud2VDaGF0JiZ0aGlzLl90aHJvdHRsZWRackZsdXNoKCksR3YuY2FsbCh0aGlzLG4pLEZ2LmNhbGwodGhpcyxuKX19LGUucHJvdG90eXBlLnVwZGF0ZUxhYmVsTGF5b3V0PWZ1bmN0aW9uKCl7U3YudHJpZ2dlcigic2VyaWVzOmxheW91dGxhYmVscyIsdGhpcy5fbW9kZWwsdGhpcy5fYXBpLHt1cGRhdGVkU2VyaWVzOltdfSl9LGUucHJvdG90eXBlLmFwcGVuZERhdGE9ZnVuY3Rpb24odCl7aWYodGhpcy5fZGlzcG9zZWQpaW0odGhpcy5pZCk7ZWxzZXt2YXIgZT10LnNlcmllc0luZGV4LG49dGhpcy5nZXRNb2RlbCgpLmdldFNlcmllc0J5SW5kZXgoZSk7MCxuLmFwcGVuZERhdGEodCksdGhpcy5fc2NoZWR1bGVyLnVuZmluaXNoZWQ9ITAsdGhpcy5nZXRacigpLndha2VVcCgpfX0sZS5pbnRlcm5hbEZpZWxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtmb3IodmFyIGU9W10sbj10LmN1cnJlbnRTdGF0ZXMsaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgcj1uW2ldOyJlbXBoYXNpcyIhPT1yJiYiYmx1ciIhPT1yJiYic2VsZWN0IiE9PXImJmUucHVzaChyKX10LnNlbGVjdGVkJiZ0LnN0YXRlcy5zZWxlY3QmJmUucHVzaCgic2VsZWN0IiksMj09PXQuaG92ZXJTdGF0ZSYmdC5zdGF0ZXMuZW1waGFzaXM/ZS5wdXNoKCJlbXBoYXNpcyIpOjE9PT10LmhvdmVyU3RhdGUmJnQuc3RhdGVzLmJsdXImJmUucHVzaCgiYmx1ciIpLHQudXNlU3RhdGVzKGUpfWZ1bmN0aW9uIGUodCxlKXt0LnByZXZlbnRBdXRvWnx8aShlLmdyb3VwLHQuZ2V0KCJ6Iil8fDAsdC5nZXQoInpsZXZlbCIpfHwwLC0xLzApfWZ1bmN0aW9uIGkodCxlLG4scil7dmFyIG89dC5nZXRUZXh0Q29udGVudCgpLGE9dC5nZXRUZXh0R3VpZGVMaW5lKCk7aWYodC5pc0dyb3VwKWZvcih2YXIgcz10LmNoaWxkcmVuUmVmKCksbD0wO2w8cy5sZW5ndGg7bCsrKXI9TWF0aC5tYXgoaShzW2xdLGUsbixyKSxyKTtlbHNlIHQuej1lLHQuemxldmVsPW4scj1NYXRoLm1heCh0LnoyLHIpO2lmKG8mJihvLno9ZSxvLnpsZXZlbD1uLGlzRmluaXRlKHIpJiYoby56Mj1yKzIpKSxhKXt2YXIgdT10LnRleHRHdWlkZUxpbmVDb25maWc7YS56PWUsYS56bGV2ZWw9bixpc0Zpbml0ZShyKSYmKGEuejI9cisodSYmdS5zaG93QWJvdmU/MTotMSkpfXJldHVybiByfWZ1bmN0aW9uIHIodCxlKXtlLmdyb3VwLnRyYXZlcnNlKChmdW5jdGlvbih0KXtpZighQnUodCkpe3ZhciBlPXQuZ2V0VGV4dENvbnRlbnQoKSxuPXQuZ2V0VGV4dEd1aWRlTGluZSgpO3Quc3RhdGVUcmFuc2l0aW9uJiYodC5zdGF0ZVRyYW5zaXRpb249bnVsbCksZSYmZS5zdGF0ZVRyYW5zaXRpb24mJihlLnN0YXRlVHJhbnNpdGlvbj1udWxsKSxuJiZuLnN0YXRlVHJhbnNpdGlvbiYmKG4uc3RhdGVUcmFuc2l0aW9uPW51bGwpLHQuaGFzU3RhdGUoKT8odC5wcmV2U3RhdGVzPXQuY3VycmVudFN0YXRlcyx0LmNsZWFyU3RhdGVzKCkpOnQucHJldlN0YXRlcyYmKHQucHJldlN0YXRlcz1udWxsKX19KSl9ZnVuY3Rpb24gbyhlLG4pe3ZhciBpPWUuZ2V0TW9kZWwoInN0YXRlQW5pbWF0aW9uIikscj1lLmlzQW5pbWF0aW9uRW5hYmxlZCgpLG89aS5nZXQoImR1cmF0aW9uIiksYT1vPjA/e2R1cmF0aW9uOm8sZGVsYXk6aS5nZXQoImRlbGF5IiksZWFzaW5nOmkuZ2V0KCJlYXNpbmciKX06bnVsbDtuLmdyb3VwLnRyYXZlcnNlKChmdW5jdGlvbihlKXtpZihlLnN0YXRlcyYmZS5zdGF0ZXMuZW1waGFzaXMpe2lmKEJ1KGUpKXJldHVybjtpZihlIGluc3RhbmNlb2YgUWEmJmZ1bmN0aW9uKHQpe3ZhciBlPUNzKHQpO2Uubm9ybWFsRmlsbD10LnN0eWxlLmZpbGwsZS5ub3JtYWxTdHJva2U9dC5zdHlsZS5zdHJva2U7dmFyIG49dC5zdGF0ZXMuc2VsZWN0fHx7fTtlLnNlbGVjdEZpbGw9bi5zdHlsZSYmbi5zdHlsZS5maWxsfHxudWxsLGUuc2VsZWN0U3Ryb2tlPW4uc3R5bGUmJm4uc3R5bGUuc3Ryb2tlfHxudWxsfShlKSxlLl9fZGlydHkpe3ZhciBuPWUucHJldlN0YXRlcztuJiZlLnVzZVN0YXRlcyhuKX1pZihyKXtlLnN0YXRlVHJhbnNpdGlvbj1hO3ZhciBpPWUuZ2V0VGV4dENvbnRlbnQoKSxvPWUuZ2V0VGV4dEd1aWRlTGluZSgpO2kmJihpLnN0YXRlVHJhbnNpdGlvbj1hKSxvJiYoby5zdGF0ZVRyYW5zaXRpb249YSl9ZS5fX2RpcnR5JiZ0KGUpfX0pKX1Pdj1mdW5jdGlvbih0KXt2YXIgZT10Ll9zY2hlZHVsZXI7ZS5yZXN0b3JlUGlwZWxpbmVzKHQuX21vZGVsKSxlLnByZXBhcmVTdGFnZVRhc2tzKCksUnYodCwhMCksUnYodCwhMSksZS5wbGFuKCl9LFJ2PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQuX21vZGVsLGk9dC5fc2NoZWR1bGVyLHI9ZT90Ll9jb21wb25lbnRzVmlld3M6dC5fY2hhcnRzVmlld3Msbz1lP3QuX2NvbXBvbmVudHNNYXA6dC5fY2hhcnRzTWFwLGE9dC5fenIscz10Ll9hcGksbD0wO2w8ci5sZW5ndGg7bCsrKXJbbF0uX19hbGl2ZT0hMTtmdW5jdGlvbiB1KHQpe3ZhciBsPXQuX19yZXF1aXJlTmV3Vmlldzt0Ll9fcmVxdWlyZU5ld1ZpZXc9ITE7dmFyIHU9Il9lY18iK3QuaWQrIl8iK3QudHlwZSxoPSFsJiZvW3VdO2lmKCFoKXt2YXIgYz1Zcih0LnR5cGUpLHA9ZT9XZi5nZXRDbGFzcyhjLm1haW4sYy5zdWIpOlpmLmdldENsYXNzKGMuc3ViKTswLChoPW5ldyBwKS5pbml0KG4scyksb1t1XT1oLHIucHVzaChoKSxhLmFkZChoLmdyb3VwKX10Ll9fdmlld0lkPWguX19pZD11LGguX19hbGl2ZT0hMCxoLl9fbW9kZWw9dCxoLmdyb3VwLl9fZWNDb21wb25lbnRJbmZvPXttYWluVHlwZTp0Lm1haW5UeXBlLGluZGV4OnQuY29tcG9uZW50SW5kZXh9LCFlJiZpLnByZXBhcmVWaWV3KGgsdCxuLHMpfWU/bi5lYWNoQ29tcG9uZW50KChmdW5jdGlvbih0LGUpeyJzZXJpZXMiIT09dCYmdShlKX0pKTpuLmVhY2hTZXJpZXModSk7Zm9yKGw9MDtsPHIubGVuZ3RoOyl7dmFyIGg9cltsXTtoLl9fYWxpdmU/bCsrOighZSYmaC5yZW5kZXJUYXNrLmRpc3Bvc2UoKSxhLnJlbW92ZShoLmdyb3VwKSxoLmRpc3Bvc2UobixzKSxyLnNwbGljZShsLDEpLG9baC5fX2lkXT09PWgmJmRlbGV0ZSBvW2guX19pZF0saC5fX2lkPWguZ3JvdXAuX19lY0NvbXBvbmVudEluZm89bnVsbCl9fSxOdj1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPXQuX21vZGVsO2lmKG8uc2V0VXBkYXRlUGF5bG9hZChuKSxpKXt2YXIgYT17fTthW2krIklkIl09bltpKyJJZCJdLGFbaSsiSW5kZXgiXT1uW2krIkluZGV4Il0sYVtpKyJOYW1lIl09bltpKyJOYW1lIl07dmFyIHM9e21haW5UeXBlOmkscXVlcnk6YX07ciYmKHMuc3ViVHlwZT1yKTt2YXIgbCx1PW4uZXhjbHVkZVNlcmllc0lkO251bGwhPXUmJihsPWN0KCksTyh3cih1KSwoZnVuY3Rpb24odCl7dmFyIGU9a3IodCxudWxsKTtudWxsIT1lJiZsLnNldChlLCEwKX0pKSkseGwobikmJmFsKHQuX2FwaSksbyYmby5lYWNoQ29tcG9uZW50KHMsKGZ1bmN0aW9uKGUpe2lmKCEobCYmbnVsbCE9PWwuZ2V0KGUuaWQpKSlpZih4bChuKSlpZihlIGluc3RhbmNlb2YgTmYpbi50eXBlIT09THN8fG4ubm90Qmx1cnx8ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuc2VyaWVzSW5kZXgscj10LmdldERhdGEoZS5kYXRhVHlwZSksbz1PcihyLGUpO289KEYobyk/b1swXTpvKXx8MDt2YXIgYT1yLmdldEl0ZW1HcmFwaGljRWwobyk7aWYoIWEpZm9yKHZhciBzPXIuY291bnQoKSxsPTA7IWEmJmw8czspYT1yLmdldEl0ZW1HcmFwaGljRWwobCsrKTtpZihhKXt2YXIgdT1TcyhhKTtzbChpLHUuZm9jdXMsdS5ibHVyU2NvcGUsbil9ZWxzZXt2YXIgaD10LmdldChbImVtcGhhc2lzIiwiZm9jdXMiXSksYz10LmdldChbImVtcGhhc2lzIiwiYmx1clNjb3BlIl0pO251bGwhPWgmJnNsKGksaCxjLG4pfX0oZSxuLHQuX2FwaSk7ZWxzZXt2YXIgaT11bChlLm1haW5UeXBlLGUuY29tcG9uZW50SW5kZXgsbi5uYW1lLHQuX2FwaSkscj1pLmZvY3VzU2VsZixvPWkuZGlzcGF0Y2hlcnM7bi50eXBlPT09THMmJnImJiFuLm5vdEJsdXImJmxsKGUubWFpblR5cGUsZS5jb21wb25lbnRJbmRleCx0Ll9hcGkpLG8mJk8obywoZnVuY3Rpb24odCl7bi50eXBlPT09THM/UXModCk6dGwodCl9KSl9ZWxzZSBfbChuKSYmZSBpbnN0YW5jZW9mIE5mJiYoIWZ1bmN0aW9uKHQsZSxuKXtpZihfbChlKSl7dmFyIGk9ZS5kYXRhVHlwZSxyPU9yKHQuZ2V0RGF0YShpKSxlKTtGKHIpfHwocj1bcl0pLHRbZS50eXBlPT09TnM/InRvZ2dsZVNlbGVjdCI6ZS50eXBlPT09T3M/InNlbGVjdCI6InVuc2VsZWN0Il0ocixpKX19KGUsbix0Ll9hcGkpLGhsKGUpLEt2KHQpKX0pLHQpLG8mJm8uZWFjaENvbXBvbmVudChzLChmdW5jdGlvbihlKXtsJiZudWxsIT09bC5nZXQoZS5pZCl8fGgodFsic2VyaWVzIj09PWk/Il9jaGFydHNNYXAiOiJfY29tcG9uZW50c01hcCJdW2UuX192aWV3SWRdKX0pLHQpfWVsc2UgTyhbXS5jb25jYXQodC5fY29tcG9uZW50c1ZpZXdzKS5jb25jYXQodC5fY2hhcnRzVmlld3MpLGgpO2Z1bmN0aW9uIGgoaSl7aSYmaS5fX2FsaXZlJiZpW2VdJiZpW2VdKGkuX19tb2RlbCxvLHQuX2FwaSxuKX19LHp2PXtwcmVwYXJlQW5kVXBkYXRlOmZ1bmN0aW9uKHQpe092KHRoaXMpLHp2LnVwZGF0ZS5jYWxsKHRoaXMsdCx7b3B0aW9uQ2hhbmdlZDpudWxsIT10Lm5ld09wdGlvbn0pfSx1cGRhdGU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9tb2RlbCxpPXRoaXMuX2FwaSxyPXRoaXMuX3pyLG89dGhpcy5fY29vcmRTeXNNZ3Iscz10aGlzLl9zY2hlZHVsZXI7aWYobil7bi5zZXRVcGRhdGVQYXlsb2FkKHQpLHMucmVzdG9yZURhdGEobix0KSxzLnBlcmZvcm1TZXJpZXNUYXNrcyhuKSxvLmNyZWF0ZShuLGkpLHMucGVyZm9ybURhdGFQcm9jZXNzb3JUYXNrcyhuLHQpLFZ2KHRoaXMsbiksby51cGRhdGUobixpKSxVdihuKSxzLnBlcmZvcm1WaXN1YWxUYXNrcyhuLHQpLFh2KHRoaXMsbixpLHQsZSk7dmFyIGw9bi5nZXQoImJhY2tncm91bmRDb2xvciIpfHwidHJhbnNwYXJlbnQiLHU9bi5nZXQoImRhcmtNb2RlIik7aWYoYS5jYW52YXNTdXBwb3J0ZWQpci5zZXRCYWNrZ3JvdW5kQ29sb3IobCksbnVsbCE9dSYmImF1dG8iIT09dSYmci5zZXREYXJrTW9kZSh1KTtlbHNle3ZhciBoPVdlKGwpO2w9UWUoaCwicmdiIiksMD09PWhbM10mJihsPSJ0cmFuc3BhcmVudCIpfVN2LnRyaWdnZXIoImFmdGVydXBkYXRlIixuLGkpfX0sdXBkYXRlVHJhbnNmb3JtOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10aGlzLl9tb2RlbCxpPXRoaXMuX2FwaTtpZihuKXtuLnNldFVwZGF0ZVBheWxvYWQodCk7dmFyIHI9W107bi5lYWNoQ29tcG9uZW50KChmdW5jdGlvbihvLGEpe2lmKCJzZXJpZXMiIT09byl7dmFyIHM9ZS5nZXRWaWV3T2ZDb21wb25lbnRNb2RlbChhKTtpZihzJiZzLl9fYWxpdmUpaWYocy51cGRhdGVUcmFuc2Zvcm0pe3ZhciBsPXMudXBkYXRlVHJhbnNmb3JtKGEsbixpLHQpO2wmJmwudXBkYXRlJiZyLnB1c2gocyl9ZWxzZSByLnB1c2gocyl9fSkpO3ZhciBvPWN0KCk7bi5lYWNoU2VyaWVzKChmdW5jdGlvbihyKXt2YXIgYT1lLl9jaGFydHNNYXBbci5fX3ZpZXdJZF07aWYoYS51cGRhdGVUcmFuc2Zvcm0pe3ZhciBzPWEudXBkYXRlVHJhbnNmb3JtKHIsbixpLHQpO3MmJnMudXBkYXRlJiZvLnNldChyLnVpZCwxKX1lbHNlIG8uc2V0KHIudWlkLDEpfSkpLFV2KG4pLHRoaXMuX3NjaGVkdWxlci5wZXJmb3JtVmlzdWFsVGFza3Mobix0LHtzZXREaXJ0eTohMCxkaXJ0eU1hcDpvfSksWnYodGhpcyxuLGksdCx7fSxvKSxTdi50cmlnZ2VyKCJhZnRlcnVwZGF0ZSIsbixpKX19LHVwZGF0ZVZpZXc6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbW9kZWw7ZSYmKGUuc2V0VXBkYXRlUGF5bG9hZCh0KSxaZi5tYXJrVXBkYXRlTWV0aG9kKHQsInVwZGF0ZVZpZXciKSxVdihlKSx0aGlzLl9zY2hlZHVsZXIucGVyZm9ybVZpc3VhbFRhc2tzKGUsdCx7c2V0RGlydHk6ITB9KSxYdih0aGlzLGUsdGhpcy5fYXBpLHQse30pLFN2LnRyaWdnZXIoImFmdGVydXBkYXRlIixlLHRoaXMuX2FwaSkpfSx1cGRhdGVWaXN1YWw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuX21vZGVsO24mJihuLnNldFVwZGF0ZVBheWxvYWQodCksbi5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXt0LmdldERhdGEoKS5jbGVhckFsbFZpc3VhbCgpfSkpLFpmLm1hcmtVcGRhdGVNZXRob2QodCwidXBkYXRlVmlzdWFsIiksVXYobiksdGhpcy5fc2NoZWR1bGVyLnBlcmZvcm1WaXN1YWxUYXNrcyhuLHQse3Zpc3VhbFR5cGU6InZpc3VhbCIsc2V0RGlydHk6ITB9KSxuLmVhY2hDb21wb25lbnQoKGZ1bmN0aW9uKGkscil7aWYoInNlcmllcyIhPT1pKXt2YXIgbz1lLmdldFZpZXdPZkNvbXBvbmVudE1vZGVsKHIpO28mJm8uX19hbGl2ZSYmby51cGRhdGVWaXN1YWwocixuLGUuX2FwaSx0KX19KSksbi5lYWNoU2VyaWVzKChmdW5jdGlvbihpKXtlLl9jaGFydHNNYXBbaS5fX3ZpZXdJZF0udXBkYXRlVmlzdWFsKGksbixlLl9hcGksdCl9KSksU3YudHJpZ2dlcigiYWZ0ZXJ1cGRhdGUiLG4sdGhpcy5fYXBpKSl9LHVwZGF0ZUxheW91dDpmdW5jdGlvbih0KXt6di51cGRhdGUuY2FsbCh0aGlzLHQpfX0sRXY9ZnVuY3Rpb24odCxlLG4saSl7aWYodC5fZGlzcG9zZWQpaW0odC5pZCk7ZWxzZXtmb3IodmFyIHIsbz10Ll9tb2RlbCxhPXQuX2Nvb3JkU3lzTWdyLmdldENvb3JkaW5hdGVTeXN0ZW1zKCkscz16cihvLG4pLGw9MDtsPGEubGVuZ3RoO2wrKyl7dmFyIHU9YVtsXTtpZih1W2VdJiZudWxsIT0ocj11W2VdKG8scyxpKSkpcmV0dXJuIHJ9MH19LFZ2PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5fY2hhcnRzTWFwLGk9dC5fc2NoZWR1bGVyO2UuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7aS51cGRhdGVTdHJlYW1Nb2Rlcyh0LG5bdC5fX3ZpZXdJZF0pfSkpfSxCdj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMsaT10aGlzLmdldE1vZGVsKCkscj10LnR5cGUsbz10LmVzY2FwZUNvbm5lY3QsYT1ybVtyXSxzPWEuYWN0aW9uSW5mbyxsPShzLnVwZGF0ZXx8InVwZGF0ZSIpLnNwbGl0KCI6IiksdT1sLnBvcCgpLGg9bnVsbCE9bFswXSYmWXIobFswXSk7dGhpcy5fX2ZsYWdJbk1haW5Qcm9jZXNzPSEwO3ZhciBjPVt0XSxwPSExO3QuYmF0Y2gmJihwPSEwLGM9Uih0LmJhdGNoLChmdW5jdGlvbihlKXtyZXR1cm4oZT1DKFQoe30sZSksdCkpLmJhdGNoPW51bGwsZX0pKSk7dmFyIGQsZj1bXSxnPV9sKHQpLHk9eGwodCk7aWYoTyhjLChmdW5jdGlvbihlKXtpZigoZD0oZD1hLmFjdGlvbihlLG4uX21vZGVsLG4uX2FwaSkpfHxUKHt9LGUpKS50eXBlPXMuZXZlbnR8fGQudHlwZSxmLnB1c2goZCkseSl7dmFyIGk9RXIodCkscj1pLnF1ZXJ5T3B0aW9uTWFwLG89aS5tYWluVHlwZVNwZWNpZmllZD9yLmtleXMoKVswXToic2VyaWVzIjtOdihuLHUsZSxvKSxLdihuKX1lbHNlIGc/KE52KG4sdSxlLCJzZXJpZXMiKSxLdihuKSk6aCYmTnYobix1LGUsaC5tYWluLGguc3ViKX0pKSwibm9uZSI9PT11fHx5fHxnfHxofHwodGhpcy5fX3BlbmRpbmdVcGRhdGU/KE92KHRoaXMpLHp2LnVwZGF0ZS5jYWxsKHRoaXMsdCksdGhpcy5fX3BlbmRpbmdVcGRhdGU9bnVsbCk6enZbdV0uY2FsbCh0aGlzLHQpKSxkPXA/e3R5cGU6cy5ldmVudHx8cixlc2NhcGVDb25uZWN0Om8sYmF0Y2g6Zn06ZlswXSx0aGlzLl9fZmxhZ0luTWFpblByb2Nlc3M9ITEsIWUpe3ZhciB2PXRoaXMuX21lc3NhZ2VDZW50ZXI7aWYodi50cmlnZ2VyKGQudHlwZSxkKSxnKXt2YXIgbT17dHlwZToic2VsZWN0Y2hhbmdlZCIsZXNjYXBlQ29ubmVjdDpvLHNlbGVjdGVkOmNsKGkpLGlzRnJvbUNsaWNrOnQuaXNGcm9tQ2xpY2t8fCExLGZyb21BY3Rpb246dC50eXBlLGZyb21BY3Rpb25QYXlsb2FkOnR9O3YudHJpZ2dlcihtLnR5cGUsbSl9fX0sR3Y9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX3BlbmRpbmdBY3Rpb25zO2UubGVuZ3RoOyl7dmFyIG49ZS5zaGlmdCgpO0J2LmNhbGwodGhpcyxuLHQpfX0sRnY9ZnVuY3Rpb24odCl7IXQmJnRoaXMudHJpZ2dlcigidXBkYXRlZCIpfSxIdj1mdW5jdGlvbih0LGUpe3Qub24oInJlbmRlcmVkIiwoZnVuY3Rpb24obil7ZS50cmlnZ2VyKCJyZW5kZXJlZCIsbiksIXQuYW5pbWF0aW9uLmlzRmluaXNoZWQoKXx8ZS5fX3BlbmRpbmdVcGRhdGV8fGUuX3NjaGVkdWxlci51bmZpbmlzaGVkfHxlLl9wZW5kaW5nQWN0aW9ucy5sZW5ndGh8fGUudHJpZ2dlcigiZmluaXNoZWQiKX0pKX0sV3Y9ZnVuY3Rpb24odCxlKXt0Lm9uKCJtb3VzZW92ZXIiLChmdW5jdGlvbih0KXt2YXIgbj1XZyh0LnRhcmdldCxtbCk7biYmKCFmdW5jdGlvbih0LGUsbil7dmFyIGk9U3ModCkscj11bChpLmNvbXBvbmVudE1haW5UeXBlLGkuY29tcG9uZW50SW5kZXgsaS5jb21wb25lbnRIaWdoRG93bk5hbWUsbiksbz1yLmRpc3BhdGNoZXJzLGE9ci5mb2N1c1NlbGY7bz8oYSYmbGwoaS5jb21wb25lbnRNYWluVHlwZSxpLmNvbXBvbmVudEluZGV4LG4pLE8obywoZnVuY3Rpb24odCl7cmV0dXJuICRzKHQsZSl9KSkpOihzbChpLnNlcmllc0luZGV4LGkuZm9jdXMsaS5ibHVyU2NvcGUsbiksInNlbGYiPT09aS5mb2N1cyYmbGwoaS5jb21wb25lbnRNYWluVHlwZSxpLmNvbXBvbmVudEluZGV4LG4pLCRzKHQsZSkpfShuLHQsZS5fYXBpKSxLdihlKSl9KSkub24oIm1vdXNlb3V0IiwoZnVuY3Rpb24odCl7dmFyIG49V2codC50YXJnZXQsbWwpO24mJighZnVuY3Rpb24odCxlLG4pe2FsKG4pO3ZhciBpPVNzKHQpLHI9dWwoaS5jb21wb25lbnRNYWluVHlwZSxpLmNvbXBvbmVudEluZGV4LGkuY29tcG9uZW50SGlnaERvd25OYW1lLG4pLmRpc3BhdGNoZXJzO3I/TyhyLChmdW5jdGlvbih0KXtyZXR1cm4gSnModCxlKX0pKTpKcyh0LGUpfShuLHQsZS5fYXBpKSxLdihlKSl9KSkub24oImNsaWNrIiwoZnVuY3Rpb24odCl7dmFyIG49V2codC50YXJnZXQsKGZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT1Tcyh0KS5kYXRhSW5kZXh9KSwhMCk7aWYobil7dmFyIGk9bi5zZWxlY3RlZD8idW5zZWxlY3QiOiJzZWxlY3QiLHI9U3Mobik7ZS5fYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOmksZGF0YVR5cGU6ci5kYXRhVHlwZSxkYXRhSW5kZXhJbnNpZGU6ci5kYXRhSW5kZXgsc2VyaWVzSW5kZXg6ci5zZXJpZXNJbmRleCxpc0Zyb21DbGljazohMH0pfX0pKX0sVXY9ZnVuY3Rpb24odCl7dC5jbGVhckNvbG9yUGFsZXR0ZSgpLHQuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7dC5jbGVhckNvbG9yUGFsZXR0ZSgpfSkpfSxYdj1mdW5jdGlvbih0LGUsbixpLHIpe1l2KHQsZSxuLGksciksTyh0Ll9jaGFydHNWaWV3cywoZnVuY3Rpb24odCl7dC5fX2FsaXZlPSExfSkpLFp2KHQsZSxuLGksciksTyh0Ll9jaGFydHNWaWV3cywoZnVuY3Rpb24odCl7dC5fX2FsaXZlfHx0LnJlbW92ZShlLG4pfSkpfSxZdj1mdW5jdGlvbih0LG4saSxhLHMsbCl7TyhsfHx0Ll9jb21wb25lbnRzVmlld3MsKGZ1bmN0aW9uKHQpe3ZhciBzPXQuX19tb2RlbDtyKHMsdCksdC5yZW5kZXIocyxuLGksYSksZShzLHQpLG8ocyx0KX0pKX0sWnY9ZnVuY3Rpb24odCxuLGkscyxsLHUpe3ZhciBoPXQuX3NjaGVkdWxlcjtsPVQobHx8e30se3VwZGF0ZWRTZXJpZXM6bi5nZXRTZXJpZXMoKX0pLFN2LnRyaWdnZXIoInNlcmllczpiZWZvcmV1cGRhdGUiLG4saSxsKTt2YXIgYz0hMTtuLmVhY2hTZXJpZXMoKGZ1bmN0aW9uKGUpe3ZhciBuPXQuX2NoYXJ0c01hcFtlLl9fdmlld0lkXTtuLl9fYWxpdmU9ITA7dmFyIGk9bi5yZW5kZXJUYXNrO2gudXBkYXRlUGF5bG9hZChpLHMpLHIoZSxuKSx1JiZ1LmdldChlLnVpZCkmJmkuZGlydHkoKSxpLnBlcmZvcm0oaC5nZXRQZXJmb3JtQXJncyhpKSkmJihjPSEwKSxuLmdyb3VwLnNpbGVudD0hIWUuZ2V0KCJzaWxlbnQiKSxmdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0KCJibGVuZE1vZGUiKXx8bnVsbDswO2UuZ3JvdXAudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe3QuaXNHcm91cHx8KHQuc3R5bGUuYmxlbmQ9biksdC5lYWNoUGVuZGluZ0Rpc3BsYXlhYmxlJiZ0LmVhY2hQZW5kaW5nRGlzcGxheWFibGUoKGZ1bmN0aW9uKHQpe3Quc3R5bGUuYmxlbmQ9bn0pKX0pKX0oZSxuKSxobChlKX0pKSxoLnVuZmluaXNoZWQ9Y3x8aC51bmZpbmlzaGVkLFN2LnRyaWdnZXIoInNlcmllczpsYXlvdXRsYWJlbHMiLG4saSxsKSxTdi50cmlnZ2VyKCJzZXJpZXM6dHJhbnNpdGlvbiIsbixpLGwpLG4uZWFjaFNlcmllcygoZnVuY3Rpb24obil7dmFyIGk9dC5fY2hhcnRzTWFwW24uX192aWV3SWRdO2UobixpKSxvKG4saSl9KSksZnVuY3Rpb24odCxlKXt2YXIgbj10Ll96ci5zdG9yYWdlLGk9MDtuLnRyYXZlcnNlKChmdW5jdGlvbih0KXt0LmlzR3JvdXB8fGkrK30pKSxpPmUuZ2V0KCJob3ZlckxheWVyVGhyZXNob2xkIikmJiFhLm5vZGUmJiFhLndvcmtlciYmZS5lYWNoU2VyaWVzKChmdW5jdGlvbihlKXtpZighZS5wcmV2ZW50VXNpbmdIb3ZlckxheWVyKXt2YXIgbj10Ll9jaGFydHNNYXBbZS5fX3ZpZXdJZF07bi5fX2FsaXZlJiZuLmdyb3VwLnRyYXZlcnNlKChmdW5jdGlvbih0KXt0LnN0YXRlcy5lbXBoYXNpcyYmKHQuc3RhdGVzLmVtcGhhc2lzLmhvdmVyTGF5ZXI9ITApfSkpfX0pKX0odCxuKSxTdi50cmlnZ2VyKCJzZXJpZXM6YWZ0ZXJ1cGRhdGUiLG4saSxsKX0sS3Y9ZnVuY3Rpb24odCl7dC5fX25lZWRzVXBkYXRlU3RhdHVzPSEwLHQuZ2V0WnIoKS53YWtlVXAoKX0sJHY9ZnVuY3Rpb24oZSl7ZS5fX25lZWRzVXBkYXRlU3RhdHVzJiYoZS5nZXRacigpLnN0b3JhZ2UudHJhdmVyc2UoKGZ1bmN0aW9uKGUpe0J1KGUpfHx0KGUpfSkpLGUuX19uZWVkc1VwZGF0ZVN0YXR1cz0hMSl9LGp2PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaSgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oaSxlKSxpLnByb3RvdHlwZS5nZXRDb29yZGluYXRlU3lzdGVtcz1mdW5jdGlvbigpe3JldHVybiB0Ll9jb29yZFN5c01nci5nZXRDb29yZGluYXRlU3lzdGVtcygpfSxpLnByb3RvdHlwZS5nZXRDb21wb25lbnRCeUVsZW1lbnQ9ZnVuY3Rpb24oZSl7Zm9yKDtlOyl7dmFyIG49ZS5fX2VjQ29tcG9uZW50SW5mbztpZihudWxsIT1uKXJldHVybiB0Ll9tb2RlbC5nZXRDb21wb25lbnQobi5tYWluVHlwZSxuLmluZGV4KTtlPWUucGFyZW50fX0saS5wcm90b3R5cGUuZW50ZXJFbXBoYXNpcz1mdW5jdGlvbihlLG4pe1FzKGUsbiksS3YodCl9LGkucHJvdG90eXBlLmxlYXZlRW1waGFzaXM9ZnVuY3Rpb24oZSxuKXt0bChlLG4pLEt2KHQpfSxpLnByb3RvdHlwZS5lbnRlckJsdXI9ZnVuY3Rpb24oZSl7ZWwoZSksS3YodCl9LGkucHJvdG90eXBlLmxlYXZlQmx1cj1mdW5jdGlvbihlKXtubChlKSxLdih0KX0saS5wcm90b3R5cGUuZW50ZXJTZWxlY3Q9ZnVuY3Rpb24oZSl7aWwoZSksS3YodCl9LGkucHJvdG90eXBlLmxlYXZlU2VsZWN0PWZ1bmN0aW9uKGUpe3JsKGUpLEt2KHQpfSxpLnByb3RvdHlwZS5nZXRNb2RlbD1mdW5jdGlvbigpe3JldHVybiB0LmdldE1vZGVsKCl9LGkucHJvdG90eXBlLmdldFZpZXdPZkNvbXBvbmVudE1vZGVsPWZ1bmN0aW9uKGUpe3JldHVybiB0LmdldFZpZXdPZkNvbXBvbmVudE1vZGVsKGUpfSxpLnByb3RvdHlwZS5nZXRWaWV3T2ZTZXJpZXNNb2RlbD1mdW5jdGlvbihlKXtyZXR1cm4gdC5nZXRWaWV3T2ZTZXJpZXNNb2RlbChlKX0saX0oVnApKSh0KX0scXY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt0W25dW0F2XT1lfX1PKG9tLChmdW5jdGlvbihuLGkpe3QuX21lc3NhZ2VDZW50ZXIub24oaSwoZnVuY3Rpb24obil7aWYocG1bdC5ncm91cF0mJjAhPT10W0F2XSl7aWYobiYmbi5lc2NhcGVDb25uZWN0KXJldHVybjt2YXIgaT10Lm1ha2VBY3Rpb25Gcm9tRXZlbnQobikscj1bXTtPKGNtLChmdW5jdGlvbihlKXtlIT09dCYmZS5ncm91cD09PXQuZ3JvdXAmJnIucHVzaChlKX0pKSxlKHIsMCksTyhyLChmdW5jdGlvbih0KXsxIT09dFtBdl0mJnQuZGlzcGF0Y2hBY3Rpb24oaSl9KSksZShyLDIpfX0pKX0pKX19KCksZX0oRnQpLGVtPXRtLnByb3RvdHlwZTtlbS5vbj1rdigib24iKSxlbS5vZmY9a3YoIm9mZiIpLGVtLm9uZT1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpczttcigpLHRoaXMub24uY2FsbCh0aGlzLHQsKGZ1bmN0aW9uIG4oKXtmb3IodmFyIHI9W10sbz0wO288YXJndW1lbnRzLmxlbmd0aDtvKyspcltvXT1hcmd1bWVudHNbb107ZSYmZS5hcHBseSYmZS5hcHBseSh0aGlzLHIpLGkub2ZmKHQsbil9KSxuKX07dmFyIG5tPVsiY2xpY2siLCJkYmxjbGljayIsIm1vdXNlb3ZlciIsIm1vdXNlb3V0IiwibW91c2Vtb3ZlIiwibW91c2Vkb3duIiwibW91c2V1cCIsImdsb2JhbG91dCIsImNvbnRleHRtZW51Il07ZnVuY3Rpb24gaW0odCl7MH12YXIgcm09e30sb209e30sYW09W10sc209W10sbG09W10sdW09e30saG09e30sY209e30scG09e30sZG09K25ldyBEYXRlLTAsZm09K25ldyBEYXRlLTAsZ209Il9lY2hhcnRzX2luc3RhbmNlXyI7ZnVuY3Rpb24geW0odCl7cG1bdF09ITF9dmFyIHZtPXltO2Z1bmN0aW9uIG1tKHQpe3JldHVybiBjbVtmdW5jdGlvbih0LGUpe3JldHVybiB0LmdldEF0dHJpYnV0ZT90LmdldEF0dHJpYnV0ZShlKTp0W2VdfSh0LGdtKV19ZnVuY3Rpb24gX20odCxlKXt1bVt0XT1lfWZ1bmN0aW9uIHhtKHQpe0Eoc20sdCk8MCYmc20ucHVzaCh0KX1mdW5jdGlvbiBibSh0LGUpe2ttKGFtLHQsZSwyZTMpfWZ1bmN0aW9uIHdtKHQpe01tKCJhZnRlcmluaXQiLHQpfWZ1bmN0aW9uIFNtKHQpe01tKCJhZnRlcnVwZGF0ZSIsdCl9ZnVuY3Rpb24gTW0odCxlKXtTdi5vbih0LGUpfWZ1bmN0aW9uIEltKHQsZSxuKXsiZnVuY3Rpb24iPT10eXBlb2YgZSYmKG49ZSxlPSIiKTt2YXIgaT1ZKHQpP3QudHlwZTpbdCx0PXtldmVudDplfV1bMF07dC5ldmVudD0odC5ldmVudHx8aSkudG9Mb3dlckNhc2UoKSxlPXQuZXZlbnQsb21bZV18fChvdChEdi50ZXN0KGkpJiZEdi50ZXN0KGUpKSxybVtpXXx8KHJtW2ldPXthY3Rpb246bixhY3Rpb25JbmZvOnR9KSxvbVtlXT1pKX1mdW5jdGlvbiBUbSh0LGUpe0dwLnJlZ2lzdGVyKHQsZSl9ZnVuY3Rpb24gQ20odCxlKXtrbShsbSx0LGUsMWUzLCJsYXlvdXQiKX1mdW5jdGlvbiBEbSh0LGUpe2ttKGxtLHQsZSwzZTMsInZpc3VhbCIpfXZhciBBbT1bXTtmdW5jdGlvbiBrbSh0LGUsbixpLHIpe2lmKChIKGUpfHxZKGUpKSYmKG49ZSxlPWkpLCEoQShBbSxuKT49MCkpe0FtLnB1c2gobik7dmFyIG89Zmcud3JhcFN0YWdlSGFuZGxlcihuLHIpO28uX19wcmlvPWUsby5fX3Jhdz1uLHQucHVzaChvKX19ZnVuY3Rpb24gTG0odCxlKXtobVt0XT1lfWZ1bmN0aW9uIFBtKHQsZSxuKXtfdih0LGUsbil9dmFyIE9tPWZ1bmN0aW9uKHQpe3ZhciBlPSh0PVModCkpLnR5cGUsbj0iIjtlfHxfcihuKTt2YXIgaT1lLnNwbGl0KCI6Iik7MiE9PWkubGVuZ3RoJiZfcihuKTt2YXIgcj0hMTsiZWNoYXJ0cyI9PT1pWzBdJiYoZT1pWzFdLHI9ITApLHQuX19pc0J1aWx0SW49cixlZi5zZXQoZSx0KX07RG0oSXYsdWcpLERtKFR2LGNnKSxEbShUdixwZyksRG0oSXYsRWcpLERtKFR2LHtjcmVhdGVPbkFsbFNlcmllczohMCxwZXJmb3JtUmF3U2VyaWVzOiEwLHJlc2V0OmZ1bmN0aW9uKHQsZSl7aWYodC5oYXNTeW1ib2xWaXN1YWwmJiFlLmlzU2VyaWVzRmlsdGVyZWQodCkpcmV0dXJue2RhdGFFYWNoOnQuZ2V0RGF0YSgpLmhhc0l0ZW1PcHRpb24/ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldEl0ZW1Nb2RlbChlKSxpPW4uZ2V0U2hhbGxvdygic3ltYm9sIiwhMCkscj1uLmdldFNoYWxsb3coInN5bWJvbFNpemUiLCEwKSxvPW4uZ2V0U2hhbGxvdygic3ltYm9sUm90YXRlIiwhMCksYT1uLmdldFNoYWxsb3coInN5bWJvbE9mZnNldCIsITApLHM9bi5nZXRTaGFsbG93KCJzeW1ib2xLZWVwQXNwZWN0IiwhMCk7bnVsbCE9aSYmdC5zZXRJdGVtVmlzdWFsKGUsInN5bWJvbCIsaSksbnVsbCE9ciYmdC5zZXRJdGVtVmlzdWFsKGUsInN5bWJvbFNpemUiLHIpLG51bGwhPW8mJnQuc2V0SXRlbVZpc3VhbChlLCJzeW1ib2xSb3RhdGUiLG8pLG51bGwhPWEmJnQuc2V0SXRlbVZpc3VhbChlLCJzeW1ib2xPZmZzZXQiLGEpLG51bGwhPXMmJnQuc2V0SXRlbVZpc3VhbChlLCJzeW1ib2xLZWVwQXNwZWN0IixzKX06bnVsbH19fSksRG0oN2UzLChmdW5jdGlvbih0LGUpe3QuZWFjaFJhd1NlcmllcygoZnVuY3Rpb24obil7aWYoIXQuaXNTZXJpZXNGaWx0ZXJlZChuKSl7dmFyIGk9bi5nZXREYXRhKCk7aS5oYXNJdGVtVmlzdWFsKCkmJmkuZWFjaCgoZnVuY3Rpb24odCl7dmFyIG49aS5nZXRJdGVtVmlzdWFsKHQsImRlY2FsIik7biYmKGkuZW5zdXJlVW5pcXVlSXRlbVZpc3VhbCh0LCJzdHlsZSIpLmRlY2FsPUN5KG4sZSkpfSkpO3ZhciByPWkuZ2V0VmlzdWFsKCJkZWNhbCIpO2lmKHIpaS5nZXRWaXN1YWwoInN0eWxlIikuZGVjYWw9Q3kocixlKX19KSl9KSkseG0odWQpLGJtKDkwMCwoZnVuY3Rpb24odCl7dmFyIGU9Y3QoKTt0LmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe3ZhciBuPXQuZ2V0KCJzdGFjayIpO2lmKG4pe3ZhciBpPWUuZ2V0KG4pfHxlLnNldChuLFtdKSxyPXQuZ2V0RGF0YSgpLG89e3N0YWNrUmVzdWx0RGltZW5zaW9uOnIuZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja1Jlc3VsdERpbWVuc2lvbiIpLHN0YWNrZWRPdmVyRGltZW5zaW9uOnIuZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja2VkT3ZlckRpbWVuc2lvbiIpLHN0YWNrZWREaW1lbnNpb246ci5nZXRDYWxjdWxhdGlvbkluZm8oInN0YWNrZWREaW1lbnNpb24iKSxzdGFja2VkQnlEaW1lbnNpb246ci5nZXRDYWxjdWxhdGlvbkluZm8oInN0YWNrZWRCeURpbWVuc2lvbiIpLGlzU3RhY2tlZEJ5SW5kZXg6ci5nZXRDYWxjdWxhdGlvbkluZm8oImlzU3RhY2tlZEJ5SW5kZXgiKSxkYXRhOnIsc2VyaWVzTW9kZWw6dH07aWYoIW8uc3RhY2tlZERpbWVuc2lvbnx8IW8uaXNTdGFja2VkQnlJbmRleCYmIW8uc3RhY2tlZEJ5RGltZW5zaW9uKXJldHVybjtpLmxlbmd0aCYmci5zZXRDYWxjdWxhdGlvbkluZm8oInN0YWNrZWRPblNlcmllcyIsaVtpLmxlbmd0aC0xXS5zZXJpZXNNb2RlbCksaS5wdXNoKG8pfX0pKSxlLmVhY2goaGQpfSkpLExtKCJkZWZhdWx0IiwoZnVuY3Rpb24odCxlKXtDKGU9ZXx8e30se3RleHQ6ImxvYWRpbmciLHRleHRDb2xvcjoiIzAwMCIsZm9udFNpemU6MTIsZm9udFdlaWdodDoibm9ybWFsIixmb250U3R5bGU6Im5vcm1hbCIsZm9udEZhbWlseToic2Fucy1zZXJpZiIsbWFza0NvbG9yOiJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCkiLHNob3dTcGlubmVyOiEwLGNvbG9yOiIjNTQ3MGM2IixzcGlubmVyUmFkaXVzOjEwLGxpbmVXaWR0aDo1LHpsZXZlbDowfSk7dmFyIG49bmV3IEJpLGk9bmV3IGNzKHtzdHlsZTp7ZmlsbDplLm1hc2tDb2xvcn0semxldmVsOmUuemxldmVsLHo6MWU0fSk7bi5hZGQoaSk7dmFyIHIsbz1uZXcgZnMoe3N0eWxlOnt0ZXh0OmUudGV4dCxmaWxsOmUudGV4dENvbG9yLGZvbnRTaXplOmUuZm9udFNpemUsZm9udFdlaWdodDplLmZvbnRXZWlnaHQsZm9udFN0eWxlOmUuZm9udFN0eWxlLGZvbnRGYW1pbHk6ZS5mb250RmFtaWx5fSx6bGV2ZWw6ZS56bGV2ZWwsejoxMDAwMX0pLGE9bmV3IGNzKHtzdHlsZTp7ZmlsbDoibm9uZSJ9LHRleHRDb250ZW50Om8sdGV4dENvbmZpZzp7cG9zaXRpb246InJpZ2h0IixkaXN0YW5jZToxMH0semxldmVsOmUuemxldmVsLHo6MTAwMDF9KTtyZXR1cm4gbi5hZGQoYSksZS5zaG93U3Bpbm5lciYmKChyPW5ldyB3dSh7c2hhcGU6e3N0YXJ0QW5nbGU6LWRnLzIsZW5kQW5nbGU6LWRnLzIrLjEscjplLnNwaW5uZXJSYWRpdXN9LHN0eWxlOntzdHJva2U6ZS5jb2xvcixsaW5lQ2FwOiJyb3VuZCIsbGluZVdpZHRoOmUubGluZVdpZHRofSx6bGV2ZWw6ZS56bGV2ZWwsejoxMDAwMX0pKS5hbmltYXRlU2hhcGUoITApLndoZW4oMWUzLHtlbmRBbmdsZTozKmRnLzJ9KS5zdGFydCgiY2lyY3VsYXJJbk91dCIpLHIuYW5pbWF0ZVNoYXBlKCEwKS53aGVuKDFlMyx7c3RhcnRBbmdsZTozKmRnLzJ9KS5kZWxheSgzMDApLnN0YXJ0KCJjaXJjdWxhckluT3V0Iiksbi5hZGQocikpLG4ucmVzaXplPWZ1bmN0aW9uKCl7dmFyIG49by5nZXRCb3VuZGluZ1JlY3QoKS53aWR0aCxzPWUuc2hvd1NwaW5uZXI/ZS5zcGlubmVyUmFkaXVzOjAsbD0odC5nZXRXaWR0aCgpLTIqcy0oZS5zaG93U3Bpbm5lciYmbj8xMDowKS1uKS8yLShlLnNob3dTcGlubmVyJiZuPzA6NStuLzIpKyhlLnNob3dTcGlubmVyPzA6bi8yKSsobj8wOnMpLHU9dC5nZXRIZWlnaHQoKS8yO2Uuc2hvd1NwaW5uZXImJnIuc2V0U2hhcGUoe2N4OmwsY3k6dX0pLGEuc2V0U2hhcGUoe3g6bC1zLHk6dS1zLHdpZHRoOjIqcyxoZWlnaHQ6MipzfSksaS5zZXRTaGFwZSh7eDowLHk6MCx3aWR0aDp0LmdldFdpZHRoKCksaGVpZ2h0OnQuZ2V0SGVpZ2h0KCl9KX0sbi5yZXNpemUoKSxufSkpLEltKHt0eXBlOkxzLGV2ZW50OkxzLHVwZGF0ZTpMc30sZ3QpLEltKHt0eXBlOlBzLGV2ZW50OlBzLHVwZGF0ZTpQc30sZ3QpLEltKHt0eXBlOk9zLGV2ZW50Ok9zLHVwZGF0ZTpPc30sZ3QpLEltKHt0eXBlOlJzLGV2ZW50OlJzLHVwZGF0ZTpSc30sZ3QpLEltKHt0eXBlOk5zLGV2ZW50Ok5zLHVwZGF0ZTpOc30sZ3QpLF9tKCJsaWdodCIsa2cpLF9tKCJkYXJrIixOZyk7dmFyIFJtPVtdLE5tPXtyZWdpc3RlclByZXByb2Nlc3Nvcjp4bSxyZWdpc3RlclByb2Nlc3NvcjpibSxyZWdpc3RlclBvc3RJbml0OndtLHJlZ2lzdGVyUG9zdFVwZGF0ZTpTbSxyZWdpc3RlclVwZGF0ZUxpZmVjeWNsZTpNbSxyZWdpc3RlckFjdGlvbjpJbSxyZWdpc3RlckNvb3JkaW5hdGVTeXN0ZW06VG0scmVnaXN0ZXJMYXlvdXQ6Q20scmVnaXN0ZXJWaXN1YWw6RG0scmVnaXN0ZXJUcmFuc2Zvcm06T20scmVnaXN0ZXJMb2FkaW5nOkxtLHJlZ2lzdGVyTWFwOlBtLFBSSU9SSVRZOkN2LENvbXBvbmVudE1vZGVsOm5wLENvbXBvbmVudFZpZXc6V2YsU2VyaWVzTW9kZWw6TmYsQ2hhcnRWaWV3OlpmLHJlZ2lzdGVyQ29tcG9uZW50TW9kZWw6ZnVuY3Rpb24odCl7bnAucmVnaXN0ZXJDbGFzcyh0KX0scmVnaXN0ZXJDb21wb25lbnRWaWV3OmZ1bmN0aW9uKHQpe1dmLnJlZ2lzdGVyQ2xhc3ModCl9LHJlZ2lzdGVyU2VyaWVzTW9kZWw6ZnVuY3Rpb24odCl7TmYucmVnaXN0ZXJDbGFzcyh0KX0scmVnaXN0ZXJDaGFydFZpZXc6ZnVuY3Rpb24odCl7WmYucmVnaXN0ZXJDbGFzcyh0KX0scmVnaXN0ZXJTdWJUeXBlRGVmYXVsdGVyOmZ1bmN0aW9uKHQsZSl7bnAucmVnaXN0ZXJTdWJUeXBlRGVmYXVsdGVyKHQsZSl9LHJlZ2lzdGVyUGFpbnRlcjpmdW5jdGlvbih0LGUpe1hpKHQsZSl9fTtmdW5jdGlvbiB6bSh0KXtGKHQpP08odCwoZnVuY3Rpb24odCl7em0odCl9KSk6QShSbSx0KT49MHx8KFJtLnB1c2godCksSCh0KSYmKHQ9e2luc3RhbGw6dH0pLHQuaW5zdGFsbChObSkpfWZ1bmN0aW9uIEVtKHQpe3JldHVybiBudWxsPT10PzA6dC5sZW5ndGh8fDF9ZnVuY3Rpb24gVm0odCl7cmV0dXJuIHR9dmFyIEJtPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixpLHIsbyl7dGhpcy5fb2xkPXQsdGhpcy5fbmV3PWUsdGhpcy5fb2xkS2V5R2V0dGVyPW58fFZtLHRoaXMuX25ld0tleUdldHRlcj1pfHxWbSx0aGlzLmNvbnRleHQ9cix0aGlzLl9kaWZmTW9kZU11bHRpcGxlPSJtdWx0aXBsZSI9PT1vfXJldHVybiB0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2FkZD10LHRoaXN9LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdXBkYXRlPXQsdGhpc30sdC5wcm90b3R5cGUudXBkYXRlTWFueVRvT25lPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl91cGRhdGVNYW55VG9PbmU9dCx0aGlzfSx0LnByb3RvdHlwZS51cGRhdGVPbmVUb01hbnk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3VwZGF0ZU9uZVRvTWFueT10LHRoaXN9LHQucHJvdG90eXBlLnVwZGF0ZU1hbnlUb01hbnk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3VwZGF0ZU1hbnlUb01hbnk9dCx0aGlzfSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3JlbW92ZT10LHRoaXN9LHQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXt0aGlzW3RoaXMuX2RpZmZNb2RlTXVsdGlwbGU/Il9leGVjdXRlTXVsdGlwbGUiOiJfZXhlY3V0ZU9uZVRvT25lIl0oKX0sdC5wcm90b3R5cGUuX2V4ZWN1dGVPbmVUb09uZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX29sZCxlPXRoaXMuX25ldyxuPXt9LGk9bmV3IEFycmF5KHQubGVuZ3RoKSxyPW5ldyBBcnJheShlLmxlbmd0aCk7dGhpcy5faW5pdEluZGV4TWFwKHQsbnVsbCxpLCJfb2xkS2V5R2V0dGVyIiksdGhpcy5faW5pdEluZGV4TWFwKGUsbixyLCJfbmV3S2V5R2V0dGVyIik7Zm9yKHZhciBvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBhPWlbb10scz1uW2FdLGw9RW0ocyk7aWYobD4xKXt2YXIgdT1zLnNoaWZ0KCk7MT09PXMubGVuZ3RoJiYoblthXT1zWzBdKSx0aGlzLl91cGRhdGUmJnRoaXMuX3VwZGF0ZSh1LG8pfWVsc2UgMT09PWw/KG5bYV09bnVsbCx0aGlzLl91cGRhdGUmJnRoaXMuX3VwZGF0ZShzLG8pKTp0aGlzLl9yZW1vdmUmJnRoaXMuX3JlbW92ZShvKX10aGlzLl9wZXJmb3JtUmVzdEFkZChyLG4pfSx0LnByb3RvdHlwZS5fZXhlY3V0ZU11bHRpcGxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fb2xkLGU9dGhpcy5fbmV3LG49e30saT17fSxyPVtdLG89W107dGhpcy5faW5pdEluZGV4TWFwKHQsbixyLCJfb2xkS2V5R2V0dGVyIiksdGhpcy5faW5pdEluZGV4TWFwKGUsaSxvLCJfbmV3S2V5R2V0dGVyIik7Zm9yKHZhciBhPTA7YTxyLmxlbmd0aDthKyspe3ZhciBzPXJbYV0sbD1uW3NdLHU9aVtzXSxoPUVtKGwpLGM9RW0odSk7aWYoaD4xJiYxPT09Yyl0aGlzLl91cGRhdGVNYW55VG9PbmUmJnRoaXMuX3VwZGF0ZU1hbnlUb09uZSh1LGwpLGlbc109bnVsbDtlbHNlIGlmKDE9PT1oJiZjPjEpdGhpcy5fdXBkYXRlT25lVG9NYW55JiZ0aGlzLl91cGRhdGVPbmVUb01hbnkodSxsKSxpW3NdPW51bGw7ZWxzZSBpZigxPT09aCYmMT09PWMpdGhpcy5fdXBkYXRlJiZ0aGlzLl91cGRhdGUodSxsKSxpW3NdPW51bGw7ZWxzZSBpZihoPjEmJmM+MSl0aGlzLl91cGRhdGVNYW55VG9NYW55JiZ0aGlzLl91cGRhdGVNYW55VG9NYW55KHUsbCksaVtzXT1udWxsO2Vsc2UgaWYoaD4xKWZvcih2YXIgcD0wO3A8aDtwKyspdGhpcy5fcmVtb3ZlJiZ0aGlzLl9yZW1vdmUobFtwXSk7ZWxzZSB0aGlzLl9yZW1vdmUmJnRoaXMuX3JlbW92ZShsKX10aGlzLl9wZXJmb3JtUmVzdEFkZChvLGkpfSx0LnByb3RvdHlwZS5fcGVyZm9ybVJlc3RBZGQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXSxyPWVbaV0sbz1FbShyKTtpZihvPjEpZm9yKHZhciBhPTA7YTxvO2ErKyl0aGlzLl9hZGQmJnRoaXMuX2FkZChyW2FdKTtlbHNlIDE9PT1vJiZ0aGlzLl9hZGQmJnRoaXMuX2FkZChyKTtlW2ldPW51bGx9fSx0LnByb3RvdHlwZS5faW5pdEluZGV4TWFwPWZ1bmN0aW9uKHQsZSxuLGkpe2Zvcih2YXIgcj10aGlzLl9kaWZmTW9kZU11bHRpcGxlLG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIGE9Il9lY18iK3RoaXNbaV0odFtvXSxvKTtpZihyfHwobltvXT1hKSxlKXt2YXIgcz1lW2FdLGw9RW0ocyk7MD09PWw/KGVbYV09byxyJiZuLnB1c2goYSkpOjE9PT1sP2VbYV09W3Msb106cy5wdXNoKG8pfX19LHR9KCksR209ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fZW5jb2RlPXQsdGhpcy5fc2NoZW1hPWV9cmV0dXJuIHQucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybntmdWxsRGltZW5zaW9uczp0aGlzLl9nZXRGdWxsRGltZW5zaW9uTmFtZXMoKSxlbmNvZGU6dGhpcy5fZW5jb2RlfX0sdC5wcm90b3R5cGUuX2dldEZ1bGxEaW1lbnNpb25OYW1lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYWNoZWREaW1OYW1lc3x8KHRoaXMuX2NhY2hlZERpbU5hbWVzPXRoaXMuX3NjaGVtYT90aGlzLl9zY2hlbWEubWFrZU91dHB1dERpbWVuc2lvbk5hbWVzKCk6W10pLHRoaXMuX2NhY2hlZERpbU5hbWVzfSx0fSgpO2Z1bmN0aW9uIEZtKHQsZSl7cmV0dXJuIHQuaGFzT3duUHJvcGVydHkoZSl8fCh0W2VdPVtdKSx0W2VdfWZ1bmN0aW9uIEhtKHQpe3JldHVybiJjYXRlZ29yeSI9PT10PyJvcmRpbmFsIjoidGltZSI9PT10PyJ0aW1lIjoiZmxvYXQifXZhciBXbT1mdW5jdGlvbih0KXt0aGlzLm90aGVyRGltcz17fSxudWxsIT10JiZUKHRoaXMsdCl9LFVtPVJyKCksWG09e2Zsb2F0OiJmIixpbnQ6ImkiLG9yZGluYWw6Im8iLG51bWJlcjoibiIsdGltZToidCJ9LFltPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmRpbWVuc2lvbnM9dC5kaW1lbnNpb25zLHRoaXMuX2RpbU9taXR0ZWQ9dC5kaW1lbnNpb25PbWl0dGVkLHRoaXMuc291cmNlPXQuc291cmNlLHRoaXMuX2Z1bGxEaW1Db3VudD10LmZ1bGxEaW1lbnNpb25Db3VudCx0aGlzLl91cGRhdGVEaW1PbWl0dGVkKHQuZGltZW5zaW9uT21pdHRlZCl9cmV0dXJuIHQucHJvdG90eXBlLmlzRGltZW5zaW9uT21pdHRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaW1PbWl0dGVkfSx0LnByb3RvdHlwZS5fdXBkYXRlRGltT21pdHRlZD1mdW5jdGlvbih0KXt0aGlzLl9kaW1PbWl0dGVkPXQsdCYmKHRoaXMuX2RpbU5hbWVNYXB8fCh0aGlzLl9kaW1OYW1lTWFwPXFtKHRoaXMuc291cmNlKSkpfSx0LnByb3RvdHlwZS5nZXRTb3VyY2VEaW1lbnNpb25JbmRleD1mdW5jdGlvbih0KXtyZXR1cm4gZXQodGhpcy5fZGltTmFtZU1hcC5nZXQodCksLTEpfSx0LnByb3RvdHlwZS5nZXRTb3VyY2VEaW1lbnNpb249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zb3VyY2UuZGltZW5zaW9uc0RlZmluZTtpZihlKXJldHVybiBlW3RdfSx0LnByb3RvdHlwZS5tYWtlU3RvcmVTY2hlbWE9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fZnVsbERpbUNvdW50LGU9U2QodGhpcy5zb3VyY2UpLG49IUttKHQpLGk9IiIscj1bXSxvPTAsYT0wO288dDtvKyspe3ZhciBzPXZvaWQgMCxsPXZvaWQgMCx1PXZvaWQgMCxoPXRoaXMuZGltZW5zaW9uc1thXTtpZihoJiZoLnN0b3JlRGltSW5kZXg9PT1vKXM9ZT9oLm5hbWU6bnVsbCxsPWgudHlwZSx1PWgub3JkaW5hbE1ldGEsYSsrO2Vsc2V7dmFyIGM9dGhpcy5nZXRTb3VyY2VEaW1lbnNpb24obyk7YyYmKHM9ZT9jLm5hbWU6bnVsbCxsPWMudHlwZSl9ci5wdXNoKHtwcm9wZXJ0eTpzLHR5cGU6bCxvcmRpbmFsTWV0YTp1fSksIWV8fG51bGw9PXN8fGgmJmguaXNDYWxjdWxhdGlvbkNvb3JkfHwoaSs9bj9zLnJlcGxhY2UoL1xgL2csImAxIikucmVwbGFjZSgvXCQvZywiYDIiKTpzKSxpKz0iJCIsaSs9WG1bbF18fCJmIix1JiYoaSs9dS51aWQpLGkrPSIkIn12YXIgcD10aGlzLnNvdXJjZTtyZXR1cm57ZGltZW5zaW9uczpyLGhhc2g6W3Auc2VyaWVzTGF5b3V0QnkscC5zdGFydEluZGV4LGldLmpvaW4oIiQkIil9fSx0LnByb3RvdHlwZS5tYWtlT3V0cHV0RGltZW5zaW9uTmFtZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wLG49MDtlPHRoaXMuX2Z1bGxEaW1Db3VudDtlKyspe3ZhciBpPXZvaWQgMCxyPXRoaXMuZGltZW5zaW9uc1tuXTtpZihyJiZyLnN0b3JlRGltSW5kZXg9PT1lKXIuaXNDYWxjdWxhdGlvbkNvb3JkfHwoaT1yLm5hbWUpLG4rKztlbHNle3ZhciBvPXRoaXMuZ2V0U291cmNlRGltZW5zaW9uKGUpO28mJihpPW8ubmFtZSl9dC5wdXNoKGkpfXJldHVybiB0fSx0LnByb3RvdHlwZS5hcHBlbmRDYWxjdWxhdGlvbkRpbWVuc2lvbj1mdW5jdGlvbih0KXt0aGlzLmRpbWVuc2lvbnMucHVzaCh0KSx0LmlzQ2FsY3VsYXRpb25Db29yZD0hMCx0aGlzLl9mdWxsRGltQ291bnQrKyx0aGlzLl91cGRhdGVEaW1PbWl0dGVkKCEwKX0sdH0oKTtmdW5jdGlvbiBabSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFltfWZ1bmN0aW9uIGptKHQpe2Zvcih2YXIgZT1jdCgpLG49MDtuPCh0fHxbXSkubGVuZ3RoO24rKyl7dmFyIGk9dFtuXSxyPVkoaSk/aS5uYW1lOmk7bnVsbCE9ciYmbnVsbD09ZS5nZXQocikmJmUuc2V0KHIsbil9cmV0dXJuIGV9ZnVuY3Rpb24gcW0odCl7dmFyIGU9VW0odCk7cmV0dXJuIGUuZGltTmFtZU1hcHx8KGUuZGltTmFtZU1hcD1qbSh0LmRpbWVuc2lvbnNEZWZpbmUpKX1mdW5jdGlvbiBLbSh0KXtyZXR1cm4gdD4zMH12YXIgJG0sSm0sUW0sdF8sZV8sbl8saV8scl89WSxvXz1SLGFfPSJ1bmRlZmluZWQiPT10eXBlb2YgSW50MzJBcnJheT9BcnJheTpJbnQzMkFycmF5LHNfPVsiaGFzSXRlbU9wdGlvbiIsIl9uYW1lTGlzdCIsIl9pZExpc3QiLCJfaW52ZXJ0ZWRJbmRpY2VzTWFwIiwiX2RpbVN1bW1hcnkiLCJ1c2VyT3V0cHV0IiwiX3Jhd0RhdGEiLCJfZGltVmFsdWVHZXR0ZXIiLCJfbmFtZURpbUlkeCIsIl9pZERpbUlkeCIsIl9uYW1lUmVwZWF0Q291bnQiXSxsXz1bIl9hcHByb3hpbWF0ZUV4dGVudCJdLHVfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZhciBuO3RoaXMudHlwZT0ibGlzdCIsdGhpcy5fZGltT21pdHRlZD0hMSx0aGlzLl9uYW1lTGlzdD1bXSx0aGlzLl9pZExpc3Q9W10sdGhpcy5fdmlzdWFsPXt9LHRoaXMuX2xheW91dD17fSx0aGlzLl9pdGVtVmlzdWFscz1bXSx0aGlzLl9pdGVtTGF5b3V0cz1bXSx0aGlzLl9ncmFwaGljRWxzPVtdLHRoaXMuX2FwcHJveGltYXRlRXh0ZW50PXt9LHRoaXMuX2NhbGN1bGF0aW9uSW5mbz17fSx0aGlzLmhhc0l0ZW1PcHRpb249ITEsdGhpcy5UUkFOU0ZFUkFCTEVfTUVUSE9EUz1bImNsb25lU2hhbGxvdyIsImRvd25TYW1wbGUiLCJsdHRiRG93blNhbXBsZSIsIm1hcCJdLHRoaXMuQ0hBTkdBQkxFX01FVEhPRFM9WyJmaWx0ZXJTZWxmIiwic2VsZWN0UmFuZ2UiXSx0aGlzLkRPV05TQU1QTEVfTUVUSE9EUz1bImRvd25TYW1wbGUiLCJsdHRiRG93blNhbXBsZSJdO3ZhciBpPSExO1ptKHQpPyhuPXQuZGltZW5zaW9ucyx0aGlzLl9kaW1PbWl0dGVkPXQuaXNEaW1lbnNpb25PbWl0dGVkKCksdGhpcy5fc2NoZW1hPXQpOihpPSEwLG49dCksbj1ufHxbIngiLCJ5Il07Zm9yKHZhciByPXt9LG89W10sYT17fSxzPSExLGw9e30sdT0wO3U8bi5sZW5ndGg7dSsrKXt2YXIgaD1uW3VdLGM9VyhoKT9uZXcgV20oe25hbWU6aH0pOmggaW5zdGFuY2VvZiBXbT9oOm5ldyBXbShoKSxwPWMubmFtZTtjLnR5cGU9Yy50eXBlfHwiZmxvYXQiLGMuY29vcmREaW18fChjLmNvb3JkRGltPXAsYy5jb29yZERpbUluZGV4PTApO3ZhciBkPWMub3RoZXJEaW1zPWMub3RoZXJEaW1zfHx7fTtvLnB1c2gocCkscltwXT1jLG51bGwhPWxbcF0mJihzPSEwKSxjLmNyZWF0ZUludmVydGVkSW5kaWNlcyYmKGFbcF09W10pLDA9PT1kLml0ZW1OYW1lJiYodGhpcy5fbmFtZURpbUlkeD11KSwwPT09ZC5pdGVtSWQmJih0aGlzLl9pZERpbUlkeD11KSxpJiYoYy5zdG9yZURpbUluZGV4PXUpfWlmKHRoaXMuZGltZW5zaW9ucz1vLHRoaXMuX2RpbUluZm9zPXIsdGhpcy5faW5pdEdldERpbWVuc2lvbkluZm8ocyksdGhpcy5ob3N0TW9kZWw9ZSx0aGlzLl9pbnZlcnRlZEluZGljZXNNYXA9YSx0aGlzLl9kaW1PbWl0dGVkKXt2YXIgZj10aGlzLl9kaW1JZHhUb05hbWU9Y3QoKTtPKG8sKGZ1bmN0aW9uKHQpe2Yuc2V0KHJbdF0uc3RvcmVEaW1JbmRleCx0KX0pKX19cmV0dXJuIHQucHJvdG90eXBlLmdldERpbWVuc2lvbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9yZWNvZ25pemVEaW1JbmRleCh0KTtpZihudWxsPT1lKXJldHVybiB0O2lmKGU9dCwhdGhpcy5fZGltT21pdHRlZClyZXR1cm4gdGhpcy5kaW1lbnNpb25zW2VdO3ZhciBuPXRoaXMuX2RpbUlkeFRvTmFtZS5nZXQoZSk7aWYobnVsbCE9bilyZXR1cm4gbjt2YXIgaT10aGlzLl9zY2hlbWEuZ2V0U291cmNlRGltZW5zaW9uKGUpO3JldHVybiBpP2kubmFtZTp2b2lkIDB9LHQucHJvdG90eXBlLmdldERpbWVuc2lvbkluZGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3JlY29nbml6ZURpbUluZGV4KHQpO2lmKG51bGwhPWUpcmV0dXJuIGU7aWYobnVsbD09dClyZXR1cm4tMTt2YXIgbj10aGlzLl9nZXREaW1JbmZvKHQpO3JldHVybiBuP24uc3RvcmVEaW1JbmRleDp0aGlzLl9kaW1PbWl0dGVkP3RoaXMuX3NjaGVtYS5nZXRTb3VyY2VEaW1lbnNpb25JbmRleCh0KTotMX0sdC5wcm90b3R5cGUuX3JlY29nbml6ZURpbUluZGV4PWZ1bmN0aW9uKHQpe2lmKCJudW1iZXIiPT10eXBlb2YgdHx8bnVsbCE9dCYmIWlzTmFOKHQpJiYhdGhpcy5fZ2V0RGltSW5mbyh0KSYmKCF0aGlzLl9kaW1PbWl0dGVkfHx0aGlzLl9zY2hlbWEuZ2V0U291cmNlRGltZW5zaW9uSW5kZXgodCk8MCkpcmV0dXJuK3R9LHQucHJvdG90eXBlLl9nZXRTdG9yZURpbUluZGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0RGltZW5zaW9uSW5kZXgodCk7cmV0dXJuIGV9LHQucHJvdG90eXBlLmdldERpbWVuc2lvbkluZm89ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2dldERpbUluZm8odGhpcy5nZXREaW1lbnNpb24odCkpfSx0LnByb3RvdHlwZS5faW5pdEdldERpbWVuc2lvbkluZm89ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZGltSW5mb3M7dGhpcy5fZ2V0RGltSW5mbz10P2Z1bmN0aW9uKHQpe3JldHVybiBlLmhhc093blByb3BlcnR5KHQpP2VbdF06dm9pZCAwfTpmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX19LHQucHJvdG90eXBlLmdldERpbWVuc2lvbnNPbkNvb3JkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RpbVN1bW1hcnkuZGF0YURpbXNPbkNvb3JkLnNsaWNlKCl9LHQucHJvdG90eXBlLm1hcERpbWVuc2lvbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2RpbVN1bW1hcnk7aWYobnVsbD09ZSlyZXR1cm4gbi5lbmNvZGVGaXJzdERpbU5vdEV4dHJhW3RdO3ZhciBpPW4uZW5jb2RlW3RdO3JldHVybiBpP2lbZV06bnVsbH0sdC5wcm90b3R5cGUubWFwRGltZW5zaW9uc0FsbD1mdW5jdGlvbih0KXtyZXR1cm4odGhpcy5fZGltU3VtbWFyeS5lbmNvZGVbdF18fFtdKS5zbGljZSgpfSx0LnByb3RvdHlwZS5nZXRTdG9yZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdG9yZX0sdC5wcm90b3R5cGUuaW5pdERhdGE9ZnVuY3Rpb24odCxlLG4pe3ZhciBpLHI9dGhpcztpZih0IGluc3RhbmNlb2YgZmYmJihpPXQpLCFpKXt2YXIgbz10aGlzLmRpbWVuc2lvbnMsYT12ZCh0KXx8UCh0KT9uZXcgTWQodCxvLmxlbmd0aCk6dDtpPW5ldyBmZjt2YXIgcz1vXyhvLChmdW5jdGlvbih0KXtyZXR1cm57dHlwZTpyLl9kaW1JbmZvc1t0XS50eXBlLHByb3BlcnR5OnR9fSkpO2kuaW5pdERhdGEoYSxzLG4pfXRoaXMuX3N0b3JlPWksdGhpcy5fbmFtZUxpc3Q9KGV8fFtdKS5zbGljZSgpLHRoaXMuX2lkTGlzdD1bXSx0aGlzLl9uYW1lUmVwZWF0Q291bnQ9e30sdGhpcy5fZG9Jbml0KDAsaS5jb3VudCgpKSx0aGlzLl9kaW1TdW1tYXJ5PWZ1bmN0aW9uKHQsZSl7dmFyIG49e30saT1uLmVuY29kZT17fSxyPWN0KCksbz1bXSxhPVtdLHM9e307Tyh0LmRpbWVuc2lvbnMsKGZ1bmN0aW9uKGUpe3ZhciBuLGw9dC5nZXREaW1lbnNpb25JbmZvKGUpLHU9bC5jb29yZERpbTtpZih1KXt2YXIgaD1sLmNvb3JkRGltSW5kZXg7Rm0oaSx1KVtoXT1lLGwuaXNFeHRyYUNvb3JkfHwoci5zZXQodSwxKSwib3JkaW5hbCIhPT0obj1sLnR5cGUpJiYidGltZSIhPT1uJiYob1swXT1lKSxGbShzLHUpW2hdPXQuZ2V0RGltZW5zaW9uSW5kZXgobC5uYW1lKSksbC5kZWZhdWx0VG9vbHRpcCYmYS5wdXNoKGUpfWFwLmVhY2goKGZ1bmN0aW9uKHQsZSl7dmFyIG49Rm0oaSxlKSxyPWwub3RoZXJEaW1zW2VdO251bGwhPXImJiExIT09ciYmKG5bcl09bC5uYW1lKX0pKX0pKTt2YXIgbD1bXSx1PXt9O3IuZWFjaCgoZnVuY3Rpb24odCxlKXt2YXIgbj1pW2VdO3VbZV09blswXSxsPWwuY29uY2F0KG4pfSkpLG4uZGF0YURpbXNPbkNvb3JkPWwsbi5kYXRhRGltSW5kaWNlc09uQ29vcmQ9UihsLChmdW5jdGlvbihlKXtyZXR1cm4gdC5nZXREaW1lbnNpb25JbmZvKGUpLnN0b3JlRGltSW5kZXh9KSksbi5lbmNvZGVGaXJzdERpbU5vdEV4dHJhPXU7dmFyIGg9aS5sYWJlbDtoJiZoLmxlbmd0aCYmKG89aC5zbGljZSgpKTt2YXIgYz1pLnRvb2x0aXA7cmV0dXJuIGMmJmMubGVuZ3RoP2E9Yy5zbGljZSgpOmEubGVuZ3RofHwoYT1vLnNsaWNlKCkpLGkuZGVmYXVsdGVkTGFiZWw9byxpLmRlZmF1bHRlZFRvb2x0aXA9YSxuLnVzZXJPdXRwdXQ9bmV3IEdtKHMsZSksbn0odGhpcyx0aGlzLl9zY2hlbWEpLHRoaXMudXNlck91dHB1dD10aGlzLl9kaW1TdW1tYXJ5LnVzZXJPdXRwdXR9LHQucHJvdG90eXBlLmFwcGVuZERhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc3RvcmUuYXBwZW5kRGF0YSh0KTt0aGlzLl9kb0luaXQoZVswXSxlWzFdKX0sdC5wcm90b3R5cGUuYXBwZW5kVmFsdWVzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fc3RvcmUuYXBwZW5kVmFsdWVzKHQsZS5sZW5ndGgpLGk9bi5zdGFydCxyPW4uZW5kLG89dGhpcy5fc2hvdWxkTWFrZUlkRnJvbU5hbWUoKTtpZih0aGlzLl91cGRhdGVPcmRpbmFsTWV0YSgpLGUpZm9yKHZhciBhPWk7YTxyO2ErKyl7dmFyIHM9YS1pO3RoaXMuX25hbWVMaXN0W2FdPWVbc10sbyYmaV8odGhpcyxhKX19LHQucHJvdG90eXBlLl91cGRhdGVPcmRpbmFsTWV0YT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9zdG9yZSxlPXRoaXMuZGltZW5zaW9ucyxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPXRoaXMuX2RpbUluZm9zW2Vbbl1dO2kub3JkaW5hbE1ldGEmJnQuY29sbGVjdE9yZGluYWxNZXRhKGkuc3RvcmVEaW1JbmRleCxpLm9yZGluYWxNZXRhKX19LHQucHJvdG90eXBlLl9zaG91bGRNYWtlSWRGcm9tTmFtZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N0b3JlLmdldFByb3ZpZGVyKCk7cmV0dXJuIG51bGw9PXRoaXMuX2lkRGltSWR4JiZ0LmdldFNvdXJjZSgpLnNvdXJjZUZvcm1hdCE9PWNwJiYhdC5maWxsU3RvcmFnZX0sdC5wcm90b3R5cGUuX2RvSW5pdD1mdW5jdGlvbih0LGUpe2lmKCEodD49ZSkpe3ZhciBuPXRoaXMuX3N0b3JlLmdldFByb3ZpZGVyKCk7dGhpcy5fdXBkYXRlT3JkaW5hbE1ldGEoKTt2YXIgaT10aGlzLl9uYW1lTGlzdCxyPXRoaXMuX2lkTGlzdDtpZihuLmdldFNvdXJjZSgpLnNvdXJjZUZvcm1hdD09PXNwJiYhbi5wdXJlKWZvcih2YXIgbz1bXSxhPXQ7YTxlO2ErKyl7dmFyIHM9bi5nZXRJdGVtKGEsbyk7aWYoIXRoaXMuaGFzSXRlbU9wdGlvbiYmVHIocykmJih0aGlzLmhhc0l0ZW1PcHRpb249ITApLHMpe3ZhciBsPXMubmFtZTtudWxsPT1pW2FdJiZudWxsIT1sJiYoaVthXT1rcihsLG51bGwpKTt2YXIgdT1zLmlkO251bGw9PXJbYV0mJm51bGwhPXUmJihyW2FdPWtyKHUsbnVsbCkpfX1pZih0aGlzLl9zaG91bGRNYWtlSWRGcm9tTmFtZSgpKWZvcihhPXQ7YTxlO2ErKylpXyh0aGlzLGEpOyRtKHRoaXMpfX0sdC5wcm90b3R5cGUuZ2V0QXBwcm94aW1hdGVFeHRlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2FwcHJveGltYXRlRXh0ZW50W3RdfHx0aGlzLl9zdG9yZS5nZXREYXRhRXh0ZW50KHRoaXMuX2dldFN0b3JlRGltSW5kZXgodCkpfSx0LnByb3RvdHlwZS5zZXRBcHByb3hpbWF0ZUV4dGVudD1mdW5jdGlvbih0LGUpe2U9dGhpcy5nZXREaW1lbnNpb24oZSksdGhpcy5fYXBwcm94aW1hdGVFeHRlbnRbZV09dC5zbGljZSgpfSx0LnByb3RvdHlwZS5nZXRDYWxjdWxhdGlvbkluZm89ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NhbGN1bGF0aW9uSW5mb1t0XX0sdC5wcm90b3R5cGUuc2V0Q2FsY3VsYXRpb25JbmZvPWZ1bmN0aW9uKHQsZSl7cl8odCk/VCh0aGlzLl9jYWxjdWxhdGlvbkluZm8sdCk6dGhpcy5fY2FsY3VsYXRpb25JbmZvW3RdPWV9LHQucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRSYXdJbmRleCh0KSxuPXRoaXMuX25hbWVMaXN0W2VdO3JldHVybiBudWxsPT1uJiZudWxsIT10aGlzLl9uYW1lRGltSWR4JiYobj1RbSh0aGlzLHRoaXMuX25hbWVEaW1JZHgsZSkpLG51bGw9PW4mJihuPSIiKSxufSx0LnByb3RvdHlwZS5fZ2V0Q2F0ZWdvcnk9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9zdG9yZS5nZXQodCxlKSxpPXRoaXMuX3N0b3JlLmdldE9yZGluYWxNZXRhKHQpO3JldHVybiBpP2kuY2F0ZWdvcmllc1tuXTpufSx0LnByb3RvdHlwZS5nZXRJZD1mdW5jdGlvbih0KXtyZXR1cm4gSm0odGhpcyx0aGlzLmdldFJhd0luZGV4KHQpKX0sdC5wcm90b3R5cGUuY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RvcmUuY291bnQoKX0sdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fc3RvcmUsaT10aGlzLl9kaW1JbmZvc1t0XTtpZihpKXJldHVybiBuLmdldChpLnN0b3JlRGltSW5kZXgsZSl9LHQucHJvdG90eXBlLmdldEJ5UmF3SW5kZXg9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9zdG9yZSxpPXRoaXMuX2RpbUluZm9zW3RdO2lmKGkpcmV0dXJuIG4uZ2V0QnlSYXdJbmRleChpLnN0b3JlRGltSW5kZXgsZSl9LHQucHJvdG90eXBlLmdldEluZGljZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RvcmUuZ2V0SW5kaWNlcygpfSx0LnByb3RvdHlwZS5nZXREYXRhRXh0ZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdG9yZS5nZXREYXRhRXh0ZW50KHRoaXMuX2dldFN0b3JlRGltSW5kZXgodCkpfSx0LnByb3RvdHlwZS5nZXRTdW09ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3N0b3JlLmdldFN1bSh0aGlzLl9nZXRTdG9yZURpbUluZGV4KHQpKX0sdC5wcm90b3R5cGUuZ2V0TWVkaWFuPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdG9yZS5nZXRNZWRpYW4odGhpcy5fZ2V0U3RvcmVEaW1JbmRleCh0KSl9LHQucHJvdG90eXBlLmdldFZhbHVlcz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMsaT10aGlzLl9zdG9yZTtyZXR1cm4gRih0KT9pLmdldFZhbHVlcyhvXyh0LChmdW5jdGlvbih0KXtyZXR1cm4gbi5fZ2V0U3RvcmVEaW1JbmRleCh0KX0pKSxlKTppLmdldFZhbHVlcyh0KX0sdC5wcm90b3R5cGUuaGFzVmFsdWU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2RpbVN1bW1hcnkuZGF0YURpbUluZGljZXNPbkNvb3JkLG49MCxpPWUubGVuZ3RoO248aTtuKyspaWYoaXNOYU4odGhpcy5fc3RvcmUuZ2V0KGVbbl0sdCkpKXJldHVybiExO3JldHVybiEwfSx0LnByb3RvdHlwZS5pbmRleE9mTmFtZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXRoaXMuX3N0b3JlLmNvdW50KCk7ZTxuO2UrKylpZih0aGlzLmdldE5hbWUoZSk9PT10KXJldHVybiBlO3JldHVybi0xfSx0LnByb3RvdHlwZS5nZXRSYXdJbmRleD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc3RvcmUuZ2V0UmF3SW5kZXgodCl9LHQucHJvdG90eXBlLmluZGV4T2ZSYXdJbmRleD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc3RvcmUuaW5kZXhPZlJhd0luZGV4KHQpfSx0LnByb3RvdHlwZS5yYXdJbmRleE9mPWZ1bmN0aW9uKHQsZSl7dmFyIG49dCYmdGhpcy5faW52ZXJ0ZWRJbmRpY2VzTWFwW3RdO3ZhciBpPW5bZV07cmV0dXJuIG51bGw9PWl8fGlzTmFOKGkpPy0xOml9LHQucHJvdG90eXBlLmluZGljZXNPZk5lYXJlc3Q9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLl9zdG9yZS5pbmRpY2VzT2ZOZWFyZXN0KHRoaXMuX2dldFN0b3JlRGltSW5kZXgodCksZSxuKX0sdC5wcm90b3R5cGUuZWFjaD1mdW5jdGlvbih0LGUsbil7ImZ1bmN0aW9uIj09dHlwZW9mIHQmJihuPWUsZT10LHQ9W10pO3ZhciBpPW58fHRoaXMscj1vXyh0Xyh0KSx0aGlzLl9nZXRTdG9yZURpbUluZGV4LHRoaXMpO3RoaXMuX3N0b3JlLmVhY2gocixpP0IoZSxpKTplKX0sdC5wcm90b3R5cGUuZmlsdGVyU2VsZj1mdW5jdGlvbih0LGUsbil7ImZ1bmN0aW9uIj09dHlwZW9mIHQmJihuPWUsZT10LHQ9W10pO3ZhciBpPW58fHRoaXMscj1vXyh0Xyh0KSx0aGlzLl9nZXRTdG9yZURpbUluZGV4LHRoaXMpO3JldHVybiB0aGlzLl9zdG9yZT10aGlzLl9zdG9yZS5maWx0ZXIocixpP0IoZSxpKTplKSx0aGlzfSx0LnByb3RvdHlwZS5zZWxlY3RSYW5nZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49e307cmV0dXJuIE8oVih0KSwoZnVuY3Rpb24oaSl7dmFyIHI9ZS5fZ2V0U3RvcmVEaW1JbmRleChpKTtuW3JdPXRbaV19KSksdGhpcy5fc3RvcmU9dGhpcy5fc3RvcmUuc2VsZWN0UmFuZ2UobiksdGhpc30sdC5wcm90b3R5cGUubWFwQXJyYXk9ZnVuY3Rpb24odCxlLG4peyJmdW5jdGlvbiI9PXR5cGVvZiB0JiYobj1lLGU9dCx0PVtdKSxuPW58fHRoaXM7dmFyIGk9W107cmV0dXJuIHRoaXMuZWFjaCh0LChmdW5jdGlvbigpe2kucHVzaChlJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9KSxuKSxpfSx0LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bnx8aXx8dGhpcyxvPW9fKHRfKHQpLHRoaXMuX2dldFN0b3JlRGltSW5kZXgsdGhpcyksYT1uXyh0aGlzKTtyZXR1cm4gYS5fc3RvcmU9dGhpcy5fc3RvcmUubWFwKG8scj9CKGUscik6ZSksYX0sdC5wcm90b3R5cGUubW9kaWZ5PWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPW58fGl8fHRoaXM7dmFyIG89b18odF8odCksdGhpcy5fZ2V0U3RvcmVEaW1JbmRleCx0aGlzKTt0aGlzLl9zdG9yZS5tb2RpZnkobyxyP0IoZSxyKTplKX0sdC5wcm90b3R5cGUuZG93blNhbXBsZT1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1uXyh0aGlzKTtyZXR1cm4gci5fc3RvcmU9dGhpcy5fc3RvcmUuZG93blNhbXBsZSh0aGlzLl9nZXRTdG9yZURpbUluZGV4KHQpLGUsbixpKSxyfSx0LnByb3RvdHlwZS5sdHRiRG93blNhbXBsZT1mdW5jdGlvbih0LGUpe3ZhciBuPW5fKHRoaXMpO3JldHVybiBuLl9zdG9yZT10aGlzLl9zdG9yZS5sdHRiRG93blNhbXBsZSh0aGlzLl9nZXRTdG9yZURpbUluZGV4KHQpLGUpLG59LHQucHJvdG90eXBlLmdldFJhd0RhdGFJdGVtPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdG9yZS5nZXRSYXdEYXRhSXRlbSh0KX0sdC5wcm90b3R5cGUuZ2V0SXRlbU1vZGVsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuaG9zdE1vZGVsLG49dGhpcy5nZXRSYXdEYXRhSXRlbSh0KTtyZXR1cm4gbmV3IFdoKG4sZSxlJiZlLmVjTW9kZWwpfSx0LnByb3RvdHlwZS5kaWZmPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBCbSh0P3QuZ2V0U3RvcmUoKS5nZXRJbmRpY2VzKCk6W10sdGhpcy5nZXRTdG9yZSgpLmdldEluZGljZXMoKSwoZnVuY3Rpb24oZSl7cmV0dXJuIEptKHQsZSl9KSwoZnVuY3Rpb24odCl7cmV0dXJuIEptKGUsdCl9KSl9LHQucHJvdG90eXBlLmdldFZpc3VhbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl92aXN1YWw7cmV0dXJuIGUmJmVbdF19LHQucHJvdG90eXBlLnNldFZpc3VhbD1mdW5jdGlvbih0LGUpe3RoaXMuX3Zpc3VhbD10aGlzLl92aXN1YWx8fHt9LHJfKHQpP1QodGhpcy5fdmlzdWFsLHQpOnRoaXMuX3Zpc3VhbFt0XT1lfSx0LnByb3RvdHlwZS5nZXRJdGVtVmlzdWFsPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5faXRlbVZpc3VhbHNbdF0saT1uJiZuW2VdO3JldHVybiBudWxsPT1pP3RoaXMuZ2V0VmlzdWFsKGUpOml9LHQucHJvdG90eXBlLmhhc0l0ZW1WaXN1YWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXRlbVZpc3VhbHMubGVuZ3RoPjB9LHQucHJvdG90eXBlLmVuc3VyZVVuaXF1ZUl0ZW1WaXN1YWw9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9pdGVtVmlzdWFscyxpPW5bdF07aXx8KGk9blt0XT17fSk7dmFyIHI9aVtlXTtyZXR1cm4gbnVsbD09ciYmKEYocj10aGlzLmdldFZpc3VhbChlKSk/cj1yLnNsaWNlKCk6cl8ocikmJihyPVQoe30scikpLGlbZV09cikscn0sdC5wcm90b3R5cGUuc2V0SXRlbVZpc3VhbD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5faXRlbVZpc3VhbHNbdF18fHt9O3RoaXMuX2l0ZW1WaXN1YWxzW3RdPWkscl8oZSk/VChpLGUpOmlbZV09bn0sdC5wcm90b3R5cGUuY2xlYXJBbGxWaXN1YWw9ZnVuY3Rpb24oKXt0aGlzLl92aXN1YWw9e30sdGhpcy5faXRlbVZpc3VhbHM9W119LHQucHJvdG90eXBlLnNldExheW91dD1mdW5jdGlvbih0LGUpe2lmKHJfKHQpKWZvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJnRoaXMuc2V0TGF5b3V0KG4sdFtuXSk7ZWxzZSB0aGlzLl9sYXlvdXRbdF09ZX0sdC5wcm90b3R5cGUuZ2V0TGF5b3V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9sYXlvdXRbdF19LHQucHJvdG90eXBlLmdldEl0ZW1MYXlvdXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2l0ZW1MYXlvdXRzW3RdfSx0LnByb3RvdHlwZS5zZXRJdGVtTGF5b3V0PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl9pdGVtTGF5b3V0c1t0XT1uP1QodGhpcy5faXRlbUxheW91dHNbdF18fHt9LGUpOmV9LHQucHJvdG90eXBlLmNsZWFySXRlbUxheW91dHM9ZnVuY3Rpb24oKXt0aGlzLl9pdGVtTGF5b3V0cy5sZW5ndGg9MH0sdC5wcm90b3R5cGUuc2V0SXRlbUdyYXBoaWNFbD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuaG9zdE1vZGVsJiZ0aGlzLmhvc3RNb2RlbC5zZXJpZXNJbmRleDtNcyhuLHRoaXMuZGF0YVR5cGUsdCxlKSx0aGlzLl9ncmFwaGljRWxzW3RdPWV9LHQucHJvdG90eXBlLmdldEl0ZW1HcmFwaGljRWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2dyYXBoaWNFbHNbdF19LHQucHJvdG90eXBlLmVhY2hJdGVtR3JhcGhpY0VsPWZ1bmN0aW9uKHQsZSl7Tyh0aGlzLl9ncmFwaGljRWxzLChmdW5jdGlvbihuLGkpe24mJnQmJnQuY2FsbChlLG4saSl9KSl9LHQucHJvdG90eXBlLmNsb25lU2hhbGxvdz1mdW5jdGlvbihlKXtyZXR1cm4gZXx8KGU9bmV3IHQodGhpcy5fc2NoZW1hP3RoaXMuX3NjaGVtYTpvXyh0aGlzLmRpbWVuc2lvbnMsdGhpcy5fZ2V0RGltSW5mbyx0aGlzKSx0aGlzLmhvc3RNb2RlbCkpLGVfKGUsdGhpcyksZS5fc3RvcmU9dGhpcy5fc3RvcmUsZX0sdC5wcm90b3R5cGUud3JhcE1ldGhvZD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXNbdF07ImZ1bmN0aW9uIj09dHlwZW9mIG4mJih0aGlzLl9fd3JhcHBlZE1ldGhvZHM9dGhpcy5fX3dyYXBwZWRNZXRob2RzfHxbXSx0aGlzLl9fd3JhcHBlZE1ldGhvZHMucHVzaCh0KSx0aGlzW3RdPWZ1bmN0aW9uKCl7dmFyIHQ9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGUuYXBwbHkodGhpcyxbdF0uY29uY2F0KGl0KGFyZ3VtZW50cykpKX0pfSx0LmludGVybmFsRmllbGQ9KCRtPWZ1bmN0aW9uKHQpe3ZhciBlPXQuX2ludmVydGVkSW5kaWNlc01hcDtPKGUsKGZ1bmN0aW9uKG4saSl7dmFyIHI9dC5fZGltSW5mb3NbaV0sbz1yLm9yZGluYWxNZXRhLGE9dC5fc3RvcmU7aWYobyl7bj1lW2ldPW5ldyBhXyhvLmNhdGVnb3JpZXMubGVuZ3RoKTtmb3IodmFyIHM9MDtzPG4ubGVuZ3RoO3MrKyluW3NdPS0xO2ZvcihzPTA7czxhLmNvdW50KCk7cysrKW5bYS5nZXQoci5zdG9yZURpbUluZGV4LHMpXT1zfX0pKX0sUW09ZnVuY3Rpb24odCxlLG4pe3JldHVybiBrcih0Ll9nZXRDYXRlZ29yeShlLG4pLG51bGwpfSxKbT1mdW5jdGlvbih0LGUpe3ZhciBuPXQuX2lkTGlzdFtlXTtyZXR1cm4gbnVsbD09biYmbnVsbCE9dC5faWREaW1JZHgmJihuPVFtKHQsdC5faWREaW1JZHgsZSkpLG51bGw9PW4mJihuPSJlXDBcMCIrZSksbn0sdF89ZnVuY3Rpb24odCl7cmV0dXJuIEYodCl8fCh0PW51bGwhPXQ/W3RdOltdKSx0fSxuXz1mdW5jdGlvbihlKXt2YXIgbj1uZXcgdChlLl9zY2hlbWE/ZS5fc2NoZW1hOm9fKGUuZGltZW5zaW9ucyxlLl9nZXREaW1JbmZvLGUpLGUuaG9zdE1vZGVsKTtyZXR1cm4gZV8obixlKSxufSxlXz1mdW5jdGlvbih0LGUpe08oc18uY29uY2F0KGUuX193cmFwcGVkTWV0aG9kc3x8W10pLChmdW5jdGlvbihuKXtlLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKX0pKSx0Ll9fd3JhcHBlZE1ldGhvZHM9ZS5fX3dyYXBwZWRNZXRob2RzLE8obF8sKGZ1bmN0aW9uKG4pe3Rbbl09UyhlW25dKX0pKSx0Ll9jYWxjdWxhdGlvbkluZm89VCh7fSxlLl9jYWxjdWxhdGlvbkluZm8pfSx2b2lkKGlfPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5fbmFtZUxpc3QsaT10Ll9pZExpc3Qscj10Ll9uYW1lRGltSWR4LG89dC5faWREaW1JZHgsYT1uW2VdLHM9aVtlXTtpZihudWxsPT1hJiZudWxsIT1yJiYobltlXT1hPVFtKHQscixlKSksbnVsbD09cyYmbnVsbCE9byYmKGlbZV09cz1RbSh0LG8sZSkpLG51bGw9PXMmJm51bGwhPWEpe3ZhciBsPXQuX25hbWVSZXBlYXRDb3VudCx1PWxbYV09KGxbYV18fDApKzE7cz1hLHU+MSYmKHMrPSJfX2VjX18iK3UpLGlbZV09c319KSksdH0oKTtmdW5jdGlvbiBoXyh0LGUpe3ZkKHQpfHwodD1fZCh0KSk7dmFyIG49KGU9ZXx8e30pLmNvb3JkRGltZW5zaW9uc3x8W10saT1lLmRpbWVuc2lvbnNEZWZpbmV8fHQuZGltZW5zaW9uc0RlZmluZXx8W10scj1jdCgpLG89W10sYT1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1NYXRoLm1heCh0LmRpbWVuc2lvbnNEZXRlY3RlZENvdW50fHwxLGUubGVuZ3RoLG4ubGVuZ3RoLGl8fDApO3JldHVybiBPKGUsKGZ1bmN0aW9uKHQpe3ZhciBlO1kodCkmJihlPXQuZGltc0RlZikmJihyPU1hdGgubWF4KHIsZS5sZW5ndGgpKX0pKSxyfSh0LG4saSxlLmRpbWVuc2lvbnNDb3VudCkscz1lLmNhbk9taXRVbnVzZWREaW1lbnNpb25zJiZLbShhKSxsPWk9PT10LmRpbWVuc2lvbnNEZWZpbmUsdT1sP3FtKHQpOmptKGkpLGg9ZS5lbmNvZGVEZWZpbmU7IWgmJmUuZW5jb2RlRGVmYXVsdGVyJiYoaD1lLmVuY29kZURlZmF1bHRlcih0LGEpKTtmb3IodmFyIGM9Y3QoaCkscD1uZXcgdWYoYSksZD0wO2Q8cC5sZW5ndGg7ZCsrKXBbZF09LTE7ZnVuY3Rpb24gZih0KXt2YXIgZT1wW3RdO2lmKGU8MCl7dmFyIG49aVt0XSxyPVkobik/bjp7bmFtZTpufSxhPW5ldyBXbSxzPXIubmFtZTtudWxsIT1zJiZudWxsIT11LmdldChzKSYmKGEubmFtZT1hLmRpc3BsYXlOYW1lPXMpLG51bGwhPXIudHlwZSYmKGEudHlwZT1yLnR5cGUpLG51bGwhPXIuZGlzcGxheU5hbWUmJihhLmRpc3BsYXlOYW1lPXIuZGlzcGxheU5hbWUpO3ZhciBsPW8ubGVuZ3RoO3JldHVybiBwW3RdPWwsYS5zdG9yZURpbUluZGV4PXQsby5wdXNoKGEpLGF9cmV0dXJuIG9bZV19aWYoIXMpZm9yKGQ9MDtkPGE7ZCsrKWYoZCk7Yy5lYWNoKChmdW5jdGlvbih0LGUpe3ZhciBuPXdyKHQpLnNsaWNlKCk7aWYoMT09PW4ubGVuZ3RoJiYhVyhuWzBdKSYmblswXTwwKWMuc2V0KGUsITEpO2Vsc2V7dmFyIGk9Yy5zZXQoZSxbXSk7TyhuLChmdW5jdGlvbih0LG4pe3ZhciByPVcodCk/dS5nZXQodCk6dDtudWxsIT1yJiZyPGEmJihpW25dPXIseShmKHIpLGUsbikpfSkpfX0pKTt2YXIgZz0wO2Z1bmN0aW9uIHkodCxlLG4pe251bGwhPWFwLmdldChlKT90Lm90aGVyRGltc1tlXT1uOih0LmNvb3JkRGltPWUsdC5jb29yZERpbUluZGV4PW4sci5zZXQoZSwhMCkpfU8obiwoZnVuY3Rpb24odCl7dmFyIGUsbixpLHI7aWYoVyh0KSllPXQscj17fTtlbHNle2U9KHI9dCkubmFtZTt2YXIgbz1yLm9yZGluYWxNZXRhO3Iub3JkaW5hbE1ldGE9bnVsbCwocj1UKHt9LHIpKS5vcmRpbmFsTWV0YT1vLG49ci5kaW1zRGVmLGk9ci5vdGhlckRpbXMsci5uYW1lPXIuY29vcmREaW09ci5jb29yZERpbUluZGV4PXIuZGltc0RlZj1yLm90aGVyRGltcz1udWxsfXZhciBzPWMuZ2V0KGUpO2lmKCExIT09cyl7aWYoIShzPXdyKHMpKS5sZW5ndGgpZm9yKHZhciB1PTA7dTwobiYmbi5sZW5ndGh8fDEpO3UrKyl7Zm9yKDtnPGEmJm51bGwhPWYoZykuY29vcmREaW07KWcrKztnPGEmJnMucHVzaChnKyspfU8ocywoZnVuY3Rpb24odCxvKXt2YXIgYT1mKHQpO2lmKGwmJm51bGwhPXIudHlwZSYmKGEudHlwZT1yLnR5cGUpLHkoQyhhLHIpLGUsbyksbnVsbD09YS5uYW1lJiZuKXt2YXIgcz1uW29dOyFZKHMpJiYocz17bmFtZTpzfSksYS5uYW1lPWEuZGlzcGxheU5hbWU9cy5uYW1lLGEuZGVmYXVsdFRvb2x0aXA9cy5kZWZhdWx0VG9vbHRpcH1pJiZDKGEub3RoZXJEaW1zLGkpfSkpfX0pKTt2YXIgdj1lLmdlbmVyYXRlQ29vcmQsbT1lLmdlbmVyYXRlQ29vcmRDb3VudCxfPW51bGwhPW07bT12P218fDE6MDt2YXIgeD12fHwidmFsdWUiO2Z1bmN0aW9uIGIodCl7bnVsbD09dC5uYW1lJiYodC5uYW1lPXQuY29vcmREaW0pfWlmKHMpTyhvLChmdW5jdGlvbih0KXtiKHQpfSkpLG8uc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zdG9yZURpbUluZGV4LWUuc3RvcmVEaW1JbmRleH0pKTtlbHNlIGZvcih2YXIgdz0wO3c8YTt3Kyspe3ZhciBTPWYodyk7bnVsbD09Uy5jb29yZERpbSYmKFMuY29vcmREaW09Y18oeCxyLF8pLFMuY29vcmREaW1JbmRleD0wLCghdnx8bTw9MCkmJihTLmlzRXh0cmFDb29yZD0hMCksbS0tKSxiKFMpLG51bGwhPVMudHlwZXx8d3AodCx3KSE9PWdwJiYoIVMuaXNFeHRyYUNvb3JkfHxudWxsPT1TLm90aGVyRGltcy5pdGVtTmFtZSYmbnVsbD09Uy5vdGhlckRpbXMuc2VyaWVzTmFtZSl8fChTLnR5cGU9Im9yZGluYWwiKX1yZXR1cm4gZnVuY3Rpb24odCl7Zm9yKHZhciBlPWN0KCksbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dLHI9aS5uYW1lLG89ZS5nZXQocil8fDA7bz4wJiYoaS5uYW1lPXIrKG8tMSkpLG8rKyxlLnNldChyLG8pfX0obyksbmV3IFltKHtzb3VyY2U6dCxkaW1lbnNpb25zOm8sZnVsbERpbWVuc2lvbkNvdW50OmEsZGltZW5zaW9uT21pdHRlZDpzfSl9ZnVuY3Rpb24gY18odCxlLG4pe3ZhciBpPWUuZGF0YTtpZihufHxpLmhhc093blByb3BlcnR5KHQpKXtmb3IodmFyIHI9MDtpLmhhc093blByb3BlcnR5KHQrcik7KXIrKzt0Kz1yfXJldHVybiBlLnNldCh0LCEwKSx0fXZhciBwXz1mdW5jdGlvbih0KXt0aGlzLmNvb3JkU3lzRGltcz1bXSx0aGlzLmF4aXNNYXA9Y3QoKSx0aGlzLmNhdGVnb3J5QXhpc01hcD1jdCgpLHRoaXMuY29vcmRTeXNOYW1lPXR9O3ZhciBkXz17Y2FydGVzaWFuMmQ6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dC5nZXRSZWZlcnJpbmdDb21wb25lbnRzKCJ4QXhpcyIsVnIpLm1vZGVsc1swXSxvPXQuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cygieUF4aXMiLFZyKS5tb2RlbHNbMF07ZS5jb29yZFN5c0RpbXM9WyJ4IiwieSJdLG4uc2V0KCJ4IixyKSxuLnNldCgieSIsbyksZl8ocikmJihpLnNldCgieCIsciksZS5maXJzdENhdGVnb3J5RGltSW5kZXg9MCksZl8obykmJihpLnNldCgieSIsbyksbnVsbD09ZS5maXJzdENhdGVnb3J5RGltSW5kZXgmJihlLmZpcnN0Q2F0ZWdvcnlEaW1JbmRleD0xKSl9LHNpbmdsZUF4aXM6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dC5nZXRSZWZlcnJpbmdDb21wb25lbnRzKCJzaW5nbGVBeGlzIixWcikubW9kZWxzWzBdO2UuY29vcmRTeXNEaW1zPVsic2luZ2xlIl0sbi5zZXQoInNpbmdsZSIsciksZl8ocikmJihpLnNldCgic2luZ2xlIixyKSxlLmZpcnN0Q2F0ZWdvcnlEaW1JbmRleD0wKX0scG9sYXI6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dC5nZXRSZWZlcnJpbmdDb21wb25lbnRzKCJwb2xhciIsVnIpLm1vZGVsc1swXSxvPXIuZmluZEF4aXNNb2RlbCgicmFkaXVzQXhpcyIpLGE9ci5maW5kQXhpc01vZGVsKCJhbmdsZUF4aXMiKTtlLmNvb3JkU3lzRGltcz1bInJhZGl1cyIsImFuZ2xlIl0sbi5zZXQoInJhZGl1cyIsbyksbi5zZXQoImFuZ2xlIixhKSxmXyhvKSYmKGkuc2V0KCJyYWRpdXMiLG8pLGUuZmlyc3RDYXRlZ29yeURpbUluZGV4PTApLGZfKGEpJiYoaS5zZXQoImFuZ2xlIixhKSxudWxsPT1lLmZpcnN0Q2F0ZWdvcnlEaW1JbmRleCYmKGUuZmlyc3RDYXRlZ29yeURpbUluZGV4PTEpKX0sZ2VvOmZ1bmN0aW9uKHQsZSxuLGkpe2UuY29vcmRTeXNEaW1zPVsibG5nIiwibGF0Il19LHBhcmFsbGVsOmZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXQuZWNNb2RlbCxvPXIuZ2V0Q29tcG9uZW50KCJwYXJhbGxlbCIsdC5nZXQoInBhcmFsbGVsSW5kZXgiKSksYT1lLmNvb3JkU3lzRGltcz1vLmRpbWVuc2lvbnMuc2xpY2UoKTtPKG8ucGFyYWxsZWxBeGlzSW5kZXgsKGZ1bmN0aW9uKHQsbyl7dmFyIHM9ci5nZXRDb21wb25lbnQoInBhcmFsbGVsQXhpcyIsdCksbD1hW29dO24uc2V0KGwscyksZl8ocykmJihpLnNldChsLHMpLG51bGw9PWUuZmlyc3RDYXRlZ29yeURpbUluZGV4JiYoZS5maXJzdENhdGVnb3J5RGltSW5kZXg9bykpfSkpfX07ZnVuY3Rpb24gZl8odCl7cmV0dXJuImNhdGVnb3J5Ij09PXQuZ2V0KCJ0eXBlIil9ZnVuY3Rpb24gZ18odCxlLG4pe3ZhciBpLHIsbyxhPShuPW58fHt9KS5ieUluZGV4LHM9bi5zdGFja2VkQ29vcmREaW1lbnNpb247IWZ1bmN0aW9uKHQpe3JldHVybiFabSh0LnNjaGVtYSl9KGUpPyhyPWUuc2NoZW1hLGk9ci5kaW1lbnNpb25zLG89ZS5zdG9yZSk6aT1lO3ZhciBsLHUsaCxjLHA9ISghdHx8IXQuZ2V0KCJzdGFjayIpKTtpZihPKGksKGZ1bmN0aW9uKHQsZSl7Vyh0KSYmKGlbZV09dD17bmFtZTp0fSkscCYmIXQuaXNFeHRyYUNvb3JkJiYoYXx8bHx8IXQub3JkaW5hbE1ldGF8fChsPXQpLHV8fCJvcmRpbmFsIj09PXQudHlwZXx8InRpbWUiPT09dC50eXBlfHxzJiZzIT09dC5jb29yZERpbXx8KHU9dCkpfSkpLCF1fHxhfHxsfHwoYT0hMCksdSl7aD0iX19cMGVjc3RhY2tyZXN1bHRfIit0LmlkLGM9Il9fXDBlY3N0YWNrZWRvdmVyXyIrdC5pZCxsJiYobC5jcmVhdGVJbnZlcnRlZEluZGljZXM9ITApO3ZhciBkPXUuY29vcmREaW0sZj11LnR5cGUsZz0wO08oaSwoZnVuY3Rpb24odCl7dC5jb29yZERpbT09PWQmJmcrK30pKTt2YXIgeT17bmFtZTpoLGNvb3JkRGltOmQsY29vcmREaW1JbmRleDpnLHR5cGU6Zixpc0V4dHJhQ29vcmQ6ITAsaXNDYWxjdWxhdGlvbkNvb3JkOiEwLHN0b3JlRGltSW5kZXg6aS5sZW5ndGh9LHY9e25hbWU6Yyxjb29yZERpbTpjLGNvb3JkRGltSW5kZXg6ZysxLHR5cGU6Zixpc0V4dHJhQ29vcmQ6ITAsaXNDYWxjdWxhdGlvbkNvb3JkOiEwLHN0b3JlRGltSW5kZXg6aS5sZW5ndGgrMX07cj8obyYmKHkuc3RvcmVEaW1JbmRleD1vLmVuc3VyZUNhbGN1bGF0aW9uRGltZW5zaW9uKGMsZiksdi5zdG9yZURpbUluZGV4PW8uZW5zdXJlQ2FsY3VsYXRpb25EaW1lbnNpb24oaCxmKSksci5hcHBlbmRDYWxjdWxhdGlvbkRpbWVuc2lvbih5KSxyLmFwcGVuZENhbGN1bGF0aW9uRGltZW5zaW9uKHYpKTooaS5wdXNoKHkpLGkucHVzaCh2KSl9cmV0dXJue3N0YWNrZWREaW1lbnNpb246dSYmdS5uYW1lLHN0YWNrZWRCeURpbWVuc2lvbjpsJiZsLm5hbWUsaXNTdGFja2VkQnlJbmRleDphLHN0YWNrZWRPdmVyRGltZW5zaW9uOmMsc3RhY2tSZXN1bHREaW1lbnNpb246aH19ZnVuY3Rpb24geV8odCxlKXtyZXR1cm4hIWUmJmU9PT10LmdldENhbGN1bGF0aW9uSW5mbygic3RhY2tlZERpbWVuc2lvbiIpfWZ1bmN0aW9uIHZfKHQsZSl7cmV0dXJuIHlfKHQsZSk/dC5nZXRDYWxjdWxhdGlvbkluZm8oInN0YWNrUmVzdWx0RGltZW5zaW9uIik6ZX1mdW5jdGlvbiBtXyh0LGUsbil7bj1ufHx7fTt2YXIgaSxyPWUuZ2V0U291cmNlTWFuYWdlcigpLG89ITE7dD8obz0hMCxpPV9kKHQpKTpvPShpPXIuZ2V0U291cmNlKCkpLnNvdXJjZUZvcm1hdD09PXNwO3ZhciBhPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KCJjb29yZGluYXRlU3lzdGVtIiksbj1uZXcgcF8oZSksaT1kX1tlXTtpZihpKXJldHVybiBpKHQsbixuLmF4aXNNYXAsbi5jYXRlZ29yeUF4aXNNYXApLG59KGUpLHM9ZnVuY3Rpb24odCxlKXt2YXIgbixpPXQuZ2V0KCJjb29yZGluYXRlU3lzdGVtIikscj1HcC5nZXQoaSk7cmV0dXJuIGUmJmUuY29vcmRTeXNEaW1zJiYobj1SKGUuY29vcmRTeXNEaW1zLChmdW5jdGlvbih0KXt2YXIgbj17bmFtZTp0fSxpPWUuYXhpc01hcC5nZXQodCk7aWYoaSl7dmFyIHI9aS5nZXQoInR5cGUiKTtuLnR5cGU9SG0ocil9cmV0dXJuIG59KSkpLG58fChuPXImJihyLmdldERpbWVuc2lvbnNJbmZvP3IuZ2V0RGltZW5zaW9uc0luZm8oKTpyLmRpbWVuc2lvbnMuc2xpY2UoKSl8fFsieCIsInkiXSksbn0oZSxhKSxsPW4udXNlRW5jb2RlRGVmYXVsdGVyLHU9SChsKT9sOmw/RyhfcCxzLGUpOm51bGwsaD1oXyhpLHtjb29yZERpbWVuc2lvbnM6cyxnZW5lcmF0ZUNvb3JkOm4uZ2VuZXJhdGVDb29yZCxlbmNvZGVEZWZpbmU6ZS5nZXRFbmNvZGUoKSxlbmNvZGVEZWZhdWx0ZXI6dSxjYW5PbWl0VW51c2VkRGltZW5zaW9uczohb30pLGM9ZnVuY3Rpb24odCxlLG4pe3ZhciBpLHI7cmV0dXJuIG4mJk8odCwoZnVuY3Rpb24odCxvKXt2YXIgYT10LmNvb3JkRGltLHM9bi5jYXRlZ29yeUF4aXNNYXAuZ2V0KGEpO3MmJihudWxsPT1pJiYoaT1vKSx0Lm9yZGluYWxNZXRhPXMuZ2V0T3JkaW5hbE1ldGEoKSxlJiYodC5jcmVhdGVJbnZlcnRlZEluZGljZXM9ITApKSxudWxsIT10Lm90aGVyRGltcy5pdGVtTmFtZSYmKHI9ITApfSkpLHJ8fG51bGw9PWl8fCh0W2ldLm90aGVyRGltcy5pdGVtTmFtZT0wKSxpfShoLmRpbWVuc2lvbnMsbi5jcmVhdGVJbnZlcnRlZEluZGljZXMsYSkscD1vP251bGw6ci5nZXRTaGFyZWREYXRhU3RvcmUoaCksZD1nXyhlLHtzY2hlbWE6aCxzdG9yZTpwfSksZj1uZXcgdV8oaCxlKTtmLnNldENhbGN1bGF0aW9uSW5mbyhkKTt2YXIgZz1udWxsIT1jJiZmdW5jdGlvbih0KXtpZih0LnNvdXJjZUZvcm1hdD09PXNwKXt2YXIgZT1mdW5jdGlvbih0KXt2YXIgZT0wO2Zvcig7ZTx0Lmxlbmd0aCYmbnVsbD09dFtlXTspZSsrO3JldHVybiB0W2VdfSh0LmRhdGF8fFtdKTtyZXR1cm4gbnVsbCE9ZSYmIUYoSXIoZSkpfX0oaSk/ZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuIGk9PT1jP246dGhpcy5kZWZhdWx0RGltVmFsdWVHZXR0ZXIodCxlLG4saSl9Om51bGw7cmV0dXJuIGYuaGFzSXRlbU9wdGlvbj0hMSxmLmluaXREYXRhKG8/aTpwLG51bGwsZyksZn12YXIgX189ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3NldHRpbmc9dHx8e30sdGhpcy5fZXh0ZW50PVsxLzAsLTEvMF19cmV0dXJuIHQucHJvdG90eXBlLmdldFNldHRpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3NldHRpbmdbdF19LHQucHJvdG90eXBlLnVuaW9uRXh0ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2V4dGVudDt0WzBdPGVbMF0mJihlWzBdPXRbMF0pLHRbMV0+ZVsxXSYmKGVbMV09dFsxXSl9LHQucHJvdG90eXBlLnVuaW9uRXh0ZW50RnJvbURhdGE9ZnVuY3Rpb24odCxlKXt0aGlzLnVuaW9uRXh0ZW50KHQuZ2V0QXBwcm94aW1hdGVFeHRlbnQoZSkpfSx0LnByb3RvdHlwZS5nZXRFeHRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXh0ZW50LnNsaWNlKCl9LHQucHJvdG90eXBlLnNldEV4dGVudD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2V4dGVudDtpc05hTih0KXx8KG5bMF09dCksaXNOYU4oZSl8fChuWzFdPWUpfSx0LnByb3RvdHlwZS5pc0luRXh0ZW50UmFuZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2V4dGVudFswXTw9dCYmdGhpcy5fZXh0ZW50WzFdPj10fSx0LnByb3RvdHlwZS5pc0JsYW5rPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzQmxhbmt9LHQucHJvdG90eXBlLnNldEJsYW5rPWZ1bmN0aW9uKHQpe3RoaXMuX2lzQmxhbms9dH0sdH0oKTtRcihfXyk7dmFyIHhfPTAsYl89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuY2F0ZWdvcmllcz10LmNhdGVnb3JpZXN8fFtdLHRoaXMuX25lZWRDb2xsZWN0PXQubmVlZENvbGxlY3QsdGhpcy5fZGVkdXBsaWNhdGlvbj10LmRlZHVwbGljYXRpb24sdGhpcy51aWQ9Kyt4X31yZXR1cm4gdC5jcmVhdGVCeUF4aXNNb2RlbD1mdW5jdGlvbihlKXt2YXIgbj1lLm9wdGlvbixpPW4uZGF0YSxyPWkmJlIoaSx3Xyk7cmV0dXJuIG5ldyB0KHtjYXRlZ29yaWVzOnIsbmVlZENvbGxlY3Q6IXIsZGVkdXBsaWNhdGlvbjohMSE9PW4uZGVkcGxpY2F0aW9ufSl9LHQucHJvdG90eXBlLmdldE9yZGluYWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2dldE9yQ3JlYXRlTWFwKCkuZ2V0KHQpfSx0LnByb3RvdHlwZS5wYXJzZUFuZENvbGxlY3Q9ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLl9uZWVkQ29sbGVjdDtpZigic3RyaW5nIiE9dHlwZW9mIHQmJiFuKXJldHVybiB0O2lmKG4mJiF0aGlzLl9kZWR1cGxpY2F0aW9uKXJldHVybiBlPXRoaXMuY2F0ZWdvcmllcy5sZW5ndGgsdGhpcy5jYXRlZ29yaWVzW2VdPXQsZTt2YXIgaT10aGlzLl9nZXRPckNyZWF0ZU1hcCgpO3JldHVybiBudWxsPT0oZT1pLmdldCh0KSkmJihuPyhlPXRoaXMuY2F0ZWdvcmllcy5sZW5ndGgsdGhpcy5jYXRlZ29yaWVzW2VdPXQsaS5zZXQodCxlKSk6ZT1OYU4pLGV9LHQucHJvdG90eXBlLl9nZXRPckNyZWF0ZU1hcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXB8fCh0aGlzLl9tYXA9Y3QodGhpcy5jYXRlZ29yaWVzKSl9LHR9KCk7ZnVuY3Rpb24gd18odCl7cmV0dXJuIFkodCkmJm51bGwhPXQudmFsdWU/dC52YWx1ZTp0KyIifXZhciBTXz1LaTtmdW5jdGlvbiBNXyh0LGUsbixpKXt2YXIgcj17fSxvPXRbMV0tdFswXSxhPXIuaW50ZXJ2YWw9aHIoby9lLCEwKTtudWxsIT1uJiZhPG4mJihhPXIuaW50ZXJ2YWw9biksbnVsbCE9aSYmYT5pJiYoYT1yLmludGVydmFsPWkpO3ZhciBzPXIuaW50ZXJ2YWxQcmVjaXNpb249SV8oYSk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7IWlzRmluaXRlKHRbMF0pJiYodFswXT1lWzBdKSwhaXNGaW5pdGUodFsxXSkmJih0WzFdPWVbMV0pLFRfKHQsMCxlKSxUXyh0LDEsZSksdFswXT50WzFdJiYodFswXT10WzFdKX0oci5uaWNlVGlja0V4dGVudD1bU18oTWF0aC5jZWlsKHRbMF0vYSkqYSxzKSxTXyhNYXRoLmZsb29yKHRbMV0vYSkqYSxzKV0sdCkscn1mdW5jdGlvbiBJXyh0KXtyZXR1cm4gSmkodCkrMn1mdW5jdGlvbiBUXyh0LGUsbil7dFtlXT1NYXRoLm1heChNYXRoLm1pbih0W2VdLG5bMV0pLG5bMF0pfWZ1bmN0aW9uIENfKHQsZSl7cmV0dXJuIHQ+PWVbMF0mJnQ8PWVbMV19ZnVuY3Rpb24gRF8odCxlKXtyZXR1cm4gZVsxXT09PWVbMF0/LjU6KHQtZVswXSkvKGVbMV0tZVswXSl9ZnVuY3Rpb24gQV8odCxlKXtyZXR1cm4gdCooZVsxXS1lWzBdKStlWzBdfXZhciBrXz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzLGUpfHx0aGlzO24udHlwZT0ib3JkaW5hbCI7dmFyIGk9bi5nZXRTZXR0aW5nKCJvcmRpbmFsTWV0YSIpO3JldHVybiBpfHwoaT1uZXcgYl8oe30pKSxGKGkpJiYoaT1uZXcgYl8oe2NhdGVnb3JpZXM6UihpLChmdW5jdGlvbih0KXtyZXR1cm4gWSh0KT90LnZhbHVlOnR9KSl9KSksbi5fb3JkaW5hbE1ldGE9aSxuLl9leHRlbnQ9bi5nZXRTZXR0aW5nKCJleHRlbnQiKXx8WzAsaS5jYXRlZ29yaWVzLmxlbmd0aC0xXSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P3RoaXMuX29yZGluYWxNZXRhLmdldE9yZGluYWwodCk6TWF0aC5yb3VuZCh0KX0sZS5wcm90b3R5cGUuY29udGFpbj1mdW5jdGlvbih0KXtyZXR1cm4gQ18odD10aGlzLnBhcnNlKHQpLHRoaXMuX2V4dGVudCkmJm51bGwhPXRoaXMuX29yZGluYWxNZXRhLmNhdGVnb3JpZXNbdF19LGUucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gRF8odD10aGlzLl9nZXRUaWNrTnVtYmVyKHRoaXMucGFyc2UodCkpLHRoaXMuX2V4dGVudCl9LGUucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKHQpe3JldHVybiB0PU1hdGgucm91bmQoQV8odCx0aGlzLl9leHRlbnQpKSx0aGlzLmdldFJhd09yZGluYWxOdW1iZXIodCl9LGUucHJvdG90eXBlLmdldFRpY2tzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9dGhpcy5fZXh0ZW50LG49ZVswXTtuPD1lWzFdOyl0LnB1c2goe3ZhbHVlOm59KSxuKys7cmV0dXJuIHR9LGUucHJvdG90eXBlLmdldE1pbm9yVGlja3M9ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS5zZXRTb3J0SW5mbz1mdW5jdGlvbih0KXtpZihudWxsIT10KXtmb3IodmFyIGU9dC5vcmRpbmFsTnVtYmVycyxuPXRoaXMuX29yZGluYWxOdW1iZXJzQnlUaWNrPVtdLGk9dGhpcy5fdGlja3NCeU9yZGluYWxOdW1iZXI9W10scj0wLG89dGhpcy5fb3JkaW5hbE1ldGEuY2F0ZWdvcmllcy5sZW5ndGgsYT1NYXRoLm1pbihvLGUubGVuZ3RoKTtyPGE7KytyKXt2YXIgcz1lW3JdO25bcl09cyxpW3NdPXJ9Zm9yKHZhciBsPTA7cjxvOysrcil7Zm9yKDtudWxsIT1pW2xdOylsKys7bi5wdXNoKGwpLGlbbF09cn19ZWxzZSB0aGlzLl9vcmRpbmFsTnVtYmVyc0J5VGljaz10aGlzLl90aWNrc0J5T3JkaW5hbE51bWJlcj1udWxsfSxlLnByb3RvdHlwZS5fZ2V0VGlja051bWJlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl90aWNrc0J5T3JkaW5hbE51bWJlcjtyZXR1cm4gZSYmdD49MCYmdDxlLmxlbmd0aD9lW3RdOnR9LGUucHJvdG90eXBlLmdldFJhd09yZGluYWxOdW1iZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fb3JkaW5hbE51bWJlcnNCeVRpY2s7cmV0dXJuIGUmJnQ+PTAmJnQ8ZS5sZW5ndGg/ZVt0XTp0fSxlLnByb3RvdHlwZS5nZXRMYWJlbD1mdW5jdGlvbih0KXtpZighdGhpcy5pc0JsYW5rKCkpe3ZhciBlPXRoaXMuZ2V0UmF3T3JkaW5hbE51bWJlcih0LnZhbHVlKSxuPXRoaXMuX29yZGluYWxNZXRhLmNhdGVnb3JpZXNbZV07cmV0dXJuIG51bGw9PW4/IiI6bisiIn19LGUucHJvdG90eXBlLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V4dGVudFsxXS10aGlzLl9leHRlbnRbMF0rMX0sZS5wcm90b3R5cGUudW5pb25FeHRlbnRGcm9tRGF0YT1mdW5jdGlvbih0LGUpe3RoaXMudW5pb25FeHRlbnQodC5nZXRBcHByb3hpbWF0ZUV4dGVudChlKSl9LGUucHJvdG90eXBlLmlzSW5FeHRlbnRSYW5nZT1mdW5jdGlvbih0KXtyZXR1cm4gdD10aGlzLl9nZXRUaWNrTnVtYmVyKHQpLHRoaXMuX2V4dGVudFswXTw9dCYmdGhpcy5fZXh0ZW50WzFdPj10fSxlLnByb3RvdHlwZS5nZXRPcmRpbmFsTWV0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcmRpbmFsTWV0YX0sZS5wcm90b3R5cGUubmljZVRpY2tzPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5uaWNlRXh0ZW50PWZ1bmN0aW9uKCl7fSxlLnR5cGU9Im9yZGluYWwiLGV9KF9fKTtfXy5yZWdpc3RlckNsYXNzKGtfKTt2YXIgTF89S2ksUF89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS50eXBlPSJpbnRlcnZhbCIsZS5faW50ZXJ2YWw9MCxlLl9pbnRlcnZhbFByZWNpc2lvbj0yLGV9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0KXtyZXR1cm4gdH0sZS5wcm90b3R5cGUuY29udGFpbj1mdW5jdGlvbih0KXtyZXR1cm4gQ18odCx0aGlzLl9leHRlbnQpfSxlLnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIERfKHQsdGhpcy5fZXh0ZW50KX0sZS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24odCl7cmV0dXJuIEFfKHQsdGhpcy5fZXh0ZW50KX0sZS5wcm90b3R5cGUuc2V0RXh0ZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fZXh0ZW50O2lzTmFOKHQpfHwoblswXT1wYXJzZUZsb2F0KHQpKSxpc05hTihlKXx8KG5bMV09cGFyc2VGbG9hdChlKSl9LGUucHJvdG90eXBlLnVuaW9uRXh0ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2V4dGVudDt0WzBdPGVbMF0mJihlWzBdPXRbMF0pLHRbMV0+ZVsxXSYmKGVbMV09dFsxXSksdGhpcy5zZXRFeHRlbnQoZVswXSxlWzFdKX0sZS5wcm90b3R5cGUuZ2V0SW50ZXJ2YWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJ2YWx9LGUucHJvdG90eXBlLnNldEludGVydmFsPWZ1bmN0aW9uKHQpe3RoaXMuX2ludGVydmFsPXQsdGhpcy5fbmljZUV4dGVudD10aGlzLl9leHRlbnQuc2xpY2UoKSx0aGlzLl9pbnRlcnZhbFByZWNpc2lvbj1JXyh0KX0sZS5wcm90b3R5cGUuZ2V0VGlja3M9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5faW50ZXJ2YWwsbj10aGlzLl9leHRlbnQsaT10aGlzLl9uaWNlRXh0ZW50LHI9dGhpcy5faW50ZXJ2YWxQcmVjaXNpb24sbz1bXTtpZighZSlyZXR1cm4gbztuWzBdPGlbMF0mJih0P28ucHVzaCh7dmFsdWU6TF8oaVswXS1lLHIpfSk6by5wdXNoKHt2YWx1ZTpuWzBdfSkpO2Zvcih2YXIgYT1pWzBdO2E8PWlbMV0mJihvLnB1c2goe3ZhbHVlOmF9KSwoYT1MXyhhK2UscikpIT09b1tvLmxlbmd0aC0xXS52YWx1ZSk7KWlmKG8ubGVuZ3RoPjFlNClyZXR1cm5bXTt2YXIgcz1vLmxlbmd0aD9vW28ubGVuZ3RoLTFdLnZhbHVlOmlbMV07cmV0dXJuIG5bMV0+cyYmKHQ/by5wdXNoKHt2YWx1ZTpMXyhzK2Uscil9KTpvLnB1c2goe3ZhbHVlOm5bMV19KSksb30sZS5wcm90b3R5cGUuZ2V0TWlub3JUaWNrcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5nZXRUaWNrcyghMCksbj1bXSxpPXRoaXMuZ2V0RXh0ZW50KCkscj0xO3I8ZS5sZW5ndGg7cisrKXtmb3IodmFyIG89ZVtyXSxhPWVbci0xXSxzPTAsbD1bXSx1PShvLnZhbHVlLWEudmFsdWUpL3Q7czx0LTE7KXt2YXIgaD1MXyhhLnZhbHVlKyhzKzEpKnUpO2g+aVswXSYmaDxpWzFdJiZsLnB1c2goaCkscysrfW4ucHVzaChsKX1yZXR1cm4gbn0sZS5wcm90b3R5cGUuZ2V0TGFiZWw9ZnVuY3Rpb24odCxlKXtpZihudWxsPT10KXJldHVybiIiO3ZhciBuPWUmJmUucHJlY2lzaW9uO3JldHVybiBudWxsPT1uP249SmkodC52YWx1ZSl8fDA6ImF1dG8iPT09biYmKG49dGhpcy5faW50ZXJ2YWxQcmVjaXNpb24pLExjKExfKHQudmFsdWUsbiwhMCkpfSxlLnByb3RvdHlwZS5uaWNlVGlja3M9ZnVuY3Rpb24odCxlLG4pe3Q9dHx8NTt2YXIgaT10aGlzLl9leHRlbnQscj1pWzFdLWlbMF07aWYoaXNGaW5pdGUocikpe3I8MCYmKHI9LXIsaS5yZXZlcnNlKCkpO3ZhciBvPU1fKGksdCxlLG4pO3RoaXMuX2ludGVydmFsUHJlY2lzaW9uPW8uaW50ZXJ2YWxQcmVjaXNpb24sdGhpcy5faW50ZXJ2YWw9by5pbnRlcnZhbCx0aGlzLl9uaWNlRXh0ZW50PW8ubmljZVRpY2tFeHRlbnR9fSxlLnByb3RvdHlwZS5uaWNlRXh0ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2V4dGVudDtpZihlWzBdPT09ZVsxXSlpZigwIT09ZVswXSl7dmFyIG49ZVswXTt0LmZpeE1heHx8KGVbMV0rPW4vMiksZVswXS09bi8yfWVsc2UgZVsxXT0xO3ZhciBpPWVbMV0tZVswXTtpc0Zpbml0ZShpKXx8KGVbMF09MCxlWzFdPTEpLHRoaXMubmljZVRpY2tzKHQuc3BsaXROdW1iZXIsdC5taW5JbnRlcnZhbCx0Lm1heEludGVydmFsKTt2YXIgcj10aGlzLl9pbnRlcnZhbDt0LmZpeE1pbnx8KGVbMF09TF8oTWF0aC5mbG9vcihlWzBdL3IpKnIpKSx0LmZpeE1heHx8KGVbMV09TF8oTWF0aC5jZWlsKGVbMV0vcikqcikpfSxlLnR5cGU9ImludGVydmFsIixlfShfXyk7X18ucmVnaXN0ZXJDbGFzcyhQXyk7dmFyIE9fPSJfX2VjX3N0YWNrXyIsUl89InVuZGVmaW5lZCIhPXR5cGVvZiBGbG9hdDMyQXJyYXk/RmxvYXQzMkFycmF5OkFycmF5O2Z1bmN0aW9uIE5fKHQpe3JldHVybiB0LmdldCgic3RhY2siKXx8T18rdC5zZXJpZXNJbmRleH1mdW5jdGlvbiB6Xyh0KXtyZXR1cm4gdC5kaW0rdC5pbmRleH1mdW5jdGlvbiBFXyh0LGUpe3ZhciBuPVtdO3JldHVybiBlLmVhY2hTZXJpZXNCeVR5cGUodCwoZnVuY3Rpb24odCl7V18odCkmJiFVXyh0KSYmbi5wdXNoKHQpfSkpLG59ZnVuY3Rpb24gVl8odCl7dmFyIGU9ZnVuY3Rpb24odCl7dmFyIGU9e307Tyh0LChmdW5jdGlvbih0KXt2YXIgbj10LmNvb3JkaW5hdGVTeXN0ZW0uZ2V0QmFzZUF4aXMoKTtpZigidGltZSI9PT1uLnR5cGV8fCJ2YWx1ZSI9PT1uLnR5cGUpZm9yKHZhciBpPXQuZ2V0RGF0YSgpLHI9bi5kaW0rIl8iK24uaW5kZXgsbz1pLmdldERpbWVuc2lvbkluZGV4KGkubWFwRGltZW5zaW9uKG4uZGltKSksYT1pLmdldFN0b3JlKCkscz0wLGw9YS5jb3VudCgpO3M8bDsrK3Mpe3ZhciB1PWEuZ2V0KG8scyk7ZVtyXT9lW3JdLnB1c2godSk6ZVtyXT1bdV19fSkpO3ZhciBuPXt9O2Zvcih2YXIgaSBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkoaSkpe3ZhciByPWVbaV07aWYocil7ci5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LWV9KSk7Zm9yKHZhciBvPW51bGwsYT0xO2E8ci5sZW5ndGg7KythKXt2YXIgcz1yW2FdLXJbYS0xXTtzPjAmJihvPW51bGw9PT1vP3M6TWF0aC5taW4obyxzKSl9bltpXT1vfX1yZXR1cm4gbn0odCksbj1bXTtyZXR1cm4gTyh0LChmdW5jdGlvbih0KXt2YXIgaSxyPXQuY29vcmRpbmF0ZVN5c3RlbS5nZXRCYXNlQXhpcygpLG89ci5nZXRFeHRlbnQoKTtpZigiY2F0ZWdvcnkiPT09ci50eXBlKWk9ci5nZXRCYW5kV2lkdGgoKTtlbHNlIGlmKCJ2YWx1ZSI9PT1yLnR5cGV8fCJ0aW1lIj09PXIudHlwZSl7dmFyIGE9ci5kaW0rIl8iK3IuaW5kZXgscz1lW2FdLGw9TWF0aC5hYnMob1sxXS1vWzBdKSx1PXIuc2NhbGUuZ2V0RXh0ZW50KCksaD1NYXRoLmFicyh1WzFdLXVbMF0pO2k9cz9sL2gqczpsfWVsc2V7dmFyIGM9dC5nZXREYXRhKCk7aT1NYXRoLmFicyhvWzFdLW9bMF0pL2MuY291bnQoKX12YXIgcD1xaSh0LmdldCgiYmFyV2lkdGgiKSxpKSxkPXFpKHQuZ2V0KCJiYXJNYXhXaWR0aCIpLGkpLGY9cWkodC5nZXQoImJhck1pbldpZHRoIil8fDEsaSksZz10LmdldCgiYmFyR2FwIikseT10LmdldCgiYmFyQ2F0ZWdvcnlHYXAiKTtuLnB1c2goe2JhbmRXaWR0aDppLGJhcldpZHRoOnAsYmFyTWF4V2lkdGg6ZCxiYXJNaW5XaWR0aDpmLGJhckdhcDpnLGJhckNhdGVnb3J5R2FwOnksYXhpc0tleTp6XyhyKSxzdGFja0lkOk5fKHQpfSl9KSksQl8obil9ZnVuY3Rpb24gQl8odCl7dmFyIGU9e307Tyh0LChmdW5jdGlvbih0LG4pe3ZhciBpPXQuYXhpc0tleSxyPXQuYmFuZFdpZHRoLG89ZVtpXXx8e2JhbmRXaWR0aDpyLHJlbWFpbmVkV2lkdGg6cixhdXRvV2lkdGhDb3VudDowLGNhdGVnb3J5R2FwOm51bGwsZ2FwOiIyMCUiLHN0YWNrczp7fX0sYT1vLnN0YWNrcztlW2ldPW87dmFyIHM9dC5zdGFja0lkO2Fbc118fG8uYXV0b1dpZHRoQ291bnQrKyxhW3NdPWFbc118fHt3aWR0aDowLG1heFdpZHRoOjB9O3ZhciBsPXQuYmFyV2lkdGg7bCYmIWFbc10ud2lkdGgmJihhW3NdLndpZHRoPWwsbD1NYXRoLm1pbihvLnJlbWFpbmVkV2lkdGgsbCksby5yZW1haW5lZFdpZHRoLT1sKTt2YXIgdT10LmJhck1heFdpZHRoO3UmJihhW3NdLm1heFdpZHRoPXUpO3ZhciBoPXQuYmFyTWluV2lkdGg7aCYmKGFbc10ubWluV2lkdGg9aCk7dmFyIGM9dC5iYXJHYXA7bnVsbCE9YyYmKG8uZ2FwPWMpO3ZhciBwPXQuYmFyQ2F0ZWdvcnlHYXA7bnVsbCE9cCYmKG8uY2F0ZWdvcnlHYXA9cCl9KSk7dmFyIG49e307cmV0dXJuIE8oZSwoZnVuY3Rpb24odCxlKXtuW2VdPXt9O3ZhciBpPXQuc3RhY2tzLHI9dC5iYW5kV2lkdGgsbz10LmNhdGVnb3J5R2FwO2lmKG51bGw9PW8pe3ZhciBhPVYoaSkubGVuZ3RoO289TWF0aC5tYXgoMzUtNCphLDE1KSsiJSJ9dmFyIHM9cWkobyxyKSxsPXFpKHQuZ2FwLDEpLHU9dC5yZW1haW5lZFdpZHRoLGg9dC5hdXRvV2lkdGhDb3VudCxjPSh1LXMpLyhoKyhoLTEpKmwpO2M9TWF0aC5tYXgoYywwKSxPKGksKGZ1bmN0aW9uKHQpe3ZhciBlPXQubWF4V2lkdGgsbj10Lm1pbldpZHRoO2lmKHQud2lkdGgpe2k9dC53aWR0aDtlJiYoaT1NYXRoLm1pbihpLGUpKSxuJiYoaT1NYXRoLm1heChpLG4pKSx0LndpZHRoPWksdS09aStsKmksaC0tfWVsc2V7dmFyIGk9YztlJiZlPGkmJihpPU1hdGgubWluKGUsdSkpLG4mJm4+aSYmKGk9biksaSE9PWMmJih0LndpZHRoPWksdS09aStsKmksaC0tKX19KSksYz0odS1zKS8oaCsoaC0xKSpsKSxjPU1hdGgubWF4KGMsMCk7dmFyIHAsZD0wO08oaSwoZnVuY3Rpb24odCxlKXt0LndpZHRofHwodC53aWR0aD1jKSxwPXQsZCs9dC53aWR0aCooMStsKX0pKSxwJiYoZC09cC53aWR0aCpsKTt2YXIgZj0tZC8yO08oaSwoZnVuY3Rpb24odCxpKXtuW2VdW2ldPW5bZV1baV18fHtiYW5kV2lkdGg6cixvZmZzZXQ6Zix3aWR0aDp0LndpZHRofSxmKz10LndpZHRoKigxK2wpfSkpfSkpLG59ZnVuY3Rpb24gR18odCxlLG4pe2lmKHQmJmUpe3ZhciBpPXRbel8oZSldO3JldHVybiBudWxsIT1pJiZudWxsIT1uP2lbTl8obildOml9fWZ1bmN0aW9uIEZfKHQsZSl7dmFyIG49RV8odCxlKSxpPVZfKG4pLHI9e307TyhuLChmdW5jdGlvbih0KXt2YXIgZT10LmdldERhdGEoKSxuPXQuY29vcmRpbmF0ZVN5c3RlbSxvPW4uZ2V0QmFzZUF4aXMoKSxhPU5fKHQpLHM9aVt6XyhvKV1bYV0sbD1zLm9mZnNldCx1PXMud2lkdGgsaD1uLmdldE90aGVyQXhpcyhvKSxjPXQuZ2V0KCJiYXJNaW5IZWlnaHQiKXx8MDtyW2FdPXJbYV18fFtdLGUuc2V0TGF5b3V0KHtiYW5kV2lkdGg6cy5iYW5kV2lkdGgsb2Zmc2V0Omwsc2l6ZTp1fSk7Zm9yKHZhciBwPWUubWFwRGltZW5zaW9uKGguZGltKSxkPWUubWFwRGltZW5zaW9uKG8uZGltKSxmPXlfKGUscCksZz1oLmlzSG9yaXpvbnRhbCgpLHk9WF8obyxoKSx2PWUuZ2V0U3RvcmUoKSxtPWUuZ2V0RGltZW5zaW9uSW5kZXgocCksXz1lLmdldERpbWVuc2lvbkluZGV4KGQpLHg9MCxiPXYuY291bnQoKTt4PGI7eCsrKXt2YXIgdz12LmdldChtLHgpLFM9di5nZXQoXyx4KSxNPXc+PTA/InAiOiJuIixJPXk7ZiYmKHJbYV1bU118fChyW2FdW1NdPXtwOnksbjp5fSksST1yW2FdW1NdW01dKTt2YXIgVCxDPXZvaWQgMCxEPXZvaWQgMCxBPXZvaWQgMCxrPXZvaWQgMDtpZihnKUM9SSxEPShUPW4uZGF0YVRvUG9pbnQoW3csU10pKVsxXStsLEE9VFswXS15LGs9dSxNYXRoLmFicyhBKTxjJiYoQT0oQTwwPy0xOjEpKmMpLGlzTmFOKEEpfHxmJiYoclthXVtTXVtNXSs9QSk7ZWxzZSBDPShUPW4uZGF0YVRvUG9pbnQoW1Msd10pKVswXStsLEQ9SSxBPXUsaz1UWzFdLXksTWF0aC5hYnMoayk8YyYmKGs9KGs8PTA/LTE6MSkqYyksaXNOYU4oayl8fGYmJihyW2FdW1NdW01dKz1rKTtlLnNldEl0ZW1MYXlvdXQoeCx7eDpDLHk6RCx3aWR0aDpBLGhlaWdodDprfSl9fSkpfXZhciBIXz17c2VyaWVzVHlwZToiYmFyIixwbGFuOlVmKCkscmVzZXQ6ZnVuY3Rpb24odCl7aWYoV18odCkmJlVfKHQpKXt2YXIgZT10LmdldERhdGEoKSxuPXQuY29vcmRpbmF0ZVN5c3RlbSxpPW4ubWFzdGVyLmdldFJlY3QoKSxyPW4uZ2V0QmFzZUF4aXMoKSxvPW4uZ2V0T3RoZXJBeGlzKHIpLGE9ZS5nZXREaW1lbnNpb25JbmRleChlLm1hcERpbWVuc2lvbihvLmRpbSkpLHM9ZS5nZXREaW1lbnNpb25JbmRleChlLm1hcERpbWVuc2lvbihyLmRpbSkpLGw9by5pc0hvcml6b250YWwoKSx1PWw/MDoxLGg9R18oVl8oW3RdKSxyLHQpLndpZHRoO3JldHVybiBoPi41fHwoaD0uNSkse3Byb2dyZXNzOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBjLHA9dC5jb3VudCxkPW5ldyBSXygyKnApLGY9bmV3IFJfKDIqcCksZz1uZXcgUl8ocCkseT1bXSx2PVtdLG09MCxfPTAseD1lLmdldFN0b3JlKCk7bnVsbCE9KGM9dC5uZXh0KCkpOyl2W3VdPXguZ2V0KGEsYyksdlsxLXVdPXguZ2V0KHMsYykseT1uLmRhdGFUb1BvaW50KHYsbnVsbCksZlttXT1sP2kueCtpLndpZHRoOnlbMF0sZFttKytdPXlbMF0sZlttXT1sP3lbMV06aS55K2kuaGVpZ2h0LGRbbSsrXT15WzFdLGdbXysrXT1jO2Uuc2V0TGF5b3V0KHtsYXJnZVBvaW50czpkLGxhcmdlRGF0YUluZGljZXM6ZyxsYXJnZUJhY2tncm91bmRQb2ludHM6ZixiYXJXaWR0aDpoLHZhbHVlQXhpc1N0YXJ0OlhfKHIsbyksYmFja2dyb3VuZFN0YXJ0Omw/aS54OmkueSx2YWx1ZUF4aXNIb3Jpem9udGFsOmx9KX19fX19O2Z1bmN0aW9uIFdfKHQpe3JldHVybiB0LmNvb3JkaW5hdGVTeXN0ZW0mJiJjYXJ0ZXNpYW4yZCI9PT10LmNvb3JkaW5hdGVTeXN0ZW0udHlwZX1mdW5jdGlvbiBVXyh0KXtyZXR1cm4gdC5waXBlbGluZUNvbnRleHQmJnQucGlwZWxpbmVDb250ZXh0LmxhcmdlfWZ1bmN0aW9uIFhfKHQsZSxuKXtyZXR1cm4gZS50b0dsb2JhbENvb3JkKGUuZGF0YVRvQ29vcmQoImxvZyI9PT1lLnR5cGU/MTowKSl9dmFyIFlfPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIG4udHlwZT0idGltZSIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldExhYmVsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0U2V0dGluZygidXNlVVRDIik7cmV0dXJuIGZjKHQudmFsdWUsbGNbZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UieWVhciI6Y2FzZSJtb250aCI6cmV0dXJuImRheSI7Y2FzZSJtaWxsaXNlY29uZCI6cmV0dXJuIm1pbGxpc2Vjb25kIjtkZWZhdWx0OnJldHVybiJzZWNvbmQifX0ocGModGhpcy5fbWluTGV2ZWxVbml0KSldfHxsYy5zZWNvbmQsZSx0aGlzLmdldFNldHRpbmcoImxvY2FsZSIpKX0sZS5wcm90b3R5cGUuZ2V0Rm9ybWF0dGVkTGFiZWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuZ2V0U2V0dGluZygidXNlVVRDIik7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89bnVsbDtpZigic3RyaW5nIj09dHlwZW9mIG4pbz1uO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIG4pbz1uKHQudmFsdWUsZSx7bGV2ZWw6dC5sZXZlbH0pO2Vsc2V7dmFyIGE9VCh7fSxhYyk7aWYodC5sZXZlbD4wKWZvcih2YXIgcz0wO3M8dWMubGVuZ3RoOysrcylhW3VjW3NdXT0ie3ByaW1hcnl8IithW3VjW3NdXSsifSI7dmFyIGw9bj8hMT09PW4uaW5oZXJpdD9uOkMobixhKTphLHU9Z2ModC52YWx1ZSxyKTtpZihsW3VdKW89bFt1XTtlbHNlIGlmKGwuaW5oZXJpdCl7Zm9yKHM9aGMuaW5kZXhPZih1KS0xO3M+PTA7LS1zKWlmKGxbdV0pe289bFt1XTticmVha31vPW98fGEubm9uZX1pZihGKG8pKXt2YXIgaD1udWxsPT10LmxldmVsPzA6dC5sZXZlbD49MD90LmxldmVsOm8ubGVuZ3RoK3QubGV2ZWw7bz1vW2g9TWF0aC5taW4oaCxvLmxlbmd0aC0xKV19fXJldHVybiBmYyhuZXcgRGF0ZSh0LnZhbHVlKSxvLHIsaSl9KHQsZSxuLHRoaXMuZ2V0U2V0dGluZygibG9jYWxlIiksaSl9LGUucHJvdG90eXBlLmdldFRpY2tzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2ludGVydmFsLG49dGhpcy5fZXh0ZW50LGk9W107aWYoIWUpcmV0dXJuIGk7aS5wdXNoKHt2YWx1ZTpuWzBdLGxldmVsOjB9KTt2YXIgcj10aGlzLmdldFNldHRpbmcoInVzZVVUQyIpLG89ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9MWU0LG89aGMsYT0wO2Z1bmN0aW9uIHModCxlLG4scixvLGEscyl7Zm9yKHZhciBsPW5ldyBEYXRlKGUpLHU9ZSxoPWxbcl0oKTt1PG4mJnU8PWlbMV07KXMucHVzaCh7dmFsdWU6dX0pLGgrPXQsbFtvXShoKSx1PWwuZ2V0VGltZSgpO3MucHVzaCh7dmFsdWU6dSxub3RBZGQ6ITB9KX1mdW5jdGlvbiBsKHQscixvKXt2YXIgYT1bXSxsPSFyLmxlbmd0aDtpZighZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9c3IoZSksbz1zcihuKSxhPWZ1bmN0aW9uKHQpe3JldHVybiB5YyhyLHQsaSk9PT15YyhvLHQsaSl9LHM9ZnVuY3Rpb24oKXtyZXR1cm4gYSgieWVhciIpfSxsPWZ1bmN0aW9uKCl7cmV0dXJuIHMoKSYmYSgibW9udGgiKX0sdT1mdW5jdGlvbigpe3JldHVybiBsKCkmJmEoImRheSIpfSxoPWZ1bmN0aW9uKCl7cmV0dXJuIHUoKSYmYSgiaG91ciIpfSxjPWZ1bmN0aW9uKCl7cmV0dXJuIGgoKSYmYSgibWludXRlIil9LHA9ZnVuY3Rpb24oKXtyZXR1cm4gYygpJiZhKCJzZWNvbmQiKX0sZD1mdW5jdGlvbigpe3JldHVybiBwKCkmJmEoIm1pbGxpc2Vjb25kIil9O3N3aXRjaCh0KXtjYXNlInllYXIiOnJldHVybiBzKCk7Y2FzZSJtb250aCI6cmV0dXJuIGwoKTtjYXNlImRheSI6cmV0dXJuIHUoKTtjYXNlImhvdXIiOnJldHVybiBoKCk7Y2FzZSJtaW51dGUiOnJldHVybiBjKCk7Y2FzZSJzZWNvbmQiOnJldHVybiBwKCk7Y2FzZSJtaWxsaXNlY29uZCI6cmV0dXJuIGQoKX19KHBjKHQpLGlbMF0saVsxXSxuKSl7bCYmKHI9W3t2YWx1ZTpRXyhuZXcgRGF0ZShpWzBdKSx0LG4pfSx7dmFsdWU6aVsxXX1dKTtmb3IodmFyIHU9MDt1PHIubGVuZ3RoLTE7dSsrKXt2YXIgaD1yW3VdLnZhbHVlLGM9clt1KzFdLnZhbHVlO2lmKGghPT1jKXt2YXIgcD12b2lkIDAsZD12b2lkIDAsZj12b2lkIDAsZz0hMTtzd2l0Y2godCl7Y2FzZSJ5ZWFyIjpwPU1hdGgubWF4KDEsTWF0aC5yb3VuZChlL3JjLzM2NSkpLGQ9dmMobiksZj1NYyhuKTticmVhaztjYXNlImhhbGYteWVhciI6Y2FzZSJxdWFydGVyIjpjYXNlIm1vbnRoIjpwPXFfKGUpLGQ9bWMobiksZj1JYyhuKTticmVhaztjYXNlIndlZWsiOmNhc2UiaGFsZi13ZWVrIjpjYXNlImRheSI6cD1qXyhlKSxkPV9jKG4pLGY9VGMobiksZz0hMDticmVhaztjYXNlImhhbGYtZGF5IjpjYXNlInF1YXJ0ZXItZGF5IjpjYXNlImhvdXIiOnA9S18oZSksZD14YyhuKSxmPUNjKG4pO2JyZWFrO2Nhc2UibWludXRlIjpwPSRfKGUsITApLGQ9YmMobiksZj1EYyhuKTticmVhaztjYXNlInNlY29uZCI6cD0kXyhlLCExKSxkPXdjKG4pLGY9QWMobik7YnJlYWs7Y2FzZSJtaWxsaXNlY29uZCI6cD1KXyhlKSxkPVNjKG4pLGY9a2Mobil9cyhwLGgsYyxkLGYsZyxhKSwieWVhciI9PT10JiZvLmxlbmd0aD4xJiYwPT09dSYmby51bnNoaWZ0KHt2YWx1ZTpvWzBdLnZhbHVlLXB9KX19Zm9yKHU9MDt1PGEubGVuZ3RoO3UrKylvLnB1c2goYVt1XSk7cmV0dXJuIGF9fWZvcih2YXIgdT1bXSxoPVtdLGM9MCxwPTAsZD0wO2Q8by5sZW5ndGgmJmErKzxyOysrZCl7dmFyIGY9cGMob1tkXSk7aWYoZGMob1tkXSkpaWYobChvW2RdLHVbdS5sZW5ndGgtMV18fFtdLGgpLGYhPT0ob1tkKzFdP3BjKG9bZCsxXSk6bnVsbCkpe2lmKGgubGVuZ3RoKXtwPWMsaC5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LnZhbHVlLWUudmFsdWV9KSk7Zm9yKHZhciBnPVtdLHk9MDt5PGgubGVuZ3RoOysreSl7dmFyIHY9aFt5XS52YWx1ZTswIT09eSYmaFt5LTFdLnZhbHVlPT09dnx8KGcucHVzaChoW3ldKSx2Pj1pWzBdJiZ2PD1pWzFdJiZjKyspfXZhciBtPShpWzFdLWlbMF0pL2U7aWYoYz4xLjUqbSYmcD5tLzEuNSlicmVhaztpZih1LnB1c2goZyksYz5tfHx0PT09b1tkXSlicmVha31oPVtdfX0wO3ZhciBfPXooUih1LChmdW5jdGlvbih0KXtyZXR1cm4geih0LChmdW5jdGlvbih0KXtyZXR1cm4gdC52YWx1ZT49aVswXSYmdC52YWx1ZTw9aVsxXSYmIXQubm90QWRkfSkpfSkpLChmdW5jdGlvbih0KXtyZXR1cm4gdC5sZW5ndGg+MH0pKSx4PVtdLGI9Xy5sZW5ndGgtMTtmb3IoZD0wO2Q8Xy5sZW5ndGg7KytkKWZvcih2YXIgdz1fW2RdLFM9MDtTPHcubGVuZ3RoOysrUyl4LnB1c2goe3ZhbHVlOndbU10udmFsdWUsbGV2ZWw6Yi1kfSk7eC5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LnZhbHVlLWUudmFsdWV9KSk7dmFyIE09W107Zm9yKGQ9MDtkPHgubGVuZ3RoOysrZCkwIT09ZCYmeFtkXS52YWx1ZT09PXhbZC0xXS52YWx1ZXx8TS5wdXNoKHhbZF0pO3JldHVybiBNfSh0aGlzLl9taW5MZXZlbFVuaXQsdGhpcy5fYXBwcm94SW50ZXJ2YWwscixuKTtyZXR1cm4oaT1pLmNvbmNhdChvKSkucHVzaCh7dmFsdWU6blsxXSxsZXZlbDowfSksaX0sZS5wcm90b3R5cGUubmljZUV4dGVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9leHRlbnQ7aWYoZVswXT09PWVbMV0mJihlWzBdLT1yYyxlWzFdKz1yYyksZVsxXT09PS0xLzAmJmVbMF09PT0xLzApe3ZhciBuPW5ldyBEYXRlO2VbMV09K25ldyBEYXRlKG4uZ2V0RnVsbFllYXIoKSxuLmdldE1vbnRoKCksbi5nZXREYXRlKCkpLGVbMF09ZVsxXS1yY310aGlzLm5pY2VUaWNrcyh0LnNwbGl0TnVtYmVyLHQubWluSW50ZXJ2YWwsdC5tYXhJbnRlcnZhbCl9LGUucHJvdG90eXBlLm5pY2VUaWNrcz1mdW5jdGlvbih0LGUsbil7dD10fHwxMDt2YXIgaT10aGlzLl9leHRlbnQscj1pWzFdLWlbMF07dGhpcy5fYXBwcm94SW50ZXJ2YWw9ci90LG51bGwhPWUmJnRoaXMuX2FwcHJveEludGVydmFsPGUmJih0aGlzLl9hcHByb3hJbnRlcnZhbD1lKSxudWxsIT1uJiZ0aGlzLl9hcHByb3hJbnRlcnZhbD5uJiYodGhpcy5fYXBwcm94SW50ZXJ2YWw9bik7dmFyIG89Wl8ubGVuZ3RoLGE9TWF0aC5taW4oZnVuY3Rpb24odCxlLG4saSl7Zm9yKDtuPGk7KXt2YXIgcj1uK2k+Pj4xO3Rbcl1bMV08ZT9uPXIrMTppPXJ9cmV0dXJuIG59KFpfLHRoaXMuX2FwcHJveEludGVydmFsLDAsbyksby0xKTt0aGlzLl9pbnRlcnZhbD1aX1thXVsxXSx0aGlzLl9taW5MZXZlbFVuaXQ9Wl9bTWF0aC5tYXgoYS0xLDApXVswXX0sZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiB0P3Q6K3NyKHQpfSxlLnByb3RvdHlwZS5jb250YWluPWZ1bmN0aW9uKHQpe3JldHVybiBDXyh0aGlzLnBhcnNlKHQpLHRoaXMuX2V4dGVudCl9LGUucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gRF8odGhpcy5wYXJzZSh0KSx0aGlzLl9leHRlbnQpfSxlLnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbih0KXtyZXR1cm4gQV8odCx0aGlzLl9leHRlbnQpfSxlLnR5cGU9InRpbWUiLGV9KFBfKSxaXz1bWyJzZWNvbmQiLGVjXSxbIm1pbnV0ZSIsbmNdLFsiaG91ciIsaWNdLFsicXVhcnRlci1kYXkiLDIxNmU1XSxbImhhbGYtZGF5Iiw0MzJlNV0sWyJkYXkiLDEwMzY4ZTRdLFsiaGFsZi13ZWVrIiwzMDI0ZTVdLFsid2VlayIsNjA0OGU1XSxbIm1vbnRoIiwyNjc4NGU1XSxbInF1YXJ0ZXIiLDgyMDhlNl0sWyJoYWxmLXllYXIiLG9jLzJdLFsieWVhciIsb2NdXTtmdW5jdGlvbiBqXyh0LGUpe3JldHVybih0Lz1yYyk+MTY/MTY6dD43LjU/Nzp0PjMuNT80OnQ+MS41PzI6MX1mdW5jdGlvbiBxXyh0KXtyZXR1cm4odC89MjU5MmU2KT42PzY6dD4zPzM6dD4yPzI6MX1mdW5jdGlvbiBLXyh0KXtyZXR1cm4odC89aWMpPjEyPzEyOnQ+Nj82OnQ+My41PzQ6dD4yPzI6MX1mdW5jdGlvbiAkXyh0LGUpe3JldHVybih0Lz1lP25jOmVjKT4zMD8zMDp0PjIwPzIwOnQ+MTU/MTU6dD4xMD8xMDp0PjU/NTp0PjI/MjoxfWZ1bmN0aW9uIEpfKHQpe3JldHVybiBocih0LCEwKX1mdW5jdGlvbiBRXyh0LGUsbil7dmFyIGk9bmV3IERhdGUodCk7c3dpdGNoKHBjKGUpKXtjYXNlInllYXIiOmNhc2UibW9udGgiOmlbSWMobildKDApO2Nhc2UiZGF5IjppW1RjKG4pXSgxKTtjYXNlImhvdXIiOmlbQ2MobildKDApO2Nhc2UibWludXRlIjppW0RjKG4pXSgwKTtjYXNlInNlY29uZCI6aVtBYyhuKV0oMCksaVtrYyhuKV0oMCl9cmV0dXJuIGkuZ2V0VGltZSgpfV9fLnJlZ2lzdGVyQ2xhc3MoWV8pO3ZhciB0eD1fXy5wcm90b3R5cGUsZXg9UF8ucHJvdG90eXBlLG54PUtpLGl4PU1hdGguZmxvb3Iscng9TWF0aC5jZWlsLG94PU1hdGgucG93LGF4PU1hdGgubG9nLHN4PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUudHlwZT0ibG9nIixlLmJhc2U9MTAsZS5fb3JpZ2luYWxTY2FsZT1uZXcgUF8sZS5faW50ZXJ2YWw9MCxlfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0VGlja3M9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fb3JpZ2luYWxTY2FsZSxuPXRoaXMuX2V4dGVudCxpPWUuZ2V0RXh0ZW50KCk7cmV0dXJuIFIoZXguZ2V0VGlja3MuY2FsbCh0aGlzLHQpLChmdW5jdGlvbih0KXt2YXIgZT10LnZhbHVlLHI9S2kob3godGhpcy5iYXNlLGUpKTtyZXR1cm4gcj1lPT09blswXSYmdGhpcy5fZml4TWluP3V4KHIsaVswXSk6cix7dmFsdWU6cj1lPT09blsxXSYmdGhpcy5fZml4TWF4P3V4KHIsaVsxXSk6cn19KSx0aGlzKX0sZS5wcm90b3R5cGUuc2V0RXh0ZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5iYXNlO3Q9YXgodCkvYXgobiksZT1heChlKS9heChuKSxleC5zZXRFeHRlbnQuY2FsbCh0aGlzLHQsZSl9LGUucHJvdG90eXBlLmdldEV4dGVudD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYmFzZSxlPXR4LmdldEV4dGVudC5jYWxsKHRoaXMpO2VbMF09b3godCxlWzBdKSxlWzFdPW94KHQsZVsxXSk7dmFyIG49dGhpcy5fb3JpZ2luYWxTY2FsZS5nZXRFeHRlbnQoKTtyZXR1cm4gdGhpcy5fZml4TWluJiYoZVswXT11eChlWzBdLG5bMF0pKSx0aGlzLl9maXhNYXgmJihlWzFdPXV4KGVbMV0sblsxXSkpLGV9LGUucHJvdG90eXBlLnVuaW9uRXh0ZW50PWZ1bmN0aW9uKHQpe3RoaXMuX29yaWdpbmFsU2NhbGUudW5pb25FeHRlbnQodCk7dmFyIGU9dGhpcy5iYXNlO3RbMF09YXgodFswXSkvYXgoZSksdFsxXT1heCh0WzFdKS9heChlKSx0eC51bmlvbkV4dGVudC5jYWxsKHRoaXMsdCl9LGUucHJvdG90eXBlLnVuaW9uRXh0ZW50RnJvbURhdGE9ZnVuY3Rpb24odCxlKXt0aGlzLnVuaW9uRXh0ZW50KHQuZ2V0QXBwcm94aW1hdGVFeHRlbnQoZSkpfSxlLnByb3RvdHlwZS5uaWNlVGlja3M9ZnVuY3Rpb24odCl7dD10fHwxMDt2YXIgZT10aGlzLl9leHRlbnQsbj1lWzFdLWVbMF07aWYoIShuPT09MS8wfHxuPD0wKSl7dmFyIGk9bHIobik7Zm9yKHQvbippPD0uNSYmKGkqPTEwKTshaXNOYU4oaSkmJk1hdGguYWJzKGkpPDEmJk1hdGguYWJzKGkpPjA7KWkqPTEwO3ZhciByPVtLaShyeChlWzBdL2kpKmkpLEtpKGl4KGVbMV0vaSkqaSldO3RoaXMuX2ludGVydmFsPWksdGhpcy5fbmljZUV4dGVudD1yfX0sZS5wcm90b3R5cGUubmljZUV4dGVudD1mdW5jdGlvbih0KXtleC5uaWNlRXh0ZW50LmNhbGwodGhpcyx0KSx0aGlzLl9maXhNaW49dC5maXhNaW4sdGhpcy5fZml4TWF4PXQuZml4TWF4fSxlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0KXtyZXR1cm4gdH0sZS5wcm90b3R5cGUuY29udGFpbj1mdW5jdGlvbih0KXtyZXR1cm4gQ18odD1heCh0KS9heCh0aGlzLmJhc2UpLHRoaXMuX2V4dGVudCl9LGUucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gRF8odD1heCh0KS9heCh0aGlzLmJhc2UpLHRoaXMuX2V4dGVudCl9LGUucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKHQpe3JldHVybiB0PUFfKHQsdGhpcy5fZXh0ZW50KSxveCh0aGlzLmJhc2UsdCl9LGUudHlwZT0ibG9nIixlfShfXyksbHg9c3gucHJvdG90eXBlO2Z1bmN0aW9uIHV4KHQsZSl7cmV0dXJuIG54KHQsSmkoZSkpfWx4LmdldE1pbm9yVGlja3M9ZXguZ2V0TWlub3JUaWNrcyxseC5nZXRMYWJlbD1leC5nZXRMYWJlbCxfXy5yZWdpc3RlckNsYXNzKHN4KTt2YXIgaHg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLl9wcmVwYXJlUGFyYW1zKHQsZSxuKX1yZXR1cm4gdC5wcm90b3R5cGUuX3ByZXBhcmVQYXJhbXM9ZnVuY3Rpb24odCxlLG4pe25bMV08blswXSYmKG49W05hTixOYU5dKSx0aGlzLl9kYXRhTWluPW5bMF0sdGhpcy5fZGF0YU1heD1uWzFdO3ZhciBpPXRoaXMuX2lzT3JkaW5hbD0ib3JkaW5hbCI9PT10LnR5cGU7dGhpcy5fbmVlZENyb3NzWmVybz1lLmdldE5lZWRDcm9zc1plcm8mJmUuZ2V0TmVlZENyb3NzWmVybygpO3ZhciByPXRoaXMuX21vZGVsTWluUmF3PWUuZ2V0KCJtaW4iLCEwKTtIKHIpP3RoaXMuX21vZGVsTWluTnVtPWZ4KHQscih7bWluOm5bMF0sbWF4Om5bMV19KSk6ImRhdGFNaW4iIT09ciYmKHRoaXMuX21vZGVsTWluTnVtPWZ4KHQscikpO3ZhciBvPXRoaXMuX21vZGVsTWF4UmF3PWUuZ2V0KCJtYXgiLCEwKTtpZihIKG8pP3RoaXMuX21vZGVsTWF4TnVtPWZ4KHQsbyh7bWluOm5bMF0sbWF4Om5bMV19KSk6ImRhdGFNYXgiIT09byYmKHRoaXMuX21vZGVsTWF4TnVtPWZ4KHQsbykpLGkpdGhpcy5fYXhpc0RhdGFMZW49ZS5nZXRDYXRlZ29yaWVzKCkubGVuZ3RoO2Vsc2V7dmFyIGE9ZS5nZXQoImJvdW5kYXJ5R2FwIikscz1GKGEpP2E6W2F8fDAsYXx8MF07ImJvb2xlYW4iPT10eXBlb2Ygc1swXXx8ImJvb2xlYW4iPT10eXBlb2Ygc1sxXT90aGlzLl9ib3VuZGFyeUdhcElubmVyPVswLDBdOnRoaXMuX2JvdW5kYXJ5R2FwSW5uZXI9W0NpKHNbMF0sMSksQ2koc1sxXSwxKV19fSx0LnByb3RvdHlwZS5jYWxjdWxhdGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pc09yZGluYWwsZT10aGlzLl9kYXRhTWluLG49dGhpcy5fZGF0YU1heCxpPXRoaXMuX2F4aXNEYXRhTGVuLHI9dGhpcy5fYm91bmRhcnlHYXBJbm5lcixvPXQ/bnVsbDpuLWV8fE1hdGguYWJzKGUpLGE9ImRhdGFNaW4iPT09dGhpcy5fbW9kZWxNaW5SYXc/ZTp0aGlzLl9tb2RlbE1pbk51bSxzPSJkYXRhTWF4Ij09PXRoaXMuX21vZGVsTWF4UmF3P246dGhpcy5fbW9kZWxNYXhOdW0sbD1udWxsIT1hLHU9bnVsbCE9cztudWxsPT1hJiYoYT10P2k/MDpOYU46ZS1yWzBdKm8pLG51bGw9PXMmJihzPXQ/aT9pLTE6TmFOOm4rclsxXSpvKSwobnVsbD09YXx8IWlzRmluaXRlKGEpKSYmKGE9TmFOKSwobnVsbD09c3x8IWlzRmluaXRlKHMpKSYmKHM9TmFOKTt2YXIgaD1RKGEpfHxRKHMpfHx0JiYhaTt0aGlzLl9uZWVkQ3Jvc3NaZXJvJiYoYT4wJiZzPjAmJiFsJiYoYT0wKSxhPDAmJnM8MCYmIXUmJihzPTApKTt2YXIgYz10aGlzLl9kZXRlcm1pbmVkTWluLHA9dGhpcy5fZGV0ZXJtaW5lZE1heDtyZXR1cm4gbnVsbCE9YyYmKGE9YyxsPSEwKSxudWxsIT1wJiYocz1wLHU9ITApLHttaW46YSxtYXg6cyxtaW5GaXhlZDpsLG1heEZpeGVkOnUsaXNCbGFuazpofX0sdC5wcm90b3R5cGUubW9kaWZ5RGF0YU1pbk1heD1mdW5jdGlvbih0LGUpe3RoaXNbcHhbdF1dPWV9LHQucHJvdG90eXBlLnNldERldGVybWluZWRNaW5NYXg9ZnVuY3Rpb24odCxlKXt2YXIgbj1jeFt0XTt0aGlzW25dPWV9LHQucHJvdG90eXBlLmZyZWV6ZT1mdW5jdGlvbigpe3RoaXMuZnJvemVuPSEwfSx0fSgpLGN4PXttaW46Il9kZXRlcm1pbmVkTWluIixtYXg6Il9kZXRlcm1pbmVkTWF4In0scHg9e21pbjoiX2RhdGFNaW4iLG1heDoiX2RhdGFNYXgifTtmdW5jdGlvbiBkeCh0LGUsbil7dmFyIGk9dC5yYXdFeHRlbnRJbmZvO3JldHVybiBpfHwoaT1uZXcgaHgodCxlLG4pLHQucmF3RXh0ZW50SW5mbz1pLGkpfWZ1bmN0aW9uIGZ4KHQsZSl7cmV0dXJuIG51bGw9PWU/bnVsbDpRKGUpP05hTjp0LnBhcnNlKGUpfWZ1bmN0aW9uIGd4KHQsZSl7dmFyIG49dC50eXBlLGk9ZHgodCxlLHQuZ2V0RXh0ZW50KCkpLmNhbGN1bGF0ZSgpO3Quc2V0QmxhbmsoaS5pc0JsYW5rKTt2YXIgcj1pLm1pbixvPWkubWF4LGE9ZS5lY01vZGVsO2lmKGEmJiJ0aW1lIj09PW4pe3ZhciBzPUVfKCJiYXIiLGEpLGw9ITE7aWYoTyhzLChmdW5jdGlvbih0KXtsPWx8fHQuZ2V0QmFzZUF4aXMoKT09PWUuYXhpc30pKSxsKXt2YXIgdT1WXyhzKSxoPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPW4uYXhpcy5nZXRFeHRlbnQoKSxvPXJbMV0tclswXSxhPUdfKGksbi5heGlzKTtpZih2b2lkIDA9PT1hKXJldHVybnttaW46dCxtYXg6ZX07dmFyIHM9MS8wO08oYSwoZnVuY3Rpb24odCl7cz1NYXRoLm1pbih0Lm9mZnNldCxzKX0pKTt2YXIgbD0tMS8wO08oYSwoZnVuY3Rpb24odCl7bD1NYXRoLm1heCh0Lm9mZnNldCt0LndpZHRoLGwpfSkpLHM9TWF0aC5hYnMocyksbD1NYXRoLmFicyhsKTt2YXIgdT1zK2wsaD1lLXQsYz1oLygxLShzK2wpL28pLWg7cmV0dXJue21pbjp0LT1jKihzL3UpLG1heDplKz1jKihsL3UpfX0ocixvLGUsdSk7cj1oLm1pbixvPWgubWF4fX1yZXR1cm57ZXh0ZW50OltyLG9dLGZpeE1pbjppLm1pbkZpeGVkLGZpeE1heDppLm1heEZpeGVkfX1mdW5jdGlvbiB5eCh0LGUpe3ZhciBuPWUsaT1neCh0LG4pLHI9aS5leHRlbnQsbz1uLmdldCgic3BsaXROdW1iZXIiKTt0IGluc3RhbmNlb2Ygc3gmJih0LmJhc2U9bi5nZXQoImxvZ0Jhc2UiKSk7dmFyIGE9dC50eXBlO3Quc2V0RXh0ZW50KHJbMF0sclsxXSksdC5uaWNlRXh0ZW50KHtzcGxpdE51bWJlcjpvLGZpeE1pbjppLmZpeE1pbixmaXhNYXg6aS5maXhNYXgsbWluSW50ZXJ2YWw6ImludGVydmFsIj09PWF8fCJ0aW1lIj09PWE/bi5nZXQoIm1pbkludGVydmFsIik6bnVsbCxtYXhJbnRlcnZhbDoiaW50ZXJ2YWwiPT09YXx8InRpbWUiPT09YT9uLmdldCgibWF4SW50ZXJ2YWwiKTpudWxsfSk7dmFyIHM9bi5nZXQoImludGVydmFsIik7bnVsbCE9cyYmdC5zZXRJbnRlcnZhbCYmdC5zZXRJbnRlcnZhbChzKX1mdW5jdGlvbiB2eCh0LGUpe2lmKGU9ZXx8dC5nZXQoInR5cGUiKSlzd2l0Y2goZSl7Y2FzZSJjYXRlZ29yeSI6cmV0dXJuIG5ldyBrXyh7b3JkaW5hbE1ldGE6dC5nZXRPcmRpbmFsTWV0YT90LmdldE9yZGluYWxNZXRhKCk6dC5nZXRDYXRlZ29yaWVzKCksZXh0ZW50OlsxLzAsLTEvMF19KTtjYXNlInRpbWUiOnJldHVybiBuZXcgWV8oe2xvY2FsZTp0LmVjTW9kZWwuZ2V0TG9jYWxlTW9kZWwoKSx1c2VVVEM6dC5lY01vZGVsLmdldCgidXNlVVRDIil9KTtkZWZhdWx0OnJldHVybiBuZXcoX18uZ2V0Q2xhc3MoZSl8fFBfKX19ZnVuY3Rpb24gbXgodCl7dmFyIGUsbixpPXQuZ2V0TGFiZWxNb2RlbCgpLmdldCgiZm9ybWF0dGVyIikscj0iY2F0ZWdvcnkiPT09dC50eXBlP3Quc2NhbGUuZ2V0RXh0ZW50KClbMF06bnVsbDtyZXR1cm4idGltZSI9PT10LnNjYWxlLnR5cGU/KG49aSxmdW5jdGlvbihlLGkpe3JldHVybiB0LnNjYWxlLmdldEZvcm1hdHRlZExhYmVsKGUsaSxuKX0pOiJzdHJpbmciPT10eXBlb2YgaT9mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIGk9dC5zY2FsZS5nZXRMYWJlbChuKTtyZXR1cm4gZS5yZXBsYWNlKCJ7dmFsdWV9IixudWxsIT1pP2k6IiIpfX0oaSk6ImZ1bmN0aW9uIj09dHlwZW9mIGk/KGU9aSxmdW5jdGlvbihuLGkpe3JldHVybiBudWxsIT1yJiYoaT1uLnZhbHVlLXIpLGUoX3godCxuKSxpLG51bGwhPW4ubGV2ZWw/e2xldmVsOm4ubGV2ZWx9Om51bGwpfSk6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuc2NhbGUuZ2V0TGFiZWwoZSl9fWZ1bmN0aW9uIF94KHQsZSl7cmV0dXJuImNhdGVnb3J5Ij09PXQudHlwZT90LnNjYWxlLmdldExhYmVsKGUpOmUudmFsdWV9ZnVuY3Rpb24geHgodCxlKXt2YXIgbj1lKk1hdGguUEkvMTgwLGk9dC53aWR0aCxyPXQuaGVpZ2h0LG89aSpNYXRoLmFicyhNYXRoLmNvcyhuKSkrTWF0aC5hYnMocipNYXRoLnNpbihuKSksYT1pKk1hdGguYWJzKE1hdGguc2luKG4pKStNYXRoLmFicyhyKk1hdGguY29zKG4pKTtyZXR1cm4gbmV3IHZpKHQueCx0LnksbyxhKX1mdW5jdGlvbiBieCh0KXt2YXIgZT10LmdldCgiaW50ZXJ2YWwiKTtyZXR1cm4gbnVsbD09ZT8iYXV0byI6ZX1mdW5jdGlvbiBTeCh0KXtyZXR1cm4iY2F0ZWdvcnkiPT09dC50eXBlJiYwPT09YngodC5nZXRMYWJlbE1vZGVsKCkpfWZ1bmN0aW9uIE14KHQsZSl7dmFyIG49e307cmV0dXJuIE8odC5tYXBEaW1lbnNpb25zQWxsKGUpLChmdW5jdGlvbihlKXtuW3ZfKHQsZSldPSEwfSkpLFYobil9dmFyIEl4PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZ2V0TmVlZENyb3NzWmVybz1mdW5jdGlvbigpe3JldHVybiF0aGlzLm9wdGlvbi5zY2FsZX0sdC5wcm90b3R5cGUuZ2V0Q29vcmRTeXNNb2RlbD1mdW5jdGlvbigpe30sdH0oKTt2YXIgVHg9e2lzRGltZW5zaW9uU3RhY2tlZDp5XyxlbmFibGVEYXRhU3RhY2s6Z18sZ2V0U3RhY2tlZERpbWVuc2lvbjp2X307dmFyIEN4PU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGNyZWF0ZUxpc3Q6ZnVuY3Rpb24odCl7cmV0dXJuIG1fKG51bGwsdCl9LGdldExheW91dFJlY3Q6cWMsZGF0YVN0YWNrOlR4LGNyZWF0ZVNjYWxlOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZTtlIGluc3RhbmNlb2YgV2h8fChuPW5ldyBXaChlKSk7dmFyIGk9dngobik7cmV0dXJuIGkuc2V0RXh0ZW50KHRbMF0sdFsxXSkseXgoaSxuKSxpfSxtaXhpbkF4aXNNb2RlbENvbW1vbk1ldGhvZHM6ZnVuY3Rpb24odCl7TCh0LEl4KX0sZ2V0RUNEYXRhOlNzLGNyZWF0ZVRleHRTdHlsZTpmdW5jdGlvbih0LGUpe3JldHVybiB3aCh0LG51bGwsbnVsbCwibm9ybWFsIiE9PShlPWV8fHt9KS5zdGF0ZSl9LGNyZWF0ZURpbWVuc2lvbnM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gaF8odCxlKS5kaW1lbnNpb25zfSxjcmVhdGVTeW1ib2w6ZXksZW5hYmxlSG92ZXJFbXBoYXNpczpwbH0pLER4PU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGxpbmVhck1hcDpqaSxyb3VuZDpLaSxhc2M6JGksZ2V0UHJlY2lzaW9uOkppLGdldFByZWNpc2lvblNhZmU6UWksZ2V0UGl4ZWxQcmVjaXNpb246dHIsZ2V0UGVyY2VudFdpdGhQcmVjaXNpb246ZXIsTUFYX1NBRkVfSU5URUdFUjppcixyZW1SYWRpYW46cnIsaXNSYWRpYW5Bcm91bmRaZXJvOm9yLHBhcnNlRGF0ZTpzcixxdWFudGl0eTpscixxdWFudGl0eUV4cG9uZW50OnVyLG5pY2U6aHIscXVhbnRpbGU6Y3IscmVmb3JtSW50ZXJ2YWxzOnByLGlzTnVtZXJpYzpmcixudW1lcmljVG9OdW1iZXI6ZHJ9KSxBeD1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxwYXJzZTpzcixmb3JtYXQ6ZmN9KSxreD1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxleHRlbmRTaGFwZTpadSxleHRlbmRQYXRoOnF1LG1ha2VQYXRoOkp1LG1ha2VJbWFnZTpRdSxtZXJnZVBhdGg6ZWgscmVzaXplUGF0aDpuaCxjcmVhdGVJY29uOmNoLHVwZGF0ZVByb3BzOkV1LGluaXRQcm9wczpWdSxnZXRUcmFuc2Zvcm06cmgsY2xpcFBvaW50c0J5UmVjdDp1aCxjbGlwUmVjdEJ5UmVjdDpoaCxyZWdpc3RlclNoYXBlOkt1LGdldFNoYXBlQ2xhc3M6JHUsR3JvdXA6QmksSW1hZ2U6cnMsVGV4dDpmcyxDaXJjbGU6SGwsRWxsaXBzZTpVbCxTZWN0b3I6b3UsUmluZzpzdSxQb2x5Z29uOmN1LFBvbHlsaW5lOmR1LFJlY3Q6Y3MsTGluZTp5dSxCZXppZXJDdXJ2ZTp4dSxBcmM6d3UsSW5jcmVtZW50YWxEaXNwbGF5YWJsZTpPdSxDb21wb3VuZFBhdGg6U3UsTGluZWFyR3JhZGllbnQ6SXUsUmFkaWFsR3JhZGllbnQ6VHUsQm91bmRpbmdSZWN0OnZpfSksTHg9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYWRkQ29tbWFzOkxjLHRvQ2FtZWxDYXNlOlBjLG5vcm1hbGl6ZUNzc0FycmF5Ok9jLGVuY29kZUhUTUw6emMsZm9ybWF0VHBsOkdjLGdldFRvb2x0aXBNYXJrZXI6RmMsZm9ybWF0VGltZTpmdW5jdGlvbih0LGUsbil7IndlZWsiIT09dCYmIm1vbnRoIiE9PXQmJiJxdWFydGVyIiE9PXQmJiJoYWxmLXllYXIiIT09dCYmInllYXIiIT09dHx8KHQ9Ik1NLWRkXG55eXl5Iik7dmFyIGk9c3IoZSkscj1uPyJVVEMiOiIiLG89aVsiZ2V0IityKyJGdWxsWWVhciJdKCksYT1pWyJnZXQiK3IrIk1vbnRoIl0oKSsxLHM9aVsiZ2V0IityKyJEYXRlIl0oKSxsPWlbImdldCIrcisiSG91cnMiXSgpLHU9aVsiZ2V0IityKyJNaW51dGVzIl0oKSxoPWlbImdldCIrcisiU2Vjb25kcyJdKCksYz1pWyJnZXQiK3IrIk1pbGxpc2Vjb25kcyJdKCk7cmV0dXJuIHQ9dC5yZXBsYWNlKCJNTSIsY2MoYSwyKSkucmVwbGFjZSgiTSIsYSkucmVwbGFjZSgieXl5eSIsbykucmVwbGFjZSgieXkiLG8lMTAwKyIiKS5yZXBsYWNlKCJkZCIsY2MocywyKSkucmVwbGFjZSgiZCIscykucmVwbGFjZSgiaGgiLGNjKGwsMikpLnJlcGxhY2UoImgiLGwpLnJlcGxhY2UoIm1tIixjYyh1LDIpKS5yZXBsYWNlKCJtIix1KS5yZXBsYWNlKCJzcyIsY2MoaCwyKSkucmVwbGFjZSgicyIsaCkucmVwbGFjZSgiU1NTIixjYyhjLDMpKX0sY2FwaXRhbEZpcnN0OmZ1bmN0aW9uKHQpe3JldHVybiB0P3QuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5zdWJzdHIoMSk6dH0sdHJ1bmNhdGVUZXh0OnVvLGdldFRleHRSZWN0OmZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyl7cmV0dXJuIG5ldyBmcyh7c3R5bGU6e3RleHQ6dCxmb250OmUsYWxpZ246bix2ZXJ0aWNhbEFsaWduOmkscGFkZGluZzpyLHJpY2g6byxvdmVyZmxvdzphPyJ0cnVuY2F0ZSI6bnVsbCxsaW5lSGVpZ2h0OnN9fSkuZ2V0Qm91bmRpbmdSZWN0KCl9fSksUHg9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsbWFwOlIsZWFjaDpPLGluZGV4T2Y6QSxpbmhlcml0czprLHJlZHVjZTpOLGZpbHRlcjp6LGJpbmQ6QixjdXJyeTpHLGlzQXJyYXk6Rixpc1N0cmluZzpXLGlzT2JqZWN0OlksaXNGdW5jdGlvbjpILGV4dGVuZDpULGRlZmF1bHRzOkMsY2xvbmU6UyxtZXJnZTpNfSksT3g9UnIoKTtmdW5jdGlvbiBSeCh0KXtyZXR1cm4iY2F0ZWdvcnkiPT09dC50eXBlP2Z1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0TGFiZWxNb2RlbCgpLG49engodCxlKTtyZXR1cm4hZS5nZXQoInNob3ciKXx8dC5zY2FsZS5pc0JsYW5rKCk/e2xhYmVsczpbXSxsYWJlbENhdGVnb3J5SW50ZXJ2YWw6bi5sYWJlbENhdGVnb3J5SW50ZXJ2YWx9Om59KHQpOmZ1bmN0aW9uKHQpe3ZhciBlPXQuc2NhbGUuZ2V0VGlja3MoKSxuPW14KHQpO3JldHVybntsYWJlbHM6UihlLChmdW5jdGlvbihlLGkpe3JldHVybntsZXZlbDplLmxldmVsLGZvcm1hdHRlZExhYmVsOm4oZSxpKSxyYXdMYWJlbDp0LnNjYWxlLmdldExhYmVsKGUpLHRpY2tWYWx1ZTplLnZhbHVlfX0pKX19KHQpfWZ1bmN0aW9uIE54KHQsZSl7cmV0dXJuImNhdGVnb3J5Ij09PXQudHlwZT9mdW5jdGlvbih0LGUpe3ZhciBuLGkscj1FeCh0LCJ0aWNrcyIpLG89YngoZSksYT1WeChyLG8pO2lmKGEpcmV0dXJuIGE7ZS5nZXQoInNob3ciKSYmIXQuc2NhbGUuaXNCbGFuaygpfHwobj1bXSk7aWYoSChvKSluPUZ4KHQsbywhMCk7ZWxzZSBpZigiYXV0byI9PT1vKXt2YXIgcz16eCh0LHQuZ2V0TGFiZWxNb2RlbCgpKTtpPXMubGFiZWxDYXRlZ29yeUludGVydmFsLG49UihzLmxhYmVscywoZnVuY3Rpb24odCl7cmV0dXJuIHQudGlja1ZhbHVlfSkpfWVsc2Ugbj1HeCh0LGk9bywhMCk7cmV0dXJuIEJ4KHIsbyx7dGlja3M6bix0aWNrQ2F0ZWdvcnlJbnRlcnZhbDppfSl9KHQsZSk6e3RpY2tzOlIodC5zY2FsZS5nZXRUaWNrcygpLChmdW5jdGlvbih0KXtyZXR1cm4gdC52YWx1ZX0pKX19ZnVuY3Rpb24gengodCxlKXt2YXIgbixpLHI9RXgodCwibGFiZWxzIiksbz1ieChlKSxhPVZ4KHIsbyk7cmV0dXJuIGF8fChIKG8pP249RngodCxvKTooaT0iYXV0byI9PT1vP2Z1bmN0aW9uKHQpe3ZhciBlPU94KHQpLmF1dG9JbnRlcnZhbDtyZXR1cm4gbnVsbCE9ZT9lOk94KHQpLmF1dG9JbnRlcnZhbD10LmNhbGN1bGF0ZUNhdGVnb3J5SW50ZXJ2YWwoKX0odCk6byxuPUd4KHQsaSkpLEJ4KHIsbyx7bGFiZWxzOm4sbGFiZWxDYXRlZ29yeUludGVydmFsOml9KSl9ZnVuY3Rpb24gRXgodCxlKXtyZXR1cm4gT3godClbZV18fChPeCh0KVtlXT1bXSl9ZnVuY3Rpb24gVngodCxlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylpZih0W25dLmtleT09PWUpcmV0dXJuIHRbbl0udmFsdWV9ZnVuY3Rpb24gQngodCxlLG4pe3JldHVybiB0LnB1c2goe2tleTplLHZhbHVlOm59KSxufWZ1bmN0aW9uIEd4KHQsZSxuKXt2YXIgaT1teCh0KSxyPXQuc2NhbGUsbz1yLmdldEV4dGVudCgpLGE9dC5nZXRMYWJlbE1vZGVsKCkscz1bXSxsPU1hdGgubWF4KChlfHwwKSsxLDEpLHU9b1swXSxoPXIuY291bnQoKTswIT09dSYmbD4xJiZoL2w+MiYmKHU9TWF0aC5yb3VuZChNYXRoLmNlaWwodS9sKSpsKSk7dmFyIGM9U3godCkscD1hLmdldCgic2hvd01pbkxhYmVsIil8fGMsZD1hLmdldCgic2hvd01heExhYmVsIil8fGM7cCYmdSE9PW9bMF0mJmcob1swXSk7Zm9yKHZhciBmPXU7Zjw9b1sxXTtmKz1sKWcoZik7ZnVuY3Rpb24gZyh0KXt2YXIgZT17dmFsdWU6dH07cy5wdXNoKG4/dDp7Zm9ybWF0dGVkTGFiZWw6aShlKSxyYXdMYWJlbDpyLmdldExhYmVsKGUpLHRpY2tWYWx1ZTp0fSl9cmV0dXJuIGQmJmYtbCE9PW9bMV0mJmcob1sxXSksc31mdW5jdGlvbiBGeCh0LGUsbil7dmFyIGk9dC5zY2FsZSxyPW14KHQpLG89W107cmV0dXJuIE8oaS5nZXRUaWNrcygpLChmdW5jdGlvbih0KXt2YXIgYT1pLmdldExhYmVsKHQpLHM9dC52YWx1ZTtlKHQudmFsdWUsYSkmJm8ucHVzaChuP3M6e2Zvcm1hdHRlZExhYmVsOnIodCkscmF3TGFiZWw6YSx0aWNrVmFsdWU6c30pfSkpLG99dmFyIEh4PVswLDFdLFd4PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dGhpcy5vbkJhbmQ9ITEsdGhpcy5pbnZlcnNlPSExLHRoaXMuZGltPXQsdGhpcy5zY2FsZT1lLHRoaXMuX2V4dGVudD1ufHxbMCwwXX1yZXR1cm4gdC5wcm90b3R5cGUuY29udGFpbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9leHRlbnQsbj1NYXRoLm1pbihlWzBdLGVbMV0pLGk9TWF0aC5tYXgoZVswXSxlWzFdKTtyZXR1cm4gdD49biYmdDw9aX0sdC5wcm90b3R5cGUuY29udGFpbkRhdGE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2NhbGUuY29udGFpbih0KX0sdC5wcm90b3R5cGUuZ2V0RXh0ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V4dGVudC5zbGljZSgpfSx0LnByb3RvdHlwZS5nZXRQaXhlbFByZWNpc2lvbj1mdW5jdGlvbih0KXtyZXR1cm4gdHIodHx8dGhpcy5zY2FsZS5nZXRFeHRlbnQoKSx0aGlzLl9leHRlbnQpfSx0LnByb3RvdHlwZS5zZXRFeHRlbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9leHRlbnQ7blswXT10LG5bMV09ZX0sdC5wcm90b3R5cGUuZGF0YVRvQ29vcmQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9leHRlbnQsaT10aGlzLnNjYWxlO3JldHVybiB0PWkubm9ybWFsaXplKHQpLHRoaXMub25CYW5kJiYib3JkaW5hbCI9PT1pLnR5cGUmJlV4KG49bi5zbGljZSgpLGkuY291bnQoKSksamkodCxIeCxuLGUpfSx0LnByb3RvdHlwZS5jb29yZFRvRGF0YT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2V4dGVudCxpPXRoaXMuc2NhbGU7dGhpcy5vbkJhbmQmJiJvcmRpbmFsIj09PWkudHlwZSYmVXgobj1uLnNsaWNlKCksaS5jb3VudCgpKTt2YXIgcj1qaSh0LG4sSHgsZSk7cmV0dXJuIHRoaXMuc2NhbGUuc2NhbGUocil9LHQucHJvdG90eXBlLnBvaW50VG9EYXRhPWZ1bmN0aW9uKHQsZSl7fSx0LnByb3RvdHlwZS5nZXRUaWNrc0Nvb3Jkcz1mdW5jdGlvbih0KXt2YXIgZT0odD10fHx7fSkudGlja01vZGVsfHx0aGlzLmdldFRpY2tNb2RlbCgpLG49UihOeCh0aGlzLGUpLnRpY2tzLChmdW5jdGlvbih0KXtyZXR1cm57Y29vcmQ6dGhpcy5kYXRhVG9Db29yZCgib3JkaW5hbCI9PT10aGlzLnNjYWxlLnR5cGU/dGhpcy5zY2FsZS5nZXRSYXdPcmRpbmFsTnVtYmVyKHQpOnQpLHRpY2tWYWx1ZTp0fX0pLHRoaXMpO3JldHVybiBmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1lLmxlbmd0aDtpZighdC5vbkJhbmR8fG58fCFyKXJldHVybjt2YXIgbyxhLHM9dC5nZXRFeHRlbnQoKTtpZigxPT09cillWzBdLmNvb3JkPXNbMF0sbz1lWzFdPXtjb29yZDpzWzBdfTtlbHNle3ZhciBsPWVbci0xXS50aWNrVmFsdWUtZVswXS50aWNrVmFsdWUsdT0oZVtyLTFdLmNvb3JkLWVbMF0uY29vcmQpL2w7TyhlLChmdW5jdGlvbih0KXt0LmNvb3JkLT11LzJ9KSksYT0xK3Quc2NhbGUuZ2V0RXh0ZW50KClbMV0tZVtyLTFdLnRpY2tWYWx1ZSxvPXtjb29yZDplW3ItMV0uY29vcmQrdSphfSxlLnB1c2gobyl9dmFyIGg9c1swXT5zWzFdO2MoZVswXS5jb29yZCxzWzBdKSYmKGk/ZVswXS5jb29yZD1zWzBdOmUuc2hpZnQoKSk7aSYmYyhzWzBdLGVbMF0uY29vcmQpJiZlLnVuc2hpZnQoe2Nvb3JkOnNbMF19KTtjKHNbMV0sby5jb29yZCkmJihpP28uY29vcmQ9c1sxXTplLnBvcCgpKTtpJiZjKG8uY29vcmQsc1sxXSkmJmUucHVzaCh7Y29vcmQ6c1sxXX0pO2Z1bmN0aW9uIGModCxlKXtyZXR1cm4gdD1LaSh0KSxlPUtpKGUpLGg/dD5lOnQ8ZX19KHRoaXMsbixlLmdldCgiYWxpZ25XaXRoTGFiZWwiKSx0LmNsYW1wKSxufSx0LnByb3RvdHlwZS5nZXRNaW5vclRpY2tzQ29vcmRzPWZ1bmN0aW9uKCl7aWYoIm9yZGluYWwiPT09dGhpcy5zY2FsZS50eXBlKXJldHVybltdO3ZhciB0PXRoaXMubW9kZWwuZ2V0TW9kZWwoIm1pbm9yVGljayIpLmdldCgic3BsaXROdW1iZXIiKTtyZXR1cm4gdD4wJiZ0PDEwMHx8KHQ9NSksUih0aGlzLnNjYWxlLmdldE1pbm9yVGlja3ModCksKGZ1bmN0aW9uKHQpe3JldHVybiBSKHQsKGZ1bmN0aW9uKHQpe3JldHVybntjb29yZDp0aGlzLmRhdGFUb0Nvb3JkKHQpLHRpY2tWYWx1ZTp0fX0pLHRoaXMpfSksdGhpcyl9LHQucHJvdG90eXBlLmdldFZpZXdMYWJlbHM9ZnVuY3Rpb24oKXtyZXR1cm4gUngodGhpcykubGFiZWxzfSx0LnByb3RvdHlwZS5nZXRMYWJlbE1vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9kZWwuZ2V0TW9kZWwoImF4aXNMYWJlbCIpfSx0LnByb3RvdHlwZS5nZXRUaWNrTW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2RlbC5nZXRNb2RlbCgiYXhpc1RpY2siKX0sdC5wcm90b3R5cGUuZ2V0QmFuZFdpZHRoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZXh0ZW50LGU9dGhpcy5zY2FsZS5nZXRFeHRlbnQoKSxuPWVbMV0tZVswXSsodGhpcy5vbkJhbmQ/MTowKTswPT09biYmKG49MSk7dmFyIGk9TWF0aC5hYnModFsxXS10WzBdKTtyZXR1cm4gTWF0aC5hYnMoaSkvbn0sdC5wcm90b3R5cGUuY2FsY3VsYXRlQ2F0ZWdvcnlJbnRlcnZhbD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbih0KXt2YXIgZT10LmdldExhYmVsTW9kZWwoKTtyZXR1cm57YXhpc1JvdGF0ZTp0LmdldFJvdGF0ZT90LmdldFJvdGF0ZSgpOnQuaXNIb3Jpem9udGFsJiYhdC5pc0hvcml6b250YWwoKT85MDowLGxhYmVsUm90YXRlOmUuZ2V0KCJyb3RhdGUiKXx8MCxmb250OmUuZ2V0Rm9udCgpfX0odCksbj1teCh0KSxpPShlLmF4aXNSb3RhdGUtZS5sYWJlbFJvdGF0ZSkvMTgwKk1hdGguUEkscj10LnNjYWxlLG89ci5nZXRFeHRlbnQoKSxhPXIuY291bnQoKTtpZihvWzFdLW9bMF08MSlyZXR1cm4gMDt2YXIgcz0xO2E+NDAmJihzPU1hdGgubWF4KDEsTWF0aC5mbG9vcihhLzQwKSkpO2Zvcih2YXIgbD1vWzBdLHU9dC5kYXRhVG9Db29yZChsKzEpLXQuZGF0YVRvQ29vcmQobCksaD1NYXRoLmFicyh1Kk1hdGguY29zKGkpKSxjPU1hdGguYWJzKHUqTWF0aC5zaW4oaSkpLHA9MCxkPTA7bDw9b1sxXTtsKz1zKXt2YXIgZixnLHk9U2kobih7dmFsdWU6bH0pLGUuZm9udCwiY2VudGVyIiwidG9wIik7Zj0xLjMqeS53aWR0aCxnPTEuMyp5LmhlaWdodCxwPU1hdGgubWF4KHAsZiw3KSxkPU1hdGgubWF4KGQsZyw3KX12YXIgdj1wL2gsbT1kL2M7aXNOYU4odikmJih2PTEvMCksaXNOYU4obSkmJihtPTEvMCk7dmFyIF89TWF0aC5tYXgoMCxNYXRoLmZsb29yKE1hdGgubWluKHYsbSkpKSx4PU94KHQubW9kZWwpLGI9dC5nZXRFeHRlbnQoKSx3PXgubGFzdEF1dG9JbnRlcnZhbCxTPXgubGFzdFRpY2tDb3VudDtyZXR1cm4gbnVsbCE9dyYmbnVsbCE9UyYmTWF0aC5hYnMody1fKTw9MSYmTWF0aC5hYnMoUy1hKTw9MSYmdz5fJiZ4LmF4aXNFeHRlbnQwPT09YlswXSYmeC5heGlzRXh0ZW50MT09PWJbMV0/Xz13Oih4Lmxhc3RUaWNrQ291bnQ9YSx4Lmxhc3RBdXRvSW50ZXJ2YWw9Xyx4LmF4aXNFeHRlbnQwPWJbMF0seC5heGlzRXh0ZW50MT1iWzFdKSxffSh0aGlzKX0sdH0oKTtmdW5jdGlvbiBVeCh0LGUpe3ZhciBuPSh0WzFdLXRbMF0pL2UvMjt0WzBdKz1uLHRbMV0tPW59dmFyIFh4PTIqTWF0aC5QSSxZeD1PYS5DTUQsWng9WyJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiXTtmdW5jdGlvbiBqeCh0LGUsbixpLHIpe3ZhciBvPW4ud2lkdGgsYT1uLmhlaWdodDtzd2l0Y2godCl7Y2FzZSJ0b3AiOmkuc2V0KG4ueCtvLzIsbi55LWUpLHIuc2V0KDAsLTEpO2JyZWFrO2Nhc2UiYm90dG9tIjppLnNldChuLngrby8yLG4ueSthK2UpLHIuc2V0KDAsMSk7YnJlYWs7Y2FzZSJsZWZ0IjppLnNldChuLngtZSxuLnkrYS8yKSxyLnNldCgtMSwwKTticmVhaztjYXNlInJpZ2h0IjppLnNldChuLngrbytlLG4ueSthLzIpLHIuc2V0KDEsMCl9fWZ1bmN0aW9uIHF4KHQsZSxuLGkscixvLGEscyxsKXthLT10LHMtPWU7dmFyIHU9TWF0aC5zcXJ0KGEqYStzKnMpLGg9KGEvPXUpKm4rdCxjPShzLz11KSpuK2U7aWYoTWF0aC5hYnMoaS1yKSVYeDwxZS00KXJldHVybiBsWzBdPWgsbFsxXT1jLHUtbjtpZihvKXt2YXIgcD1pO2k9VmEocikscj1WYShwKX1lbHNlIGk9VmEoaSkscj1WYShyKTtpPnImJihyKz1YeCk7dmFyIGQ9TWF0aC5hdGFuMihzLGEpO2lmKGQ8MCYmKGQrPVh4KSxkPj1pJiZkPD1yfHxkK1h4Pj1pJiZkK1h4PD1yKXJldHVybiBsWzBdPWgsbFsxXT1jLHUtbjt2YXIgZj1uKk1hdGguY29zKGkpK3QsZz1uKk1hdGguc2luKGkpK2UseT1uKk1hdGguY29zKHIpK3Qsdj1uKk1hdGguc2luKHIpK2UsbT0oZi1hKSooZi1hKSsoZy1zKSooZy1zKSxfPSh5LWEpKih5LWEpKyh2LXMpKih2LXMpO3JldHVybiBtPF8/KGxbMF09ZixsWzFdPWcsTWF0aC5zcXJ0KG0pKToobFswXT15LGxbMV09dixNYXRoLnNxcnQoXykpfWZ1bmN0aW9uIEt4KHQsZSxuLGkscixvLGEscyl7dmFyIGw9ci10LHU9by1lLGg9bi10LGM9aS1lLHA9TWF0aC5zcXJ0KGgqaCtjKmMpLGQ9KGwqKGgvPXApK3UqKGMvPXApKS9wO3MmJihkPU1hdGgubWluKE1hdGgubWF4KGQsMCksMSkpLGQqPXA7dmFyIGY9YVswXT10K2QqaCxnPWFbMV09ZStkKmM7cmV0dXJuIE1hdGguc3FydCgoZi1yKSooZi1yKSsoZy1vKSooZy1vKSl9ZnVuY3Rpb24gJHgodCxlLG4saSxyLG8sYSl7bjwwJiYodCs9bixuPS1uKSxpPDAmJihlKz1pLGk9LWkpO3ZhciBzPXQrbixsPWUraSx1PWFbMF09TWF0aC5taW4oTWF0aC5tYXgocix0KSxzKSxoPWFbMV09TWF0aC5taW4oTWF0aC5tYXgobyxlKSxsKTtyZXR1cm4gTWF0aC5zcXJ0KCh1LXIpKih1LXIpKyhoLW8pKihoLW8pKX12YXIgSng9W107ZnVuY3Rpb24gUXgodCxlLG4pe3ZhciBpPSR4KGUueCxlLnksZS53aWR0aCxlLmhlaWdodCx0LngsdC55LEp4KTtyZXR1cm4gbi5zZXQoSnhbMF0sSnhbMV0pLGl9ZnVuY3Rpb24gdGIodCxlLG4pe2Zvcih2YXIgaSxyLG89MCxhPTAscz0wLGw9MCx1PTEvMCxoPWUuZGF0YSxjPXQueCxwPXQueSxkPTA7ZDxoLmxlbmd0aDspe3ZhciBmPWhbZCsrXTsxPT09ZCYmKHM9bz1oW2RdLGw9YT1oW2QrMV0pO3ZhciBnPXU7c3dpdGNoKGYpe2Nhc2UgWXguTTpvPXM9aFtkKytdLGE9bD1oW2QrK107YnJlYWs7Y2FzZSBZeC5MOmc9S3gobyxhLGhbZF0saFtkKzFdLGMscCxKeCwhMCksbz1oW2QrK10sYT1oW2QrK107YnJlYWs7Y2FzZSBZeC5DOmc9WG8obyxhLGhbZCsrXSxoW2QrK10saFtkKytdLGhbZCsrXSxoW2RdLGhbZCsxXSxjLHAsSngpLG89aFtkKytdLGE9aFtkKytdO2JyZWFrO2Nhc2UgWXguUTpnPSRvKG8sYSxoW2QrK10saFtkKytdLGhbZF0saFtkKzFdLGMscCxKeCksbz1oW2QrK10sYT1oW2QrK107YnJlYWs7Y2FzZSBZeC5BOnZhciB5PWhbZCsrXSx2PWhbZCsrXSxtPWhbZCsrXSxfPWhbZCsrXSx4PWhbZCsrXSxiPWhbZCsrXTtkKz0xO3ZhciB3PSEhKDEtaFtkKytdKTtpPU1hdGguY29zKHgpKm0reSxyPU1hdGguc2luKHgpKl8rdixkPD0xJiYocz1pLGw9ciksZz1xeCh5LHYsXyx4LHgrYix3LChjLXkpKl8vbSt5LHAsSngpLG89TWF0aC5jb3MoeCtiKSptK3ksYT1NYXRoLnNpbih4K2IpKl8rdjticmVhaztjYXNlIFl4LlI6Zz0keChzPW89aFtkKytdLGw9YT1oW2QrK10saFtkKytdLGhbZCsrXSxjLHAsSngpO2JyZWFrO2Nhc2UgWXguWjpnPUt4KG8sYSxzLGwsYyxwLEp4LCEwKSxvPXMsYT1sfWc8dSYmKHU9ZyxuLnNldChKeFswXSxKeFsxXSkpfXJldHVybiB1fXZhciBlYj1uZXcgbGksbmI9bmV3IGxpLGliPW5ldyBsaSxyYj1uZXcgbGksb2I9bmV3IGxpO2Z1bmN0aW9uIGFiKHQsZSl7aWYodCl7dmFyIG49dC5nZXRUZXh0R3VpZGVMaW5lKCksaT10LmdldFRleHRDb250ZW50KCk7aWYoaSYmbil7dmFyIHI9dC50ZXh0R3VpZGVMaW5lQ29uZmlnfHx7fSxvPVtbMCwwXSxbMCwwXSxbMCwwXV0sYT1yLmNhbmRpZGF0ZXN8fFp4LHM9aS5nZXRCb3VuZGluZ1JlY3QoKS5jbG9uZSgpO3MuYXBwbHlUcmFuc2Zvcm0oaS5nZXRDb21wdXRlZFRyYW5zZm9ybSgpKTt2YXIgbD0xLzAsdT1yLmFuY2hvcixoPXQuZ2V0Q29tcHV0ZWRUcmFuc2Zvcm0oKSxjPWgmJmpuKFtdLGgpLHA9ZS5nZXQoImxlbmd0aDIiKXx8MDt1JiZpYi5jb3B5KHUpO2Zvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKXtqeChhW2RdLDAscyxlYixyYiksbGkuc2NhbGVBbmRBZGQobmIsZWIscmIscCksbmIudHJhbnNmb3JtKGMpO3ZhciBmPXQuZ2V0Qm91bmRpbmdSZWN0KCksZz11P3UuZGlzdGFuY2UobmIpOnQgaW5zdGFuY2VvZiBRYT90YihuYix0LnBhdGgsaWIpOlF4KG5iLGYsaWIpO2c8bCYmKGw9ZyxuYi50cmFuc2Zvcm0oaCksaWIudHJhbnNmb3JtKGgpLGliLnRvQXJyYXkob1swXSksbmIudG9BcnJheShvWzFdKSxlYi50b0FycmF5KG9bMl0pKX11YihvLGUuZ2V0KCJtaW5UdXJuQW5nbGUiKSksbi5zZXRTaGFwZSh7cG9pbnRzOm99KX19fXZhciBzYj1bXSxsYj1uZXcgbGk7ZnVuY3Rpb24gdWIodCxlKXtpZihlPD0xODAmJmU+MCl7ZT1lLzE4MCpNYXRoLlBJLGViLmZyb21BcnJheSh0WzBdKSxuYi5mcm9tQXJyYXkodFsxXSksaWIuZnJvbUFycmF5KHRbMl0pLGxpLnN1YihyYixlYixuYiksbGkuc3ViKG9iLGliLG5iKTt2YXIgbj1yYi5sZW4oKSxpPW9iLmxlbigpO2lmKCEobjwuMDAxfHxpPC4wMDEpKXtyYi5zY2FsZSgxL24pLG9iLnNjYWxlKDEvaSk7dmFyIHI9cmIuZG90KG9iKTtpZihNYXRoLmNvcyhlKTxyKXt2YXIgbz1LeChuYi54LG5iLnksaWIueCxpYi55LGViLngsZWIueSxzYiwhMSk7bGIuZnJvbUFycmF5KHNiKSxsYi5zY2FsZUFuZEFkZChvYixvL01hdGgudGFuKE1hdGguUEktZSkpO3ZhciBhPWliLnghPT1uYi54PyhsYi54LW5iLngpLyhpYi54LW5iLngpOihsYi55LW5iLnkpLyhpYi55LW5iLnkpO2lmKGlzTmFOKGEpKXJldHVybjthPDA/bGkuY29weShsYixuYik6YT4xJiZsaS5jb3B5KGxiLGliKSxsYi50b0FycmF5KHRbMV0pfX19fWZ1bmN0aW9uIGhiKHQsZSxuKXtpZihuPD0xODAmJm4+MCl7bj1uLzE4MCpNYXRoLlBJLGViLmZyb21BcnJheSh0WzBdKSxuYi5mcm9tQXJyYXkodFsxXSksaWIuZnJvbUFycmF5KHRbMl0pLGxpLnN1YihyYixuYixlYiksbGkuc3ViKG9iLGliLG5iKTt2YXIgaT1yYi5sZW4oKSxyPW9iLmxlbigpO2lmKCEoaTwuMDAxfHxyPC4wMDEpKWlmKHJiLnNjYWxlKDEvaSksb2Iuc2NhbGUoMS9yKSxyYi5kb3QoZSk8TWF0aC5jb3Mobikpe3ZhciBvPUt4KG5iLngsbmIueSxpYi54LGliLnksZWIueCxlYi55LHNiLCExKTtsYi5mcm9tQXJyYXkoc2IpO3ZhciBhPU1hdGguUEkvMixzPWErTWF0aC5hY29zKG9iLmRvdChlKSktbjtpZihzPj1hKWxpLmNvcHkobGIsaWIpO2Vsc2V7bGIuc2NhbGVBbmRBZGQob2Isby9NYXRoLnRhbihNYXRoLlBJLzItcykpO3ZhciBsPWliLnghPT1uYi54PyhsYi54LW5iLngpLyhpYi54LW5iLngpOihsYi55LW5iLnkpLyhpYi55LW5iLnkpO2lmKGlzTmFOKGwpKXJldHVybjtsPDA/bGkuY29weShsYixuYik6bD4xJiZsaS5jb3B5KGxiLGliKX1sYi50b0FycmF5KHRbMV0pfX19ZnVuY3Rpb24gY2IodCxlLG4saSl7dmFyIHI9Im5vcm1hbCI9PT1uLG89cj90OnQuZW5zdXJlU3RhdGUobik7by5pZ25vcmU9ZTt2YXIgYT1pLmdldCgic21vb3RoIik7YSYmITA9PT1hJiYoYT0uMyksby5zaGFwZT1vLnNoYXBlfHx7fSxhPjAmJihvLnNoYXBlLnNtb290aD1hKTt2YXIgcz1pLmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKTtyP3QudXNlU3R5bGUocyk6by5zdHlsZT1zfWZ1bmN0aW9uIHBiKHQsZSl7dmFyIG49ZS5zbW9vdGgsaT1lLnBvaW50cztpZihpKWlmKHQubW92ZVRvKGlbMF1bMF0saVswXVsxXSksbj4wJiZpLmxlbmd0aD49Myl7dmFyIHI9THQoaVswXSxpWzFdKSxvPUx0KGlbMV0saVsyXSk7aWYoIXJ8fCFvKXJldHVybiB0LmxpbmVUbyhpWzFdWzBdLGlbMV1bMV0pLHZvaWQgdC5saW5lVG8oaVsyXVswXSxpWzJdWzFdKTt2YXIgYT1NYXRoLm1pbihyLG8pKm4scz1SdChbXSxpWzFdLGlbMF0sYS9yKSxsPVJ0KFtdLGlbMV0saVsyXSxhL28pLHU9UnQoW10scyxsLC41KTt0LmJlemllckN1cnZlVG8oc1swXSxzWzFdLHNbMF0sc1sxXSx1WzBdLHVbMV0pLHQuYmV6aWVyQ3VydmVUbyhsWzBdLGxbMV0sbFswXSxsWzFdLGlbMl1bMF0saVsyXVsxXSl9ZWxzZSBmb3IodmFyIGg9MTtoPGkubGVuZ3RoO2grKyl0LmxpbmVUbyhpW2hdWzBdLGlbaF1bMV0pfWZ1bmN0aW9uIGRiKHQsZSxuKXt2YXIgaT10LmdldFRleHRHdWlkZUxpbmUoKSxyPXQuZ2V0VGV4dENvbnRlbnQoKTtpZihyKXtmb3IodmFyIG89ZS5ub3JtYWwsYT1vLmdldCgic2hvdyIpLHM9ci5pZ25vcmUsbD0wO2w8QXMubGVuZ3RoO2wrKyl7dmFyIHU9QXNbbF0saD1lW3VdLGM9Im5vcm1hbCI9PT11O2lmKGgpe3ZhciBwPWguZ2V0KCJzaG93Iik7aWYoKGM/czpldChyLnN0YXRlc1t1XSYmci5zdGF0ZXNbdV0uaWdub3JlLHMpKXx8IWV0KHAsYSkpe3ZhciBkPWM/aTppJiZpLnN0YXRlcy5ub3JtYWw7ZCYmKGQuaWdub3JlPSEwKTtjb250aW51ZX1pfHwoaT1uZXcgZHUsdC5zZXRUZXh0R3VpZGVMaW5lKGkpLGN8fCFzJiZhfHxjYihpLCEwLCJub3JtYWwiLGUubm9ybWFsKSx0LnN0YXRlUHJveHkmJihpLnN0YXRlUHJveHk9dC5zdGF0ZVByb3h5KSksY2IoaSwhMSx1LGgpfX1pZihpKXtDKGkuc3R5bGUsbiksaS5zdHlsZS5maWxsPW51bGw7dmFyIGY9by5nZXQoInNob3dBYm92ZSIpOyh0LnRleHRHdWlkZUxpbmVDb25maWc9dC50ZXh0R3VpZGVMaW5lQ29uZmlnfHx7fSkuc2hvd0Fib3ZlPWZ8fCExLGkuYnVpbGRQYXRoPXBifX1lbHNlIGkmJnQucmVtb3ZlVGV4dEd1aWRlTGluZSgpfWZ1bmN0aW9uIGZiKHQsZSl7ZT1lfHwibGFiZWxMaW5lIjtmb3IodmFyIG49e25vcm1hbDp0LmdldE1vZGVsKGUpfSxpPTA7aTxEcy5sZW5ndGg7aSsrKXt2YXIgcj1Ec1tpXTtuW3JdPXQuZ2V0TW9kZWwoW3IsZV0pfXJldHVybiBufWZ1bmN0aW9uIGdiKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aWYoIWkuZGVmYXVsdEF0dHIuaWdub3JlKXt2YXIgcj1pLmxhYmVsLG89ci5nZXRDb21wdXRlZFRyYW5zZm9ybSgpLGE9ci5nZXRCb3VuZGluZ1JlY3QoKSxzPSFvfHxvWzFdPDFlLTUmJm9bMl08MWUtNSxsPXIuc3R5bGUubWFyZ2lufHwwLHU9YS5jbG9uZSgpO3UuYXBwbHlUcmFuc2Zvcm0obyksdS54LT1sLzIsdS55LT1sLzIsdS53aWR0aCs9bCx1LmhlaWdodCs9bDt2YXIgaD1zP25ldyBMdShhLG8pOm51bGw7ZS5wdXNoKHtsYWJlbDpyLGxhYmVsTGluZTppLmxhYmVsTGluZSxyZWN0OnUsbG9jYWxSZWN0OmEsb2JiOmgscHJpb3JpdHk6aS5wcmlvcml0eSxkZWZhdWx0QXR0cjppLmRlZmF1bHRBdHRyLGxheW91dE9wdGlvbjppLmNvbXB1dGVkTGF5b3V0T3B0aW9uLGF4aXNBbGlnbmVkOnMsdHJhbnNmb3JtOm99KX19cmV0dXJuIGV9ZnVuY3Rpb24geWIodCxlLG4saSxyLG8pe3ZhciBhPXQubGVuZ3RoO2lmKCEoYTwyKSl7dC5zb3J0KChmdW5jdGlvbih0LG4pe3JldHVybiB0LnJlY3RbZV0tbi5yZWN0W2VdfSkpO2Zvcih2YXIgcyxsPTAsdT0hMSxoPTAsYz0wO2M8YTtjKyspe3ZhciBwPXRbY10sZD1wLnJlY3Q7KHM9ZFtlXS1sKTwwJiYoZFtlXS09cyxwLmxhYmVsW2VdLT1zLHU9ITApLGgrPU1hdGgubWF4KC1zLDApLGw9ZFtlXStkW25dfWg+MCYmbyYmeCgtaC9hLDAsYSk7dmFyIGYsZyx5PXRbMF0sdj10W2EtMV07cmV0dXJuIG0oKSxmPDAmJmIoLWYsLjgpLGc8MCYmYihnLC44KSxtKCksXyhmLGcsMSksXyhnLGYsLTEpLG0oKSxmPDAmJncoLWYpLGc8MCYmdyhnKSx1fWZ1bmN0aW9uIG0oKXtmPXkucmVjdFtlXS1pLGc9ci12LnJlY3RbZV0tdi5yZWN0W25dfWZ1bmN0aW9uIF8odCxlLG4pe2lmKHQ8MCl7dmFyIGk9TWF0aC5taW4oZSwtdCk7aWYoaT4wKXt4KGkqbiwwLGEpO3ZhciByPWkrdDtyPDAmJmIoLXIqbiwxKX1lbHNlIGIoLXQqbiwxKX19ZnVuY3Rpb24geChuLGkscil7MCE9PW4mJih1PSEwKTtmb3IodmFyIG89aTtvPHI7bysrKXt2YXIgYT10W29dO2EucmVjdFtlXSs9bixhLmxhYmVsW2VdKz1ufX1mdW5jdGlvbiBiKGkscil7Zm9yKHZhciBvPVtdLHM9MCxsPTE7bDxhO2wrKyl7dmFyIHU9dFtsLTFdLnJlY3QsaD1NYXRoLm1heCh0W2xdLnJlY3RbZV0tdVtlXS11W25dLDApO28ucHVzaChoKSxzKz1ofWlmKHMpe3ZhciBjPU1hdGgubWluKE1hdGguYWJzKGkpL3Mscik7aWYoaT4wKWZvcihsPTA7bDxhLTE7bCsrKXt4KG9bbF0qYywwLGwrMSl9ZWxzZSBmb3IobD1hLTE7bD4wO2wtLSl7eCgtKG9bbC0xXSpjKSxsLGEpfX19ZnVuY3Rpb24gdyh0KXt2YXIgZT10PDA/LTE6MTt0PU1hdGguYWJzKHQpO2Zvcih2YXIgbj1NYXRoLmNlaWwodC8oYS0xKSksaT0wO2k8YS0xO2krKylpZihlPjA/eChuLDAsaSsxKTp4KC1uLGEtaS0xLGEpLCh0LT1uKTw9MClyZXR1cm59fWZ1bmN0aW9uIHZiKHQsZSxuLGkpe3JldHVybiB5Yih0LCJ5IiwiaGVpZ2h0IixlLG4saSl9ZnVuY3Rpb24gbWIodCl7dmFyIGU9W107dC5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBlLnByaW9yaXR5LXQucHJpb3JpdHl9KSk7dmFyIG49bmV3IHZpKDAsMCwwLDApO2Z1bmN0aW9uIGkodCl7aWYoIXQuaWdub3JlKXt2YXIgZT10LmVuc3VyZVN0YXRlKCJlbXBoYXNpcyIpO251bGw9PWUuaWdub3JlJiYoZS5pZ25vcmU9ITEpfXQuaWdub3JlPSEwfWZvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdLGE9by5heGlzQWxpZ25lZCxzPW8ubG9jYWxSZWN0LGw9by50cmFuc2Zvcm0sdT1vLmxhYmVsLGg9by5sYWJlbExpbmU7bi5jb3B5KG8ucmVjdCksbi53aWR0aC09LjEsbi5oZWlnaHQtPS4xLG4ueCs9LjA1LG4ueSs9LjA1O2Zvcih2YXIgYz1vLm9iYixwPSExLGQ9MDtkPGUubGVuZ3RoO2QrKyl7dmFyIGY9ZVtkXTtpZihuLmludGVyc2VjdChmLnJlY3QpKXtpZihhJiZmLmF4aXNBbGlnbmVkKXtwPSEwO2JyZWFrfWlmKGYub2JifHwoZi5vYmI9bmV3IEx1KGYubG9jYWxSZWN0LGYudHJhbnNmb3JtKSksY3x8KGM9bmV3IEx1KHMsbCkpLGMuaW50ZXJzZWN0KGYub2JiKSl7cD0hMDticmVha319fXA/KGkodSksaCYmaShoKSk6KHUuYXR0cigiaWdub3JlIixvLmRlZmF1bHRBdHRyLmlnbm9yZSksaCYmaC5hdHRyKCJpZ25vcmUiLG8uZGVmYXVsdEF0dHIubGFiZWxHdWlkZUlnbm9yZSksZS5wdXNoKG8pKX19ZnVuY3Rpb24gX2IodCl7aWYodCl7Zm9yKHZhciBlPVtdLG49MDtuPHQubGVuZ3RoO24rKyllLnB1c2godFtuXS5zbGljZSgpKTtyZXR1cm4gZX19ZnVuY3Rpb24geGIodCxlKXt2YXIgbj10LmxhYmVsLGk9ZSYmZS5nZXRUZXh0R3VpZGVMaW5lKCk7cmV0dXJue2RhdGFJbmRleDp0LmRhdGFJbmRleCxkYXRhVHlwZTp0LmRhdGFUeXBlLHNlcmllc0luZGV4OnQuc2VyaWVzTW9kZWwuc2VyaWVzSW5kZXgsdGV4dDp0LmxhYmVsLnN0eWxlLnRleHQscmVjdDp0Lmhvc3RSZWN0LGxhYmVsUmVjdDp0LnJlY3QsYWxpZ246bi5zdHlsZS5hbGlnbix2ZXJ0aWNhbEFsaWduOm4uc3R5bGUudmVydGljYWxBbGlnbixsYWJlbExpbmVQb2ludHM6X2IoaSYmaS5zaGFwZS5wb2ludHMpfX12YXIgYmI9WyJhbGlnbiIsInZlcnRpY2FsQWxpZ24iLCJ3aWR0aCIsImhlaWdodCIsImZvbnRTaXplIl0sd2I9bmV3IGFpLFNiPVJyKCksTWI9UnIoKTtmdW5jdGlvbiBJYih0LGUsbil7Zm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV07bnVsbCE9ZVtyXSYmKHRbcl09ZVtyXSl9fXZhciBUYj1bIngiLCJ5Iiwicm90YXRpb24iXSxDYj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9sYWJlbExpc3Q9W10sdGhpcy5fY2hhcnRWaWV3TGlzdD1bXX1yZXR1cm4gdC5wcm90b3R5cGUuY2xlYXJMYWJlbHM9ZnVuY3Rpb24oKXt0aGlzLl9sYWJlbExpc3Q9W10sdGhpcy5fY2hhcnRWaWV3TGlzdD1bXX0sdC5wcm90b3R5cGUuX2FkZExhYmVsPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89aS5zdHlsZSxhPWkuX19ob3N0VGFyZ2V0LnRleHRDb25maWd8fHt9LHM9aS5nZXRDb21wdXRlZFRyYW5zZm9ybSgpLGw9aS5nZXRCb3VuZGluZ1JlY3QoKS5wbGFpbigpO3ZpLmFwcGx5VHJhbnNmb3JtKGwsbCxzKSxzP3diLnNldExvY2FsVHJhbnNmb3JtKHMpOih3Yi54PXdiLnk9d2Iucm90YXRpb249d2Iub3JpZ2luWD13Yi5vcmlnaW5ZPTAsd2Iuc2NhbGVYPXdiLnNjYWxlWT0xKTt2YXIgdSxoPWkuX19ob3N0VGFyZ2V0O2lmKGgpe3U9aC5nZXRCb3VuZGluZ1JlY3QoKS5wbGFpbigpO3ZhciBjPWguZ2V0Q29tcHV0ZWRUcmFuc2Zvcm0oKTt2aS5hcHBseVRyYW5zZm9ybSh1LHUsYyl9dmFyIHA9dSYmaC5nZXRUZXh0R3VpZGVMaW5lKCk7dGhpcy5fbGFiZWxMaXN0LnB1c2goe2xhYmVsOmksbGFiZWxMaW5lOnAsc2VyaWVzTW9kZWw6bixkYXRhSW5kZXg6dCxkYXRhVHlwZTplLGxheW91dE9wdGlvbjpyLGNvbXB1dGVkTGF5b3V0T3B0aW9uOm51bGwscmVjdDpsLGhvc3RSZWN0OnUscHJpb3JpdHk6dT91LndpZHRoKnUuaGVpZ2h0OjAsZGVmYXVsdEF0dHI6e2lnbm9yZTppLmlnbm9yZSxsYWJlbEd1aWRlSWdub3JlOnAmJnAuaWdub3JlLHg6d2IueCx5OndiLnksc2NhbGVYOndiLnNjYWxlWCxzY2FsZVk6d2Iuc2NhbGVZLHJvdGF0aW9uOndiLnJvdGF0aW9uLHN0eWxlOnt4Om8ueCx5Om8ueSxhbGlnbjpvLmFsaWduLHZlcnRpY2FsQWxpZ246by52ZXJ0aWNhbEFsaWduLHdpZHRoOm8ud2lkdGgsaGVpZ2h0Om8uaGVpZ2h0LGZvbnRTaXplOm8uZm9udFNpemV9LGN1cnNvcjppLmN1cnNvcixhdHRhY2hlZFBvczphLnBvc2l0aW9uLGF0dGFjaGVkUm90OmEucm90YXRpb259fSl9LHQucHJvdG90eXBlLmFkZExhYmVsc09mU2VyaWVzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5fY2hhcnRWaWV3TGlzdC5wdXNoKHQpO3ZhciBuPXQuX19tb2RlbCxpPW4uZ2V0KCJsYWJlbExheW91dCIpOyhIKGkpfHxWKGkpLmxlbmd0aCkmJnQuZ3JvdXAudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe2lmKHQuaWdub3JlKXJldHVybiEwO3ZhciByPXQuZ2V0VGV4dENvbnRlbnQoKSxvPVNzKHQpO3ImJiFyLmRpc2FibGVMYWJlbExheW91dCYmZS5fYWRkTGFiZWwoby5kYXRhSW5kZXgsby5kYXRhVHlwZSxuLHIsaSl9KSl9LHQucHJvdG90eXBlLnVwZGF0ZUxheW91dENvbmZpZz1mdW5jdGlvbih0KXt2YXIgZT10LmdldFdpZHRoKCksbj10LmdldEhlaWdodCgpO2Z1bmN0aW9uIGkodCxlKXtyZXR1cm4gZnVuY3Rpb24oKXthYih0LGUpfX1mb3IodmFyIHI9MDtyPHRoaXMuX2xhYmVsTGlzdC5sZW5ndGg7cisrKXt2YXIgbz10aGlzLl9sYWJlbExpc3Rbcl0sYT1vLmxhYmVsLHM9YS5fX2hvc3RUYXJnZXQsbD1vLmRlZmF1bHRBdHRyLHU9dm9pZCAwO3U9KHU9ImZ1bmN0aW9uIj09dHlwZW9mIG8ubGF5b3V0T3B0aW9uP28ubGF5b3V0T3B0aW9uKHhiKG8scykpOm8ubGF5b3V0T3B0aW9uKXx8e30sby5jb21wdXRlZExheW91dE9wdGlvbj11O3ZhciBoPU1hdGguUEkvMTgwO3MmJnMuc2V0VGV4dENvbmZpZyh7bG9jYWw6ITEscG9zaXRpb246bnVsbCE9dS54fHxudWxsIT11Lnk/bnVsbDpsLmF0dGFjaGVkUG9zLHJvdGF0aW9uOm51bGwhPXUucm90YXRlP3Uucm90YXRlKmg6bC5hdHRhY2hlZFJvdCxvZmZzZXQ6W3UuZHh8fDAsdS5keXx8MF19KTt2YXIgYz0hMTtpZihudWxsIT11Lng/KGEueD1xaSh1LngsZSksYS5zZXRTdHlsZSgieCIsMCksYz0hMCk6KGEueD1sLngsYS5zZXRTdHlsZSgieCIsbC5zdHlsZS54KSksbnVsbCE9dS55PyhhLnk9cWkodS55LG4pLGEuc2V0U3R5bGUoInkiLDApLGM9ITApOihhLnk9bC55LGEuc2V0U3R5bGUoInkiLGwuc3R5bGUueSkpLHUubGFiZWxMaW5lUG9pbnRzKXt2YXIgcD1zLmdldFRleHRHdWlkZUxpbmUoKTtwJiYocC5zZXRTaGFwZSh7cG9pbnRzOnUubGFiZWxMaW5lUG9pbnRzfSksYz0hMSl9U2IoYSkubmVlZHNVcGRhdGVMYWJlbExpbmU9YyxhLnJvdGF0aW9uPW51bGwhPXUucm90YXRlP3Uucm90YXRlKmg6bC5yb3RhdGlvbixhLnNjYWxlWD1sLnNjYWxlWCxhLnNjYWxlWT1sLnNjYWxlWTtmb3IodmFyIGQ9MDtkPGJiLmxlbmd0aDtkKyspe3ZhciBmPWJiW2RdO2Euc2V0U3R5bGUoZixudWxsIT11W2ZdP3VbZl06bC5zdHlsZVtmXSl9aWYodS5kcmFnZ2FibGUpe2lmKGEuZHJhZ2dhYmxlPSEwLGEuY3Vyc29yPSJtb3ZlIixzKXt2YXIgZz1vLnNlcmllc01vZGVsO2lmKG51bGwhPW8uZGF0YUluZGV4KWc9by5zZXJpZXNNb2RlbC5nZXREYXRhKG8uZGF0YVR5cGUpLmdldEl0ZW1Nb2RlbChvLmRhdGFJbmRleCk7YS5vbigiZHJhZyIsaShzLGcuZ2V0TW9kZWwoImxhYmVsTGluZSIpKSl9fWVsc2UgYS5vZmYoImRyYWciKSxhLmN1cnNvcj1sLmN1cnNvcn19LHQucHJvdG90eXBlLmxheW91dD1mdW5jdGlvbih0KXt2YXIgZSxuPXQuZ2V0V2lkdGgoKSxpPXQuZ2V0SGVpZ2h0KCkscj1nYih0aGlzLl9sYWJlbExpc3QpLG89eihyLChmdW5jdGlvbih0KXtyZXR1cm4ic2hpZnRYIj09PXQubGF5b3V0T3B0aW9uLm1vdmVPdmVybGFwfSkpLGE9eihyLChmdW5jdGlvbih0KXtyZXR1cm4ic2hpZnRZIj09PXQubGF5b3V0T3B0aW9uLm1vdmVPdmVybGFwfSkpO3liKG8sIngiLCJ3aWR0aCIsMCxuLGUpLHZiKGEsMCxpKSxtYih6KHIsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmxheW91dE9wdGlvbi5oaWRlT3ZlcmxhcH0pKSl9LHQucHJvdG90eXBlLnByb2Nlc3NMYWJlbHNPdmVyYWxsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztPKHRoaXMuX2NoYXJ0Vmlld0xpc3QsKGZ1bmN0aW9uKGUpe3ZhciBuPWUuX19tb2RlbCxpPWUuaWdub3JlTGFiZWxMaW5lVXBkYXRlLHI9bi5pc0FuaW1hdGlvbkVuYWJsZWQoKTtlLmdyb3VwLnRyYXZlcnNlKChmdW5jdGlvbihlKXtpZihlLmlnbm9yZSYmIWUuZm9yY2VMYWJlbEFuaW1hdGlvbilyZXR1cm4hMDt2YXIgbz0haSxhPWUuZ2V0VGV4dENvbnRlbnQoKTshbyYmYSYmKG89U2IoYSkubmVlZHNVcGRhdGVMYWJlbExpbmUpLG8mJnQuX3VwZGF0ZUxhYmVsTGluZShlLG4pLHImJnQuX2FuaW1hdGVMYWJlbHMoZSxuKX0pKX0pKX0sdC5wcm90b3R5cGUuX3VwZGF0ZUxhYmVsTGluZT1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0VGV4dENvbnRlbnQoKSxpPVNzKHQpLHI9aS5kYXRhSW5kZXg7aWYobiYmbnVsbCE9cil7dmFyIG89ZS5nZXREYXRhKGkuZGF0YVR5cGUpLGE9by5nZXRJdGVtTW9kZWwocikscz17fSxsPW8uZ2V0SXRlbVZpc3VhbChyLCJzdHlsZSIpLHU9by5nZXRWaXN1YWwoImRyYXdUeXBlIik7cy5zdHJva2U9bFt1XTt2YXIgaD1hLmdldE1vZGVsKCJsYWJlbExpbmUiKTtkYih0LGZiKGEpLHMpLGFiKHQsaCl9fSx0LnByb3RvdHlwZS5fYW5pbWF0ZUxhYmVscz1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0VGV4dENvbnRlbnQoKSxpPXQuZ2V0VGV4dEd1aWRlTGluZSgpO2lmKG4mJih0LmZvcmNlTGFiZWxBbmltYXRpb258fCFuLmlnbm9yZSYmIW4uaW52aXNpYmxlJiYhdC5kaXNhYmxlTGFiZWxBbmltYXRpb24mJiFCdSh0KSkpe3ZhciByPShkPVNiKG4pKS5vbGRMYXlvdXQsbz1Tcyh0KSxhPW8uZGF0YUluZGV4LHM9e3g6bi54LHk6bi55LHJvdGF0aW9uOm4ucm90YXRpb259LGw9ZS5nZXREYXRhKG8uZGF0YVR5cGUpO2lmKHIpe24uYXR0cihyKTt2YXIgdT10LnByZXZTdGF0ZXM7dSYmKEEodSwic2VsZWN0Iik+PTAmJm4uYXR0cihkLm9sZExheW91dFNlbGVjdCksQSh1LCJlbXBoYXNpcyIpPj0wJiZuLmF0dHIoZC5vbGRMYXlvdXRFbXBoYXNpcykpLEV1KG4scyxlLGEpfWVsc2UgaWYobi5hdHRyKHMpLCFBaChuKS52YWx1ZUFuaW1hdGlvbil7dmFyIGg9ZXQobi5zdHlsZS5vcGFjaXR5LDEpO24uc3R5bGUub3BhY2l0eT0wLFZ1KG4se3N0eWxlOntvcGFjaXR5Omh9fSxlLGEpfWlmKGQub2xkTGF5b3V0PXMsbi5zdGF0ZXMuc2VsZWN0KXt2YXIgYz1kLm9sZExheW91dFNlbGVjdD17fTtJYihjLHMsVGIpLEliKGMsbi5zdGF0ZXMuc2VsZWN0LFRiKX1pZihuLnN0YXRlcy5lbXBoYXNpcyl7dmFyIHA9ZC5vbGRMYXlvdXRFbXBoYXNpcz17fTtJYihwLHMsVGIpLEliKHAsbi5zdGF0ZXMuZW1waGFzaXMsVGIpfUxoKG4sYSxsLGUsZSl9aWYoaSYmIWkuaWdub3JlJiYhaS5pbnZpc2libGUpe3I9KGQ9TWIoaSkpLm9sZExheW91dDt2YXIgZCxmPXtwb2ludHM6aS5zaGFwZS5wb2ludHN9O3I/KGkuYXR0cih7c2hhcGU6cn0pLEV1KGkse3NoYXBlOmZ9LGUpKTooaS5zZXRTaGFwZShmKSxpLnN0eWxlLnN0cm9rZVBlcmNlbnQ9MCxWdShpLHtzdHlsZTp7c3Ryb2tlUGVyY2VudDoxfX0sZSkpLGQub2xkTGF5b3V0PWZ9fSx0fSgpLERiPVJyKCk7ZnVuY3Rpb24gQWIodCl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHQpfWZ1bmN0aW9uIGtiKHQpe3ZhciBlO2lmKHQmJiJ0cmFuc3BhcmVudCIhPT10KXtpZigic3RyaW5nIj09dHlwZW9mIHQmJnQuaW5kZXhPZigicmdiYSIpPi0xKXt2YXIgbj1XZSh0KTtuJiYodD0icmdiKCIrblswXSsiLCIrblsxXSsiLCIrblsyXSsiKSIsZT1uWzNdKX19ZWxzZSB0PSJub25lIjtyZXR1cm57Y29sb3I6dCxvcGFjaXR5Om51bGw9PWU/MTplfX1mdW5jdGlvbiBMYih0LGUsbixpLHIpe2Zvcih2YXIgbz1lLmxlbmd0aCxhPW4ubGVuZ3RoLHM9dC5uZXdQb3MsbD1zLWksdT0wO3MrMTxvJiZsKzE8YSYmcihlW3MrMV0sbltsKzFdKTspcysrLGwrKyx1Kys7cmV0dXJuIHUmJnQuY29tcG9uZW50cy5wdXNoKHtjb3VudDp1LGFkZGVkOiExLHJlbW92ZWQ6ITEsaW5kaWNlczpbXX0pLHQubmV3UG9zPXMsbH1mdW5jdGlvbiBQYih0LGUsbil7dmFyIGk9dFt0Lmxlbmd0aC0xXTtpJiZpLmFkZGVkPT09ZSYmaS5yZW1vdmVkPT09bj90W3QubGVuZ3RoLTFdPXtjb3VudDppLmNvdW50KzEsYWRkZWQ6ZSxyZW1vdmVkOm4saW5kaWNlczpbXX06dC5wdXNoKHtjb3VudDoxLGFkZGVkOmUscmVtb3ZlZDpuLGluZGljZXM6W119KX1mdW5jdGlvbiBPYih0KXtmb3IodmFyIGU9MCxuPXQubGVuZ3RoLGk9MCxyPTA7ZTxuO2UrKyl7dmFyIG89dFtlXTtpZihvLnJlbW92ZWQpe2ZvcihzPXI7czxyK28uY291bnQ7cysrKW8uaW5kaWNlcy5wdXNoKHMpO3IrPW8uY291bnR9ZWxzZXtmb3IodmFyIGE9W10scz1pO3M8aStvLmNvdW50O3MrKylhLnB1c2gocyk7by5pbmRpY2VzPWEsaSs9by5jb3VudCxvLmFkZGVkfHwocis9by5jb3VudCl9fXJldHVybiB0fWZ1bmN0aW9uIFJiKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe258fChuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9PT1lfSksdD10LnNsaWNlKCk7dmFyIGk9KGU9ZS5zbGljZSgpKS5sZW5ndGgscj10Lmxlbmd0aCxvPTEsYT1pK3Iscz1be25ld1BvczotMSxjb21wb25lbnRzOltdfV0sbD1MYihzWzBdLGUsdCwwLG4pO2lmKHNbMF0ubmV3UG9zKzE+PWkmJmwrMT49cil7Zm9yKHZhciB1PVtdLGg9MDtoPGUubGVuZ3RoO2grKyl1LnB1c2goaCk7cmV0dXJuW3tpbmRpY2VzOnUsY291bnQ6ZS5sZW5ndGgsYWRkZWQ6ITEscmVtb3ZlZDohMX1dfWZ1bmN0aW9uIGMoKXtmb3IodmFyIGE9LTEqbzthPD1vO2ErPTIpe3ZhciBsLHU9c1thLTFdLGg9c1thKzFdLGM9KGg/aC5uZXdQb3M6MCktYTt1JiYoc1thLTFdPXZvaWQgMCk7dmFyIHA9dSYmdS5uZXdQb3MrMTxpLGQ9aCYmMDw9YyYmYzxyO2lmKHB8fGQpe2lmKCFwfHxkJiZ1Lm5ld1BvczxoLm5ld1Bvcz9QYigobD17bmV3UG9zOihmPWgpLm5ld1Bvcyxjb21wb25lbnRzOmYuY29tcG9uZW50cy5zbGljZSgwKX0pLmNvbXBvbmVudHMsITEsITApOigobD11KS5uZXdQb3MrKyxQYihsLmNvbXBvbmVudHMsITAsITEpKSxjPUxiKGwsZSx0LGEsbiksbC5uZXdQb3MrMT49aSYmYysxPj1yKXJldHVybiBPYihsLmNvbXBvbmVudHMpO3NbYV09bH1lbHNlIHNbYV09dm9pZCAwfXZhciBmO28rK31mb3IoO288PWE7KXt2YXIgcD1jKCk7aWYocClyZXR1cm4gcH19KHQsZSxuKX12YXIgTmI9Im5vbmUiLHpiPU1hdGgucm91bmQsRWI9TWF0aC5zaW4sVmI9TWF0aC5jb3MsQmI9TWF0aC5QSSxHYj0yKk1hdGguUEksRmI9MTgwL0JiLEhiPTFlLTQ7ZnVuY3Rpb24gV2IodCl7cmV0dXJuIHpiKDFlMyp0KS8xZTN9ZnVuY3Rpb24gVWIodCl7cmV0dXJuIHpiKDFlNCp0KS8xZTR9ZnVuY3Rpb24gWGIodCl7cmV0dXJuIHQ8SGImJnQ+LTFlLTR9ZnVuY3Rpb24gWWIodCxlKXtlJiZaYih0LCJ0cmFuc2Zvcm0iLCJtYXRyaXgoIitXYihlWzBdKSsiLCIrV2IoZVsxXSkrIiwiK1diKGVbMl0pKyIsIitXYihlWzNdKSsiLCIrVWIoZVs0XSkrIiwiK1ViKGVbNV0pKyIpIil9ZnVuY3Rpb24gWmIodCxlLG4peyghbnx8ImxpbmVhciIhPT1uLnR5cGUmJiJyYWRpYWwiIT09bi50eXBlKSYmdC5zZXRBdHRyaWJ1dGUoZSxuKX1mdW5jdGlvbiBqYih0LGUsbil7dmFyIGk9bnVsbD09ZS5vcGFjaXR5PzE6ZS5vcGFjaXR5O2lmKG4gaW5zdGFuY2VvZiBycylaYih0LCJvcGFjaXR5IixpKyIiKTtlbHNle2lmKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZmlsbDtyZXR1cm4gbnVsbCE9ZSYmZSE9PU5ifShlKSl7dmFyIHI9a2IoZS5maWxsKTtaYih0LCJmaWxsIixyLmNvbG9yKSxaYih0LCJmaWxsLW9wYWNpdHkiLChudWxsIT1lLmZpbGxPcGFjaXR5P2UuZmlsbE9wYWNpdHkqci5vcGFjaXR5Kmk6ci5vcGFjaXR5KmkpKyIiKX1lbHNlIFpiKHQsImZpbGwiLE5iKTtpZihmdW5jdGlvbih0KXt2YXIgZT10LnN0cm9rZTtyZXR1cm4gbnVsbCE9ZSYmZSE9PU5ifShlKSl7dmFyIG89a2IoZS5zdHJva2UpO1piKHQsInN0cm9rZSIsby5jb2xvcik7dmFyIGE9ZS5saW5lV2lkdGgscz1lLnN0cm9rZU5vU2NhbGU/bi5nZXRMaW5lU2NhbGUoKToxO1piKHQsInN0cm9rZS13aWR0aCIsKHM/YS9zOjApKyIiKSxaYih0LCJwYWludC1vcmRlciIsZS5zdHJva2VGaXJzdD8ic3Ryb2tlIjoiZmlsbCIpLFpiKHQsInN0cm9rZS1vcGFjaXR5IiwobnVsbCE9ZS5zdHJva2VPcGFjaXR5P2Uuc3Ryb2tlT3BhY2l0eSpvLm9wYWNpdHkqaTpvLm9wYWNpdHkqaSkrIiIpO3ZhciBsPWUubGluZURhc2gmJmE+MCYmYXkoZS5saW5lRGFzaCxhKTtpZihsKXt2YXIgdT1lLmxpbmVEYXNoT2Zmc2V0O3MmJjEhPT1zJiYobD1SKGwsKGZ1bmN0aW9uKHQpe3JldHVybiB0L3N9KSksdSYmKHU9emIodS89cykpKSxaYih0LCJzdHJva2UtZGFzaGFycmF5IixsLmpvaW4oIiwiKSksWmIodCwic3Ryb2tlLWRhc2hvZmZzZXQiLCh1fHwwKSsiIil9ZWxzZSBaYih0LCJzdHJva2UtZGFzaGFycmF5IixOYik7ZS5saW5lQ2FwJiZaYih0LCJzdHJva2UtbGluZWNhcCIsZS5saW5lQ2FwKSxlLmxpbmVKb2luJiZaYih0LCJzdHJva2UtbGluZWpvaW4iLGUubGluZUpvaW4pLGUubWl0ZXJMaW1pdCYmWmIodCwic3Ryb2tlLW1pdGVybGltaXQiLGUubWl0ZXJMaW1pdCsiIil9ZWxzZSBaYih0LCJzdHJva2UiLE5iKX19dmFyIHFiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9kPVtdLHRoaXMuX3N0cj0iIn0sdC5wcm90b3R5cGUubW92ZVRvPWZ1bmN0aW9uKHQsZSl7dGhpcy5fYWRkKCJNIix0LGUpfSx0LnByb3RvdHlwZS5saW5lVG89ZnVuY3Rpb24odCxlKXt0aGlzLl9hZGQoIkwiLHQsZSl9LHQucHJvdG90eXBlLmJlemllckN1cnZlVG89ZnVuY3Rpb24odCxlLG4saSxyLG8pe3RoaXMuX2FkZCgiQyIsdCxlLG4saSxyLG8pfSx0LnByb3RvdHlwZS5xdWFkcmF0aWNDdXJ2ZVRvPWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMuX2FkZCgiUSIsdCxlLG4saSl9LHQucHJvdG90eXBlLmFyYz1mdW5jdGlvbih0LGUsbixpLHIsbyl7dGhpcy5lbGxpcHNlKHQsZSxuLG4sMCxpLHIsbyl9LHQucHJvdG90eXBlLmVsbGlwc2U9ZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzKXt2YXIgbD0wPT09dGhpcy5fZC5sZW5ndGgsdT1hLW8saD0hcyxjPU1hdGguYWJzKHUpLHA9WGIoYy1HYil8fChoP3U+PUdiOi11Pj1HYiksZD11PjA/dSVHYjp1JUdiK0diLGY9ITE7Zj0hIXB8fCFYYihjKSYmZD49QmI9PSEhaDt2YXIgZz1VYih0K24qVmIobykpLHk9VWIoZStpKkViKG8pKTtwJiYodT1oP0diLTFlLTQ6MWUtNC1HYixmPSEwLGwmJnRoaXMuX2QucHVzaCgiTSIsZyx5KSk7dmFyIHY9VWIodCtuKlZiKG8rdSkpLG09VWIoZStpKkViKG8rdSkpO2lmKGlzTmFOKGcpfHxpc05hTih5KXx8aXNOYU4obil8fGlzTmFOKGkpfHxpc05hTihyKXx8aXNOYU4oRmIpfHxpc05hTih2KXx8aXNOYU4obSkpcmV0dXJuIiI7dGhpcy5fZC5wdXNoKCJBIixVYihuKSxVYihpKSx6YihyKkZiKSwrZiwraCx2LG0pfSx0LnByb3RvdHlwZS5yZWN0PWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMuX2FkZCgiTSIsdCxlKSx0aGlzLl9hZGQoIkwiLHQrbixlKSx0aGlzLl9hZGQoIkwiLHQrbixlK2kpLHRoaXMuX2FkZCgiTCIsdCxlK2kpLHRoaXMuX2FkZCgiTCIsdCxlKSx0aGlzLl9hZGQoIloiKX0sdC5wcm90b3R5cGUuY2xvc2VQYXRoPWZ1bmN0aW9uKCl7dGhpcy5fZC5sZW5ndGg+MCYmdGhpcy5fYWRkKCJaIil9LHQucHJvdG90eXBlLl9hZGQ9ZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzLGwpe3RoaXMuX2QucHVzaCh0KTtmb3IodmFyIHU9MTt1PGFyZ3VtZW50cy5sZW5ndGg7dSsrKXt2YXIgaD1hcmd1bWVudHNbdV07aWYoaXNOYU4oaCkpcmV0dXJuIHZvaWQodGhpcy5faW52YWxpZD0hMCk7dGhpcy5fZC5wdXNoKFViKGgpKX19LHQucHJvdG90eXBlLmdlbmVyYXRlU3RyPWZ1bmN0aW9uKCl7dGhpcy5fc3RyPXRoaXMuX2ludmFsaWQ/IiI6dGhpcy5fZC5qb2luKCIgIiksdGhpcy5fZD1bXX0sdC5wcm90b3R5cGUuZ2V0U3RyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cn0sdH0oKSxLYj17YnJ1c2g6ZnVuY3Rpb24odCl7dmFyIGU9dC5zdHlsZSxuPXQuX19zdmdFbDtufHwobj1BYigicGF0aCIpLHQuX19zdmdFbD1uKSx0LnBhdGh8fHQuY3JlYXRlUGF0aFByb3h5KCk7dmFyIGk9dC5wYXRoO3Quc2hhcGVDaGFuZ2VkKCkmJihpLmJlZ2luUGF0aCgpLHQuYnVpbGRQYXRoKGksdC5zaGFwZSksdC5wYXRoVXBkYXRlZCgpKTt2YXIgcj1pLmdldFZlcnNpb24oKSxvPXQsYT1vLl9fc3ZnUGF0aEJ1aWxkZXI7KG8uX19zdmdQYXRoVmVyc2lvbiE9PXJ8fCFhfHx0LnN0eWxlLnN0cm9rZVBlcmNlbnQ8MSkmJihhfHwoYT1vLl9fc3ZnUGF0aEJ1aWxkZXI9bmV3IHFiKSxhLnJlc2V0KCksaS5yZWJ1aWxkUGF0aChhLHQuc3R5bGUuc3Ryb2tlUGVyY2VudCksYS5nZW5lcmF0ZVN0cigpLG8uX19zdmdQYXRoVmVyc2lvbj1yKSxaYihuLCJkIixhLmdldFN0cigpKSxqYihuLGUsdCksWWIobix0LnRyYW5zZm9ybSl9fSwkYj17YnJ1c2g6ZnVuY3Rpb24odCl7dmFyIGU9dC5zdHlsZSxuPWUuaW1hZ2U7aWYobiBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQ/bj1uLnNyYzpuIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQmJihuPW4udG9EYXRhVVJMKCkpLG4pe3ZhciBpPWUueHx8MCxyPWUueXx8MCxvPWUud2lkdGgsYT1lLmhlaWdodCxzPXQuX19zdmdFbDtzfHwocz1BYigiaW1hZ2UiKSx0Ll9fc3ZnRWw9cyksbiE9PXQuX19pbWFnZVNyYyYmKCFmdW5jdGlvbih0LGUsbil7dC5zZXRBdHRyaWJ1dGVOUygiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIsZSxuKX0ocywiaHJlZiIsbiksdC5fX2ltYWdlU3JjPW4pLFpiKHMsIndpZHRoIixvKyIiKSxaYihzLCJoZWlnaHQiLGErIiIpLFpiKHMsIngiLGkrIiIpLFpiKHMsInkiLHIrIiIpLGpiKHMsZSx0KSxZYihzLHQudHJhbnNmb3JtKX19fSxKYj17bGVmdDoic3RhcnQiLHJpZ2h0OiJlbmQiLGNlbnRlcjoibWlkZGxlIixtaWRkbGU6Im1pZGRsZSJ9O3ZhciBRYj17YnJ1c2g6ZnVuY3Rpb24odCl7dmFyIGU9dC5zdHlsZSxuPWUudGV4dDtpZihudWxsIT1uJiYobis9IiIpLG4mJiFpc05hTihlLngpJiYhaXNOYU4oZS55KSl7dmFyIGk9dC5fX3N2Z0VsO2l8fChmdW5jdGlvbih0LGUsbil7dC5zZXRBdHRyaWJ1dGVOUygiaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlIixlLG4pfShpPUFiKCJ0ZXh0IiksInhtbDpzcGFjZSIsInByZXNlcnZlIiksdC5fX3N2Z0VsPWkpO3ZhciByPWUuZm9udHx8X2k7aS5zdHlsZS5mb250PXIsaS50ZXh0Q29udGVudD1uLGpiKGksZSx0KSxZYihpLHQudHJhbnNmb3JtKTt2YXIgbz1lLnh8fDAsYT1mdW5jdGlvbih0LGUsbil7cmV0dXJuInRvcCI9PT1uP3QrPWUvMjoiYm90dG9tIj09PW4mJih0LT1lLzIpLHR9KGUueXx8MCxUaShyKSxlLnRleHRCYXNlbGluZSkscz1KYltlLnRleHRBbGlnbl18fGUudGV4dEFsaWduO1piKGksImRvbWluYW50LWJhc2VsaW5lIiwiY2VudHJhbCIpLFpiKGksInRleHQtYW5jaG9yIixzKSxaYihpLCJ4IixvKyIiKSxaYihpLCJ5IixhKyIiKX19fSx0dz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4saSxyKXt0aGlzLm5leHRJZD0wLHRoaXMuX2RvbU5hbWU9Il9kb20iLHRoaXMuY3JlYXRlRWxlbWVudD1BYix0aGlzLl96cklkPXQsdGhpcy5fc3ZnUm9vdD1lLHRoaXMuX3RhZ05hbWVzPSJzdHJpbmciPT10eXBlb2Ygbj9bbl06bix0aGlzLl9tYXJrTGFiZWw9aSxyJiYodGhpcy5fZG9tTmFtZT1yKX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0RGVmcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zdmdSb290LG49dGhpcy5fc3ZnUm9vdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGVmcyIpO2lmKDA9PT1uLmxlbmd0aCl7aWYodCl7dmFyIGk9ZS5pbnNlcnRCZWZvcmUodGhpcy5jcmVhdGVFbGVtZW50KCJkZWZzIiksZS5maXJzdENoaWxkKTtyZXR1cm4gaS5jb250YWluc3x8KGkuY29udGFpbnM9ZnVuY3Rpb24odCl7dmFyIGU9aS5jaGlsZHJlbjtpZighZSlyZXR1cm4hMTtmb3IodmFyIG49ZS5sZW5ndGgtMTtuPj0wOy0tbilpZihlW25dPT09dClyZXR1cm4hMDtyZXR1cm4hMX0pLGl9cmV0dXJuIG51bGx9cmV0dXJuIG5bMF19LHQucHJvdG90eXBlLmRvVXBkYXRlPWZ1bmN0aW9uKHQsZSl7aWYodCl7dmFyIG49dGhpcy5nZXREZWZzKCExKTtpZih0W3RoaXMuX2RvbU5hbWVdJiZuLmNvbnRhaW5zKHRbdGhpcy5fZG9tTmFtZV0pKSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlKHQpO2Vsc2V7dmFyIGk9dGhpcy5hZGQodCk7aSYmKHRbdGhpcy5fZG9tTmFtZV09aSl9fX0sdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsfSx0LnByb3RvdHlwZS5hZGREb209ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXREZWZzKCEwKTt0LnBhcmVudE5vZGUhPT1lJiZlLmFwcGVuZENoaWxkKHQpfSx0LnByb3RvdHlwZS5yZW1vdmVEb209ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXREZWZzKCExKTtlJiZ0W3RoaXMuX2RvbU5hbWVdJiYoZS5yZW1vdmVDaGlsZCh0W3RoaXMuX2RvbU5hbWVdKSx0W3RoaXMuX2RvbU5hbWVdPW51bGwpfSx0LnByb3RvdHlwZS5nZXREb21zPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXREZWZzKCExKTtpZighdClyZXR1cm5bXTt2YXIgZT1bXTtyZXR1cm4gTyh0aGlzLl90YWdOYW1lcywoZnVuY3Rpb24obil7Zm9yKHZhciBpPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUobikscj0wO3I8aS5sZW5ndGg7cisrKWUucHVzaChpW3JdKX0pKSxlfSx0LnByb3RvdHlwZS5tYXJrQWxsVW51c2VkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXREb21zKCksZT10aGlzO08odCwoZnVuY3Rpb24odCl7dFtlLl9tYXJrTGFiZWxdPSIwIn0pKX0sdC5wcm90b3R5cGUubWFya0RvbVVzZWQ9ZnVuY3Rpb24odCl7dCYmKHRbdGhpcy5fbWFya0xhYmVsXT0iMSIpfSx0LnByb3RvdHlwZS5tYXJrRG9tVW51c2VkPWZ1bmN0aW9uKHQpe3QmJih0W3RoaXMuX21hcmtMYWJlbF09IjAiKX0sdC5wcm90b3R5cGUuaXNEb21VbnVzZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiIxIiE9PXRbdGhpcy5fbWFya0xhYmVsXX0sdC5wcm90b3R5cGUucmVtb3ZlVW51c2VkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMuZ2V0RGVmcyghMSk7ZSYmTyh0aGlzLmdldERvbXMoKSwoZnVuY3Rpb24obil7dC5pc0RvbVVudXNlZChuKSYmZS5yZW1vdmVDaGlsZChuKX0pKX0sdC5wcm90b3R5cGUuZ2V0U3ZnUHJveHk9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBRYT9LYjp0IGluc3RhbmNlb2YgcnM/JGI6dCBpbnN0YW5jZW9mIGVzP1FiOktifSx0LnByb3RvdHlwZS5nZXRTdmdFbGVtZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fc3ZnRWx9LHR9KCk7ZnVuY3Rpb24gZXcodCl7cmV0dXJuImxpbmVhciI9PT10LnR5cGV9ZnVuY3Rpb24gbncodCl7cmV0dXJuInJhZGlhbCI9PT10LnR5cGV9ZnVuY3Rpb24gaXcodCl7cmV0dXJuIHQmJigibGluZWFyIj09PXQudHlwZXx8InJhZGlhbCI9PT10LnR5cGUpfXZhciBydz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7cmV0dXJuIHQuY2FsbCh0aGlzLGUsbixbImxpbmVhckdyYWRpZW50IiwicmFkaWFsR3JhZGllbnQiXSwiX19ncmFkaWVudF9pbl91c2VfXyIpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuYWRkV2l0aG91dFVwZGF0ZT1mdW5jdGlvbih0LGUpe2lmKGUmJmUuc3R5bGUpe3ZhciBuPXRoaXM7TyhbImZpbGwiLCJzdHJva2UiXSwoZnVuY3Rpb24oaSl7dmFyIHI9ZS5zdHlsZVtpXTtpZihpdyhyKSl7dmFyIG89cixhPW4uZ2V0RGVmcyghMCkscz12b2lkIDA7by5fX2RvbT8ocz1vLl9fZG9tLGEuY29udGFpbnMoby5fX2RvbSl8fG4uYWRkRG9tKHMpKTpzPW4uYWRkKG8pLG4ubWFya1VzZWQoZSk7dmFyIGw9cy5nZXRBdHRyaWJ1dGUoImlkIik7dC5zZXRBdHRyaWJ1dGUoaSwidXJsKCMiK2wrIikiKX19KSl9fSxlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dmFyIGU7aWYoZXcodCkpZT10aGlzLmNyZWF0ZUVsZW1lbnQoImxpbmVhckdyYWRpZW50Iik7ZWxzZXtpZighbncodCkpcmV0dXJuIHcoIklsbGVnYWwgZ3JhZGllbnQgdHlwZS4iKSxudWxsO2U9dGhpcy5jcmVhdGVFbGVtZW50KCJyYWRpYWxHcmFkaWVudCIpfXJldHVybiB0LmlkPXQuaWR8fHRoaXMubmV4dElkKyssZS5zZXRBdHRyaWJ1dGUoImlkIiwienIiK3RoaXMuX3pySWQrIi1ncmFkaWVudC0iK3QuaWQpLHRoaXMudXBkYXRlRG9tKHQsZSksdGhpcy5hZGREb20oZSksZX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe2lmKGl3KHQpKXt2YXIgZT10aGlzO3RoaXMuZG9VcGRhdGUodCwoZnVuY3Rpb24oKXt2YXIgbj10Ll9fZG9tO2lmKG4pe3ZhciBpPW4udGFnTmFtZSxyPXQudHlwZTsibGluZWFyIj09PXImJiJsaW5lYXJHcmFkaWVudCI9PT1pfHwicmFkaWFsIj09PXImJiJyYWRpYWxHcmFkaWVudCI9PT1pP2UudXBkYXRlRG9tKHQsdC5fX2RvbSk6KGUucmVtb3ZlRG9tKHQpLGUuYWRkKHQpKX19KSl9fSxlLnByb3RvdHlwZS51cGRhdGVEb209ZnVuY3Rpb24odCxlKXtpZihldyh0KSllLnNldEF0dHJpYnV0ZSgieDEiLHQueCsiIiksZS5zZXRBdHRyaWJ1dGUoInkxIix0LnkrIiIpLGUuc2V0QXR0cmlidXRlKCJ4MiIsdC54MisiIiksZS5zZXRBdHRyaWJ1dGUoInkyIix0LnkyKyIiKTtlbHNle2lmKCFudyh0KSlyZXR1cm4gdm9pZCB3KCJJbGxlZ2FsIGdyYWRpZW50IHR5cGUuIik7ZS5zZXRBdHRyaWJ1dGUoImN4Iix0LngrIiIpLGUuc2V0QXR0cmlidXRlKCJjeSIsdC55KyIiKSxlLnNldEF0dHJpYnV0ZSgiciIsdC5yKyIiKX10Lmdsb2JhbD9lLnNldEF0dHJpYnV0ZSgiZ3JhZGllbnRVbml0cyIsInVzZXJTcGFjZU9uVXNlIik6ZS5zZXRBdHRyaWJ1dGUoImdyYWRpZW50VW5pdHMiLCJvYmplY3RCb3VuZGluZ0JveCIpLGUuaW5uZXJIVE1MPSIiO2Zvcih2YXIgbj10LmNvbG9yU3RvcHMsaT0wLHI9bi5sZW5ndGg7aTxyOysraSl7dmFyIG89dGhpcy5jcmVhdGVFbGVtZW50KCJzdG9wIik7by5zZXRBdHRyaWJ1dGUoIm9mZnNldCIsMTAwKm5baV0ub2Zmc2V0KyIlIik7dmFyIGE9bltpXS5jb2xvcjtpZihhLmluZGV4T2YoInJnYmEiKT4tMSl7dmFyIHM9V2UoYSlbM10sbD1ZZShhKTtvLnNldEF0dHJpYnV0ZSgic3RvcC1jb2xvciIsIiMiK2wpLG8uc2V0QXR0cmlidXRlKCJzdG9wLW9wYWNpdHkiLHMrIiIpfWVsc2Ugby5zZXRBdHRyaWJ1dGUoInN0b3AtY29sb3IiLG5baV0uY29sb3IpO2UuYXBwZW5kQ2hpbGQobyl9dC5fX2RvbT1lfSxlLnByb3RvdHlwZS5tYXJrVXNlZD1mdW5jdGlvbihlKXtpZihlLnN0eWxlKXt2YXIgbj1lLnN0eWxlLmZpbGw7biYmbi5fX2RvbSYmdC5wcm90b3R5cGUubWFya0RvbVVzZWQuY2FsbCh0aGlzLG4uX19kb20pLChuPWUuc3R5bGUuc3Ryb2tlKSYmbi5fX2RvbSYmdC5wcm90b3R5cGUubWFya0RvbVVzZWQuY2FsbCh0aGlzLG4uX19kb20pfX0sZX0odHcpO2Z1bmN0aW9uIG93KHQpe3JldHVybiB0JiYoISF0LmltYWdlfHwhIXQuc3ZnRWxlbWVudCl9dmFyIGF3PW5ldyBZZyxzdz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7cmV0dXJuIHQuY2FsbCh0aGlzLGUsbixbInBhdHRlcm4iXSwiX19wYXR0ZXJuX2luX3VzZV9fIil8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5hZGRXaXRob3V0VXBkYXRlPWZ1bmN0aW9uKHQsZSl7aWYoZSYmZS5zdHlsZSl7dmFyIG49dGhpcztPKFsiZmlsbCIsInN0cm9rZSJdLChmdW5jdGlvbihpKXt2YXIgcj1lLnN0eWxlW2ldO2lmKG93KHIpKXt2YXIgbz1uLmdldERlZnMoITApLGE9YXcuZ2V0KHIpO2E/by5jb250YWlucyhhKXx8bi5hZGREb20oYSk6YT1uLmFkZChyKSxuLm1hcmtVc2VkKGUpO3ZhciBzPWEuZ2V0QXR0cmlidXRlKCJpZCIpO3Quc2V0QXR0cmlidXRlKGksInVybCgjIitzKyIpIil9fSkpfX0sZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe2lmKG93KHQpKXt2YXIgZT10aGlzLmNyZWF0ZUVsZW1lbnQoInBhdHRlcm4iKTtyZXR1cm4gdC5pZD1udWxsPT10LmlkP3RoaXMubmV4dElkKys6dC5pZCxlLnNldEF0dHJpYnV0ZSgiaWQiLCJ6ciIrdGhpcy5fenJJZCsiLXBhdHRlcm4tIit0LmlkKSxlLnNldEF0dHJpYnV0ZSgieCIsIjAiKSxlLnNldEF0dHJpYnV0ZSgieSIsIjAiKSxlLnNldEF0dHJpYnV0ZSgicGF0dGVyblVuaXRzIiwidXNlclNwYWNlT25Vc2UiKSx0aGlzLnVwZGF0ZURvbSh0LGUpLHRoaXMuYWRkRG9tKGUpLGV9fSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7aWYob3codCkpe3ZhciBlPXRoaXM7dGhpcy5kb1VwZGF0ZSh0LChmdW5jdGlvbigpe3ZhciBuPWF3LmdldCh0KTtlLnVwZGF0ZURvbSh0LG4pfSkpfX0sZS5wcm90b3R5cGUudXBkYXRlRG9tPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5zdmdFbGVtZW50O2lmKG4gaW5zdGFuY2VvZiBTVkdFbGVtZW50KW4ucGFyZW50Tm9kZSE9PWUmJihlLmlubmVySFRNTD0iIixlLmFwcGVuZENoaWxkKG4pLGUuc2V0QXR0cmlidXRlKCJ3aWR0aCIsdC5zdmdXaWR0aCsiIiksZS5zZXRBdHRyaWJ1dGUoImhlaWdodCIsdC5zdmdIZWlnaHQrIiIpKTtlbHNle3ZhciBpPXZvaWQgMCxyPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImltYWdlIik7aWYoci5sZW5ndGgpe2lmKCF0LmltYWdlKXJldHVybiB2b2lkIGUucmVtb3ZlQ2hpbGQoclswXSk7aT1yWzBdfWVsc2UgdC5pbWFnZSYmKGk9dGhpcy5jcmVhdGVFbGVtZW50KCJpbWFnZSIpKTtpZihpKXt2YXIgbz12b2lkIDAsYT10LmltYWdlO2lmKCJzdHJpbmciPT10eXBlb2YgYT9vPWE6YSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQ/bz1hLnNyYzphIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQmJihvPWEudG9EYXRhVVJMKCkpLG8pe2kuc2V0QXR0cmlidXRlKCJocmVmIixvKSxpLnNldEF0dHJpYnV0ZSgieCIsIjAiKSxpLnNldEF0dHJpYnV0ZSgieSIsIjAiKTt2YXIgcz1vbyhvLGkse2RpcnR5OmZ1bmN0aW9uKCl7fX0sKGZ1bmN0aW9uKHQpe2Uuc2V0QXR0cmlidXRlKCJ3aWR0aCIsdC53aWR0aCsiIiksZS5zZXRBdHRyaWJ1dGUoImhlaWdodCIsdC5oZWlnaHQrIiIpfSkpO3MmJnMud2lkdGgmJnMuaGVpZ2h0JiYoZS5zZXRBdHRyaWJ1dGUoIndpZHRoIixzLndpZHRoKyIiKSxlLnNldEF0dHJpYnV0ZSgiaGVpZ2h0IixzLmhlaWdodCsiIikpLGUuYXBwZW5kQ2hpbGQoaSl9fX12YXIgbD0idHJhbnNsYXRlKCIrKHQueHx8MCkrIiwgIisodC55fHwwKSsiKSByb3RhdGUoIisodC5yb3RhdGlvbnx8MCkvTWF0aC5QSSoxODArIikgc2NhbGUoIisodC5zY2FsZVh8fDEpKyIsICIrKHQuc2NhbGVZfHwxKSsiKSI7ZS5zZXRBdHRyaWJ1dGUoInBhdHRlcm5UcmFuc2Zvcm0iLGwpLGF3LnNldCh0LGUpfSxlLnByb3RvdHlwZS5tYXJrVXNlZD1mdW5jdGlvbihlKXtlLnN0eWxlJiYob3coZS5zdHlsZS5maWxsKSYmdC5wcm90b3R5cGUubWFya0RvbVVzZWQuY2FsbCh0aGlzLGF3LmdldChlLnN0eWxlLmZpbGwpKSxvdyhlLnN0eWxlLnN0cm9rZSkmJnQucHJvdG90eXBlLm1hcmtEb21Vc2VkLmNhbGwodGhpcyxhdy5nZXQoZS5zdHlsZS5zdHJva2UpKSl9LGV9KHR3KTtmdW5jdGlvbiBsdyh0KXt2YXIgZT10Ll9fY2xpcFBhdGhzO3JldHVybiBlJiZlLmxlbmd0aD4wfXZhciB1dz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk9dC5jYWxsKHRoaXMsZSxuLCJjbGlwUGF0aCIsIl9fY2xpcHBhdGhfaW5fdXNlX18iKXx8dGhpcztyZXR1cm4gaS5fcmVmR3JvdXBzPXt9LGkuX2tleUR1cGxpY2F0ZUNvdW50PXt9LGl9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5tYXJrQWxsVW51c2VkPWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUubWFya0FsbFVudXNlZC5jYWxsKHRoaXMpO3ZhciBlPXRoaXMuX3JlZkdyb3Vwcztmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiZ0aGlzLm1hcmtEb21VbnVzZWQoZVtuXSk7dGhpcy5fa2V5RHVwbGljYXRlQ291bnQ9e319LGUucHJvdG90eXBlLl9nZXRDbGlwUGF0aEdyb3VwPWZ1bmN0aW9uKHQsZSl7aWYobHcodCkpe3ZhciBuPXQuX19jbGlwUGF0aHMsaT10aGlzLl9rZXlEdXBsaWNhdGVDb3VudCxyPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO2lmKHQpZm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07ZS5wdXNoKGkuaWQpfXJldHVybiBlLmpvaW4oIiwiKX0obik7cmV0dXJuIG95KG4sZSYmZS5fX2NsaXBQYXRocykmJihpW3JdPWlbcl18fDAsaVtyXSYmKHIrPSItIitpW3JdKSxpW3JdKyspLHRoaXMuX3JlZkdyb3Vwc1tyXXx8KHRoaXMuX3JlZkdyb3Vwc1tyXT10aGlzLmNyZWF0ZUVsZW1lbnQoImciKSl9fSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9nZXRDbGlwUGF0aEdyb3VwKHQsZSk7cmV0dXJuIG4mJih0aGlzLm1hcmtEb21Vc2VkKG4pLHRoaXMudXBkYXRlRG9tKG4sdC5fX2NsaXBQYXRocykpLG59LGUucHJvdG90eXBlLnVwZGF0ZURvbT1mdW5jdGlvbih0LGUpe2lmKGUmJmUubGVuZ3RoPjApe3ZhciBuPXRoaXMuZ2V0RGVmcyghMCksaT1lWzBdLHI9dm9pZCAwLG89dm9pZCAwO2kuX2RvbT8obz1pLl9kb20uZ2V0QXR0cmlidXRlKCJpZCIpLHI9aS5fZG9tLG4uY29udGFpbnMocil8fG4uYXBwZW5kQ2hpbGQocikpOihvPSJ6ciIrdGhpcy5fenJJZCsiLWNsaXAtIit0aGlzLm5leHRJZCwrK3RoaXMubmV4dElkLChyPXRoaXMuY3JlYXRlRWxlbWVudCgiY2xpcFBhdGgiKSkuc2V0QXR0cmlidXRlKCJpZCIsbyksbi5hcHBlbmRDaGlsZChyKSxpLl9kb209ciksdGhpcy5nZXRTdmdQcm94eShpKS5icnVzaChpKTt2YXIgYT10aGlzLmdldFN2Z0VsZW1lbnQoaSk7ci5pbm5lckhUTUw9IiIsci5hcHBlbmRDaGlsZChhKSx0LnNldEF0dHJpYnV0ZSgiY2xpcC1wYXRoIiwidXJsKCMiK28rIikiKSxlLmxlbmd0aD4xJiZ0aGlzLnVwZGF0ZURvbShyLGUuc2xpY2UoMSkpfWVsc2UgdCYmdC5zZXRBdHRyaWJ1dGUoImNsaXAtcGF0aCIsIm5vbmUiKX0sZS5wcm90b3R5cGUubWFya1VzZWQ9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcztlLl9fY2xpcFBhdGhzJiZPKGUuX19jbGlwUGF0aHMsKGZ1bmN0aW9uKGUpe2UuX2RvbSYmdC5wcm90b3R5cGUubWFya0RvbVVzZWQuY2FsbChuLGUuX2RvbSl9KSl9LGUucHJvdG90eXBlLnJlbW92ZVVudXNlZD1mdW5jdGlvbigpe3QucHJvdG90eXBlLnJlbW92ZVVudXNlZC5jYWxsKHRoaXMpO3ZhciBlPXt9LG49dGhpcy5fcmVmR3JvdXBzO2Zvcih2YXIgaSBpbiBuKWlmKG4uaGFzT3duUHJvcGVydHkoaSkpe3ZhciByPW5baV07dGhpcy5pc0RvbVVudXNlZChyKT9yLnBhcmVudE5vZGUmJnIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKTplW2ldPXJ9dGhpcy5fcmVmR3JvdXBzPWV9LGV9KHR3KSxodz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk9dC5jYWxsKHRoaXMsZSxuLFsiZmlsdGVyIl0sIl9fZmlsdGVyX2luX3VzZV9fIiwiX3NoYWRvd0RvbSIpfHx0aGlzO3JldHVybiBpLl9zaGFkb3dEb21NYXA9e30saS5fc2hhZG93RG9tUG9vbD1bXSxpfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuX2dldEZyb21Qb29sPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc2hhZG93RG9tUG9vbC5wb3AoKTtpZighdCl7KHQ9dGhpcy5jcmVhdGVFbGVtZW50KCJmaWx0ZXIiKSkuc2V0QXR0cmlidXRlKCJpZCIsInpyIit0aGlzLl96cklkKyItc2hhZG93LSIrdGhpcy5uZXh0SWQrKyk7dmFyIGU9dGhpcy5jcmVhdGVFbGVtZW50KCJmZURyb3BTaGFkb3ciKTt0LmFwcGVuZENoaWxkKGUpLHRoaXMuYWRkRG9tKHQpfXJldHVybiB0fSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXtpZihmdW5jdGlvbih0KXtyZXR1cm4gdCYmKHQuc2hhZG93Qmx1cnx8dC5zaGFkb3dPZmZzZXRYfHx0LnNoYWRvd09mZnNldFkpfShlLnN0eWxlKSl7dmFyIG49ZnVuY3Rpb24odCl7dmFyIGU9dC5zdHlsZSxuPXQuZ2V0R2xvYmFsU2NhbGUoKTtyZXR1cm5bZS5zaGFkb3dDb2xvciwoZS5zaGFkb3dCbHVyfHwwKS50b0ZpeGVkKDIpLChlLnNoYWRvd09mZnNldFh8fDApLnRvRml4ZWQoMiksKGUuc2hhZG93T2Zmc2V0WXx8MCkudG9GaXhlZCgyKSxuWzBdLG5bMV1dLmpvaW4oIiwiKX0oZSksaT1lLl9zaGFkb3dEb209dGhpcy5fc2hhZG93RG9tTWFwW25dO2l8fChpPXRoaXMuX2dldEZyb21Qb29sKCksdGhpcy5fc2hhZG93RG9tTWFwW25dPWkpLHRoaXMudXBkYXRlRG9tKHQsZSxpKX1lbHNlIHRoaXMucmVtb3ZlKHQsZSl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe251bGwhPWUuX3NoYWRvd0RvbSYmKGUuX3NoYWRvd0RvbT1udWxsLHQucmVtb3ZlQXR0cmlidXRlKCJmaWx0ZXIiKSl9LGUucHJvdG90eXBlLnVwZGF0ZURvbT1mdW5jdGlvbih0LGUsbil7dmFyIGk9bi5jaGlsZHJlblswXSxyPWUuc3R5bGUsbz1lLmdldEdsb2JhbFNjYWxlKCksYT1vWzBdLHM9b1sxXTtpZihhJiZzKXt2YXIgbD1yLnNoYWRvd09mZnNldFh8fDAsdT1yLnNoYWRvd09mZnNldFl8fDAsaD1yLnNoYWRvd0JsdXIsYz1rYihyLnNoYWRvd0NvbG9yKTtpLnNldEF0dHJpYnV0ZSgiZHgiLGwvYSsiIiksaS5zZXRBdHRyaWJ1dGUoImR5Iix1L3MrIiIpLGkuc2V0QXR0cmlidXRlKCJmbG9vZC1jb2xvciIsYy5jb2xvciksaS5zZXRBdHRyaWJ1dGUoImZsb29kLW9wYWNpdHkiLGMub3BhY2l0eSsiIik7dmFyIHA9aC8yL2ErIiAiK2gvMi9zO2kuc2V0QXR0cmlidXRlKCJzdGREZXZpYXRpb24iLHApLG4uc2V0QXR0cmlidXRlKCJ4IiwiLTEwMCUiKSxuLnNldEF0dHJpYnV0ZSgieSIsIi0xMDAlIiksbi5zZXRBdHRyaWJ1dGUoIndpZHRoIiwiMzAwJSIpLG4uc2V0QXR0cmlidXRlKCJoZWlnaHQiLCIzMDAlIiksZS5fc2hhZG93RG9tPW47dmFyIGQ9bi5nZXRBdHRyaWJ1dGUoImlkIik7dC5zZXRBdHRyaWJ1dGUoImZpbHRlciIsInVybCgjIitkKyIpIil9fSxlLnByb3RvdHlwZS5yZW1vdmVVbnVzZWQ9ZnVuY3Rpb24oKXtpZih0aGlzLmdldERlZnMoITEpKXt2YXIgdD10aGlzLl9zaGFkb3dEb21Qb29sLGU9dGhpcy5fc2hhZG93RG9tTWFwO2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJnQucHVzaChlW25dKTt0aGlzLl9zaGFkb3dEb21NYXA9e319fSxlfSh0dyk7ZnVuY3Rpb24gY3codCl7cmV0dXJuIHBhcnNlSW50KHQsMTApfWZ1bmN0aW9uIHB3KHQpe3JldHVybiB0IGluc3RhbmNlb2YgUWE/S2I6dCBpbnN0YW5jZW9mIHJzPyRiOnQgaW5zdGFuY2VvZiBlcz9RYjpLYn1mdW5jdGlvbiBkdyh0LGUpe3JldHVybiBlJiZ0JiZlLnBhcmVudE5vZGUhPT10fWZ1bmN0aW9uIGZ3KHQsZSxuKXtpZihkdyh0LGUpJiZuKXt2YXIgaT1uLm5leHRTaWJsaW5nO2k/dC5pbnNlcnRCZWZvcmUoZSxpKTp0LmFwcGVuZENoaWxkKGUpfX1mdW5jdGlvbiBndyh0LGUpe2lmKGR3KHQsZSkpe3ZhciBuPXQuZmlyc3RDaGlsZDtuP3QuaW5zZXJ0QmVmb3JlKGUsbik6dC5hcHBlbmRDaGlsZChlKX19ZnVuY3Rpb24geXcodCxlKXtlJiZ0JiZlLnBhcmVudE5vZGU9PT10JiZ0LnJlbW92ZUNoaWxkKGUpfWZ1bmN0aW9uIHZ3KHQpe3JldHVybiB0Ll9fc3ZnRWx9dmFyIG13PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixpKXt0aGlzLnR5cGU9InN2ZyIsdGhpcy5yZWZyZXNoSG92ZXI9X3coInJlZnJlc2hIb3ZlciIpLHRoaXMucGF0aFRvSW1hZ2U9X3coInBhdGhUb0ltYWdlIiksdGhpcy5jb25maWdMYXllcj1fdygiY29uZmlnTGF5ZXIiKSx0aGlzLnJvb3Q9dCx0aGlzLnN0b3JhZ2U9ZSx0aGlzLl9vcHRzPW49VCh7fSxufHx7fSk7dmFyIHI9QWIoInN2ZyIpO3Iuc2V0QXR0cmlidXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvIiwieG1sbnMiLCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIpLHIuc2V0QXR0cmlidXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvIiwieG1sbnM6eGxpbmsiLCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiksci5zZXRBdHRyaWJ1dGUoInZlcnNpb24iLCIxLjEiKSxyLnNldEF0dHJpYnV0ZSgiYmFzZVByb2ZpbGUiLCJmdWxsIiksci5zdHlsZS5jc3NUZXh0PSJ1c2VyLXNlbGVjdDpub25lO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDsiO3ZhciBvPUFiKCJnIik7ci5hcHBlbmRDaGlsZChvKTt2YXIgYT1BYigiZyIpO3IuYXBwZW5kQ2hpbGQoYSksdGhpcy5fZ3JhZGllbnRNYW5hZ2VyPW5ldyBydyhpLGEpLHRoaXMuX3BhdHRlcm5NYW5hZ2VyPW5ldyBzdyhpLGEpLHRoaXMuX2NsaXBQYXRoTWFuYWdlcj1uZXcgdXcoaSxhKSx0aGlzLl9zaGFkb3dNYW5hZ2VyPW5ldyBodyhpLGEpO3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Muc3R5bGUuY3NzVGV4dD0ib3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlIix0aGlzLl9zdmdEb209cix0aGlzLl9zdmdSb290PWEsdGhpcy5fYmFja2dyb3VuZFJvb3Q9byx0aGlzLl92aWV3cG9ydD1zLHQuYXBwZW5kQ2hpbGQocykscy5hcHBlbmRDaGlsZChyKSx0aGlzLnJlc2l6ZShuLndpZHRoLG4uaGVpZ2h0KSx0aGlzLl92aXNpYmxlTGlzdD1bXX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0VHlwZT1mdW5jdGlvbigpe3JldHVybiJzdmcifSx0LnByb3RvdHlwZS5nZXRWaWV3cG9ydFJvb3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlld3BvcnR9LHQucHJvdG90eXBlLmdldFN2Z0RvbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdmdEb219LHQucHJvdG90eXBlLmdldFN2Z1Jvb3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3ZnUm9vdH0sdC5wcm90b3R5cGUuZ2V0Vmlld3BvcnRSb290T2Zmc2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRWaWV3cG9ydFJvb3QoKTtpZih0KXJldHVybntvZmZzZXRMZWZ0OnQub2Zmc2V0TGVmdHx8MCxvZmZzZXRUb3A6dC5vZmZzZXRUb3B8fDB9fSx0LnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCEwKTt0aGlzLl9wYWludExpc3QodCl9LHQucHJvdG90eXBlLnNldEJhY2tncm91bmRDb2xvcj1mdW5jdGlvbih0KXt0aGlzLl9iYWNrZ3JvdW5kUm9vdCYmdGhpcy5fYmFja2dyb3VuZE5vZGUmJnRoaXMuX2JhY2tncm91bmRSb290LnJlbW92ZUNoaWxkKHRoaXMuX2JhY2tncm91bmROb2RlKTt2YXIgZT1BYigicmVjdCIpO2Uuc2V0QXR0cmlidXRlKCJ3aWR0aCIsdGhpcy5nZXRXaWR0aCgpKSxlLnNldEF0dHJpYnV0ZSgiaGVpZ2h0Iix0aGlzLmdldEhlaWdodCgpKSxlLnNldEF0dHJpYnV0ZSgieCIsMCksZS5zZXRBdHRyaWJ1dGUoInkiLDApLGUuc2V0QXR0cmlidXRlKCJpZCIsMCk7dmFyIG49a2IodCksaT1uLmNvbG9yLHI9bi5vcGFjaXR5O2Uuc2V0QXR0cmlidXRlKCJmaWxsIixpKSxlLnNldEF0dHJpYnV0ZSgiZmlsbC1vcGFjaXR5IixyKSx0aGlzLl9iYWNrZ3JvdW5kUm9vdC5hcHBlbmRDaGlsZChlKSx0aGlzLl9iYWNrZ3JvdW5kTm9kZT1lfSx0LnByb3RvdHlwZS5jcmVhdGVTVkdFbGVtZW50PWZ1bmN0aW9uKHQpe3JldHVybiBBYih0KX0sdC5wcm90b3R5cGUucGFpbnRPbmU9ZnVuY3Rpb24odCl7dmFyIGU9cHcodCk7cmV0dXJuIGUmJmUuYnJ1c2godCksdncodCl9LHQucHJvdG90eXBlLl9wYWludExpc3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZ3JhZGllbnRNYW5hZ2VyLG49dGhpcy5fcGF0dGVybk1hbmFnZXIsaT10aGlzLl9jbGlwUGF0aE1hbmFnZXIscj10aGlzLl9zaGFkb3dNYW5hZ2VyO2UubWFya0FsbFVudXNlZCgpLG4ubWFya0FsbFVudXNlZCgpLGkubWFya0FsbFVudXNlZCgpLHIubWFya0FsbFVudXNlZCgpO2Zvcih2YXIgbz10aGlzLl9zdmdSb290LGE9dGhpcy5fdmlzaWJsZUxpc3Qscz10Lmxlbmd0aCxsPVtdLHU9MDt1PHM7dSsrKXt2YXIgaD1wdyh4PXRbdV0pLGM9dncoeCk7eC5pbnZpc2libGV8fCgheC5fX2RpcnR5JiZjfHwoaCYmaC5icnVzaCh4KSwoYz12dyh4KSkmJnguc3R5bGUmJihlLnVwZGF0ZSh4LnN0eWxlLmZpbGwpLGUudXBkYXRlKHguc3R5bGUuc3Ryb2tlKSxuLnVwZGF0ZSh4LnN0eWxlLmZpbGwpLG4udXBkYXRlKHguc3R5bGUuc3Ryb2tlKSxyLnVwZGF0ZShjLHgpKSx4Ll9fZGlydHk9MCksYyYmbC5wdXNoKHgpKX12YXIgcCxkLGYsZyx5LHY9UmIoYSxsKTtmb3IodT0wO3U8di5sZW5ndGg7dSsrKXtpZigoXz12W3VdKS5yZW1vdmVkKWZvcih2YXIgbT0wO208Xy5jb3VudDttKyspe2M9dncoeD1hW18uaW5kaWNlc1ttXV0pO2x3KHgpPyhmPWMpJiZmLnBhcmVudE5vZGUmJmYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChmKTp5dyhvLGMpfX1mb3IodT0wO3U8di5sZW5ndGg7dSsrKXt2YXIgXztpZighKF89dlt1XSkucmVtb3ZlZClmb3IobT0wO208Xy5jb3VudDttKyspe3ZhciB4PWxbXy5pbmRpY2VzW21dXSxiPWkudXBkYXRlKHgsZyk7YiE9PXkmJihwPWQsYiYmKHA/ZncobyxiLHApOmd3KG8sYiksZD1iLHA9bnVsbCkseT1iKTtjPXZ3KHgpO3A/ZncoeXx8byxjLHApOmd3KHl8fG8sYykscD1jfHxwLHl8fChkPXApLGUubWFya1VzZWQoeCksZS5hZGRXaXRob3V0VXBkYXRlKGMseCksbi5tYXJrVXNlZCh4KSxuLmFkZFdpdGhvdXRVcGRhdGUoYyx4KSxpLm1hcmtVc2VkKHgpLGc9eH19ZS5yZW1vdmVVbnVzZWQoKSxuLnJlbW92ZVVudXNlZCgpLGkucmVtb3ZlVW51c2VkKCksci5yZW1vdmVVbnVzZWQoKSx0aGlzLl92aXNpYmxlTGlzdD1sfSx0LnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl92aWV3cG9ydDtuLnN0eWxlLmRpc3BsYXk9Im5vbmUiO3ZhciBpPXRoaXMuX29wdHM7aWYobnVsbCE9dCYmKGkud2lkdGg9dCksbnVsbCE9ZSYmKGkuaGVpZ2h0PWUpLHQ9dGhpcy5fZ2V0U2l6ZSgwKSxlPXRoaXMuX2dldFNpemUoMSksbi5zdHlsZS5kaXNwbGF5PSIiLHRoaXMuX3dpZHRoIT09dHx8dGhpcy5faGVpZ2h0IT09ZSl7dGhpcy5fd2lkdGg9dCx0aGlzLl9oZWlnaHQ9ZTt2YXIgcj1uLnN0eWxlO3Iud2lkdGg9dCsicHgiLHIuaGVpZ2h0PWUrInB4Ijt2YXIgbz10aGlzLl9zdmdEb207by5zZXRBdHRyaWJ1dGUoIndpZHRoIix0KyIiKSxvLnNldEF0dHJpYnV0ZSgiaGVpZ2h0IixlKyIiKX10aGlzLl9iYWNrZ3JvdW5kTm9kZSYmKHRoaXMuX2JhY2tncm91bmROb2RlLnNldEF0dHJpYnV0ZSgid2lkdGgiLHQpLHRoaXMuX2JhY2tncm91bmROb2RlLnNldEF0dHJpYnV0ZSgiaGVpZ2h0IixlKSl9LHQucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dpZHRofSx0LnByb3RvdHlwZS5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGVpZ2h0fSx0LnByb3RvdHlwZS5fZ2V0U2l6ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9vcHRzLG49WyJ3aWR0aCIsImhlaWdodCJdW3RdLGk9WyJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCJdW3RdLHI9WyJwYWRkaW5nTGVmdCIsInBhZGRpbmdUb3AiXVt0XSxvPVsicGFkZGluZ1JpZ2h0IiwicGFkZGluZ0JvdHRvbSJdW3RdO2lmKG51bGwhPWVbbl0mJiJhdXRvIiE9PWVbbl0pcmV0dXJuIHBhcnNlRmxvYXQoZVtuXSk7dmFyIGE9dGhpcy5yb290LHM9ZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShhKTtyZXR1cm4oYVtpXXx8Y3coc1tuXSl8fGN3KGEuc3R5bGVbbl0pKS0oY3coc1tyXSl8fDApLShjdyhzW29dKXx8MCl8MH0sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMucm9vdC5pbm5lckhUTUw9IiIsdGhpcy5fc3ZnUm9vdD10aGlzLl9iYWNrZ3JvdW5kUm9vdD10aGlzLl9zdmdEb209dGhpcy5fYmFja2dyb3VuZE5vZGU9dGhpcy5fdmlld3BvcnQ9dGhpcy5zdG9yYWdlPW51bGx9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdmlld3BvcnQ7dCYmdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCl9LHQucHJvdG90eXBlLnRvRGF0YVVSTD1mdW5jdGlvbigpe3RoaXMucmVmcmVzaCgpO3ZhciB0PXRoaXMuX3N2Z0RvbSxlPXQub3V0ZXJIVE1MfHwodC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUpLmlubmVySFRNTDtyZXR1cm4iZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9VVRGLTgsIitlbmNvZGVVUklDb21wb25lbnQoZS5yZXBsYWNlKC8+PC9nLCI+XG5ccjwiKSl9LHR9KCk7ZnVuY3Rpb24gX3codCl7cmV0dXJuIGZ1bmN0aW9uKCl7dygnSW4gU1ZHIG1vZGUgcGFpbnRlciBub3Qgc3VwcG9ydCBtZXRob2QgIicrdCsnIicpfX1mdW5jdGlvbiB4dygpe3JldHVybiExfWZ1bmN0aW9uIGJ3KHQsZSxuKXt2YXIgaT1EKCkscj1lLmdldFdpZHRoKCksbz1lLmdldEhlaWdodCgpLGE9aS5zdHlsZTtyZXR1cm4gYSYmKGEucG9zaXRpb249ImFic29sdXRlIixhLmxlZnQ9IjAiLGEudG9wPSIwIixhLndpZHRoPXIrInB4IixhLmhlaWdodD1vKyJweCIsaS5zZXRBdHRyaWJ1dGUoImRhdGEtenItZG9tLWlkIix0KSksaS53aWR0aD1yKm4saS5oZWlnaHQ9bypuLGl9dmFyIHd3PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkpe3ZhciByLG89dC5jYWxsKHRoaXMpfHx0aGlzO28ubW90aW9uQmx1cj0hMSxvLmxhc3RGcmFtZUFscGhhPS43LG8uZHByPTEsby52aXJ0dWFsPSExLG8uY29uZmlnPXt9LG8uaW5jcmVtZW50YWw9ITEsby56bGV2ZWw9MCxvLm1heFJlcGFpbnRSZWN0Q291bnQ9NSxvLl9fZGlydHk9ITAsby5fX2ZpcnN0VGltZVBhaW50PSEwLG8uX191c2VkPSExLG8uX19kcmF3SW5kZXg9MCxvLl9fc3RhcnRJbmRleD0wLG8uX19lbmRJbmRleD0wLG8uX19wcmV2U3RhcnRJbmRleD1udWxsLG8uX19wcmV2RW5kSW5kZXg9bnVsbCxpPWl8fFZuLCJzdHJpbmciPT10eXBlb2YgZT9yPWJ3KGUsbixpKTpZKGUpJiYoZT0ocj1lKS5pZCksby5pZD1lLG8uZG9tPXI7dmFyIGE9ci5zdHlsZTtyZXR1cm4gYSYmKHIub25zZWxlY3RzdGFydD14dyxhLndlYmtpdFVzZXJTZWxlY3Q9Im5vbmUiLGEudXNlclNlbGVjdD0ibm9uZSIsYS53ZWJraXRUYXBIaWdobGlnaHRDb2xvcj0icmdiYSgwLDAsMCwwKSIsYVsiLXdlYmtpdC10b3VjaC1jYWxsb3V0Il09Im5vbmUiLGEucGFkZGluZz0iMCIsYS5tYXJnaW49IjAiLGEuYm9yZGVyV2lkdGg9IjAiKSxvLmRvbUJhY2s9bnVsbCxvLmN0eEJhY2s9bnVsbCxvLnBhaW50ZXI9bixvLmNvbmZpZz1udWxsLG8uZHByPWksb31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEVsZW1lbnRDb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9fZW5kSW5kZXgtdGhpcy5fX3N0YXJ0SW5kZXh9LGUucHJvdG90eXBlLmFmdGVyQnJ1c2g9ZnVuY3Rpb24oKXt0aGlzLl9fcHJldlN0YXJ0SW5kZXg9dGhpcy5fX3N0YXJ0SW5kZXgsdGhpcy5fX3ByZXZFbmRJbmRleD10aGlzLl9fZW5kSW5kZXh9LGUucHJvdG90eXBlLmluaXRDb250ZXh0PWZ1bmN0aW9uKCl7dGhpcy5jdHg9dGhpcy5kb20uZ2V0Q29udGV4dCgiMmQiKSx0aGlzLmN0eC5kcHI9dGhpcy5kcHJ9LGUucHJvdG90eXBlLnNldFVucGFpbnRlZD1mdW5jdGlvbigpe3RoaXMuX19maXJzdFRpbWVQYWludD0hMH0sZS5wcm90b3R5cGUuY3JlYXRlQmFja0J1ZmZlcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZHByO3RoaXMuZG9tQmFjaz1idygiYmFjay0iK3RoaXMuaWQsdGhpcy5wYWludGVyLHQpLHRoaXMuY3R4QmFjaz10aGlzLmRvbUJhY2suZ2V0Q29udGV4dCgiMmQiKSwxIT09dCYmdGhpcy5jdHhCYWNrLnNjYWxlKHQsdCl9LGUucHJvdG90eXBlLmNyZWF0ZVJlcGFpbnRSZWN0cz1mdW5jdGlvbih0LGUsbixpKXtpZih0aGlzLl9fZmlyc3RUaW1lUGFpbnQpcmV0dXJuIHRoaXMuX19maXJzdFRpbWVQYWludD0hMSxudWxsO3ZhciByLG89W10sYT10aGlzLm1heFJlcGFpbnRSZWN0Q291bnQscz0hMSxsPW5ldyB2aSgwLDAsMCwwKTtmdW5jdGlvbiB1KHQpe2lmKHQuaXNGaW5pdGUoKSYmIXQuaXNaZXJvKCkpaWYoMD09PW8ubGVuZ3RoKXsoZT1uZXcgdmkoMCwwLDAsMCkpLmNvcHkodCksby5wdXNoKGUpfWVsc2V7Zm9yKHZhciBlLG49ITEsaT0xLzAscj0wLHU9MDt1PG8ubGVuZ3RoOysrdSl7dmFyIGg9b1t1XTtpZihoLmludGVyc2VjdCh0KSl7dmFyIGM9bmV3IHZpKDAsMCwwLDApO2MuY29weShoKSxjLnVuaW9uKHQpLG9bdV09YyxuPSEwO2JyZWFrfWlmKHMpe2wuY29weSh0KSxsLnVuaW9uKGgpO3ZhciBwPXQud2lkdGgqdC5oZWlnaHQsZD1oLndpZHRoKmguaGVpZ2h0LGY9bC53aWR0aCpsLmhlaWdodC1wLWQ7ZjxpJiYoaT1mLHI9dSl9fWlmKHMmJihvW3JdLnVuaW9uKHQpLG49ITApLCFuKShlPW5ldyB2aSgwLDAsMCwwKSkuY29weSh0KSxvLnB1c2goZSk7c3x8KHM9by5sZW5ndGg+PWEpfX1mb3IodmFyIGg9dGhpcy5fX3N0YXJ0SW5kZXg7aDx0aGlzLl9fZW5kSW5kZXg7KytoKXtpZihkPXRbaF0pe3ZhciBjPWQuc2hvdWxkQmVQYWludGVkKG4saSwhMCwhMCk7KGY9ZC5fX2lzUmVuZGVyZWQmJigxJmQuX19kaXJ0eXx8IWMpP2QuZ2V0UHJldlBhaW50UmVjdCgpOm51bGwpJiZ1KGYpO3ZhciBwPWMmJigxJmQuX19kaXJ0eXx8IWQuX19pc1JlbmRlcmVkKT9kLmdldFBhaW50UmVjdCgpOm51bGw7cCYmdShwKX19Zm9yKGg9dGhpcy5fX3ByZXZTdGFydEluZGV4O2g8dGhpcy5fX3ByZXZFbmRJbmRleDsrK2gpe3ZhciBkLGY7Yz0oZD1lW2hdKS5zaG91bGRCZVBhaW50ZWQobixpLCEwLCEwKTtpZihkJiYoIWN8fCFkLl9fenIpJiZkLl9faXNSZW5kZXJlZCkoZj1kLmdldFByZXZQYWludFJlY3QoKSkmJnUoZil9ZG97cj0hMTtmb3IoaD0wO2g8by5sZW5ndGg7KWlmKG9baF0uaXNaZXJvKCkpby5zcGxpY2UoaCwxKTtlbHNle2Zvcih2YXIgZz1oKzE7ZzxvLmxlbmd0aDspb1toXS5pbnRlcnNlY3Qob1tnXSk/KHI9ITAsb1toXS51bmlvbihvW2ddKSxvLnNwbGljZShnLDEpKTpnKys7aCsrfX13aGlsZShyKTtyZXR1cm4gdGhpcy5fcGFpbnRSZWN0cz1vLG99LGUucHJvdG90eXBlLmRlYnVnR2V0UGFpbnRSZWN0cz1mdW5jdGlvbigpe3JldHVybih0aGlzLl9wYWludFJlY3RzfHxbXSkuc2xpY2UoKX0sZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5kcHIsaT10aGlzLmRvbSxyPWkuc3R5bGUsbz10aGlzLmRvbUJhY2s7ciYmKHIud2lkdGg9dCsicHgiLHIuaGVpZ2h0PWUrInB4IiksaS53aWR0aD10Km4saS5oZWlnaHQ9ZSpuLG8mJihvLndpZHRoPXQqbixvLmhlaWdodD1lKm4sMSE9PW4mJnRoaXMuY3R4QmFjay5zY2FsZShuLG4pKX0sZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuZG9tLHI9dGhpcy5jdHgsbz1pLndpZHRoLGE9aS5oZWlnaHQ7ZT1lfHx0aGlzLmNsZWFyQ29sb3I7dmFyIHM9dGhpcy5tb3Rpb25CbHVyJiYhdCxsPXRoaXMubGFzdEZyYW1lQWxwaGEsdT10aGlzLmRwcixoPXRoaXM7cyYmKHRoaXMuZG9tQmFja3x8dGhpcy5jcmVhdGVCYWNrQnVmZmVyKCksdGhpcy5jdHhCYWNrLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj0iY29weSIsdGhpcy5jdHhCYWNrLmRyYXdJbWFnZShpLDAsMCxvL3UsYS91KSk7dmFyIGM9dGhpcy5kb21CYWNrO2Z1bmN0aW9uIHAodCxuLGksbyl7aWYoci5jbGVhclJlY3QodCxuLGksbyksZSYmInRyYW5zcGFyZW50IiE9PWUpe3ZhciBhPXZvaWQgMDtLKGUpPyhhPWUuX19jYW52YXNHcmFkaWVudHx8cnkocixlLHt4OjAseTowLHdpZHRoOmksaGVpZ2h0Om99KSxlLl9fY2FudmFzR3JhZGllbnQ9YSk6JChlKSYmKGE9ZHkocixlLHtkaXJ0eTpmdW5jdGlvbigpe2guc2V0VW5wYWludGVkKCksaC5fX3BhaW50ZXIucmVmcmVzaCgpfX0pKSxyLnNhdmUoKSxyLmZpbGxTdHlsZT1hfHxlLHIuZmlsbFJlY3QodCxuLGksbyksci5yZXN0b3JlKCl9cyYmKHIuc2F2ZSgpLHIuZ2xvYmFsQWxwaGE9bCxyLmRyYXdJbWFnZShjLHQsbixpLG8pLHIucmVzdG9yZSgpKX0hbnx8cz9wKDAsMCxvLGEpOm4ubGVuZ3RoJiZPKG4sKGZ1bmN0aW9uKHQpe3AodC54KnUsdC55KnUsdC53aWR0aCp1LHQuaGVpZ2h0KnUpfSkpfSxlfShGdCksU3c9MWU1LE13PTMxNDE1OSxJdz0uMDE7ZnVuY3Rpb24gVHcodCl7cmV0dXJuIHBhcnNlSW50KHQsMTApfXZhciBDdz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4saSl7dGhpcy50eXBlPSJjYW52YXMiLHRoaXMuX3psZXZlbExpc3Q9W10sdGhpcy5fcHJldkRpc3BsYXlMaXN0PVtdLHRoaXMuX2xheWVycz17fSx0aGlzLl9sYXllckNvbmZpZz17fSx0aGlzLl9uZWVkc01hbnVhbGx5Q29tcG9zaXRpbmc9ITEsdGhpcy50eXBlPSJjYW52YXMiO3ZhciByPSF0Lm5vZGVOYW1lfHwiQ0FOVkFTIj09PXQubm9kZU5hbWUudG9VcHBlckNhc2UoKTt0aGlzLl9vcHRzPW49VCh7fSxufHx7fSksdGhpcy5kcHI9bi5kZXZpY2VQaXhlbFJhdGlvfHxWbix0aGlzLl9zaW5nbGVDYW52YXM9cix0aGlzLnJvb3Q9dDt2YXIgbz10LnN0eWxlO28mJihvLndlYmtpdFRhcEhpZ2hsaWdodENvbG9yPSJ0cmFuc3BhcmVudCIsby53ZWJraXRVc2VyU2VsZWN0PSJub25lIixvLnVzZXJTZWxlY3Q9Im5vbmUiLG9bIi13ZWJraXQtdG91Y2gtY2FsbG91dCJdPSJub25lIix0LmlubmVySFRNTD0iIiksdGhpcy5zdG9yYWdlPWU7dmFyIGE9dGhpcy5femxldmVsTGlzdDt0aGlzLl9wcmV2RGlzcGxheUxpc3Q9W107dmFyIHM9dGhpcy5fbGF5ZXJzO2lmKHIpe3ZhciBsPXQsdT1sLndpZHRoLGg9bC5oZWlnaHQ7bnVsbCE9bi53aWR0aCYmKHU9bi53aWR0aCksbnVsbCE9bi5oZWlnaHQmJihoPW4uaGVpZ2h0KSx0aGlzLmRwcj1uLmRldmljZVBpeGVsUmF0aW98fDEsbC53aWR0aD11KnRoaXMuZHByLGwuaGVpZ2h0PWgqdGhpcy5kcHIsdGhpcy5fd2lkdGg9dSx0aGlzLl9oZWlnaHQ9aDt2YXIgYz1uZXcgd3cobCx0aGlzLHRoaXMuZHByKTtjLl9fYnVpbHRpbl9fPSEwLGMuaW5pdENvbnRleHQoKSxzWzMxNDE1OV09YyxjLnpsZXZlbD1NdyxhLnB1c2goTXcpLHRoaXMuX2RvbVJvb3Q9dH1lbHNle3RoaXMuX3dpZHRoPXRoaXMuX2dldFNpemUoMCksdGhpcy5faGVpZ2h0PXRoaXMuX2dldFNpemUoMSk7dmFyIHA9dGhpcy5fZG9tUm9vdD1mdW5jdGlvbih0LGUpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBuLnN0eWxlLmNzc1RleHQ9WyJwb3NpdGlvbjpyZWxhdGl2ZSIsIndpZHRoOiIrdCsicHgiLCJoZWlnaHQ6IitlKyJweCIsInBhZGRpbmc6MCIsIm1hcmdpbjowIiwiYm9yZGVyLXdpZHRoOjAiXS5qb2luKCI7IikrIjsiLG59KHRoaXMuX3dpZHRoLHRoaXMuX2hlaWdodCk7dC5hcHBlbmRDaGlsZChwKX19cmV0dXJuIHQucHJvdG90eXBlLmdldFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4iY2FudmFzIn0sdC5wcm90b3R5cGUuaXNTaW5nbGVDYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2luZ2xlQ2FudmFzfSx0LnByb3RvdHlwZS5nZXRWaWV3cG9ydFJvb3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZG9tUm9vdH0sdC5wcm90b3R5cGUuZ2V0Vmlld3BvcnRSb290T2Zmc2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRWaWV3cG9ydFJvb3QoKTtpZih0KXJldHVybntvZmZzZXRMZWZ0OnQub2Zmc2V0TGVmdHx8MCxvZmZzZXRUb3A6dC5vZmZzZXRUb3B8fDB9fSx0LnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RvcmFnZS5nZXREaXNwbGF5TGlzdCghMCksbj10aGlzLl9wcmV2RGlzcGxheUxpc3QsaT10aGlzLl96bGV2ZWxMaXN0O3RoaXMuX3JlZHJhd0lkPU1hdGgucmFuZG9tKCksdGhpcy5fcGFpbnRMaXN0KGUsbix0LHRoaXMuX3JlZHJhd0lkKTtmb3IodmFyIHI9MDtyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXSxhPXRoaXMuX2xheWVyc1tvXTtpZighYS5fX2J1aWx0aW5fXyYmYS5yZWZyZXNoKXt2YXIgcz0wPT09cj90aGlzLl9iYWNrZ3JvdW5kQ29sb3I6bnVsbDthLnJlZnJlc2gocyl9fXJldHVybiB0aGlzLl9vcHRzLnVzZURpcnR5UmVjdCYmKHRoaXMuX3ByZXZEaXNwbGF5TGlzdD1lLnNsaWNlKCkpLHRoaXN9LHQucHJvdG90eXBlLnJlZnJlc2hIb3Zlcj1mdW5jdGlvbigpe3RoaXMuX3BhaW50SG92ZXJMaXN0KHRoaXMuc3RvcmFnZS5nZXREaXNwbGF5TGlzdCghMSkpfSx0LnByb3RvdHlwZS5fcGFpbnRIb3Zlckxpc3Q9ZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGgsbj10aGlzLl9ob3ZlcmxheWVyO2lmKG4mJm4uY2xlYXIoKSxlKXtmb3IodmFyIGkscj17aW5Ib3ZlcjohMCx2aWV3V2lkdGg6dGhpcy5fd2lkdGgsdmlld0hlaWdodDp0aGlzLl9oZWlnaHR9LG89MDtvPGU7bysrKXt2YXIgYT10W29dO2EuX19pbkhvdmVyJiYobnx8KG49dGhpcy5faG92ZXJsYXllcj10aGlzLmdldExheWVyKFN3KSksaXx8KGk9bi5jdHgpLnNhdmUoKSx3eShpLGEscixvPT09ZS0xKSl9aSYmaS5yZXN0b3JlKCl9fSx0LnByb3RvdHlwZS5nZXRIb3ZlckxheWVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TGF5ZXIoU3cpfSx0LnByb3RvdHlwZS5wYWludE9uZT1mdW5jdGlvbih0LGUpe2J5KHQsZSl9LHQucHJvdG90eXBlLl9wYWludExpc3Q9ZnVuY3Rpb24odCxlLG4saSl7aWYodGhpcy5fcmVkcmF3SWQ9PT1pKXtuPW58fCExLHRoaXMuX3VwZGF0ZUxheWVyU3RhdHVzKHQpO3ZhciByPXRoaXMuX2RvUGFpbnRMaXN0KHQsZSxuKSxvPXIuZmluaXNoZWQsYT1yLm5lZWRzUmVmcmVzaEhvdmVyO2lmKHRoaXMuX25lZWRzTWFudWFsbHlDb21wb3NpdGluZyYmdGhpcy5fY29tcG9zaXRlTWFudWFsbHkoKSxhJiZ0aGlzLl9wYWludEhvdmVyTGlzdCh0KSxvKXRoaXMuZWFjaExheWVyKChmdW5jdGlvbih0KXt0LmFmdGVyQnJ1c2gmJnQuYWZ0ZXJCcnVzaCgpfSkpO2Vsc2V7dmFyIHM9dGhpcztJZSgoZnVuY3Rpb24oKXtzLl9wYWludExpc3QodCxlLG4saSl9KSl9fX0sdC5wcm90b3R5cGUuX2NvbXBvc2l0ZU1hbnVhbGx5PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRMYXllcihNdykuY3R4LGU9dGhpcy5fZG9tUm9vdC53aWR0aCxuPXRoaXMuX2RvbVJvb3QuaGVpZ2h0O3QuY2xlYXJSZWN0KDAsMCxlLG4pLHRoaXMuZWFjaEJ1aWx0aW5MYXllcigoZnVuY3Rpb24oaSl7aS52aXJ0dWFsJiZ0LmRyYXdJbWFnZShpLmRvbSwwLDAsZSxuKX0pKX0sdC5wcm90b3R5cGUuX2RvUGFpbnRMaXN0PWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9dGhpcyxyPVtdLG89dGhpcy5fb3B0cy51c2VEaXJ0eVJlY3Qscz0wO3M8dGhpcy5femxldmVsTGlzdC5sZW5ndGg7cysrKXt2YXIgbD10aGlzLl96bGV2ZWxMaXN0W3NdLHU9dGhpcy5fbGF5ZXJzW2xdO3UuX19idWlsdGluX18mJnUhPT10aGlzLl9ob3ZlcmxheWVyJiYodS5fX2RpcnR5fHxuKSYmci5wdXNoKHUpfWZvcih2YXIgaD0hMCxjPSExLHA9ZnVuY3Rpb24oYSl7dmFyIHMsbD1yW2FdLHU9bC5jdHgscD1vJiZsLmNyZWF0ZVJlcGFpbnRSZWN0cyh0LGUsZC5fd2lkdGgsZC5faGVpZ2h0KSxmPW4/bC5fX3N0YXJ0SW5kZXg6bC5fX2RyYXdJbmRleCxnPSFuJiZsLmluY3JlbWVudGFsJiZEYXRlLm5vdyx5PWcmJkRhdGUubm93KCksdj1sLnpsZXZlbD09PWQuX3psZXZlbExpc3RbMF0/ZC5fYmFja2dyb3VuZENvbG9yOm51bGw7aWYobC5fX3N0YXJ0SW5kZXg9PT1sLl9fZW5kSW5kZXgpbC5jbGVhcighMSx2LHApO2Vsc2UgaWYoZj09PWwuX19zdGFydEluZGV4KXt2YXIgbT10W2ZdO20uaW5jcmVtZW50YWwmJm0ubm90Q2xlYXImJiFufHxsLmNsZWFyKCExLHYscCl9LTE9PT1mJiYoY29uc29sZS5lcnJvcigiRm9yIHNvbWUgdW5rbm93biByZWFzb24uIGRyYXdJbmRleCBpcyAtMSIpLGY9bC5fX3N0YXJ0SW5kZXgpO3ZhciBfPWZ1bmN0aW9uKGUpe3ZhciBuPXtpbkhvdmVyOiExLGFsbENsaXBwZWQ6ITEscHJldkVsOm51bGwsdmlld1dpZHRoOmkuX3dpZHRoLHZpZXdIZWlnaHQ6aS5faGVpZ2h0fTtmb3Iocz1mO3M8bC5fX2VuZEluZGV4O3MrKyl7dmFyIHI9dFtzXTtpZihyLl9faW5Ib3ZlciYmKGM9ITApLGkuX2RvUGFpbnRFbChyLGwsbyxlLG4scz09PWwuX19lbmRJbmRleC0xKSxnKWlmKERhdGUubm93KCkteT4xNSlicmVha31uLnByZXZFbENsaXBQYXRocyYmdS5yZXN0b3JlKCl9O2lmKHApaWYoMD09PXAubGVuZ3RoKXM9bC5fX2VuZEluZGV4O2Vsc2UgZm9yKHZhciB4PWQuZHByLGI9MDtiPHAubGVuZ3RoOysrYil7dmFyIHc9cFtiXTt1LnNhdmUoKSx1LmJlZ2luUGF0aCgpLHUucmVjdCh3LngqeCx3LnkqeCx3LndpZHRoKngsdy5oZWlnaHQqeCksdS5jbGlwKCksXyh3KSx1LnJlc3RvcmUoKX1lbHNlIHUuc2F2ZSgpLF8oKSx1LnJlc3RvcmUoKTtsLl9fZHJhd0luZGV4PXMsbC5fX2RyYXdJbmRleDxsLl9fZW5kSW5kZXgmJihoPSExKX0sZD10aGlzLGY9MDtmPHIubGVuZ3RoO2YrKylwKGYpO3JldHVybiBhLnd4YSYmTyh0aGlzLl9sYXllcnMsKGZ1bmN0aW9uKHQpe3QmJnQuY3R4JiZ0LmN0eC5kcmF3JiZ0LmN0eC5kcmF3KCl9KSkse2ZpbmlzaGVkOmgsbmVlZHNSZWZyZXNoSG92ZXI6Y319LHQucHJvdG90eXBlLl9kb1BhaW50RWw9ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhPWUuY3R4O2lmKG4pe3ZhciBzPXQuZ2V0UGFpbnRSZWN0KCk7KCFpfHxzJiZzLmludGVyc2VjdChpKSkmJih3eShhLHQscixvKSx0LnNldFByZXZQYWludFJlY3QocykpfWVsc2Ugd3koYSx0LHIsbyl9LHQucHJvdG90eXBlLmdldExheWVyPWZ1bmN0aW9uKHQsZSl7dGhpcy5fc2luZ2xlQ2FudmFzJiYhdGhpcy5fbmVlZHNNYW51YWxseUNvbXBvc2l0aW5nJiYodD1Ndyk7dmFyIG49dGhpcy5fbGF5ZXJzW3RdO3JldHVybiBufHwoKG49bmV3IHd3KCJ6cl8iK3QsdGhpcyx0aGlzLmRwcikpLnpsZXZlbD10LG4uX19idWlsdGluX189ITAsdGhpcy5fbGF5ZXJDb25maWdbdF0/TShuLHRoaXMuX2xheWVyQ29uZmlnW3RdLCEwKTp0aGlzLl9sYXllckNvbmZpZ1t0LUl3XSYmTShuLHRoaXMuX2xheWVyQ29uZmlnW3QtSXddLCEwKSxlJiYobi52aXJ0dWFsPWUpLHRoaXMuaW5zZXJ0TGF5ZXIodCxuKSxuLmluaXRDb250ZXh0KCkpLG59LHQucHJvdG90eXBlLmluc2VydExheWVyPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fbGF5ZXJzLGk9dGhpcy5femxldmVsTGlzdCxyPWkubGVuZ3RoLG89dGhpcy5fZG9tUm9vdCxhPW51bGwscz0tMTtpZihuW3RdKXcoIlpMZXZlbCAiK3QrIiBoYXMgYmVlbiB1c2VkIGFscmVhZHkiKTtlbHNlIGlmKGZ1bmN0aW9uKHQpe3JldHVybiEhdCYmKCEhdC5fX2J1aWx0aW5fX3x8ImZ1bmN0aW9uIj09dHlwZW9mIHQucmVzaXplJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5yZWZyZXNoKX0oZSkpe2lmKHI+MCYmdD5pWzBdKXtmb3Iocz0wO3M8ci0xJiYhKGlbc108dCYmaVtzKzFdPnQpO3MrKyk7YT1uW2lbc11dfWlmKGkuc3BsaWNlKHMrMSwwLHQpLG5bdF09ZSwhZS52aXJ0dWFsKWlmKGEpe3ZhciBsPWEuZG9tO2wubmV4dFNpYmxpbmc/by5pbnNlcnRCZWZvcmUoZS5kb20sbC5uZXh0U2libGluZyk6by5hcHBlbmRDaGlsZChlLmRvbSl9ZWxzZSBvLmZpcnN0Q2hpbGQ/by5pbnNlcnRCZWZvcmUoZS5kb20sby5maXJzdENoaWxkKTpvLmFwcGVuZENoaWxkKGUuZG9tKTtlLl9fcGFpbnRlcj10aGlzfWVsc2UgdygiTGF5ZXIgb2YgemxldmVsICIrdCsiIGlzIG5vdCB2YWxpZCIpfSx0LnByb3RvdHlwZS5lYWNoTGF5ZXI9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5femxldmVsTGlzdCxpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV07dC5jYWxsKGUsdGhpcy5fbGF5ZXJzW3JdLHIpfX0sdC5wcm90b3R5cGUuZWFjaEJ1aWx0aW5MYXllcj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLl96bGV2ZWxMaXN0LGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXSxvPXRoaXMuX2xheWVyc1tyXTtvLl9fYnVpbHRpbl9fJiZ0LmNhbGwoZSxvLHIpfX0sdC5wcm90b3R5cGUuZWFjaE90aGVyTGF5ZXI9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5femxldmVsTGlzdCxpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV0sbz10aGlzLl9sYXllcnNbcl07by5fX2J1aWx0aW5fX3x8dC5jYWxsKGUsbyxyKX19LHQucHJvdG90eXBlLmdldExheWVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sYXllcnN9LHQucHJvdG90eXBlLl91cGRhdGVMYXllclN0YXR1cz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe28mJihvLl9fZW5kSW5kZXghPT10JiYoby5fX2RpcnR5PSEwKSxvLl9fZW5kSW5kZXg9dCl9aWYodGhpcy5lYWNoQnVpbHRpbkxheWVyKChmdW5jdGlvbih0LGUpe3QuX19kaXJ0eT10Ll9fdXNlZD0hMX0pKSx0aGlzLl9zaW5nbGVDYW52YXMpZm9yKHZhciBuPTE7bjx0Lmxlbmd0aDtuKyspe2lmKChzPXRbbl0pLnpsZXZlbCE9PXRbbi0xXS56bGV2ZWx8fHMuaW5jcmVtZW50YWwpe3RoaXMuX25lZWRzTWFudWFsbHlDb21wb3NpdGluZz0hMDticmVha319dmFyIGkscixvPW51bGwsYT0wO2ZvcihyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBzLGw9KHM9dFtyXSkuemxldmVsLHU9dm9pZCAwO2khPT1sJiYoaT1sLGE9MCkscy5pbmNyZW1lbnRhbD8oKHU9dGhpcy5nZXRMYXllcihsKy4wMDEsdGhpcy5fbmVlZHNNYW51YWxseUNvbXBvc2l0aW5nKSkuaW5jcmVtZW50YWw9ITAsYT0xKTp1PXRoaXMuZ2V0TGF5ZXIobCsoYT4wP0l3OjApLHRoaXMuX25lZWRzTWFudWFsbHlDb21wb3NpdGluZyksdS5fX2J1aWx0aW5fX3x8dygiWkxldmVsICIrbCsiIGhhcyBiZWVuIHVzZWQgYnkgdW5rb3duIGxheWVyICIrdS5pZCksdSE9PW8mJih1Ll9fdXNlZD0hMCx1Ll9fc3RhcnRJbmRleCE9PXImJih1Ll9fZGlydHk9ITApLHUuX19zdGFydEluZGV4PXIsdS5pbmNyZW1lbnRhbD91Ll9fZHJhd0luZGV4PS0xOnUuX19kcmF3SW5kZXg9cixlKHIpLG89dSksMSZzLl9fZGlydHkmJiFzLl9faW5Ib3ZlciYmKHUuX19kaXJ0eT0hMCx1LmluY3JlbWVudGFsJiZ1Ll9fZHJhd0luZGV4PDAmJih1Ll9fZHJhd0luZGV4PXIpKX1lKHIpLHRoaXMuZWFjaEJ1aWx0aW5MYXllcigoZnVuY3Rpb24odCxlKXshdC5fX3VzZWQmJnQuZ2V0RWxlbWVudENvdW50KCk+MCYmKHQuX19kaXJ0eT0hMCx0Ll9fc3RhcnRJbmRleD10Ll9fZW5kSW5kZXg9dC5fX2RyYXdJbmRleD0wKSx0Ll9fZGlydHkmJnQuX19kcmF3SW5kZXg8MCYmKHQuX19kcmF3SW5kZXg9dC5fX3N0YXJ0SW5kZXgpfSkpfSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2hCdWlsdGluTGF5ZXIodGhpcy5fY2xlYXJMYXllciksdGhpc30sdC5wcm90b3R5cGUuX2NsZWFyTGF5ZXI9ZnVuY3Rpb24odCl7dC5jbGVhcigpfSx0LnByb3RvdHlwZS5zZXRCYWNrZ3JvdW5kQ29sb3I9ZnVuY3Rpb24odCl7dGhpcy5fYmFja2dyb3VuZENvbG9yPXQsTyh0aGlzLl9sYXllcnMsKGZ1bmN0aW9uKHQpe3Quc2V0VW5wYWludGVkKCl9KSl9LHQucHJvdG90eXBlLmNvbmZpZ0xheWVyPWZ1bmN0aW9uKHQsZSl7aWYoZSl7dmFyIG49dGhpcy5fbGF5ZXJDb25maWc7blt0XT9NKG5bdF0sZSwhMCk6blt0XT1lO2Zvcih2YXIgaT0wO2k8dGhpcy5femxldmVsTGlzdC5sZW5ndGg7aSsrKXt2YXIgcj10aGlzLl96bGV2ZWxMaXN0W2ldO2lmKHI9PT10fHxyPT09dCtJdylNKHRoaXMuX2xheWVyc1tyXSxuW3RdLCEwKX19fSx0LnByb3RvdHlwZS5kZWxMYXllcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9sYXllcnMsbj10aGlzLl96bGV2ZWxMaXN0LGk9ZVt0XTtpJiYoaS5kb20ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpLmRvbSksZGVsZXRlIGVbdF0sbi5zcGxpY2UoQShuLHQpLDEpKX0sdC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fZG9tUm9vdC5zdHlsZSl7dmFyIG49dGhpcy5fZG9tUm9vdDtuLnN0eWxlLmRpc3BsYXk9Im5vbmUiO3ZhciBpPXRoaXMuX29wdHM7aWYobnVsbCE9dCYmKGkud2lkdGg9dCksbnVsbCE9ZSYmKGkuaGVpZ2h0PWUpLHQ9dGhpcy5fZ2V0U2l6ZSgwKSxlPXRoaXMuX2dldFNpemUoMSksbi5zdHlsZS5kaXNwbGF5PSIiLHRoaXMuX3dpZHRoIT09dHx8ZSE9PXRoaXMuX2hlaWdodCl7Zm9yKHZhciByIGluIG4uc3R5bGUud2lkdGg9dCsicHgiLG4uc3R5bGUuaGVpZ2h0PWUrInB4Iix0aGlzLl9sYXllcnMpdGhpcy5fbGF5ZXJzLmhhc093blByb3BlcnR5KHIpJiZ0aGlzLl9sYXllcnNbcl0ucmVzaXplKHQsZSk7dGhpcy5yZWZyZXNoKCEwKX10aGlzLl93aWR0aD10LHRoaXMuX2hlaWdodD1lfWVsc2V7aWYobnVsbD09dHx8bnVsbD09ZSlyZXR1cm47dGhpcy5fd2lkdGg9dCx0aGlzLl9oZWlnaHQ9ZSx0aGlzLmdldExheWVyKE13KS5yZXNpemUodCxlKX1yZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuY2xlYXJMYXllcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9sYXllcnNbdF07ZSYmZS5jbGVhcigpfSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5yb290LmlubmVySFRNTD0iIix0aGlzLnJvb3Q9dGhpcy5zdG9yYWdlPXRoaXMuX2RvbVJvb3Q9dGhpcy5fbGF5ZXJzPW51bGx9LHQucHJvdG90eXBlLmdldFJlbmRlcmVkQ2FudmFzPWZ1bmN0aW9uKHQpe2lmKHQ9dHx8e30sdGhpcy5fc2luZ2xlQ2FudmFzJiYhdGhpcy5fY29tcG9zaXRlTWFudWFsbHkpcmV0dXJuIHRoaXMuX2xheWVyc1szMTQxNTldLmRvbTt2YXIgZT1uZXcgd3coImltYWdlIix0aGlzLHQucGl4ZWxSYXRpb3x8dGhpcy5kcHIpO2UuaW5pdENvbnRleHQoKSxlLmNsZWFyKCExLHQuYmFja2dyb3VuZENvbG9yfHx0aGlzLl9iYWNrZ3JvdW5kQ29sb3IpO3ZhciBuPWUuY3R4O2lmKHQucGl4ZWxSYXRpbzw9dGhpcy5kcHIpe3RoaXMucmVmcmVzaCgpO3ZhciBpPWUuZG9tLndpZHRoLHI9ZS5kb20uaGVpZ2h0O3RoaXMuZWFjaExheWVyKChmdW5jdGlvbih0KXt0Ll9fYnVpbHRpbl9fP24uZHJhd0ltYWdlKHQuZG9tLDAsMCxpLHIpOnQucmVuZGVyVG9DYW52YXMmJihuLnNhdmUoKSx0LnJlbmRlclRvQ2FudmFzKG4pLG4ucmVzdG9yZSgpKX0pKX1lbHNlIGZvcih2YXIgbz17aW5Ib3ZlcjohMSx2aWV3V2lkdGg6dGhpcy5fd2lkdGgsdmlld0hlaWdodDp0aGlzLl9oZWlnaHR9LGE9dGhpcy5zdG9yYWdlLmdldERpc3BsYXlMaXN0KCEwKSxzPTAsbD1hLmxlbmd0aDtzPGw7cysrKXt2YXIgdT1hW3NdO3d5KG4sdSxvLHM9PT1sLTEpfXJldHVybiBlLmRvbX0sdC5wcm90b3R5cGUuZ2V0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2lkdGh9LHQucHJvdG90eXBlLmdldEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oZWlnaHR9LHQucHJvdG90eXBlLl9nZXRTaXplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX29wdHMsbj1bIndpZHRoIiwiaGVpZ2h0Il1bdF0saT1bImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0Il1bdF0scj1bInBhZGRpbmdMZWZ0IiwicGFkZGluZ1RvcCJdW3RdLG89WyJwYWRkaW5nUmlnaHQiLCJwYWRkaW5nQm90dG9tIl1bdF07aWYobnVsbCE9ZVtuXSYmImF1dG8iIT09ZVtuXSlyZXR1cm4gcGFyc2VGbG9hdChlW25dKTt2YXIgYT10aGlzLnJvb3Qscz1kb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGEpO3JldHVybihhW2ldfHxUdyhzW25dKXx8VHcoYS5zdHlsZVtuXSkpLShUdyhzW3JdKXx8MCktKFR3KHNbb10pfHwwKXwwfSx0LnByb3RvdHlwZS5wYXRoVG9JbWFnZT1mdW5jdGlvbih0LGUpe2U9ZXx8dGhpcy5kcHI7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksaT1uLmdldENvbnRleHQoIjJkIikscj10LmdldEJvdW5kaW5nUmVjdCgpLG89dC5zdHlsZSxhPW8uc2hhZG93Qmx1ciplLHM9by5zaGFkb3dPZmZzZXRYKmUsbD1vLnNoYWRvd09mZnNldFkqZSx1PXQuaGFzU3Ryb2tlKCk/by5saW5lV2lkdGg6MCxoPU1hdGgubWF4KHUvMiwtcythKSxjPU1hdGgubWF4KHUvMixzK2EpLHA9TWF0aC5tYXgodS8yLC1sK2EpLGQ9TWF0aC5tYXgodS8yLGwrYSksZj1yLndpZHRoK2grYyxnPXIuaGVpZ2h0K3ArZDtuLndpZHRoPWYqZSxuLmhlaWdodD1nKmUsaS5zY2FsZShlLGUpLGkuY2xlYXJSZWN0KDAsMCxmLGcpLGkuZHByPWU7dmFyIHk9e3g6dC54LHk6dC55LHNjYWxlWDp0LnNjYWxlWCxzY2FsZVk6dC5zY2FsZVkscm90YXRpb246dC5yb3RhdGlvbixvcmlnaW5YOnQub3JpZ2luWCxvcmlnaW5ZOnQub3JpZ2luWX07dC54PWgtci54LHQueT1wLXIueSx0LnJvdGF0aW9uPTAsdC5zY2FsZVg9MSx0LnNjYWxlWT0xLHQudXBkYXRlVHJhbnNmb3JtKCksdCYmd3koaSx0LHtpbkhvdmVyOiExLHZpZXdXaWR0aDp0aGlzLl93aWR0aCx2aWV3SGVpZ2h0OnRoaXMuX2hlaWdodH0sITApO3ZhciB2PW5ldyBycyh7c3R5bGU6e3g6MCx5OjAsaW1hZ2U6bn19KTtyZXR1cm4gVCh0LHkpLHZ9LHR9KCk7dmFyIER3PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5oYXNTeW1ib2xWaXN1YWw9ITAsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQpe3JldHVybiBtXyhudWxsLHRoaXMse3VzZUVuY29kZURlZmF1bHRlcjohMH0pfSxlLnByb3RvdHlwZS5nZXRMZWdlbmRJY29uPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBCaSxuPWV5KCJsaW5lIiwwLHQuaXRlbUhlaWdodC8yLHQuaXRlbVdpZHRoLDAsdC5saW5lU3R5bGUuc3Ryb2tlLCExKTtlLmFkZChuKSxuLnNldFN0eWxlKHQubGluZVN0eWxlKTt2YXIgaT10aGlzLmdldERhdGEoKS5nZXRWaXN1YWwoInN5bWJvbCIpLHI9dGhpcy5nZXREYXRhKCkuZ2V0VmlzdWFsKCJzeW1ib2xSb3RhdGUiKSxvPSJub25lIj09PWk/ImNpcmNsZSI6aSxhPS44KnQuaXRlbUhlaWdodCxzPWV5KG8sKHQuaXRlbVdpZHRoLWEpLzIsKHQuaXRlbUhlaWdodC1hKS8yLGEsYSx0Lml0ZW1TdHlsZS5maWxsKTtlLmFkZChzKSxzLnNldFN0eWxlKHQuaXRlbVN0eWxlKTt2YXIgbD0iaW5oZXJpdCI9PT10Lmljb25Sb3RhdGU/cjp0Lmljb25Sb3RhdGV8fDA7cmV0dXJuIHMucm90YXRpb249bCpNYXRoLlBJLzE4MCxzLnNldE9yaWdpbihbdC5pdGVtV2lkdGgvMix0Lml0ZW1IZWlnaHQvMl0pLG8uaW5kZXhPZigiZW1wdHkiKT4tMSYmKHMuc3R5bGUuc3Ryb2tlPXMuc3R5bGUuZmlsbCxzLnN0eWxlLmZpbGw9IiNmZmYiLHMuc3R5bGUubGluZVdpZHRoPTIpLGV9LGUudHlwZT0ic2VyaWVzLmxpbmUiLGUuZGVwZW5kZW5jaWVzPVsiZ3JpZCIsInBvbGFyIl0sZS5kZWZhdWx0T3B0aW9uPXt6bGV2ZWw6MCx6OjMsY29vcmRpbmF0ZVN5c3RlbToiY2FydGVzaWFuMmQiLGxlZ2VuZEhvdmVyTGluazohMCxjbGlwOiEwLGxhYmVsOntwb3NpdGlvbjoidG9wIn0sZW5kTGFiZWw6e3Nob3c6ITEsdmFsdWVBbmltYXRpb246ITAsZGlzdGFuY2U6OH0sbGluZVN0eWxlOnt3aWR0aDoyLHR5cGU6InNvbGlkIn0sZW1waGFzaXM6e3NjYWxlOiEwLGxpbmVTdHlsZTp7d2lkdGg6ImJvbGRlciJ9fSxzdGVwOiExLHNtb290aDohMSxzbW9vdGhNb25vdG9uZTpudWxsLHN5bWJvbDoiZW1wdHlDaXJjbGUiLHN5bWJvbFNpemU6NCxzeW1ib2xSb3RhdGU6bnVsbCxzaG93U3ltYm9sOiEwLHNob3dBbGxTeW1ib2w6ImF1dG8iLGNvbm5lY3ROdWxsczohMSxzYW1wbGluZzoibm9uZSIsYW5pbWF0aW9uRWFzaW5nOiJsaW5lYXIiLHByb2dyZXNzaXZlOjAsaG92ZXJMYXllclRocmVzaG9sZDoxLzAsdW5pdmVyc2FsVHJhbnNpdGlvbjp7ZGl2aWRlU2hhcGU6ImNsb25lIn0sdHJpZ2dlckxpbmVFdmVudDohMX0sZX0oTmYpO2Z1bmN0aW9uIEF3KHQsZSl7dmFyIG49dC5tYXBEaW1lbnNpb25zQWxsKCJkZWZhdWx0ZWRMYWJlbCIpLGk9bi5sZW5ndGg7aWYoMT09PWkpe3ZhciByPU5kKHQsZSxuWzBdKTtyZXR1cm4gbnVsbCE9cj9yKyIiOm51bGx9aWYoaSl7Zm9yKHZhciBvPVtdLGE9MDthPG4ubGVuZ3RoO2ErKylvLnB1c2goTmQodCxlLG5bYV0pKTtyZXR1cm4gby5qb2luKCIgIil9fWZ1bmN0aW9uIGt3KHQsZSl7dmFyIG49dC5tYXBEaW1lbnNpb25zQWxsKCJkZWZhdWx0ZWRMYWJlbCIpO2lmKCFGKGUpKXJldHVybiBlKyIiO2Zvcih2YXIgaT1bXSxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBvPXQuZ2V0RGltZW5zaW9uSW5kZXgobltyXSk7bz49MCYmaS5wdXNoKGVbb10pfXJldHVybiBpLmpvaW4oIiAiKX12YXIgTHc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSxyKXt2YXIgbz10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG8udXBkYXRlRGF0YShlLG4saSxyKSxvfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuX2NyZWF0ZVN5bWJvbD1mdW5jdGlvbih0LGUsbixpLHIpe3RoaXMucmVtb3ZlQWxsKCk7dmFyIG89ZXkodCwtMSwtMSwyLDIsbnVsbCxyKTtvLmF0dHIoe3oyOjEwMCxjdWxsaW5nOiEwLHNjYWxlWDppWzBdLzIsc2NhbGVZOmlbMV0vMn0pLG8uZHJpZnQ9UHcsdGhpcy5fc3ltYm9sVHlwZT10LHRoaXMuYWRkKG8pfSxlLnByb3RvdHlwZS5zdG9wU3ltYm9sQW5pbWF0aW9uPWZ1bmN0aW9uKHQpe3RoaXMuY2hpbGRBdCgwKS5zdG9wQW5pbWF0aW9uKG51bGwsdCl9LGUucHJvdG90eXBlLmdldFN5bWJvbFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3ltYm9sVHlwZX0sZS5wcm90b3R5cGUuZ2V0U3ltYm9sUGF0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNoaWxkQXQoMCl9LGUucHJvdG90eXBlLmhpZ2hsaWdodD1mdW5jdGlvbigpe1FzKHRoaXMuY2hpbGRBdCgwKSl9LGUucHJvdG90eXBlLmRvd25wbGF5PWZ1bmN0aW9uKCl7dGwodGhpcy5jaGlsZEF0KDApKX0sZS5wcm90b3R5cGUuc2V0Wj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuY2hpbGRBdCgwKTtuLnpsZXZlbD10LG4uej1lfSxlLnByb3RvdHlwZS5zZXREcmFnZ2FibGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jaGlsZEF0KDApO2UuZHJhZ2dhYmxlPXQsZS5jdXJzb3I9dD8ibW92ZSI6ZS5jdXJzb3J9LGUucHJvdG90eXBlLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCxuLGkscil7dGhpcy5zaWxlbnQ9ITE7dmFyIG89dC5nZXRJdGVtVmlzdWFsKG4sInN5bWJvbCIpfHwiY2lyY2xlIixhPXQuaG9zdE1vZGVsLHM9ZS5nZXRTeW1ib2xTaXplKHQsbiksbD1vIT09dGhpcy5fc3ltYm9sVHlwZSx1PXImJnIuZGlzYWJsZUFuaW1hdGlvbjtpZihsKXt2YXIgaD10LmdldEl0ZW1WaXN1YWwobiwic3ltYm9sS2VlcEFzcGVjdCIpO3RoaXMuX2NyZWF0ZVN5bWJvbChvLHQsbixzLGgpfWVsc2V7KHA9dGhpcy5jaGlsZEF0KDApKS5zaWxlbnQ9ITE7dmFyIGM9e3NjYWxlWDpzWzBdLzIsc2NhbGVZOnNbMV0vMn07dT9wLmF0dHIoYyk6RXUocCxjLGEsbiksV3UocCl9aWYodGhpcy5fdXBkYXRlQ29tbW9uKHQsbixzLGksciksbCl7dmFyIHA9dGhpcy5jaGlsZEF0KDApO2lmKCF1KXtjPXtzY2FsZVg6dGhpcy5fc2l6ZVgsc2NhbGVZOnRoaXMuX3NpemVZLHN0eWxlOntvcGFjaXR5OnAuc3R5bGUub3BhY2l0eX19O3Auc2NhbGVYPXAuc2NhbGVZPTAscC5zdHlsZS5vcGFjaXR5PTAsVnUocCxjLGEsbil9fXUmJnRoaXMuY2hpbGRBdCgwKS5zdG9wQW5pbWF0aW9uKCJyZW1vdmUiKSx0aGlzLl9zZXJpZXNNb2RlbD1hfSxlLnByb3RvdHlwZS5fdXBkYXRlQ29tbW9uPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG8sYSxzLGwsdSxoLGMscCxkPXRoaXMuY2hpbGRBdCgwKSxmPXQuaG9zdE1vZGVsO2lmKGkmJihvPWkuZW1waGFzaXNJdGVtU3R5bGUsYT1pLmJsdXJJdGVtU3R5bGUscz1pLnNlbGVjdEl0ZW1TdHlsZSxsPWkuZm9jdXMsdT1pLmJsdXJTY29wZSxoPWkubGFiZWxTdGF0ZXNNb2RlbHMsYz1pLmhvdmVyU2NhbGUscD1pLmN1cnNvclN0eWxlKSwhaXx8dC5oYXNJdGVtT3B0aW9uKXt2YXIgZz1pJiZpLml0ZW1Nb2RlbD9pLml0ZW1Nb2RlbDp0LmdldEl0ZW1Nb2RlbChlKSx5PWcuZ2V0TW9kZWwoImVtcGhhc2lzIik7bz15LmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSxzPWcuZ2V0TW9kZWwoWyJzZWxlY3QiLCJpdGVtU3R5bGUiXSkuZ2V0SXRlbVN0eWxlKCksYT1nLmdldE1vZGVsKFsiYmx1ciIsIml0ZW1TdHlsZSJdKS5nZXRJdGVtU3R5bGUoKSxsPXkuZ2V0KCJmb2N1cyIpLHU9eS5nZXQoImJsdXJTY29wZSIpLGg9YmgoZyksYz15LmdldFNoYWxsb3coInNjYWxlIikscD1nLmdldFNoYWxsb3coImN1cnNvciIpfXZhciB2PXQuZ2V0SXRlbVZpc3VhbChlLCJzeW1ib2xSb3RhdGUiKTtkLmF0dHIoInJvdGF0aW9uIiwodnx8MCkqTWF0aC5QSS8xODB8fDApO3ZhciBtPWl5KHQuZ2V0SXRlbVZpc3VhbChlLCJzeW1ib2xPZmZzZXQiKSxuKTttJiYoZC54PW1bMF0sZC55PW1bMV0pLHAmJmQuYXR0cigiY3Vyc29yIixwKTt2YXIgXz10LmdldEl0ZW1WaXN1YWwoZSwic3R5bGUiKSx4PV8uZmlsbDtpZihkIGluc3RhbmNlb2YgcnMpe3ZhciBiPWQuc3R5bGU7ZC51c2VTdHlsZShUKHtpbWFnZTpiLmltYWdlLHg6Yi54LHk6Yi55LHdpZHRoOmIud2lkdGgsaGVpZ2h0OmIuaGVpZ2h0fSxfKSl9ZWxzZSBkLl9faXNFbXB0eUJydXNoP2QudXNlU3R5bGUoVCh7fSxfKSk6ZC51c2VTdHlsZShfKSxkLnN0eWxlLmRlY2FsPW51bGwsZC5zZXRDb2xvcih4LHImJnIuc3ltYm9sSW5uZXJDb2xvciksZC5zdHlsZS5zdHJva2VOb1NjYWxlPSEwO3ZhciB3PXQuZ2V0SXRlbVZpc3VhbChlLCJsaWZ0WiIpLFM9dGhpcy5fejI7bnVsbCE9dz9udWxsPT1TJiYodGhpcy5fejI9ZC56MixkLnoyKz13KTpudWxsIT1TJiYoZC56Mj1TLHRoaXMuX3oyPW51bGwpO3ZhciBNPXImJnIudXNlTmFtZUxhYmVsO3hoKGQsaCx7bGFiZWxGZXRjaGVyOmYsbGFiZWxEYXRhSW5kZXg6ZSxkZWZhdWx0VGV4dDpmdW5jdGlvbihlKXtyZXR1cm4gTT90LmdldE5hbWUoZSk6QXcodCxlKX0saW5oZXJpdENvbG9yOngsZGVmYXVsdE9wYWNpdHk6Xy5vcGFjaXR5fSksdGhpcy5fc2l6ZVg9blswXS8yLHRoaXMuX3NpemVZPW5bMV0vMjt2YXIgST1kLmVuc3VyZVN0YXRlKCJlbXBoYXNpcyIpO2lmKEkuc3R5bGU9byxkLmVuc3VyZVN0YXRlKCJzZWxlY3QiKS5zdHlsZT1zLGQuZW5zdXJlU3RhdGUoImJsdXIiKS5zdHlsZT1hLGMpe3ZhciBDPU1hdGgubWF4KDEuMSwzL3RoaXMuX3NpemVZKTtJLnNjYWxlWD10aGlzLl9zaXplWCpDLEkuc2NhbGVZPXRoaXMuX3NpemVZKkN9dGhpcy5zZXRTeW1ib2xTY2FsZSgxKSxwbCh0aGlzLGwsdSl9LGUucHJvdG90eXBlLnNldFN5bWJvbFNjYWxlPWZ1bmN0aW9uKHQpe3RoaXMuc2NhbGVYPXRoaXMuc2NhbGVZPXR9LGUucHJvdG90eXBlLmZhZGVPdXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmNoaWxkQXQoMCksaT10aGlzLl9zZXJpZXNNb2RlbCxyPVNzKHRoaXMpLmRhdGFJbmRleCxvPWUmJmUuYW5pbWF0aW9uO2lmKHRoaXMuc2lsZW50PW4uc2lsZW50PSEwLGUmJmUuZmFkZUxhYmVsKXt2YXIgYT1uLmdldFRleHRDb250ZW50KCk7YSYmR3UoYSx7c3R5bGU6e29wYWNpdHk6MH19LGkse2RhdGFJbmRleDpyLHJlbW92ZU9wdDpvLGNiOmZ1bmN0aW9uKCl7bi5yZW1vdmVUZXh0Q29udGVudCgpfX0pfWVsc2Ugbi5yZW1vdmVUZXh0Q29udGVudCgpO0d1KG4se3N0eWxlOntvcGFjaXR5OjB9LHNjYWxlWDowLHNjYWxlWTowfSxpLHtkYXRhSW5kZXg6cixjYjp0LHJlbW92ZU9wdDpvfSl9LGUuZ2V0U3ltYm9sU2l6ZT1mdW5jdGlvbih0LGUpe3JldHVybiBueSh0LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sU2l6ZSIpKX0sZX0oQmkpO2Z1bmN0aW9uIFB3KHQsZSl7dGhpcy5wYXJlbnQuZHJpZnQodCxlKX1mdW5jdGlvbiBPdyh0LGUsbixpKXtyZXR1cm4gZSYmIWlzTmFOKGVbMF0pJiYhaXNOYU4oZVsxXSkmJiEoaS5pc0lnbm9yZSYmaS5pc0lnbm9yZShuKSkmJiEoaS5jbGlwU2hhcGUmJiFpLmNsaXBTaGFwZS5jb250YWluKGVbMF0sZVsxXSkpJiYibm9uZSIhPT10LmdldEl0ZW1WaXN1YWwobiwic3ltYm9sIil9ZnVuY3Rpb24gUncodCl7cmV0dXJuIG51bGw9PXR8fFkodCl8fCh0PXtpc0lnbm9yZTp0fSksdHx8e319ZnVuY3Rpb24gTncodCl7dmFyIGU9dC5ob3N0TW9kZWwsbj1lLmdldE1vZGVsKCJlbXBoYXNpcyIpO3JldHVybntlbXBoYXNpc0l0ZW1TdHlsZTpuLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSxibHVySXRlbVN0eWxlOmUuZ2V0TW9kZWwoWyJibHVyIiwiaXRlbVN0eWxlIl0pLmdldEl0ZW1TdHlsZSgpLHNlbGVjdEl0ZW1TdHlsZTplLmdldE1vZGVsKFsic2VsZWN0IiwiaXRlbVN0eWxlIl0pLmdldEl0ZW1TdHlsZSgpLGZvY3VzOm4uZ2V0KCJmb2N1cyIpLGJsdXJTY29wZTpuLmdldCgiYmx1clNjb3BlIiksaG92ZXJTY2FsZTpuLmdldCgic2NhbGUiKSxsYWJlbFN0YXRlc01vZGVsczpiaChlKSxjdXJzb3JTdHlsZTplLmdldCgiY3Vyc29yIil9fXZhciB6dz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5ncm91cD1uZXcgQmksdGhpcy5fU3ltYm9sQ3Rvcj10fHxMd31yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUpe2U9UncoZSk7dmFyIG49dGhpcy5ncm91cCxpPXQuaG9zdE1vZGVsLHI9dGhpcy5fZGF0YSxvPXRoaXMuX1N5bWJvbEN0b3IsYT1lLmRpc2FibGVBbmltYXRpb24scz1Odyh0KSxsPXtkaXNhYmxlQW5pbWF0aW9uOmF9LHU9ZS5nZXRTeW1ib2xQb2ludHx8ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZ2V0SXRlbUxheW91dChlKX07cnx8bi5yZW1vdmVBbGwoKSx0LmRpZmYocikuYWRkKChmdW5jdGlvbihpKXt2YXIgcj11KGkpO2lmKE93KHQscixpLGUpKXt2YXIgYT1uZXcgbyh0LGkscyxsKTthLnNldFBvc2l0aW9uKHIpLHQuc2V0SXRlbUdyYXBoaWNFbChpLGEpLG4uYWRkKGEpfX0pKS51cGRhdGUoKGZ1bmN0aW9uKGgsYyl7dmFyIHA9ci5nZXRJdGVtR3JhcGhpY0VsKGMpLGQ9dShoKTtpZihPdyh0LGQsaCxlKSl7dmFyIGY9dC5nZXRJdGVtVmlzdWFsKGgsInN5bWJvbCIpfHwiY2lyY2xlIixnPXAmJnAuZ2V0U3ltYm9sVHlwZSYmcC5nZXRTeW1ib2xUeXBlKCk7aWYoIXB8fGcmJmchPT1mKW4ucmVtb3ZlKHApLChwPW5ldyBvKHQsaCxzLGwpKS5zZXRQb3NpdGlvbihkKTtlbHNle3AudXBkYXRlRGF0YSh0LGgscyxsKTt2YXIgeT17eDpkWzBdLHk6ZFsxXX07YT9wLmF0dHIoeSk6RXUocCx5LGkpfW4uYWRkKHApLHQuc2V0SXRlbUdyYXBoaWNFbChoLHApfWVsc2Ugbi5yZW1vdmUocCl9KSkucmVtb3ZlKChmdW5jdGlvbih0KXt2YXIgZT1yLmdldEl0ZW1HcmFwaGljRWwodCk7ZSYmZS5mYWRlT3V0KChmdW5jdGlvbigpe24ucmVtb3ZlKGUpfSkpfSkpLmV4ZWN1dGUoKSx0aGlzLl9nZXRTeW1ib2xQb2ludD11LHRoaXMuX2RhdGE9dH0sdC5wcm90b3R5cGUuaXNQZXJzaXN0ZW50PWZ1bmN0aW9uKCl7cmV0dXJuITB9LHQucHJvdG90eXBlLnVwZGF0ZUxheW91dD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLl9kYXRhO2UmJmUuZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKGUsbil7dmFyIGk9dC5fZ2V0U3ltYm9sUG9pbnQobik7ZS5zZXRQb3NpdGlvbihpKSxlLm1hcmtSZWRyYXcoKX0pKX0sdC5wcm90b3R5cGUuaW5jcmVtZW50YWxQcmVwYXJlVXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuX3Nlcmllc1Njb3BlPU53KHQpLHRoaXMuX2RhdGE9bnVsbCx0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSx0LnByb3RvdHlwZS5pbmNyZW1lbnRhbFVwZGF0ZT1mdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gaSh0KXt0LmlzR3JvdXB8fCh0LmluY3JlbWVudGFsPSEwLHQuZW5zdXJlU3RhdGUoImVtcGhhc2lzIikuaG92ZXJMYXllcj0hMCl9bj1SdyhuKTtmb3IodmFyIHI9dC5zdGFydDtyPHQuZW5kO3IrKyl7dmFyIG89ZS5nZXRJdGVtTGF5b3V0KHIpO2lmKE93KGUsbyxyLG4pKXt2YXIgYT1uZXcgdGhpcy5fU3ltYm9sQ3RvcihlLHIsdGhpcy5fc2VyaWVzU2NvcGUpO2EudHJhdmVyc2UoaSksYS5zZXRQb3NpdGlvbihvKSx0aGlzLmdyb3VwLmFkZChhKSxlLnNldEl0ZW1HcmFwaGljRWwocixhKX19fSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ncm91cCxuPXRoaXMuX2RhdGE7biYmdD9uLmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbih0KXt0LmZhZGVPdXQoKGZ1bmN0aW9uKCl7ZS5yZW1vdmUodCl9KSl9KSk6ZS5yZW1vdmVBbGwoKX0sdH0oKTtmdW5jdGlvbiBFdyh0LGUsbil7dmFyIGk9dC5nZXRCYXNlQXhpcygpLHI9dC5nZXRPdGhlckF4aXMoaSksbz1mdW5jdGlvbih0LGUpe3ZhciBuPTAsaT10LnNjYWxlLmdldEV4dGVudCgpOyJzdGFydCI9PT1lP249aVswXToiZW5kIj09PWU/bj1pWzFdOmlbMF0+MD9uPWlbMF06aVsxXTwwJiYobj1pWzFdKTtyZXR1cm4gbn0ocixuKSxhPWkuZGltLHM9ci5kaW0sbD1lLm1hcERpbWVuc2lvbihzKSx1PWUubWFwRGltZW5zaW9uKGEpLGg9IngiPT09c3x8InJhZGl1cyI9PT1zPzE6MCxjPVIodC5kaW1lbnNpb25zLChmdW5jdGlvbih0KXtyZXR1cm4gZS5tYXBEaW1lbnNpb24odCl9KSkscD0hMSxkPWUuZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja1Jlc3VsdERpbWVuc2lvbiIpO3JldHVybiB5XyhlLGNbMF0pJiYocD0hMCxjWzBdPWQpLHlfKGUsY1sxXSkmJihwPSEwLGNbMV09ZCkse2RhdGFEaW1zRm9yUG9pbnQ6Yyx2YWx1ZVN0YXJ0Om8sdmFsdWVBeGlzRGltOnMsYmFzZUF4aXNEaW06YSxzdGFja2VkOiEhcCx2YWx1ZURpbTpsLGJhc2VEaW06dSxiYXNlRGF0YU9mZnNldDpoLHN0YWNrZWRPdmVyRGltZW5zaW9uOmUuZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja2VkT3ZlckRpbWVuc2lvbiIpfX1mdW5jdGlvbiBWdyh0LGUsbixpKXt2YXIgcj1OYU47dC5zdGFja2VkJiYocj1uLmdldChuLmdldENhbGN1bGF0aW9uSW5mbygic3RhY2tlZE92ZXJEaW1lbnNpb24iKSxpKSksaXNOYU4ocikmJihyPXQudmFsdWVTdGFydCk7dmFyIG89dC5iYXNlRGF0YU9mZnNldCxhPVtdO3JldHVybiBhW29dPW4uZ2V0KHQuYmFzZURpbSxpKSxhWzEtb109cixlLmRhdGFUb1BvaW50KGEpfXZhciBCdz0idW5kZWZpbmVkIiE9dHlwZW9mIEZsb2F0MzJBcnJheSxHdz1Cdz9GbG9hdDMyQXJyYXk6QXJyYXk7ZnVuY3Rpb24gRncodCl7cmV0dXJuIEYodCk/Qnc/bmV3IEZsb2F0MzJBcnJheSh0KTp0Om5ldyBHdyh0KX12YXIgSHc9TWF0aC5taW4sV3c9TWF0aC5tYXg7ZnVuY3Rpb24gVXcodCxlKXtyZXR1cm4gaXNOYU4odCl8fGlzTmFOKGUpfWZ1bmN0aW9uIFh3KHQsZSxuLGkscixvLGEscyxsKXtmb3IodmFyIHUsaCxjLHAsZCxmLGc9bix5PTA7eTxpO3krKyl7dmFyIHY9ZVsyKmddLG09ZVsyKmcrMV07aWYoZz49cnx8ZzwwKWJyZWFrO2lmKFV3KHYsbSkpe2lmKGwpe2crPW87Y29udGludWV9YnJlYWt9aWYoZz09PW4pdFtvPjA/Im1vdmVUbyI6ImxpbmVUbyJdKHYsbSksYz12LHA9bTtlbHNle3ZhciBfPXYtdSx4PW0taDtpZihfKl8reCp4PC41KXtnKz1vO2NvbnRpbnVlfWlmKGE+MCl7Zm9yKHZhciBiPWcrbyx3PWVbMipiXSxTPWVbMipiKzFdO3c9PT12JiZTPT09bSYmeTxpOyl5KyssZys9byx3PWVbMiooYis9byldLFM9ZVsyKmIrMV0sXz0odj1lWzIqZ10pLXUseD0obT1lWzIqZysxXSktaDt2YXIgTT15KzE7aWYobClmb3IoO1V3KHcsUykmJk08aTspTSsrLHc9ZVsyKihiKz1vKV0sUz1lWzIqYisxXTt2YXIgST0uNSxUPTAsQz0wLEQ9dm9pZCAwLEE9dm9pZCAwO2lmKE0+PWl8fFV3KHcsUykpZD12LGY9bTtlbHNle1Q9dy11LEM9Uy1oO3ZhciBrPXYtdSxMPXctdixQPW0taCxPPVMtbSxSPXZvaWQgMCxOPXZvaWQgMDsieCI9PT1zPyhSPU1hdGguYWJzKGspLE49TWF0aC5hYnMoTCksZD12LVIqYSxmPW0sRD12K1IqYSxBPW0pOiJ5Ij09PXM/KFI9TWF0aC5hYnMoUCksTj1NYXRoLmFicyhPKSxkPXYsZj1tLVIqYSxEPXYsQT1tK1IqYSk6KFI9TWF0aC5zcXJ0KGsqaytQKlApLGQ9di1UKmEqKDEtKEk9KE49TWF0aC5zcXJ0KEwqTCtPKk8pKS8oTitSKSkpLGY9bS1DKmEqKDEtSSksQT1tK0MqYSpJLEQ9SHcoRD12K1QqYSpJLFd3KHcsdikpLEE9SHcoQSxXdyhTLG0pKSxEPVd3KEQsSHcodyx2KSksZj1tLShDPShBPVd3KEEsSHcoUyxtKSkpLW0pKlIvTixkPUh3KGQ9di0oVD1ELXYpKlIvTixXdyh1LHYpKSxmPUh3KGYsV3coaCxtKSksRD12KyhUPXYtKGQ9V3coZCxIdyh1LHYpKSkpKk4vUixBPW0rKEM9bS0oZj1XdyhmLEh3KGgsbSkpKSkqTi9SKX10LmJlemllckN1cnZlVG8oYyxwLGQsZix2LG0pLGM9RCxwPUF9ZWxzZSB0LmxpbmVUbyh2LG0pfXU9dixoPW0sZys9b31yZXR1cm4geX12YXIgWXc9ZnVuY3Rpb24oKXt0aGlzLnNtb290aD0wLHRoaXMuc21vb3RoQ29uc3RyYWludD0hMH0sWnc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbi50eXBlPSJlYy1wb2x5bGluZSIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTdHlsZT1mdW5jdGlvbigpe3JldHVybntzdHJva2U6IiMwMDAiLGZpbGw6bnVsbH19LGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgWXd9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3ZhciBuPWUucG9pbnRzLGk9MCxyPW4ubGVuZ3RoLzI7aWYoZS5jb25uZWN0TnVsbHMpe2Zvcig7cj4wJiZVdyhuWzIqci0yXSxuWzIqci0xXSk7ci0tKTtmb3IoO2k8ciYmVXcoblsyKmldLG5bMippKzFdKTtpKyspO31mb3IoO2k8cjspaSs9WHcodCxuLGkscixyLDEsZS5zbW9vdGgsZS5zbW9vdGhNb25vdG9uZSxlLmNvbm5lY3ROdWxscykrMX0sZS5wcm90b3R5cGUuZ2V0UG9pbnRPbj1mdW5jdGlvbih0LGUpe3RoaXMucGF0aHx8KHRoaXMuY3JlYXRlUGF0aFByb3h5KCksdGhpcy5idWlsZFBhdGgodGhpcy5wYXRoLHRoaXMuc2hhcGUpKTtmb3IodmFyIG4saSxyPXRoaXMucGF0aC5kYXRhLG89T2EuQ01ELGE9IngiPT09ZSxzPVtdLGw9MDtsPHIubGVuZ3RoOyl7dmFyIHU9dm9pZCAwLGg9dm9pZCAwLGM9dm9pZCAwLHA9dm9pZCAwLGQ9dm9pZCAwLGY9dm9pZCAwLGc9dm9pZCAwO3N3aXRjaChyW2wrK10pe2Nhc2Ugby5NOm49cltsKytdLGk9cltsKytdO2JyZWFrO2Nhc2Ugby5MOmlmKHU9cltsKytdLGg9cltsKytdLChnPWE/KHQtbikvKHUtbik6KHQtaSkvKGgtaSkpPD0xJiZnPj0wKXt2YXIgeT1hPyhoLWkpKmcraToodS1uKSpnK247cmV0dXJuIGE/W3QseV06W3ksdF19bj11LGk9aDticmVhaztjYXNlIG8uQzp1PXJbbCsrXSxoPXJbbCsrXSxjPXJbbCsrXSxwPXJbbCsrXSxkPXJbbCsrXSxmPXJbbCsrXTt2YXIgdj1hP0hvKG4sdSxjLGQsdCxzKTpIbyhpLGgscCxmLHQscyk7aWYodj4wKWZvcih2YXIgbT0wO208djttKyspe3ZhciBfPXNbbV07aWYoXzw9MSYmXz49MCl7eT1hP0dvKGksaCxwLGYsXyk6R28obix1LGMsZCxfKTtyZXR1cm4gYT9bdCx5XTpbeSx0XX19bj1kLGk9Zn19fSxlfShRYSksanc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlfShZdykscXc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbi50eXBlPSJlYy1wb2x5Z29uIixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBqd30sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5wb2ludHMsaT1lLnN0YWNrZWRPblBvaW50cyxyPTAsbz1uLmxlbmd0aC8yLGE9ZS5zbW9vdGhNb25vdG9uZTtpZihlLmNvbm5lY3ROdWxscyl7Zm9yKDtvPjAmJlV3KG5bMipvLTJdLG5bMipvLTFdKTtvLS0pO2Zvcig7cjxvJiZVdyhuWzIqcl0sblsyKnIrMV0pO3IrKyk7fWZvcig7cjxvOyl7dmFyIHM9WHcodCxuLHIsbyxvLDEsZS5zbW9vdGgsYSxlLmNvbm5lY3ROdWxscyk7WHcodCxpLHIrcy0xLHMsbywtMSxlLnN0YWNrZWRPblNtb290aCxhLGUuY29ubmVjdE51bGxzKSxyKz1zKzEsdC5jbG9zZVBhdGgoKX19LGV9KFFhKTtmdW5jdGlvbiBLdyh0LGUsbixpLHIpe3ZhciBvPXQuZ2V0QXJlYSgpLGE9by54LHM9by55LGw9by53aWR0aCx1PW8uaGVpZ2h0LGg9bi5nZXQoWyJsaW5lU3R5bGUiLCJ3aWR0aCJdKXx8MjthLT1oLzIscy09aC8yLGwrPWgsdSs9aCxhPU1hdGguZmxvb3IoYSksbD1NYXRoLnJvdW5kKGwpO3ZhciBjPW5ldyBjcyh7c2hhcGU6e3g6YSx5OnMsd2lkdGg6bCxoZWlnaHQ6dX19KTtpZihlKXt2YXIgcD10LmdldEJhc2VBeGlzKCksZD1wLmlzSG9yaXpvbnRhbCgpLGY9cC5pbnZlcnNlO2Q/KGYmJihjLnNoYXBlLngrPWwpLGMuc2hhcGUud2lkdGg9MCk6KGZ8fChjLnNoYXBlLnkrPXUpLGMuc2hhcGUuaGVpZ2h0PTApLFZ1KGMse3NoYXBlOnt3aWR0aDpsLGhlaWdodDp1LHg6YSx5OnN9fSxuLG51bGwsaSwiZnVuY3Rpb24iPT10eXBlb2Ygcj9mdW5jdGlvbih0KXtyKHQsYyl9Om51bGwpfXJldHVybiBjfWZ1bmN0aW9uICR3KHQsZSxuKXt2YXIgaT10LmdldEFyZWEoKSxyPUtpKGkucjAsMSksbz1LaShpLnIsMSksYT1uZXcgb3Uoe3NoYXBlOntjeDpLaSh0LmN4LDEpLGN5OktpKHQuY3ksMSkscjA6cixyOm8sc3RhcnRBbmdsZTppLnN0YXJ0QW5nbGUsZW5kQW5nbGU6aS5lbmRBbmdsZSxjbG9ja3dpc2U6aS5jbG9ja3dpc2V9fSk7ZSYmKCJhbmdsZSI9PT10LmdldEJhc2VBeGlzKCkuZGltP2Euc2hhcGUuZW5kQW5nbGU9aS5zdGFydEFuZ2xlOmEuc2hhcGUucj1yLFZ1KGEse3NoYXBlOntlbmRBbmdsZTppLmVuZEFuZ2xlLHI6b319LG4pKTtyZXR1cm4gYX1mdW5jdGlvbiBKdyh0LGUsbixpLHIpe3JldHVybiB0PyJwb2xhciI9PT10LnR5cGU/JHcodCxlLG4pOiJjYXJ0ZXNpYW4yZCI9PT10LnR5cGU/S3codCxlLG4saSxyKTpudWxsOm51bGx9ZnVuY3Rpb24gUXcodCxlKXtyZXR1cm4gdC50eXBlPT09ZX1mdW5jdGlvbiB0Uyh0LGUpe2lmKHQubGVuZ3RoPT09ZS5sZW5ndGgpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlmKHRbbl0hPT1lW25dKXJldHVybjtyZXR1cm4hMH19ZnVuY3Rpb24gZVModCl7Zm9yKHZhciBlPTEvMCxuPTEvMCxpPS0xLzAscj0tMS8wLG89MDtvPHQubGVuZ3RoOyl7dmFyIGE9dFtvKytdLHM9dFtvKytdO2lzTmFOKGEpfHwoZT1NYXRoLm1pbihhLGUpLGk9TWF0aC5tYXgoYSxpKSksaXNOYU4ocyl8fChuPU1hdGgubWluKHMsbikscj1NYXRoLm1heChzLHIpKX1yZXR1cm5bW2Usbl0sW2kscl1dfWZ1bmN0aW9uIG5TKHQsZSl7dmFyIG49ZVModCksaT1uWzBdLHI9blsxXSxvPWVTKGUpLGE9b1swXSxzPW9bMV07cmV0dXJuIE1hdGgubWF4KE1hdGguYWJzKGlbMF0tYVswXSksTWF0aC5hYnMoaVsxXS1hWzFdKSxNYXRoLmFicyhyWzBdLXNbMF0pLE1hdGguYWJzKHJbMV0tc1sxXSkpfWZ1bmN0aW9uIGlTKHQpe3JldHVybiJudW1iZXIiPT10eXBlb2YgdD90OnQ/LjU6MH1mdW5jdGlvbiByUyh0LGUsbil7Zm9yKHZhciBpPWUuZ2V0QmFzZUF4aXMoKSxyPSJ4Ij09PWkuZGltfHwicmFkaXVzIj09PWkuZGltPzA6MSxvPVtdLGE9MCxzPVtdLGw9W10sdT1bXTthPHQubGVuZ3RoLTI7YSs9Milzd2l0Y2godVswXT10W2ErMl0sdVsxXT10W2ErM10sbFswXT10W2FdLGxbMV09dFthKzFdLG8ucHVzaChsWzBdLGxbMV0pLG4pe2Nhc2UiZW5kIjpzW3JdPXVbcl0sc1sxLXJdPWxbMS1yXSxvLnB1c2goc1swXSxzWzFdKTticmVhaztjYXNlIm1pZGRsZSI6dmFyIGg9KGxbcl0rdVtyXSkvMixjPVtdO3Nbcl09Y1tyXT1oLHNbMS1yXT1sWzEtcl0sY1sxLXJdPXVbMS1yXSxvLnB1c2goc1swXSxzWzFdKSxvLnB1c2goY1swXSxjWzFdKTticmVhaztkZWZhdWx0OnNbcl09bFtyXSxzWzEtcl09dVsxLXJdLG8ucHVzaChzWzBdLHNbMV0pfXJldHVybiBvLnB1c2godFthKytdLHRbYSsrXSksb31mdW5jdGlvbiBvUyh0LGUsbil7dmFyIGk9dC5nZXRWaXN1YWwoInZpc3VhbE1ldGEiKTtpZihpJiZpLmxlbmd0aCYmdC5jb3VudCgpJiYiY2FydGVzaWFuMmQiPT09ZS50eXBlKXtmb3IodmFyIHIsbyxhPWkubGVuZ3RoLTE7YT49MDthLS0pe3ZhciBzPXQuZ2V0RGltZW5zaW9uSW5mbyhpW2FdLmRpbWVuc2lvbik7aWYoIngiPT09KHI9cyYmcy5jb29yZERpbSl8fCJ5Ij09PXIpe289aVthXTticmVha319aWYobyl7dmFyIGw9ZS5nZXRBeGlzKHIpLHU9UihvLnN0b3BzLChmdW5jdGlvbih0KXtyZXR1cm57Y29vcmQ6bC50b0dsb2JhbENvb3JkKGwuZGF0YVRvQ29vcmQodC52YWx1ZSkpLGNvbG9yOnQuY29sb3J9fSkpLGg9dS5sZW5ndGgsYz1vLm91dGVyQ29sb3JzLnNsaWNlKCk7aCYmdVswXS5jb29yZD51W2gtMV0uY29vcmQmJih1LnJldmVyc2UoKSxjLnJldmVyc2UoKSk7dmFyIHA9ZnVuY3Rpb24odCxlKXt2YXIgbixpLHI9W10sbz10Lmxlbmd0aDtmdW5jdGlvbiBhKHQsZSxuKXt2YXIgaT10LmNvb3JkO3JldHVybntjb29yZDpuLGNvbG9yOnFlKChuLWkpLyhlLmNvb3JkLWkpLFt0LmNvbG9yLGUuY29sb3JdKX19Zm9yKHZhciBzPTA7czxvO3MrKyl7dmFyIGw9dFtzXSx1PWwuY29vcmQ7aWYodTwwKW49bDtlbHNle2lmKHU+ZSl7aT9yLnB1c2goYShpLGwsZSkpOm4mJnIucHVzaChhKG4sbCwwKSxhKG4sbCxlKSk7YnJlYWt9biYmKHIucHVzaChhKG4sbCwwKSksbj1udWxsKSxyLnB1c2gobCksaT1sfX1yZXR1cm4gcn0odSwieCI9PT1yP24uZ2V0V2lkdGgoKTpuLmdldEhlaWdodCgpKSxkPXAubGVuZ3RoO2lmKCFkJiZoKXJldHVybiB1WzBdLmNvb3JkPDA/Y1sxXT9jWzFdOnVbaC0xXS5jb2xvcjpjWzBdP2NbMF06dVswXS5jb2xvcjt2YXIgZj1wWzBdLmNvb3JkLTEwLGc9cFtkLTFdLmNvb3JkKzEwLHk9Zy1mO2lmKHk8LjAwMSlyZXR1cm4idHJhbnNwYXJlbnQiO08ocCwoZnVuY3Rpb24odCl7dC5vZmZzZXQ9KHQuY29vcmQtZikveX0pKSxwLnB1c2goe29mZnNldDpkP3BbZC0xXS5vZmZzZXQ6LjUsY29sb3I6Y1sxXXx8InRyYW5zcGFyZW50In0pLHAudW5zaGlmdCh7b2Zmc2V0OmQ/cFswXS5vZmZzZXQ6LjUsY29sb3I6Y1swXXx8InRyYW5zcGFyZW50In0pO3ZhciB2PW5ldyBJdSgwLDAsMCwwLHAsITApO3JldHVybiB2W3JdPWYsdltyKyIyIl09Zyx2fX19ZnVuY3Rpb24gYVModCxlLG4pe3ZhciBpPXQuZ2V0KCJzaG93QWxsU3ltYm9sIikscj0iYXV0byI9PT1pO2lmKCFpfHxyKXt2YXIgbz1uLmdldEF4ZXNCeVNjYWxlKCJvcmRpbmFsIilbMF07aWYobyYmKCFyfHwhZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldEV4dGVudCgpLGk9TWF0aC5hYnMoblsxXS1uWzBdKS90LnNjYWxlLmNvdW50KCk7aXNOYU4oaSkmJihpPTApO2Zvcih2YXIgcj1lLmNvdW50KCksbz1NYXRoLm1heCgxLE1hdGgucm91bmQoci81KSksYT0wO2E8cjthKz1vKWlmKDEuNSpMdy5nZXRTeW1ib2xTaXplKGUsYSlbdC5pc0hvcml6b250YWwoKT8xOjBdPmkpcmV0dXJuITE7cmV0dXJuITB9KG8sZSkpKXt2YXIgYT1lLm1hcERpbWVuc2lvbihvLmRpbSkscz17fTtyZXR1cm4gTyhvLmdldFZpZXdMYWJlbHMoKSwoZnVuY3Rpb24odCl7dmFyIGU9by5zY2FsZS5nZXRSYXdPcmRpbmFsTnVtYmVyKHQudGlja1ZhbHVlKTtzW2VdPTF9KSksZnVuY3Rpb24odCl7cmV0dXJuIXMuaGFzT3duUHJvcGVydHkoZS5nZXQoYSx0KSl9fX19ZnVuY3Rpb24gc1ModCxlKXtyZXR1cm5bdFsyKmVdLHRbMiplKzFdXX1mdW5jdGlvbiBsUyh0KXtpZih0LmdldChbImVuZExhYmVsIiwic2hvdyJdKSlyZXR1cm4hMDtmb3IodmFyIGU9MDtlPERzLmxlbmd0aDtlKyspaWYodC5nZXQoW0RzW2VdLCJlbmRMYWJlbCIsInNob3ciXSkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gdVModCxlLG4saSl7aWYoUXcoZSwiY2FydGVzaWFuMmQiKSl7dmFyIHI9aS5nZXRNb2RlbCgiZW5kTGFiZWwiKSxvPXIuZ2V0KCJ2YWx1ZUFuaW1hdGlvbiIpLGE9aS5nZXREYXRhKCkscz17bGFzdEZyYW1lSW5kZXg6MH0sbD1sUyhpKT9mdW5jdGlvbihuLGkpe3QuX2VuZExhYmVsT25EdXJpbmcobixpLGEscyxvLHIsZSl9Om51bGwsdT1lLmdldEJhc2VBeGlzKCkuaXNIb3Jpem9udGFsKCksaD1LdyhlLG4saSwoZnVuY3Rpb24oKXt2YXIgZT10Ll9lbmRMYWJlbDtlJiZuJiZudWxsIT1zLm9yaWdpbmFsWCYmZS5hdHRyKHt4OnMub3JpZ2luYWxYLHk6cy5vcmlnaW5hbFl9KX0pLGwpO2lmKCFpLmdldCgiY2xpcCIsITApKXt2YXIgYz1oLnNoYXBlLHA9TWF0aC5tYXgoYy53aWR0aCxjLmhlaWdodCk7dT8oYy55LT1wLGMuaGVpZ2h0Kz0yKnApOihjLngtPXAsYy53aWR0aCs9MipwKX1yZXR1cm4gbCYmbCgxLGgpLGh9cmV0dXJuICR3KGUsbixpKX12YXIgaFM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEJpLGU9bmV3IHp3O3RoaXMuZ3JvdXAuYWRkKGUuZ3JvdXApLHRoaXMuX3N5bWJvbERyYXc9ZSx0aGlzLl9saW5lR3JvdXA9dH0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLHI9dC5jb29yZGluYXRlU3lzdGVtLG89dGhpcy5ncm91cCxhPXQuZ2V0RGF0YSgpLHM9dC5nZXRNb2RlbCgibGluZVN0eWxlIiksbD10LmdldE1vZGVsKCJhcmVhU3R5bGUiKSx1PWEuZ2V0TGF5b3V0KCJwb2ludHMiKXx8W10saD0icG9sYXIiPT09ci50eXBlLGM9dGhpcy5fY29vcmRTeXMscD10aGlzLl9zeW1ib2xEcmF3LGQ9dGhpcy5fcG9seWxpbmUsZj10aGlzLl9wb2x5Z29uLGc9dGhpcy5fbGluZUdyb3VwLHk9dC5nZXQoImFuaW1hdGlvbiIpLHY9IWwuaXNFbXB0eSgpLG09bC5nZXQoIm9yaWdpbiIpLF89RXcocixhLG0pLHg9diYmZnVuY3Rpb24odCxlLG4pe2lmKCFuLnZhbHVlRGltKXJldHVybltdO2Zvcih2YXIgaT1lLmNvdW50KCkscj1GdygyKmkpLG89MDtvPGk7bysrKXt2YXIgYT1WdyhuLHQsZSxvKTtyWzIqb109YVswXSxyWzIqbysxXT1hWzFdfXJldHVybiByfShyLGEsXyksYj10LmdldCgic2hvd1N5bWJvbCIpLHc9YiYmIWgmJmFTKHQsYSxyKSxTPXRoaXMuX2RhdGE7UyYmUy5lYWNoSXRlbUdyYXBoaWNFbCgoZnVuY3Rpb24odCxlKXt0Ll9fdGVtcCYmKG8ucmVtb3ZlKHQpLFMuc2V0SXRlbUdyYXBoaWNFbChlLG51bGwpKX0pKSxifHxwLnJlbW92ZSgpLG8uYWRkKGcpO3ZhciBNLEk9IWgmJnQuZ2V0KCJzdGVwIik7ciYmci5nZXRBcmVhJiZ0LmdldCgiY2xpcCIsITApJiYobnVsbCE9KE09ci5nZXRBcmVhKCkpLndpZHRoPyhNLngtPS4xLE0ueS09LjEsTS53aWR0aCs9LjIsTS5oZWlnaHQrPS4yKTpNLnIwJiYoTS5yMC09LjUsTS5yKz0uNSkpLHRoaXMuX2NsaXBTaGFwZUZvclN5bWJvbD1NO3ZhciBUPW9TKGEscixuKXx8YS5nZXRWaXN1YWwoInN0eWxlIilbYS5nZXRWaXN1YWwoImRyYXdUeXBlIildO2lmKGQmJmMudHlwZT09PXIudHlwZSYmST09PXRoaXMuX3N0ZXApe3YmJiFmP2Y9dGhpcy5fbmV3UG9seWdvbih1LHgpOmYmJiF2JiYoZy5yZW1vdmUoZiksZj10aGlzLl9wb2x5Z29uPW51bGwpLGh8fHRoaXMuX2luaXRPclVwZGF0ZUVuZExhYmVsKHQscixIYyhUKSk7dmFyIEQ9Zy5nZXRDbGlwUGF0aCgpO2lmKEQpVnUoRCx7c2hhcGU6dVModGhpcyxyLCExLHQpLnNoYXBlfSx0KTtlbHNlIGcuc2V0Q2xpcFBhdGgodVModGhpcyxyLCEwLHQpKTtiJiZwLnVwZGF0ZURhdGEoYSx7aXNJZ25vcmU6dyxjbGlwU2hhcGU6TSxkaXNhYmxlQW5pbWF0aW9uOiEwLGdldFN5bWJvbFBvaW50OmZ1bmN0aW9uKHQpe3JldHVyblt1WzIqdF0sdVsyKnQrMV1dfX0pLHRTKHRoaXMuX3N0YWNrZWRPblBvaW50cyx4KSYmdFModGhpcy5fcG9pbnRzLHUpfHwoeT90aGlzLl9kb1VwZGF0ZUFuaW1hdGlvbihhLHgscixuLEksbSk6KEkmJih1PXJTKHUscixJKSx4JiYoeD1yUyh4LHIsSSkpKSxkLnNldFNoYXBlKHtwb2ludHM6dX0pLGYmJmYuc2V0U2hhcGUoe3BvaW50czp1LHN0YWNrZWRPblBvaW50czp4fSkpKX1lbHNlIGImJnAudXBkYXRlRGF0YShhLHtpc0lnbm9yZTp3LGNsaXBTaGFwZTpNLGRpc2FibGVBbmltYXRpb246ITAsZ2V0U3ltYm9sUG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuW3VbMip0XSx1WzIqdCsxXV19fSkseSYmdGhpcy5faW5pdFN5bWJvbExhYmVsQW5pbWF0aW9uKGEscixNKSxJJiYodT1yUyh1LHIsSSkseCYmKHg9clMoeCxyLEkpKSksZD10aGlzLl9uZXdQb2x5bGluZSh1KSx2JiYoZj10aGlzLl9uZXdQb2x5Z29uKHUseCkpLGh8fHRoaXMuX2luaXRPclVwZGF0ZUVuZExhYmVsKHQscixIYyhUKSksZy5zZXRDbGlwUGF0aCh1Uyh0aGlzLHIsITAsdCkpO3ZhciBBPXQuZ2V0KFsiZW1waGFzaXMiLCJmb2N1cyJdKSxrPXQuZ2V0KFsiZW1waGFzaXMiLCJibHVyU2NvcGUiXSk7KGQudXNlU3R5bGUoQyhzLmdldExpbmVTdHlsZSgpLHtmaWxsOiJub25lIixzdHJva2U6VCxsaW5lSm9pbjoiYmV2ZWwifSkpLHlsKGQsdCwibGluZVN0eWxlIiksZC5zdHlsZS5saW5lV2lkdGg+MCYmImJvbGRlciI9PT10LmdldChbImVtcGhhc2lzIiwibGluZVN0eWxlIiwid2lkdGgiXSkpJiYoZC5nZXRTdGF0ZSgiZW1waGFzaXMiKS5zdHlsZS5saW5lV2lkdGg9K2Quc3R5bGUubGluZVdpZHRoKzEpO1NzKGQpLnNlcmllc0luZGV4PXQuc2VyaWVzSW5kZXgscGwoZCxBLGspO3ZhciBMPWlTKHQuZ2V0KCJzbW9vdGgiKSksUD10LmdldCgic21vb3RoTW9ub3RvbmUiKSxPPXQuZ2V0KCJjb25uZWN0TnVsbHMiKTtpZihkLnNldFNoYXBlKHtzbW9vdGg6TCxzbW9vdGhNb25vdG9uZTpQLGNvbm5lY3ROdWxsczpPfSksZil7dmFyIFI9YS5nZXRDYWxjdWxhdGlvbkluZm8oInN0YWNrZWRPblNlcmllcyIpLE49MDtmLnVzZVN0eWxlKEMobC5nZXRBcmVhU3R5bGUoKSx7ZmlsbDpULG9wYWNpdHk6LjcsbGluZUpvaW46ImJldmVsIixkZWNhbDphLmdldFZpc3VhbCgic3R5bGUiKS5kZWNhbH0pKSxSJiYoTj1pUyhSLmdldCgic21vb3RoIikpKSxmLnNldFNoYXBlKHtzbW9vdGg6TCxzdGFja2VkT25TbW9vdGg6TixzbW9vdGhNb25vdG9uZTpQLGNvbm5lY3ROdWxsczpPfSkseWwoZix0LCJhcmVhU3R5bGUiKSxTcyhmKS5zZXJpZXNJbmRleD10LnNlcmllc0luZGV4LHBsKGYsQSxrKX12YXIgej1mdW5jdGlvbih0KXtpLl9jaGFuZ2VQb2x5U3RhdGUodCl9O2EuZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKHQpe3QmJih0Lm9uSG92ZXJTdGF0ZUNoYW5nZT16KX0pKSx0aGlzLl9wb2x5bGluZS5vbkhvdmVyU3RhdGVDaGFuZ2U9eix0aGlzLl9kYXRhPWEsdGhpcy5fY29vcmRTeXM9cix0aGlzLl9zdGFja2VkT25Qb2ludHM9eCx0aGlzLl9wb2ludHM9dSx0aGlzLl9zdGVwPUksdGhpcy5fdmFsdWVPcmlnaW49bSx0LmdldCgidHJpZ2dlckxpbmVFdmVudCIpJiYodGhpcy5wYWNrRXZlbnREYXRhKHQsZCksZiYmdGhpcy5wYWNrRXZlbnREYXRhKHQsZikpfSxlLnByb3RvdHlwZS5wYWNrRXZlbnREYXRhPWZ1bmN0aW9uKHQsZSl7U3MoZSkuZXZlbnREYXRhPXtjb21wb25lbnRUeXBlOiJzZXJpZXMiLGNvbXBvbmVudFN1YlR5cGU6ImxpbmUiLGNvbXBvbmVudEluZGV4OnQuY29tcG9uZW50SW5kZXgsc2VyaWVzSW5kZXg6dC5zZXJpZXNJbmRleCxzZXJpZXNOYW1lOnQubmFtZSxzZXJpZXNUeXBlOiJsaW5lIn19LGUucHJvdG90eXBlLmhpZ2hsaWdodD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LmdldERhdGEoKSxvPU9yKHIsaSk7aWYodGhpcy5fY2hhbmdlUG9seVN0YXRlKCJlbXBoYXNpcyIpLCEobyBpbnN0YW5jZW9mIEFycmF5KSYmbnVsbCE9byYmbz49MCl7dmFyIGE9ci5nZXRMYXlvdXQoInBvaW50cyIpLHM9ci5nZXRJdGVtR3JhcGhpY0VsKG8pO2lmKCFzKXt2YXIgbD1hWzIqb10sdT1hWzIqbysxXTtpZihpc05hTihsKXx8aXNOYU4odSkpcmV0dXJuO2lmKHRoaXMuX2NsaXBTaGFwZUZvclN5bWJvbCYmIXRoaXMuX2NsaXBTaGFwZUZvclN5bWJvbC5jb250YWluKGwsdSkpcmV0dXJuO3ZhciBoPXQuZ2V0KCJ6bGV2ZWwiKSxjPXQuZ2V0KCJ6Iik7KHM9bmV3IEx3KHIsbykpLng9bCxzLnk9dSxzLnNldFooaCxjKTt2YXIgcD1zLmdldFN5bWJvbFBhdGgoKS5nZXRUZXh0Q29udGVudCgpO3AmJihwLnpsZXZlbD1oLHAuej1jLHAuejI9dGhpcy5fcG9seWxpbmUuejIrMSkscy5fX3RlbXA9ITAsci5zZXRJdGVtR3JhcGhpY0VsKG8scykscy5zdG9wU3ltYm9sQW5pbWF0aW9uKCEwKSx0aGlzLmdyb3VwLmFkZChzKX1zLmhpZ2hsaWdodCgpfWVsc2UgWmYucHJvdG90eXBlLmhpZ2hsaWdodC5jYWxsKHRoaXMsdCxlLG4saSl9LGUucHJvdG90eXBlLmRvd25wbGF5PWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXQuZ2V0RGF0YSgpLG89T3IocixpKTtpZih0aGlzLl9jaGFuZ2VQb2x5U3RhdGUoIm5vcm1hbCIpLG51bGwhPW8mJm8+PTApe3ZhciBhPXIuZ2V0SXRlbUdyYXBoaWNFbChvKTthJiYoYS5fX3RlbXA/KHIuc2V0SXRlbUdyYXBoaWNFbChvLG51bGwpLHRoaXMuZ3JvdXAucmVtb3ZlKGEpKTphLmRvd25wbGF5KCkpfWVsc2UgWmYucHJvdG90eXBlLmRvd25wbGF5LmNhbGwodGhpcyx0LGUsbixpKX0sZS5wcm90b3R5cGUuX2NoYW5nZVBvbHlTdGF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9wb2x5Z29uO2pzKHRoaXMuX3BvbHlsaW5lLHQpLGUmJmpzKGUsdCl9LGUucHJvdG90eXBlLl9uZXdQb2x5bGluZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9wb2x5bGluZTtyZXR1cm4gZSYmdGhpcy5fbGluZUdyb3VwLnJlbW92ZShlKSxlPW5ldyBadyh7c2hhcGU6e3BvaW50czp0fSxzZWdtZW50SWdub3JlVGhyZXNob2xkOjIsejI6MTB9KSx0aGlzLl9saW5lR3JvdXAuYWRkKGUpLHRoaXMuX3BvbHlsaW5lPWUsZX0sZS5wcm90b3R5cGUuX25ld1BvbHlnb249ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9wb2x5Z29uO3JldHVybiBuJiZ0aGlzLl9saW5lR3JvdXAucmVtb3ZlKG4pLG49bmV3IHF3KHtzaGFwZTp7cG9pbnRzOnQsc3RhY2tlZE9uUG9pbnRzOmV9LHNlZ21lbnRJZ25vcmVUaHJlc2hvbGQ6Mn0pLHRoaXMuX2xpbmVHcm91cC5hZGQobiksdGhpcy5fcG9seWdvbj1uLG59LGUucHJvdG90eXBlLl9pbml0U3ltYm9sTGFiZWxBbmltYXRpb249ZnVuY3Rpb24odCxlLG4pe3ZhciBpLHIsbz1lLmdldEJhc2VBeGlzKCksYT1vLmludmVyc2U7ImNhcnRlc2lhbjJkIj09PWUudHlwZT8oaT1vLmlzSG9yaXpvbnRhbCgpLHI9ITEpOiJwb2xhciI9PT1lLnR5cGUmJihpPSJhbmdsZSI9PT1vLmRpbSxyPSEwKTt2YXIgcz10Lmhvc3RNb2RlbCxsPXMuZ2V0KCJhbmltYXRpb25EdXJhdGlvbiIpOyJmdW5jdGlvbiI9PXR5cGVvZiBsJiYobD1sKG51bGwpKTt2YXIgdT1zLmdldCgiYW5pbWF0aW9uRGVsYXkiKXx8MCxoPSJmdW5jdGlvbiI9PXR5cGVvZiB1P3UobnVsbCk6dTt0LmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbih0LG8pe3ZhciBzPXQ7aWYocyl7dmFyIGM9W3QueCx0LnldLHA9dm9pZCAwLGQ9dm9pZCAwLGY9dm9pZCAwO2lmKG4paWYocil7dmFyIGc9bix5PWUucG9pbnRUb0Nvb3JkKGMpO2k/KHA9Zy5zdGFydEFuZ2xlLGQ9Zy5lbmRBbmdsZSxmPS15WzFdLzE4MCpNYXRoLlBJKToocD1nLnIwLGQ9Zy5yLGY9eVswXSl9ZWxzZXt2YXIgdj1uO2k/KHA9di54LGQ9di54K3Yud2lkdGgsZj10LngpOihwPXYueSt2LmhlaWdodCxkPXYueSxmPXQueSl9dmFyIG09ZD09PXA/MDooZi1wKS8oZC1wKTthJiYobT0xLW0pO3ZhciBfPSJmdW5jdGlvbiI9PXR5cGVvZiB1P3Uobyk6bCptK2gseD1zLmdldFN5bWJvbFBhdGgoKSxiPXguZ2V0VGV4dENvbnRlbnQoKTtzLmF0dHIoe3NjYWxlWDowLHNjYWxlWTowfSkscy5hbmltYXRlVG8oe3NjYWxlWDoxLHNjYWxlWToxfSx7ZHVyYXRpb246MjAwLHNldFRvRmluYWw6ITAsZGVsYXk6X30pLGImJmIuYW5pbWF0ZUZyb20oe3N0eWxlOntvcGFjaXR5OjB9fSx7ZHVyYXRpb246MzAwLGRlbGF5Ol99KSx4LmRpc2FibGVMYWJlbEFuaW1hdGlvbj0hMH19KSl9LGUucHJvdG90eXBlLl9pbml0T3JVcGRhdGVFbmRMYWJlbD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5nZXRNb2RlbCgiZW5kTGFiZWwiKTtpZihsUyh0KSl7dmFyIHI9dC5nZXREYXRhKCksbz10aGlzLl9wb2x5bGluZSxhPXRoaXMuX2VuZExhYmVsO2F8fCgoYT10aGlzLl9lbmRMYWJlbD1uZXcgZnMoe3oyOjIwMH0pKS5pZ25vcmVDbGlwPSEwLG8uc2V0VGV4dENvbnRlbnQodGhpcy5fZW5kTGFiZWwpLG8uZGlzYWJsZUxhYmVsQW5pbWF0aW9uPSEwKTt2YXIgcz1mdW5jdGlvbih0KXtmb3IodmFyIGUsbixpPXQubGVuZ3RoLzI7aT4wJiYoZT10WzIqaS0yXSxuPXRbMippLTFdLGlzTmFOKGUpfHxpc05hTihuKSk7aS0tKTtyZXR1cm4gaS0xfShyLmdldExheW91dCgicG9pbnRzIikpO3M+PTAmJih4aChvLGJoKHQsImVuZExhYmVsIikse2luaGVyaXRDb2xvcjpuLGxhYmVsRmV0Y2hlcjp0LGxhYmVsRGF0YUluZGV4OnMsZGVmYXVsdFRleHQ6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBudWxsIT1uP2t3KHIsbik6QXcocix0KX0sZW5hYmxlVGV4dFNldHRlcjohMH0sZnVuY3Rpb24odCxlKXt2YXIgbj1lLmdldEJhc2VBeGlzKCksaT1uLmlzSG9yaXpvbnRhbCgpLHI9bi5pbnZlcnNlLG89aT9yPyJyaWdodCI6ImxlZnQiOiJjZW50ZXIiLGE9aT8ibWlkZGxlIjpyPyJ0b3AiOiJib3R0b20iO3JldHVybntub3JtYWw6e2FsaWduOnQuZ2V0KCJhbGlnbiIpfHxvLHZlcnRpY2FsQWxpZ246dC5nZXQoInZlcnRpY2FsQWxpZ24iKXx8YX19fShpLGUpKSxvLnRleHRDb25maWcucG9zaXRpb249bnVsbCl9ZWxzZSB0aGlzLl9lbmRMYWJlbCYmKHRoaXMuX3BvbHlsaW5lLnJlbW92ZVRleHRDb250ZW50KCksdGhpcy5fZW5kTGFiZWw9bnVsbCl9LGUucHJvdG90eXBlLl9lbmRMYWJlbE9uRHVyaW5nPWZ1bmN0aW9uKHQsZSxuLGkscixvLGEpe3ZhciBzPXRoaXMuX2VuZExhYmVsLGw9dGhpcy5fcG9seWxpbmU7aWYocyl7dDwxJiZudWxsPT1pLm9yaWdpbmFsWCYmKGkub3JpZ2luYWxYPXMueCxpLm9yaWdpbmFsWT1zLnkpO3ZhciB1PW4uZ2V0TGF5b3V0KCJwb2ludHMiKSxoPW4uaG9zdE1vZGVsLGM9aC5nZXQoImNvbm5lY3ROdWxscyIpLHA9by5nZXQoInByZWNpc2lvbiIpLGQ9by5nZXQoImRpc3RhbmNlIil8fDAsZj1hLmdldEJhc2VBeGlzKCksZz1mLmlzSG9yaXpvbnRhbCgpLHk9Zi5pbnZlcnNlLHY9ZS5zaGFwZSxtPXk/Zz92Lng6di55K3YuaGVpZ2h0Omc/di54K3Yud2lkdGg6di55LF89KGc/ZDowKSooeT8tMToxKSx4PShnPzA6LWQpKih5Py0xOjEpLGI9Zz8ieCI6InkiLHc9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaSxyLG89dC5sZW5ndGgvMixhPSJ4Ij09PW4/MDoxLHM9MCxsPS0xLHU9MDt1PG87dSsrKWlmKHI9dFsyKnUrYV0sIWlzTmFOKHIpJiYhaXNOYU4odFsyKnUrMS1hXSkpaWYoMCE9PXUpe2lmKGk8PWUmJnI+PWV8fGk+PWUmJnI8PWUpe2w9dTticmVha31zPXUsaT1yfWVsc2UgaT1yO3JldHVybntyYW5nZTpbcyxsXSx0OihlLWkpLyhyLWkpfX0odSxtLGIpLFM9dy5yYW5nZSxNPVNbMV0tU1swXSxJPXZvaWQgMDtpZihNPj0xKXtpZihNPjEmJiFjKXt2YXIgVD1zUyh1LFNbMF0pO3MuYXR0cih7eDpUWzBdK18seTpUWzFdK3h9KSxyJiYoST1oLmdldFJhd1ZhbHVlKFNbMF0pKX1lbHNleyhUPWwuZ2V0UG9pbnRPbihtLGIpKSYmcy5hdHRyKHt4OlRbMF0rXyx5OlRbMV0reH0pO3ZhciBDPWguZ2V0UmF3VmFsdWUoU1swXSksRD1oLmdldFJhd1ZhbHVlKFNbMV0pO3ImJihJPVdyKG4scCxDLEQsdy50KSl9aS5sYXN0RnJhbWVJbmRleD1TWzBdfWVsc2V7dmFyIEE9MT09PXR8fGkubGFzdEZyYW1lSW5kZXg+MD9TWzBdOjA7VD1zUyh1LEEpO3ImJihJPWguZ2V0UmF3VmFsdWUoQSkpLHMuYXR0cih7eDpUWzBdK18seTpUWzFdK3h9KX1yJiZBaChzKS5zZXRMYWJlbFRleHQoSSl9fSxlLnByb3RvdHlwZS5fZG9VcGRhdGVBbmltYXRpb249ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhPXRoaXMuX3BvbHlsaW5lLHM9dGhpcy5fcG9seWdvbixsPXQuaG9zdE1vZGVsLHU9ZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzKXtmb3IodmFyIGw9ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTtyZXR1cm4gZS5kaWZmKHQpLmFkZCgoZnVuY3Rpb24odCl7bi5wdXNoKHtjbWQ6IisiLGlkeDp0fSl9KSkudXBkYXRlKChmdW5jdGlvbih0LGUpe24ucHVzaCh7Y21kOiI9IixpZHg6ZSxpZHgxOnR9KX0pKS5yZW1vdmUoKGZ1bmN0aW9uKHQpe24ucHVzaCh7Y21kOiItIixpZHg6dH0pfSkpLmV4ZWN1dGUoKSxufSh0LGUpLHU9W10saD1bXSxjPVtdLHA9W10sZD1bXSxmPVtdLGc9W10seT1FdyhyLGUsYSksdj10LmdldExheW91dCgicG9pbnRzIil8fFtdLG09ZS5nZXRMYXlvdXQoInBvaW50cyIpfHxbXSxfPTA7XzxsLmxlbmd0aDtfKyspe3ZhciB4PWxbX10sYj0hMCx3PXZvaWQgMCxTPXZvaWQgMDtzd2l0Y2goeC5jbWQpe2Nhc2UiPSI6dz0yKnguaWR4LFM9Mip4LmlkeDE7dmFyIE09dlt3XSxJPXZbdysxXSxUPW1bU10sQz1tW1MrMV07KGlzTmFOKE0pfHxpc05hTihJKSkmJihNPVQsST1DKSx1LnB1c2goTSxJKSxoLnB1c2goVCxDKSxjLnB1c2goblt3XSxuW3crMV0pLHAucHVzaChpW1NdLGlbUysxXSksZy5wdXNoKGUuZ2V0UmF3SW5kZXgoeC5pZHgxKSk7YnJlYWs7Y2FzZSIrIjp2YXIgRD14LmlkeCxBPXkuZGF0YURpbXNGb3JQb2ludCxrPXIuZGF0YVRvUG9pbnQoW2UuZ2V0KEFbMF0sRCksZS5nZXQoQVsxXSxEKV0pO1M9MipELHUucHVzaChrWzBdLGtbMV0pLGgucHVzaChtW1NdLG1bUysxXSk7dmFyIEw9VncoeSxyLGUsRCk7Yy5wdXNoKExbMF0sTFsxXSkscC5wdXNoKGlbU10saVtTKzFdKSxnLnB1c2goZS5nZXRSYXdJbmRleChEKSk7YnJlYWs7Y2FzZSItIjpiPSExfWImJihkLnB1c2goeCksZi5wdXNoKGYubGVuZ3RoKSl9Zi5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBnW3RdLWdbZV19KSk7dmFyIFA9dS5sZW5ndGgsTz1GdyhQKSxSPUZ3KFApLE49RncoUCksej1GdyhQKSxFPVtdO2ZvcihfPTA7XzxmLmxlbmd0aDtfKyspe3ZhciBWPWZbX10sQj0yKl8sRz0yKlY7T1tCXT11W0ddLE9bQisxXT11W0crMV0sUltCXT1oW0ddLFJbQisxXT1oW0crMV0sTltCXT1jW0ddLE5bQisxXT1jW0crMV0seltCXT1wW0ddLHpbQisxXT1wW0crMV0sRVtfXT1kW1ZdfXJldHVybntjdXJyZW50Ok8sbmV4dDpSLHN0YWNrZWRPbkN1cnJlbnQ6TixzdGFja2VkT25OZXh0Onosc3RhdHVzOkV9fSh0aGlzLl9kYXRhLHQsdGhpcy5fc3RhY2tlZE9uUG9pbnRzLGUsdGhpcy5fY29vcmRTeXMsMCx0aGlzLl92YWx1ZU9yaWdpbiksaD11LmN1cnJlbnQsYz11LnN0YWNrZWRPbkN1cnJlbnQscD11Lm5leHQsZD11LnN0YWNrZWRPbk5leHQ7aWYociYmKGg9clModS5jdXJyZW50LG4sciksYz1yUyh1LnN0YWNrZWRPbkN1cnJlbnQsbixyKSxwPXJTKHUubmV4dCxuLHIpLGQ9clModS5zdGFja2VkT25OZXh0LG4scikpLG5TKGgscCk+M2UzfHxzJiZuUyhjLGQpPjNlMylyZXR1cm4gYS5zdG9wQW5pbWF0aW9uKCksYS5zZXRTaGFwZSh7cG9pbnRzOnB9KSx2b2lkKHMmJihzLnN0b3BBbmltYXRpb24oKSxzLnNldFNoYXBlKHtwb2ludHM6cCxzdGFja2VkT25Qb2ludHM6ZH0pKSk7YS5zaGFwZS5fX3BvaW50cz11LmN1cnJlbnQsYS5zaGFwZS5wb2ludHM9aDt2YXIgZj17c2hhcGU6e3BvaW50czpwfX07dS5jdXJyZW50IT09aCYmKGYuc2hhcGUuX19wb2ludHM9dS5uZXh0KSxhLnN0b3BBbmltYXRpb24oKSxFdShhLGYsbCkscyYmKHMuc2V0U2hhcGUoe3BvaW50czpoLHN0YWNrZWRPblBvaW50czpjfSkscy5zdG9wQW5pbWF0aW9uKCksRXUocyx7c2hhcGU6e3N0YWNrZWRPblBvaW50czpkfX0sbCksYS5zaGFwZS5wb2ludHMhPT1zLnNoYXBlLnBvaW50cyYmKHMuc2hhcGUucG9pbnRzPWEuc2hhcGUucG9pbnRzKSk7Zm9yKHZhciBnPVtdLHk9dS5zdGF0dXMsdj0wO3Y8eS5sZW5ndGg7disrKXtpZigiPSI9PT15W3ZdLmNtZCl7dmFyIG09dC5nZXRJdGVtR3JhcGhpY0VsKHlbdl0uaWR4MSk7bSYmZy5wdXNoKHtlbDptLHB0SWR4OnZ9KX19YS5hbmltYXRvcnMmJmEuYW5pbWF0b3JzLmxlbmd0aCYmYS5hbmltYXRvcnNbMF0uZHVyaW5nKChmdW5jdGlvbigpe3MmJnMuZGlydHlTaGFwZSgpO2Zvcih2YXIgdD1hLnNoYXBlLl9fcG9pbnRzLGU9MDtlPGcubGVuZ3RoO2UrKyl7dmFyIG49Z1tlXS5lbCxpPTIqZ1tlXS5wdElkeDtuLng9dFtpXSxuLnk9dFtpKzFdLG4ubWFya1JlZHJhdygpfX0pKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ3JvdXAsbj10aGlzLl9kYXRhO3RoaXMuX2xpbmVHcm91cC5yZW1vdmVBbGwoKSx0aGlzLl9zeW1ib2xEcmF3LnJlbW92ZSghMCksbiYmbi5lYWNoSXRlbUdyYXBoaWNFbCgoZnVuY3Rpb24odCxpKXt0Ll9fdGVtcCYmKGUucmVtb3ZlKHQpLG4uc2V0SXRlbUdyYXBoaWNFbChpLG51bGwpKX0pKSx0aGlzLl9wb2x5bGluZT10aGlzLl9wb2x5Z29uPXRoaXMuX2Nvb3JkU3lzPXRoaXMuX3BvaW50cz10aGlzLl9zdGFja2VkT25Qb2ludHM9dGhpcy5fZW5kTGFiZWw9dGhpcy5fZGF0YT1udWxsfSxlLnR5cGU9ImxpbmUiLGV9KFpmKTtmdW5jdGlvbiBjUyh0LGUpe3JldHVybntzZXJpZXNUeXBlOnQscGxhbjpVZigpLHJlc2V0OmZ1bmN0aW9uKHQpe3ZhciBuPXQuZ2V0RGF0YSgpLGk9dC5jb29yZGluYXRlU3lzdGVtLHI9dC5waXBlbGluZUNvbnRleHQsbz1lfHxyLmxhcmdlO2lmKGkpe3ZhciBhPVIoaS5kaW1lbnNpb25zLChmdW5jdGlvbih0KXtyZXR1cm4gbi5tYXBEaW1lbnNpb24odCl9KSkuc2xpY2UoMCwyKSxzPWEubGVuZ3RoLGw9bi5nZXRDYWxjdWxhdGlvbkluZm8oInN0YWNrUmVzdWx0RGltZW5zaW9uIik7eV8obixhWzBdKSYmKGFbMF09bCkseV8obixhWzFdKSYmKGFbMV09bCk7dmFyIHU9bi5nZXRTdG9yZSgpLGg9bi5nZXREaW1lbnNpb25JbmRleChhWzBdKSxjPW4uZ2V0RGltZW5zaW9uSW5kZXgoYVsxXSk7cmV0dXJuIHMmJntwcm9ncmVzczpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10LmVuZC10LnN0YXJ0LHI9byYmRncobipzKSxhPVtdLGw9W10scD10LnN0YXJ0LGQ9MDtwPHQuZW5kO3ArKyl7dmFyIGY9dm9pZCAwO2lmKDE9PT1zKXt2YXIgZz11LmdldChoLHApO2Y9aS5kYXRhVG9Qb2ludChnLG51bGwsbCl9ZWxzZSBhWzBdPXUuZ2V0KGgscCksYVsxXT11LmdldChjLHApLGY9aS5kYXRhVG9Qb2ludChhLG51bGwsbCk7bz8ocltkKytdPWZbMF0scltkKytdPWZbMV0pOmUuc2V0SXRlbUxheW91dChwLGYuc2xpY2UoKSl9byYmZS5zZXRMYXlvdXQoInBvaW50cyIscil9fX19fX12YXIgcFM9e2F2ZXJhZ2U6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj0wLGk9MDtpPHQubGVuZ3RoO2krKylpc05hTih0W2ldKXx8KGUrPXRbaV0sbisrKTtyZXR1cm4gMD09PW4/TmFOOmUvbn0sc3VtOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49MDtuPHQubGVuZ3RoO24rKyllKz10W25dfHwwO3JldHVybiBlfSxtYXg6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPS0xLzAsbj0wO248dC5sZW5ndGg7bisrKXRbbl0+ZSYmKGU9dFtuXSk7cmV0dXJuIGlzRmluaXRlKGUpP2U6TmFOfSxtaW46ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTEvMCxuPTA7bjx0Lmxlbmd0aDtuKyspdFtuXTxlJiYoZT10W25dKTtyZXR1cm4gaXNGaW5pdGUoZSk/ZTpOYU59LG5lYXJlc3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHRbMF19fSxkUz1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5yb3VuZCh0Lmxlbmd0aC8yKX07ZnVuY3Rpb24gZlModCl7cmV0dXJue3Nlcmllc1R5cGU6dCxyZXNldDpmdW5jdGlvbih0LGUsbil7dmFyIGk9dC5nZXREYXRhKCkscj10LmdldCgic2FtcGxpbmciKSxvPXQuY29vcmRpbmF0ZVN5c3RlbSxhPWkuY291bnQoKTtpZihhPjEwJiYiY2FydGVzaWFuMmQiPT09by50eXBlJiZyKXt2YXIgcz1vLmdldEJhc2VBeGlzKCksbD1vLmdldE90aGVyQXhpcyhzKSx1PXMuZ2V0RXh0ZW50KCksaD1uLmdldERldmljZVBpeGVsUmF0aW8oKSxjPU1hdGguYWJzKHVbMV0tdVswXSkqKGh8fDEpLHA9TWF0aC5yb3VuZChhL2MpO2lmKHA+MSl7Imx0dGIiPT09ciYmdC5zZXREYXRhKGkubHR0YkRvd25TYW1wbGUoaS5tYXBEaW1lbnNpb24obC5kaW0pLDEvcCkpO3ZhciBkPXZvaWQgMDsic3RyaW5nIj09dHlwZW9mIHI/ZD1wU1tyXToiZnVuY3Rpb24iPT10eXBlb2YgciYmKGQ9ciksZCYmdC5zZXREYXRhKGkuZG93blNhbXBsZShpLm1hcERpbWVuc2lvbihsLmRpbSksMS9wLGQsZFMpKX19fX19dmFyIGdTPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG1fKG51bGwsdGhpcyx7dXNlRW5jb2RlRGVmYXVsdGVyOiEwfSl9LGUucHJvdG90eXBlLmdldE1hcmtlclBvc2l0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29vcmRpbmF0ZVN5c3RlbTtpZihlJiZlLmNsYW1wRGF0YSl7dmFyIG49ZS5kYXRhVG9Qb2ludChlLmNsYW1wRGF0YSh0KSksaT10aGlzLmdldERhdGEoKSxyPWkuZ2V0TGF5b3V0KCJvZmZzZXQiKSxvPWkuZ2V0TGF5b3V0KCJzaXplIik7cmV0dXJuIG5bZS5nZXRCYXNlQXhpcygpLmlzSG9yaXpvbnRhbCgpPzA6MV0rPXIrby8yLG59cmV0dXJuW05hTixOYU5dfSxlLnR5cGU9InNlcmllcy5fX2Jhc2VfYmFyX18iLGUuZGVmYXVsdE9wdGlvbj17emxldmVsOjAsejoyLGNvb3JkaW5hdGVTeXN0ZW06ImNhcnRlc2lhbjJkIixsZWdlbmRIb3Zlckxpbms6ITAsYmFyTWluSGVpZ2h0OjAsYmFyTWluQW5nbGU6MCxsYXJnZTohMSxsYXJnZVRocmVzaG9sZDo0MDAscHJvZ3Jlc3NpdmU6M2UzLHByb2dyZXNzaXZlQ2h1bmtNb2RlOiJtb2QifSxlfShOZik7TmYucmVnaXN0ZXJDbGFzcyhnUyk7dmFyIHlTPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIG1fKG51bGwsdGhpcyx7dXNlRW5jb2RlRGVmYXVsdGVyOiEwLGNyZWF0ZUludmVydGVkSW5kaWNlczohIXRoaXMuZ2V0KCJyZWFsdGltZVNvcnQiLCEwKXx8bnVsbH0pfSxlLnByb3RvdHlwZS5nZXRQcm9ncmVzc2l2ZT1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5nZXQoImxhcmdlIikmJnRoaXMuZ2V0KCJwcm9ncmVzc2l2ZSIpfSxlLnByb3RvdHlwZS5nZXRQcm9ncmVzc2l2ZVRocmVzaG9sZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0KCJwcm9ncmVzc2l2ZVRocmVzaG9sZCIpLGU9dGhpcy5nZXQoImxhcmdlVGhyZXNob2xkIik7cmV0dXJuIGU+dCYmKHQ9ZSksdH0sZS5wcm90b3R5cGUuYnJ1c2hTZWxlY3Rvcj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG4ucmVjdChlLmdldEl0ZW1MYXlvdXQodCkpfSxlLnR5cGU9InNlcmllcy5iYXIiLGUuZGVwZW5kZW5jaWVzPVsiZ3JpZCIsInBvbGFyIl0sZS5kZWZhdWx0T3B0aW9uPVloKGdTLmRlZmF1bHRPcHRpb24se2NsaXA6ITAscm91bmRDYXA6ITEsc2hvd0JhY2tncm91bmQ6ITEsYmFja2dyb3VuZFN0eWxlOntjb2xvcjoicmdiYSgxODAsIDE4MCwgMTgwLCAwLjIpIixib3JkZXJDb2xvcjpudWxsLGJvcmRlcldpZHRoOjAsYm9yZGVyVHlwZToic29saWQiLGJvcmRlclJhZGl1czowLHNoYWRvd0JsdXI6MCxzaGFkb3dDb2xvcjpudWxsLHNoYWRvd09mZnNldFg6MCxzaGFkb3dPZmZzZXRZOjAsb3BhY2l0eToxfSxzZWxlY3Q6e2l0ZW1TdHlsZTp7Ym9yZGVyQ29sb3I6IiMyMTIxMjEifX0scmVhbHRpbWVTb3J0OiExfSksZX0oZ1MpLHZTPWZ1bmN0aW9uKCl7dGhpcy5jeD0wLHRoaXMuY3k9MCx0aGlzLnIwPTAsdGhpcy5yPTAsdGhpcy5zdGFydEFuZ2xlPTAsdGhpcy5lbmRBbmdsZT0yKk1hdGguUEksdGhpcy5jbG9ja3dpc2U9ITB9LG1TPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIG4udHlwZT0ic2F1c2FnZSIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdlN9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3ZhciBuPWUuY3gsaT1lLmN5LHI9TWF0aC5tYXgoZS5yMHx8MCwwKSxvPU1hdGgubWF4KGUuciwwKSxhPS41KihvLXIpLHM9cithLGw9ZS5zdGFydEFuZ2xlLHU9ZS5lbmRBbmdsZSxoPWUuY2xvY2t3aXNlLGM9TWF0aC5jb3MobCkscD1NYXRoLnNpbihsKSxkPU1hdGguY29zKHUpLGY9TWF0aC5zaW4odSk7KGg/dS1sPDIqTWF0aC5QSTpsLXU8MipNYXRoLlBJKSYmKHQubW92ZVRvKGMqcituLHAqcitpKSx0LmFyYyhjKnMrbixwKnMraSxhLC1NYXRoLlBJK2wsbCwhaCkpLHQuYXJjKG4saSxvLGwsdSwhaCksdC5tb3ZlVG8oZCpvK24sZipvK2kpLHQuYXJjKGQqcytuLGYqcytpLGEsdS0yKk1hdGguUEksdS1NYXRoLlBJLCFoKSwwIT09ciYmKHQuYXJjKG4saSxyLHUsbCxoKSx0Lm1vdmVUbyhjKnIrbixmKnIraSkpLHQuY2xvc2VQYXRoKCl9LGV9KFFhKTtmdW5jdGlvbiBfUyh0LGUsbil7cmV0dXJuIGUqTWF0aC5zaW4odCkqKG4/LTE6MSl9ZnVuY3Rpb24geFModCxlLG4pe3JldHVybiBlKk1hdGguY29zKHQpKihuPzE6LTEpfXZhciBiUz1bMCwwXSx3Uz1NYXRoLm1heCxTUz1NYXRoLm1pbjt2YXIgTVM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLl9pc0ZpcnN0RnJhbWU9ITAsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbixpKXt0aGlzLl9tb2RlbD10LHRoaXMuX3JlbW92ZU9uUmVuZGVyZWRMaXN0ZW5lcihuKSx0aGlzLl91cGRhdGVEcmF3TW9kZSh0KTt2YXIgcj10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpOygiY2FydGVzaWFuMmQiPT09cnx8InBvbGFyIj09PXIpJiYodGhpcy5faXNMYXJnZURyYXc/dGhpcy5fcmVuZGVyTGFyZ2UodCxlLG4pOnRoaXMuX3JlbmRlck5vcm1hbCh0LGUsbixpKSl9LGUucHJvdG90eXBlLmluY3JlbWVudGFsUHJlcGFyZVJlbmRlcj1mdW5jdGlvbih0KXt0aGlzLl9jbGVhcigpLHRoaXMuX3VwZGF0ZURyYXdNb2RlKHQpLHRoaXMuX3VwZGF0ZUxhcmdlQ2xpcCh0KX0sZS5wcm90b3R5cGUuaW5jcmVtZW50YWxSZW5kZXI9ZnVuY3Rpb24odCxlKXt0aGlzLl9pbmNyZW1lbnRhbFJlbmRlckxhcmdlKHQsZSl9LGUucHJvdG90eXBlLl91cGRhdGVEcmF3TW9kZT1mdW5jdGlvbih0KXt2YXIgZT10LnBpcGVsaW5lQ29udGV4dC5sYXJnZTtudWxsIT10aGlzLl9pc0xhcmdlRHJhdyYmZT09PXRoaXMuX2lzTGFyZ2VEcmF3fHwodGhpcy5faXNMYXJnZURyYXc9ZSx0aGlzLl9jbGVhcigpKX0sZS5wcm90b3R5cGUuX3JlbmRlck5vcm1hbD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcixvPXRoaXMuZ3JvdXAsYT10LmdldERhdGEoKSxzPXRoaXMuX2RhdGEsbD10LmNvb3JkaW5hdGVTeXN0ZW0sdT1sLmdldEJhc2VBeGlzKCk7ImNhcnRlc2lhbjJkIj09PWwudHlwZT9yPXUuaXNIb3Jpem9udGFsKCk6InBvbGFyIj09PWwudHlwZSYmKHI9ImFuZ2xlIj09PXUuZGltKTt2YXIgaD10LmlzQW5pbWF0aW9uRW5hYmxlZCgpP3Q6bnVsbCxjPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXQoInJlYWx0aW1lU29ydCIsITApLGk9ZS5nZXRCYXNlQXhpcygpOzA7aWYobiYmImNhdGVnb3J5Ij09PWkudHlwZSYmImNhcnRlc2lhbjJkIj09PWUudHlwZSlyZXR1cm57YmFzZUF4aXM6aSxvdGhlckF4aXM6ZS5nZXRPdGhlckF4aXMoaSl9fSh0LGwpO2MmJnRoaXMuX2VuYWJsZVJlYWx0aW1lU29ydChjLGEsbik7dmFyIHA9dC5nZXQoImNsaXAiLCEwKXx8YyxkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRBcmVhJiZ0LmdldEFyZWEoKTtpZihRdyh0LCJjYXJ0ZXNpYW4yZCIpKXt2YXIgaT10LmdldEJhc2VBeGlzKCk7aWYoImNhdGVnb3J5IiE9PWkudHlwZXx8IWkub25CYW5kKXt2YXIgcj1lLmdldExheW91dCgiYmFuZFdpZHRoIik7aS5pc0hvcml6b250YWwoKT8obi54LT1yLG4ud2lkdGgrPTIqcik6KG4ueS09cixuLmhlaWdodCs9MipyKX19cmV0dXJuIG59KGwsYSk7by5yZW1vdmVDbGlwUGF0aCgpO3ZhciBmPXQuZ2V0KCJyb3VuZENhcCIsITApLGc9dC5nZXQoInNob3dCYWNrZ3JvdW5kIiwhMCkseT10LmdldE1vZGVsKCJiYWNrZ3JvdW5kU3R5bGUiKSx2PXkuZ2V0KCJib3JkZXJSYWRpdXMiKXx8MCxtPVtdLF89dGhpcy5fYmFja2dyb3VuZEVscyx4PWkmJmkuaXNJbml0U29ydCxiPWkmJiJjaGFuZ2VBeGlzT3JkZXIiPT09aS50eXBlO2Z1bmN0aW9uIHcodCl7dmFyIGU9UFNbbC50eXBlXShhLHQpLG49ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcoInBvbGFyIj09PXQudHlwZT9vdTpjcykoe3NoYXBlOkJTKGUsbix0KSxzaWxlbnQ6ITAsejI6MH0pfShsLHIsZSk7cmV0dXJuIG4udXNlU3R5bGUoeS5nZXRJdGVtU3R5bGUoKSksImNhcnRlc2lhbjJkIj09PWwudHlwZSYmbi5zZXRTaGFwZSgiciIsdiksbVt0XT1uLG59YS5kaWZmKHMpLmFkZCgoZnVuY3Rpb24oZSl7dmFyIG49YS5nZXRJdGVtTW9kZWwoZSksaT1QU1tsLnR5cGVdKGEsZSxuKTtpZihnJiZ3KGUpLGEuaGFzVmFsdWUoZSkmJkxTW2wudHlwZV0oaSkpe3ZhciBzPSExO3AmJihzPUlTW2wudHlwZV0oZCxpKSk7dmFyIHk9VFNbbC50eXBlXSh0LGEsZSxpLHIsaCx1Lm1vZGVsLCExLGYpO2MmJih5LmZvcmNlTGFiZWxBbmltYXRpb249ITApLFJTKHksYSxlLG4saSx0LHIsInBvbGFyIj09PWwudHlwZSkseD95LmF0dHIoe3NoYXBlOml9KTpjP0NTKGMsaCx5LGksZSxyLCExLCExKTpWdSh5LHtzaGFwZTppfSx0LGUpLGEuc2V0SXRlbUdyYXBoaWNFbChlLHkpLG8uYWRkKHkpLHkuaWdub3JlPXN9fSkpLnVwZGF0ZSgoZnVuY3Rpb24oZSxuKXt2YXIgaT1hLmdldEl0ZW1Nb2RlbChlKSxTPVBTW2wudHlwZV0oYSxlLGkpO2lmKGcpe3ZhciBNPXZvaWQgMDswPT09Xy5sZW5ndGg/TT13KG4pOigoTT1fW25dKS51c2VTdHlsZSh5LmdldEl0ZW1TdHlsZSgpKSwiY2FydGVzaWFuMmQiPT09bC50eXBlJiZNLnNldFNoYXBlKCJyIix2KSxtW2VdPU0pO3ZhciBJPVBTW2wudHlwZV0oYSxlKTtFdShNLHtzaGFwZTpCUyhyLEksbCl9LGgsZSl9dmFyIFQ9cy5nZXRJdGVtR3JhcGhpY0VsKG4pO2lmKGEuaGFzVmFsdWUoZSkmJkxTW2wudHlwZV0oUykpe3ZhciBDPSExO2lmKHAmJihDPUlTW2wudHlwZV0oZCxTKSkmJm8ucmVtb3ZlKFQpLFQ/V3UoVCk6VD1UU1tsLnR5cGVdKHQsYSxlLFMscixoLHUubW9kZWwsISFULGYpLGMmJihULmZvcmNlTGFiZWxBbmltYXRpb249ITApLGIpe3ZhciBEPVQuZ2V0VGV4dENvbnRlbnQoKTtpZihEKXt2YXIgQT1BaChEKTtudWxsIT1BLnByZXZWYWx1ZSYmKEEucHJldlZhbHVlPUEudmFsdWUpfX1ifHxSUyhULGEsZSxpLFMsdCxyLCJwb2xhciI9PT1sLnR5cGUpLHg/VC5hdHRyKHtzaGFwZTpTfSk6Yz9DUyhjLGgsVCxTLGUsciwhMCxiKTpFdShULHtzaGFwZTpTfSx0LGUsbnVsbCksYS5zZXRJdGVtR3JhcGhpY0VsKGUsVCksVC5pZ25vcmU9QyxvLmFkZChUKX1lbHNlIG8ucmVtb3ZlKFQpfSkpLnJlbW92ZSgoZnVuY3Rpb24oZSl7dmFyIG49cy5nZXRJdGVtR3JhcGhpY0VsKGUpO24mJkh1KG4sdCxlKX0pKS5leGVjdXRlKCk7dmFyIFM9dGhpcy5fYmFja2dyb3VuZEdyb3VwfHwodGhpcy5fYmFja2dyb3VuZEdyb3VwPW5ldyBCaSk7Uy5yZW1vdmVBbGwoKTtmb3IodmFyIE09MDtNPG0ubGVuZ3RoOysrTSlTLmFkZChtW01dKTtvLmFkZChTKSx0aGlzLl9iYWNrZ3JvdW5kRWxzPW0sdGhpcy5fZGF0YT1hfSxlLnByb3RvdHlwZS5fcmVuZGVyTGFyZ2U9ZnVuY3Rpb24odCxlLG4pe3RoaXMuX2NsZWFyKCksRVModCx0aGlzLmdyb3VwKSx0aGlzLl91cGRhdGVMYXJnZUNsaXAodCl9LGUucHJvdG90eXBlLl9pbmNyZW1lbnRhbFJlbmRlckxhcmdlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fcmVtb3ZlQmFja2dyb3VuZCgpLEVTKGUsdGhpcy5ncm91cCwhMCl9LGUucHJvdG90eXBlLl91cGRhdGVMYXJnZUNsaXA9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXQoImNsaXAiLCEwKT9Kdyh0LmNvb3JkaW5hdGVTeXN0ZW0sITEsdCk6bnVsbDtlP3RoaXMuZ3JvdXAuc2V0Q2xpcFBhdGgoZSk6dGhpcy5ncm91cC5yZW1vdmVDbGlwUGF0aCgpfSxlLnByb3RvdHlwZS5fZW5hYmxlUmVhbHRpbWVTb3J0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzO2lmKGUuY291bnQoKSl7dmFyIHI9dC5iYXNlQXhpcztpZih0aGlzLl9pc0ZpcnN0RnJhbWUpdGhpcy5fZGlzcGF0Y2hJbml0U29ydChlLHQsbiksdGhpcy5faXNGaXJzdEZyYW1lPSExO2Vsc2V7dmFyIG89ZnVuY3Rpb24odCl7dmFyIG49ZS5nZXRJdGVtR3JhcGhpY0VsKHQpO2lmKG4pe3ZhciBpPW4uc2hhcGU7cmV0dXJuKHIuaXNIb3Jpem9udGFsKCk/TWF0aC5hYnMoaS5oZWlnaHQpOk1hdGguYWJzKGkud2lkdGgpKXx8MH1yZXR1cm4gMH07dGhpcy5fb25SZW5kZXJlZD1mdW5jdGlvbigpe2kuX3VwZGF0ZVNvcnRXaXRoaW5TYW1lRGF0YShlLG8scixuKX0sbi5nZXRacigpLm9uKCJyZW5kZXJlZCIsdGhpcy5fb25SZW5kZXJlZCl9fX0sZS5wcm90b3R5cGUuX2RhdGFTb3J0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1bXTtyZXR1cm4gdC5lYWNoKHQubWFwRGltZW5zaW9uKGUuZGltKSwoZnVuY3Rpb24odCxlKXt2YXIgcj1uKGUpO3I9bnVsbD09cj9OYU46cixpLnB1c2goe2RhdGFJbmRleDplLG1hcHBlZFZhbHVlOnIsb3JkaW5hbE51bWJlcjp0fSl9KSksaS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBlLm1hcHBlZFZhbHVlLXQubWFwcGVkVmFsdWV9KSkse29yZGluYWxOdW1iZXJzOlIoaSwoZnVuY3Rpb24odCl7cmV0dXJuIHQub3JkaW5hbE51bWJlcn0pKX19LGUucHJvdG90eXBlLl9pc09yZGVyQ2hhbmdlZFdpdGhpblNhbWVEYXRhPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9bi5zY2FsZSxyPXQubWFwRGltZW5zaW9uKG4uZGltKSxvPU51bWJlci5NQVhfVkFMVUUsYT0wLHM9aS5nZXRPcmRpbmFsTWV0YSgpLmNhdGVnb3JpZXMubGVuZ3RoO2E8czsrK2Epe3ZhciBsPXQucmF3SW5kZXhPZihyLGkuZ2V0UmF3T3JkaW5hbE51bWJlcihhKSksdT1sPDA/TnVtYmVyLk1JTl9WQUxVRTplKHQuaW5kZXhPZlJhd0luZGV4KGwpKTtpZih1Pm8pcmV0dXJuITA7bz11fXJldHVybiExfSxlLnByb3RvdHlwZS5faXNPcmRlckRpZmZlcmVudEluVmlldz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1lLnNjYWxlLGk9bi5nZXRFeHRlbnQoKSxyPU1hdGgubWF4KDAsaVswXSksbz1NYXRoLm1pbihpWzFdLG4uZ2V0T3JkaW5hbE1ldGEoKS5jYXRlZ29yaWVzLmxlbmd0aC0xKTtyPD1vOysrcilpZih0Lm9yZGluYWxOdW1iZXJzW3JdIT09bi5nZXRSYXdPcmRpbmFsTnVtYmVyKHIpKXJldHVybiEwfSxlLnByb3RvdHlwZS5fdXBkYXRlU29ydFdpdGhpblNhbWVEYXRhPWZ1bmN0aW9uKHQsZSxuLGkpe2lmKHRoaXMuX2lzT3JkZXJDaGFuZ2VkV2l0aGluU2FtZURhdGEodCxlLG4pKXt2YXIgcj10aGlzLl9kYXRhU29ydCh0LG4sZSk7dGhpcy5faXNPcmRlckRpZmZlcmVudEluVmlldyhyLG4pJiYodGhpcy5fcmVtb3ZlT25SZW5kZXJlZExpc3RlbmVyKGkpLGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImNoYW5nZUF4aXNPcmRlciIsY29tcG9uZW50VHlwZTpuLmRpbSsiQXhpcyIsYXhpc0lkOm4uaW5kZXgsc29ydEluZm86cn0pKX19LGUucHJvdG90eXBlLl9kaXNwYXRjaEluaXRTb3J0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1lLmJhc2VBeGlzLHI9dGhpcy5fZGF0YVNvcnQodCxpLChmdW5jdGlvbihuKXtyZXR1cm4gdC5nZXQodC5tYXBEaW1lbnNpb24oZS5vdGhlckF4aXMuZGltKSxuKX0pKTtuLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJjaGFuZ2VBeGlzT3JkZXIiLGNvbXBvbmVudFR5cGU6aS5kaW0rIkF4aXMiLGlzSW5pdFNvcnQ6ITAsYXhpc0lkOmkuaW5kZXgsc29ydEluZm86cn0pfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlKXt0aGlzLl9jbGVhcih0aGlzLl9tb2RlbCksdGhpcy5fcmVtb3ZlT25SZW5kZXJlZExpc3RlbmVyKGUpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fcmVtb3ZlT25SZW5kZXJlZExpc3RlbmVyKGUpfSxlLnByb3RvdHlwZS5fcmVtb3ZlT25SZW5kZXJlZExpc3RlbmVyPWZ1bmN0aW9uKHQpe3RoaXMuX29uUmVuZGVyZWQmJih0LmdldFpyKCkub2ZmKCJyZW5kZXJlZCIsdGhpcy5fb25SZW5kZXJlZCksdGhpcy5fb25SZW5kZXJlZD1udWxsKX0sZS5wcm90b3R5cGUuX2NsZWFyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ3JvdXAsbj10aGlzLl9kYXRhO3QmJnQuaXNBbmltYXRpb25FbmFibGVkKCkmJm4mJiF0aGlzLl9pc0xhcmdlRHJhdz8odGhpcy5fcmVtb3ZlQmFja2dyb3VuZCgpLHRoaXMuX2JhY2tncm91bmRFbHM9W10sbi5lYWNoSXRlbUdyYXBoaWNFbCgoZnVuY3Rpb24oZSl7SHUoZSx0LFNzKGUpLmRhdGFJbmRleCl9KSkpOmUucmVtb3ZlQWxsKCksdGhpcy5fZGF0YT1udWxsLHRoaXMuX2lzRmlyc3RGcmFtZT0hMH0sZS5wcm90b3R5cGUuX3JlbW92ZUJhY2tncm91bmQ9ZnVuY3Rpb24oKXt0aGlzLmdyb3VwLnJlbW92ZSh0aGlzLl9iYWNrZ3JvdW5kR3JvdXApLHRoaXMuX2JhY2tncm91bmRHcm91cD1udWxsfSxlLnR5cGU9ImJhciIsZX0oWmYpLElTPXtjYXJ0ZXNpYW4yZDpmdW5jdGlvbih0LGUpe3ZhciBuPWUud2lkdGg8MD8tMToxLGk9ZS5oZWlnaHQ8MD8tMToxO248MCYmKGUueCs9ZS53aWR0aCxlLndpZHRoPS1lLndpZHRoKSxpPDAmJihlLnkrPWUuaGVpZ2h0LGUuaGVpZ2h0PS1lLmhlaWdodCk7dmFyIHI9dC54K3Qud2lkdGgsbz10LnkrdC5oZWlnaHQsYT13UyhlLngsdC54KSxzPVNTKGUueCtlLndpZHRoLHIpLGw9d1MoZS55LHQueSksdT1TUyhlLnkrZS5oZWlnaHQsbyksaD1zPGEsYz11PGw7cmV0dXJuIGUueD1oJiZhPnI/czphLGUueT1jJiZsPm8/dTpsLGUud2lkdGg9aD8wOnMtYSxlLmhlaWdodD1jPzA6dS1sLG48MCYmKGUueCs9ZS53aWR0aCxlLndpZHRoPS1lLndpZHRoKSxpPDAmJihlLnkrPWUuaGVpZ2h0LGUuaGVpZ2h0PS1lLmhlaWdodCksaHx8Y30scG9sYXI6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLnIwPD1lLnI/MTotMTtpZihuPDApe3ZhciBpPWUucjtlLnI9ZS5yMCxlLnIwPWl9dmFyIHI9U1MoZS5yLHQuciksbz13UyhlLnIwLHQucjApO2Uucj1yLGUucjA9bzt2YXIgYT1yLW88MDtpZihuPDApe2k9ZS5yO2Uucj1lLnIwLGUucjA9aX1yZXR1cm4gYX19LFRTPXtjYXJ0ZXNpYW4yZDpmdW5jdGlvbih0LGUsbixpLHIsbyxhLHMsbCl7dmFyIHU9bmV3IGNzKHtzaGFwZTpUKHt9LGkpLHoyOjF9KTsodS5fX2RhdGFJbmRleD1uLHUubmFtZT0iaXRlbSIsbykmJih1LnNoYXBlW3I/ImhlaWdodCI6IndpZHRoIl09MCk7cmV0dXJuIHV9LHBvbGFyOmZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyxsKXt2YXIgdT0hciYmbD9tUzpvdSxoPW5ldyB1KHtzaGFwZTppLHoyOjF9KTtoLm5hbWU9Iml0ZW0iO3ZhciBjLHAsZD1PUyhyKTtpZihoLmNhbGN1bGF0ZVRleHRQb3NpdGlvbj0oYz1kLHA9KHtpc1JvdW5kQ2FwOnU9PT1tU318fHt9KS5pc1JvdW5kQ2FwLGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1lLnBvc2l0aW9uO2lmKCFpfHxpIGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuIERpKHQsZSxuKTt2YXIgcj1jKGkpLG89bnVsbCE9ZS5kaXN0YW5jZT9lLmRpc3RhbmNlOjUsYT10aGlzLnNoYXBlLHM9YS5jeCxsPWEuY3ksdT1hLnIsaD1hLnIwLGQ9KHUraCkvMixmPWEuc3RhcnRBbmdsZSxnPWEuZW5kQW5nbGUseT0oZitnKS8yLHY9cD9NYXRoLmFicyh1LWgpLzI6MCxtPU1hdGguY29zLF89TWF0aC5zaW4seD1zK3UqbShmKSxiPWwrdSpfKGYpLHc9ImxlZnQiLFM9InRvcCI7c3dpdGNoKHIpe2Nhc2Uic3RhcnRBcmMiOng9cysoaC1vKSptKHkpLGI9bCsoaC1vKSpfKHkpLHc9ImNlbnRlciIsUz0idG9wIjticmVhaztjYXNlImluc2lkZVN0YXJ0QXJjIjp4PXMrKGgrbykqbSh5KSxiPWwrKGgrbykqXyh5KSx3PSJjZW50ZXIiLFM9ImJvdHRvbSI7YnJlYWs7Y2FzZSJzdGFydEFuZ2xlIjp4PXMrZCptKGYpK19TKGYsbyt2LCExKSxiPWwrZCpfKGYpK3hTKGYsbyt2LCExKSx3PSJyaWdodCIsUz0ibWlkZGxlIjticmVhaztjYXNlImluc2lkZVN0YXJ0QW5nbGUiOng9cytkKm0oZikrX1MoZiwtbyt2LCExKSxiPWwrZCpfKGYpK3hTKGYsLW8rdiwhMSksdz0ibGVmdCIsUz0ibWlkZGxlIjticmVhaztjYXNlIm1pZGRsZSI6eD1zK2QqbSh5KSxiPWwrZCpfKHkpLHc9ImNlbnRlciIsUz0ibWlkZGxlIjticmVhaztjYXNlImVuZEFyYyI6eD1zKyh1K28pKm0oeSksYj1sKyh1K28pKl8oeSksdz0iY2VudGVyIixTPSJib3R0b20iO2JyZWFrO2Nhc2UiaW5zaWRlRW5kQXJjIjp4PXMrKHUtbykqbSh5KSxiPWwrKHUtbykqXyh5KSx3PSJjZW50ZXIiLFM9InRvcCI7YnJlYWs7Y2FzZSJlbmRBbmdsZSI6eD1zK2QqbShnKStfUyhnLG8rdiwhMCksYj1sK2QqXyhnKSt4UyhnLG8rdiwhMCksdz0ibGVmdCIsUz0ibWlkZGxlIjticmVhaztjYXNlImluc2lkZUVuZEFuZ2xlIjp4PXMrZCptKGcpK19TKGcsLW8rdiwhMCksYj1sK2QqXyhnKSt4UyhnLC1vK3YsITApLHc9InJpZ2h0IixTPSJtaWRkbGUiO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIERpKHQsZSxuKX1yZXR1cm4odD10fHx7fSkueD14LHQueT1iLHQuYWxpZ249dyx0LnZlcnRpY2FsQWxpZ249Uyx0fSksbyl7dmFyIGY9cj8iciI6ImVuZEFuZ2xlIixnPXt9O2guc2hhcGVbZl09cj8wOmkuc3RhcnRBbmdsZSxnW2ZdPWlbZl0sKHM/RXU6VnUpKGgse3NoYXBlOmd9LG8pfXJldHVybiBofX07ZnVuY3Rpb24gQ1ModCxlLG4saSxyLG8sYSxzKXt2YXIgbCx1O28/KHU9e3g6aS54LHdpZHRoOmkud2lkdGh9LGw9e3k6aS55LGhlaWdodDppLmhlaWdodH0pOih1PXt5OmkueSxoZWlnaHQ6aS5oZWlnaHR9LGw9e3g6aS54LHdpZHRoOmkud2lkdGh9KSxzfHwoYT9FdTpWdSkobix7c2hhcGU6bH0sZSxyLG51bGwpLChhP0V1OlZ1KShuLHtzaGFwZTp1fSxlP3QuYmFzZUF4aXMubW9kZWw6bnVsbCxyKX1mdW5jdGlvbiBEUyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKWlmKCFpc0Zpbml0ZSh0W2Vbbl1dKSlyZXR1cm4hMDtyZXR1cm4hMX12YXIgQVM9WyJ4IiwieSIsIndpZHRoIiwiaGVpZ2h0Il0sa1M9WyJjeCIsImN5IiwiciIsInN0YXJ0QW5nbGUiLCJlbmRBbmdsZSJdLExTPXtjYXJ0ZXNpYW4yZDpmdW5jdGlvbih0KXtyZXR1cm4hRFModCxBUyl9LHBvbGFyOmZ1bmN0aW9uKHQpe3JldHVybiFEUyh0LGtTKX19LFBTPXtjYXJ0ZXNpYW4yZDpmdW5jdGlvbih0LGUsbil7dmFyIGk9dC5nZXRJdGVtTGF5b3V0KGUpLHI9bj9mdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0KFsiaXRlbVN0eWxlIiwiYm9yZGVyQ29sb3IiXSk7aWYoIW58fCJub25lIj09PW4pcmV0dXJuIDA7dmFyIGk9dC5nZXQoWyJpdGVtU3R5bGUiLCJib3JkZXJXaWR0aCJdKXx8MCxyPWlzTmFOKGUud2lkdGgpP051bWJlci5NQVhfVkFMVUU6TWF0aC5hYnMoZS53aWR0aCksbz1pc05hTihlLmhlaWdodCk/TnVtYmVyLk1BWF9WQUxVRTpNYXRoLmFicyhlLmhlaWdodCk7cmV0dXJuIE1hdGgubWluKGkscixvKX0obixpKTowLG89aS53aWR0aD4wPzE6LTEsYT1pLmhlaWdodD4wPzE6LTE7cmV0dXJue3g6aS54K28qci8yLHk6aS55K2Eqci8yLHdpZHRoOmkud2lkdGgtbypyLGhlaWdodDppLmhlaWdodC1hKnJ9fSxwb2xhcjpmdW5jdGlvbih0LGUsbil7dmFyIGk9dC5nZXRJdGVtTGF5b3V0KGUpO3JldHVybntjeDppLmN4LGN5OmkuY3kscjA6aS5yMCxyOmkucixzdGFydEFuZ2xlOmkuc3RhcnRBbmdsZSxlbmRBbmdsZTppLmVuZEFuZ2xlLGNsb2Nrd2lzZTppLmNsb2Nrd2lzZX19fTtmdW5jdGlvbiBPUyh0KXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9dD8iQXJjIjoiQW5nbGUiO3JldHVybiBmdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSJzdGFydCI6Y2FzZSJpbnNpZGVTdGFydCI6Y2FzZSJlbmQiOmNhc2UiaW5zaWRlRW5kIjpyZXR1cm4gdCtlO2RlZmF1bHQ6cmV0dXJuIHR9fX0odCl9ZnVuY3Rpb24gUlModCxlLG4saSxyLG8sYSxzKXt2YXIgbD1lLmdldEl0ZW1WaXN1YWwobiwic3R5bGUiKTtzfHx0LnNldFNoYXBlKCJyIixpLmdldChbIml0ZW1TdHlsZSIsImJvcmRlclJhZGl1cyJdKXx8MCksdC51c2VTdHlsZShsKTt2YXIgdT1pLmdldFNoYWxsb3coImN1cnNvciIpO3UmJnQuYXR0cigiY3Vyc29yIix1KTt2YXIgaD1zP2E/ci5yPj1yLnIwPyJlbmRBcmMiOiJzdGFydEFyYyI6ci5lbmRBbmdsZT49ci5zdGFydEFuZ2xlPyJlbmRBbmdsZSI6InN0YXJ0QW5nbGUiOmE/ci5oZWlnaHQ+PTA/ImJvdHRvbSI6InRvcCI6ci53aWR0aD49MD8icmlnaHQiOiJsZWZ0IixjPWJoKGkpO3hoKHQsYyx7bGFiZWxGZXRjaGVyOm8sbGFiZWxEYXRhSW5kZXg6bixkZWZhdWx0VGV4dDpBdyhvLmdldERhdGEoKSxuKSxpbmhlcml0Q29sb3I6bC5maWxsLGRlZmF1bHRPcGFjaXR5Omwub3BhY2l0eSxkZWZhdWx0T3V0c2lkZVBvc2l0aW9uOmh9KTt2YXIgcD10LmdldFRleHRDb250ZW50KCk7aWYocyYmcCl7dmFyIGQ9aS5nZXQoWyJsYWJlbCIsInBvc2l0aW9uIl0pO3QudGV4dENvbmZpZy5pbnNpZGU9Im1pZGRsZSI9PT1kfHxudWxsLGZ1bmN0aW9uKHQsZSxuLGkpe2lmKCJudW1iZXIiIT10eXBlb2YgaSlpZihGKGUpKXQuc2V0VGV4dENvbmZpZyh7cm90YXRpb246MH0pO2Vsc2V7dmFyIHIsbz10LnNoYXBlLGE9by5jbG9ja3dpc2U/by5zdGFydEFuZ2xlOm8uZW5kQW5nbGUscz1vLmNsb2Nrd2lzZT9vLmVuZEFuZ2xlOm8uc3RhcnRBbmdsZSxsPShhK3MpLzIsdT1uKGUpO3N3aXRjaCh1KXtjYXNlInN0YXJ0QXJjIjpjYXNlImluc2lkZVN0YXJ0QXJjIjpjYXNlIm1pZGRsZSI6Y2FzZSJpbnNpZGVFbmRBcmMiOmNhc2UiZW5kQXJjIjpyPWw7YnJlYWs7Y2FzZSJzdGFydEFuZ2xlIjpjYXNlImluc2lkZVN0YXJ0QW5nbGUiOnI9YTticmVhaztjYXNlImVuZEFuZ2xlIjpjYXNlImluc2lkZUVuZEFuZ2xlIjpyPXM7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gdm9pZCB0LnNldFRleHRDb25maWcoe3JvdGF0aW9uOjB9KX12YXIgaD0xLjUqTWF0aC5QSS1yOyJtaWRkbGUiPT09dSYmaD5NYXRoLlBJLzImJmg8MS41Kk1hdGguUEkmJihoLT1NYXRoLlBJKSx0LnNldFRleHRDb25maWcoe3JvdGF0aW9uOmh9KX1lbHNlIHQuc2V0VGV4dENvbmZpZyh7cm90YXRpb246aX0pfSh0LCJvdXRzaWRlIj09PWQ/aDpkLE9TKGEpLGkuZ2V0KFsibGFiZWwiLCJyb3RhdGUiXSkpfWtoKHAsYyxvLmdldFJhd1ZhbHVlKG4pLChmdW5jdGlvbih0KXtyZXR1cm4ga3coZSx0KX0pKTt2YXIgZj1pLmdldE1vZGVsKFsiZW1waGFzaXMiXSk7cGwodCxmLmdldCgiZm9jdXMiKSxmLmdldCgiYmx1clNjb3BlIikpLHlsKHQsaSksZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQuc3RhcnRBbmdsZSYmbnVsbCE9dC5lbmRBbmdsZSYmdC5zdGFydEFuZ2xlPT09dC5lbmRBbmdsZX0ocikmJih0LnN0eWxlLmZpbGw9Im5vbmUiLHQuc3R5bGUuc3Ryb2tlPSJub25lIixPKHQuc3RhdGVzLChmdW5jdGlvbih0KXt0LnN0eWxlJiYodC5zdHlsZS5maWxsPXQuc3R5bGUuc3Ryb2tlPSJub25lIil9KSkpfXZhciBOUz1mdW5jdGlvbigpe30selM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbi50eXBlPSJsYXJnZUJhciIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgTlN9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1lLnBvaW50cyxpPXRoaXMuX19zdGFydFBvaW50LHI9dGhpcy5fX2Jhc2VEaW1JZHgsbz0wO288bi5sZW5ndGg7bys9MilpW3JdPW5bbytyXSx0Lm1vdmVUbyhpWzBdLGlbMV0pLHQubGluZVRvKG5bb10sbltvKzFdKX0sZX0oUWEpO2Z1bmN0aW9uIEVTKHQsZSxuKXt2YXIgaT10LmdldERhdGEoKSxyPVtdLG89aS5nZXRMYXlvdXQoInZhbHVlQXhpc0hvcml6b250YWwiKT8xOjA7clsxLW9dPWkuZ2V0TGF5b3V0KCJ2YWx1ZUF4aXNTdGFydCIpO3ZhciBhPWkuZ2V0TGF5b3V0KCJsYXJnZURhdGFJbmRpY2VzIikscz1pLmdldExheW91dCgiYmFyV2lkdGgiKSxsPXQuZ2V0TW9kZWwoImJhY2tncm91bmRTdHlsZSIpO2lmKHQuZ2V0KCJzaG93QmFja2dyb3VuZCIsITApKXt2YXIgdT1pLmdldExheW91dCgibGFyZ2VCYWNrZ3JvdW5kUG9pbnRzIiksaD1bXTtoWzEtb109aS5nZXRMYXlvdXQoImJhY2tncm91bmRTdGFydCIpO3ZhciBjPW5ldyB6Uyh7c2hhcGU6e3BvaW50czp1fSxpbmNyZW1lbnRhbDohIW4sc2lsZW50OiEwLHoyOjB9KTtjLl9fc3RhcnRQb2ludD1oLGMuX19iYXNlRGltSWR4PW8sYy5fX2xhcmdlRGF0YUluZGljZXM9YSxjLl9fYmFyV2lkdGg9cyxmdW5jdGlvbih0LGUsbil7dmFyIGk9ZS5nZXQoImJvcmRlckNvbG9yIil8fGUuZ2V0KCJjb2xvciIpLHI9ZS5nZXRJdGVtU3R5bGUoKTt0LnVzZVN0eWxlKHIpLHQuc3R5bGUuZmlsbD1udWxsLHQuc3R5bGUuc3Ryb2tlPWksdC5zdHlsZS5saW5lV2lkdGg9bi5nZXRMYXlvdXQoImJhcldpZHRoIil9KGMsbCxpKSxlLmFkZChjKX12YXIgcD1uZXcgelMoe3NoYXBlOntwb2ludHM6aS5nZXRMYXlvdXQoImxhcmdlUG9pbnRzIil9LGluY3JlbWVudGFsOiEhbn0pO3AuX19zdGFydFBvaW50PXIscC5fX2Jhc2VEaW1JZHg9byxwLl9fbGFyZ2VEYXRhSW5kaWNlcz1hLHAuX19iYXJXaWR0aD1zLGUuYWRkKHApLGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uLmdldFZpc3VhbCgic3R5bGUiKTt0LnVzZVN0eWxlKFQoe30saSkpLHQuc3R5bGUuZmlsbD1udWxsLHQuc3R5bGUuc3Ryb2tlPWkuZmlsbCx0LnN0eWxlLmxpbmVXaWR0aD1uLmdldExheW91dCgiYmFyV2lkdGgiKX0ocCwwLGkpLFNzKHApLnNlcmllc0luZGV4PXQuc2VyaWVzSW5kZXgsdC5nZXQoInNpbGVudCIpfHwocC5vbigibW91c2Vkb3duIixWUykscC5vbigibW91c2Vtb3ZlIixWUykpfXZhciBWUz1uZygoZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuX19iYXNlRGltSWR4LHI9MS1pLG89dC5zaGFwZS5wb2ludHMsYT10Ll9fbGFyZ2VEYXRhSW5kaWNlcyxzPU1hdGguYWJzKHQuX19iYXJXaWR0aC8yKSxsPXQuX19zdGFydFBvaW50W3JdO2JTWzBdPWUsYlNbMV09bjtmb3IodmFyIHU9YlNbaV0saD1iU1sxLWldLGM9dS1zLHA9dStzLGQ9MCxmPW8ubGVuZ3RoLzI7ZDxmO2QrKyl7dmFyIGc9MipkLHk9b1tnK2ldLHY9b1tnK3JdO2lmKHk+PWMmJnk8PXAmJihsPD12P2g+PWwmJmg8PXY6aD49diYmaDw9bCkpcmV0dXJuIGFbZF19cmV0dXJuLTF9KHRoaXMsdC5vZmZzZXRYLHQub2Zmc2V0WSk7U3ModGhpcykuZGF0YUluZGV4PWU+PTA/ZTpudWxsfSksMzAsITEpO2Z1bmN0aW9uIEJTKHQsZSxuKXtpZihRdyhuLCJjYXJ0ZXNpYW4yZCIpKXt2YXIgaT1lLHI9bi5nZXRBcmVhKCk7cmV0dXJue3g6dD9pLng6ci54LHk6dD9yLnk6aS55LHdpZHRoOnQ/aS53aWR0aDpyLndpZHRoLGhlaWdodDp0P3IuaGVpZ2h0OmkuaGVpZ2h0fX12YXIgbz1lO3JldHVybntjeDoocj1uLmdldEFyZWEoKSkuY3gsY3k6ci5jeSxyMDp0P3IucjA6by5yMCxyOnQ/ci5yOm8ucixzdGFydEFuZ2xlOnQ/by5zdGFydEFuZ2xlOjAsZW5kQW5nbGU6dD9vLmVuZEFuZ2xlOjIqTWF0aC5QSX19dmFyIEdTPTIqTWF0aC5QSSxGUz1NYXRoLlBJLzE4MDtmdW5jdGlvbiBIUyh0LGUpe3JldHVybiBxYyh0LmdldEJveExheW91dFBhcmFtcygpLHt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9KX1mdW5jdGlvbiBXUyh0LGUpe3ZhciBuPUhTKHQsZSksaT10LmdldCgiY2VudGVyIikscj10LmdldCgicmFkaXVzIik7RihyKXx8KHI9WzAscl0pLEYoaSl8fChpPVtpLGldKTt2YXIgbz1xaShuLndpZHRoLGUuZ2V0V2lkdGgoKSksYT1xaShuLmhlaWdodCxlLmdldEhlaWdodCgpKSxzPU1hdGgubWluKG8sYSk7cmV0dXJue2N4OnFpKGlbMF0sbykrbi54LGN5OnFpKGlbMV0sYSkrbi55LHIwOnFpKHJbMF0scy8yKSxyOnFpKHJbMV0scy8yKX19ZnVuY3Rpb24gVVModCxlLG4pe2UuZWFjaFNlcmllc0J5VHlwZSh0LChmdW5jdGlvbih0KXt2YXIgZT10LmdldERhdGEoKSxpPWUubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLHI9SFModCxuKSxvPVdTKHQsbiksYT1vLmN4LHM9by5jeSxsPW8ucix1PW8ucjAsaD0tdC5nZXQoInN0YXJ0QW5nbGUiKSpGUyxjPXQuZ2V0KCJtaW5BbmdsZSIpKkZTLHA9MDtlLmVhY2goaSwoZnVuY3Rpb24odCl7IWlzTmFOKHQpJiZwKyt9KSk7dmFyIGQ9ZS5nZXRTdW0oaSksZj1NYXRoLlBJLyhkfHxwKSoyLGc9dC5nZXQoImNsb2Nrd2lzZSIpLHk9dC5nZXQoInJvc2VUeXBlIiksdj10LmdldCgic3RpbGxTaG93WmVyb1N1bSIpLG09ZS5nZXREYXRhRXh0ZW50KGkpO21bMF09MDt2YXIgXz1HUyx4PTAsYj1oLHc9Zz8xOi0xO2lmKGUuc2V0TGF5b3V0KHt2aWV3UmVjdDpyLHI6bH0pLGUuZWFjaChpLChmdW5jdGlvbih0LG4pe3ZhciBpO2lmKGlzTmFOKHQpKWUuc2V0SXRlbUxheW91dChuLHthbmdsZTpOYU4sc3RhcnRBbmdsZTpOYU4sZW5kQW5nbGU6TmFOLGNsb2Nrd2lzZTpnLGN4OmEsY3k6cyxyMDp1LHI6eT9OYU46bH0pO2Vsc2V7KGk9ImFyZWEiIT09eT8wPT09ZCYmdj9mOnQqZjpHUy9wKTxjPyhpPWMsXy09Yyk6eCs9dDt2YXIgcj1iK3cqaTtlLnNldEl0ZW1MYXlvdXQobix7YW5nbGU6aSxzdGFydEFuZ2xlOmIsZW5kQW5nbGU6cixjbG9ja3dpc2U6ZyxjeDphLGN5OnMscjA6dSxyOnk/amkodCxtLFt1LGxdKTpsfSksYj1yfX0pKSxfPEdTJiZwKWlmKF88PS4wMDEpe3ZhciBTPUdTL3A7ZS5lYWNoKGksKGZ1bmN0aW9uKHQsbil7aWYoIWlzTmFOKHQpKXt2YXIgaT1lLmdldEl0ZW1MYXlvdXQobik7aS5hbmdsZT1TLGkuc3RhcnRBbmdsZT1oK3cqbipTLGkuZW5kQW5nbGU9aCt3KihuKzEpKlN9fSkpfWVsc2UgZj1fL3gsYj1oLGUuZWFjaChpLChmdW5jdGlvbih0LG4pe2lmKCFpc05hTih0KSl7dmFyIGk9ZS5nZXRJdGVtTGF5b3V0KG4pLHI9aS5hbmdsZT09PWM/Yzp0KmY7aS5zdGFydEFuZ2xlPWIsaS5lbmRBbmdsZT1iK3cqcixiKz13KnJ9fSkpfSkpfWZ1bmN0aW9uIFhTKHQpe3JldHVybntzZXJpZXNUeXBlOnQscmVzZXQ6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmZpbmRDb21wb25lbnRzKHttYWluVHlwZToibGVnZW5kIn0pO2lmKG4mJm4ubGVuZ3RoKXt2YXIgaT10LmdldERhdGEoKTtpLmZpbHRlclNlbGYoKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1pLmdldE5hbWUodCkscj0wO3I8bi5sZW5ndGg7cisrKWlmKCFuW3JdLmlzU2VsZWN0ZWQoZSkpcmV0dXJuITE7cmV0dXJuITB9KSl9fX19dmFyIFlTPU1hdGguUEkvMTgwO2Z1bmN0aW9uIFpTKHQsZSxuLGkscixvLGEscyxsLHUpe2lmKCEodC5sZW5ndGg8Mikpe2Zvcih2YXIgaD10Lmxlbmd0aCxjPTA7YzxoO2MrKylpZigib3V0ZXIiPT09dFtjXS5wb3NpdGlvbiYmImxhYmVsTGluZSI9PT10W2NdLmxhYmVsQWxpZ25Ubyl7dmFyIHA9dFtjXS5sYWJlbC54LXU7dFtjXS5saW5lUG9pbnRzWzFdWzBdKz1wLHRbY10ubGFiZWwueD11fXZiKHQsbCxsK2EpJiZmdW5jdGlvbih0KXtmb3IodmFyIG89e2xpc3Q6W10sbWF4WTowfSxhPXtsaXN0OltdLG1heFk6MH0scz0wO3M8dC5sZW5ndGg7cysrKWlmKCJub25lIj09PXRbc10ubGFiZWxBbGlnblRvKXt2YXIgbD10W3NdLHU9bC5sYWJlbC55Pm4/YTpvLGg9TWF0aC5hYnMobC5sYWJlbC55LW4pO2lmKGg+dS5tYXhZKXt2YXIgYz1sLmxhYmVsLngtZS1sLmxlbjIqcixwPWkrbC5sZW4sZj1NYXRoLmFicyhjKTxwP01hdGguc3FydChoKmgvKDEtYypjL3AvcCkpOnA7dS5yQj1mLHUubWF4WT1ofXUubGlzdC5wdXNoKGwpfWQobyksZChhKX0odCl9ZnVuY3Rpb24gZCh0KXtmb3IodmFyIG89dC5yQixhPW8qbyxzPTA7czx0Lmxpc3QubGVuZ3RoO3MrKyl7dmFyIGw9dC5saXN0W3NdLHU9TWF0aC5hYnMobC5sYWJlbC55LW4pLGg9aStsLmxlbixjPWgqaCxwPU1hdGguc3FydCgoMS1NYXRoLmFicyh1KnUvYSkpKmMpO2wubGFiZWwueD1lKyhwK2wubGVuMikqcn19fWZ1bmN0aW9uIGpTKHQpe3JldHVybiJjZW50ZXIiPT09dC5wb3NpdGlvbn1mdW5jdGlvbiBxUyh0KXt2YXIgZSxuLGk9dC5nZXREYXRhKCkscj1bXSxvPSExLGE9KHQuZ2V0KCJtaW5TaG93TGFiZWxBbmdsZSIpfHwwKSpZUyxzPWkuZ2V0TGF5b3V0KCJ2aWV3UmVjdCIpLGw9aS5nZXRMYXlvdXQoInIiKSx1PXMud2lkdGgsaD1zLngsYz1zLnkscD1zLmhlaWdodDtmdW5jdGlvbiBkKHQpe3QuaWdub3JlPSEwfWkuZWFjaCgoZnVuY3Rpb24odCl7dmFyIHM9aS5nZXRJdGVtR3JhcGhpY0VsKHQpLGM9cy5zaGFwZSxwPXMuZ2V0VGV4dENvbnRlbnQoKSxmPXMuZ2V0VGV4dEd1aWRlTGluZSgpLGc9aS5nZXRJdGVtTW9kZWwodCkseT1nLmdldE1vZGVsKCJsYWJlbCIpLHY9eS5nZXQoInBvc2l0aW9uIil8fGcuZ2V0KFsiZW1waGFzaXMiLCJsYWJlbCIsInBvc2l0aW9uIl0pLG09eS5nZXQoImRpc3RhbmNlVG9MYWJlbExpbmUiKSxfPXkuZ2V0KCJhbGlnblRvIikseD1xaSh5LmdldCgiZWRnZURpc3RhbmNlIiksdSksYj15LmdldCgiYmxlZWRNYXJnaW4iKSx3PWcuZ2V0TW9kZWwoImxhYmVsTGluZSIpLFM9dy5nZXQoImxlbmd0aCIpO1M9cWkoUyx1KTt2YXIgTT13LmdldCgibGVuZ3RoMiIpO2lmKE09cWkoTSx1KSxNYXRoLmFicyhjLmVuZEFuZ2xlLWMuc3RhcnRBbmdsZSk8YSlyZXR1cm4gTyhwLnN0YXRlcyxkKSx2b2lkKHAuaWdub3JlPSEwKTtpZihmdW5jdGlvbih0KXtpZighdC5pZ25vcmUpcmV0dXJuITA7Zm9yKHZhciBlIGluIHQuc3RhdGVzKWlmKCExPT09dC5zdGF0ZXNbZV0uaWdub3JlKXJldHVybiEwO3JldHVybiExfShwKSl7dmFyIEksVCxDLEQsQT0oYy5zdGFydEFuZ2xlK2MuZW5kQW5nbGUpLzIsaz1NYXRoLmNvcyhBKSxMPU1hdGguc2luKEEpO2U9Yy5jeCxuPWMuY3k7dmFyIFAsUj0iaW5zaWRlIj09PXZ8fCJpbm5lciI9PT12O2lmKCJjZW50ZXIiPT09dilJPWMuY3gsVD1jLmN5LEQ9ImNlbnRlciI7ZWxzZXt2YXIgTj0oUj8oYy5yK2MucjApLzIqazpjLnIqaykrZSx6PShSPyhjLnIrYy5yMCkvMipMOmMucipMKStuO2lmKEk9TiszKmssVD16KzMqTCwhUil7dmFyIEU9TitrKihTK2wtYy5yKSxWPXorTCooUytsLWMuciksQj1FKyhrPDA/LTE6MSkqTTtJPSJlZGdlIj09PV8/azwwP2greDpoK3UteDpCKyhrPDA/LW06bSksVD1WLEM9W1tOLHpdLFtFLFZdLFtCLFZdXX1EPVI/ImNlbnRlciI6ImVkZ2UiPT09Xz9rPjA/InJpZ2h0IjoibGVmdCI6az4wPyJsZWZ0IjoicmlnaHQifXZhciBHPXkuZ2V0KCJyb3RhdGUiKTtpZigibnVtYmVyIj09dHlwZW9mIEcpUD1HKihNYXRoLlBJLzE4MCk7ZWxzZSBpZigiY2VudGVyIj09PXYpUD0wO2Vsc2V7dmFyIEY9azwwPy1BK01hdGguUEk6LUE7InJhZGlhbCI9PT1HfHwhMD09PUc/UD1GOiJ0YW5nZW50aWFsIj09PUcmJiJvdXRzaWRlIiE9PXYmJiJvdXRlciIhPT12PyhQPUYrTWF0aC5QSS8yKT5NYXRoLlBJLzImJihQLT1NYXRoLlBJKTpQPTB9aWYobz0hIVAscC54PUkscC55PVQscC5yb3RhdGlvbj1QLHAuc2V0U3R5bGUoe3ZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9KSxSKXtwLnNldFN0eWxlKHthbGlnbjpEfSk7dmFyIEg9cC5zdGF0ZXMuc2VsZWN0O0gmJihILngrPXAueCxILnkrPXAueSl9ZWxzZXt2YXIgVz1wLmdldEJvdW5kaW5nUmVjdCgpLmNsb25lKCk7Vy5hcHBseVRyYW5zZm9ybShwLmdldENvbXB1dGVkVHJhbnNmb3JtKCkpO3ZhciBVPShwLnN0eWxlLm1hcmdpbnx8MCkrMi4xO1cueS09VS8yLFcuaGVpZ2h0Kz1VLHIucHVzaCh7bGFiZWw6cCxsYWJlbExpbmU6Zixwb3NpdGlvbjp2LGxlbjpTLGxlbjI6TSxtaW5UdXJuQW5nbGU6dy5nZXQoIm1pblR1cm5BbmdsZSIpLG1heFN1cmZhY2VBbmdsZTp3LmdldCgibWF4U3VyZmFjZUFuZ2xlIiksc3VyZmFjZU5vcm1hbDpuZXcgbGkoayxMKSxsaW5lUG9pbnRzOkMsdGV4dEFsaWduOkQsbGFiZWxEaXN0YW5jZTptLGxhYmVsQWxpZ25UbzpfLGVkZ2VEaXN0YW5jZTp4LGJsZWVkTWFyZ2luOmIscmVjdDpXfSl9cy5zZXRUZXh0Q29uZmlnKHtpbnNpZGU6Un0pfX0pKSwhbyYmdC5nZXQoImF2b2lkTGFiZWxPdmVybGFwIikmJmZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyl7Zm9yKHZhciBsPVtdLHU9W10saD1OdW1iZXIuTUFYX1ZBTFVFLGM9LU51bWJlci5NQVhfVkFMVUUscD0wO3A8dC5sZW5ndGg7cCsrKXt2YXIgZD10W3BdLmxhYmVsO2pTKHRbcF0pfHwoZC54PGU/KGg9TWF0aC5taW4oaCxkLngpLGwucHVzaCh0W3BdKSk6KGM9TWF0aC5tYXgoYyxkLngpLHUucHVzaCh0W3BdKSkpfWZvcihaUyh1LGUsbixpLDEsMCxvLDAscyxjKSxaUyhsLGUsbixpLC0xLDAsbywwLHMsaCkscD0wO3A8dC5sZW5ndGg7cCsrKXt2YXIgZj10W3BdO2lmKGQ9Zi5sYWJlbCwhalMoZikpe3ZhciBnPWYubGluZVBvaW50cztpZihnKXt2YXIgeT0iZWRnZSI9PT1mLmxhYmVsQWxpZ25Ubyx2PWYucmVjdC53aWR0aCxtPXZvaWQgMDsobT15P2QueDxlP2dbMl1bMF0tZi5sYWJlbERpc3RhbmNlLWEtZi5lZGdlRGlzdGFuY2U6YStyLWYuZWRnZURpc3RhbmNlLWdbMl1bMF0tZi5sYWJlbERpc3RhbmNlOmQueDxlP2QueC1hLWYuYmxlZWRNYXJnaW46YStyLWQueC1mLmJsZWVkTWFyZ2luKTxmLnJlY3Qud2lkdGgmJihmLmxhYmVsLnN0eWxlLndpZHRoPW0sImVkZ2UiPT09Zi5sYWJlbEFsaWduVG8mJih2PW0pKTt2YXIgXz1nWzFdWzBdLWdbMl1bMF07eT9kLng8ZT9nWzJdWzBdPWErZi5lZGdlRGlzdGFuY2UrditmLmxhYmVsRGlzdGFuY2U6Z1syXVswXT1hK3ItZi5lZGdlRGlzdGFuY2Utdi1mLmxhYmVsRGlzdGFuY2U6KGQueDxlP2dbMl1bMF09ZC54K2YubGFiZWxEaXN0YW5jZTpnWzJdWzBdPWQueC1mLmxhYmVsRGlzdGFuY2UsZ1sxXVswXT1nWzJdWzBdK18pLGdbMV1bMV09Z1syXVsxXT1kLnl9fX19KHIsZSxuLGwsdSxwLGgsYyk7Zm9yKHZhciBmPTA7ZjxyLmxlbmd0aDtmKyspe3ZhciBnPXJbZl0seT1nLmxhYmVsLHY9Zy5sYWJlbExpbmUsbT1pc05hTih5LngpfHxpc05hTih5LnkpO2lmKHkpe3kuc2V0U3R5bGUoe2FsaWduOmcudGV4dEFsaWdufSksbSYmKE8oeS5zdGF0ZXMsZCkseS5pZ25vcmU9ITApO3ZhciBfPXkuc3RhdGVzLnNlbGVjdDtfJiYoXy54Kz15LngsXy55Kz15LnkpfWlmKHYpe3ZhciB4PWcubGluZVBvaW50czttfHwheD8oTyh2LnN0YXRlcyxkKSx2Lmlnbm9yZT0hMCk6KHViKHgsZy5taW5UdXJuQW5nbGUpLGhiKHgsZy5zdXJmYWNlTm9ybWFsLGcubWF4U3VyZmFjZUFuZ2xlKSx2LnNldFNoYXBlKHtwb2ludHM6eH0pLHkuX19ob3N0VGFyZ2V0LnRleHRHdWlkZUxpbmVDb25maWc9e2FuY2hvcjpuZXcgbGkoeFswXVswXSx4WzBdWzFdKX0pfX19ZnVuY3Rpb24gS1ModCxlLG4pe3ZhciBpPXQuZ2V0KCJib3JkZXJSYWRpdXMiKTtyZXR1cm4gbnVsbD09aT9uP3tpbm5lckNvcm5lclJhZGl1czowLGNvcm5lclJhZGl1czowfTpudWxsOihGKGkpfHwoaT1baSxpXSkse2lubmVyQ29ybmVyUmFkaXVzOkNpKGlbMF0sZS5yMCksY29ybmVyUmFkaXVzOkNpKGlbMV0sZS5yKX0pfXZhciAkUz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpKXt2YXIgcj10LmNhbGwodGhpcyl8fHRoaXM7ci56Mj0yO3ZhciBvPW5ldyBmcztyZXR1cm4gci5zZXRUZXh0Q29udGVudChvKSxyLnVwZGF0ZURhdGEoZSxuLGksITApLHJ9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS51cGRhdGVEYXRhPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXRoaXMsYT10Lmhvc3RNb2RlbCxzPXQuZ2V0SXRlbU1vZGVsKGUpLGw9cy5nZXRNb2RlbCgiZW1waGFzaXMiKSx1PXQuZ2V0SXRlbUxheW91dChlKSxoPVQoS1Mocy5nZXRNb2RlbCgiaXRlbVN0eWxlIiksdSwhMCksdSk7aWYoaXNOYU4oaC5zdGFydEFuZ2xlKSlvLnNldFNoYXBlKGgpO2Vsc2V7aWYocilvLnNldFNoYXBlKGgpLCJzY2FsZSI9PT1hLmdldFNoYWxsb3coImFuaW1hdGlvblR5cGUiKT8oby5zaGFwZS5yPXUucjAsVnUobyx7c2hhcGU6e3I6dS5yfX0sYSxlKSk6bnVsbCE9bj8oby5zZXRTaGFwZSh7c3RhcnRBbmdsZTpuLGVuZEFuZ2xlOm59KSxWdShvLHtzaGFwZTp7c3RhcnRBbmdsZTp1LnN0YXJ0QW5nbGUsZW5kQW5nbGU6dS5lbmRBbmdsZX19LGEsZSkpOihvLnNoYXBlLmVuZEFuZ2xlPXUuc3RhcnRBbmdsZSxFdShvLHtzaGFwZTp7ZW5kQW5nbGU6dS5lbmRBbmdsZX19LGEsZSkpO2Vsc2UgV3UobyksRXUobyx7c2hhcGU6aH0sYSxlKTtvLnVzZVN0eWxlKHQuZ2V0SXRlbVZpc3VhbChlLCJzdHlsZSIpKSx5bChvLHMpO3ZhciBjPSh1LnN0YXJ0QW5nbGUrdS5lbmRBbmdsZSkvMixwPWEuZ2V0KCJzZWxlY3RlZE9mZnNldCIpLGQ9TWF0aC5jb3MoYykqcCxmPU1hdGguc2luKGMpKnAsZz1zLmdldFNoYWxsb3coImN1cnNvciIpO2cmJm8uYXR0cigiY3Vyc29yIixnKSx0aGlzLl91cGRhdGVMYWJlbChhLHQsZSksby5lbnN1cmVTdGF0ZSgiZW1waGFzaXMiKS5zaGFwZT1pKHtyOnUucisobC5nZXQoInNjYWxlIikmJmwuZ2V0KCJzY2FsZVNpemUiKXx8MCl9LEtTKGwuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLHUpKSxUKG8uZW5zdXJlU3RhdGUoInNlbGVjdCIpLHt4OmQseTpmLHNoYXBlOktTKHMuZ2V0TW9kZWwoWyJzZWxlY3QiLCJpdGVtU3R5bGUiXSksdSl9KSxUKG8uZW5zdXJlU3RhdGUoImJsdXIiKSx7c2hhcGU6S1Mocy5nZXRNb2RlbChbImJsdXIiLCJpdGVtU3R5bGUiXSksdSl9KTt2YXIgeT1vLmdldFRleHRHdWlkZUxpbmUoKSx2PW8uZ2V0VGV4dENvbnRlbnQoKTt5JiZUKHkuZW5zdXJlU3RhdGUoInNlbGVjdCIpLHt4OmQseTpmfSksVCh2LmVuc3VyZVN0YXRlKCJzZWxlY3QiKSx7eDpkLHk6Zn0pLHBsKHRoaXMsbC5nZXQoImZvY3VzIiksbC5nZXQoImJsdXJTY29wZSIpKX19LGUucHJvdG90eXBlLl91cGRhdGVMYWJlbD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcyxyPWUuZ2V0SXRlbU1vZGVsKG4pLG89ci5nZXRNb2RlbCgibGFiZWxMaW5lIiksYT1lLmdldEl0ZW1WaXN1YWwobiwic3R5bGUiKSxzPWEmJmEuZmlsbCxsPWEmJmEub3BhY2l0eTt4aChpLGJoKHIpLHtsYWJlbEZldGNoZXI6ZS5ob3N0TW9kZWwsbGFiZWxEYXRhSW5kZXg6bixpbmhlcml0Q29sb3I6cyxkZWZhdWx0T3BhY2l0eTpsLGRlZmF1bHRUZXh0OnQuZ2V0Rm9ybWF0dGVkTGFiZWwobiwibm9ybWFsIil8fGUuZ2V0TmFtZShuKX0pO3ZhciB1PWkuZ2V0VGV4dENvbnRlbnQoKTtpLnNldFRleHRDb25maWcoe3Bvc2l0aW9uOm51bGwscm90YXRpb246bnVsbH0pLHUuYXR0cih7ejI6MTB9KTt2YXIgaD10LmdldChbImxhYmVsIiwicG9zaXRpb24iXSk7aWYoIm91dHNpZGUiIT09aCYmIm91dGVyIiE9PWgpaS5yZW1vdmVUZXh0R3VpZGVMaW5lKCk7ZWxzZXt2YXIgYz10aGlzLmdldFRleHRHdWlkZUxpbmUoKTtjfHwoYz1uZXcgZHUsdGhpcy5zZXRUZXh0R3VpZGVMaW5lKGMpKSxkYih0aGlzLGZiKHIpLHtzdHJva2U6cyxvcGFjaXR5Om50KG8uZ2V0KFsibGluZVN0eWxlIiwib3BhY2l0eSJdKSxsLDEpfSl9fSxlfShvdSksSlM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS5pZ25vcmVMYWJlbExpbmVVcGRhdGU9ITAsZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgQmk7dGhpcy5fc2VjdG9yR3JvdXA9dH0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByLG89dC5nZXREYXRhKCksYT10aGlzLl9kYXRhLHM9dGhpcy5ncm91cDtpZighYSYmby5jb3VudCgpPjApe2Zvcih2YXIgbD1vLmdldEl0ZW1MYXlvdXQoMCksdT0xO2lzTmFOKGwmJmwuc3RhcnRBbmdsZSkmJnU8by5jb3VudCgpOysrdSlsPW8uZ2V0SXRlbUxheW91dCh1KTtsJiYocj1sLnN0YXJ0QW5nbGUpfWlmKHRoaXMuX2VtcHR5Q2lyY2xlU2VjdG9yJiZzLnJlbW92ZSh0aGlzLl9lbXB0eUNpcmNsZVNlY3RvciksMD09PW8uY291bnQoKSYmdC5nZXQoInNob3dFbXB0eUNpcmNsZSIpKXt2YXIgaD1uZXcgb3Uoe3NoYXBlOldTKHQsbil9KTtoLnVzZVN0eWxlKHQuZ2V0TW9kZWwoImVtcHR5Q2lyY2xlU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSksdGhpcy5fZW1wdHlDaXJjbGVTZWN0b3I9aCxzLmFkZChoKX1vLmRpZmYoYSkuYWRkKChmdW5jdGlvbih0KXt2YXIgZT1uZXcgJFMobyx0LHIpO28uc2V0SXRlbUdyYXBoaWNFbCh0LGUpLHMuYWRkKGUpfSkpLnVwZGF0ZSgoZnVuY3Rpb24odCxlKXt2YXIgbj1hLmdldEl0ZW1HcmFwaGljRWwoZSk7bi51cGRhdGVEYXRhKG8sdCxyKSxuLm9mZigiY2xpY2siKSxzLmFkZChuKSxvLnNldEl0ZW1HcmFwaGljRWwodCxuKX0pKS5yZW1vdmUoKGZ1bmN0aW9uKGUpe0h1KGEuZ2V0SXRlbUdyYXBoaWNFbChlKSx0LGUpfSkpLmV4ZWN1dGUoKSxxUyh0KSwiZXhwYW5zaW9uIiE9PXQuZ2V0KCJhbmltYXRpb25UeXBlVXBkYXRlIikmJih0aGlzLl9kYXRhPW8pfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5jb250YWluUG9pbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmdldERhdGEoKS5nZXRJdGVtTGF5b3V0KDApO2lmKG4pe3ZhciBpPXRbMF0tbi5jeCxyPXRbMV0tbi5jeSxvPU1hdGguc3FydChpKmkrcipyKTtyZXR1cm4gbzw9bi5yJiZvPj1uLnIwfX0sZS50eXBlPSJwaWUiLGV9KFpmKTtmdW5jdGlvbiBRUyh0LGUsbil7ZT1GKGUpJiZ7Y29vcmREaW1lbnNpb25zOmV9fHxUKHtlbmNvZGVEZWZpbmU6dC5nZXRFbmNvZGUoKX0sZSk7dmFyIGk9dC5nZXRTb3VyY2UoKSxyPWhfKGksZSkuZGltZW5zaW9ucyxvPW5ldyB1XyhyLHQpO3JldHVybiBvLmluaXREYXRhKGksbiksb312YXIgdE09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fZ2V0RGF0YVdpdGhFbmNvZGVkVmlzdWFsPXQsdGhpcy5fZ2V0UmF3RGF0YT1lfXJldHVybiB0LnByb3RvdHlwZS5nZXRBbGxOYW1lcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldFJhd0RhdGEoKTtyZXR1cm4gdC5tYXBBcnJheSh0LmdldE5hbWUpfSx0LnByb3RvdHlwZS5jb250YWluTmFtZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZ2V0UmF3RGF0YSgpLmluZGV4T2ZOYW1lKHQpPj0wfSx0LnByb3RvdHlwZS5pbmRleE9mTmFtZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZ2V0RGF0YVdpdGhFbmNvZGVkVmlzdWFsKCkuaW5kZXhPZk5hbWUodCl9LHQucHJvdG90eXBlLmdldEl0ZW1WaXN1YWw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YVdpdGhFbmNvZGVkVmlzdWFsKCkuZ2V0SXRlbVZpc3VhbCh0LGUpfSx0fSgpLGVNPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLmxlZ2VuZFZpc3VhbFByb3ZpZGVyPW5ldyB0TShCKHRoaXMuZ2V0RGF0YSx0aGlzKSxCKHRoaXMuZ2V0UmF3RGF0YSx0aGlzKSksdGhpcy5fZGVmYXVsdExhYmVsTGluZShlKX0sZS5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS5tZXJnZU9wdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIFFTKHRoaXMse2Nvb3JkRGltZW5zaW9uczpbInZhbHVlIl0sZW5jb2RlRGVmYXVsdGVyOkcoeHAsdGhpcyl9KX0sZS5wcm90b3R5cGUuZ2V0RGF0YVBhcmFtcz1mdW5jdGlvbihlKXt2YXIgbj10aGlzLmdldERhdGEoKSxpPXQucHJvdG90eXBlLmdldERhdGFQYXJhbXMuY2FsbCh0aGlzLGUpLHI9W107cmV0dXJuIG4uZWFjaChuLm1hcERpbWVuc2lvbigidmFsdWUiKSwoZnVuY3Rpb24odCl7ci5wdXNoKHQpfSkpLGkucGVyY2VudD1lcihyLGUsbi5ob3N0TW9kZWwuZ2V0KCJwZXJjZW50UHJlY2lzaW9uIikpLGkuJHZhcnMucHVzaCgicGVyY2VudCIpLGl9LGUucHJvdG90eXBlLl9kZWZhdWx0TGFiZWxMaW5lPWZ1bmN0aW9uKHQpe1NyKHQsImxhYmVsTGluZSIsWyJzaG93Il0pO3ZhciBlPXQubGFiZWxMaW5lLG49dC5lbXBoYXNpcy5sYWJlbExpbmU7ZS5zaG93PWUuc2hvdyYmdC5sYWJlbC5zaG93LG4uc2hvdz1uLnNob3cmJnQuZW1waGFzaXMubGFiZWwuc2hvd30sZS50eXBlPSJzZXJpZXMucGllIixlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6MixsZWdlbmRIb3Zlckxpbms6ITAsY29sb3JCeToiZGF0YSIsY2VudGVyOlsiNTAlIiwiNTAlIl0scmFkaXVzOlswLCI3NSUiXSxjbG9ja3dpc2U6ITAsc3RhcnRBbmdsZTo5MCxtaW5BbmdsZTowLG1pblNob3dMYWJlbEFuZ2xlOjAsc2VsZWN0ZWRPZmZzZXQ6MTAscGVyY2VudFByZWNpc2lvbjoyLHN0aWxsU2hvd1plcm9TdW06ITAsbGVmdDowLHRvcDowLHJpZ2h0OjAsYm90dG9tOjAsd2lkdGg6bnVsbCxoZWlnaHQ6bnVsbCxsYWJlbDp7cm90YXRlOjAsc2hvdzohMCxvdmVyZmxvdzoidHJ1bmNhdGUiLHBvc2l0aW9uOiJvdXRlciIsYWxpZ25Ubzoibm9uZSIsZWRnZURpc3RhbmNlOiIyNSUiLGJsZWVkTWFyZ2luOjEwLGRpc3RhbmNlVG9MYWJlbExpbmU6NX0sbGFiZWxMaW5lOntzaG93OiEwLGxlbmd0aDoxNSxsZW5ndGgyOjE1LHNtb290aDohMSxtaW5UdXJuQW5nbGU6OTAsbWF4U3VyZmFjZUFuZ2xlOjkwLGxpbmVTdHlsZTp7d2lkdGg6MSx0eXBlOiJzb2xpZCJ9fSxpdGVtU3R5bGU6e2JvcmRlcldpZHRoOjEsYm9yZGVySm9pbjoicm91bmQifSxzaG93RW1wdHlDaXJjbGU6ITAsZW1wdHlDaXJjbGVTdHlsZTp7Y29sb3I6ImxpZ2h0Z3JheSIsb3BhY2l0eToxfSxsYWJlbExheW91dDp7aGlkZU92ZXJsYXA6ITB9LGVtcGhhc2lzOntzY2FsZTohMCxzY2FsZVNpemU6NX0sYXZvaWRMYWJlbE92ZXJsYXA6ITAsYW5pbWF0aW9uVHlwZToiZXhwYW5zaW9uIixhbmltYXRpb25EdXJhdGlvbjoxZTMsYW5pbWF0aW9uVHlwZVVwZGF0ZToidHJhbnNpdGlvbiIsYW5pbWF0aW9uRWFzaW5nVXBkYXRlOiJjdWJpY0luT3V0IixhbmltYXRpb25EdXJhdGlvblVwZGF0ZTo1MDAsYW5pbWF0aW9uRWFzaW5nOiJjdWJpY0luT3V0In0sZX0oTmYpO3ZhciBuTT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uaGFzU3ltYm9sVmlzdWFsPSEwLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiBtXyhudWxsLHRoaXMse3VzZUVuY29kZURlZmF1bHRlcjohMH0pfSxlLnByb3RvdHlwZS5nZXRQcm9ncmVzc2l2ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uLnByb2dyZXNzaXZlO3JldHVybiBudWxsPT10P3RoaXMub3B0aW9uLmxhcmdlPzVlMzp0aGlzLmdldCgicHJvZ3Jlc3NpdmUiKTp0fSxlLnByb3RvdHlwZS5nZXRQcm9ncmVzc2l2ZVRocmVzaG9sZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uLnByb2dyZXNzaXZlVGhyZXNob2xkO3JldHVybiBudWxsPT10P3RoaXMub3B0aW9uLmxhcmdlPzFlNDp0aGlzLmdldCgicHJvZ3Jlc3NpdmVUaHJlc2hvbGQiKTp0fSxlLnByb3RvdHlwZS5icnVzaFNlbGVjdG9yPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbi5wb2ludChlLmdldEl0ZW1MYXlvdXQodCkpfSxlLnR5cGU9InNlcmllcy5zY2F0dGVyIixlLmRlcGVuZGVuY2llcz1bImdyaWQiLCJwb2xhciIsImdlbyIsInNpbmdsZUF4aXMiLCJjYWxlbmRhciJdLGUuZGVmYXVsdE9wdGlvbj17Y29vcmRpbmF0ZVN5c3RlbToiY2FydGVzaWFuMmQiLHpsZXZlbDowLHo6MixsZWdlbmRIb3Zlckxpbms6ITAsc3ltYm9sU2l6ZToxMCxsYXJnZTohMSxsYXJnZVRocmVzaG9sZDoyZTMsaXRlbVN0eWxlOntvcGFjaXR5Oi44fSxlbXBoYXNpczp7c2NhbGU6ITB9LGNsaXA6ITAsc2VsZWN0OntpdGVtU3R5bGU6e2JvcmRlckNvbG9yOiIjMjEyMTIxIn19LHVuaXZlcnNhbFRyYW5zaXRpb246e2RpdmlkZVNoYXBlOiJjbG9uZSJ9fSxlfShOZiksaU09ZnVuY3Rpb24oKXt9LHJNPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIHQuY2FsbCh0aGlzLGUpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpTX0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5wb2ludHMsaT1lLnNpemUscj10aGlzLnN5bWJvbFByb3h5LG89ci5zaGFwZSxhPXQuZ2V0Q29udGV4dD90LmdldENvbnRleHQoKTp0O2lmKGEmJmlbMF08NCl0aGlzLl9jdHg9YTtlbHNle3RoaXMuX2N0eD1udWxsO2Zvcih2YXIgcz0wO3M8bi5sZW5ndGg7KXt2YXIgbD1uW3MrK10sdT1uW3MrK107aXNOYU4obCl8fGlzTmFOKHUpfHwodGhpcy5zb2Z0Q2xpcFNoYXBlJiYhdGhpcy5zb2Z0Q2xpcFNoYXBlLmNvbnRhaW4obCx1KXx8KG8ueD1sLWlbMF0vMixvLnk9dS1pWzFdLzIsby53aWR0aD1pWzBdLG8uaGVpZ2h0PWlbMV0sci5idWlsZFBhdGgodCxvLCEwKSkpfX19LGUucHJvdG90eXBlLmFmdGVyQnJ1c2g9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnNoYXBlLGU9dC5wb2ludHMsbj10LnNpemUsaT10aGlzLl9jdHg7aWYoaSlmb3IodmFyIHI9MDtyPGUubGVuZ3RoOyl7dmFyIG89ZVtyKytdLGE9ZVtyKytdO2lzTmFOKG8pfHxpc05hTihhKXx8KHRoaXMuc29mdENsaXBTaGFwZSYmIXRoaXMuc29mdENsaXBTaGFwZS5jb250YWluKG8sYSl8fGkuZmlsbFJlY3Qoby1uWzBdLzIsYS1uWzFdLzIsblswXSxuWzFdKSl9fSxlLnByb3RvdHlwZS5maW5kRGF0YUluZGV4PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMuc2hhcGUsaT1uLnBvaW50cyxyPW4uc2l6ZSxvPU1hdGgubWF4KHJbMF0sNCksYT1NYXRoLm1heChyWzFdLDQpLHM9aS5sZW5ndGgvMi0xO3M+PTA7cy0tKXt2YXIgbD0yKnMsdT1pW2xdLW8vMixoPWlbbCsxXS1hLzI7aWYodD49dSYmZT49aCYmdDw9dStvJiZlPD1oK2EpcmV0dXJuIHN9cmV0dXJuLTF9LGV9KFFhKSxvTT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmdyb3VwPW5ldyBCaX1yZXR1cm4gdC5wcm90b3R5cGUuaXNQZXJzaXN0ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuX2luY3JlbWVudGFsfSx0LnByb3RvdHlwZS51cGRhdGVEYXRhPWZ1bmN0aW9uKHQsZSl7dGhpcy5ncm91cC5yZW1vdmVBbGwoKTt2YXIgbj1uZXcgck0oe3JlY3RIb3ZlcjohMCxjdXJzb3I6ImRlZmF1bHQifSk7bi5zZXRTaGFwZSh7cG9pbnRzOnQuZ2V0TGF5b3V0KCJwb2ludHMiKX0pLHRoaXMuX3NldENvbW1vbihuLHQsITEsZSksdGhpcy5ncm91cC5hZGQobiksdGhpcy5faW5jcmVtZW50YWw9bnVsbH0sdC5wcm90b3R5cGUudXBkYXRlTGF5b3V0PWZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9pbmNyZW1lbnRhbCl7dmFyIGU9dC5nZXRMYXlvdXQoInBvaW50cyIpO3RoaXMuZ3JvdXAuZWFjaENoaWxkKChmdW5jdGlvbih0KXtpZihudWxsIT10LnN0YXJ0SW5kZXgpe3ZhciBuPTIqKHQuZW5kSW5kZXgtdC5zdGFydEluZGV4KSxpPTQqdC5zdGFydEluZGV4KjI7ZT1uZXcgRmxvYXQzMkFycmF5KGUuYnVmZmVyLGksbil9dC5zZXRTaGFwZSgicG9pbnRzIixlKX0pKX19LHQucHJvdG90eXBlLmluY3JlbWVudGFsUHJlcGFyZVVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2NsZWFySW5jcmVtZW50YWwoKSx0LmNvdW50KCk+MmU2Pyh0aGlzLl9pbmNyZW1lbnRhbHx8KHRoaXMuX2luY3JlbWVudGFsPW5ldyBPdSh7c2lsZW50OiEwfSkpLHRoaXMuZ3JvdXAuYWRkKHRoaXMuX2luY3JlbWVudGFsKSk6dGhpcy5faW5jcmVtZW50YWw9bnVsbH0sdC5wcm90b3R5cGUuaW5jcmVtZW50YWxVcGRhdGU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpO3RoaXMuX2luY3JlbWVudGFsPyhpPW5ldyByTSx0aGlzLl9pbmNyZW1lbnRhbC5hZGREaXNwbGF5YWJsZShpLCEwKSk6KChpPW5ldyByTSh7cmVjdEhvdmVyOiEwLGN1cnNvcjoiZGVmYXVsdCIsc3RhcnRJbmRleDp0LnN0YXJ0LGVuZEluZGV4OnQuZW5kfSkpLmluY3JlbWVudGFsPSEwLHRoaXMuZ3JvdXAuYWRkKGkpKSxpLnNldFNoYXBlKHtwb2ludHM6ZS5nZXRMYXlvdXQoInBvaW50cyIpfSksdGhpcy5fc2V0Q29tbW9uKGksZSwhIXRoaXMuX2luY3JlbWVudGFsLG4pfSx0LnByb3RvdHlwZS5fc2V0Q29tbW9uPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWUuaG9zdE1vZGVsO2k9aXx8e307dmFyIG89ZS5nZXRWaXN1YWwoInN5bWJvbFNpemUiKTt0LnNldFNoYXBlKCJzaXplIixvIGluc3RhbmNlb2YgQXJyYXk/bzpbbyxvXSksdC5zb2Z0Q2xpcFNoYXBlPWkuY2xpcFNoYXBlfHxudWxsLHQuc3ltYm9sUHJveHk9ZXkoZS5nZXRWaXN1YWwoInN5bWJvbCIpLDAsMCwwLDApLHQuc2V0Q29sb3I9dC5zeW1ib2xQcm94eS5zZXRDb2xvcjt2YXIgYT10LnNoYXBlLnNpemVbMF08NDt0LnVzZVN0eWxlKHIuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZShhP1siY29sb3IiLCJzaGFkb3dCbHVyIiwic2hhZG93Q29sb3IiXTpbImNvbG9yIl0pKTt2YXIgcz1lLmdldFZpc3VhbCgic3R5bGUiKSxsPXMmJnMuZmlsbDtpZihsJiZ0LnNldENvbG9yKGwpLCFuKXt2YXIgdT1Tcyh0KTt1LnNlcmllc0luZGV4PXIuc2VyaWVzSW5kZXgsdC5vbigibW91c2Vtb3ZlIiwoZnVuY3Rpb24oZSl7dS5kYXRhSW5kZXg9bnVsbDt2YXIgbj10LmZpbmREYXRhSW5kZXgoZS5vZmZzZXRYLGUub2Zmc2V0WSk7bj49MCYmKHUuZGF0YUluZGV4PW4rKHQuc3RhcnRJbmRleHx8MCkpfSkpfX0sdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJJbmNyZW1lbnRhbCgpLHRoaXMuX2luY3JlbWVudGFsPW51bGwsdGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sdC5wcm90b3R5cGUuX2NsZWFySW5jcmVtZW50YWw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pbmNyZW1lbnRhbDt0JiZ0LmNsZWFyRGlzcGxheWJsZXMoKX0sdH0oKSxhTT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZ2V0RGF0YSgpO3RoaXMuX3VwZGF0ZVN5bWJvbERyYXcoaSx0KS51cGRhdGVEYXRhKGkse2NsaXBTaGFwZTp0aGlzLl9nZXRDbGlwU2hhcGUodCl9KSx0aGlzLl9maW5pc2hlZD0hMH0sZS5wcm90b3R5cGUuaW5jcmVtZW50YWxQcmVwYXJlUmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldERhdGEoKTt0aGlzLl91cGRhdGVTeW1ib2xEcmF3KGksdCkuaW5jcmVtZW50YWxQcmVwYXJlVXBkYXRlKGkpLHRoaXMuX2ZpbmlzaGVkPSExfSxlLnByb3RvdHlwZS5pbmNyZW1lbnRhbFJlbmRlcj1mdW5jdGlvbih0LGUsbil7dGhpcy5fc3ltYm9sRHJhdy5pbmNyZW1lbnRhbFVwZGF0ZSh0LGUuZ2V0RGF0YSgpLHtjbGlwU2hhcGU6dGhpcy5fZ2V0Q2xpcFNoYXBlKGUpfSksdGhpcy5fZmluaXNoZWQ9dC5lbmQ9PT1lLmdldERhdGEoKS5jb3VudCgpfSxlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZ2V0RGF0YSgpO2lmKHRoaXMuZ3JvdXAuZGlydHkoKSwhdGhpcy5fZmluaXNoZWR8fGkuY291bnQoKT4xZTR8fCF0aGlzLl9zeW1ib2xEcmF3LmlzUGVyc2lzdGVudCgpKXJldHVybnt1cGRhdGU6ITB9O3ZhciByPWNTKCIiKS5yZXNldCh0LGUsbik7ci5wcm9ncmVzcyYmci5wcm9ncmVzcyh7c3RhcnQ6MCxlbmQ6aS5jb3VudCgpLGNvdW50OmkuY291bnQoKX0saSksdGhpcy5fc3ltYm9sRHJhdy51cGRhdGVMYXlvdXQoaSl9LGUucHJvdG90eXBlLl9nZXRDbGlwU2hhcGU9ZnVuY3Rpb24odCl7dmFyIGU9dC5jb29yZGluYXRlU3lzdGVtLG49ZSYmZS5nZXRBcmVhJiZlLmdldEFyZWEoKTtyZXR1cm4gdC5nZXQoImNsaXAiLCEwKT9uOm51bGx9LGUucHJvdG90eXBlLl91cGRhdGVTeW1ib2xEcmF3PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fc3ltYm9sRHJhdyxpPWUucGlwZWxpbmVDb250ZXh0LmxhcmdlO3JldHVybiBuJiZpPT09dGhpcy5faXNMYXJnZURyYXd8fChuJiZuLnJlbW92ZSgpLG49dGhpcy5fc3ltYm9sRHJhdz1pP25ldyBvTTpuZXcgencsdGhpcy5faXNMYXJnZURyYXc9aSx0aGlzLmdyb3VwLnJlbW92ZUFsbCgpKSx0aGlzLmdyb3VwLmFkZChuLmdyb3VwKSxufSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlKXt0aGlzLl9zeW1ib2xEcmF3JiZ0aGlzLl9zeW1ib2xEcmF3LnJlbW92ZSghMCksdGhpcy5fc3ltYm9sRHJhdz1udWxsfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7fSxlLnR5cGU9InNjYXR0ZXIiLGV9KFpmKSxzTT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUudHlwZT0iZ3JpZCIsZS5kZXBlbmRlbmNpZXM9WyJ4QXhpcyIsInlBeGlzIl0sZS5sYXlvdXRNb2RlPSJib3giLGUuZGVmYXVsdE9wdGlvbj17c2hvdzohMSx6bGV2ZWw6MCx6OjAsbGVmdDoiMTAlIix0b3A6NjAscmlnaHQ6IjEwJSIsYm90dG9tOjcwLGNvbnRhaW5MYWJlbDohMSxiYWNrZ3JvdW5kQ29sb3I6InJnYmEoMCwwLDAsMCkiLGJvcmRlcldpZHRoOjEsYm9yZGVyQ29sb3I6IiNjY2MifSxlfShucCksbE09ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXRDb29yZFN5c01vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cygiZ3JpZCIsVnIpLm1vZGVsc1swXX0sZS50eXBlPSJjYXJ0ZXNpYW4yZEF4aXMiLGV9KG5wKTtMKGxNLEl4KTt2YXIgdU09e3Nob3c6ITAsemxldmVsOjAsejowLGludmVyc2U6ITEsbmFtZToiIixuYW1lTG9jYXRpb246ImVuZCIsbmFtZVJvdGF0ZTpudWxsLG5hbWVUcnVuY2F0ZTp7bWF4V2lkdGg6bnVsbCxlbGxpcHNpczoiLi4uIixwbGFjZWhvbGRlcjoiLiJ9LG5hbWVUZXh0U3R5bGU6e30sbmFtZUdhcDoxNSxzaWxlbnQ6ITEsdHJpZ2dlckV2ZW50OiExLHRvb2x0aXA6e3Nob3c6ITF9LGF4aXNQb2ludGVyOnt9LGF4aXNMaW5lOntzaG93OiEwLG9uWmVybzohMCxvblplcm9BeGlzSW5kZXg6bnVsbCxsaW5lU3R5bGU6e2NvbG9yOiIjNkU3MDc5Iix3aWR0aDoxLHR5cGU6InNvbGlkIn0sc3ltYm9sOlsibm9uZSIsIm5vbmUiXSxzeW1ib2xTaXplOlsxMCwxNV19LGF4aXNUaWNrOntzaG93OiEwLGluc2lkZTohMSxsZW5ndGg6NSxsaW5lU3R5bGU6e3dpZHRoOjF9fSxheGlzTGFiZWw6e3Nob3c6ITAsaW5zaWRlOiExLHJvdGF0ZTowLHNob3dNaW5MYWJlbDpudWxsLHNob3dNYXhMYWJlbDpudWxsLG1hcmdpbjo4LGZvbnRTaXplOjEyfSxzcGxpdExpbmU6e3Nob3c6ITAsbGluZVN0eWxlOntjb2xvcjpbIiNFMEU2RjEiXSx3aWR0aDoxLHR5cGU6InNvbGlkIn19LHNwbGl0QXJlYTp7c2hvdzohMSxhcmVhU3R5bGU6e2NvbG9yOlsicmdiYSgyNTAsMjUwLDI1MCwwLjIpIiwicmdiYSgyMTAsMjE5LDIzOCwwLjIpIl19fX0saE09TSh7Ym91bmRhcnlHYXA6ITAsZGVkdXBsaWNhdGlvbjpudWxsLHNwbGl0TGluZTp7c2hvdzohMX0sYXhpc1RpY2s6e2FsaWduV2l0aExhYmVsOiExLGludGVydmFsOiJhdXRvIn0sYXhpc0xhYmVsOntpbnRlcnZhbDoiYXV0byJ9fSx1TSksY009TSh7Ym91bmRhcnlHYXA6WzAsMF0sYXhpc0xpbmU6e3Nob3c6ImF1dG8ifSxheGlzVGljazp7c2hvdzoiYXV0byJ9LHNwbGl0TnVtYmVyOjUsbWlub3JUaWNrOntzaG93OiExLHNwbGl0TnVtYmVyOjUsbGVuZ3RoOjMsbGluZVN0eWxlOnt9fSxtaW5vclNwbGl0TGluZTp7c2hvdzohMSxsaW5lU3R5bGU6e2NvbG9yOiIjRjRGN0ZEIix3aWR0aDoxfX19LHVNKSxwTT17Y2F0ZWdvcnk6aE0sdmFsdWU6Y00sdGltZTpNKHtzY2FsZTohMCxzcGxpdE51bWJlcjo2LGF4aXNMYWJlbDp7c2hvd01pbkxhYmVsOiExLHNob3dNYXhMYWJlbDohMSxyaWNoOntwcmltYXJ5Ontmb250V2VpZ2h0OiJib2xkIn19fSxzcGxpdExpbmU6e3Nob3c6ITF9fSxjTSksbG9nOkMoe3NjYWxlOiEwLGxvZ0Jhc2U6MTB9LGNNKX0sZE09e3ZhbHVlOjEsY2F0ZWdvcnk6MSx0aW1lOjEsbG9nOjF9O2Z1bmN0aW9uIGZNKHQsZSxpLHIpe08oZE0sKGZ1bmN0aW9uKG8sYSl7dmFyIHM9TShNKHt9LHBNW2FdLCEwKSxyLCEwKSxsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGkoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lKyJBeGlzLiIrYSxufXJldHVybiBuKGksdCksaS5wcm90b3R5cGUubWVyZ2VEZWZhdWx0QW5kVGhlbWU9ZnVuY3Rpb24odCxlKXt2YXIgbj0kYyh0aGlzKSxpPW4/UWModCk6e307TSh0LGUuZ2V0VGhlbWUoKS5nZXQoYSsiQXhpcyIpKSxNKHQsdGhpcy5nZXREZWZhdWx0T3B0aW9uKCkpLHQudHlwZT1nTSh0KSxuJiZKYyh0LGksbil9LGkucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQ9ZnVuY3Rpb24oKXsiY2F0ZWdvcnkiPT09dGhpcy5vcHRpb24udHlwZSYmKHRoaXMuX19vcmRpbmFsTWV0YT1iXy5jcmVhdGVCeUF4aXNNb2RlbCh0aGlzKSl9LGkucHJvdG90eXBlLmdldENhdGVnb3JpZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb247aWYoImNhdGVnb3J5Ij09PWUudHlwZSlyZXR1cm4gdD9lLmRhdGE6dGhpcy5fX29yZGluYWxNZXRhLmNhdGVnb3JpZXN9LGkucHJvdG90eXBlLmdldE9yZGluYWxNZXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19vcmRpbmFsTWV0YX0saS50eXBlPWUrIkF4aXMuIithLGkuZGVmYXVsdE9wdGlvbj1zLGl9KGkpO3QucmVnaXN0ZXJDb21wb25lbnRNb2RlbChsKX0pKSx0LnJlZ2lzdGVyU3ViVHlwZURlZmF1bHRlcihlKyJBeGlzIixnTSl9ZnVuY3Rpb24gZ00odCl7cmV0dXJuIHQudHlwZXx8KHQuZGF0YT8iY2F0ZWdvcnkiOiJ2YWx1ZSIpfXZhciB5TT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy50eXBlPSJjYXJ0ZXNpYW4iLHRoaXMuX2RpbUxpc3Q9W10sdGhpcy5fYXhlcz17fSx0aGlzLm5hbWU9dHx8IiJ9cmV0dXJuIHQucHJvdG90eXBlLmdldEF4aXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2F4ZXNbdF19LHQucHJvdG90eXBlLmdldEF4ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gUih0aGlzLl9kaW1MaXN0LChmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYXhlc1t0XX0pLHRoaXMpfSx0LnByb3RvdHlwZS5nZXRBeGVzQnlTY2FsZT1mdW5jdGlvbih0KXtyZXR1cm4gdD10LnRvTG93ZXJDYXNlKCkseih0aGlzLmdldEF4ZXMoKSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2NhbGUudHlwZT09PXR9KSl9LHQucHJvdG90eXBlLmFkZEF4aXM9ZnVuY3Rpb24odCl7dmFyIGU9dC5kaW07dGhpcy5fYXhlc1tlXT10LHRoaXMuX2RpbUxpc3QucHVzaChlKX0sdH0oKSx2TT1bIngiLCJ5Il07ZnVuY3Rpb24gbU0odCl7cmV0dXJuImludGVydmFsIj09PXQudHlwZXx8InRpbWUiPT09dC50eXBlfXZhciBfTT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLnR5cGU9ImNhcnRlc2lhbjJkIixlLmRpbWVuc2lvbnM9dk0sZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmNhbGNBZmZpbmVUcmFuc2Zvcm09ZnVuY3Rpb24oKXt0aGlzLl90cmFuc2Zvcm09dGhpcy5faW52VHJhbnNmb3JtPW51bGw7dmFyIHQ9dGhpcy5nZXRBeGlzKCJ4Iikuc2NhbGUsZT10aGlzLmdldEF4aXMoInkiKS5zY2FsZTtpZihtTSh0KSYmbU0oZSkpe3ZhciBuPXQuZ2V0RXh0ZW50KCksaT1lLmdldEV4dGVudCgpLHI9dGhpcy5kYXRhVG9Qb2ludChbblswXSxpWzBdXSksbz10aGlzLmRhdGFUb1BvaW50KFtuWzFdLGlbMV1dKSxhPW5bMV0tblswXSxzPWlbMV0taVswXTtpZihhJiZzKXt2YXIgbD0ob1swXS1yWzBdKS9hLHU9KG9bMV0tclsxXSkvcyxoPXJbMF0tblswXSpsLGM9clsxXS1pWzBdKnUscD10aGlzLl90cmFuc2Zvcm09W2wsMCwwLHUsaCxjXTt0aGlzLl9pbnZUcmFuc2Zvcm09am4oW10scCl9fX0sZS5wcm90b3R5cGUuZ2V0QmFzZUF4aXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBeGVzQnlTY2FsZSgib3JkaW5hbCIpWzBdfHx0aGlzLmdldEF4ZXNCeVNjYWxlKCJ0aW1lIilbMF18fHRoaXMuZ2V0QXhpcygieCIpfSxlLnByb3RvdHlwZS5jb250YWluUG9pbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRBeGlzKCJ4Iiksbj10aGlzLmdldEF4aXMoInkiKTtyZXR1cm4gZS5jb250YWluKGUudG9Mb2NhbENvb3JkKHRbMF0pKSYmbi5jb250YWluKG4udG9Mb2NhbENvb3JkKHRbMV0pKX0sZS5wcm90b3R5cGUuY29udGFpbkRhdGE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0QXhpcygieCIpLmNvbnRhaW5EYXRhKHRbMF0pJiZ0aGlzLmdldEF4aXMoInkiKS5jb250YWluRGF0YSh0WzFdKX0sZS5wcm90b3R5cGUuZGF0YVRvUG9pbnQ9ZnVuY3Rpb24odCxlLG4pe249bnx8W107dmFyIGk9dFswXSxyPXRbMV07aWYodGhpcy5fdHJhbnNmb3JtJiZudWxsIT1pJiZpc0Zpbml0ZShpKSYmbnVsbCE9ciYmaXNGaW5pdGUocikpcmV0dXJuIE50KG4sdCx0aGlzLl90cmFuc2Zvcm0pO3ZhciBvPXRoaXMuZ2V0QXhpcygieCIpLGE9dGhpcy5nZXRBeGlzKCJ5Iik7cmV0dXJuIG5bMF09by50b0dsb2JhbENvb3JkKG8uZGF0YVRvQ29vcmQoaSxlKSksblsxXT1hLnRvR2xvYmFsQ29vcmQoYS5kYXRhVG9Db29yZChyLGUpKSxufSxlLnByb3RvdHlwZS5jbGFtcERhdGE9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmdldEF4aXMoIngiKS5zY2FsZSxpPXRoaXMuZ2V0QXhpcygieSIpLnNjYWxlLHI9bi5nZXRFeHRlbnQoKSxvPWkuZ2V0RXh0ZW50KCksYT1uLnBhcnNlKHRbMF0pLHM9aS5wYXJzZSh0WzFdKTtyZXR1cm4oZT1lfHxbXSlbMF09TWF0aC5taW4oTWF0aC5tYXgoTWF0aC5taW4oclswXSxyWzFdKSxhKSxNYXRoLm1heChyWzBdLHJbMV0pKSxlWzFdPU1hdGgubWluKE1hdGgubWF4KE1hdGgubWluKG9bMF0sb1sxXSkscyksTWF0aC5tYXgob1swXSxvWzFdKSksZX0sZS5wcm90b3R5cGUucG9pbnRUb0RhdGE9ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTtpZih0aGlzLl9pbnZUcmFuc2Zvcm0pcmV0dXJuIE50KG4sdCx0aGlzLl9pbnZUcmFuc2Zvcm0pO3ZhciBpPXRoaXMuZ2V0QXhpcygieCIpLHI9dGhpcy5nZXRBeGlzKCJ5Iik7cmV0dXJuIG5bMF09aS5jb29yZFRvRGF0YShpLnRvTG9jYWxDb29yZCh0WzBdKSxlKSxuWzFdPXIuY29vcmRUb0RhdGEoci50b0xvY2FsQ29vcmQodFsxXSksZSksbn0sZS5wcm90b3R5cGUuZ2V0T3RoZXJBeGlzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEF4aXMoIngiPT09dC5kaW0/InkiOiJ4Iil9LGUucHJvdG90eXBlLmdldEFyZWE9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEF4aXMoIngiKS5nZXRHbG9iYWxFeHRlbnQoKSxlPXRoaXMuZ2V0QXhpcygieSIpLmdldEdsb2JhbEV4dGVudCgpLG49TWF0aC5taW4odFswXSx0WzFdKSxpPU1hdGgubWluKGVbMF0sZVsxXSkscj1NYXRoLm1heCh0WzBdLHRbMV0pLW4sbz1NYXRoLm1heChlWzBdLGVbMV0pLWk7cmV0dXJuIG5ldyB2aShuLGkscixvKX0sZX0oeU0pLHhNPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscixvKXt2YXIgYT10LmNhbGwodGhpcyxlLG4saSl8fHRoaXM7cmV0dXJuIGEuaW5kZXg9MCxhLnR5cGU9cnx8InZhbHVlIixhLnBvc2l0aW9uPW98fCJib3R0b20iLGF9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pc0hvcml6b250YWw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBvc2l0aW9uO3JldHVybiJ0b3AiPT09dHx8ImJvdHRvbSI9PT10fSxlLnByb3RvdHlwZS5nZXRHbG9iYWxFeHRlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRFeHRlbnQoKTtyZXR1cm4gZVswXT10aGlzLnRvR2xvYmFsQ29vcmQoZVswXSksZVsxXT10aGlzLnRvR2xvYmFsQ29vcmQoZVsxXSksdCYmZVswXT5lWzFdJiZlLnJldmVyc2UoKSxlfSxlLnByb3RvdHlwZS5wb2ludFRvRGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvb3JkVG9EYXRhKHRoaXMudG9Mb2NhbENvb3JkKHRbIngiPT09dGhpcy5kaW0/MDoxXSksZSl9LGUucHJvdG90eXBlLnNldENhdGVnb3J5U29ydEluZm89ZnVuY3Rpb24odCl7aWYoImNhdGVnb3J5IiE9PXRoaXMudHlwZSlyZXR1cm4hMTt0aGlzLm1vZGVsLm9wdGlvbi5jYXRlZ29yeVNvcnRJbmZvPXQsdGhpcy5zY2FsZS5zZXRTb3J0SW5mbyh0KX0sZX0oV3gpO2Z1bmN0aW9uIGJNKHQsZSxuKXtuPW58fHt9O3ZhciBpPXQuY29vcmRpbmF0ZVN5c3RlbSxyPWUuYXhpcyxvPXt9LGE9ci5nZXRBeGVzT25aZXJvT2YoKVswXSxzPXIucG9zaXRpb24sbD1hPyJvblplcm8iOnMsdT1yLmRpbSxoPWkuZ2V0UmVjdCgpLGM9W2gueCxoLngraC53aWR0aCxoLnksaC55K2guaGVpZ2h0XSxwPXtsZWZ0OjAscmlnaHQ6MSx0b3A6MCxib3R0b206MSxvblplcm86Mn0sZD1lLmdldCgib2Zmc2V0Iil8fDAsZj0ieCI9PT11P1tjWzJdLWQsY1szXStkXTpbY1swXS1kLGNbMV0rZF07aWYoYSl7dmFyIGc9YS50b0dsb2JhbENvb3JkKGEuZGF0YVRvQ29vcmQoMCkpO2ZbcC5vblplcm9dPU1hdGgubWF4KE1hdGgubWluKGcsZlsxXSksZlswXSl9by5wb3NpdGlvbj1bInkiPT09dT9mW3BbbF1dOmNbMF0sIngiPT09dT9mW3BbbF1dOmNbM11dLG8ucm90YXRpb249TWF0aC5QSS8yKigieCI9PT11PzA6MSk7by5sYWJlbERpcmVjdGlvbj1vLnRpY2tEaXJlY3Rpb249by5uYW1lRGlyZWN0aW9uPXt0b3A6LTEsYm90dG9tOjEsbGVmdDotMSxyaWdodDoxfVtzXSxvLmxhYmVsT2Zmc2V0PWE/ZltwW3NdXS1mW3Aub25aZXJvXTowLGUuZ2V0KFsiYXhpc1RpY2siLCJpbnNpZGUiXSkmJihvLnRpY2tEaXJlY3Rpb249LW8udGlja0RpcmVjdGlvbiksdHQobi5sYWJlbEluc2lkZSxlLmdldChbImF4aXNMYWJlbCIsImluc2lkZSJdKSkmJihvLmxhYmVsRGlyZWN0aW9uPS1vLmxhYmVsRGlyZWN0aW9uKTt2YXIgeT1lLmdldChbImF4aXNMYWJlbCIsInJvdGF0ZSJdKTtyZXR1cm4gby5sYWJlbFJvdGF0ZT0idG9wIj09PWw/LXk6eSxvLnoyPTEsb31mdW5jdGlvbiB3TSh0KXtyZXR1cm4iY2FydGVzaWFuMmQiPT09dC5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKX1mdW5jdGlvbiBTTSh0KXt2YXIgZT17eEF4aXNNb2RlbDpudWxsLHlBeGlzTW9kZWw6bnVsbH07cmV0dXJuIE8oZSwoZnVuY3Rpb24obixpKXt2YXIgcj1pLnJlcGxhY2UoL01vZGVsJC8sIiIpLG89dC5nZXRSZWZlcnJpbmdDb21wb25lbnRzKHIsVnIpLm1vZGVsc1swXTtlW2ldPW99KSksZX12YXIgTU09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLnR5cGU9ImdyaWQiLHRoaXMuX2Nvb3Jkc01hcD17fSx0aGlzLl9jb29yZHNMaXN0PVtdLHRoaXMuX2F4ZXNNYXA9e30sdGhpcy5fYXhlc0xpc3Q9W10sdGhpcy5heGlzUG9pbnRlckVuYWJsZWQ9ITAsdGhpcy5kaW1lbnNpb25zPXZNLHRoaXMuX2luaXRDYXJ0ZXNpYW4odCxlLG4pLHRoaXMubW9kZWw9dH1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0UmVjdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWN0fSx0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9heGVzTWFwO3RoaXMuX3VwZGF0ZVNjYWxlKHQsdGhpcy5tb2RlbCksTyhuLngsKGZ1bmN0aW9uKHQpe3l4KHQuc2NhbGUsdC5tb2RlbCl9KSksTyhuLnksKGZ1bmN0aW9uKHQpe3l4KHQuc2NhbGUsdC5tb2RlbCl9KSk7dmFyIGk9e307TyhuLngsKGZ1bmN0aW9uKHQpe1RNKG4sInkiLHQsaSl9KSksTyhuLnksKGZ1bmN0aW9uKHQpe1RNKG4sIngiLHQsaSl9KSksdGhpcy5yZXNpemUodGhpcy5tb2RlbCxlKX0sdC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldEJveExheW91dFBhcmFtcygpLHI9IW4mJnQuZ2V0KCJjb250YWluTGFiZWwiKSxvPXFjKGkse3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0pO3RoaXMuX3JlY3Q9bzt2YXIgYT10aGlzLl9heGVzTGlzdDtmdW5jdGlvbiBzKCl7TyhhLChmdW5jdGlvbih0KXt2YXIgZT10LmlzSG9yaXpvbnRhbCgpLG49ZT9bMCxvLndpZHRoXTpbMCxvLmhlaWdodF0saT10LmludmVyc2U/MTowO3Quc2V0RXh0ZW50KG5baV0sblsxLWldKSxmdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0RXh0ZW50KCksaT1uWzBdK25bMV07dC50b0dsb2JhbENvb3JkPSJ4Ij09PXQuZGltP2Z1bmN0aW9uKHQpe3JldHVybiB0K2V9OmZ1bmN0aW9uKHQpe3JldHVybiBpLXQrZX0sdC50b0xvY2FsQ29vcmQ9IngiPT09dC5kaW0/ZnVuY3Rpb24odCl7cmV0dXJuIHQtZX06ZnVuY3Rpb24odCl7cmV0dXJuIGktdCtlfX0odCxlP28ueDpvLnkpfSkpfXMoKSxyJiYoTyhhLChmdW5jdGlvbih0KXtpZighdC5tb2RlbC5nZXQoWyJheGlzTGFiZWwiLCJpbnNpZGUiXSkpe3ZhciBlPWZ1bmN0aW9uKHQpe3ZhciBlPXQubW9kZWwsbj10LnNjYWxlO2lmKGUuZ2V0KFsiYXhpc0xhYmVsIiwic2hvdyJdKSYmIW4uaXNCbGFuaygpKXt2YXIgaSxyLG89bi5nZXRFeHRlbnQoKTtyPW4gaW5zdGFuY2VvZiBrXz9uLmNvdW50KCk6KGk9bi5nZXRUaWNrcygpKS5sZW5ndGg7dmFyIGEscz10LmdldExhYmVsTW9kZWwoKSxsPW14KHQpLHU9MTtyPjQwJiYodT1NYXRoLmNlaWwoci80MCkpO2Zvcih2YXIgaD0wO2g8cjtoKz11KXt2YXIgYz1sKGk/aVtoXTp7dmFsdWU6b1swXStofSxoKSxwPXh4KHMuZ2V0VGV4dFJlY3QoYykscy5nZXQoInJvdGF0ZSIpfHwwKTthP2EudW5pb24ocCk6YT1wfXJldHVybiBhfX0odCk7aWYoZSl7dmFyIG49dC5pc0hvcml6b250YWwoKT8iaGVpZ2h0Ijoid2lkdGgiLGk9dC5tb2RlbC5nZXQoWyJheGlzTGFiZWwiLCJtYXJnaW4iXSk7b1tuXS09ZVtuXStpLCJ0b3AiPT09dC5wb3NpdGlvbj9vLnkrPWUuaGVpZ2h0K2k6ImxlZnQiPT09dC5wb3NpdGlvbiYmKG8ueCs9ZS53aWR0aCtpKX19fSkpLHMoKSksTyh0aGlzLl9jb29yZHNMaXN0LChmdW5jdGlvbih0KXt0LmNhbGNBZmZpbmVUcmFuc2Zvcm0oKX0pKX0sdC5wcm90b3R5cGUuZ2V0QXhpcz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2F4ZXNNYXBbdF07aWYobnVsbCE9bilyZXR1cm4gbltlfHwwXX0sdC5wcm90b3R5cGUuZ2V0QXhlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9heGVzTGlzdC5zbGljZSgpfSx0LnByb3RvdHlwZS5nZXRDYXJ0ZXNpYW49ZnVuY3Rpb24odCxlKXtpZihudWxsIT10JiZudWxsIT1lKXt2YXIgbj0ieCIrdCsieSIrZTtyZXR1cm4gdGhpcy5fY29vcmRzTWFwW25dfVkodCkmJihlPXQueUF4aXNJbmRleCx0PXQueEF4aXNJbmRleCk7Zm9yKHZhciBpPTAscj10aGlzLl9jb29yZHNMaXN0O2k8ci5sZW5ndGg7aSsrKWlmKHJbaV0uZ2V0QXhpcygieCIpLmluZGV4PT09dHx8cltpXS5nZXRBeGlzKCJ5IikuaW5kZXg9PT1lKXJldHVybiByW2ldfSx0LnByb3RvdHlwZS5nZXRDYXJ0ZXNpYW5zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nvb3Jkc0xpc3Quc2xpY2UoKX0sdC5wcm90b3R5cGUuY29udmVydFRvUGl4ZWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuX2ZpbmRDb252ZXJ0VGFyZ2V0KGUpO3JldHVybiBpLmNhcnRlc2lhbj9pLmNhcnRlc2lhbi5kYXRhVG9Qb2ludChuKTppLmF4aXM/aS5heGlzLnRvR2xvYmFsQ29vcmQoaS5heGlzLmRhdGFUb0Nvb3JkKG4pKTpudWxsfSx0LnByb3RvdHlwZS5jb252ZXJ0RnJvbVBpeGVsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLl9maW5kQ29udmVydFRhcmdldChlKTtyZXR1cm4gaS5jYXJ0ZXNpYW4/aS5jYXJ0ZXNpYW4ucG9pbnRUb0RhdGEobik6aS5heGlzP2kuYXhpcy5jb29yZFRvRGF0YShpLmF4aXMudG9Mb2NhbENvb3JkKG4pKTpudWxsfSx0LnByb3RvdHlwZS5fZmluZENvbnZlcnRUYXJnZXQ9ZnVuY3Rpb24odCl7dmFyIGUsbixpPXQuc2VyaWVzTW9kZWwscj10LnhBeGlzTW9kZWx8fGkmJmkuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cygieEF4aXMiLFZyKS5tb2RlbHNbMF0sbz10LnlBeGlzTW9kZWx8fGkmJmkuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cygieUF4aXMiLFZyKS5tb2RlbHNbMF0sYT10LmdyaWRNb2RlbCxzPXRoaXMuX2Nvb3Jkc0xpc3Q7aWYoaSlBKHMsZT1pLmNvb3JkaW5hdGVTeXN0ZW0pPDAmJihlPW51bGwpO2Vsc2UgaWYociYmbyllPXRoaXMuZ2V0Q2FydGVzaWFuKHIuY29tcG9uZW50SW5kZXgsby5jb21wb25lbnRJbmRleCk7ZWxzZSBpZihyKW49dGhpcy5nZXRBeGlzKCJ4IixyLmNvbXBvbmVudEluZGV4KTtlbHNlIGlmKG8pbj10aGlzLmdldEF4aXMoInkiLG8uY29tcG9uZW50SW5kZXgpO2Vsc2UgaWYoYSl7YS5jb29yZGluYXRlU3lzdGVtPT09dGhpcyYmKGU9dGhpcy5fY29vcmRzTGlzdFswXSl9cmV0dXJue2NhcnRlc2lhbjplLGF4aXM6bn19LHQucHJvdG90eXBlLmNvbnRhaW5Qb2ludD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jb29yZHNMaXN0WzBdO2lmKGUpcmV0dXJuIGUuY29udGFpblBvaW50KHQpfSx0LnByb3RvdHlwZS5faW5pdENhcnRlc2lhbj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcyxyPXRoaXMsbz17bGVmdDohMSxyaWdodDohMSx0b3A6ITEsYm90dG9tOiExfSxhPXt4Ont9LHk6e319LHM9e3g6MCx5OjB9O2lmKGUuZWFjaENvbXBvbmVudCgieEF4aXMiLGwoIngiKSx0aGlzKSxlLmVhY2hDb21wb25lbnQoInlBeGlzIixsKCJ5IiksdGhpcyksIXMueHx8IXMueSlyZXR1cm4gdGhpcy5fYXhlc01hcD17fSx2b2lkKHRoaXMuX2F4ZXNMaXN0PVtdKTtmdW5jdGlvbiBsKGUpe3JldHVybiBmdW5jdGlvbihuLGkpe2lmKElNKG4sdCkpe3ZhciBsPW4uZ2V0KCJwb3NpdGlvbiIpOyJ4Ij09PWU/InRvcCIhPT1sJiYiYm90dG9tIiE9PWwmJihsPW8uYm90dG9tPyJ0b3AiOiJib3R0b20iKToibGVmdCIhPT1sJiYicmlnaHQiIT09bCYmKGw9by5sZWZ0PyJyaWdodCI6ImxlZnQiKSxvW2xdPSEwO3ZhciB1PW5ldyB4TShlLHZ4KG4pLFswLDBdLG4uZ2V0KCJ0eXBlIiksbCksaD0iY2F0ZWdvcnkiPT09dS50eXBlO3Uub25CYW5kPWgmJm4uZ2V0KCJib3VuZGFyeUdhcCIpLHUuaW52ZXJzZT1uLmdldCgiaW52ZXJzZSIpLG4uYXhpcz11LHUubW9kZWw9bix1LmdyaWQ9cix1LmluZGV4PWksci5fYXhlc0xpc3QucHVzaCh1KSxhW2VdW2ldPXUsc1tlXSsrfX19dGhpcy5fYXhlc01hcD1hLE8oYS54LChmdW5jdGlvbihlLG4pe08oYS55LChmdW5jdGlvbihyLG8pe3ZhciBhPSJ4IituKyJ5IitvLHM9bmV3IF9NKGEpO3MubWFzdGVyPWkscy5tb2RlbD10LGkuX2Nvb3Jkc01hcFthXT1zLGkuX2Nvb3Jkc0xpc3QucHVzaChzKSxzLmFkZEF4aXMoZSkscy5hZGRBeGlzKHIpfSkpfSkpfSx0LnByb3RvdHlwZS5fdXBkYXRlU2NhbGU9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKHQsZSl7TyhNeCh0LGUuZGltKSwoZnVuY3Rpb24obil7ZS5zY2FsZS51bmlvbkV4dGVudEZyb21EYXRhKHQsbil9KSl9Tyh0aGlzLl9heGVzTGlzdCwoZnVuY3Rpb24odCl7aWYodC5zY2FsZS5zZXRFeHRlbnQoMS8wLC0xLzApLCJjYXRlZ29yeSI9PT10LnR5cGUpe3ZhciBlPXQubW9kZWwuZ2V0KCJjYXRlZ29yeVNvcnRJbmZvIik7dC5zY2FsZS5zZXRTb3J0SW5mbyhlKX19KSksdC5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXtpZih3TSh0KSl7dmFyIGk9U00odCkscj1pLnhBeGlzTW9kZWwsbz1pLnlBeGlzTW9kZWw7aWYoIUlNKHIsZSl8fCFJTShvLGUpKXJldHVybjt2YXIgYT10aGlzLmdldENhcnRlc2lhbihyLmNvbXBvbmVudEluZGV4LG8uY29tcG9uZW50SW5kZXgpLHM9dC5nZXREYXRhKCksbD1hLmdldEF4aXMoIngiKSx1PWEuZ2V0QXhpcygieSIpOyJsaXN0Ij09PXMudHlwZSYmKG4ocyxsKSxuKHMsdSkpfX0pLHRoaXMpfSx0LnByb3RvdHlwZS5nZXRUb29sdGlwQXhlcz1mdW5jdGlvbih0KXt2YXIgZT1bXSxuPVtdO3JldHVybiBPKHRoaXMuZ2V0Q2FydGVzaWFucygpLChmdW5jdGlvbihpKXt2YXIgcj1udWxsIT10JiYiYXV0byIhPT10P2kuZ2V0QXhpcyh0KTppLmdldEJhc2VBeGlzKCksbz1pLmdldE90aGVyQXhpcyhyKTtBKGUscik8MCYmZS5wdXNoKHIpLEEobixvKTwwJiZuLnB1c2gobyl9KSkse2Jhc2VBeGVzOmUsb3RoZXJBeGVzOm59fSx0LmNyZWF0ZT1mdW5jdGlvbihlLG4pe3ZhciBpPVtdO3JldHVybiBlLmVhY2hDb21wb25lbnQoImdyaWQiLChmdW5jdGlvbihyLG8pe3ZhciBhPW5ldyB0KHIsZSxuKTthLm5hbWU9ImdyaWRfIitvLGEucmVzaXplKHIsbiwhMCksci5jb29yZGluYXRlU3lzdGVtPWEsaS5wdXNoKGEpfSkpLGUuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7aWYod00odCkpe3ZhciBlPVNNKHQpLG49ZS54QXhpc01vZGVsLGk9ZS55QXhpc01vZGVsLHI9bi5nZXRDb29yZFN5c01vZGVsKCk7MDt2YXIgbz1yLmNvb3JkaW5hdGVTeXN0ZW07dC5jb29yZGluYXRlU3lzdGVtPW8uZ2V0Q2FydGVzaWFuKG4uY29tcG9uZW50SW5kZXgsaS5jb21wb25lbnRJbmRleCl9fSkpLGl9LHQuZGltZW5zaW9ucz12TSx0fSgpO2Z1bmN0aW9uIElNKHQsZSl7cmV0dXJuIHQuZ2V0Q29vcmRTeXNNb2RlbCgpPT09ZX1mdW5jdGlvbiBUTSh0LGUsbixpKXtuLmdldEF4ZXNPblplcm9PZj1mdW5jdGlvbigpe3JldHVybiByP1tyXTpbXX07dmFyIHIsbz10W2VdLGE9bi5tb2RlbCxzPWEuZ2V0KFsiYXhpc0xpbmUiLCJvblplcm8iXSksbD1hLmdldChbImF4aXNMaW5lIiwib25aZXJvQXhpc0luZGV4Il0pO2lmKHMpe2lmKG51bGwhPWwpQ00ob1tsXSkmJihyPW9bbF0pO2Vsc2UgZm9yKHZhciB1IGluIG8paWYoby5oYXNPd25Qcm9wZXJ0eSh1KSYmQ00ob1t1XSkmJiFpW2gob1t1XSldKXtyPW9bdV07YnJlYWt9ciYmKGlbaChyKV09ITApfWZ1bmN0aW9uIGgodCl7cmV0dXJuIHQuZGltKyJfIit0LmluZGV4fX1mdW5jdGlvbiBDTSh0KXtyZXR1cm4gdCYmImNhdGVnb3J5IiE9PXQudHlwZSYmInRpbWUiIT09dC50eXBlJiZmdW5jdGlvbih0KXt2YXIgZT10LnNjYWxlLmdldEV4dGVudCgpLG49ZVswXSxpPWVbMV07cmV0dXJuIShuPjAmJmk+MHx8bjwwJiZpPDApfSh0KX12YXIgRE09TWF0aC5QSSxBTT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLmdyb3VwPW5ldyBCaSx0aGlzLm9wdD1lLHRoaXMuYXhpc01vZGVsPXQsQyhlLHtsYWJlbE9mZnNldDowLG5hbWVEaXJlY3Rpb246MSx0aWNrRGlyZWN0aW9uOjEsbGFiZWxEaXJlY3Rpb246MSxzaWxlbnQ6ITAsaGFuZGxlQXV0b1Nob3duOmZ1bmN0aW9uKCl7cmV0dXJuITB9fSk7dmFyIG49bmV3IEJpKHt4OmUucG9zaXRpb25bMF0seTplLnBvc2l0aW9uWzFdLHJvdGF0aW9uOmUucm90YXRpb259KTtuLnVwZGF0ZVRyYW5zZm9ybSgpLHRoaXMuX3RyYW5zZm9ybUdyb3VwPW59cmV0dXJuIHQucHJvdG90eXBlLmhhc0J1aWxkZXI9ZnVuY3Rpb24odCl7cmV0dXJuISFrTVt0XX0sdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe2tNW3RdKHRoaXMub3B0LHRoaXMuYXhpc01vZGVsLHRoaXMuZ3JvdXAsdGhpcy5fdHJhbnNmb3JtR3JvdXApfSx0LnByb3RvdHlwZS5nZXRHcm91cD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdyb3VwfSx0LmlubmVyVGV4dExheW91dD1mdW5jdGlvbih0LGUsbil7dmFyIGkscixvPXJyKGUtdCk7cmV0dXJuIG9yKG8pPyhyPW4+MD8idG9wIjoiYm90dG9tIixpPSJjZW50ZXIiKTpvcihvLURNKT8ocj1uPjA/ImJvdHRvbSI6InRvcCIsaT0iY2VudGVyIik6KHI9Im1pZGRsZSIsaT1vPjAmJm88RE0/bj4wPyJyaWdodCI6ImxlZnQiOm4+MD8ibGVmdCI6InJpZ2h0Iikse3JvdGF0aW9uOm8sdGV4dEFsaWduOmksdGV4dFZlcnRpY2FsQWxpZ246cn19LHQubWFrZUF4aXNFdmVudERhdGFCYXNlPWZ1bmN0aW9uKHQpe3ZhciBlPXtjb21wb25lbnRUeXBlOnQubWFpblR5cGUsY29tcG9uZW50SW5kZXg6dC5jb21wb25lbnRJbmRleH07cmV0dXJuIGVbdC5tYWluVHlwZSsiSW5kZXgiXT10LmNvbXBvbmVudEluZGV4LGV9LHQuaXNMYWJlbFNpbGVudD1mdW5jdGlvbih0KXt2YXIgZT10LmdldCgidG9vbHRpcCIpO3JldHVybiB0LmdldCgic2lsZW50Iil8fCEodC5nZXQoInRyaWdnZXJFdmVudCIpfHxlJiZlLnNob3cpfSx0fSgpLGtNPXtheGlzTGluZTpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1lLmdldChbImF4aXNMaW5lIiwic2hvdyJdKTtpZigiYXV0byI9PT1yJiZ0LmhhbmRsZUF1dG9TaG93biYmKHI9dC5oYW5kbGVBdXRvU2hvd24oImF4aXNMaW5lIikpLHIpe3ZhciBvPWUuYXhpcy5nZXRFeHRlbnQoKSxhPWkudHJhbnNmb3JtLHM9W29bMF0sMF0sbD1bb1sxXSwwXTthJiYoTnQocyxzLGEpLE50KGwsbCxhKSk7dmFyIHU9VCh7bGluZUNhcDoicm91bmQifSxlLmdldE1vZGVsKFsiYXhpc0xpbmUiLCJsaW5lU3R5bGUiXSkuZ2V0TGluZVN0eWxlKCkpLGg9bmV3IHl1KHtzdWJQaXhlbE9wdGltaXplOiEwLHNoYXBlOnt4MTpzWzBdLHkxOnNbMV0seDI6bFswXSx5MjpsWzFdfSxzdHlsZTp1LHN0cm9rZUNvbnRhaW5UaHJlc2hvbGQ6dC5zdHJva2VDb250YWluVGhyZXNob2xkfHw1LHNpbGVudDohMCx6MjoxfSk7aC5hbmlkPSJsaW5lIixuLmFkZChoKTt2YXIgYz1lLmdldChbImF4aXNMaW5lIiwic3ltYm9sIl0pO2lmKG51bGwhPWMpe3ZhciBwPWUuZ2V0KFsiYXhpc0xpbmUiLCJzeW1ib2xTaXplIl0pOyJzdHJpbmciPT10eXBlb2YgYyYmKGM9W2MsY10pLCJzdHJpbmciIT10eXBlb2YgcCYmIm51bWJlciIhPXR5cGVvZiBwfHwocD1bcCxwXSk7dmFyIGQ9aXkoZS5nZXQoWyJheGlzTGluZSIsInN5bWJvbE9mZnNldCJdKXx8MCxwKSxmPXBbMF0sZz1wWzFdO08oW3tyb3RhdGU6dC5yb3RhdGlvbitNYXRoLlBJLzIsb2Zmc2V0OmRbMF0scjowfSx7cm90YXRlOnQucm90YXRpb24tTWF0aC5QSS8yLG9mZnNldDpkWzFdLHI6TWF0aC5zcXJ0KChzWzBdLWxbMF0pKihzWzBdLWxbMF0pKyhzWzFdLWxbMV0pKihzWzFdLWxbMV0pKX1dLChmdW5jdGlvbihlLGkpe2lmKCJub25lIiE9PWNbaV0mJm51bGwhPWNbaV0pe3ZhciByPWV5KGNbaV0sLWYvMiwtZy8yLGYsZyx1LnN0cm9rZSwhMCksbz1lLnIrZS5vZmZzZXQ7ci5hdHRyKHtyb3RhdGlvbjplLnJvdGF0ZSx4OnNbMF0rbypNYXRoLmNvcyh0LnJvdGF0aW9uKSx5OnNbMV0tbypNYXRoLnNpbih0LnJvdGF0aW9uKSxzaWxlbnQ6ITAsejI6MTF9KSxuLmFkZChyKX19KSl9fX0sYXhpc1RpY2tMYWJlbDpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1uLmF4aXMsbz1uLmdldE1vZGVsKCJheGlzVGljayIpLGE9by5nZXQoInNob3ciKTsiYXV0byI9PT1hJiZpLmhhbmRsZUF1dG9TaG93biYmKGE9aS5oYW5kbGVBdXRvU2hvd24oImF4aXNUaWNrIikpO2lmKCFhfHxyLnNjYWxlLmlzQmxhbmsoKSlyZXR1cm47Zm9yKHZhciBzPW8uZ2V0TW9kZWwoImxpbmVTdHlsZSIpLGw9aS50aWNrRGlyZWN0aW9uKm8uZ2V0KCJsZW5ndGgiKSx1PVJNKHIuZ2V0VGlja3NDb29yZHMoKSxlLnRyYW5zZm9ybSxsLEMocy5nZXRMaW5lU3R5bGUoKSx7c3Ryb2tlOm4uZ2V0KFsiYXhpc0xpbmUiLCJsaW5lU3R5bGUiLCJjb2xvciJdKX0pLCJ0aWNrcyIpLGg9MDtoPHUubGVuZ3RoO2grKyl0LmFkZCh1W2hdKTtyZXR1cm4gdX0obixpLGUsdCksbz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1uLmF4aXM7aWYoIXR0KGkuYXhpc0xhYmVsU2hvdyxuLmdldChbImF4aXNMYWJlbCIsInNob3ciXSkpfHxyLnNjYWxlLmlzQmxhbmsoKSlyZXR1cm47dmFyIG89bi5nZXRNb2RlbCgiYXhpc0xhYmVsIiksYT1vLmdldCgibWFyZ2luIikscz1yLmdldFZpZXdMYWJlbHMoKSxsPSh0dChpLmxhYmVsUm90YXRlLG8uZ2V0KCJyb3RhdGUiKSl8fDApKkRNLzE4MCx1PUFNLmlubmVyVGV4dExheW91dChpLnJvdGF0aW9uLGwsaS5sYWJlbERpcmVjdGlvbiksaD1uLmdldENhdGVnb3JpZXMmJm4uZ2V0Q2F0ZWdvcmllcyghMCksYz1bXSxwPUFNLmlzTGFiZWxTaWxlbnQobiksZD1uLmdldCgidHJpZ2dlckV2ZW50Iik7cmV0dXJuIE8ocywoZnVuY3Rpb24ocyxsKXt2YXIgZj0ib3JkaW5hbCI9PT1yLnNjYWxlLnR5cGU/ci5zY2FsZS5nZXRSYXdPcmRpbmFsTnVtYmVyKHMudGlja1ZhbHVlKTpzLnRpY2tWYWx1ZSxnPXMuZm9ybWF0dGVkTGFiZWwseT1zLnJhd0xhYmVsLHY9bztpZihoJiZoW2ZdKXt2YXIgbT1oW2ZdO1kobSkmJm0udGV4dFN0eWxlJiYodj1uZXcgV2gobS50ZXh0U3R5bGUsbyxuLmVjTW9kZWwpKX12YXIgXz12LmdldFRleHRDb2xvcigpfHxuLmdldChbImF4aXNMaW5lIiwibGluZVN0eWxlIiwiY29sb3IiXSkseD1yLmRhdGFUb0Nvb3JkKGYpLGI9bmV3IGZzKHt4OngseTppLmxhYmVsT2Zmc2V0K2kubGFiZWxEaXJlY3Rpb24qYSxyb3RhdGlvbjp1LnJvdGF0aW9uLHNpbGVudDpwLHoyOjEwKyhzLmxldmVsfHwwKSxzdHlsZTp3aCh2LHt0ZXh0OmcsYWxpZ246di5nZXRTaGFsbG93KCJhbGlnbiIsITApfHx1LnRleHRBbGlnbix2ZXJ0aWNhbEFsaWduOnYuZ2V0U2hhbGxvdygidmVydGljYWxBbGlnbiIsITApfHx2LmdldFNoYWxsb3coImJhc2VsaW5lIiwhMCl8fHUudGV4dFZlcnRpY2FsQWxpZ24sZmlsbDoiZnVuY3Rpb24iPT10eXBlb2YgXz9fKCJjYXRlZ29yeSI9PT1yLnR5cGU/eToidmFsdWUiPT09ci50eXBlP2YrIiI6ZixsKTpffSl9KTtpZihiLmFuaWQ9ImxhYmVsXyIrZixkKXt2YXIgdz1BTS5tYWtlQXhpc0V2ZW50RGF0YUJhc2Uobik7dy50YXJnZXRUeXBlPSJheGlzTGFiZWwiLHcudmFsdWU9eSxTcyhiKS5ldmVudERhdGE9d31lLmFkZChiKSxiLnVwZGF0ZVRyYW5zZm9ybSgpLGMucHVzaChiKSx0LmFkZChiKSxiLmRlY29tcG9zZVRyYW5zZm9ybSgpfSkpLGN9KG4saSxlLHQpOyhmdW5jdGlvbih0LGUsbil7aWYoU3godC5heGlzKSlyZXR1cm47dmFyIGk9dC5nZXQoWyJheGlzTGFiZWwiLCJzaG93TWluTGFiZWwiXSkscj10LmdldChbImF4aXNMYWJlbCIsInNob3dNYXhMYWJlbCJdKTtuPW58fFtdO3ZhciBvPShlPWV8fFtdKVswXSxhPWVbMV0scz1lW2UubGVuZ3RoLTFdLGw9ZVtlLmxlbmd0aC0yXSx1PW5bMF0saD1uWzFdLGM9bltuLmxlbmd0aC0xXSxwPW5bbi5sZW5ndGgtMl07ITE9PT1pPyhMTShvKSxMTSh1KSk6UE0obyxhKSYmKGk/KExNKGEpLExNKGgpKTooTE0obyksTE0odSkpKTshMT09PXI/KExNKHMpLExNKGMpKTpQTShsLHMpJiYocj8oTE0obCksTE0ocCkpOihMTShzKSxMTShjKSkpfShlLG8sciksZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bi5heGlzLG89bi5nZXRNb2RlbCgibWlub3JUaWNrIik7aWYoIW8uZ2V0KCJzaG93Iil8fHIuc2NhbGUuaXNCbGFuaygpKXJldHVybjt2YXIgYT1yLmdldE1pbm9yVGlja3NDb29yZHMoKTtpZighYS5sZW5ndGgpcmV0dXJuO2Zvcih2YXIgcz1vLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxsPWkqby5nZXQoImxlbmd0aCIpLHU9QyhzLmdldExpbmVTdHlsZSgpLEMobi5nZXRNb2RlbCgiYXhpc1RpY2siKS5nZXRMaW5lU3R5bGUoKSx7c3Ryb2tlOm4uZ2V0KFsiYXhpc0xpbmUiLCJsaW5lU3R5bGUiLCJjb2xvciJdKX0pKSxoPTA7aDxhLmxlbmd0aDtoKyspZm9yKHZhciBjPVJNKGFbaF0sZS50cmFuc2Zvcm0sbCx1LCJtaW5vcnRpY2tzXyIraCkscD0wO3A8Yy5sZW5ndGg7cCsrKXQuYWRkKGNbcF0pfShuLGksZSx0LnRpY2tEaXJlY3Rpb24pLGUuZ2V0KFsiYXhpc0xhYmVsIiwiaGlkZU92ZXJsYXAiXSkpJiZtYihnYihSKG8sKGZ1bmN0aW9uKHQpe3JldHVybntsYWJlbDp0LHByaW9yaXR5OnQuejIsZGVmYXVsdEF0dHI6e2lnbm9yZTp0Lmlnbm9yZX19fSkpKSl9LGF4aXNOYW1lOmZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXR0KHQuYXhpc05hbWUsZS5nZXQoIm5hbWUiKSk7aWYocil7dmFyIG8sYSxzPWUuZ2V0KCJuYW1lTG9jYXRpb24iKSxsPXQubmFtZURpcmVjdGlvbix1PWUuZ2V0TW9kZWwoIm5hbWVUZXh0U3R5bGUiKSxoPWUuZ2V0KCJuYW1lR2FwIil8fDAsYz1lLmF4aXMuZ2V0RXh0ZW50KCkscD1jWzBdPmNbMV0/LTE6MSxkPVsic3RhcnQiPT09cz9jWzBdLXAqaDoiZW5kIj09PXM/Y1sxXStwKmg6KGNbMF0rY1sxXSkvMixPTShzKT90LmxhYmVsT2Zmc2V0K2wqaDowXSxmPWUuZ2V0KCJuYW1lUm90YXRlIik7bnVsbCE9ZiYmKGY9ZipETS8xODApLE9NKHMpP289QU0uaW5uZXJUZXh0TGF5b3V0KHQucm90YXRpb24sbnVsbCE9Zj9mOnQucm90YXRpb24sbCk6KG89ZnVuY3Rpb24odCxlLG4saSl7dmFyIHIsbyxhPXJyKG4tdCkscz1pWzBdPmlbMV0sbD0ic3RhcnQiPT09ZSYmIXN8fCJzdGFydCIhPT1lJiZzO29yKGEtRE0vMik/KG89bD8iYm90dG9tIjoidG9wIixyPSJjZW50ZXIiKTpvcihhLTEuNSpETSk/KG89bD8idG9wIjoiYm90dG9tIixyPSJjZW50ZXIiKToobz0ibWlkZGxlIixyPWE8MS41KkRNJiZhPkRNLzI/bD8ibGVmdCI6InJpZ2h0IjpsPyJyaWdodCI6ImxlZnQiKTtyZXR1cm57cm90YXRpb246YSx0ZXh0QWxpZ246cix0ZXh0VmVydGljYWxBbGlnbjpvfX0odC5yb3RhdGlvbixzLGZ8fDAsYyksbnVsbCE9KGE9dC5heGlzTmFtZUF2YWlsYWJsZVdpZHRoKSYmKGE9TWF0aC5hYnMoYS9NYXRoLnNpbihvLnJvdGF0aW9uKSksIWlzRmluaXRlKGEpJiYoYT1udWxsKSkpO3ZhciBnPXUuZ2V0Rm9udCgpLHk9ZS5nZXQoIm5hbWVUcnVuY2F0ZSIsITApfHx7fSx2PXkuZWxsaXBzaXMsbT10dCh0Lm5hbWVUcnVuY2F0ZU1heFdpZHRoLHkubWF4V2lkdGgsYSksXz1uZXcgZnMoe3g6ZFswXSx5OmRbMV0scm90YXRpb246by5yb3RhdGlvbixzaWxlbnQ6QU0uaXNMYWJlbFNpbGVudChlKSxzdHlsZTp3aCh1LHt0ZXh0OnIsZm9udDpnLG92ZXJmbG93OiJ0cnVuY2F0ZSIsd2lkdGg6bSxlbGxpcHNpczp2LGZpbGw6dS5nZXRUZXh0Q29sb3IoKXx8ZS5nZXQoWyJheGlzTGluZSIsImxpbmVTdHlsZSIsImNvbG9yIl0pLGFsaWduOnUuZ2V0KCJhbGlnbiIpfHxvLnRleHRBbGlnbix2ZXJ0aWNhbEFsaWduOnUuZ2V0KCJ2ZXJ0aWNhbEFsaWduIil8fG8udGV4dFZlcnRpY2FsQWxpZ259KSx6MjoxfSk7aWYoZ2goe2VsOl8sY29tcG9uZW50TW9kZWw6ZSxpdGVtTmFtZTpyfSksXy5fX2Z1bGxUZXh0PXIsXy5hbmlkPSJuYW1lIixlLmdldCgidHJpZ2dlckV2ZW50Iikpe3ZhciB4PUFNLm1ha2VBeGlzRXZlbnREYXRhQmFzZShlKTt4LnRhcmdldFR5cGU9ImF4aXNOYW1lIix4Lm5hbWU9cixTcyhfKS5ldmVudERhdGE9eH1pLmFkZChfKSxfLnVwZGF0ZVRyYW5zZm9ybSgpLG4uYWRkKF8pLF8uZGVjb21wb3NlVHJhbnNmb3JtKCl9fX07ZnVuY3Rpb24gTE0odCl7dCYmKHQuaWdub3JlPSEwKX1mdW5jdGlvbiBQTSh0LGUpe3ZhciBuPXQmJnQuZ2V0Qm91bmRpbmdSZWN0KCkuY2xvbmUoKSxpPWUmJmUuZ2V0Qm91bmRpbmdSZWN0KCkuY2xvbmUoKTtpZihuJiZpKXt2YXIgcj1IbihbXSk7cmV0dXJuIFluKHIsciwtdC5yb3RhdGlvbiksbi5hcHBseVRyYW5zZm9ybShVbihbXSxyLHQuZ2V0TG9jYWxUcmFuc2Zvcm0oKSkpLGkuYXBwbHlUcmFuc2Zvcm0oVW4oW10scixlLmdldExvY2FsVHJhbnNmb3JtKCkpKSxuLmludGVyc2VjdChpKX19ZnVuY3Rpb24gT00odCl7cmV0dXJuIm1pZGRsZSI9PT10fHwiY2VudGVyIj09PXR9ZnVuY3Rpb24gUk0odCxlLG4saSxyKXtmb3IodmFyIG89W10sYT1bXSxzPVtdLGw9MDtsPHQubGVuZ3RoO2wrKyl7dmFyIHU9dFtsXS5jb29yZDthWzBdPXUsYVsxXT0wLHNbMF09dSxzWzFdPW4sZSYmKE50KGEsYSxlKSxOdChzLHMsZSkpO3ZhciBoPW5ldyB5dSh7c3ViUGl4ZWxPcHRpbWl6ZTohMCxzaGFwZTp7eDE6YVswXSx5MTphWzFdLHgyOnNbMF0seTI6c1sxXX0sc3R5bGU6aSx6MjoyLGF1dG9CYXRjaDohMCxzaWxlbnQ6ITB9KTtoLmFuaWQ9cisiXyIrdFtsXS50aWNrVmFsdWUsby5wdXNoKGgpfXJldHVybiBvfWZ1bmN0aW9uIE5NKHQsZSl7dmFyIG49e2F4ZXNJbmZvOnt9LHNlcmllc0ludm9sdmVkOiExLGNvb3JkU3lzQXhlc0luZm86e30sY29vcmRTeXNNYXA6e319O3JldHVybiBmdW5jdGlvbih0LGUsbil7dmFyIGk9ZS5nZXRDb21wb25lbnQoInRvb2x0aXAiKSxyPWUuZ2V0Q29tcG9uZW50KCJheGlzUG9pbnRlciIpLG89ci5nZXQoImxpbmsiLCEwKXx8W10sYT1bXTtPKG4uZ2V0Q29vcmRpbmF0ZVN5c3RlbXMoKSwoZnVuY3Rpb24obil7aWYobi5heGlzUG9pbnRlckVuYWJsZWQpe3ZhciBzPUdNKG4ubW9kZWwpLGw9dC5jb29yZFN5c0F4ZXNJbmZvW3NdPXt9O3QuY29vcmRTeXNNYXBbc109bjt2YXIgdT1uLm1vZGVsLmdldE1vZGVsKCJ0b29sdGlwIixpKTtpZihPKG4uZ2V0QXhlcygpLEcoZCwhMSxudWxsKSksbi5nZXRUb29sdGlwQXhlcyYmaSYmdS5nZXQoInNob3ciKSl7dmFyIGg9ImF4aXMiPT09dS5nZXQoInRyaWdnZXIiKSxjPSJjcm9zcyI9PT11LmdldChbImF4aXNQb2ludGVyIiwidHlwZSJdKSxwPW4uZ2V0VG9vbHRpcEF4ZXModS5nZXQoWyJheGlzUG9pbnRlciIsImF4aXMiXSkpOyhofHxjKSYmTyhwLmJhc2VBeGVzLEcoZCwhY3x8ImNyb3NzIixoKSksYyYmTyhwLm90aGVyQXhlcyxHKGQsImNyb3NzIiwhMSkpfX1mdW5jdGlvbiBkKGkscyxoKXt2YXIgYz1oLm1vZGVsLmdldE1vZGVsKCJheGlzUG9pbnRlciIscikscD1jLmdldCgic2hvdyIpO2lmKHAmJigiYXV0byIhPT1wfHxpfHxCTShjKSkpe251bGw9PXMmJihzPWMuZ2V0KCJ0cmlnZ2VyVG9vbHRpcCIpKTt2YXIgZD0oYz1pP2Z1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYT1lLmdldE1vZGVsKCJheGlzUG9pbnRlciIpLHM9e307TyhbInR5cGUiLCJzbmFwIiwibGluZVN0eWxlIiwic2hhZG93U3R5bGUiLCJsYWJlbCIsImFuaW1hdGlvbiIsImFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlIiwiYW5pbWF0aW9uRWFzaW5nVXBkYXRlIiwieiJdLChmdW5jdGlvbih0KXtzW3RdPVMoYS5nZXQodCkpfSkpLHMuc25hcD0iY2F0ZWdvcnkiIT09dC50eXBlJiYhIW8sImNyb3NzIj09PWEuZ2V0KCJ0eXBlIikmJihzLnR5cGU9ImxpbmUiKTt2YXIgbD1zLmxhYmVsfHwocy5sYWJlbD17fSk7aWYobnVsbD09bC5zaG93JiYobC5zaG93PSExKSwiY3Jvc3MiPT09cil7dmFyIHU9YS5nZXQoWyJsYWJlbCIsInNob3ciXSk7aWYobC5zaG93PW51bGw9PXV8fHUsIW8pe3ZhciBoPXMubGluZVN0eWxlPWEuZ2V0KCJjcm9zc1N0eWxlIik7aCYmQyhsLGgudGV4dFN0eWxlKX19cmV0dXJuIHQubW9kZWwuZ2V0TW9kZWwoImF4aXNQb2ludGVyIixuZXcgV2gocyxuLGkpKX0oaCx1LHIsZSxpLHMpOmMpLmdldCgic25hcCIpLGY9R00oaC5tb2RlbCksZz1zfHxkfHwiY2F0ZWdvcnkiPT09aC50eXBlLHk9dC5heGVzSW5mb1tmXT17a2V5OmYsYXhpczpoLGNvb3JkU3lzOm4sYXhpc1BvaW50ZXJNb2RlbDpjLHRyaWdnZXJUb29sdGlwOnMsaW52b2x2ZVNlcmllczpnLHNuYXA6ZCx1c2VIYW5kbGU6Qk0oYyksc2VyaWVzTW9kZWxzOltdLGxpbmtHcm91cDpudWxsfTtsW2ZdPXksdC5zZXJpZXNJbnZvbHZlZD10LnNlcmllc0ludm9sdmVkfHxnO3ZhciB2PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWUubW9kZWwsaT1lLmRpbSxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl18fHt9O2lmKHpNKG9baSsiQXhpc0lkIl0sbi5pZCl8fHpNKG9baSsiQXhpc0luZGV4Il0sbi5jb21wb25lbnRJbmRleCl8fHpNKG9baSsiQXhpc05hbWUiXSxuLm5hbWUpKXJldHVybiByfX0obyxoKTtpZihudWxsIT12KXt2YXIgbT1hW3ZdfHwoYVt2XT17YXhlc0luZm86e319KTttLmF4ZXNJbmZvW2ZdPXksbS5tYXBwZXI9b1t2XS5tYXBwZXIseS5saW5rR3JvdXA9bX19fX0pKX0obix0LGUpLG4uc2VyaWVzSW52b2x2ZWQmJmZ1bmN0aW9uKHQsZSl7ZS5lYWNoU2VyaWVzKChmdW5jdGlvbihlKXt2YXIgbj1lLmNvb3JkaW5hdGVTeXN0ZW0saT1lLmdldChbInRvb2x0aXAiLCJ0cmlnZ2VyIl0sITApLHI9ZS5nZXQoWyJ0b29sdGlwIiwic2hvdyJdLCEwKTtuJiYibm9uZSIhPT1pJiYhMSE9PWkmJiJpdGVtIiE9PWkmJiExIT09ciYmITEhPT1lLmdldChbImF4aXNQb2ludGVyIiwic2hvdyJdLCEwKSYmTyh0LmNvb3JkU3lzQXhlc0luZm9bR00obi5tb2RlbCldLChmdW5jdGlvbih0KXt2YXIgaT10LmF4aXM7bi5nZXRBeGlzKGkuZGltKT09PWkmJih0LnNlcmllc01vZGVscy5wdXNoKGUpLG51bGw9PXQuc2VyaWVzRGF0YUNvdW50JiYodC5zZXJpZXNEYXRhQ291bnQ9MCksdC5zZXJpZXNEYXRhQ291bnQrPWUuZ2V0RGF0YSgpLmNvdW50KCkpfSkpfSkpfShuLHQpLG59ZnVuY3Rpb24gek0odCxlKXtyZXR1cm4iYWxsIj09PXR8fEYodCkmJkEodCxlKT49MHx8dD09PWV9ZnVuY3Rpb24gRU0odCl7dmFyIGU9Vk0odCk7aWYoZSl7dmFyIG49ZS5heGlzUG9pbnRlck1vZGVsLGk9ZS5heGlzLnNjYWxlLHI9bi5vcHRpb24sbz1uLmdldCgic3RhdHVzIiksYT1uLmdldCgidmFsdWUiKTtudWxsIT1hJiYoYT1pLnBhcnNlKGEpKTt2YXIgcz1CTShuKTtudWxsPT1vJiYoci5zdGF0dXM9cz8ic2hvdyI6ImhpZGUiKTt2YXIgbD1pLmdldEV4dGVudCgpLnNsaWNlKCk7bFswXT5sWzFdJiZsLnJldmVyc2UoKSwobnVsbD09YXx8YT5sWzFdKSYmKGE9bFsxXSksYTxsWzBdJiYoYT1sWzBdKSxyLnZhbHVlPWEscyYmKHIuc3RhdHVzPWUuYXhpcy5zY2FsZS5pc0JsYW5rKCk/ImhpZGUiOiJzaG93Iil9fWZ1bmN0aW9uIFZNKHQpe3ZhciBlPSh0LmVjTW9kZWwuZ2V0Q29tcG9uZW50KCJheGlzUG9pbnRlciIpfHx7fSkuY29vcmRTeXNBeGVzSW5mbztyZXR1cm4gZSYmZS5heGVzSW5mb1tHTSh0KV19ZnVuY3Rpb24gQk0odCl7cmV0dXJuISF0LmdldChbImhhbmRsZSIsInNob3ciXSl9ZnVuY3Rpb24gR00odCl7cmV0dXJuIHQudHlwZSsifHwiK3QuaWR9dmFyIEZNPXt9LEhNPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlLG4saSxyKXt0aGlzLmF4aXNQb2ludGVyQ2xhc3MmJkVNKGUpLHQucHJvdG90eXBlLnJlbmRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fZG9VcGRhdGVBeGlzUG9pbnRlckNsYXNzKGUsaSwhMCl9LGUucHJvdG90eXBlLnVwZGF0ZUF4aXNQb2ludGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMuX2RvVXBkYXRlQXhpc1BvaW50ZXJDbGFzcyh0LG4sITEpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9heGlzUG9pbnRlcjtuJiZuLnJlbW92ZShlKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbihlLG4pe3RoaXMuX2Rpc3Bvc2VBeGlzUG9pbnRlcihuKSx0LnByb3RvdHlwZS5kaXNwb3NlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5wcm90b3R5cGUuX2RvVXBkYXRlQXhpc1BvaW50ZXJDbGFzcz1mdW5jdGlvbih0LG4saSl7dmFyIHI9ZS5nZXRBeGlzUG9pbnRlckNsYXNzKHRoaXMuYXhpc1BvaW50ZXJDbGFzcyk7aWYocil7dmFyIG89ZnVuY3Rpb24odCl7dmFyIGU9Vk0odCk7cmV0dXJuIGUmJmUuYXhpc1BvaW50ZXJNb2RlbH0odCk7bz8odGhpcy5fYXhpc1BvaW50ZXJ8fCh0aGlzLl9heGlzUG9pbnRlcj1uZXcgcikpLnJlbmRlcih0LG8sbixpKTp0aGlzLl9kaXNwb3NlQXhpc1BvaW50ZXIobil9fSxlLnByb3RvdHlwZS5fZGlzcG9zZUF4aXNQb2ludGVyPWZ1bmN0aW9uKHQpe3RoaXMuX2F4aXNQb2ludGVyJiZ0aGlzLl9heGlzUG9pbnRlci5kaXNwb3NlKHQpLHRoaXMuX2F4aXNQb2ludGVyPW51bGx9LGUucmVnaXN0ZXJBeGlzUG9pbnRlckNsYXNzPWZ1bmN0aW9uKHQsZSl7Rk1bdF09ZX0sZS5nZXRBeGlzUG9pbnRlckNsYXNzPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZGTVt0XX0sZS50eXBlPSJheGlzIixlfShXZiksV009UnIoKTtmdW5jdGlvbiBVTSh0LGUsbixpKXt2YXIgcj1uLmF4aXM7aWYoIXIuc2NhbGUuaXNCbGFuaygpKXt2YXIgbz1uLmdldE1vZGVsKCJzcGxpdEFyZWEiKSxhPW8uZ2V0TW9kZWwoImFyZWFTdHlsZSIpLHM9YS5nZXQoImNvbG9yIiksbD1pLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0UmVjdCgpLHU9ci5nZXRUaWNrc0Nvb3Jkcyh7dGlja01vZGVsOm8sY2xhbXA6ITB9KTtpZih1Lmxlbmd0aCl7dmFyIGg9cy5sZW5ndGgsYz1XTSh0KS5zcGxpdEFyZWFDb2xvcnMscD1jdCgpLGQ9MDtpZihjKWZvcih2YXIgZj0wO2Y8dS5sZW5ndGg7ZisrKXt2YXIgZz1jLmdldCh1W2ZdLnRpY2tWYWx1ZSk7aWYobnVsbCE9Zyl7ZD0oZysoaC0xKSpmKSVoO2JyZWFrfX12YXIgeT1yLnRvR2xvYmFsQ29vcmQodVswXS5jb29yZCksdj1hLmdldEFyZWFTdHlsZSgpO3M9RihzKT9zOltzXTtmb3IoZj0xO2Y8dS5sZW5ndGg7ZisrKXt2YXIgbT1yLnRvR2xvYmFsQ29vcmQodVtmXS5jb29yZCksXz12b2lkIDAseD12b2lkIDAsYj12b2lkIDAsdz12b2lkIDA7ci5pc0hvcml6b250YWwoKT8oXz15LHg9bC55LGI9bS1fLHc9bC5oZWlnaHQseT1fK2IpOihfPWwueCx4PXksYj1sLndpZHRoLHk9eCsodz1tLXgpKTt2YXIgUz11W2YtMV0udGlja1ZhbHVlO251bGwhPVMmJnAuc2V0KFMsZCksZS5hZGQobmV3IGNzKHthbmlkOm51bGwhPVM/ImFyZWFfIitTOm51bGwsc2hhcGU6e3g6Xyx5Ongsd2lkdGg6YixoZWlnaHQ6d30sc3R5bGU6Qyh7ZmlsbDpzW2RdfSx2KSxhdXRvQmF0Y2g6ITAsc2lsZW50OiEwfSkpLGQ9KGQrMSklaH1XTSh0KS5zcGxpdEFyZWFDb2xvcnM9cH19fWZ1bmN0aW9uIFhNKHQpe1dNKHQpLnNwbGl0QXJlYUNvbG9ycz1udWxsfXZhciBZTT1bImF4aXNMaW5lIiwiYXhpc1RpY2tMYWJlbCIsImF4aXNOYW1lIl0sWk09WyJzcGxpdEFyZWEiLCJzcGxpdExpbmUiLCJtaW5vclNwbGl0TGluZSJdLGpNPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5heGlzUG9pbnRlckNsYXNzPSJDYXJ0ZXNpYW5BeGlzUG9pbnRlciIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlLG4saSxyKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpO3ZhciBvPXRoaXMuX2F4aXNHcm91cDtpZih0aGlzLl9heGlzR3JvdXA9bmV3IEJpLHRoaXMuZ3JvdXAuYWRkKHRoaXMuX2F4aXNHcm91cCksZS5nZXQoInNob3ciKSl7dmFyIGE9ZS5nZXRDb29yZFN5c01vZGVsKCkscz1iTShhLGUpLGw9bmV3IEFNKGUsVCh7aGFuZGxlQXV0b1Nob3duOmZ1bmN0aW9uKHQpe2Zvcih2YXIgbj1hLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0Q2FydGVzaWFucygpLGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXS5nZXRPdGhlckF4aXMoZS5heGlzKS50eXBlO2lmKCJ2YWx1ZSI9PT1yfHwibG9nIj09PXIpcmV0dXJuITB9cmV0dXJuITF9fSxzKSk7TyhZTSxsLmFkZCxsKSx0aGlzLl9heGlzR3JvdXAuYWRkKGwuZ2V0R3JvdXAoKSksTyhaTSwoZnVuY3Rpb24odCl7ZS5nZXQoW3QsInNob3ciXSkmJnFNW3RdKHRoaXMsdGhpcy5fYXhpc0dyb3VwLGUsYSl9KSx0aGlzKSxyJiYiY2hhbmdlQXhpc09yZGVyIj09PXIudHlwZSYmci5pc0luaXRTb3J0fHxsaChvLHRoaXMuX2F4aXNHcm91cCxlKSx0LnByb3RvdHlwZS5yZW5kZXIuY2FsbCh0aGlzLGUsbixpLHIpfX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7WE0odGhpcyl9LGUudHlwZT0iY2FydGVzaWFuQXhpcyIsZX0oSE0pLHFNPXtzcGxpdExpbmU6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bi5heGlzO2lmKCFyLnNjYWxlLmlzQmxhbmsoKSl7dmFyIG89bi5nZXRNb2RlbCgic3BsaXRMaW5lIiksYT1vLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxzPWEuZ2V0KCJjb2xvciIpO3M9RihzKT9zOltzXTtmb3IodmFyIGw9aS5jb29yZGluYXRlU3lzdGVtLmdldFJlY3QoKSx1PXIuaXNIb3Jpem9udGFsKCksaD0wLGM9ci5nZXRUaWNrc0Nvb3Jkcyh7dGlja01vZGVsOm99KSxwPVtdLGQ9W10sZj1hLmdldExpbmVTdHlsZSgpLGc9MDtnPGMubGVuZ3RoO2crKyl7dmFyIHk9ci50b0dsb2JhbENvb3JkKGNbZ10uY29vcmQpO3U/KHBbMF09eSxwWzFdPWwueSxkWzBdPXksZFsxXT1sLnkrbC5oZWlnaHQpOihwWzBdPWwueCxwWzFdPXksZFswXT1sLngrbC53aWR0aCxkWzFdPXkpO3ZhciB2PWgrKyVzLmxlbmd0aCxtPWNbZ10udGlja1ZhbHVlO2UuYWRkKG5ldyB5dSh7YW5pZDpudWxsIT1tPyJsaW5lXyIrY1tnXS50aWNrVmFsdWU6bnVsbCxzdWJQaXhlbE9wdGltaXplOiEwLGF1dG9CYXRjaDohMCxzaGFwZTp7eDE6cFswXSx5MTpwWzFdLHgyOmRbMF0seTI6ZFsxXX0sc3R5bGU6Qyh7c3Ryb2tlOnNbdl19LGYpLHNpbGVudDohMH0pKX19fSxtaW5vclNwbGl0TGluZTpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1uLmF4aXMsbz1uLmdldE1vZGVsKCJtaW5vclNwbGl0TGluZSIpLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxhPWkuY29vcmRpbmF0ZVN5c3RlbS5nZXRSZWN0KCkscz1yLmlzSG9yaXpvbnRhbCgpLGw9ci5nZXRNaW5vclRpY2tzQ29vcmRzKCk7aWYobC5sZW5ndGgpZm9yKHZhciB1PVtdLGg9W10sYz1vLmdldExpbmVTdHlsZSgpLHA9MDtwPGwubGVuZ3RoO3ArKylmb3IodmFyIGQ9MDtkPGxbcF0ubGVuZ3RoO2QrKyl7dmFyIGY9ci50b0dsb2JhbENvb3JkKGxbcF1bZF0uY29vcmQpO3M/KHVbMF09Zix1WzFdPWEueSxoWzBdPWYsaFsxXT1hLnkrYS5oZWlnaHQpOih1WzBdPWEueCx1WzFdPWYsaFswXT1hLngrYS53aWR0aCxoWzFdPWYpLGUuYWRkKG5ldyB5dSh7YW5pZDoibWlub3JfbGluZV8iK2xbcF1bZF0udGlja1ZhbHVlLHN1YlBpeGVsT3B0aW1pemU6ITAsYXV0b0JhdGNoOiEwLHNoYXBlOnt4MTp1WzBdLHkxOnVbMV0seDI6aFswXSx5MjpoWzFdfSxzdHlsZTpjLHNpbGVudDohMH0pKX19LHNwbGl0QXJlYTpmdW5jdGlvbih0LGUsbixpKXtVTSh0LGUsbixpKX19LEtNPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUudHlwZT0ieEF4aXMiLGV9KGpNKSwkTT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLnR5cGU9S00udHlwZSxlfXJldHVybiBuKGUsdCksZS50eXBlPSJ5QXhpcyIsZX0oak0pLEpNPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUudHlwZT0iZ3JpZCIsZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdC5nZXQoInNob3ciKSYmdGhpcy5ncm91cC5hZGQobmV3IGNzKHtzaGFwZTp0LmNvb3JkaW5hdGVTeXN0ZW0uZ2V0UmVjdCgpLHN0eWxlOkMoe2ZpbGw6dC5nZXQoImJhY2tncm91bmRDb2xvciIpfSx0LmdldEl0ZW1TdHlsZSgpKSxzaWxlbnQ6ITAsejI6LTF9KSl9LGUudHlwZT0iZ3JpZCIsZX0oV2YpLFFNPXtvZmZzZXQ6MH07ZnVuY3Rpb24gdEkodCl7dC5yZWdpc3RlckNvbXBvbmVudFZpZXcoSk0pLHQucmVnaXN0ZXJDb21wb25lbnRNb2RlbChzTSksdC5yZWdpc3RlckNvb3JkaW5hdGVTeXN0ZW0oImNhcnRlc2lhbjJkIixNTSksZk0odCwieCIsbE0sUU0pLGZNKHQsInkiLGxNLFFNKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhLTSksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoJE0pLHQucmVnaXN0ZXJQcmVwcm9jZXNzb3IoKGZ1bmN0aW9uKHQpe3QueEF4aXMmJnQueUF4aXMmJiF0LmdyaWQmJih0LmdyaWQ9e30pfSkpfWZ1bmN0aW9uIGVJKHQpe3QuZWFjaFNlcmllc0J5VHlwZSgicmFkYXIiLChmdW5jdGlvbih0KXt2YXIgZT10LmdldERhdGEoKSxuPVtdLGk9dC5jb29yZGluYXRlU3lzdGVtO2lmKGkpe3ZhciByPWkuZ2V0SW5kaWNhdG9yQXhlcygpO08ociwoZnVuY3Rpb24odCxvKXtlLmVhY2goZS5tYXBEaW1lbnNpb24ocltvXS5kaW0pLChmdW5jdGlvbih0LGUpe25bZV09bltlXXx8W107dmFyIHI9aS5kYXRhVG9Qb2ludCh0LG8pO25bZV1bb109bkkocik/cjppSShpKX0pKX0pKSxlLmVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPUUoblt0XSwoZnVuY3Rpb24odCl7cmV0dXJuIG5JKHQpfSkpfHxpSShpKTtuW3RdLnB1c2goci5zbGljZSgpKSxlLnNldEl0ZW1MYXlvdXQodCxuW3RdKX0pKX19KSl9ZnVuY3Rpb24gbkkodCl7cmV0dXJuIWlzTmFOKHRbMF0pJiYhaXNOYU4odFsxXSl9ZnVuY3Rpb24gaUkodCl7cmV0dXJuW3QuY3gsdC5jeV19ZnVuY3Rpb24gckkodCl7dmFyIGU9dC5wb2xhcjtpZihlKXtGKGUpfHwoZT1bZV0pO3ZhciBuPVtdO08oZSwoZnVuY3Rpb24oZSxpKXtlLmluZGljYXRvcj8oZS50eXBlJiYhZS5zaGFwZSYmKGUuc2hhcGU9ZS50eXBlKSx0LnJhZGFyPXQucmFkYXJ8fFtdLEYodC5yYWRhcil8fCh0LnJhZGFyPVt0LnJhZGFyXSksdC5yYWRhci5wdXNoKGUpKTpuLnB1c2goZSl9KSksdC5wb2xhcj1ufU8odC5zZXJpZXMsKGZ1bmN0aW9uKHQpe3QmJiJyYWRhciI9PT10LnR5cGUmJnQucG9sYXJJbmRleCYmKHQucmFkYXJJbmRleD10LnBvbGFySW5kZXgpfSkpfXZhciBvST1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuY29vcmRpbmF0ZVN5c3RlbSxyPXRoaXMuZ3JvdXAsbz10LmdldERhdGEoKSxhPXRoaXMuX2RhdGE7ZnVuY3Rpb24gcyh0LGUpe3ZhciBuPXQuZ2V0SXRlbVZpc3VhbChlLCJzeW1ib2wiKXx8ImNpcmNsZSI7aWYoIm5vbmUiIT09bil7dmFyIGk9bnkodC5nZXRJdGVtVmlzdWFsKGUsInN5bWJvbFNpemUiKSkscj1leShuLC0xLC0xLDIsMiksbz10LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sUm90YXRlIil8fDA7cmV0dXJuIHIuYXR0cih7c3R5bGU6e3N0cm9rZU5vU2NhbGU6ITB9LHoyOjEwMCxzY2FsZVg6aVswXS8yLHNjYWxlWTppWzFdLzIscm90YXRpb246bypNYXRoLlBJLzE4MHx8MH0pLHJ9fWZ1bmN0aW9uIGwoZSxuLGkscixvLGEpe2kucmVtb3ZlQWxsKCk7Zm9yKHZhciBsPTA7bDxuLmxlbmd0aC0xO2wrKyl7dmFyIHU9cyhyLG8pO3UmJih1Ll9fZGltSWR4PWwsZVtsXT8odS5zZXRQb3NpdGlvbihlW2xdKSx5aFthPyJpbml0UHJvcHMiOiJ1cGRhdGVQcm9wcyJdKHUse3g6bltsXVswXSx5Om5bbF1bMV19LHQsbykpOnUuc2V0UG9zaXRpb24obltsXSksaS5hZGQodSkpfX1mdW5jdGlvbiB1KHQpe3JldHVybiBSKHQsKGZ1bmN0aW9uKHQpe3JldHVybltpLmN4LGkuY3ldfSkpfW8uZGlmZihhKS5hZGQoKGZ1bmN0aW9uKGUpe3ZhciBuPW8uZ2V0SXRlbUxheW91dChlKTtpZihuKXt2YXIgaT1uZXcgY3Uscj1uZXcgZHUsYT17c2hhcGU6e3BvaW50czpufX07aS5zaGFwZS5wb2ludHM9dShuKSxyLnNoYXBlLnBvaW50cz11KG4pLFZ1KGksYSx0LGUpLFZ1KHIsYSx0LGUpO3ZhciBzPW5ldyBCaSxoPW5ldyBCaTtzLmFkZChyKSxzLmFkZChpKSxzLmFkZChoKSxsKHIuc2hhcGUucG9pbnRzLG4saCxvLGUsITApLG8uc2V0SXRlbUdyYXBoaWNFbChlLHMpfX0pKS51cGRhdGUoKGZ1bmN0aW9uKGUsbil7dmFyIGk9YS5nZXRJdGVtR3JhcGhpY0VsKG4pLHI9aS5jaGlsZEF0KDApLHM9aS5jaGlsZEF0KDEpLHU9aS5jaGlsZEF0KDIpLGg9e3NoYXBlOntwb2ludHM6by5nZXRJdGVtTGF5b3V0KGUpfX07aC5zaGFwZS5wb2ludHMmJihsKHIuc2hhcGUucG9pbnRzLGguc2hhcGUucG9pbnRzLHUsbyxlLCExKSxXdShzKSxXdShyKSxFdShyLGgsdCksRXUocyxoLHQpLG8uc2V0SXRlbUdyYXBoaWNFbChlLGkpKX0pKS5yZW1vdmUoKGZ1bmN0aW9uKHQpe3IucmVtb3ZlKGEuZ2V0SXRlbUdyYXBoaWNFbCh0KSl9KSkuZXhlY3V0ZSgpLG8uZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKHQsZSl7dmFyIG49by5nZXRJdGVtTW9kZWwoZSksaT10LmNoaWxkQXQoMCksYT10LmNoaWxkQXQoMSkscz10LmNoaWxkQXQoMiksbD1vLmdldEl0ZW1WaXN1YWwoZSwic3R5bGUiKSx1PWwuZmlsbDtyLmFkZCh0KSxpLnVzZVN0eWxlKEMobi5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCkse2ZpbGw6Im5vbmUiLHN0cm9rZTp1fSkpLHlsKGksbiwibGluZVN0eWxlIikseWwoYSxuLCJhcmVhU3R5bGUiKTt2YXIgaD1uLmdldE1vZGVsKCJhcmVhU3R5bGUiKSxjPWguaXNFbXB0eSgpJiZoLnBhcmVudE1vZGVsLmlzRW1wdHkoKTthLmlnbm9yZT1jLE8oWyJlbXBoYXNpcyIsInNlbGVjdCIsImJsdXIiXSwoZnVuY3Rpb24odCl7dmFyIGU9bi5nZXRNb2RlbChbdCwiYXJlYVN0eWxlIl0pLGk9ZS5pc0VtcHR5KCkmJmUucGFyZW50TW9kZWwuaXNFbXB0eSgpO2EuZW5zdXJlU3RhdGUodCkuaWdub3JlPWkmJmN9KSksYS51c2VTdHlsZShDKGguZ2V0QXJlYVN0eWxlKCkse2ZpbGw6dSxvcGFjaXR5Oi43LGRlY2FsOmwuZGVjYWx9KSk7dmFyIHA9bi5nZXRNb2RlbCgiZW1waGFzaXMiKSxkPXAuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpO3MuZWFjaENoaWxkKChmdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgcnMpe3ZhciBpPXQuc3R5bGU7dC51c2VTdHlsZShUKHtpbWFnZTppLmltYWdlLHg6aS54LHk6aS55LHdpZHRoOmkud2lkdGgsaGVpZ2h0OmkuaGVpZ2h0fSxsKSl9ZWxzZSB0LnVzZVN0eWxlKGwpLHQuc2V0Q29sb3IodSksdC5zdHlsZS5zdHJva2VOb1NjYWxlPSEwO3QuZW5zdXJlU3RhdGUoImVtcGhhc2lzIikuc3R5bGU9UyhkKTt2YXIgcj1vLmdldFN0b3JlKCkuZ2V0KG8uZ2V0RGltZW5zaW9uSW5kZXgodC5fX2RpbUlkeCksZSk7KG51bGw9PXJ8fGlzTmFOKHIpKSYmKHI9IiIpLHhoKHQsYmgobikse2xhYmVsRmV0Y2hlcjpvLmhvc3RNb2RlbCxsYWJlbERhdGFJbmRleDplLGxhYmVsRGltSW5kZXg6dC5fX2RpbUlkeCxkZWZhdWx0VGV4dDpyLGluaGVyaXRDb2xvcjp1LGRlZmF1bHRPcGFjaXR5Omwub3BhY2l0eX0pfSkpLHBsKHQscC5nZXQoImZvY3VzIikscC5nZXQoImJsdXJTY29wZSIpKX0pKSx0aGlzLl9kYXRhPW99LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fZGF0YT1udWxsfSxlLnR5cGU9InJhZGFyIixlfShaZiksYUk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmhhc1N5bWJvbFZpc3VhbD0hMCxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLmxlZ2VuZFZpc3VhbFByb3ZpZGVyPW5ldyB0TShCKHRoaXMuZ2V0RGF0YSx0aGlzKSxCKHRoaXMuZ2V0UmF3RGF0YSx0aGlzKSl9LGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFFTKHRoaXMse2dlbmVyYXRlQ29vcmQ6ImluZGljYXRvcl8iLGdlbmVyYXRlQ29vcmRDb3VudDoxLzB9KX0sZS5wcm90b3R5cGUuZm9ybWF0VG9vbHRpcD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5nZXREYXRhKCkscj10aGlzLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0SW5kaWNhdG9yQXhlcygpLG89dGhpcy5nZXREYXRhKCkuZ2V0TmFtZSh0KSxhPSIiPT09bz90aGlzLm5hbWU6byxzPUFmKHRoaXMsdCk7cmV0dXJuIHdmKCJzZWN0aW9uIix7aGVhZGVyOmEsc29ydEJsb2NrczohMCxibG9ja3M6UihyLChmdW5jdGlvbihlKXt2YXIgbj1pLmdldChpLm1hcERpbWVuc2lvbihlLmRpbSksdCk7cmV0dXJuIHdmKCJuYW1lVmFsdWUiLHttYXJrZXJUeXBlOiJzdWJJdGVtIixtYXJrZXJDb2xvcjpzLG5hbWU6ZS5uYW1lLHZhbHVlOm4sc29ydFBhcmFtOm59KX0pKX0pfSxlLnByb3RvdHlwZS5nZXRUb29sdGlwUG9zaXRpb249ZnVuY3Rpb24odCl7aWYobnVsbCE9dClmb3IodmFyIGU9dGhpcy5nZXREYXRhKCksbj10aGlzLmNvb3JkaW5hdGVTeXN0ZW0saT1lLmdldFZhbHVlcyhSKG4uZGltZW5zaW9ucywoZnVuY3Rpb24odCl7cmV0dXJuIGUubWFwRGltZW5zaW9uKHQpfSkpLHQpLHI9MCxvPWkubGVuZ3RoO3I8bztyKyspaWYoIWlzTmFOKGlbcl0pKXt2YXIgYT1uLmdldEluZGljYXRvckF4ZXMoKTtyZXR1cm4gbi5jb29yZFRvUG9pbnQoYVtyXS5kYXRhVG9Db29yZChpW3JdKSxyKX19LGUudHlwZT0ic2VyaWVzLnJhZGFyIixlLmRlcGVuZGVuY2llcz1bInJhZGFyIl0sZS5kZWZhdWx0T3B0aW9uPXt6bGV2ZWw6MCx6OjIsY29sb3JCeToiZGF0YSIsY29vcmRpbmF0ZVN5c3RlbToicmFkYXIiLGxlZ2VuZEhvdmVyTGluazohMCxyYWRhckluZGV4OjAsbGluZVN0eWxlOnt3aWR0aDoyLHR5cGU6InNvbGlkIixqb2luOiJyb3VuZCJ9LGxhYmVsOntwb3NpdGlvbjoidG9wIn0sc3ltYm9sU2l6ZTo4fSxlfShOZiksc0k9cE0udmFsdWU7ZnVuY3Rpb24gbEkodCxlKXtyZXR1cm4gQyh7c2hvdzplfSx0KX12YXIgdUk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0KCJib3VuZGFyeUdhcCIpLGU9dGhpcy5nZXQoInNwbGl0TnVtYmVyIiksbj10aGlzLmdldCgic2NhbGUiKSxpPXRoaXMuZ2V0KCJheGlzTGluZSIpLHI9dGhpcy5nZXQoImF4aXNUaWNrIiksbz10aGlzLmdldCgiYXhpc0xhYmVsIiksYT10aGlzLmdldCgiYXhpc05hbWUiKSxzPXRoaXMuZ2V0KFsiYXhpc05hbWUiLCJzaG93Il0pLGw9dGhpcy5nZXQoWyJheGlzTmFtZSIsImZvcm1hdHRlciJdKSx1PXRoaXMuZ2V0KCJheGlzTmFtZUdhcCIpLGg9dGhpcy5nZXQoInRyaWdnZXJFdmVudCIpLGM9Uih0aGlzLmdldCgiaW5kaWNhdG9yIil8fFtdLChmdW5jdGlvbihjKXtudWxsIT1jLm1heCYmYy5tYXg+MCYmIWMubWluP2MubWluPTA6bnVsbCE9Yy5taW4mJmMubWluPDAmJiFjLm1heCYmKGMubWF4PTApO3ZhciBwPWE7bnVsbCE9Yy5jb2xvciYmKHA9Qyh7Y29sb3I6Yy5jb2xvcn0sYSkpO3ZhciBkPU0oUyhjKSx7Ym91bmRhcnlHYXA6dCxzcGxpdE51bWJlcjplLHNjYWxlOm4sYXhpc0xpbmU6aSxheGlzVGljazpyLGF4aXNMYWJlbDpvLG5hbWU6Yy50ZXh0LG5hbWVMb2NhdGlvbjoiZW5kIixuYW1lR2FwOnUsbmFtZVRleHRTdHlsZTpwLHRyaWdnZXJFdmVudDpofSwhMSk7aWYoc3x8KGQubmFtZT0iIiksInN0cmluZyI9PXR5cGVvZiBsKXt2YXIgZj1kLm5hbWU7ZC5uYW1lPWwucmVwbGFjZSgie3ZhbHVlfSIsbnVsbCE9Zj9mOiIiKX1lbHNlImZ1bmN0aW9uIj09dHlwZW9mIGwmJihkLm5hbWU9bChkLm5hbWUsZCkpO3ZhciBnPW5ldyBXaChkLG51bGwsdGhpcy5lY01vZGVsKTtyZXR1cm4gTChnLEl4LnByb3RvdHlwZSksZy5tYWluVHlwZT0icmFkYXIiLGcuY29tcG9uZW50SW5kZXg9dGhpcy5jb21wb25lbnRJbmRleCxnfSksdGhpcyk7dGhpcy5faW5kaWNhdG9yTW9kZWxzPWN9LGUucHJvdG90eXBlLmdldEluZGljYXRvck1vZGVscz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbmRpY2F0b3JNb2RlbHN9LGUudHlwZT0icmFkYXIiLGUuZGVmYXVsdE9wdGlvbj17emxldmVsOjAsejowLGNlbnRlcjpbIjUwJSIsIjUwJSJdLHJhZGl1czoiNzUlIixzdGFydEFuZ2xlOjkwLGF4aXNOYW1lOntzaG93OiEwfSxib3VuZGFyeUdhcDpbMCwwXSxzcGxpdE51bWJlcjo1LGF4aXNOYW1lR2FwOjE1LHNjYWxlOiExLHNoYXBlOiJwb2x5Z29uIixheGlzTGluZTpNKHtsaW5lU3R5bGU6e2NvbG9yOiIjYmJiIn19LHNJLmF4aXNMaW5lKSxheGlzTGFiZWw6bEkoc0kuYXhpc0xhYmVsLCExKSxheGlzVGljazpsSShzSS5heGlzVGljaywhMSksc3BsaXRMaW5lOmxJKHNJLnNwbGl0TGluZSwhMCksc3BsaXRBcmVhOmxJKHNJLnNwbGl0QXJlYSwhMCksaW5kaWNhdG9yOltdfSxlfShucCksaEk9WyJheGlzTGluZSIsImF4aXNUaWNrTGFiZWwiLCJheGlzTmFtZSJdLGNJPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0aGlzLl9idWlsZEF4ZXModCksdGhpcy5fYnVpbGRTcGxpdExpbmVBbmRBcmVhKHQpfSxlLnByb3RvdHlwZS5fYnVpbGRBeGVzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuY29vcmRpbmF0ZVN5c3RlbTtPKFIoZS5nZXRJbmRpY2F0b3JBeGVzKCksKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgQU0odC5tb2RlbCx7cG9zaXRpb246W2UuY3gsZS5jeV0scm90YXRpb246dC5hbmdsZSxsYWJlbERpcmVjdGlvbjotMSx0aWNrRGlyZWN0aW9uOi0xLG5hbWVEaXJlY3Rpb246MX0pfSkpLChmdW5jdGlvbih0KXtPKGhJLHQuYWRkLHQpLHRoaXMuZ3JvdXAuYWRkKHQuZ2V0R3JvdXAoKSl9KSx0aGlzKX0sZS5wcm90b3R5cGUuX2J1aWxkU3BsaXRMaW5lQW5kQXJlYT1mdW5jdGlvbih0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW0sbj1lLmdldEluZGljYXRvckF4ZXMoKTtpZihuLmxlbmd0aCl7dmFyIGk9dC5nZXQoInNoYXBlIikscj10LmdldE1vZGVsKCJzcGxpdExpbmUiKSxvPXQuZ2V0TW9kZWwoInNwbGl0QXJlYSIpLGE9ci5nZXRNb2RlbCgibGluZVN0eWxlIikscz1vLmdldE1vZGVsKCJhcmVhU3R5bGUiKSxsPXIuZ2V0KCJzaG93IiksdT1vLmdldCgic2hvdyIpLGg9YS5nZXQoImNvbG9yIiksYz1zLmdldCgiY29sb3IiKSxwPUYoaCk/aDpbaF0sZD1GKGMpP2M6W2NdLGY9W10sZz1bXTtpZigiY2lyY2xlIj09PWkpZm9yKHZhciB5PW5bMF0uZ2V0VGlja3NDb29yZHMoKSx2PWUuY3gsbT1lLmN5LF89MDtfPHkubGVuZ3RoO18rKyl7aWYobClmW0QoZixwLF8pXS5wdXNoKG5ldyBIbCh7c2hhcGU6e2N4OnYsY3k6bSxyOnlbX10uY29vcmR9fSkpO2lmKHUmJl88eS5sZW5ndGgtMSlnW0QoZyxkLF8pXS5wdXNoKG5ldyBzdSh7c2hhcGU6e2N4OnYsY3k6bSxyMDp5W19dLmNvb3JkLHI6eVtfKzFdLmNvb3JkfX0pKX1lbHNle3ZhciB4LGI9UihuLChmdW5jdGlvbih0LG4pe3ZhciBpPXQuZ2V0VGlja3NDb29yZHMoKTtyZXR1cm4geD1udWxsPT14P2kubGVuZ3RoLTE6TWF0aC5taW4oaS5sZW5ndGgtMSx4KSxSKGksKGZ1bmN0aW9uKHQpe3JldHVybiBlLmNvb3JkVG9Qb2ludCh0LmNvb3JkLG4pfSkpfSkpLHc9W107Zm9yKF89MDtfPD14O18rKyl7Zm9yKHZhciBTPVtdLE09MDtNPG4ubGVuZ3RoO00rKylTLnB1c2goYltNXVtfXSk7aWYoU1swXSYmUy5wdXNoKFNbMF0uc2xpY2UoKSksbClmW0QoZixwLF8pXS5wdXNoKG5ldyBkdSh7c2hhcGU6e3BvaW50czpTfX0pKTtpZih1JiZ3KWdbRChnLGQsXy0xKV0ucHVzaChuZXcgY3Uoe3NoYXBlOntwb2ludHM6Uy5jb25jYXQodyl9fSkpO3c9Uy5zbGljZSgpLnJldmVyc2UoKX19dmFyIEk9YS5nZXRMaW5lU3R5bGUoKSxUPXMuZ2V0QXJlYVN0eWxlKCk7TyhnLChmdW5jdGlvbih0LGUpe3RoaXMuZ3JvdXAuYWRkKGVoKHQse3N0eWxlOkMoe3N0cm9rZToibm9uZSIsZmlsbDpkW2UlZC5sZW5ndGhdfSxUKSxzaWxlbnQ6ITB9KSl9KSx0aGlzKSxPKGYsKGZ1bmN0aW9uKHQsZSl7dGhpcy5ncm91cC5hZGQoZWgodCx7c3R5bGU6Qyh7ZmlsbDoibm9uZSIsc3Ryb2tlOnBbZSVwLmxlbmd0aF19LEkpLHNpbGVudDohMH0pKX0pLHRoaXMpfWZ1bmN0aW9uIEQodCxlLG4pe3ZhciBpPW4lZS5sZW5ndGg7cmV0dXJuIHRbaV09dFtpXXx8W10saX19LGUudHlwZT0icmFkYXIiLGV9KFdmKSxwST1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpKXt2YXIgcj10LmNhbGwodGhpcyxlLG4saSl8fHRoaXM7cmV0dXJuIHIudHlwZT0idmFsdWUiLHIuYW5nbGU9MCxyLm5hbWU9IiIscn1yZXR1cm4gbihlLHQpLGV9KFd4KSxkST1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMuZGltZW5zaW9ucz1bXSx0aGlzLl9tb2RlbD10LHRoaXMuX2luZGljYXRvckF4ZXM9Uih0LmdldEluZGljYXRvck1vZGVscygpLChmdW5jdGlvbih0LGUpe3ZhciBuPSJpbmRpY2F0b3JfIitlLGk9bmV3IHBJKG4sbmV3IFBfKTtyZXR1cm4gaS5uYW1lPXQuZ2V0KCJuYW1lIiksaS5tb2RlbD10LHQuYXhpcz1pLHRoaXMuZGltZW5zaW9ucy5wdXNoKG4pLGl9KSx0aGlzKSx0aGlzLnJlc2l6ZSh0LG4pfXJldHVybiB0LnByb3RvdHlwZS5nZXRJbmRpY2F0b3JBeGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luZGljYXRvckF4ZXN9LHQucHJvdG90eXBlLmRhdGFUb1BvaW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5faW5kaWNhdG9yQXhlc1tlXTtyZXR1cm4gdGhpcy5jb29yZFRvUG9pbnQobi5kYXRhVG9Db29yZCh0KSxlKX0sdC5wcm90b3R5cGUuY29vcmRUb1BvaW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5faW5kaWNhdG9yQXhlc1tlXS5hbmdsZTtyZXR1cm5bdGhpcy5jeCt0Kk1hdGguY29zKG4pLHRoaXMuY3ktdCpNYXRoLnNpbihuKV19LHQucHJvdG90eXBlLnBvaW50VG9EYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRbMF0tdGhpcy5jeCxuPXRbMV0tdGhpcy5jeSxpPU1hdGguc3FydChlKmUrbipuKTtlLz1pLG4vPWk7Zm9yKHZhciByLG89TWF0aC5hdGFuMigtbixlKSxhPTEvMCxzPS0xLGw9MDtsPHRoaXMuX2luZGljYXRvckF4ZXMubGVuZ3RoO2wrKyl7dmFyIHU9dGhpcy5faW5kaWNhdG9yQXhlc1tsXSxoPU1hdGguYWJzKG8tdS5hbmdsZSk7aDxhJiYocj11LHM9bCxhPWgpfXJldHVybltzLCsociYmci5jb29yZFRvRGF0YShpKSldfSx0LnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldCgiY2VudGVyIiksaT1lLmdldFdpZHRoKCkscj1lLmdldEhlaWdodCgpLG89TWF0aC5taW4oaSxyKS8yO3RoaXMuY3g9cWkoblswXSxpKSx0aGlzLmN5PXFpKG5bMV0sciksdGhpcy5zdGFydEFuZ2xlPXQuZ2V0KCJzdGFydEFuZ2xlIikqTWF0aC5QSS8xODA7dmFyIGE9dC5nZXQoInJhZGl1cyIpOyJzdHJpbmciIT10eXBlb2YgYSYmIm51bWJlciIhPXR5cGVvZiBhfHwoYT1bMCxhXSksdGhpcy5yMD1xaShhWzBdLG8pLHRoaXMucj1xaShhWzFdLG8pLE8odGhpcy5faW5kaWNhdG9yQXhlcywoZnVuY3Rpb24odCxlKXt0LnNldEV4dGVudCh0aGlzLnIwLHRoaXMucik7dmFyIG49dGhpcy5zdGFydEFuZ2xlK2UqTWF0aC5QSSoyL3RoaXMuX2luZGljYXRvckF4ZXMubGVuZ3RoO249TWF0aC5hdGFuMihNYXRoLnNpbihuKSxNYXRoLmNvcyhuKSksdC5hbmdsZT1ufSksdGhpcyl9LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2luZGljYXRvckF4ZXMsaT10aGlzLl9tb2RlbDtPKG4sKGZ1bmN0aW9uKHQpe3Quc2NhbGUuc2V0RXh0ZW50KDEvMCwtMS8wKX0pKSx0LmVhY2hTZXJpZXNCeVR5cGUoInJhZGFyIiwoZnVuY3Rpb24oZSxyKXtpZigicmFkYXIiPT09ZS5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKSYmdC5nZXRDb21wb25lbnQoInJhZGFyIixlLmdldCgicmFkYXJJbmRleCIpKT09PWkpe3ZhciBvPWUuZ2V0RGF0YSgpO08obiwoZnVuY3Rpb24odCl7dC5zY2FsZS51bmlvbkV4dGVudEZyb21EYXRhKG8sby5tYXBEaW1lbnNpb24odC5kaW0pKX0pKX19KSx0aGlzKTt2YXIgcj1pLmdldCgic3BsaXROdW1iZXIiKTtmdW5jdGlvbiBvKHQpe3ZhciBlPU1hdGgucG93KDEwLE1hdGguZmxvb3IoTWF0aC5sb2codCkvTWF0aC5MTjEwKSksbj10L2U7cmV0dXJuIDI9PT1uP249NTpuKj0yLG4qZX1PKG4sKGZ1bmN0aW9uKHQsZSl7dmFyIG49Z3godC5zY2FsZSx0Lm1vZGVsKS5leHRlbnQ7eXgodC5zY2FsZSx0Lm1vZGVsKTt2YXIgaT10Lm1vZGVsLGE9dC5zY2FsZSxzPWZ4KGEsaS5nZXQoIm1pbiIsITApKSxsPWZ4KGEsaS5nZXQoIm1heCIsITApKSx1PWEuZ2V0SW50ZXJ2YWwoKTtpZihudWxsIT1zJiZudWxsIT1sKWEuc2V0RXh0ZW50KCtzLCtsKSxhLnNldEludGVydmFsKChsLXMpL3IpO2Vsc2UgaWYobnVsbCE9cyl7dmFyIGg9dm9pZCAwO2Rve2g9cyt1KnIsYS5zZXRFeHRlbnQoK3MsaCksYS5zZXRJbnRlcnZhbCh1KSx1PW8odSl9d2hpbGUoaDxuWzFdJiZpc0Zpbml0ZShoKSYmaXNGaW5pdGUoblsxXSkpfWVsc2UgaWYobnVsbCE9bCl7dmFyIGM9dm9pZCAwO2Rve2M9bC11KnIsYS5zZXRFeHRlbnQoYywrbCksYS5zZXRJbnRlcnZhbCh1KSx1PW8odSl9d2hpbGUoYz5uWzBdJiZpc0Zpbml0ZShjKSYmaXNGaW5pdGUoblswXSkpfWVsc2V7YS5nZXRUaWNrcygpLmxlbmd0aC0xPnImJih1PW8odSkpO2M9S2koKGg9TWF0aC5jZWlsKG5bMV0vdSkqdSktdSpyKTthLnNldEV4dGVudChjLGgpLGEuc2V0SW50ZXJ2YWwodSl9fSkpfSx0LnByb3RvdHlwZS5jb252ZXJ0VG9QaXhlbD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGNvbnNvbGUud2FybigiTm90IGltcGxlbWVudGVkLiIpLG51bGx9LHQucHJvdG90eXBlLmNvbnZlcnRGcm9tUGl4ZWw9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBjb25zb2xlLndhcm4oIk5vdCBpbXBsZW1lbnRlZC4iKSxudWxsfSx0LnByb3RvdHlwZS5jb250YWluUG9pbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiTm90IGltcGxlbWVudGVkLiIpLCExfSx0LmNyZWF0ZT1mdW5jdGlvbihlLG4pe3ZhciBpPVtdO3JldHVybiBlLmVhY2hDb21wb25lbnQoInJhZGFyIiwoZnVuY3Rpb24ocil7dmFyIG89bmV3IHQocixlLG4pO2kucHVzaChvKSxyLmNvb3JkaW5hdGVTeXN0ZW09b30pKSxlLmVhY2hTZXJpZXNCeVR5cGUoInJhZGFyIiwoZnVuY3Rpb24odCl7InJhZGFyIj09PXQuZ2V0KCJjb29yZGluYXRlU3lzdGVtIikmJih0LmNvb3JkaW5hdGVTeXN0ZW09aVt0LmdldCgicmFkYXJJbmRleCIpfHwwXSl9KSksaX0sdC5kaW1lbnNpb25zPVtdLHR9KCk7ZnVuY3Rpb24gZkkodCl7dC5yZWdpc3RlckNvb3JkaW5hdGVTeXN0ZW0oInJhZGFyIixkSSksdC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKHVJKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhjSSksdC5yZWdpc3RlclZpc3VhbCh7c2VyaWVzVHlwZToicmFkYXIiLHJlc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RGF0YSgpO2UuZWFjaCgoZnVuY3Rpb24odCl7ZS5zZXRJdGVtVmlzdWFsKHQsImxlZ2VuZEljb24iLCJyb3VuZFJlY3QiKX0pKSxlLnNldFZpc3VhbCgibGVnZW5kSWNvbiIsInJvdW5kUmVjdCIpfX0pfXZhciBnST0iXDBfZWNfaW50ZXJhY3Rpb25fbXV0ZXgiO2Z1bmN0aW9uIHlJKHQsZSl7cmV0dXJuISF2SSh0KVtlXX1mdW5jdGlvbiB2SSh0KXtyZXR1cm4gdFtnSV18fCh0W2dJXT17fSl9SW0oe3R5cGU6InRha2VHbG9iYWxDdXJzb3IiLGV2ZW50OiJnbG9iYWxDdXJzb3JUYWtlbiIsdXBkYXRlOiJ1cGRhdGUifSwoZnVuY3Rpb24oKXt9KSk7dmFyIG1JPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO24uX3pyPWU7dmFyIGk9QihuLl9tb3VzZWRvd25IYW5kbGVyLG4pLHI9QihuLl9tb3VzZW1vdmVIYW5kbGVyLG4pLG89QihuLl9tb3VzZXVwSGFuZGxlcixuKSxhPUIobi5fbW91c2V3aGVlbEhhbmRsZXIsbikscz1CKG4uX3BpbmNoSGFuZGxlcixuKTtyZXR1cm4gbi5lbmFibGU9ZnVuY3Rpb24odCxuKXt0aGlzLmRpc2FibGUoKSx0aGlzLl9vcHQ9QyhTKG4pfHx7fSx7em9vbU9uTW91c2VXaGVlbDohMCxtb3ZlT25Nb3VzZU1vdmU6ITAsbW92ZU9uTW91c2VXaGVlbDohMSxwcmV2ZW50RGVmYXVsdE1vdXNlTW92ZTohMH0pLG51bGw9PXQmJih0PSEwKSwhMCE9PXQmJiJtb3ZlIiE9PXQmJiJwYW4iIT09dHx8KGUub24oIm1vdXNlZG93biIsaSksZS5vbigibW91c2Vtb3ZlIixyKSxlLm9uKCJtb3VzZXVwIixvKSksITAhPT10JiYic2NhbGUiIT09dCYmInpvb20iIT09dHx8KGUub24oIm1vdXNld2hlZWwiLGEpLGUub24oInBpbmNoIixzKSl9LG4uZGlzYWJsZT1mdW5jdGlvbigpe2Uub2ZmKCJtb3VzZWRvd24iLGkpLGUub2ZmKCJtb3VzZW1vdmUiLHIpLGUub2ZmKCJtb3VzZXVwIixvKSxlLm9mZigibW91c2V3aGVlbCIsYSksZS5vZmYoInBpbmNoIixzKX0sbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmlzRHJhZ2dpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHJhZ2dpbmd9LGUucHJvdG90eXBlLmlzUGluY2hpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGluY2hpbmd9LGUucHJvdG90eXBlLnNldFBvaW50ZXJDaGVja2VyPWZ1bmN0aW9uKHQpe3RoaXMucG9pbnRlckNoZWNrZXI9dH0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuZGlzYWJsZSgpfSxlLnByb3RvdHlwZS5fbW91c2Vkb3duSGFuZGxlcj1mdW5jdGlvbih0KXtpZighKGllKHQpfHx0LnRhcmdldCYmdC50YXJnZXQuZHJhZ2dhYmxlKSl7dmFyIGU9dC5vZmZzZXRYLG49dC5vZmZzZXRZO3RoaXMucG9pbnRlckNoZWNrZXImJnRoaXMucG9pbnRlckNoZWNrZXIodCxlLG4pJiYodGhpcy5feD1lLHRoaXMuX3k9bix0aGlzLl9kcmFnZ2luZz0hMCl9fSxlLnByb3RvdHlwZS5fbW91c2Vtb3ZlSGFuZGxlcj1mdW5jdGlvbih0KXtpZih0aGlzLl9kcmFnZ2luZyYmYkkoIm1vdmVPbk1vdXNlTW92ZSIsdCx0aGlzLl9vcHQpJiYicGluY2giIT09dC5nZXN0dXJlRXZlbnQmJiF5SSh0aGlzLl96ciwiZ2xvYmFsUGFuIikpe3ZhciBlPXQub2Zmc2V0WCxuPXQub2Zmc2V0WSxpPXRoaXMuX3gscj10aGlzLl95LG89ZS1pLGE9bi1yO3RoaXMuX3g9ZSx0aGlzLl95PW4sdGhpcy5fb3B0LnByZXZlbnREZWZhdWx0TW91c2VNb3ZlJiZuZSh0LmV2ZW50KSx4SSh0aGlzLCJwYW4iLCJtb3ZlT25Nb3VzZU1vdmUiLHQse2R4Om8sZHk6YSxvbGRYOmksb2xkWTpyLG5ld1g6ZSxuZXdZOm4saXNBdmFpbGFibGVCZWhhdmlvcjpudWxsfSl9fSxlLnByb3RvdHlwZS5fbW91c2V1cEhhbmRsZXI9ZnVuY3Rpb24odCl7aWUodCl8fCh0aGlzLl9kcmFnZ2luZz0hMSl9LGUucHJvdG90eXBlLl9tb3VzZXdoZWVsSGFuZGxlcj1mdW5jdGlvbih0KXt2YXIgZT1iSSgiem9vbU9uTW91c2VXaGVlbCIsdCx0aGlzLl9vcHQpLG49YkkoIm1vdmVPbk1vdXNlV2hlZWwiLHQsdGhpcy5fb3B0KSxpPXQud2hlZWxEZWx0YSxyPU1hdGguYWJzKGkpLG89dC5vZmZzZXRYLGE9dC5vZmZzZXRZO2lmKDAhPT1pJiYoZXx8bikpe2lmKGUpe3ZhciBzPXI+Mz8xLjQ6cj4xPzEuMjoxLjE7X0kodGhpcywiem9vbSIsInpvb21Pbk1vdXNlV2hlZWwiLHQse3NjYWxlOmk+MD9zOjEvcyxvcmlnaW5YOm8sb3JpZ2luWTphLGlzQXZhaWxhYmxlQmVoYXZpb3I6bnVsbH0pfWlmKG4pe3ZhciBsPU1hdGguYWJzKGkpO19JKHRoaXMsInNjcm9sbE1vdmUiLCJtb3ZlT25Nb3VzZVdoZWVsIix0LHtzY3JvbGxEZWx0YTooaT4wPzE6LTEpKihsPjM/LjQ6bD4xPy4xNTouMDUpLG9yaWdpblg6byxvcmlnaW5ZOmEsaXNBdmFpbGFibGVCZWhhdmlvcjpudWxsfSl9fX0sZS5wcm90b3R5cGUuX3BpbmNoSGFuZGxlcj1mdW5jdGlvbih0KXt5SSh0aGlzLl96ciwiZ2xvYmFsUGFuIil8fF9JKHRoaXMsInpvb20iLG51bGwsdCx7c2NhbGU6dC5waW5jaFNjYWxlPjE/MS4xOjEvMS4xLG9yaWdpblg6dC5waW5jaFgsb3JpZ2luWTp0LnBpbmNoWSxpc0F2YWlsYWJsZUJlaGF2aW9yOm51bGx9KX0sZX0oRnQpO2Z1bmN0aW9uIF9JKHQsZSxuLGkscil7dC5wb2ludGVyQ2hlY2tlciYmdC5wb2ludGVyQ2hlY2tlcihpLHIub3JpZ2luWCxyLm9yaWdpblkpJiYobmUoaS5ldmVudCkseEkodCxlLG4saSxyKSl9ZnVuY3Rpb24geEkodCxlLG4saSxyKXtyLmlzQXZhaWxhYmxlQmVoYXZpb3I9QihiSSxudWxsLG4saSksdC50cmlnZ2VyKGUscil9ZnVuY3Rpb24gYkkodCxlLG4pe3ZhciBpPW5bdF07cmV0dXJuIXR8fGkmJighVyhpKXx8ZS5ldmVudFtpKyJLZXkiXSl9ZnVuY3Rpb24gd0kodCxlLG4pe3ZhciBpPXQudGFyZ2V0O2kueCs9ZSxpLnkrPW4saS5kaXJ0eSgpfWZ1bmN0aW9uIFNJKHQsZSxuLGkpe3ZhciByPXQudGFyZ2V0LG89dC56b29tTGltaXQsYT10Lnpvb209dC56b29tfHwxO2lmKGEqPWUsbyl7dmFyIHM9by5taW58fDAsbD1vLm1heHx8MS8wO2E9TWF0aC5tYXgoTWF0aC5taW4obCxhKSxzKX12YXIgdT1hL3Quem9vbTt0Lnpvb209YSxyLngtPShuLXIueCkqKHUtMSksci55LT0oaS1yLnkpKih1LTEpLHIuc2NhbGVYKj11LHIuc2NhbGVZKj11LHIuZGlydHkoKX12YXIgTUk9e2F4aXNQb2ludGVyOjEsdG9vbHRpcDoxLGJydXNoOjF9O2Z1bmN0aW9uIElJKHQsZSxuKXt2YXIgaT1lLmdldENvbXBvbmVudEJ5RWxlbWVudCh0LnRvcFRhcmdldCkscj1pJiZpLmNvb3JkaW5hdGVTeXN0ZW07cmV0dXJuIGkmJmkhPT1uJiYhTUkuaGFzT3duUHJvcGVydHkoaS5tYWluVHlwZSkmJnImJnIubW9kZWwhPT1ufXZhciBUST1bInJlY3QiLCJjaXJjbGUiLCJsaW5lIiwiZWxsaXBzZSIsInBvbHlnb24iLCJwb2x5bGluZSIsInBhdGgiXSxDST1jdChUSSksREk9Y3QoVEkuY29uY2F0KFsiZyJdKSksQUk9Y3QoVEkuY29uY2F0KFsiZyJdKSksa0k9UnIoKTtmdW5jdGlvbiBMSSh0KXt2YXIgZT10LmdldEl0ZW1TdHlsZSgpLG49dC5nZXQoImFyZWFDb2xvciIpO3JldHVybiBudWxsIT1uJiYoZS5maWxsPW4pLGV9dmFyIFBJPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZT1uZXcgQmk7dGhpcy51aWQ9WGgoImVjX21hcF9kcmF3IiksdGhpcy5fY29udHJvbGxlcj1uZXcgbUkodC5nZXRacigpKSx0aGlzLl9jb250cm9sbGVySG9zdD17dGFyZ2V0OmV9LHRoaXMuZ3JvdXA9ZSxlLmFkZCh0aGlzLl9yZWdpb25zR3JvdXA9bmV3IEJpKSxlLmFkZCh0aGlzLl9zdmdHcm91cD1uZXcgQmkpfXJldHVybiB0LnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89ImdlbyI9PT10Lm1haW5UeXBlLGE9dC5nZXREYXRhJiZ0LmdldERhdGEoKTtvJiZlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJzZXJpZXMiLHN1YlR5cGU6Im1hcCJ9LChmdW5jdGlvbihlKXthfHxlLmdldEhvc3RHZW9Nb2RlbCgpIT09dHx8KGE9ZS5nZXREYXRhKCkpfSkpO3ZhciBzPXQuY29vcmRpbmF0ZVN5c3RlbSxsPXRoaXMuX3JlZ2lvbnNHcm91cCx1PXRoaXMuZ3JvdXAsaD1zLmdldFRyYW5zZm9ybUluZm8oKSxjPWgucmF3LHA9aC5yb2FtOyFsLmNoaWxkQXQoMCl8fHI/KHUueD1wLngsdS55PXAueSx1LnNjYWxlWD1wLnNjYWxlWCx1LnNjYWxlWT1wLnNjYWxlWSx1LmRpcnR5KCkpOkV1KHUscCx0KTt2YXIgZD1hJiZhLmdldFZpc3VhbCgidmlzdWFsTWV0YSIpJiZhLmdldFZpc3VhbCgidmlzdWFsTWV0YSIpLmxlbmd0aD4wLGY9e2FwaTpuLGdlbzpzLG1hcE9yR2VvTW9kZWw6dCxkYXRhOmEsaXNWaXN1YWxFbmNvZGVkQnlWaXN1YWxNYXA6ZCxpc0dlbzpvLHRyYW5zZm9ybUluZm9SYXc6Y307Imdlb0pTT04iPT09cy5yZXNvdXJjZVR5cGU/dGhpcy5fYnVpbGRHZW9KU09OKGYpOiJnZW9TVkciPT09cy5yZXNvdXJjZVR5cGUmJnRoaXMuX2J1aWxkU1ZHKGYpLHRoaXMuX3VwZGF0ZUNvbnRyb2xsZXIodCxlLG4pLHRoaXMuX3VwZGF0ZU1hcFNlbGVjdEhhbmRsZXIodCxsLG4saSl9LHQucHJvdG90eXBlLl9idWlsZEdlb0pTT049ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcmVnaW9uc0dyb3VwQnlOYW1lPWN0KCksbj1jdCgpLGk9dGhpcy5fcmVnaW9uc0dyb3VwLHI9dC50cmFuc2Zvcm1JbmZvUmF3LG89dC5tYXBPckdlb01vZGVsLGE9dC5kYXRhLHM9ZnVuY3Rpb24odCl7cmV0dXJuW3RbMF0qci5zY2FsZVgrci54LHRbMV0qci5zY2FsZVkrci55XX07aS5yZW1vdmVBbGwoKSxPKHQuZ2VvLnJlZ2lvbnMsKGZ1bmN0aW9uKHIpe3ZhciBsPXIubmFtZSx1PWUuZ2V0KGwpLGg9bi5nZXQobCl8fHt9LGM9aC5kYXRhSWR4LHA9aC5yZWdpb25Nb2RlbDt1fHwodT1lLnNldChsLG5ldyBCaSksaS5hZGQodSksYz1hP2EuaW5kZXhPZk5hbWUobCk6bnVsbCxwPXQuaXNHZW8/by5nZXRSZWdpb25Nb2RlbChsKTphP2EuZ2V0SXRlbU1vZGVsKGMpOm51bGwsbi5zZXQobCx7ZGF0YUlkeDpjLHJlZ2lvbk1vZGVsOnB9KSk7dmFyIGQ9bmV3IFN1KHtzZWdtZW50SWdub3JlVGhyZXNob2xkOjEsc2hhcGU6e3BhdGhzOltdfX0pO3UuYWRkKGQpLE8oci5nZW9tZXRyaWVzLChmdW5jdGlvbih0KXtpZigicG9seWdvbiI9PT10LnR5cGUpe2Zvcih2YXIgZT1bXSxuPTA7bjx0LmV4dGVyaW9yLmxlbmd0aDsrK24pZS5wdXNoKHModC5leHRlcmlvcltuXSkpO2Quc2hhcGUucGF0aHMucHVzaChuZXcgY3Uoe3NlZ21lbnRJZ25vcmVUaHJlc2hvbGQ6MSxzaGFwZTp7cG9pbnRzOmV9fSkpO2ZvcihuPTA7bjwodC5pbnRlcmlvcnM/dC5pbnRlcmlvcnMubGVuZ3RoOjApOysrbil7Zm9yKHZhciBpPXQuaW50ZXJpb3JzW25dLHI9W10sbz0wO288aS5sZW5ndGg7KytvKXIucHVzaChzKGlbb10pKTtkLnNoYXBlLnBhdGhzLnB1c2gobmV3IGN1KHtzZWdtZW50SWdub3JlVGhyZXNob2xkOjEsc2hhcGU6e3BvaW50czpyfX0pKX19fSkpLE9JKHQsZCxjLHApLGQgaW5zdGFuY2VvZiBUbyYmKGQuY3VsbGluZz0hMCk7dmFyIGY9cyhyLmdldENlbnRlcigpKTtSSSh0LGQsbCxwLG8sYyxmKX0pKSxlLmVhY2goKGZ1bmN0aW9uKGUsaSl7dmFyIHI9bi5nZXQoaSksYT1yLmRhdGFJZHgscz1yLnJlZ2lvbk1vZGVsO05JKHQsZSxpLHMsbyxhKSx6SSh0LGUsaSxzLG8pLEVJKHQsZSxpLHMsbyl9KSx0aGlzKX0sdC5wcm90b3R5cGUuX2J1aWxkU1ZHPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2VvLm1hcCxuPXQudHJhbnNmb3JtSW5mb1Jhdzt0aGlzLl9zdmdHcm91cC54PW4ueCx0aGlzLl9zdmdHcm91cC55PW4ueSx0aGlzLl9zdmdHcm91cC5zY2FsZVg9bi5zY2FsZVgsdGhpcy5fc3ZnR3JvdXAuc2NhbGVZPW4uc2NhbGVZLHRoaXMuX3N2Z1Jlc291cmNlQ2hhbmdlZChlKSYmKHRoaXMuX2ZyZWVTVkcoKSx0aGlzLl91c2VTVkcoZSkpO3ZhciBpPXRoaXMuX3N2Z0Rpc3BhdGNoZXJNYXA9Y3QoKSxyPSExO08odGhpcy5fc3ZnR3JhcGhpY1JlY29yZC5uYW1lZCwoZnVuY3Rpb24oZSl7dmFyIG49ZS5uYW1lLG89dC5tYXBPckdlb01vZGVsLGE9dC5kYXRhLHM9ZS5zdmdOb2RlVGFnTG93ZXIsbD1lLmVsLHU9YT9hLmluZGV4T2ZOYW1lKG4pOm51bGwsaD1vLmdldFJlZ2lvbk1vZGVsKG4pOyhudWxsIT1DSS5nZXQocykmJmwgaW5zdGFuY2VvZiBUbyYmT0kodCxsLHUsaCksbCBpbnN0YW5jZW9mIFRvJiYobC5jdWxsaW5nPSEwKSxsLnoyRW1waGFzaXNMaWZ0PTAsZS5uYW1lZEZyb20pfHwobnVsbCE9QUkuZ2V0KHMpJiZSSSh0LGwsbixoLG8sdSxudWxsKSxOSSh0LGwsbixoLG8sdSksekkodCxsLG4saCxvKSxudWxsIT1ESS5nZXQocykmJigic2VsZiI9PT1FSSh0LGwsbixoLG8pJiYocj0hMCksKGkuZ2V0KG4pfHxpLnNldChuLFtdKSkucHVzaChsKSkpfSksdGhpcyksdGhpcy5fZW5hYmxlQmx1ckVudGlyZVNWRyhyLHQpfSx0LnByb3RvdHlwZS5fZW5hYmxlQmx1ckVudGlyZVNWRz1mdW5jdGlvbih0LGUpe2lmKHQmJmUuaXNHZW8pe3ZhciBuPWUubWFwT3JHZW9Nb2RlbC5nZXRNb2RlbChbImJsdXIiLCJpdGVtU3R5bGUiXSkuZ2V0SXRlbVN0eWxlKCkub3BhY2l0eTt0aGlzLl9zdmdHcmFwaGljUmVjb3JkLnJvb3QudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe2lmKCF0LmlzR3JvdXApe0tzKHQpO3ZhciBlPXQuZW5zdXJlU3RhdGUoImJsdXIiKS5zdHlsZXx8e307bnVsbD09ZS5vcGFjaXR5JiZudWxsIT1uJiYoZS5vcGFjaXR5PW4pLHQuZW5zdXJlU3RhdGUoImVtcGhhc2lzIil9fSkpfX0sdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fcmVnaW9uc0dyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX3JlZ2lvbnNHcm91cEJ5TmFtZT1udWxsLHRoaXMuX3N2Z0dyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2ZyZWVTVkcoKSx0aGlzLl9jb250cm9sbGVyLmRpc3Bvc2UoKSx0aGlzLl9jb250cm9sbGVySG9zdD1udWxsfSx0LnByb3RvdHlwZS5maW5kSGlnaERvd25EaXNwYXRjaGVycz1mdW5jdGlvbih0LGUpe2lmKG51bGw9PXQpcmV0dXJuW107dmFyIG49ZS5jb29yZGluYXRlU3lzdGVtO2lmKCJnZW9KU09OIj09PW4ucmVzb3VyY2VUeXBlKXt2YXIgaT10aGlzLl9yZWdpb25zR3JvdXBCeU5hbWU7aWYoaSl7dmFyIHI9aS5nZXQodCk7cmV0dXJuIHI/W3JdOltdfX1lbHNlIGlmKCJnZW9TVkciPT09bi5yZXNvdXJjZVR5cGUpcmV0dXJuIHRoaXMuX3N2Z0Rpc3BhdGNoZXJNYXAmJnRoaXMuX3N2Z0Rpc3BhdGNoZXJNYXAuZ2V0KHQpfHxbXX0sdC5wcm90b3R5cGUuX3N2Z1Jlc291cmNlQ2hhbmdlZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc3ZnTWFwTmFtZSE9PXR9LHQucHJvdG90eXBlLl91c2VTVkc9ZnVuY3Rpb24odCl7dmFyIGU9eHYodCk7aWYoZSYmImdlb1NWRyI9PT1lLnR5cGUpe3ZhciBuPWUudXNlR3JhcGhpYyh0aGlzLnVpZCk7dGhpcy5fc3ZnR3JvdXAuYWRkKG4ucm9vdCksdGhpcy5fc3ZnR3JhcGhpY1JlY29yZD1uLHRoaXMuX3N2Z01hcE5hbWU9dH19LHQucHJvdG90eXBlLl9mcmVlU1ZHPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc3ZnTWFwTmFtZTtpZihudWxsIT10KXt2YXIgZT14dih0KTtlJiYiZ2VvU1ZHIj09PWUudHlwZSYmZS5mcmVlR3JhcGhpYyh0aGlzLnVpZCksdGhpcy5fc3ZnR3JhcGhpY1JlY29yZD1udWxsLHRoaXMuX3N2Z0Rpc3BhdGNoZXJNYXA9bnVsbCx0aGlzLl9zdmdHcm91cC5yZW1vdmVBbGwoKSx0aGlzLl9zdmdNYXBOYW1lPW51bGx9fSx0LnByb3RvdHlwZS5fdXBkYXRlQ29udHJvbGxlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5jb29yZGluYXRlU3lzdGVtLHI9dGhpcy5fY29udHJvbGxlcixvPXRoaXMuX2NvbnRyb2xsZXJIb3N0O28uem9vbUxpbWl0PXQuZ2V0KCJzY2FsZUxpbWl0Iiksby56b29tPWkuZ2V0Wm9vbSgpLHIuZW5hYmxlKHQuZ2V0KCJyb2FtIil8fCExKTt2YXIgYT10Lm1haW5UeXBlO2Z1bmN0aW9uIHMoKXt2YXIgZT17dHlwZToiZ2VvUm9hbSIsY29tcG9uZW50VHlwZTphfTtyZXR1cm4gZVthKyJJZCJdPXQuaWQsZX1yLm9mZigicGFuIikub24oInBhbiIsKGZ1bmN0aW9uKHQpe3RoaXMuX21vdXNlRG93bkZsYWc9ITEsd0kobyx0LmR4LHQuZHkpLG4uZGlzcGF0Y2hBY3Rpb24oVChzKCkse2R4OnQuZHgsZHk6dC5keX0pKX0pLHRoaXMpLHIub2ZmKCJ6b29tIikub24oInpvb20iLChmdW5jdGlvbih0KXt0aGlzLl9tb3VzZURvd25GbGFnPSExLFNJKG8sdC5zY2FsZSx0Lm9yaWdpblgsdC5vcmlnaW5ZKSxuLmRpc3BhdGNoQWN0aW9uKFQocygpLHt6b29tOnQuc2NhbGUsb3JpZ2luWDp0Lm9yaWdpblgsb3JpZ2luWTp0Lm9yaWdpbll9KSl9KSx0aGlzKSxyLnNldFBvaW50ZXJDaGVja2VyKChmdW5jdGlvbihlLHIsbyl7cmV0dXJuIGkuY29udGFpblBvaW50KFtyLG9dKSYmIUlJKGUsbix0KX0pKX0sdC5wcm90b3R5cGUucmVzZXRGb3JMYWJlbExheW91dD1mdW5jdGlvbigpe3RoaXMuZ3JvdXAudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0VGV4dENvbnRlbnQoKTtlJiYoZS5pZ25vcmU9a0koZSkuaWdub3JlKX0pKX0sdC5wcm90b3R5cGUuX3VwZGF0ZU1hcFNlbGVjdEhhbmRsZXI9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcztlLm9mZigibW91c2Vkb3duIiksZS5vZmYoImNsaWNrIiksdC5nZXQoInNlbGVjdGVkTW9kZSIpJiYoZS5vbigibW91c2Vkb3duIiwoZnVuY3Rpb24oKXtyLl9tb3VzZURvd25GbGFnPSEwfSkpLGUub24oImNsaWNrIiwoZnVuY3Rpb24odCl7ci5fbW91c2VEb3duRmxhZyYmKHIuX21vdXNlRG93bkZsYWc9ITEpfSkpKX0sdH0oKTtmdW5jdGlvbiBPSSh0LGUsbixpKXt2YXIgcj1pLmdldE1vZGVsKCJpdGVtU3R5bGUiKSxvPWkuZ2V0TW9kZWwoWyJlbXBoYXNpcyIsIml0ZW1TdHlsZSJdKSxhPWkuZ2V0TW9kZWwoWyJibHVyIiwiaXRlbVN0eWxlIl0pLHM9aS5nZXRNb2RlbChbInNlbGVjdCIsIml0ZW1TdHlsZSJdKSxsPUxJKHIpLHU9TEkobyksaD1MSShzKSxjPUxJKGEpLHA9dC5kYXRhO2lmKHApe3ZhciBkPXAuZ2V0SXRlbVZpc3VhbChuLCJzdHlsZSIpLGY9cC5nZXRJdGVtVmlzdWFsKG4sImRlY2FsIik7dC5pc1Zpc3VhbEVuY29kZWRCeVZpc3VhbE1hcCYmZC5maWxsJiYobC5maWxsPWQuZmlsbCksZiYmKGwuZGVjYWw9Q3koZix0LmFwaSkpfWUuc2V0U3R5bGUobCksZS5zdHlsZS5zdHJva2VOb1NjYWxlPSEwLGUuZW5zdXJlU3RhdGUoImVtcGhhc2lzIikuc3R5bGU9dSxlLmVuc3VyZVN0YXRlKCJzZWxlY3QiKS5zdHlsZT1oLGUuZW5zdXJlU3RhdGUoImJsdXIiKS5zdHlsZT1jLEtzKGUpfWZ1bmN0aW9uIFJJKHQsZSxuLGkscixvLGEpe3ZhciBzPXQuZGF0YSxsPXQuaXNHZW8sdT1zJiZpc05hTihzLmdldChzLm1hcERpbWVuc2lvbigidmFsdWUiKSxvKSksaD1zJiZzLmdldEl0ZW1MYXlvdXQobyk7aWYobHx8dXx8aCYmaC5zaG93TGFiZWwpe3ZhciBjPWw/bjpvLHA9dm9pZCAwOyghc3x8bz49MCkmJihwPXIpO3ZhciBkPWE/e25vcm1hbDp7YWxpZ246ImNlbnRlciIsdmVydGljYWxBbGlnbjoibWlkZGxlIn19Om51bGw7eGgoZSxiaChpKSx7bGFiZWxGZXRjaGVyOnAsbGFiZWxEYXRhSW5kZXg6YyxkZWZhdWx0VGV4dDpufSxkKTt2YXIgZj1lLmdldFRleHRDb250ZW50KCk7aWYoZiYmKGtJKGYpLmlnbm9yZT1mLmlnbm9yZSxlLnRleHRDb25maWcmJmEpKXt2YXIgZz1lLmdldEJvdW5kaW5nUmVjdCgpLmNsb25lKCk7ZS50ZXh0Q29uZmlnLmxheW91dFJlY3Q9ZyxlLnRleHRDb25maWcucG9zaXRpb249WyhhWzBdLWcueCkvZy53aWR0aCoxMDArIiUiLChhWzFdLWcueSkvZy5oZWlnaHQqMTAwKyIlIl19ZS5kaXNhYmxlTGFiZWxBbmltYXRpb249ITB9ZWxzZSBlLnJlbW92ZVRleHRDb250ZW50KCksZS5yZW1vdmVUZXh0Q29uZmlnKCksZS5kaXNhYmxlTGFiZWxBbmltYXRpb249bnVsbH1mdW5jdGlvbiBOSSh0LGUsbixpLHIsbyl7dC5kYXRhP3QuZGF0YS5zZXRJdGVtR3JhcGhpY0VsKG8sZSk6U3MoZSkuZXZlbnREYXRhPXtjb21wb25lbnRUeXBlOiJnZW8iLGNvbXBvbmVudEluZGV4OnIuY29tcG9uZW50SW5kZXgsZ2VvSW5kZXg6ci5jb21wb25lbnRJbmRleCxuYW1lOm4scmVnaW9uOmkmJmkub3B0aW9ufHx7fX19ZnVuY3Rpb24gekkodCxlLG4saSxyKXt0LmRhdGF8fGdoKHtlbDplLGNvbXBvbmVudE1vZGVsOnIsaXRlbU5hbWU6bixpdGVtVG9vbHRpcE9wdGlvbjppLmdldCgidG9vbHRpcCIpfSl9ZnVuY3Rpb24gRUkodCxlLG4saSxyKXtlLmhpZ2hEb3duU2lsZW50T25Ub3VjaD0hIXIuZ2V0KCJzZWxlY3RlZE1vZGUiKTt2YXIgbz1pLmdldE1vZGVsKCJlbXBoYXNpcyIpLGE9by5nZXQoImZvY3VzIik7cmV0dXJuIHBsKGUsYSxvLmdldCgiYmx1clNjb3BlIikpLHQuaXNHZW8mJmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1Tcyh0KTtpLmNvbXBvbmVudE1haW5UeXBlPWUubWFpblR5cGUsaS5jb21wb25lbnRJbmRleD1lLmNvbXBvbmVudEluZGV4LGkuY29tcG9uZW50SGlnaERvd25OYW1lPW59KGUscixuKSxhfXZhciBWST1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7aWYoIWl8fCJtYXBUb2dnbGVTZWxlY3QiIT09aS50eXBlfHxpLmZyb20hPT10aGlzLnVpZCl7dmFyIHI9dGhpcy5ncm91cDtpZihyLnJlbW92ZUFsbCgpLCF0LmdldEhvc3RHZW9Nb2RlbCgpKXtpZih0aGlzLl9tYXBEcmF3JiZpJiYiZ2VvUm9hbSI9PT1pLnR5cGUmJnRoaXMuX21hcERyYXcucmVzZXRGb3JMYWJlbExheW91dCgpLGkmJiJnZW9Sb2FtIj09PWkudHlwZSYmInNlcmllcyI9PT1pLmNvbXBvbmVudFR5cGUmJmkuc2VyaWVzSWQ9PT10LmlkKShvPXRoaXMuX21hcERyYXcpJiZyLmFkZChvLmdyb3VwKTtlbHNlIGlmKHQubmVlZHNEcmF3TWFwKXt2YXIgbz10aGlzLl9tYXBEcmF3fHxuZXcgUEkobik7ci5hZGQoby5ncm91cCksby5kcmF3KHQsZSxuLHRoaXMsaSksdGhpcy5fbWFwRHJhdz1vfWVsc2UgdGhpcy5fbWFwRHJhdyYmdGhpcy5fbWFwRHJhdy5yZW1vdmUoKSx0aGlzLl9tYXBEcmF3PW51bGw7dC5nZXQoInNob3dMZWdlbmRTeW1ib2wiKSYmZS5nZXRDb21wb25lbnQoImxlZ2VuZCIpJiZ0aGlzLl9yZW5kZXJTeW1ib2xzKHQsZSxuKX19fSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl9tYXBEcmF3JiZ0aGlzLl9tYXBEcmF3LnJlbW92ZSgpLHRoaXMuX21hcERyYXc9bnVsbCx0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fbWFwRHJhdyYmdGhpcy5fbWFwRHJhdy5yZW1vdmUoKSx0aGlzLl9tYXBEcmF3PW51bGx9LGUucHJvdG90eXBlLl9yZW5kZXJTeW1ib2xzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10Lm9yaWdpbmFsRGF0YSxyPXRoaXMuZ3JvdXA7aS5lYWNoKGkubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLChmdW5jdGlvbihlLG4pe2lmKCFpc05hTihlKSl7dmFyIG89aS5nZXRJdGVtTGF5b3V0KG4pO2lmKG8mJm8ucG9pbnQpe3ZhciBhPW8ucG9pbnQscz1vLm9mZnNldCxsPW5ldyBIbCh7c3R5bGU6e2ZpbGw6dC5nZXREYXRhKCkuZ2V0VmlzdWFsKCJzdHlsZSIpLmZpbGx9LHNoYXBlOntjeDphWzBdKzkqcyxjeTphWzFdLHI6M30sc2lsZW50OiEwLHoyOjgrKHM/MDoxMSl9KTtpZighcyl7dmFyIHU9dC5tYWluU2VyaWVzLmdldERhdGEoKSxoPWkuZ2V0TmFtZShuKSxjPXUuaW5kZXhPZk5hbWUoaCkscD1pLmdldEl0ZW1Nb2RlbChuKSxkPXAuZ2V0TW9kZWwoImxhYmVsIiksZj11LmdldEl0ZW1HcmFwaGljRWwoYyk7eGgobCxiaChwKSx7bGFiZWxGZXRjaGVyOntnZXRGb3JtYXR0ZWRMYWJlbDpmdW5jdGlvbihlLG4pe3JldHVybiB0LmdldEZvcm1hdHRlZExhYmVsKGMsbil9fX0pLGwuZGlzYWJsZUxhYmVsQW5pbWF0aW9uPSEwLGQuZ2V0KCJwb3NpdGlvbiIpfHxsLnNldFRleHRDb25maWcoe3Bvc2l0aW9uOiJib3R0b20ifSksZi5vbkhvdmVyU3RhdGVDaGFuZ2U9ZnVuY3Rpb24odCl7anMobCx0KX19ci5hZGQobCl9fX0pKX0sZS50eXBlPSJtYXAiLGV9KFpmKSxCST1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4ubmVlZHNEcmF3TWFwPSExLG4uc2VyaWVzR3JvdXA9W10sbi5nZXRUb29sdGlwUG9zaXRpb249ZnVuY3Rpb24odCl7aWYobnVsbCE9dCl7dmFyIGU9dGhpcy5nZXREYXRhKCkuZ2V0TmFtZSh0KSxuPXRoaXMuY29vcmRpbmF0ZVN5c3RlbSxpPW4uZ2V0UmVnaW9uKGUpO3JldHVybiBpJiZuLmRhdGFUb1BvaW50KGkuZ2V0Q2VudGVyKCkpfX0sbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1RUyh0aGlzLHtjb29yZERpbWVuc2lvbnM6WyJ2YWx1ZSJdLGVuY29kZURlZmF1bHRlcjpHKHhwLHRoaXMpfSksbj1jdCgpLGk9W10scj0wLG89ZS5jb3VudCgpO3I8bztyKyspe3ZhciBhPWUuZ2V0TmFtZShyKTtuLnNldChhLCEwKX1yZXR1cm4gTyh3dih0aGlzLmdldE1hcFR5cGUoKSx0aGlzLm9wdGlvbi5uYW1lTWFwLHRoaXMub3B0aW9uLm5hbWVQcm9wZXJ0eSkucmVnaW9ucywoZnVuY3Rpb24odCl7dmFyIGU9dC5uYW1lO24uZ2V0KGUpfHxpLnB1c2goZSl9KSksZS5hcHBlbmRWYWx1ZXMoW10saSksZX0sZS5wcm90b3R5cGUuZ2V0SG9zdEdlb01vZGVsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb24uZ2VvSW5kZXg7cmV0dXJuIG51bGwhPXQ/dGhpcy5lY01vZGVsLmdldENvbXBvbmVudCgiZ2VvIix0KTpudWxsfSxlLnByb3RvdHlwZS5nZXRNYXBUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuZ2V0SG9zdEdlb01vZGVsKCl8fHRoaXMpLm9wdGlvbi5tYXB9LGUucHJvdG90eXBlLmdldFJhd1ZhbHVlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0RGF0YSgpO3JldHVybiBlLmdldChlLm1hcERpbWVuc2lvbigidmFsdWUiKSx0KX0sZS5wcm90b3R5cGUuZ2V0UmVnaW9uTW9kZWw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXREYXRhKCk7cmV0dXJuIGUuZ2V0SXRlbU1vZGVsKGUuaW5kZXhPZk5hbWUodCkpfSxlLnByb3RvdHlwZS5mb3JtYXRUb29sdGlwPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9dGhpcy5nZXREYXRhKCkscj10aGlzLmdldFJhd1ZhbHVlKHQpLG89aS5nZXROYW1lKHQpLGE9dGhpcy5zZXJpZXNHcm91cCxzPVtdLGw9MDtsPGEubGVuZ3RoO2wrKyl7dmFyIHU9YVtsXS5vcmlnaW5hbERhdGEuaW5kZXhPZk5hbWUobyksaD1pLm1hcERpbWVuc2lvbigidmFsdWUiKTtpc05hTihhW2xdLm9yaWdpbmFsRGF0YS5nZXQoaCx1KSl8fHMucHVzaChhW2xdLm5hbWUpfXJldHVybiB3Zigic2VjdGlvbiIse2hlYWRlcjpzLmpvaW4oIiwgIiksbm9IZWFkZXI6IXMubGVuZ3RoLGJsb2Nrczpbd2YoIm5hbWVWYWx1ZSIse25hbWU6byx2YWx1ZTpyfSldfSl9LGUucHJvdG90eXBlLnNldFpvb209ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uem9vbT10fSxlLnByb3RvdHlwZS5zZXRDZW50ZXI9ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uY2VudGVyPXR9LGUucHJvdG90eXBlLmdldExlZ2VuZEljb249ZnVuY3Rpb24odCl7dmFyIGU9dC5pY29ufHwicm91bmRSZWN0IixuPWV5KGUsMCwwLHQuaXRlbVdpZHRoLHQuaXRlbUhlaWdodCx0Lml0ZW1TdHlsZS5maWxsKTtyZXR1cm4gbi5zZXRTdHlsZSh0Lml0ZW1TdHlsZSksbi5zdHlsZS5zdHJva2U9Im5vbmUiLGUuaW5kZXhPZigiZW1wdHkiKT4tMSYmKG4uc3R5bGUuc3Ryb2tlPW4uc3R5bGUuZmlsbCxuLnN0eWxlLmZpbGw9IiNmZmYiLG4uc3R5bGUubGluZVdpZHRoPTIpLG59LGUudHlwZT0ic2VyaWVzLm1hcCIsZS5kZXBlbmRlbmNpZXM9WyJnZW8iXSxlLmxheW91dE1vZGU9ImJveCIsZS5kZWZhdWx0T3B0aW9uPXt6bGV2ZWw6MCx6OjIsY29vcmRpbmF0ZVN5c3RlbToiZ2VvIixtYXA6IiIsbGVmdDoiY2VudGVyIix0b3A6ImNlbnRlciIsYXNwZWN0U2NhbGU6bnVsbCxzaG93TGVnZW5kU3ltYm9sOiEwLGJvdW5kaW5nQ29vcmRzOm51bGwsY2VudGVyOm51bGwsem9vbToxLHNjYWxlTGltaXQ6bnVsbCxzZWxlY3RlZE1vZGU6ITAsbGFiZWw6e3Nob3c6ITEsY29sb3I6IiMwMDAifSxpdGVtU3R5bGU6e2JvcmRlcldpZHRoOi41LGJvcmRlckNvbG9yOiIjNDQ0IixhcmVhQ29sb3I6IiNlZWUifSxlbXBoYXNpczp7bGFiZWw6e3Nob3c6ITAsY29sb3I6InJnYigxMDAsMCwwKSJ9LGl0ZW1TdHlsZTp7YXJlYUNvbG9yOiJyZ2JhKDI1NSwyMTUsMCwwLjgpIn19LHNlbGVjdDp7bGFiZWw6e3Nob3c6ITAsY29sb3I6InJnYigxMDAsMCwwKSJ9LGl0ZW1TdHlsZTp7Y29sb3I6InJnYmEoMjU1LDIxNSwwLDAuOCkifX0sbmFtZVByb3BlcnR5OiJuYW1lIn0sZX0oTmYpO2Z1bmN0aW9uIEdJKHQpe3ZhciBlPXt9O3QuZWFjaFNlcmllc0J5VHlwZSgibWFwIiwoZnVuY3Rpb24odCl7dmFyIG49dC5nZXRIb3N0R2VvTW9kZWwoKSxpPW4/Im8iK24uaWQ6ImkiK3QuZ2V0TWFwVHlwZSgpOyhlW2ldPWVbaV18fFtdKS5wdXNoKHQpfSkpLE8oZSwoZnVuY3Rpb24odCxlKXtmb3IodmFyIG4saSxyLG89KG49Uih0LChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXREYXRhKCl9KSksaT10WzBdLmdldCgibWFwVmFsdWVDYWxjdWxhdGlvbiIpLHI9e30sTyhuLChmdW5jdGlvbih0KXt0LmVhY2godC5tYXBEaW1lbnNpb24oInZhbHVlIiksKGZ1bmN0aW9uKGUsbil7dmFyIGk9ImVjLSIrdC5nZXROYW1lKG4pO3JbaV09cltpXXx8W10saXNOYU4oZSl8fHJbaV0ucHVzaChlKX0pKX0pKSxuWzBdLm1hcChuWzBdLm1hcERpbWVuc2lvbigidmFsdWUiKSwoZnVuY3Rpb24odCxlKXtmb3IodmFyIG89ImVjLSIrblswXS5nZXROYW1lKGUpLGE9MCxzPTEvMCxsPS0xLzAsdT1yW29dLmxlbmd0aCxoPTA7aDx1O2grKylzPU1hdGgubWluKHMscltvXVtoXSksbD1NYXRoLm1heChsLHJbb11baF0pLGErPXJbb11baF07cmV0dXJuIDA9PT11P05hTjoibWluIj09PWk/czoibWF4Ij09PWk/bDoiYXZlcmFnZSI9PT1pP2EvdTphfSkpKSxhPTA7YTx0Lmxlbmd0aDthKyspdFthXS5vcmlnaW5hbERhdGE9dFthXS5nZXREYXRhKCk7Zm9yKGE9MDthPHQubGVuZ3RoO2ErKyl0W2FdLnNlcmllc0dyb3VwPXQsdFthXS5uZWVkc0RyYXdNYXA9MD09PWEmJiF0W2FdLmdldEhvc3RHZW9Nb2RlbCgpLHRbYV0uc2V0RGF0YShvLmNsb25lU2hhbGxvdygpKSx0W2FdLm1haW5TZXJpZXM9dFswXX0pKX1mdW5jdGlvbiBGSSh0KXt2YXIgZT17fTt0LmVhY2hTZXJpZXNCeVR5cGUoIm1hcCIsKGZ1bmN0aW9uKG4pe3ZhciBpPW4uZ2V0TWFwVHlwZSgpO2lmKCFuLmdldEhvc3RHZW9Nb2RlbCgpJiYhZVtpXSl7dmFyIHI9e307TyhuLnNlcmllc0dyb3VwLChmdW5jdGlvbihlKXt2YXIgbj1lLmNvb3JkaW5hdGVTeXN0ZW0saT1lLm9yaWdpbmFsRGF0YTtlLmdldCgic2hvd0xlZ2VuZFN5bWJvbCIpJiZ0LmdldENvbXBvbmVudCgibGVnZW5kIikmJmkuZWFjaChpLm1hcERpbWVuc2lvbigidmFsdWUiKSwoZnVuY3Rpb24odCxlKXt2YXIgbz1pLmdldE5hbWUoZSksYT1uLmdldFJlZ2lvbihvKTtpZihhJiYhaXNOYU4odCkpe3ZhciBzPXJbb118fDAsbD1uLmRhdGFUb1BvaW50KGEuZ2V0Q2VudGVyKCkpO3Jbb109cysxLGkuc2V0SXRlbUxheW91dChlLHtwb2ludDpsLG9mZnNldDpzfSl9fSkpfSkpO3ZhciBvPW4uZ2V0RGF0YSgpO28uZWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9by5nZXROYW1lKHQpLG49by5nZXRJdGVtTGF5b3V0KHQpfHx7fTtuLnNob3dMYWJlbD0hcltlXSxvLnNldEl0ZW1MYXlvdXQodCxuKX0pKSxlW2ldPSEwfX0pKX12YXIgSEk9TnQsV0k9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4udHlwZT0idmlldyIsbi5kaW1lbnNpb25zPVsieCIsInkiXSxuLl9yb2FtVHJhbnNmb3JtYWJsZT1uZXcgYWksbi5fcmF3VHJhbnNmb3JtYWJsZT1uZXcgYWksbi5uYW1lPWUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnNldEJvdW5kaW5nUmVjdD1mdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gdGhpcy5fcmVjdD1uZXcgdmkodCxlLG4saSksdGhpcy5fcmVjdH0sZS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdSZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlY3R9LGUucHJvdG90eXBlLnNldFZpZXdSZWN0PWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMuX3RyYW5zZm9ybVRvKHQsZSxuLGkpLHRoaXMuX3ZpZXdSZWN0PW5ldyB2aSh0LGUsbixpKX0sZS5wcm90b3R5cGUuX3RyYW5zZm9ybVRvPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCksbz10aGlzLl9yYXdUcmFuc2Zvcm1hYmxlO28udHJhbnNmb3JtPXIuY2FsY3VsYXRlVHJhbnNmb3JtKG5ldyB2aSh0LGUsbixpKSk7dmFyIGE9by5wYXJlbnQ7by5wYXJlbnQ9bnVsbCxvLmRlY29tcG9zZVRyYW5zZm9ybSgpLG8ucGFyZW50PWEsdGhpcy5fdXBkYXRlVHJhbnNmb3JtKCl9LGUucHJvdG90eXBlLnNldENlbnRlcj1mdW5jdGlvbih0KXt0JiYodGhpcy5fY2VudGVyPXQsdGhpcy5fdXBkYXRlQ2VudGVyQW5kWm9vbSgpKX0sZS5wcm90b3R5cGUuc2V0Wm9vbT1mdW5jdGlvbih0KXt0PXR8fDE7dmFyIGU9dGhpcy56b29tTGltaXQ7ZSYmKG51bGwhPWUubWF4JiYodD1NYXRoLm1pbihlLm1heCx0KSksbnVsbCE9ZS5taW4mJih0PU1hdGgubWF4KGUubWluLHQpKSksdGhpcy5fem9vbT10LHRoaXMuX3VwZGF0ZUNlbnRlckFuZFpvb20oKX0sZS5wcm90b3R5cGUuZ2V0RGVmYXVsdENlbnRlcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCk7cmV0dXJuW3QueCt0LndpZHRoLzIsdC55K3QuaGVpZ2h0LzJdfSxlLnByb3RvdHlwZS5nZXRDZW50ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2VudGVyfHx0aGlzLmdldERlZmF1bHRDZW50ZXIoKX0sZS5wcm90b3R5cGUuZ2V0Wm9vbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl96b29tfHwxfSxlLnByb3RvdHlwZS5nZXRSb2FtVHJhbnNmb3JtPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JvYW1UcmFuc2Zvcm1hYmxlLmdldExvY2FsVHJhbnNmb3JtKCl9LGUucHJvdG90eXBlLl91cGRhdGVDZW50ZXJBbmRab29tPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcmF3VHJhbnNmb3JtYWJsZS5nZXRMb2NhbFRyYW5zZm9ybSgpLGU9dGhpcy5fcm9hbVRyYW5zZm9ybWFibGUsbj10aGlzLmdldERlZmF1bHRDZW50ZXIoKSxpPXRoaXMuZ2V0Q2VudGVyKCkscj10aGlzLmdldFpvb20oKTtpPU50KFtdLGksdCksbj1OdChbXSxuLHQpLGUub3JpZ2luWD1pWzBdLGUub3JpZ2luWT1pWzFdLGUueD1uWzBdLWlbMF0sZS55PW5bMV0taVsxXSxlLnNjYWxlWD1lLnNjYWxlWT1yLHRoaXMuX3VwZGF0ZVRyYW5zZm9ybSgpfSxlLnByb3RvdHlwZS5fdXBkYXRlVHJhbnNmb3JtPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcm9hbVRyYW5zZm9ybWFibGUsZT10aGlzLl9yYXdUcmFuc2Zvcm1hYmxlO2UucGFyZW50PXQsdC51cGRhdGVUcmFuc2Zvcm0oKSxlLnVwZGF0ZVRyYW5zZm9ybSgpLFduKHRoaXMudHJhbnNmb3JtfHwodGhpcy50cmFuc2Zvcm09W10pLGUudHJhbnNmb3JtfHxbMSwwLDAsMSwwLDBdKSx0aGlzLl9yYXdUcmFuc2Zvcm09ZS5nZXRMb2NhbFRyYW5zZm9ybSgpLHRoaXMuaW52VHJhbnNmb3JtPXRoaXMuaW52VHJhbnNmb3JtfHxbXSxqbih0aGlzLmludlRyYW5zZm9ybSx0aGlzLnRyYW5zZm9ybSksdGhpcy5kZWNvbXBvc2VUcmFuc2Zvcm0oKX0sZS5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtSW5mbz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3Jhd1RyYW5zZm9ybWFibGUsZT10aGlzLl9yb2FtVHJhbnNmb3JtYWJsZSxuPW5ldyBhaTtyZXR1cm4gbi50cmFuc2Zvcm09ZS50cmFuc2Zvcm0sbi5kZWNvbXBvc2VUcmFuc2Zvcm0oKSx7cm9hbTp7eDpuLngseTpuLnksc2NhbGVYOm4uc2NhbGVYLHNjYWxlWTpuLnNjYWxlWX0scmF3Ont4OnQueCx5OnQueSxzY2FsZVg6dC5zY2FsZVgsc2NhbGVZOnQuc2NhbGVZfX19LGUucHJvdG90eXBlLmdldFZpZXdSZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZpZXdSZWN0fSxlLnByb3RvdHlwZS5nZXRWaWV3UmVjdEFmdGVyUm9hbT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCkuY2xvbmUoKTtyZXR1cm4gdC5hcHBseVRyYW5zZm9ybSh0aGlzLnRyYW5zZm9ybSksdH0sZS5wcm90b3R5cGUuZGF0YVRvUG9pbnQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPWU/dGhpcy5fcmF3VHJhbnNmb3JtOnRoaXMudHJhbnNmb3JtO3JldHVybiBuPW58fFtdLGk/SEkobix0LGkpOm10KG4sdCl9LGUucHJvdG90eXBlLnBvaW50VG9EYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuaW52VHJhbnNmb3JtO3JldHVybiBlP0hJKFtdLHQsZSk6W3RbMF0sdFsxXV19LGUucHJvdG90eXBlLmNvbnZlcnRUb1BpeGVsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1VSShlKTtyZXR1cm4gaT09PXRoaXM/aS5kYXRhVG9Qb2ludChuKTpudWxsfSxlLnByb3RvdHlwZS5jb252ZXJ0RnJvbVBpeGVsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1VSShlKTtyZXR1cm4gaT09PXRoaXM/aS5wb2ludFRvRGF0YShuKTpudWxsfSxlLnByb3RvdHlwZS5jb250YWluUG9pbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0Vmlld1JlY3RBZnRlclJvYW0oKS5jb250YWluKHRbMF0sdFsxXSl9LGUuZGltZW5zaW9ucz1bIngiLCJ5Il0sZX0oYWkpO2Z1bmN0aW9uIFVJKHQpe3ZhciBlPXQuc2VyaWVzTW9kZWw7cmV0dXJuIGU/ZS5jb29yZGluYXRlU3lzdGVtOm51bGx9dmFyIFhJPXtnZW9KU09OOnthc3BlY3RTY2FsZTouNzUsaW52ZXJ0TG9uZ2l0dXRlOiEwfSxnZW9TVkc6e2FzcGVjdFNjYWxlOjEsaW52ZXJ0TG9uZ2l0dXRlOiExfX0sWUk9WyJsbmciLCJsYXQiXSxaST1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpKXt2YXIgcj10LmNhbGwodGhpcyxlKXx8dGhpcztyLmRpbWVuc2lvbnM9WUksci50eXBlPSJnZW8iLHIuX25hbWVDb29yZE1hcD1jdCgpLHIubWFwPW47dmFyIG89d3YobixpLm5hbWVNYXAsaS5uYW1lUHJvcGVydHkpLGE9eHYobik7ci5yZXNvdXJjZVR5cGU9YT9hLnR5cGU6bnVsbDt2YXIgcz1YSVthLnR5cGVdO3IuX3JlZ2lvbnNNYXA9by5yZWdpb25zTWFwLHIuX2ludmVydExvbmdpdHV0ZT1zLmludmVydExvbmdpdHV0ZSxyLnJlZ2lvbnM9by5yZWdpb25zLHIuYXNwZWN0U2NhbGU9ZXQoaS5hc3BlY3RTY2FsZSxzLmFzcGVjdFNjYWxlKTt2YXIgbD1vLmJvdW5kaW5nUmVjdDtyZXR1cm4gci5zZXRCb3VuZGluZ1JlY3QobC54LGwueSxsLndpZHRoLGwuaGVpZ2h0KSxyfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuX3RyYW5zZm9ybVRvPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXRoaXMuZ2V0Qm91bmRpbmdSZWN0KCksbz10aGlzLl9pbnZlcnRMb25naXR1dGU7cj1yLmNsb25lKCksbyYmKHIueT0tci55LXIuaGVpZ2h0KTt2YXIgYT10aGlzLl9yYXdUcmFuc2Zvcm1hYmxlO2EudHJhbnNmb3JtPXIuY2FsY3VsYXRlVHJhbnNmb3JtKG5ldyB2aSh0LGUsbixpKSk7dmFyIHM9YS5wYXJlbnQ7YS5wYXJlbnQ9bnVsbCxhLmRlY29tcG9zZVRyYW5zZm9ybSgpLGEucGFyZW50PXMsbyYmKGEuc2NhbGVZPS1hLnNjYWxlWSksdGhpcy5fdXBkYXRlVHJhbnNmb3JtKCl9LGUucHJvdG90eXBlLmdldFJlZ2lvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmVnaW9uc01hcC5nZXQodCl9LGUucHJvdG90eXBlLmdldFJlZ2lvbkJ5Q29vcmQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMucmVnaW9ucyxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPWVbbl07aWYoImdlb0pTT04iPT09aS50eXBlJiZpLmNvbnRhaW4odCkpcmV0dXJuIGVbbl19fSxlLnByb3RvdHlwZS5hZGRHZW9Db29yZD1mdW5jdGlvbih0LGUpe3RoaXMuX25hbWVDb29yZE1hcC5zZXQodCxlKX0sZS5wcm90b3R5cGUuZ2V0R2VvQ29vcmQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcmVnaW9uc01hcC5nZXQodCk7cmV0dXJuIHRoaXMuX25hbWVDb29yZE1hcC5nZXQodCl8fGUmJmUuZ2V0Q2VudGVyKCl9LGUucHJvdG90eXBlLmRhdGFUb1BvaW50PWZ1bmN0aW9uKHQsZSxuKXtpZigic3RyaW5nIj09dHlwZW9mIHQmJih0PXRoaXMuZ2V0R2VvQ29vcmQodCkpLHQpcmV0dXJuIFdJLnByb3RvdHlwZS5kYXRhVG9Qb2ludC5jYWxsKHRoaXMsdCxlLG4pfSxlLnByb3RvdHlwZS5jb252ZXJ0VG9QaXhlbD1mdW5jdGlvbih0LGUsbil7dmFyIGk9akkoZSk7cmV0dXJuIGk9PT10aGlzP2kuZGF0YVRvUG9pbnQobik6bnVsbH0sZS5wcm90b3R5cGUuY29udmVydEZyb21QaXhlbD1mdW5jdGlvbih0LGUsbil7dmFyIGk9akkoZSk7cmV0dXJuIGk9PT10aGlzP2kucG9pbnRUb0RhdGEobik6bnVsbH0sZX0oV0kpO2Z1bmN0aW9uIGpJKHQpe3ZhciBlPXQuZ2VvTW9kZWwsbj10LnNlcmllc01vZGVsO3JldHVybiBlP2UuY29vcmRpbmF0ZVN5c3RlbTpuP24uY29vcmRpbmF0ZVN5c3RlbXx8KG4uZ2V0UmVmZXJyaW5nQ29tcG9uZW50cygiZ2VvIixWcikubW9kZWxzWzBdfHx7fSkuY29vcmRpbmF0ZVN5c3RlbTpudWxsfWZ1bmN0aW9uIHFJKHQsZSl7dmFyIG49dC5nZXQoImJvdW5kaW5nQ29vcmRzIik7aWYobnVsbCE9bil7dmFyIGk9blswXSxyPW5bMV07aXNOYU4oaVswXSl8fGlzTmFOKGlbMV0pfHxpc05hTihyWzBdKXx8aXNOYU4oclsxXSl8fHRoaXMuc2V0Qm91bmRpbmdSZWN0KGlbMF0saVsxXSxyWzBdLWlbMF0sclsxXS1pWzFdKX12YXIgbyxhLHMsbD10aGlzLmdldEJvdW5kaW5nUmVjdCgpLHU9dC5nZXQoImxheW91dENlbnRlciIpLGg9dC5nZXQoImxheW91dFNpemUiKSxjPWUuZ2V0V2lkdGgoKSxwPWUuZ2V0SGVpZ2h0KCksZD1sLndpZHRoL2wuaGVpZ2h0KnRoaXMuYXNwZWN0U2NhbGUsZj0hMTtpZih1JiZoJiYobz1bcWkodVswXSxjKSxxaSh1WzFdLHApXSxhPXFpKGgsTWF0aC5taW4oYyxwKSksaXNOYU4ob1swXSl8fGlzTmFOKG9bMV0pfHxpc05hTihhKXx8KGY9ITApKSxmKXM9e30sZD4xPyhzLndpZHRoPWEscy5oZWlnaHQ9YS9kKToocy5oZWlnaHQ9YSxzLndpZHRoPWEqZCkscy55PW9bMV0tcy5oZWlnaHQvMixzLng9b1swXS1zLndpZHRoLzI7ZWxzZXt2YXIgZz10LmdldEJveExheW91dFBhcmFtcygpO2cuYXNwZWN0PWQscz1xYyhnLHt3aWR0aDpjLGhlaWdodDpwfSl9dGhpcy5zZXRWaWV3UmVjdChzLngscy55LHMud2lkdGgscy5oZWlnaHQpLHRoaXMuc2V0Q2VudGVyKHQuZ2V0KCJjZW50ZXIiKSksdGhpcy5zZXRab29tKHQuZ2V0KCJ6b29tIikpfUwoWkksV0kpO3ZhciBLST1uZXcoZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5kaW1lbnNpb25zPVlJfXJldHVybiB0LnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTt0LmVhY2hDb21wb25lbnQoImdlbyIsKGZ1bmN0aW9uKHQsaSl7dmFyIHI9dC5nZXQoIm1hcCIpLG89bmV3IFpJKHIraSxyLHtuYW1lTWFwOnQuZ2V0KCJuYW1lTWFwIiksbmFtZVByb3BlcnR5OnQuZ2V0KCJuYW1lUHJvcGVydHkiKSxhc3BlY3RTY2FsZTp0LmdldCgiYXNwZWN0U2NhbGUiKX0pO28uem9vbUxpbWl0PXQuZ2V0KCJzY2FsZUxpbWl0Iiksbi5wdXNoKG8pLHQuY29vcmRpbmF0ZVN5c3RlbT1vLG8ubW9kZWw9dCxvLnJlc2l6ZT1xSSxvLnJlc2l6ZSh0LGUpfSkpLHQuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7aWYoImdlbyI9PT10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpKXt2YXIgZT10LmdldCgiZ2VvSW5kZXgiKXx8MDt0LmNvb3JkaW5hdGVTeXN0ZW09bltlXX19KSk7dmFyIGk9e307cmV0dXJuIHQuZWFjaFNlcmllc0J5VHlwZSgibWFwIiwoZnVuY3Rpb24odCl7aWYoIXQuZ2V0SG9zdEdlb01vZGVsKCkpe3ZhciBlPXQuZ2V0TWFwVHlwZSgpO2lbZV09aVtlXXx8W10saVtlXS5wdXNoKHQpfX0pKSxPKGksKGZ1bmN0aW9uKHQsaSl7dmFyIHI9Uih0LChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXQoIm5hbWVNYXAiKX0pKSxvPW5ldyBaSShpLGkse25hbWVNYXA6SShyKSxuYW1lUHJvcGVydHk6dFswXS5nZXQoIm5hbWVQcm9wZXJ0eSIpLGFzcGVjdFNjYWxlOnRbMF0uZ2V0KCJhc3BlY3RTY2FsZSIpfSk7by56b29tTGltaXQ9dHQuYXBwbHkobnVsbCxSKHQsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldCgic2NhbGVMaW1pdCIpfSkpKSxuLnB1c2gobyksby5yZXNpemU9cUksby5yZXNpemUodFswXSxlKSxPKHQsKGZ1bmN0aW9uKHQpe3QuY29vcmRpbmF0ZVN5c3RlbT1vLGZ1bmN0aW9uKHQsZSl7TyhlLmdldCgiZ2VvQ29vcmQiKSwoZnVuY3Rpb24oZSxuKXt0LmFkZEdlb0Nvb3JkKG4sZSl9KSl9KG8sdCl9KSl9KSksbn0sdC5wcm90b3R5cGUuZ2V0RmlsbGVkUmVnaW9ucz1mdW5jdGlvbih0LGUsbixpKXtmb3IodmFyIHI9KHR8fFtdKS5zbGljZSgpLG89Y3QoKSxhPTA7YTxyLmxlbmd0aDthKyspby5zZXQoclthXS5uYW1lLHJbYV0pO3JldHVybiBPKHd2KGUsbixpKS5yZWdpb25zLChmdW5jdGlvbih0KXt2YXIgZT10Lm5hbWU7IW8uZ2V0KGUpJiZyLnB1c2goe25hbWU6ZX0pfSkpLHJ9LHR9KCkpLCRJPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXh2KHQubWFwKTtpZihpJiYiZ2VvSlNPTiI9PT1pLnR5cGUpe3ZhciByPXQuaXRlbVN0eWxlPXQuaXRlbVN0eWxlfHx7fTsiY29sb3IiaW4gcnx8KHIuY29sb3I9IiNlZWUiKX10aGlzLm1lcmdlRGVmYXVsdEFuZFRoZW1lKHQsbiksU3IodCwibGFiZWwiLFsic2hvdyJdKX0sZS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLm9wdGlvbjtlLnJlZ2lvbnM9S0kuZ2V0RmlsbGVkUmVnaW9ucyhlLnJlZ2lvbnMsZS5tYXAsZS5uYW1lTWFwLGUubmFtZVByb3BlcnR5KTt2YXIgbj17fTt0aGlzLl9vcHRpb25Nb2RlbE1hcD1OKGUucmVnaW9uc3x8W10sKGZ1bmN0aW9uKGUsaSl7dmFyIHI9aS5uYW1lO3JldHVybiByJiYoZS5zZXQocixuZXcgV2goaSx0LHQuZWNNb2RlbCkpLGkuc2VsZWN0ZWQmJihuW3JdPSEwKSksZX0pLGN0KCkpLGUuc2VsZWN0ZWRNYXB8fChlLnNlbGVjdGVkTWFwPW4pfSxlLnByb3RvdHlwZS5nZXRSZWdpb25Nb2RlbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fb3B0aW9uTW9kZWxNYXAuZ2V0KHQpfHxuZXcgV2gobnVsbCx0aGlzLHRoaXMuZWNNb2RlbCl9LGUucHJvdG90eXBlLmdldEZvcm1hdHRlZExhYmVsPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXRSZWdpb25Nb2RlbCh0KSxpPSJub3JtYWwiPT09ZT9uLmdldChbImxhYmVsIiwiZm9ybWF0dGVyIl0pOm4uZ2V0KFsiZW1waGFzaXMiLCJsYWJlbCIsImZvcm1hdHRlciJdKSxyPXtuYW1lOnR9O3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBpPyhyLnN0YXR1cz1lLGkocikpOiJzdHJpbmciPT10eXBlb2YgaT9pLnJlcGxhY2UoInthfSIsbnVsbCE9dD90OiIiKTp2b2lkIDB9LGUucHJvdG90eXBlLnNldFpvb209ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uem9vbT10fSxlLnByb3RvdHlwZS5zZXRDZW50ZXI9ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uY2VudGVyPXR9LGUucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbixuPWUuc2VsZWN0ZWRNb2RlO24mJigibXVsdGlwbGUiIT09biYmKGUuc2VsZWN0ZWRNYXA9bnVsbCksKGUuc2VsZWN0ZWRNYXB8fChlLnNlbGVjdGVkTWFwPXt9KSlbdF09ITApfSxlLnByb3RvdHlwZS51blNlbGVjdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbi5zZWxlY3RlZE1hcDtlJiYoZVt0XT0hMSl9LGUucHJvdG90eXBlLnRvZ2dsZVNlbGVjdGVkPWZ1bmN0aW9uKHQpe3RoaXNbdGhpcy5pc1NlbGVjdGVkKHQpPyJ1blNlbGVjdCI6InNlbGVjdCJdKHQpfSxlLnByb3RvdHlwZS5pc1NlbGVjdGVkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLnNlbGVjdGVkTWFwO3JldHVybiEoIWV8fCFlW3RdKX0sZS50eXBlPSJnZW8iLGUubGF5b3V0TW9kZT0iYm94IixlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6MCxzaG93OiEwLGxlZnQ6ImNlbnRlciIsdG9wOiJjZW50ZXIiLGFzcGVjdFNjYWxlOm51bGwsc2lsZW50OiExLG1hcDoiIixib3VuZGluZ0Nvb3JkczpudWxsLGNlbnRlcjpudWxsLHpvb206MSxzY2FsZUxpbWl0Om51bGwsbGFiZWw6e3Nob3c6ITEsY29sb3I6IiMwMDAifSxpdGVtU3R5bGU6e2JvcmRlcldpZHRoOi41LGJvcmRlckNvbG9yOiIjNDQ0In0sZW1waGFzaXM6e2xhYmVsOntzaG93OiEwLGNvbG9yOiJyZ2IoMTAwLDAsMCkifSxpdGVtU3R5bGU6e2NvbG9yOiJyZ2JhKDI1NSwyMTUsMCwwLjgpIn19LHNlbGVjdDp7bGFiZWw6e3Nob3c6ITAsY29sb3I6InJnYigxMDAsMCwwKSJ9LGl0ZW1TdHlsZTp7Y29sb3I6InJnYmEoMjU1LDIxNSwwLDAuOCkifX0scmVnaW9uczpbXX0sZX0obnApO2Z1bmN0aW9uIEpJKHQsZSxuKXt2YXIgaT10LmdldFpvb20oKSxyPXQuZ2V0Q2VudGVyKCksbz1lLnpvb20sYT10LmRhdGFUb1BvaW50KHIpO2lmKG51bGwhPWUuZHgmJm51bGwhPWUuZHkmJihhWzBdLT1lLmR4LGFbMV0tPWUuZHksdC5zZXRDZW50ZXIodC5wb2ludFRvRGF0YShhKSkpLG51bGwhPW8pe2lmKG4pe3ZhciBzPW4ubWlufHwwLGw9bi5tYXh8fDEvMDtvPU1hdGgubWF4KE1hdGgubWluKGkqbyxsKSxzKS9pfXQuc2NhbGVYKj1vLHQuc2NhbGVZKj1vO3ZhciB1PShlLm9yaWdpblgtdC54KSooby0xKSxoPShlLm9yaWdpblktdC55KSooby0xKTt0LngtPXUsdC55LT1oLHQudXBkYXRlVHJhbnNmb3JtKCksdC5zZXRDZW50ZXIodC5wb2ludFRvRGF0YShhKSksdC5zZXRab29tKG8qaSl9cmV0dXJue2NlbnRlcjp0LmdldENlbnRlcigpLHpvb206dC5nZXRab29tKCl9fXZhciBRST1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uZm9jdXNCbHVyRW5hYmxlZD0hMCxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUpe3RoaXMuX2FwaT1lfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7aWYodGhpcy5fbW9kZWw9dCwhdC5nZXQoInNob3ciKSlyZXR1cm4gdGhpcy5fbWFwRHJhdyYmdGhpcy5fbWFwRHJhdy5yZW1vdmUoKSx2b2lkKHRoaXMuX21hcERyYXc9bnVsbCk7dGhpcy5fbWFwRHJhd3x8KHRoaXMuX21hcERyYXc9bmV3IFBJKG4pKTt2YXIgcj10aGlzLl9tYXBEcmF3O3IuZHJhdyh0LGUsbix0aGlzLGkpLHIuZ3JvdXAub24oImNsaWNrIix0aGlzLl9oYW5kbGVSZWdpb25DbGljayx0aGlzKSxyLmdyb3VwLnNpbGVudD10LmdldCgic2lsZW50IiksdGhpcy5ncm91cC5hZGQoci5ncm91cCksdGhpcy51cGRhdGVTZWxlY3RTdGF0dXModCxlLG4pfSxlLnByb3RvdHlwZS5faGFuZGxlUmVnaW9uQ2xpY2s9ZnVuY3Rpb24odCl7dmFyIGU7V2codC50YXJnZXQsKGZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT0oZT1Tcyh0KS5ldmVudERhdGEpfSksITApLGUmJnRoaXMuX2FwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToiZ2VvVG9nZ2xlU2VsZWN0IixnZW9JZDp0aGlzLl9tb2RlbC5pZCxuYW1lOmUubmFtZX0pfSxlLnByb3RvdHlwZS51cGRhdGVTZWxlY3RTdGF0dXM9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXM7dGhpcy5fbWFwRHJhdy5ncm91cC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7dmFyIGU9U3ModCkuZXZlbnREYXRhO2lmKGUpcmV0dXJuIGkuX21vZGVsLmlzU2VsZWN0ZWQoZS5uYW1lKT9uLmVudGVyU2VsZWN0KHQpOm4ubGVhdmVTZWxlY3QodCksITB9KSl9LGUucHJvdG90eXBlLmZpbmRIaWdoRG93bkRpc3BhdGNoZXJzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9tYXBEcmF3JiZ0aGlzLl9tYXBEcmF3LmZpbmRIaWdoRG93bkRpc3BhdGNoZXJzKHQsdGhpcy5fbW9kZWwpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fbWFwRHJhdyYmdGhpcy5fbWFwRHJhdy5yZW1vdmUoKX0sZS50eXBlPSJnZW8iLGV9KFdmKTtmdW5jdGlvbiB0VCh0KXtmdW5jdGlvbiBlKGUsbil7bi51cGRhdGU9Imdlbzp1cGRhdGVTZWxlY3RTdGF0dXMiLHQucmVnaXN0ZXJBY3Rpb24obiwoZnVuY3Rpb24odCxuKXt2YXIgaT17fSxyPVtdO3JldHVybiBuLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJnZW8iLHF1ZXJ5OnR9LChmdW5jdGlvbihuKXtuW2VdKHQubmFtZSksTyhuLmNvb3JkaW5hdGVTeXN0ZW0ucmVnaW9ucywoZnVuY3Rpb24odCl7aVt0Lm5hbWVdPW4uaXNTZWxlY3RlZCh0Lm5hbWUpfHwhMX0pKTt2YXIgbz1bXTtPKGksKGZ1bmN0aW9uKHQsZSl7aVtlXSYmby5wdXNoKGUpfSkpLHIucHVzaCh7Z2VvSW5kZXg6bi5jb21wb25lbnRJbmRleCxuYW1lOm99KX0pKSx7c2VsZWN0ZWQ6aSxhbGxTZWxlY3RlZDpyLG5hbWU6dC5uYW1lfX0pKX10LnJlZ2lzdGVyQ29vcmRpbmF0ZVN5c3RlbSgiZ2VvIixLSSksdC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKCRJKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhRSSksZSgidG9nZ2xlU2VsZWN0ZWQiLHt0eXBlOiJnZW9Ub2dnbGVTZWxlY3QiLGV2ZW50OiJnZW9zZWxlY3RjaGFuZ2VkIn0pLGUoInNlbGVjdCIse3R5cGU6Imdlb1NlbGVjdCIsZXZlbnQ6Imdlb3NlbGVjdGVkIn0pLGUoInVuU2VsZWN0Iix7dHlwZToiZ2VvVW5TZWxlY3QiLGV2ZW50OiJnZW91bnNlbGVjdGVkIn0pLHQucmVnaXN0ZXJBY3Rpb24oe3R5cGU6Imdlb1JvYW0iLGV2ZW50OiJnZW9Sb2FtIix1cGRhdGU6InVwZGF0ZVRyYW5zZm9ybSJ9LChmdW5jdGlvbih0LGUpe3ZhciBuPXQuY29tcG9uZW50VHlwZXx8InNlcmllcyI7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZTpuLHF1ZXJ5OnR9LChmdW5jdGlvbihlKXt2YXIgaT1lLmNvb3JkaW5hdGVTeXN0ZW07aWYoImdlbyI9PT1pLnR5cGUpe3ZhciByPUpJKGksdCxlLmdldCgic2NhbGVMaW1pdCIpKTtlLnNldENlbnRlciYmZS5zZXRDZW50ZXIoci5jZW50ZXIpLGUuc2V0Wm9vbSYmZS5zZXRab29tKHIuem9vbSksInNlcmllcyI9PT1uJiZPKGUuc2VyaWVzR3JvdXAsKGZ1bmN0aW9uKHQpe3Quc2V0Q2VudGVyKHIuY2VudGVyKSx0LnNldFpvb20oci56b29tKX0pKX19KSl9KSl9ZnVuY3Rpb24gZVQodCxlKXt2YXIgbj10LmlzRXhwYW5kP3QuY2hpbGRyZW46W10saT10LnBhcmVudE5vZGUuY2hpbGRyZW4scj10LmhpZXJOb2RlLmk/aVt0LmhpZXJOb2RlLmktMV06bnVsbDtpZihuLmxlbmd0aCl7IWZ1bmN0aW9uKHQpe3ZhciBlPXQuY2hpbGRyZW4sbj1lLmxlbmd0aCxpPTAscj0wO2Zvcig7LS1uPj0wOyl7dmFyIG89ZVtuXTtvLmhpZXJOb2RlLnByZWxpbSs9aSxvLmhpZXJOb2RlLm1vZGlmaWVyKz1pLHIrPW8uaGllck5vZGUuY2hhbmdlLGkrPW8uaGllck5vZGUuc2hpZnQrcn19KHQpO3ZhciBvPShuWzBdLmhpZXJOb2RlLnByZWxpbStuW24ubGVuZ3RoLTFdLmhpZXJOb2RlLnByZWxpbSkvMjtyPyh0LmhpZXJOb2RlLnByZWxpbT1yLmhpZXJOb2RlLnByZWxpbStlKHQsciksdC5oaWVyTm9kZS5tb2RpZmllcj10LmhpZXJOb2RlLnByZWxpbS1vKTp0LmhpZXJOb2RlLnByZWxpbT1vfWVsc2UgciYmKHQuaGllck5vZGUucHJlbGltPXIuaGllck5vZGUucHJlbGltK2UodCxyKSk7dC5wYXJlbnROb2RlLmhpZXJOb2RlLmRlZmF1bHRBbmNlc3Rvcj1mdW5jdGlvbih0LGUsbixpKXtpZihlKXtmb3IodmFyIHI9dCxvPXQsYT1vLnBhcmVudE5vZGUuY2hpbGRyZW5bMF0scz1lLGw9ci5oaWVyTm9kZS5tb2RpZmllcix1PW8uaGllck5vZGUubW9kaWZpZXIsaD1hLmhpZXJOb2RlLm1vZGlmaWVyLGM9cy5oaWVyTm9kZS5tb2RpZmllcjtzPW9UKHMpLG89YVQobykscyYmbzspe3I9b1QociksYT1hVChhKSxyLmhpZXJOb2RlLmFuY2VzdG9yPXQ7dmFyIHA9cy5oaWVyTm9kZS5wcmVsaW0rYy1vLmhpZXJOb2RlLnByZWxpbS11K2kocyxvKTtwPjAmJihsVChzVChzLHQsbiksdCxwKSx1Kz1wLGwrPXApLGMrPXMuaGllck5vZGUubW9kaWZpZXIsdSs9by5oaWVyTm9kZS5tb2RpZmllcixsKz1yLmhpZXJOb2RlLm1vZGlmaWVyLGgrPWEuaGllck5vZGUubW9kaWZpZXJ9cyYmIW9UKHIpJiYoci5oaWVyTm9kZS50aHJlYWQ9cyxyLmhpZXJOb2RlLm1vZGlmaWVyKz1jLWwpLG8mJiFhVChhKSYmKGEuaGllck5vZGUudGhyZWFkPW8sYS5oaWVyTm9kZS5tb2RpZmllcis9dS1oLG49dCl9cmV0dXJuIG59KHQscix0LnBhcmVudE5vZGUuaGllck5vZGUuZGVmYXVsdEFuY2VzdG9yfHxpWzBdLGUpfWZ1bmN0aW9uIG5UKHQpe3ZhciBlPXQuaGllck5vZGUucHJlbGltK3QucGFyZW50Tm9kZS5oaWVyTm9kZS5tb2RpZmllcjt0LnNldExheW91dCh7eDplfSwhMCksdC5oaWVyTm9kZS5tb2RpZmllcis9dC5wYXJlbnROb2RlLmhpZXJOb2RlLm1vZGlmaWVyfWZ1bmN0aW9uIGlUKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3Q6dVR9ZnVuY3Rpb24gclQodCxlKXtyZXR1cm4gdC09TWF0aC5QSS8yLHt4OmUqTWF0aC5jb3ModCkseTplKk1hdGguc2luKHQpfX1mdW5jdGlvbiBvVCh0KXt2YXIgZT10LmNoaWxkcmVuO3JldHVybiBlLmxlbmd0aCYmdC5pc0V4cGFuZD9lW2UubGVuZ3RoLTFdOnQuaGllck5vZGUudGhyZWFkfWZ1bmN0aW9uIGFUKHQpe3ZhciBlPXQuY2hpbGRyZW47cmV0dXJuIGUubGVuZ3RoJiZ0LmlzRXhwYW5kP2VbMF06dC5oaWVyTm9kZS50aHJlYWR9ZnVuY3Rpb24gc1QodCxlLG4pe3JldHVybiB0LmhpZXJOb2RlLmFuY2VzdG9yLnBhcmVudE5vZGU9PT1lLnBhcmVudE5vZGU/dC5oaWVyTm9kZS5hbmNlc3RvcjpufWZ1bmN0aW9uIGxUKHQsZSxuKXt2YXIgaT1uLyhlLmhpZXJOb2RlLmktdC5oaWVyTm9kZS5pKTtlLmhpZXJOb2RlLmNoYW5nZS09aSxlLmhpZXJOb2RlLnNoaWZ0Kz1uLGUuaGllck5vZGUubW9kaWZpZXIrPW4sZS5oaWVyTm9kZS5wcmVsaW0rPW4sdC5oaWVyTm9kZS5jaGFuZ2UrPWl9ZnVuY3Rpb24gdVQodCxlKXtyZXR1cm4gdC5wYXJlbnROb2RlPT09ZS5wYXJlbnROb2RlPzE6Mn12YXIgaFQ9ZnVuY3Rpb24oKXt0aGlzLnBhcmVudFBvaW50PVtdLHRoaXMuY2hpbGRQb2ludHM9W119LGNUPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIHQuY2FsbCh0aGlzLGUpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFN0eWxlPWZ1bmN0aW9uKCl7cmV0dXJue3N0cm9rZToiIzAwMCIsZmlsbDpudWxsfX0sZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBoVH0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5jaGlsZFBvaW50cyxpPW4ubGVuZ3RoLHI9ZS5wYXJlbnRQb2ludCxvPW5bMF0sYT1uW2ktMV07aWYoMT09PWkpcmV0dXJuIHQubW92ZVRvKHJbMF0sclsxXSksdm9pZCB0LmxpbmVUbyhvWzBdLG9bMV0pO3ZhciBzPWUub3JpZW50LGw9IlRCIj09PXN8fCJCVCI9PT1zPzA6MSx1PTEtbCxoPXFpKGUuZm9ya1Bvc2l0aW9uLDEpLGM9W107Y1tsXT1yW2xdLGNbdV09clt1XSsoYVt1XS1yW3VdKSpoLHQubW92ZVRvKHJbMF0sclsxXSksdC5saW5lVG8oY1swXSxjWzFdKSx0Lm1vdmVUbyhvWzBdLG9bMV0pLGNbbF09b1tsXSx0LmxpbmVUbyhjWzBdLGNbMV0pLGNbbF09YVtsXSx0LmxpbmVUbyhjWzBdLGNbMV0pLHQubGluZVRvKGFbMF0sYVsxXSk7Zm9yKHZhciBwPTE7cDxpLTE7cCsrKXt2YXIgZD1uW3BdO3QubW92ZVRvKGRbMF0sZFsxXSksY1tsXT1kW2xdLHQubGluZVRvKGNbMF0sY1sxXSl9fSxlfShRYSkscFQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLl9tYWluR3JvdXA9bmV3IEJpLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSl7dGhpcy5fY29udHJvbGxlcj1uZXcgbUkoZS5nZXRacigpKSx0aGlzLl9jb250cm9sbGVySG9zdD17dGFyZ2V0OnRoaXMuZ3JvdXB9LHRoaXMuZ3JvdXAuYWRkKHRoaXMuX21haW5Hcm91cCl9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5nZXREYXRhKCkscj10LmxheW91dEluZm8sbz10aGlzLl9tYWluR3JvdXA7InJhZGlhbCI9PT10LmdldCgibGF5b3V0Iik/KG8ueD1yLngrci53aWR0aC8yLG8ueT1yLnkrci5oZWlnaHQvMik6KG8ueD1yLngsby55PXIueSksdGhpcy5fdXBkYXRlVmlld0Nvb3JkU3lzKHQpLHRoaXMuX3VwZGF0ZUNvbnRyb2xsZXIodCxlLG4pO3ZhciBhPXRoaXMuX2RhdGE7aS5kaWZmKGEpLmFkZCgoZnVuY3Rpb24oZSl7ZFQoaSxlKSYmZlQoaSxlLG51bGwsbyx0KX0pKS51cGRhdGUoKGZ1bmN0aW9uKGUsbil7dmFyIHI9YS5nZXRJdGVtR3JhcGhpY0VsKG4pO2RUKGksZSk/ZlQoaSxlLHIsbyx0KTpyJiZ2VChhLG4scixvLHQpfSkpLnJlbW92ZSgoZnVuY3Rpb24oZSl7dmFyIG49YS5nZXRJdGVtR3JhcGhpY0VsKGUpO24mJnZUKGEsZSxuLG8sdCl9KSkuZXhlY3V0ZSgpLHRoaXMuX25vZGVTY2FsZVJhdGlvPXQuZ2V0KCJub2RlU2NhbGVSYXRpbyIpLHRoaXMuX3VwZGF0ZU5vZGVBbmRMaW5rU2NhbGUodCksITA9PT10LmdldCgiZXhwYW5kQW5kQ29sbGFwc2UiKSYmaS5lYWNoSXRlbUdyYXBoaWNFbCgoZnVuY3Rpb24oZSxpKXtlLm9mZigiY2xpY2siKS5vbigiY2xpY2siLChmdW5jdGlvbigpe24uZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InRyZWVFeHBhbmRBbmRDb2xsYXBzZSIsc2VyaWVzSWQ6dC5pZCxkYXRhSW5kZXg6aX0pfSkpfSkpLHRoaXMuX2RhdGE9aX0sZS5wcm90b3R5cGUuX3VwZGF0ZVZpZXdDb29yZFN5cz1mdW5jdGlvbih0KXt2YXIgZT10LmdldERhdGEoKSxuPVtdO2UuZWFjaCgoZnVuY3Rpb24odCl7dmFyIGk9ZS5nZXRJdGVtTGF5b3V0KHQpOyFpfHxpc05hTihpLngpfHxpc05hTihpLnkpfHxuLnB1c2goWytpLngsK2kueV0pfSkpO3ZhciBpPVtdLHI9W107c2EobixpLHIpO3ZhciBvPXRoaXMuX21pbixhPXRoaXMuX21heDtyWzBdLWlbMF09PTAmJihpWzBdPW8/b1swXTppWzBdLTEsclswXT1hP2FbMF06clswXSsxKSxyWzFdLWlbMV09PTAmJihpWzFdPW8/b1sxXTppWzFdLTEsclsxXT1hP2FbMV06clsxXSsxKTt2YXIgcz10LmNvb3JkaW5hdGVTeXN0ZW09bmV3IFdJO3Muem9vbUxpbWl0PXQuZ2V0KCJzY2FsZUxpbWl0Iikscy5zZXRCb3VuZGluZ1JlY3QoaVswXSxpWzFdLHJbMF0taVswXSxyWzFdLWlbMV0pLHMuc2V0Q2VudGVyKHQuZ2V0KCJjZW50ZXIiKSkscy5zZXRab29tKHQuZ2V0KCJ6b29tIikpLHRoaXMuZ3JvdXAuYXR0cih7eDpzLngseTpzLnksc2NhbGVYOnMuc2NhbGVYLHNjYWxlWTpzLnNjYWxlWX0pLHRoaXMuX21pbj1pLHRoaXMuX21heD1yfSxlLnByb3RvdHlwZS5fdXBkYXRlQ29udHJvbGxlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcyxyPXRoaXMuX2NvbnRyb2xsZXIsbz10aGlzLl9jb250cm9sbGVySG9zdCxhPXRoaXMuZ3JvdXA7ci5zZXRQb2ludGVyQ2hlY2tlcigoZnVuY3Rpb24oZSxpLHIpe3ZhciBvPWEuZ2V0Qm91bmRpbmdSZWN0KCk7cmV0dXJuIG8uYXBwbHlUcmFuc2Zvcm0oYS50cmFuc2Zvcm0pLG8uY29udGFpbihpLHIpJiYhSUkoZSxuLHQpfSkpLHIuZW5hYmxlKHQuZ2V0KCJyb2FtIikpLG8uem9vbUxpbWl0PXQuZ2V0KCJzY2FsZUxpbWl0Iiksby56b29tPXQuY29vcmRpbmF0ZVN5c3RlbS5nZXRab29tKCksci5vZmYoInBhbiIpLm9mZigiem9vbSIpLm9uKCJwYW4iLChmdW5jdGlvbihlKXt3SShvLGUuZHgsZS5keSksbi5kaXNwYXRjaEFjdGlvbih7c2VyaWVzSWQ6dC5pZCx0eXBlOiJ0cmVlUm9hbSIsZHg6ZS5keCxkeTplLmR5fSl9KSkub24oInpvb20iLChmdW5jdGlvbihlKXtTSShvLGUuc2NhbGUsZS5vcmlnaW5YLGUub3JpZ2luWSksbi5kaXNwYXRjaEFjdGlvbih7c2VyaWVzSWQ6dC5pZCx0eXBlOiJ0cmVlUm9hbSIsem9vbTplLnNjYWxlLG9yaWdpblg6ZS5vcmlnaW5YLG9yaWdpblk6ZS5vcmlnaW5ZfSksaS5fdXBkYXRlTm9kZUFuZExpbmtTY2FsZSh0KSxuLnVwZGF0ZUxhYmVsTGF5b3V0KCl9KSl9LGUucHJvdG90eXBlLl91cGRhdGVOb2RlQW5kTGlua1NjYWxlPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RGF0YSgpLG49dGhpcy5fZ2V0Tm9kZUdsb2JhbFNjYWxlKHQpO2UuZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKHQsZSl7dC5zZXRTeW1ib2xTY2FsZShuKX0pKX0sZS5wcm90b3R5cGUuX2dldE5vZGVHbG9iYWxTY2FsZT1mdW5jdGlvbih0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW07aWYoInZpZXciIT09ZS50eXBlKXJldHVybiAxO3ZhciBuPXRoaXMuX25vZGVTY2FsZVJhdGlvLGk9ZS5zY2FsZVh8fDE7cmV0dXJuKChlLmdldFpvb20oKS0xKSpuKzEpL2l9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jb250cm9sbGVyJiZ0aGlzLl9jb250cm9sbGVyLmRpc3Bvc2UoKSx0aGlzLl9jb250cm9sbGVySG9zdD1udWxsfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl9tYWluR3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fZGF0YT1udWxsfSxlLnR5cGU9InRyZWUiLGV9KFpmKTtmdW5jdGlvbiBkVCh0LGUpe3ZhciBuPXQuZ2V0SXRlbUxheW91dChlKTtyZXR1cm4gbiYmIWlzTmFOKG4ueCkmJiFpc05hTihuLnkpfWZ1bmN0aW9uIGZUKHQsZSxuLGkscil7dmFyIG89IW4sYT10LnRyZWUuZ2V0Tm9kZUJ5RGF0YUluZGV4KGUpLHM9YS5nZXRNb2RlbCgpLGw9YS5nZXRWaXN1YWwoInN0eWxlIikuZmlsbCx1PSExPT09YS5pc0V4cGFuZCYmMCE9PWEuY2hpbGRyZW4ubGVuZ3RoP2w6IiNmZmYiLGg9dC50cmVlLnJvb3QsYz1hLnBhcmVudE5vZGU9PT1oP2E6YS5wYXJlbnROb2RlfHxhLHA9dC5nZXRJdGVtR3JhcGhpY0VsKGMuZGF0YUluZGV4KSxkPWMuZ2V0TGF5b3V0KCksZj1wP3t4OnAuX19vbGRYLHk6cC5fX29sZFkscmF3WDpwLl9fcmFkaWFsT2xkUmF3WCxyYXdZOnAuX19yYWRpYWxPbGRSYXdZfTpkLGc9YS5nZXRMYXlvdXQoKTtvPygobj1uZXcgTHcodCxlLG51bGwse3N5bWJvbElubmVyQ29sb3I6dSx1c2VOYW1lTGFiZWw6ITB9KSkueD1mLngsbi55PWYueSk6bi51cGRhdGVEYXRhKHQsZSxudWxsLHtzeW1ib2xJbm5lckNvbG9yOnUsdXNlTmFtZUxhYmVsOiEwfSksbi5fX3JhZGlhbE9sZFJhd1g9bi5fX3JhZGlhbFJhd1gsbi5fX3JhZGlhbE9sZFJhd1k9bi5fX3JhZGlhbFJhd1ksbi5fX3JhZGlhbFJhd1g9Zy5yYXdYLG4uX19yYWRpYWxSYXdZPWcucmF3WSxpLmFkZChuKSx0LnNldEl0ZW1HcmFwaGljRWwoZSxuKSxuLl9fb2xkWD1uLngsbi5fX29sZFk9bi55LEV1KG4se3g6Zy54LHk6Zy55fSxyKTt2YXIgeT1uLmdldFN5bWJvbFBhdGgoKTtpZigicmFkaWFsIj09PXIuZ2V0KCJsYXlvdXQiKSl7dmFyIHY9aC5jaGlsZHJlblswXSxtPXYuZ2V0TGF5b3V0KCksXz12LmNoaWxkcmVuLmxlbmd0aCx4PXZvaWQgMCxiPXZvaWQgMDtpZihnLng9PT1tLngmJiEwPT09YS5pc0V4cGFuZCl7dmFyIHc9e3g6KHYuY2hpbGRyZW5bMF0uZ2V0TGF5b3V0KCkueCt2LmNoaWxkcmVuW18tMV0uZ2V0TGF5b3V0KCkueCkvMix5Oih2LmNoaWxkcmVuWzBdLmdldExheW91dCgpLnkrdi5jaGlsZHJlbltfLTFdLmdldExheW91dCgpLnkpLzJ9Oyh4PU1hdGguYXRhbjIody55LW0ueSx3LngtbS54KSk8MCYmKHg9MipNYXRoLlBJK3gpLChiPXcueDxtLngpJiYoeC09TWF0aC5QSSl9ZWxzZSh4PU1hdGguYXRhbjIoZy55LW0ueSxnLngtbS54KSk8MCYmKHg9MipNYXRoLlBJK3gpLDA9PT1hLmNoaWxkcmVuLmxlbmd0aHx8MCE9PWEuY2hpbGRyZW4ubGVuZ3RoJiYhMT09PWEuaXNFeHBhbmQ/KGI9Zy54PG0ueCkmJih4LT1NYXRoLlBJKTooYj1nLng+bS54KXx8KHgtPU1hdGguUEkpO3ZhciBTPWI/ImxlZnQiOiJyaWdodCIsTT1zLmdldE1vZGVsKCJsYWJlbCIpLEk9TS5nZXQoInJvdGF0ZSIpLFQ9SSooTWF0aC5QSS8xODApLEQ9eS5nZXRUZXh0Q29udGVudCgpO0QmJih5LnNldFRleHRDb25maWcoe3Bvc2l0aW9uOk0uZ2V0KCJwb3NpdGlvbiIpfHxTLHJvdGF0aW9uOm51bGw9PUk/LXg6VCxvcmlnaW46ImNlbnRlciJ9KSxELnNldFN0eWxlKCJ2ZXJ0aWNhbEFsaWduIiwibWlkZGxlIikpfXZhciBBPXMuZ2V0KFsiZW1waGFzaXMiLCJmb2N1cyJdKSxrPSJhbmNlc3RvciI9PT1BP2EuZ2V0QW5jZXN0b3JzSW5kaWNlcygpOiJkZXNjZW5kYW50Ij09PUE/YS5nZXREZXNjZW5kYW50SW5kaWNlcygpOm51bGw7ayYmKFNzKG4pLmZvY3VzPWspLGZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyl7dmFyIGw9ZS5nZXRNb2RlbCgpLHU9dC5nZXQoImVkZ2VTaGFwZSIpLGg9dC5nZXQoImxheW91dCIpLGM9dC5nZXRPcmllbnQoKSxwPXQuZ2V0KFsibGluZVN0eWxlIiwiY3VydmVuZXNzIl0pLGQ9dC5nZXQoImVkZ2VGb3JrUG9zaXRpb24iKSxmPWwuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLGc9aS5fX2VkZ2U7aWYoImN1cnZlIj09PXUpZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUhPT1uJiYoZ3x8KGc9aS5fX2VkZ2U9bmV3IHh1KHtzaGFwZTptVChoLGMscCxyLHIpfSkpLEV1KGcse3NoYXBlOm1UKGgsYyxwLG8sYSl9LHQpKTtlbHNlIGlmKCJwb2x5bGluZSI9PT11KWlmKCJvcnRob2dvbmFsIj09PWgpe2lmKGUhPT1uJiZlLmNoaWxkcmVuJiYwIT09ZS5jaGlsZHJlbi5sZW5ndGgmJiEwPT09ZS5pc0V4cGFuZCl7Zm9yKHZhciB5PWUuY2hpbGRyZW4sdj1bXSxtPTA7bTx5Lmxlbmd0aDttKyspe3ZhciBfPXlbbV0uZ2V0TGF5b3V0KCk7di5wdXNoKFtfLngsXy55XSl9Z3x8KGc9aS5fX2VkZ2U9bmV3IGNUKHtzaGFwZTp7cGFyZW50UG9pbnQ6W2EueCxhLnldLGNoaWxkUG9pbnRzOltbYS54LGEueV1dLG9yaWVudDpjLGZvcmtQb3NpdGlvbjpkfX0pKSxFdShnLHtzaGFwZTp7cGFyZW50UG9pbnQ6W2EueCxhLnldLGNoaWxkUG9pbnRzOnZ9fSx0KX19ZWxzZSAwO2cmJihnLnVzZVN0eWxlKEMoe3N0cm9rZU5vU2NhbGU6ITAsZmlsbDpudWxsfSxmKSkseWwoZyxsLCJsaW5lU3R5bGUiKSxLcyhnKSxzLmFkZChnKSl9KHIsYSxoLG4sZixkLGcsaSksbi5fX2VkZ2UmJihuLm9uSG92ZXJTdGF0ZUNoYW5nZT1mdW5jdGlvbihlKXtpZigiYmx1ciIhPT1lKXt2YXIgaT1hLnBhcmVudE5vZGUmJnQuZ2V0SXRlbUdyYXBoaWNFbChhLnBhcmVudE5vZGUuZGF0YUluZGV4KTtpJiYxPT09aS5ob3ZlclN0YXRlfHxqcyhuLl9fZWRnZSxlKX19KX1mdW5jdGlvbiBnVCh0LGUsbixpLHIpe3ZhciBvPXlUKGUudHJlZS5yb290LHQpLGE9by5zb3VyY2Uscz1vLnNvdXJjZUxheW91dCxsPWUuZ2V0SXRlbUdyYXBoaWNFbCh0LmRhdGFJbmRleCk7aWYobCl7dmFyIHU9ZS5nZXRJdGVtR3JhcGhpY0VsKGEuZGF0YUluZGV4KS5fX2VkZ2UsaD1sLl9fZWRnZXx8KCExPT09YS5pc0V4cGFuZHx8MT09PWEuY2hpbGRyZW4ubGVuZ3RoP3U6dm9pZCAwKSxjPWkuZ2V0KCJlZGdlU2hhcGUiKSxwPWkuZ2V0KCJsYXlvdXQiKSxkPWkuZ2V0KCJvcmllbnQiKSxmPWkuZ2V0KFsibGluZVN0eWxlIiwiY3VydmVuZXNzIl0pO2gmJigiY3VydmUiPT09Yz9HdShoLHtzaGFwZTptVChwLGQsZixzLHMpLHN0eWxlOntvcGFjaXR5OjB9fSxpLHtjYjpmdW5jdGlvbigpe24ucmVtb3ZlKGgpfSxyZW1vdmVPcHQ6cn0pOiJwb2x5bGluZSI9PT1jJiYib3J0aG9nb25hbCI9PT1pLmdldCgibGF5b3V0IikmJkd1KGgse3NoYXBlOntwYXJlbnRQb2ludDpbcy54LHMueV0sY2hpbGRQb2ludHM6W1tzLngscy55XV19LHN0eWxlOntvcGFjaXR5OjB9fSxpLHtjYjpmdW5jdGlvbigpe24ucmVtb3ZlKGgpfSxyZW1vdmVPcHQ6cn0pKX19ZnVuY3Rpb24geVQodCxlKXtmb3IodmFyIG4saT1lLnBhcmVudE5vZGU9PT10P2U6ZS5wYXJlbnROb2RlfHxlO251bGw9PShuPWkuZ2V0TGF5b3V0KCkpOylpPWkucGFyZW50Tm9kZT09PXQ/aTppLnBhcmVudE5vZGV8fGk7cmV0dXJue3NvdXJjZTppLHNvdXJjZUxheW91dDpufX1mdW5jdGlvbiB2VCh0LGUsbixpLHIpe3ZhciBvPXQudHJlZS5nZXROb2RlQnlEYXRhSW5kZXgoZSksYT15VCh0LnRyZWUucm9vdCxvKS5zb3VyY2VMYXlvdXQscz17ZHVyYXRpb246ci5nZXQoImFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlIiksZWFzaW5nOnIuZ2V0KCJhbmltYXRpb25FYXNpbmdVcGRhdGUiKX07R3Uobix7eDphLngrMSx5OmEueSsxfSxyLHtjYjpmdW5jdGlvbigpe2kucmVtb3ZlKG4pLHQuc2V0SXRlbUdyYXBoaWNFbChlLG51bGwpfSxyZW1vdmVPcHQ6c30pLG4uZmFkZU91dChudWxsLHtmYWRlTGFiZWw6ITAsYW5pbWF0aW9uOnN9KSxvLmNoaWxkcmVuLmZvckVhY2goKGZ1bmN0aW9uKGUpe2dUKGUsdCxpLHIscyl9KSksZ1Qobyx0LGkscixzKX1mdW5jdGlvbiBtVCh0LGUsbixpLHIpe3ZhciBvLGEscyxsLHUsaCxjLHA7aWYoInJhZGlhbCI9PT10KXt1PWkucmF3WCxjPWkucmF3WSxoPXIucmF3WCxwPXIucmF3WTt2YXIgZD1yVCh1LGMpLGY9clQodSxjKyhwLWMpKm4pLGc9clQoaCxwKyhjLXApKm4pLHk9clQoaCxwKTtyZXR1cm57eDE6ZC54fHwwLHkxOmQueXx8MCx4Mjp5Lnh8fDAseTI6eS55fHwwLGNweDE6Zi54fHwwLGNweTE6Zi55fHwwLGNweDI6Zy54fHwwLGNweTI6Zy55fHwwfX1yZXR1cm4gdT1pLngsYz1pLnksaD1yLngscD1yLnksIkxSIiE9PWUmJiJSTCIhPT1lfHwobz11KyhoLXUpKm4sYT1jLHM9aCsodS1oKSpuLGw9cCksIlRCIiE9PWUmJiJCVCIhPT1lfHwobz11LGE9YysocC1jKSpuLHM9aCxsPXArKGMtcCkqbikse3gxOnUseTE6Yyx4MjpoLHkyOnAsY3B4MTpvLGNweTE6YSxjcHgyOnMsY3B5MjpsfX12YXIgX1Q9UnIoKTtmdW5jdGlvbiB4VCh0KXt2YXIgZT10Lm1haW5EYXRhLG49dC5kYXRhcztufHwobj17bWFpbjplfSx0LmRhdGFzQXR0cj17bWFpbjoiZGF0YSJ9KSx0LmRhdGFzPXQubWFpbkRhdGE9bnVsbCxUVChlLG4sdCksTyhuLChmdW5jdGlvbihuKXtPKGUuVFJBTlNGRVJBQkxFX01FVEhPRFMsKGZ1bmN0aW9uKGUpe24ud3JhcE1ldGhvZChlLEcoYlQsdCkpfSkpfSkpLGUud3JhcE1ldGhvZCgiY2xvbmVTaGFsbG93IixHKFNULHQpKSxPKGUuQ0hBTkdBQkxFX01FVEhPRFMsKGZ1bmN0aW9uKG4pe2Uud3JhcE1ldGhvZChuLEcod1QsdCkpfSkpLG90KG5bZS5kYXRhVHlwZV09PT1lKX1mdW5jdGlvbiBiVCh0LGUpe2lmKF9UKGk9dGhpcykubWFpbkRhdGE9PT1pKXt2YXIgbj1UKHt9LF9UKHRoaXMpLmRhdGFzKTtuW3RoaXMuZGF0YVR5cGVdPWUsVFQoZSxuLHQpfWVsc2UgQ1QoZSx0aGlzLmRhdGFUeXBlLF9UKHRoaXMpLm1haW5EYXRhLHQpO3ZhciBpO3JldHVybiBlfWZ1bmN0aW9uIHdUKHQsZSl7cmV0dXJuIHQuc3RydWN0JiZ0LnN0cnVjdC51cGRhdGUoKSxlfWZ1bmN0aW9uIFNUKHQsZSl7cmV0dXJuIE8oX1QoZSkuZGF0YXMsKGZ1bmN0aW9uKG4saSl7biE9PWUmJkNUKG4uY2xvbmVTaGFsbG93KCksaSxlLHQpfSkpLGV9ZnVuY3Rpb24gTVQodCl7dmFyIGU9X1QodGhpcykubWFpbkRhdGE7cmV0dXJuIG51bGw9PXR8fG51bGw9PWU/ZTpfVChlKS5kYXRhc1t0XX1mdW5jdGlvbiBJVCgpe3ZhciB0PV9UKHRoaXMpLm1haW5EYXRhO3JldHVybiBudWxsPT10P1t7ZGF0YTp0fV06UihWKF9UKHQpLmRhdGFzKSwoZnVuY3Rpb24oZSl7cmV0dXJue3R5cGU6ZSxkYXRhOl9UKHQpLmRhdGFzW2VdfX0pKX1mdW5jdGlvbiBUVCh0LGUsbil7X1QodCkuZGF0YXM9e30sTyhlLChmdW5jdGlvbihlLGkpe0NUKGUsaSx0LG4pfSkpfWZ1bmN0aW9uIENUKHQsZSxuLGkpe19UKG4pLmRhdGFzW2VdPXQsX1QodCkubWFpbkRhdGE9bix0LmRhdGFUeXBlPWUsaS5zdHJ1Y3QmJih0W2kuc3RydWN0QXR0cl09aS5zdHJ1Y3QsaS5zdHJ1Y3RbaS5kYXRhc0F0dHJbZV1dPXQpLHQuZ2V0TGlua2VkRGF0YT1NVCx0LmdldExpbmtlZERhdGFBbGw9SVR9dmFyIERUPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuZGVwdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMuZGF0YUluZGV4PS0xLHRoaXMuY2hpbGRyZW49W10sdGhpcy52aWV3Q2hpbGRyZW49W10sdGhpcy5pc0V4cGFuZD0hMSx0aGlzLm5hbWU9dHx8IiIsdGhpcy5ob3N0VHJlZT1lfXJldHVybiB0LnByb3RvdHlwZS5pc1JlbW92ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhSW5kZXg8MH0sdC5wcm90b3R5cGUuZWFjaE5vZGU9ZnVuY3Rpb24odCxlLG4peyJmdW5jdGlvbiI9PXR5cGVvZiB0JiYobj1lLGU9dCx0PW51bGwpLFcodD10fHx7fSkmJih0PXtvcmRlcjp0fSk7dmFyIGkscj10Lm9yZGVyfHwicHJlb3JkZXIiLG89dGhpc1t0LmF0dHJ8fCJjaGlsZHJlbiJdOyJwcmVvcmRlciI9PT1yJiYoaT1lLmNhbGwobix0aGlzKSk7Zm9yKHZhciBhPTA7IWkmJmE8by5sZW5ndGg7YSsrKW9bYV0uZWFjaE5vZGUodCxlLG4pOyJwb3N0b3JkZXIiPT09ciYmZS5jYWxsKG4sdGhpcyl9LHQucHJvdG90eXBlLnVwZGF0ZURlcHRoQW5kSGVpZ2h0PWZ1bmN0aW9uKHQpe3ZhciBlPTA7dGhpcy5kZXB0aD10O2Zvcih2YXIgbj0wO248dGhpcy5jaGlsZHJlbi5sZW5ndGg7bisrKXt2YXIgaT10aGlzLmNoaWxkcmVuW25dO2kudXBkYXRlRGVwdGhBbmRIZWlnaHQodCsxKSxpLmhlaWdodD5lJiYoZT1pLmhlaWdodCl9dGhpcy5oZWlnaHQ9ZSsxfSx0LnByb3RvdHlwZS5nZXROb2RlQnlJZD1mdW5jdGlvbih0KXtpZih0aGlzLmdldElkKCk9PT10KXJldHVybiB0aGlzO2Zvcih2YXIgZT0wLG49dGhpcy5jaGlsZHJlbixpPW4ubGVuZ3RoO2U8aTtlKyspe3ZhciByPW5bZV0uZ2V0Tm9kZUJ5SWQodCk7aWYocilyZXR1cm4gcn19LHQucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKHQpe2lmKHQ9PT10aGlzKXJldHVybiEwO2Zvcih2YXIgZT0wLG49dGhpcy5jaGlsZHJlbixpPW4ubGVuZ3RoO2U8aTtlKyspe3ZhciByPW5bZV0uY29udGFpbnModCk7aWYocilyZXR1cm4gcn19LHQucHJvdG90eXBlLmdldEFuY2VzdG9ycz1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj10P3RoaXM6dGhpcy5wYXJlbnROb2RlO247KWUucHVzaChuKSxuPW4ucGFyZW50Tm9kZTtyZXR1cm4gZS5yZXZlcnNlKCksZX0sdC5wcm90b3R5cGUuZ2V0QW5jZXN0b3JzSW5kaWNlcz1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPXRoaXM7ZTspdC5wdXNoKGUuZGF0YUluZGV4KSxlPWUucGFyZW50Tm9kZTtyZXR1cm4gdC5yZXZlcnNlKCksdH0sdC5wcm90b3R5cGUuZ2V0RGVzY2VuZGFudEluZGljZXM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy5lYWNoTm9kZSgoZnVuY3Rpb24oZSl7dC5wdXNoKGUuZGF0YUluZGV4KX0pKSx0fSx0LnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmhvc3RUcmVlLmRhdGE7cmV0dXJuIGUuZ2V0U3RvcmUoKS5nZXQoZS5nZXREaW1lbnNpb25JbmRleCh0fHwidmFsdWUiKSx0aGlzLmRhdGFJbmRleCl9LHQucHJvdG90eXBlLnNldExheW91dD1mdW5jdGlvbih0LGUpe3RoaXMuZGF0YUluZGV4Pj0wJiZ0aGlzLmhvc3RUcmVlLmRhdGEuc2V0SXRlbUxheW91dCh0aGlzLmRhdGFJbmRleCx0LGUpfSx0LnByb3RvdHlwZS5nZXRMYXlvdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ob3N0VHJlZS5kYXRhLmdldEl0ZW1MYXlvdXQodGhpcy5kYXRhSW5kZXgpfSx0LnByb3RvdHlwZS5nZXRNb2RlbD1mdW5jdGlvbih0KXtpZighKHRoaXMuZGF0YUluZGV4PDApKXJldHVybiB0aGlzLmhvc3RUcmVlLmRhdGEuZ2V0SXRlbU1vZGVsKHRoaXMuZGF0YUluZGV4KS5nZXRNb2RlbCh0KX0sdC5wcm90b3R5cGUuZ2V0TGV2ZWxNb2RlbD1mdW5jdGlvbigpe3JldHVybih0aGlzLmhvc3RUcmVlLmxldmVsTW9kZWxzfHxbXSlbdGhpcy5kZXB0aF19LHQucHJvdG90eXBlLnNldFZpc3VhbD1mdW5jdGlvbih0LGUpe3RoaXMuZGF0YUluZGV4Pj0wJiZ0aGlzLmhvc3RUcmVlLmRhdGEuc2V0SXRlbVZpc3VhbCh0aGlzLmRhdGFJbmRleCx0LGUpfSx0LnByb3RvdHlwZS5nZXRWaXN1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaG9zdFRyZWUuZGF0YS5nZXRJdGVtVmlzdWFsKHRoaXMuZGF0YUluZGV4LHQpfSx0LnByb3RvdHlwZS5nZXRSYXdJbmRleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhvc3RUcmVlLmRhdGEuZ2V0UmF3SW5kZXgodGhpcy5kYXRhSW5kZXgpfSx0LnByb3RvdHlwZS5nZXRJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhvc3RUcmVlLmRhdGEuZ2V0SWQodGhpcy5kYXRhSW5kZXgpfSx0LnByb3RvdHlwZS5nZXRDaGlsZEluZGV4PWZ1bmN0aW9uKCl7aWYodGhpcy5wYXJlbnROb2RlKXtmb3IodmFyIHQ9dGhpcy5wYXJlbnROb2RlLmNoaWxkcmVuLGU9MDtlPHQubGVuZ3RoOysrZSlpZih0W2VdPT09dGhpcylyZXR1cm4gZTtyZXR1cm4tMX1yZXR1cm4tMX0sdC5wcm90b3R5cGUuaXNBbmNlc3Rvck9mPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnBhcmVudE5vZGU7ZTspe2lmKGU9PT10aGlzKXJldHVybiEwO2U9ZS5wYXJlbnROb2RlfXJldHVybiExfSx0LnByb3RvdHlwZS5pc0Rlc2NlbmRhbnRPZj1mdW5jdGlvbih0KXtyZXR1cm4gdCE9PXRoaXMmJnQuaXNBbmNlc3Rvck9mKHRoaXMpfSx0fSgpLEFUPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLnR5cGU9InRyZWUiLHRoaXMuX25vZGVzPVtdLHRoaXMuaG9zdE1vZGVsPXR9cmV0dXJuIHQucHJvdG90eXBlLmVhY2hOb2RlPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnJvb3QuZWFjaE5vZGUodCxlLG4pfSx0LnByb3RvdHlwZS5nZXROb2RlQnlEYXRhSW5kZXg9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kYXRhLmdldFJhd0luZGV4KHQpO3JldHVybiB0aGlzLl9ub2Rlc1tlXX0sdC5wcm90b3R5cGUuZ2V0Tm9kZUJ5SWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucm9vdC5nZXROb2RlQnlJZCh0KX0sdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZGF0YSxlPXRoaXMuX25vZGVzLG49MCxpPWUubGVuZ3RoO248aTtuKyspZVtuXS5kYXRhSW5kZXg9LTE7Zm9yKG49MCxpPXQuY291bnQoKTtuPGk7bisrKWVbdC5nZXRSYXdJbmRleChuKV0uZGF0YUluZGV4PW59LHQucHJvdG90eXBlLmNsZWFyTGF5b3V0cz1mdW5jdGlvbigpe3RoaXMuZGF0YS5jbGVhckl0ZW1MYXlvdXRzKCl9LHQuY3JlYXRlVHJlZT1mdW5jdGlvbihlLG4saSl7dmFyIHI9bmV3IHQobiksbz1bXSxhPTE7IWZ1bmN0aW9uIHQoZSxuKXt2YXIgaT1lLnZhbHVlO2E9TWF0aC5tYXgoYSxGKGkpP2kubGVuZ3RoOjEpLG8ucHVzaChlKTt2YXIgcz1uZXcgRFQoa3IoZS5uYW1lLCIiKSxyKTtuP2Z1bmN0aW9uKHQsZSl7dmFyIG49ZS5jaGlsZHJlbjtpZih0LnBhcmVudE5vZGU9PT1lKXJldHVybjtuLnB1c2godCksdC5wYXJlbnROb2RlPWV9KHMsbik6ci5yb290PXMsci5fbm9kZXMucHVzaChzKTt2YXIgbD1lLmNoaWxkcmVuO2lmKGwpZm9yKHZhciB1PTA7dTxsLmxlbmd0aDt1KyspdChsW3VdLHMpfShlKSxyLnJvb3QudXBkYXRlRGVwdGhBbmRIZWlnaHQoMCk7dmFyIHM9aF8obyx7Y29vcmREaW1lbnNpb25zOlsidmFsdWUiXSxkaW1lbnNpb25zQ291bnQ6YX0pLmRpbWVuc2lvbnMsbD1uZXcgdV8ocyxuKTtyZXR1cm4gbC5pbml0RGF0YShvKSxpJiZpKGwpLHhUKHttYWluRGF0YTpsLHN0cnVjdDpyLHN0cnVjdEF0dHI6InRyZWUifSksci51cGRhdGUoKSxyfSx0fSgpO2Z1bmN0aW9uIGtUKHQsZSxuKXtpZih0JiZBKGUsdC50eXBlKT49MCl7dmFyIGk9bi5nZXREYXRhKCkudHJlZS5yb290LHI9dC50YXJnZXROb2RlO2lmKCJzdHJpbmciPT10eXBlb2YgciYmKHI9aS5nZXROb2RlQnlJZChyKSksciYmaS5jb250YWlucyhyKSlyZXR1cm57bm9kZTpyfTt2YXIgbz10LnRhcmdldE5vZGVJZDtpZihudWxsIT1vJiYocj1pLmdldE5vZGVCeUlkKG8pKSlyZXR1cm57bm9kZTpyfX19ZnVuY3Rpb24gTFQodCl7Zm9yKHZhciBlPVtdO3Q7KSh0PXQucGFyZW50Tm9kZSkmJmUucHVzaCh0KTtyZXR1cm4gZS5yZXZlcnNlKCl9ZnVuY3Rpb24gUFQodCxlKXtyZXR1cm4gQShMVCh0KSxlKT49MH1mdW5jdGlvbiBPVCh0LGUpe2Zvcih2YXIgbj1bXTt0Oyl7dmFyIGk9dC5kYXRhSW5kZXg7bi5wdXNoKHtuYW1lOnQubmFtZSxkYXRhSW5kZXg6aSx2YWx1ZTplLmdldFJhd1ZhbHVlKGkpfSksdD10LnBhcmVudE5vZGV9cmV0dXJuIG4ucmV2ZXJzZSgpLG59dmFyIFJUPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUuaGFzU3ltYm9sVmlzdWFsPSEwLGUuaWdub3JlU3R5bGVPbkRhdGE9ITAsZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXtuYW1lOnQubmFtZSxjaGlsZHJlbjp0LmRhdGF9LG49dC5sZWF2ZXN8fHt9LGk9bmV3IFdoKG4sdGhpcyx0aGlzLmVjTW9kZWwpLHI9QVQuY3JlYXRlVHJlZShlLHRoaXMsKGZ1bmN0aW9uKHQpe3Qud3JhcE1ldGhvZCgiZ2V0SXRlbU1vZGVsIiwoZnVuY3Rpb24odCxlKXt2YXIgbj1yLmdldE5vZGVCeURhdGFJbmRleChlKTtyZXR1cm4gbiYmbi5jaGlsZHJlbi5sZW5ndGgmJm4uaXNFeHBhbmR8fCh0LnBhcmVudE1vZGVsPWkpLHR9KSl9KSk7dmFyIG89MDtyLmVhY2hOb2RlKCJwcmVvcmRlciIsKGZ1bmN0aW9uKHQpe3QuZGVwdGg+byYmKG89dC5kZXB0aCl9KSk7dmFyIGE9dC5leHBhbmRBbmRDb2xsYXBzZSYmdC5pbml0aWFsVHJlZURlcHRoPj0wP3QuaW5pdGlhbFRyZWVEZXB0aDpvO3JldHVybiByLnJvb3QuZWFjaE5vZGUoInByZW9yZGVyIiwoZnVuY3Rpb24odCl7dmFyIGU9dC5ob3N0VHJlZS5kYXRhLmdldFJhd0RhdGFJdGVtKHQuZGF0YUluZGV4KTt0LmlzRXhwYW5kPWUmJm51bGwhPWUuY29sbGFwc2VkPyFlLmNvbGxhcHNlZDp0LmRlcHRoPD1hfSkpLHIuZGF0YX0sZS5wcm90b3R5cGUuZ2V0T3JpZW50PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXQoIm9yaWVudCIpO3JldHVybiJob3Jpem9udGFsIj09PXQ/dD0iTFIiOiJ2ZXJ0aWNhbCI9PT10JiYodD0iVEIiKSx0fSxlLnByb3RvdHlwZS5zZXRab29tPWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLnpvb209dH0sZS5wcm90b3R5cGUuc2V0Q2VudGVyPWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLmNlbnRlcj10fSxlLnByb3RvdHlwZS5mb3JtYXRUb29sdGlwPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9dGhpcy5nZXREYXRhKCkudHJlZSxyPWkucm9vdC5jaGlsZHJlblswXSxvPWkuZ2V0Tm9kZUJ5RGF0YUluZGV4KHQpLGE9by5nZXRWYWx1ZSgpLHM9by5uYW1lO28mJm8hPT1yOylzPW8ucGFyZW50Tm9kZS5uYW1lKyIuIitzLG89by5wYXJlbnROb2RlO3JldHVybiB3ZigibmFtZVZhbHVlIix7bmFtZTpzLHZhbHVlOmEsbm9WYWx1ZTppc05hTihhKXx8bnVsbD09YX0pfSxlLnByb3RvdHlwZS5nZXREYXRhUGFyYW1zPWZ1bmN0aW9uKGUpe3ZhciBuPXQucHJvdG90eXBlLmdldERhdGFQYXJhbXMuYXBwbHkodGhpcyxhcmd1bWVudHMpLGk9dGhpcy5nZXREYXRhKCkudHJlZS5nZXROb2RlQnlEYXRhSW5kZXgoZSk7cmV0dXJuIG4udHJlZUFuY2VzdG9ycz1PVChpLHRoaXMpLG59LGUudHlwZT0ic2VyaWVzLnRyZWUiLGUubGF5b3V0TW9kZT0iYm94IixlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6Mixjb29yZGluYXRlU3lzdGVtOiJ2aWV3IixsZWZ0OiIxMiUiLHRvcDoiMTIlIixyaWdodDoiMTIlIixib3R0b206IjEyJSIsbGF5b3V0OiJvcnRob2dvbmFsIixlZGdlU2hhcGU6ImN1cnZlIixlZGdlRm9ya1Bvc2l0aW9uOiI1MCUiLHJvYW06ITEsbm9kZVNjYWxlUmF0aW86LjQsY2VudGVyOm51bGwsem9vbToxLG9yaWVudDoiTFIiLHN5bWJvbDoiZW1wdHlDaXJjbGUiLHN5bWJvbFNpemU6NyxleHBhbmRBbmRDb2xsYXBzZTohMCxpbml0aWFsVHJlZURlcHRoOjIsbGluZVN0eWxlOntjb2xvcjoiI2NjYyIsd2lkdGg6MS41LGN1cnZlbmVzczouNX0saXRlbVN0eWxlOntjb2xvcjoibGlnaHRzdGVlbGJsdWUiLGJvcmRlcldpZHRoOjEuNX0sbGFiZWw6e3Nob3c6ITB9LGFuaW1hdGlvbkVhc2luZzoibGluZWFyIixhbmltYXRpb25EdXJhdGlvbjo3MDAsYW5pbWF0aW9uRHVyYXRpb25VcGRhdGU6NTAwfSxlfShOZik7ZnVuY3Rpb24gTlQodCxlKXtmb3IodmFyIG4saT1bdF07bj1pLnBvcCgpOylpZihlKG4pLG4uaXNFeHBhbmQpe3ZhciByPW4uY2hpbGRyZW47aWYoci5sZW5ndGgpZm9yKHZhciBvPXIubGVuZ3RoLTE7bz49MDtvLS0paS5wdXNoKHJbb10pfX1mdW5jdGlvbiB6VCh0LGUpe3QuZWFjaFNlcmllc0J5VHlwZSgidHJlZSIsKGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe3ZhciBuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHFjKHQuZ2V0Qm94TGF5b3V0UGFyYW1zKCkse3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0pfSh0LGUpO3QubGF5b3V0SW5mbz1uO3ZhciBpPXQuZ2V0KCJsYXlvdXQiKSxyPTAsbz0wLGE9bnVsbDsicmFkaWFsIj09PWk/KHI9MipNYXRoLlBJLG89TWF0aC5taW4obi5oZWlnaHQsbi53aWR0aCkvMixhPWlUKChmdW5jdGlvbih0LGUpe3JldHVybih0LnBhcmVudE5vZGU9PT1lLnBhcmVudE5vZGU/MToyKS90LmRlcHRofSkpKToocj1uLndpZHRoLG89bi5oZWlnaHQsYT1pVCgpKTt2YXIgcz10LmdldERhdGEoKS50cmVlLnJvb3QsbD1zLmNoaWxkcmVuWzBdO2lmKGwpeyFmdW5jdGlvbih0KXt2YXIgZT10O2UuaGllck5vZGU9e2RlZmF1bHRBbmNlc3RvcjpudWxsLGFuY2VzdG9yOmUscHJlbGltOjAsbW9kaWZpZXI6MCxjaGFuZ2U6MCxzaGlmdDowLGk6MCx0aHJlYWQ6bnVsbH07Zm9yKHZhciBuLGkscj1bZV07bj1yLnBvcCgpOylpZihpPW4uY2hpbGRyZW4sbi5pc0V4cGFuZCYmaS5sZW5ndGgpZm9yKHZhciBvPWkubGVuZ3RoLTE7bz49MDtvLS0pe3ZhciBhPWlbb107YS5oaWVyTm9kZT17ZGVmYXVsdEFuY2VzdG9yOm51bGwsYW5jZXN0b3I6YSxwcmVsaW06MCxtb2RpZmllcjowLGNoYW5nZTowLHNoaWZ0OjAsaTpvLHRocmVhZDpudWxsfSxyLnB1c2goYSl9fShzKSxmdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpLHI9W3RdLG89W107aT1yLnBvcCgpOylpZihvLnB1c2goaSksaS5pc0V4cGFuZCl7dmFyIGE9aS5jaGlsZHJlbjtpZihhLmxlbmd0aClmb3IodmFyIHM9MDtzPGEubGVuZ3RoO3MrKylyLnB1c2goYVtzXSl9Zm9yKDtpPW8ucG9wKCk7KWUoaSxuKX0obCxlVCxhKSxzLmhpZXJOb2RlLm1vZGlmaWVyPS1sLmhpZXJOb2RlLnByZWxpbSxOVChsLG5UKTt2YXIgdT1sLGg9bCxjPWw7TlQobCwoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRMYXlvdXQoKS54O2U8dS5nZXRMYXlvdXQoKS54JiYodT10KSxlPmguZ2V0TGF5b3V0KCkueCYmKGg9dCksdC5kZXB0aD5jLmRlcHRoJiYoYz10KX0pKTt2YXIgcD11PT09aD8xOmEodSxoKS8yLGQ9cC11LmdldExheW91dCgpLngsZj0wLGc9MCx5PTAsdj0wO2lmKCJyYWRpYWwiPT09aSlmPXIvKGguZ2V0TGF5b3V0KCkueCtwK2QpLGc9by8oYy5kZXB0aC0xfHwxKSxOVChsLChmdW5jdGlvbih0KXt5PSh0LmdldExheW91dCgpLngrZCkqZix2PSh0LmRlcHRoLTEpKmc7dmFyIGU9clQoeSx2KTt0LnNldExheW91dCh7eDplLngseTplLnkscmF3WDp5LHJhd1k6dn0sITApfSkpO2Vsc2V7dmFyIG09dC5nZXRPcmllbnQoKTsiUkwiPT09bXx8IkxSIj09PW0/KGc9by8oaC5nZXRMYXlvdXQoKS54K3ArZCksZj1yLyhjLmRlcHRoLTF8fDEpLE5UKGwsKGZ1bmN0aW9uKHQpe3Y9KHQuZ2V0TGF5b3V0KCkueCtkKSpnLHk9IkxSIj09PW0/KHQuZGVwdGgtMSkqZjpyLSh0LmRlcHRoLTEpKmYsdC5zZXRMYXlvdXQoe3g6eSx5OnZ9LCEwKX0pKSk6IlRCIiE9PW0mJiJCVCIhPT1tfHwoZj1yLyhoLmdldExheW91dCgpLngrcCtkKSxnPW8vKGMuZGVwdGgtMXx8MSksTlQobCwoZnVuY3Rpb24odCl7eT0odC5nZXRMYXlvdXQoKS54K2QpKmYsdj0iVEIiPT09bT8odC5kZXB0aC0xKSpnOm8tKHQuZGVwdGgtMSkqZyx0LnNldExheW91dCh7eDp5LHk6dn0sITApfSkpKX19fSh0LGUpfSkpfWZ1bmN0aW9uIEVUKHQpe3QuZWFjaFNlcmllc0J5VHlwZSgidHJlZSIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RGF0YSgpO2UudHJlZS5lYWNoTm9kZSgoZnVuY3Rpb24odCl7dmFyIG49dC5nZXRNb2RlbCgpLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKTtUKGUuZW5zdXJlVW5pcXVlSXRlbVZpc3VhbCh0LmRhdGFJbmRleCwic3R5bGUiKSxuKX0pKX0pKX12YXIgVlQ9ZnVuY3Rpb24oKXt9LEJUPVsidHJlZW1hcFpvb21Ub05vZGUiLCJ0cmVlbWFwUmVuZGVyIiwidHJlZW1hcE1vdmUiXTtmdW5jdGlvbiBHVCh0KXt2YXIgZT10LmdldERhdGEoKS50cmVlLG49e307ZS5lYWNoTm9kZSgoZnVuY3Rpb24oZSl7Zm9yKHZhciBpPWU7aSYmaS5kZXB0aD4xOylpPWkucGFyZW50Tm9kZTt2YXIgcj1McCh0LmVjTW9kZWwsaS5uYW1lfHxpLmRhdGFJbmRleCsiIixuKTtlLnNldFZpc3VhbCgiZGVjYWwiLHIpfSkpfXZhciBGVD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4ucHJldmVudFVzaW5nSG92ZXJMYXllcj0hMCxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24odCxlKXt2YXIgbj17bmFtZTp0Lm5hbWUsY2hpbGRyZW46dC5kYXRhfTtIVChuKTt2YXIgaT10LmxldmVsc3x8W10scj10aGlzLmRlc2lnbmF0ZWRWaXN1YWxJdGVtU3R5bGU9e30sbz1uZXcgV2goe2l0ZW1TdHlsZTpyfSx0aGlzLGUpLGE9UigoaT10LmxldmVscz1mdW5jdGlvbih0LGUpe3ZhciBuLGkscj13cihlLmdldCgiY29sb3IiKSksbz13cihlLmdldChbImFyaWEiLCJkZWNhbCIsImRlY2FscyJdKSk7aWYoIXIpcmV0dXJuO08odD10fHxbXSwoZnVuY3Rpb24odCl7dmFyIGU9bmV3IFdoKHQpLHI9ZS5nZXQoImNvbG9yIiksbz1lLmdldCgiZGVjYWwiKTsoZS5nZXQoWyJpdGVtU3R5bGUiLCJjb2xvciJdKXx8ciYmIm5vbmUiIT09cikmJihuPSEwKSwoZS5nZXQoWyJpdGVtU3R5bGUiLCJkZWNhbCJdKXx8byYmIm5vbmUiIT09bykmJihpPSEwKX0pKTt2YXIgYT10WzBdfHwodFswXT17fSk7bnx8KGEuY29sb3I9ci5zbGljZSgpKTshaSYmbyYmKGEuZGVjYWw9by5zbGljZSgpKTtyZXR1cm4gdH0oaSxlKSl8fFtdLChmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFdoKHQsbyxlKX0pLHRoaXMpLHM9QVQuY3JlYXRlVHJlZShuLHRoaXMsKGZ1bmN0aW9uKHQpe3Qud3JhcE1ldGhvZCgiZ2V0SXRlbU1vZGVsIiwoZnVuY3Rpb24odCxlKXt2YXIgbj1zLmdldE5vZGVCeURhdGFJbmRleChlKSxpPW4/YVtuLmRlcHRoXTpudWxsO3JldHVybiB0LnBhcmVudE1vZGVsPWl8fG8sdH0pKX0pKTtyZXR1cm4gcy5kYXRhfSxlLnByb3RvdHlwZS5vcHRpb25VcGRhdGVkPWZ1bmN0aW9uKCl7dGhpcy5yZXNldFZpZXdSb290KCl9LGUucHJvdG90eXBlLmZvcm1hdFRvb2x0aXA9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuZ2V0RGF0YSgpLHI9dGhpcy5nZXRSYXdWYWx1ZSh0KTtyZXR1cm4gd2YoIm5hbWVWYWx1ZSIse25hbWU6aS5nZXROYW1lKHQpLHZhbHVlOnJ9KX0sZS5wcm90b3R5cGUuZ2V0RGF0YVBhcmFtcz1mdW5jdGlvbihlKXt2YXIgbj10LnByb3RvdHlwZS5nZXREYXRhUGFyYW1zLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxpPXRoaXMuZ2V0RGF0YSgpLnRyZWUuZ2V0Tm9kZUJ5RGF0YUluZGV4KGUpO3JldHVybiBuLnRyZWVBbmNlc3RvcnM9T1QoaSx0aGlzKSxuLnRyZWVQYXRoSW5mbz1uLnRyZWVBbmNlc3RvcnMsbn0sZS5wcm90b3R5cGUuc2V0TGF5b3V0SW5mbz1mdW5jdGlvbih0KXt0aGlzLmxheW91dEluZm89dGhpcy5sYXlvdXRJbmZvfHx7fSxUKHRoaXMubGF5b3V0SW5mbyx0KX0sZS5wcm90b3R5cGUubWFwSWRUb0luZGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2lkSW5kZXhNYXA7ZXx8KGU9dGhpcy5faWRJbmRleE1hcD1jdCgpLHRoaXMuX2lkSW5kZXhNYXBDb3VudD0wKTt2YXIgbj1lLmdldCh0KTtyZXR1cm4gbnVsbD09biYmZS5zZXQodCxuPXRoaXMuX2lkSW5kZXhNYXBDb3VudCsrKSxufSxlLnByb3RvdHlwZS5nZXRWaWV3Um9vdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWV3Um9vdH0sZS5wcm90b3R5cGUucmVzZXRWaWV3Um9vdD1mdW5jdGlvbih0KXt0P3RoaXMuX3ZpZXdSb290PXQ6dD10aGlzLl92aWV3Um9vdDt2YXIgZT10aGlzLmdldFJhd0RhdGEoKS50cmVlLnJvb3Q7dCYmKHQ9PT1lfHxlLmNvbnRhaW5zKHQpKXx8KHRoaXMuX3ZpZXdSb290PWUpfSxlLnByb3RvdHlwZS5lbmFibGVBcmlhRGVjYWw9ZnVuY3Rpb24oKXtHVCh0aGlzKX0sZS50eXBlPSJzZXJpZXMudHJlZW1hcCIsZS5sYXlvdXRNb2RlPSJib3giLGUuZGVmYXVsdE9wdGlvbj17cHJvZ3Jlc3NpdmU6MCxsZWZ0OiJjZW50ZXIiLHRvcDoibWlkZGxlIix3aWR0aDoiODAlIixoZWlnaHQ6IjgwJSIsc29ydDohMCxjbGlwV2luZG93OiJvcmlnaW4iLHNxdWFyZVJhdGlvOi41KigxK01hdGguc3FydCg1KSksbGVhZkRlcHRoOm51bGwsZHJpbGxEb3duSWNvbjoi4pa2Iix6b29tVG9Ob2RlUmF0aW86LjEwMjQscm9hbTohMCxub2RlQ2xpY2s6Inpvb21Ub05vZGUiLGFuaW1hdGlvbjohMCxhbmltYXRpb25EdXJhdGlvblVwZGF0ZTo5MDAsYW5pbWF0aW9uRWFzaW5nOiJxdWludGljSW5PdXQiLGJyZWFkY3J1bWI6e3Nob3c6ITAsaGVpZ2h0OjIyLGxlZnQ6ImNlbnRlciIsdG9wOiJib3R0b20iLGVtcHR5SXRlbVdpZHRoOjI1LGl0ZW1TdHlsZTp7Y29sb3I6InJnYmEoMCwwLDAsMC43KSIsdGV4dFN0eWxlOntjb2xvcjoiI2ZmZiJ9fX0sbGFiZWw6e3Nob3c6ITAsZGlzdGFuY2U6MCxwYWRkaW5nOjUscG9zaXRpb246Imluc2lkZSIsY29sb3I6IiNmZmYiLG92ZXJmbG93OiJ0cnVuY2F0ZSJ9LHVwcGVyTGFiZWw6e3Nob3c6ITEscG9zaXRpb246WzAsIjUwJSJdLGhlaWdodDoyMCxvdmVyZmxvdzoidHJ1bmNhdGUiLHZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9LGl0ZW1TdHlsZTp7Y29sb3I6bnVsbCxjb2xvckFscGhhOm51bGwsY29sb3JTYXR1cmF0aW9uOm51bGwsYm9yZGVyV2lkdGg6MCxnYXBXaWR0aDowLGJvcmRlckNvbG9yOiIjZmZmIixib3JkZXJDb2xvclNhdHVyYXRpb246bnVsbH0sZW1waGFzaXM6e3VwcGVyTGFiZWw6e3Nob3c6ITAscG9zaXRpb246WzAsIjUwJSJdLGVsbGlwc2lzOiEwLHZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9fSx2aXN1YWxEaW1lbnNpb246MCx2aXN1YWxNaW46bnVsbCx2aXN1YWxNYXg6bnVsbCxjb2xvcjpbXSxjb2xvckFscGhhOm51bGwsY29sb3JTYXR1cmF0aW9uOm51bGwsY29sb3JNYXBwaW5nQnk6ImluZGV4Iix2aXNpYmxlTWluOjEwLGNoaWxkcmVuVmlzaWJsZU1pbjpudWxsLGxldmVsczpbXX0sZX0oTmYpO2Z1bmN0aW9uIEhUKHQpe3ZhciBlPTA7Tyh0LmNoaWxkcmVuLChmdW5jdGlvbih0KXtIVCh0KTt2YXIgbj10LnZhbHVlO0YobikmJihuPW5bMF0pLGUrPW59KSk7dmFyIG49dC52YWx1ZTtGKG4pJiYobj1uWzBdKSwobnVsbD09bnx8aXNOYU4obikpJiYobj1lKSxuPDAmJihuPTApLEYodC52YWx1ZSk/dC52YWx1ZVswXT1uOnQudmFsdWU9bn12YXIgV1Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuZ3JvdXA9bmV3IEJpLHQuYWRkKHRoaXMuZ3JvdXApfXJldHVybiB0LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dC5nZXRNb2RlbCgiYnJlYWRjcnVtYiIpLG89dGhpcy5ncm91cDtpZihvLnJlbW92ZUFsbCgpLHIuZ2V0KCJzaG93IikmJm4pe3ZhciBhPXIuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLHM9YS5nZXRNb2RlbCgidGV4dFN0eWxlIiksbD17cG9zOntsZWZ0OnIuZ2V0KCJsZWZ0IikscmlnaHQ6ci5nZXQoInJpZ2h0IiksdG9wOnIuZ2V0KCJ0b3AiKSxib3R0b206ci5nZXQoImJvdHRvbSIpfSxib3g6e3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0sZW1wdHlJdGVtV2lkdGg6ci5nZXQoImVtcHR5SXRlbVdpZHRoIiksdG90YWxXaWR0aDowLHJlbmRlckxpc3Q6W119O3RoaXMuX3ByZXBhcmUobixsLHMpLHRoaXMuX3JlbmRlckNvbnRlbnQodCxsLGEscyxpKSxLYyhvLGwucG9zLGwuYm94KX19LHQucHJvdG90eXBlLl9wcmVwYXJlPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9dDtpO2k9aS5wYXJlbnROb2RlKXt2YXIgcj1rcihpLmdldE1vZGVsKCkuZ2V0KCJuYW1lIiksIiIpLG89bi5nZXRUZXh0UmVjdChyKSxhPU1hdGgubWF4KG8ud2lkdGgrMTYsZS5lbXB0eUl0ZW1XaWR0aCk7ZS50b3RhbFdpZHRoKz1hKzgsZS5yZW5kZXJMaXN0LnB1c2goe25vZGU6aSx0ZXh0OnIsd2lkdGg6YX0pfX0sdC5wcm90b3R5cGUuX3JlbmRlckNvbnRlbnQ9ZnVuY3Rpb24odCxlLG4saSxyKXtmb3IodmFyIG8sYSxzLGwsdSxoLGMscCxkLGY9MCxnPWUuZW1wdHlJdGVtV2lkdGgseT10LmdldChbImJyZWFkY3J1bWIiLCJoZWlnaHQiXSksdj0obz1lLnBvcyxhPWUuYm94LGw9YS53aWR0aCx1PWEuaGVpZ2h0LGg9cWkoby5sZWZ0LGwpLGM9cWkoby50b3AsdSkscD1xaShvLnJpZ2h0LGwpLGQ9cWkoby5ib3R0b20sdSksKGlzTmFOKGgpfHxpc05hTihwYXJzZUZsb2F0KG8ubGVmdCkpKSYmKGg9MCksKGlzTmFOKHApfHxpc05hTihwYXJzZUZsb2F0KG8ucmlnaHQpKSkmJihwPWwpLChpc05hTihjKXx8aXNOYU4ocGFyc2VGbG9hdChvLnRvcCkpKSYmKGM9MCksKGlzTmFOKGQpfHxpc05hTihwYXJzZUZsb2F0KG8uYm90dG9tKSkpJiYoZD11KSxzPU9jKHN8fDApLHt3aWR0aDpNYXRoLm1heChwLWgtc1sxXS1zWzNdLDApLGhlaWdodDpNYXRoLm1heChkLWMtc1swXS1zWzJdLDApfSksbT1lLnRvdGFsV2lkdGgsXz1lLnJlbmRlckxpc3QseD1fLmxlbmd0aC0xO3g+PTA7eC0tKXt2YXIgYj1fW3hdLHc9Yi5ub2RlLFM9Yi53aWR0aCxNPWIudGV4dDttPnYud2lkdGgmJihtLT1TLWcsUz1nLE09bnVsbCk7dmFyIEk9bmV3IGN1KHtzaGFwZTp7cG9pbnRzOlVUKGYsMCxTLHkseD09PV8ubGVuZ3RoLTEsMD09PXgpfSxzdHlsZTpDKG4uZ2V0SXRlbVN0eWxlKCkse2xpbmVKb2luOiJiZXZlbCJ9KSx0ZXh0Q29udGVudDpuZXcgZnMoe3N0eWxlOnt0ZXh0Ok0sZmlsbDppLmdldFRleHRDb2xvcigpLGZvbnQ6aS5nZXRGb250KCl9fSksdGV4dENvbmZpZzp7cG9zaXRpb246Imluc2lkZSJ9LHoyOjFlNSxvbmNsaWNrOkcocix3KX0pO0kuZGlzYWJsZUxhYmVsQW5pbWF0aW9uPSEwLHRoaXMuZ3JvdXAuYWRkKEkpLFhUKEksdCx3KSxmKz1TKzh9fSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSx0fSgpO2Z1bmN0aW9uIFVUKHQsZSxuLGkscixvKXt2YXIgYT1bW3I/dDp0LTUsZV0sW3QrbixlXSxbdCtuLGUraV0sW3I/dDp0LTUsZStpXV07cmV0dXJuIW8mJmEuc3BsaWNlKDIsMCxbdCtuKzUsZStpLzJdKSwhciYmYS5wdXNoKFt0LGUraS8yXSksYX1mdW5jdGlvbiBYVCh0LGUsbil7U3ModCkuZXZlbnREYXRhPXtjb21wb25lbnRUeXBlOiJzZXJpZXMiLGNvbXBvbmVudFN1YlR5cGU6InRyZWVtYXAiLGNvbXBvbmVudEluZGV4OmUuY29tcG9uZW50SW5kZXgsc2VyaWVzSW5kZXg6ZS5zZXJpZXNJbmRleCxzZXJpZXNOYW1lOmUubmFtZSxzZXJpZXNUeXBlOiJ0cmVlbWFwIixzZWxmVHlwZToiYnJlYWRjcnVtYiIsbm9kZURhdGE6e2RhdGFJbmRleDpuJiZuLmRhdGFJbmRleCxuYW1lOm4mJm4ubmFtZX0sdHJlZVBhdGhJbmZvOm4mJk9UKG4sZSl9fXZhciBZVD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9zdG9yYWdlPVtdLHRoaXMuX2VsRXhpc3RzTWFwPXt9fXJldHVybiB0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlLG4saSxyKXtyZXR1cm4hdGhpcy5fZWxFeGlzdHNNYXBbdC5pZF0mJih0aGlzLl9lbEV4aXN0c01hcFt0LmlkXT0hMCx0aGlzLl9zdG9yYWdlLnB1c2goe2VsOnQsdGFyZ2V0OmUsZHVyYXRpb246bixkZWxheTppLGVhc2luZzpyfSksITApfSx0LnByb3RvdHlwZS5maW5pc2hlZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZmluaXNoZWRDYWxsYmFjaz10LHRoaXN9LHQucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMsZT10aGlzLl9zdG9yYWdlLmxlbmd0aCxuPWZ1bmN0aW9uKCl7LS1lPD0wJiYodC5fc3RvcmFnZS5sZW5ndGg9MCx0Ll9lbEV4aXN0c01hcD17fSx0Ll9maW5pc2hlZENhbGxiYWNrJiZ0Ll9maW5pc2hlZENhbGxiYWNrKCkpfSxpPTAscj10aGlzLl9zdG9yYWdlLmxlbmd0aDtpPHI7aSsrKXt2YXIgbz10aGlzLl9zdG9yYWdlW2ldO28uZWwuYW5pbWF0ZVRvKG8udGFyZ2V0LHtkdXJhdGlvbjpvLmR1cmF0aW9uLGRlbGF5Om8uZGVsYXksZWFzaW5nOm8uZWFzaW5nLHNldFRvRmluYWw6ITAsZG9uZTpuLGFib3J0ZWQ6bn0pfXJldHVybiB0aGlzfSx0fSgpO3ZhciBaVD1CaSxqVD1jcyxxVD0ibGFiZWwiLEtUPSJ1cHBlckxhYmVsIiwkVD10byhbWyJmaWxsIiwiY29sb3IiXSxbInN0cm9rZSIsInN0cm9rZUNvbG9yIl0sWyJsaW5lV2lkdGgiLCJzdHJva2VXaWR0aCJdLFsic2hhZG93Qmx1ciJdLFsic2hhZG93T2Zmc2V0WCJdLFsic2hhZG93T2Zmc2V0WSJdLFsic2hhZG93Q29sb3IiXV0pLEpUPWZ1bmN0aW9uKHQpe3ZhciBlPSRUKHQpO3JldHVybiBlLnN0cm9rZT1lLmZpbGw9ZS5saW5lV2lkdGg9bnVsbCxlfSxRVD1ScigpLHRDPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5fc3RhdGU9InJlYWR5IixuLl9zdG9yYWdlPXtub2RlR3JvdXA6W10sYmFja2dyb3VuZDpbXSxjb250ZW50OltdfSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe2lmKCEoQShlLmZpbmRDb21wb25lbnRzKHttYWluVHlwZToic2VyaWVzIixzdWJUeXBlOiJ0cmVlbWFwIixxdWVyeTppfSksdCk8MCkpe3RoaXMuc2VyaWVzTW9kZWw9dCx0aGlzLmFwaT1uLHRoaXMuZWNNb2RlbD1lO3ZhciByPWtUKGksWyJ0cmVlbWFwWm9vbVRvTm9kZSIsInRyZWVtYXBSb290VG9Ob2RlIl0sdCksbz1pJiZpLnR5cGUsYT10LmxheW91dEluZm8scz0hdGhpcy5fb2xkVHJlZSxsPXRoaXMuX3N0b3JhZ2UsdT0idHJlZW1hcFJvb3RUb05vZGUiPT09byYmciYmbD97cm9vdE5vZGVHcm91cDpsLm5vZGVHcm91cFtyLm5vZGUuZ2V0UmF3SW5kZXgoKV0sZGlyZWN0aW9uOmkuZGlyZWN0aW9ufTpudWxsLGg9dGhpcy5fZ2l2ZUNvbnRhaW5lckdyb3VwKGEpLGM9dC5nZXQoImFuaW1hdGlvbiIpLHA9dGhpcy5fZG9SZW5kZXIoaCx0LHUpOyFjfHxzfHxvJiYidHJlZW1hcFpvb21Ub05vZGUiIT09byYmInRyZWVtYXBSb290VG9Ob2RlIiE9PW8/cC5yZW5kZXJGaW5hbGx5KCk6dGhpcy5fZG9BbmltYXRpb24oaCxwLHQsdSksdGhpcy5fcmVzZXRDb250cm9sbGVyKG4pLHRoaXMuX3JlbmRlckJyZWFkY3J1bWIodCxuLHIpfX0sZS5wcm90b3R5cGUuX2dpdmVDb250YWluZXJHcm91cD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jb250YWluZXJHcm91cDtyZXR1cm4gZXx8KGU9dGhpcy5fY29udGFpbmVyR3JvdXA9bmV3IFpULHRoaXMuX2luaXRFdmVudHMoZSksdGhpcy5ncm91cC5hZGQoZSkpLGUueD10LngsZS55PXQueSxlfSxlLnByb3RvdHlwZS5fZG9SZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPWUuZ2V0RGF0YSgpLnRyZWUscj10aGlzLl9vbGRUcmVlLG89e25vZGVHcm91cDpbXSxiYWNrZ3JvdW5kOltdLGNvbnRlbnQ6W119LGE9e25vZGVHcm91cDpbXSxiYWNrZ3JvdW5kOltdLGNvbnRlbnQ6W119LHM9dGhpcy5fc3RvcmFnZSxsPVtdO2Z1bmN0aW9uIHUodCxpLHIsdSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyxsLHUpe2lmKCFhKXJldHVybjt2YXIgaD1hLmdldExheW91dCgpLGM9dC5nZXREYXRhKCkscD1hLmdldE1vZGVsKCk7aWYoYy5zZXRJdGVtR3JhcGhpY0VsKGEuZGF0YUluZGV4LG51bGwpLCFofHwhaC5pc0luVmlldylyZXR1cm47dmFyIGQ9aC53aWR0aCxmPWguaGVpZ2h0LGc9aC5ib3JkZXJXaWR0aCx5PWguaW52aXNpYmxlLHY9YS5nZXRSYXdJbmRleCgpLG09cyYmcy5nZXRSYXdJbmRleCgpLF89YS52aWV3Q2hpbGRyZW4seD1oLnVwcGVySGVpZ2h0LGI9XyYmXy5sZW5ndGgsdz1wLmdldE1vZGVsKCJpdGVtU3R5bGUiKSxTPXAuZ2V0TW9kZWwoWyJlbXBoYXNpcyIsIml0ZW1TdHlsZSJdKSxNPXAuZ2V0TW9kZWwoWyJibHVyIiwiaXRlbVN0eWxlIl0pLEk9cC5nZXRNb2RlbChbInNlbGVjdCIsIml0ZW1TdHlsZSJdKSxDPXcuZ2V0KCJib3JkZXJSYWRpdXMiKXx8MCxEPUIoIm5vZGVHcm91cCIsWlQpO2lmKCFEKXJldHVybjtpZihsLmFkZChEKSxELng9aC54fHwwLEQueT1oLnl8fDAsRC5tYXJrUmVkcmF3KCksUVQoRCkubm9kZVdpZHRoPWQsUVQoRCkubm9kZUhlaWdodD1mLGguaXNBYm92ZVZpZXdSb290KXJldHVybiBEO3ZhciBBPUIoImJhY2tncm91bmQiLGpULHUsMjApO0EmJlIoRCxBLGImJmgudXBwZXJMYWJlbEhlaWdodCk7dmFyIGs9cC5nZXQoWyJlbXBoYXNpcyIsImZvY3VzIl0pLEw9cC5nZXQoWyJlbXBoYXNpcyIsImJsdXJTY29wZSJdKSxQPSJhbmNlc3RvciI9PT1rP2EuZ2V0QW5jZXN0b3JzSW5kaWNlcygpOiJkZXNjZW5kYW50Ij09PWs/YS5nZXREZXNjZW5kYW50SW5kaWNlcygpOms7aWYoYiltbChEKSYmdmwoRCwhMSksQSYmKHZsKEEsITApLGMuc2V0SXRlbUdyYXBoaWNFbChhLmRhdGFJbmRleCxBKSxkbChBLFAsTCkpO2Vsc2V7dmFyIE89QigiY29udGVudCIsalQsdSwzMCk7TyYmTihELE8pLEEuZGlzYWJsZU1vcnBoaW5nPSEwLEEmJm1sKEEpJiZ2bChBLCExKSx2bChELCEwKSxjLnNldEl0ZW1HcmFwaGljRWwoYS5kYXRhSW5kZXgsRCksZGwoRCxQLEwpfXJldHVybiBEO2Z1bmN0aW9uIFIoZSxuLGkpe3ZhciByPVNzKG4pO2lmKHIuZGF0YUluZGV4PWEuZGF0YUluZGV4LHIuc2VyaWVzSW5kZXg9dC5zZXJpZXNJbmRleCxuLnNldFNoYXBlKHt4OjAseTowLHdpZHRoOmQsaGVpZ2h0OmYscjpDfSkseSl6KG4pO2Vsc2V7bi5pbnZpc2libGU9ITE7dmFyIG89YS5nZXRWaXN1YWwoInN0eWxlIikscz1vLnN0cm9rZSxsPUpUKHcpO2wuZmlsbD1zO3ZhciB1PSRUKFMpO3UuZmlsbD1TLmdldCgiYm9yZGVyQ29sb3IiKTt2YXIgaD0kVChNKTtoLmZpbGw9TS5nZXQoImJvcmRlckNvbG9yIik7dmFyIGM9JFQoSSk7aWYoYy5maWxsPUkuZ2V0KCJib3JkZXJDb2xvciIpLGkpe3ZhciBwPWQtMipnO0UobixzLG8ub3BhY2l0eSx7eDpnLHk6MCx3aWR0aDpwLGhlaWdodDp4fSl9ZWxzZSBuLnJlbW92ZVRleHRDb250ZW50KCk7bi5zZXRTdHlsZShsKSxuLmVuc3VyZVN0YXRlKCJlbXBoYXNpcyIpLnN0eWxlPXUsbi5lbnN1cmVTdGF0ZSgiYmx1ciIpLnN0eWxlPWgsbi5lbnN1cmVTdGF0ZSgic2VsZWN0Iikuc3R5bGU9YyxLcyhuKX1lLmFkZChuKX1mdW5jdGlvbiBOKGUsbil7dmFyIGk9U3Mobik7aS5kYXRhSW5kZXg9YS5kYXRhSW5kZXgsaS5zZXJpZXNJbmRleD10LnNlcmllc0luZGV4O3ZhciByPU1hdGgubWF4KGQtMipnLDApLG89TWF0aC5tYXgoZi0yKmcsMCk7aWYobi5jdWxsaW5nPSEwLG4uc2V0U2hhcGUoe3g6Zyx5Omcsd2lkdGg6cixoZWlnaHQ6byxyOkN9KSx5KXoobik7ZWxzZXtuLmludmlzaWJsZT0hMTt2YXIgcz1hLmdldFZpc3VhbCgic3R5bGUiKSxsPXMuZmlsbCx1PUpUKHcpO3UuZmlsbD1sLHUuZGVjYWw9cy5kZWNhbDt2YXIgaD0kVChTKSxjPSRUKE0pLHA9JFQoSSk7RShuLGwscy5vcGFjaXR5LG51bGwpLG4uc2V0U3R5bGUodSksbi5lbnN1cmVTdGF0ZSgiZW1waGFzaXMiKS5zdHlsZT1oLG4uZW5zdXJlU3RhdGUoImJsdXIiKS5zdHlsZT1jLG4uZW5zdXJlU3RhdGUoInNlbGVjdCIpLnN0eWxlPXAsS3Mobil9ZS5hZGQobil9ZnVuY3Rpb24geih0KXshdC5pbnZpc2libGUmJm8ucHVzaCh0KX1mdW5jdGlvbiBFKGUsbixpLHIpe3ZhciBvPXAuZ2V0TW9kZWwocj9LVDpxVCkscz1rcihwLmdldCgibmFtZSIpLG51bGwpLGw9by5nZXRTaGFsbG93KCJzaG93Iik7eGgoZSxiaChwLHI/S1Q6cVQpLHtkZWZhdWx0VGV4dDpsP3M6bnVsbCxpbmhlcml0Q29sb3I6bixkZWZhdWx0T3BhY2l0eTppLGxhYmVsRmV0Y2hlcjp0LGxhYmVsRGF0YUluZGV4OmEuZGF0YUluZGV4fSk7dmFyIHU9ZS5nZXRUZXh0Q29udGVudCgpO2lmKHUpe3ZhciBjPXUuc3R5bGUsZD1ydChjLnBhZGRpbmd8fDApO3ImJihlLnNldFRleHRDb25maWcoe2xheW91dFJlY3Q6cn0pLHUuZGlzYWJsZUxhYmVsTGF5b3V0PSEwKSx1LmJlZm9yZVVwZGF0ZT1mdW5jdGlvbigpe3ZhciB0PU1hdGgubWF4KChyP3Iud2lkdGg6ZS5zaGFwZS53aWR0aCktZFsxXS1kWzNdLDApLG49TWF0aC5tYXgoKHI/ci5oZWlnaHQ6ZS5zaGFwZS5oZWlnaHQpLWRbMF0tZFsyXSwwKTtjLndpZHRoPT09dCYmYy5oZWlnaHQ9PT1ufHx1LnNldFN0eWxlKHt3aWR0aDp0LGhlaWdodDpufSl9LGMudHJ1bmNhdGVNaW5DaGFyPTIsYy5saW5lT3ZlcmZsb3c9InRydW5jYXRlIixWKGMscixoKTt2YXIgZj11LmdldFN0YXRlKCJlbXBoYXNpcyIpO1YoZj9mLnN0eWxlOm51bGwscixoKX19ZnVuY3Rpb24gVihlLG4saSl7dmFyIHI9ZT9lLnRleHQ6bnVsbDtpZighbiYmaS5pc0xlYWZSb290JiZudWxsIT1yKXt2YXIgbz10LmdldCgiZHJpbGxEb3duSWNvbiIsITApO2UudGV4dD1vP28rIiAiK3I6cn19ZnVuY3Rpb24gQih0LGksbyxhKXt2YXIgcz1udWxsIT1tJiZuW3RdW21dLGw9clt0XTtyZXR1cm4gcz8oblt0XVttXT1udWxsLEcobCxzKSk6eXx8KChzPW5ldyBpKWluc3RhbmNlb2YgVG8mJihzLnoyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIDEwMCp0K2V9KG8sYSkpLEYobCxzKSksZVt0XVt2XT1zfWZ1bmN0aW9uIEcodCxlKXt2YXIgbj10W3ZdPXt9O2UgaW5zdGFuY2VvZiBaVD8obi5vbGRYPWUueCxuLm9sZFk9ZS55KTpuLm9sZFNoYXBlPVQoe30sZS5zaGFwZSl9ZnVuY3Rpb24gRih0LGUpe3ZhciBuPXRbdl09e30sbz1hLnBhcmVudE5vZGUscz1lIGluc3RhbmNlb2YgQmk7aWYobyYmKCFpfHwiZHJpbGxEb3duIj09PWkuZGlyZWN0aW9uKSl7dmFyIGw9MCx1PTAsaD1yLmJhY2tncm91bmRbby5nZXRSYXdJbmRleCgpXTshaSYmaCYmaC5vbGRTaGFwZSYmKGw9aC5vbGRTaGFwZS53aWR0aCx1PWgub2xkU2hhcGUuaGVpZ2h0KSxzPyhuLm9sZFg9MCxuLm9sZFk9dSk6bi5vbGRTaGFwZT17eDpsLHk6dSx3aWR0aDowLGhlaWdodDowfX1uLmZhZGVpbj0hc319KGUsYSxzLG4sbyxsLHQsaSxyLHUpfSFmdW5jdGlvbiB0KGUsbixpLHIsbyl7cj8obj1lLE8oZSwoZnVuY3Rpb24odCxlKXshdC5pc1JlbW92ZWQoKSYmcyhlLGUpfSkpKTpuZXcgQm0obixlLGEsYSkuYWRkKHMpLnVwZGF0ZShzKS5yZW1vdmUoRyhzLG51bGwpKS5leGVjdXRlKCk7ZnVuY3Rpb24gYSh0KXtyZXR1cm4gdC5nZXRJZCgpfWZ1bmN0aW9uIHMoYSxzKXt2YXIgbD1udWxsIT1hP2VbYV06bnVsbCxoPW51bGwhPXM/bltzXTpudWxsLGM9dShsLGgsaSxvKTtjJiZ0KGwmJmwudmlld0NoaWxkcmVufHxbXSxoJiZoLnZpZXdDaGlsZHJlbnx8W10sYyxyLG8rMSl9fShpLnJvb3Q/W2kucm9vdF06W10sciYmci5yb290P1tyLnJvb3RdOltdLHQsaT09PXJ8fCFyLDApO3ZhciBoPWZ1bmN0aW9uKHQpe3ZhciBlPXtub2RlR3JvdXA6W10sYmFja2dyb3VuZDpbXSxjb250ZW50OltdfTtyZXR1cm4gdCYmTyh0LChmdW5jdGlvbih0LG4pe3ZhciBpPWVbbl07Tyh0LChmdW5jdGlvbih0KXt0JiYoaS5wdXNoKHQpLFFUKHQpLndpbGxEZWxldGU9ITApfSkpfSkpLGV9KHMpO3JldHVybiB0aGlzLl9vbGRUcmVlPWksdGhpcy5fc3RvcmFnZT1hLHtsYXN0c0ZvckFuaW1hdGlvbjpvLHdpbGxEZWxldGVFbHM6aCxyZW5kZXJGaW5hbGx5OmZ1bmN0aW9uKCl7TyhoLChmdW5jdGlvbih0KXtPKHQsKGZ1bmN0aW9uKHQpe3QucGFyZW50JiZ0LnBhcmVudC5yZW1vdmUodCl9KSl9KSksTyhsLChmdW5jdGlvbih0KXt0LmludmlzaWJsZT0hMCx0LmRpcnR5KCl9KSl9fX0sZS5wcm90b3R5cGUuX2RvQW5pbWF0aW9uPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPW4uZ2V0KCJhbmltYXRpb25EdXJhdGlvblVwZGF0ZSIpLG89bi5nZXQoImFuaW1hdGlvbkVhc2luZyIpLGE9KEgocik/MDpyKXx8MCxzPShIKG8pP251bGw6byl8fCJjdWJpY091dCIsbD1uZXcgWVQ7TyhlLndpbGxEZWxldGVFbHMsKGZ1bmN0aW9uKHQsZSl7Tyh0LChmdW5jdGlvbih0LG4pe2lmKCF0LmludmlzaWJsZSl7dmFyIHIsbz10LnBhcmVudCx1PVFUKG8pO2lmKGkmJiJkcmlsbERvd24iPT09aS5kaXJlY3Rpb24pcj1vPT09aS5yb290Tm9kZUdyb3VwP3tzaGFwZTp7eDowLHk6MCx3aWR0aDp1Lm5vZGVXaWR0aCxoZWlnaHQ6dS5ub2RlSGVpZ2h0fSxzdHlsZTp7b3BhY2l0eTowfX06e3N0eWxlOntvcGFjaXR5OjB9fTtlbHNle3ZhciBoPTAsYz0wO3Uud2lsbERlbGV0ZXx8KGg9dS5ub2RlV2lkdGgvMixjPXUubm9kZUhlaWdodC8yKSxyPSJub2RlR3JvdXAiPT09ZT97eDpoLHk6YyxzdHlsZTp7b3BhY2l0eTowfX06e3NoYXBlOnt4OmgseTpjLHdpZHRoOjAsaGVpZ2h0OjB9LHN0eWxlOntvcGFjaXR5OjB9fX1yJiZsLmFkZCh0LHIsYSwwLHMpfX0pKX0pKSxPKHRoaXMuX3N0b3JhZ2UsKGZ1bmN0aW9uKHQsbil7Tyh0LChmdW5jdGlvbih0LGkpe3ZhciByPWUubGFzdHNGb3JBbmltYXRpb25bbl1baV0sbz17fTtyJiYodCBpbnN0YW5jZW9mIEJpP251bGwhPXIub2xkWCYmKG8ueD10Lngsby55PXQueSx0Lng9ci5vbGRYLHQueT1yLm9sZFkpOihyLm9sZFNoYXBlJiYoby5zaGFwZT1UKHt9LHQuc2hhcGUpLHQuc2V0U2hhcGUoci5vbGRTaGFwZSkpLHIuZmFkZWluPyh0LnNldFN0eWxlKCJvcGFjaXR5IiwwKSxvLnN0eWxlPXtvcGFjaXR5OjF9KToxIT09dC5zdHlsZS5vcGFjaXR5JiYoby5zdHlsZT17b3BhY2l0eToxfSkpLGwuYWRkKHQsbyxhLDAscykpfSkpfSksdGhpcyksdGhpcy5fc3RhdGU9ImFuaW1hdGluZyIsbC5maW5pc2hlZChCKChmdW5jdGlvbigpe3RoaXMuX3N0YXRlPSJyZWFkeSIsZS5yZW5kZXJGaW5hbGx5KCl9KSx0aGlzKSkuc3RhcnQoKX0sZS5wcm90b3R5cGUuX3Jlc2V0Q29udHJvbGxlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jb250cm9sbGVyO2V8fCgoZT10aGlzLl9jb250cm9sbGVyPW5ldyBtSSh0LmdldFpyKCkpKS5lbmFibGUodGhpcy5zZXJpZXNNb2RlbC5nZXQoInJvYW0iKSksZS5vbigicGFuIixCKHRoaXMuX29uUGFuLHRoaXMpKSxlLm9uKCJ6b29tIixCKHRoaXMuX29uWm9vbSx0aGlzKSkpO3ZhciBuPW5ldyB2aSgwLDAsdC5nZXRXaWR0aCgpLHQuZ2V0SGVpZ2h0KCkpO2Uuc2V0UG9pbnRlckNoZWNrZXIoKGZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gbi5jb250YWluKGUsaSl9KSl9LGUucHJvdG90eXBlLl9jbGVhckNvbnRyb2xsZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jb250cm9sbGVyO3QmJih0LmRpc3Bvc2UoKSx0PW51bGwpfSxlLnByb3RvdHlwZS5fb25QYW49ZnVuY3Rpb24odCl7aWYoImFuaW1hdGluZyIhPT10aGlzLl9zdGF0ZSYmKE1hdGguYWJzKHQuZHgpPjN8fE1hdGguYWJzKHQuZHkpPjMpKXt2YXIgZT10aGlzLnNlcmllc01vZGVsLmdldERhdGEoKS50cmVlLnJvb3Q7aWYoIWUpcmV0dXJuO3ZhciBuPWUuZ2V0TGF5b3V0KCk7aWYoIW4pcmV0dXJuO3RoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJ0cmVlbWFwTW92ZSIsZnJvbTp0aGlzLnVpZCxzZXJpZXNJZDp0aGlzLnNlcmllc01vZGVsLmlkLHJvb3RSZWN0Ont4Om4ueCt0LmR4LHk6bi55K3QuZHksd2lkdGg6bi53aWR0aCxoZWlnaHQ6bi5oZWlnaHR9fSl9fSxlLnByb3RvdHlwZS5fb25ab29tPWZ1bmN0aW9uKHQpe3ZhciBlPXQub3JpZ2luWCxuPXQub3JpZ2luWTtpZigiYW5pbWF0aW5nIiE9PXRoaXMuX3N0YXRlKXt2YXIgaT10aGlzLnNlcmllc01vZGVsLmdldERhdGEoKS50cmVlLnJvb3Q7aWYoIWkpcmV0dXJuO3ZhciByPWkuZ2V0TGF5b3V0KCk7aWYoIXIpcmV0dXJuO3ZhciBvPW5ldyB2aShyLngsci55LHIud2lkdGgsci5oZWlnaHQpLGE9dGhpcy5zZXJpZXNNb2RlbC5sYXlvdXRJbmZvLHM9WzEsMCwwLDEsMCwwXTtYbihzLHMsWy0oZS09YS54KSwtKG4tPWEueSldKSxabihzLHMsW3Quc2NhbGUsdC5zY2FsZV0pLFhuKHMscyxbZSxuXSksby5hcHBseVRyYW5zZm9ybShzKSx0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToidHJlZW1hcFJlbmRlciIsZnJvbTp0aGlzLnVpZCxzZXJpZXNJZDp0aGlzLnNlcmllc01vZGVsLmlkLHJvb3RSZWN0Ont4Om8ueCx5Om8ueSx3aWR0aDpvLndpZHRoLGhlaWdodDpvLmhlaWdodH19KX19LGUucHJvdG90eXBlLl9pbml0RXZlbnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dC5vbigiY2xpY2siLChmdW5jdGlvbih0KXtpZigicmVhZHkiPT09ZS5fc3RhdGUpe3ZhciBuPWUuc2VyaWVzTW9kZWwuZ2V0KCJub2RlQ2xpY2siLCEwKTtpZihuKXt2YXIgaT1lLmZpbmRUYXJnZXQodC5vZmZzZXRYLHQub2Zmc2V0WSk7aWYoaSl7dmFyIHI9aS5ub2RlO2lmKHIuZ2V0TGF5b3V0KCkuaXNMZWFmUm9vdCllLl9yb290VG9Ob2RlKGkpO2Vsc2UgaWYoInpvb21Ub05vZGUiPT09billLl96b29tVG9Ob2RlKGkpO2Vsc2UgaWYoImxpbmsiPT09bil7dmFyIG89ci5ob3N0VHJlZS5kYXRhLmdldEl0ZW1Nb2RlbChyLmRhdGFJbmRleCksYT1vLmdldCgibGluayIsITApLHM9by5nZXQoInRhcmdldCIsITApfHwiYmxhbmsiO2EmJldjKGEscyl9fX19fSksdGhpcyl9LGUucHJvdG90eXBlLl9yZW5kZXJCcmVhZGNydW1iPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzO258fChuPW51bGwhPXQuZ2V0KCJsZWFmRGVwdGgiLCEwKT97bm9kZTp0LmdldFZpZXdSb290KCl9OnRoaXMuZmluZFRhcmdldChlLmdldFdpZHRoKCkvMixlLmdldEhlaWdodCgpLzIpKXx8KG49e25vZGU6dC5nZXREYXRhKCkudHJlZS5yb290fSksKHRoaXMuX2JyZWFkY3J1bWJ8fCh0aGlzLl9icmVhZGNydW1iPW5ldyBXVCh0aGlzLmdyb3VwKSkpLnJlbmRlcih0LGUsbi5ub2RlLChmdW5jdGlvbihlKXsiYW5pbWF0aW5nIiE9PWkuX3N0YXRlJiYoUFQodC5nZXRWaWV3Um9vdCgpLGUpP2kuX3Jvb3RUb05vZGUoe25vZGU6ZX0pOmkuX3pvb21Ub05vZGUoe25vZGU6ZX0pKX0pKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJDb250cm9sbGVyKCksdGhpcy5fY29udGFpbmVyR3JvdXAmJnRoaXMuX2NvbnRhaW5lckdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX3N0b3JhZ2U9e25vZGVHcm91cDpbXSxiYWNrZ3JvdW5kOltdLGNvbnRlbnQ6W119LHRoaXMuX3N0YXRlPSJyZWFkeSIsdGhpcy5fYnJlYWRjcnVtYiYmdGhpcy5fYnJlYWRjcnVtYi5yZW1vdmUoKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFyQ29udHJvbGxlcigpfSxlLnByb3RvdHlwZS5fem9vbVRvTm9kZT1mdW5jdGlvbih0KXt0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToidHJlZW1hcFpvb21Ub05vZGUiLGZyb206dGhpcy51aWQsc2VyaWVzSWQ6dGhpcy5zZXJpZXNNb2RlbC5pZCx0YXJnZXROb2RlOnQubm9kZX0pfSxlLnByb3RvdHlwZS5fcm9vdFRvTm9kZT1mdW5jdGlvbih0KXt0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToidHJlZW1hcFJvb3RUb05vZGUiLGZyb206dGhpcy51aWQsc2VyaWVzSWQ6dGhpcy5zZXJpZXNNb2RlbC5pZCx0YXJnZXROb2RlOnQubm9kZX0pfSxlLnByb3RvdHlwZS5maW5kVGFyZ2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIHRoaXMuc2VyaWVzTW9kZWwuZ2V0Vmlld1Jvb3QoKS5lYWNoTm9kZSh7YXR0cjoidmlld0NoaWxkcmVuIixvcmRlcjoicHJlb3JkZXIifSwoZnVuY3Rpb24oaSl7dmFyIHI9dGhpcy5fc3RvcmFnZS5iYWNrZ3JvdW5kW2kuZ2V0UmF3SW5kZXgoKV07aWYocil7dmFyIG89ci50cmFuc2Zvcm1Db29yZFRvTG9jYWwodCxlKSxhPXIuc2hhcGU7aWYoIShhLng8PW9bMF0mJm9bMF08PWEueCthLndpZHRoJiZhLnk8PW9bMV0mJm9bMV08PWEueSthLmhlaWdodCkpcmV0dXJuITE7bj17bm9kZTppLG9mZnNldFg6b1swXSxvZmZzZXRZOm9bMV19fX0pLHRoaXMpLG59LGUudHlwZT0idHJlZW1hcCIsZX0oWmYpO3ZhciBlQz1PLG5DPVksaUM9LTEsckM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPWUubWFwcGluZ01ldGhvZCxpPWUudHlwZSxyPXRoaXMub3B0aW9uPVMoZSk7dGhpcy50eXBlPWksdGhpcy5tYXBwaW5nTWV0aG9kPW4sdGhpcy5fbm9ybWFsaXplRGF0YT1mQ1tuXTt2YXIgbz10LnZpc3VhbEhhbmRsZXJzW2ldO3RoaXMuYXBwbHlWaXN1YWw9by5hcHBseVZpc3VhbCx0aGlzLmdldENvbG9yTWFwcGVyPW8uZ2V0Q29sb3JNYXBwZXIsdGhpcy5fbm9ybWFsaXplZFRvVmlzdWFsPW8uX25vcm1hbGl6ZWRUb1Zpc3VhbFtuXSwicGllY2V3aXNlIj09PW4/KG9DKHIpLGZ1bmN0aW9uKHQpe3ZhciBlPXQucGllY2VMaXN0O3QuaGFzU3BlY2lhbFZpc3VhbD0hMSxPKGUsKGZ1bmN0aW9uKGUsbil7ZS5vcmlnaW5JbmRleD1uLG51bGwhPWUudmlzdWFsJiYodC5oYXNTcGVjaWFsVmlzdWFsPSEwKX0pKX0ocikpOiJjYXRlZ29yeSI9PT1uP3IuY2F0ZWdvcmllcz9mdW5jdGlvbih0KXt2YXIgZT10LmNhdGVnb3JpZXMsbj10LmNhdGVnb3J5TWFwPXt9LGk9dC52aXN1YWw7aWYoZUMoZSwoZnVuY3Rpb24odCxlKXtuW3RdPWV9KSksIUYoaSkpe3ZhciByPVtdO1koaSk/ZUMoaSwoZnVuY3Rpb24odCxlKXt2YXIgaT1uW2VdO3JbbnVsbCE9aT9pOmlDXT10fSkpOnJbLTFdPWksaT1kQyh0LHIpfWZvcih2YXIgbz1lLmxlbmd0aC0xO28+PTA7by0tKW51bGw9PWlbb10mJihkZWxldGUgbltlW29dXSxlLnBvcCgpKX0ocik6b0MociwhMCk6KG90KCJsaW5lYXIiIT09bnx8ci5kYXRhRXh0ZW50KSxvQyhyKSl9cmV0dXJuIHQucHJvdG90eXBlLm1hcFZhbHVlVG9WaXN1YWw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbm9ybWFsaXplRGF0YSh0KTtyZXR1cm4gdGhpcy5fbm9ybWFsaXplZFRvVmlzdWFsKGUsdCl9LHQucHJvdG90eXBlLmdldE5vcm1hbGl6ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gQih0aGlzLl9ub3JtYWxpemVEYXRhLHRoaXMpfSx0Lmxpc3RWaXN1YWxUeXBlcz1mdW5jdGlvbigpe3JldHVybiBWKHQudmlzdWFsSGFuZGxlcnMpfSx0LmlzVmFsaWRUeXBlPWZ1bmN0aW9uKGUpe3JldHVybiB0LnZpc3VhbEhhbmRsZXJzLmhhc093blByb3BlcnR5KGUpfSx0LmVhY2hWaXN1YWw9ZnVuY3Rpb24odCxlLG4pe1kodCk/Tyh0LGUsbik6ZS5jYWxsKG4sdCl9LHQubWFwVmlzdWFsPWZ1bmN0aW9uKGUsbixpKXt2YXIgcixvPUYoZSk/W106WShlKT97fToocj0hMCxudWxsKTtyZXR1cm4gdC5lYWNoVmlzdWFsKGUsKGZ1bmN0aW9uKHQsZSl7dmFyIGE9bi5jYWxsKGksdCxlKTtyP289YTpvW2VdPWF9KSksb30sdC5yZXRyaWV2ZVZpc3VhbHM9ZnVuY3Rpb24oZSl7dmFyIG4saT17fTtyZXR1cm4gZSYmZUModC52aXN1YWxIYW5kbGVycywoZnVuY3Rpb24odCxyKXtlLmhhc093blByb3BlcnR5KHIpJiYoaVtyXT1lW3JdLG49ITApfSkpLG4/aTpudWxsfSx0LnByZXBhcmVWaXN1YWxUeXBlcz1mdW5jdGlvbih0KXtpZihGKHQpKXQ9dC5zbGljZSgpO2Vsc2V7aWYoIW5DKHQpKXJldHVybltdO3ZhciBlPVtdO2VDKHQsKGZ1bmN0aW9uKHQsbil7ZS5wdXNoKG4pfSkpLHQ9ZX1yZXR1cm4gdC5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiJjb2xvciI9PT1lJiYiY29sb3IiIT09dCYmMD09PXQuaW5kZXhPZigiY29sb3IiKT8xOi0xfSkpLHR9LHQuZGVwZW5kc09uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuImNvbG9yIj09PWU/ISghdHx8MCE9PXQuaW5kZXhPZihlKSk6dD09PWV9LHQuZmluZFBpZWNlSW5kZXg9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaSxyPTEvMCxvPTAsYT1lLmxlbmd0aDtvPGE7bysrKXt2YXIgcz1lW29dLnZhbHVlO2lmKG51bGwhPXMpe2lmKHM9PT10fHwic3RyaW5nIj09dHlwZW9mIHMmJnM9PT10KyIiKXJldHVybiBvO24mJmMocyxvKX19Zm9yKG89MCxhPWUubGVuZ3RoO288YTtvKyspe3ZhciBsPWVbb10sdT1sLmludGVydmFsLGg9bC5jbG9zZTtpZih1KXtpZih1WzBdPT09LTEvMCl7aWYoZ0MoaFsxXSx0LHVbMV0pKXJldHVybiBvfWVsc2UgaWYodVsxXT09PTEvMCl7aWYoZ0MoaFswXSx1WzBdLHQpKXJldHVybiBvfWVsc2UgaWYoZ0MoaFswXSx1WzBdLHQpJiZnQyhoWzFdLHQsdVsxXSkpcmV0dXJuIG87biYmYyh1WzBdLG8pLG4mJmModVsxXSxvKX19aWYobilyZXR1cm4gdD09PTEvMD9lLmxlbmd0aC0xOnQ9PT0tMS8wPzA6aTtmdW5jdGlvbiBjKGUsbil7dmFyIG89TWF0aC5hYnMoZS10KTtvPHImJihyPW8saT1uKX19LHQudmlzdWFsSGFuZGxlcnM9e2NvbG9yOnthcHBseVZpc3VhbDpsQygiY29sb3IiKSxnZXRDb2xvck1hcHBlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uO3JldHVybiBCKCJjYXRlZ29yeSI9PT10Lm1hcHBpbmdNZXRob2Q/ZnVuY3Rpb24odCxlKXtyZXR1cm4hZSYmKHQ9dGhpcy5fbm9ybWFsaXplRGF0YSh0KSksdUMuY2FsbCh0aGlzLHQpfTpmdW5jdGlvbihlLG4saSl7dmFyIHI9ISFpO3JldHVybiFuJiYoZT10aGlzLl9ub3JtYWxpemVEYXRhKGUpKSxpPVplKGUsdC5wYXJzZWRWaXN1YWwsaSkscj9pOlFlKGksInJnYmEiKX0sdGhpcyl9LF9ub3JtYWxpemVkVG9WaXN1YWw6e2xpbmVhcjpmdW5jdGlvbih0KXtyZXR1cm4gUWUoWmUodCx0aGlzLm9wdGlvbi5wYXJzZWRWaXN1YWwpLCJyZ2JhIil9LGNhdGVnb3J5OnVDLHBpZWNld2lzZTpmdW5jdGlvbih0LGUpe3ZhciBuPXBDLmNhbGwodGhpcyxlKTtyZXR1cm4gbnVsbD09biYmKG49UWUoWmUodCx0aGlzLm9wdGlvbi5wYXJzZWRWaXN1YWwpLCJyZ2JhIikpLG59LGZpeGVkOmhDfX0sY29sb3JIdWU6YUMoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuICRlKHQsZSl9KSksY29sb3JTYXR1cmF0aW9uOmFDKChmdW5jdGlvbih0LGUpe3JldHVybiAkZSh0LG51bGwsZSl9KSksY29sb3JMaWdodG5lc3M6YUMoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuICRlKHQsbnVsbCxudWxsLGUpfSkpLGNvbG9yQWxwaGE6YUMoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIEplKHQsZSl9KSksZGVjYWw6e2FwcGx5VmlzdWFsOmxDKCJkZWNhbCIpLF9ub3JtYWxpemVkVG9WaXN1YWw6e2xpbmVhcjpudWxsLGNhdGVnb3J5OnVDLHBpZWNld2lzZTpudWxsLGZpeGVkOm51bGx9fSxvcGFjaXR5OnthcHBseVZpc3VhbDpsQygib3BhY2l0eSIpLF9ub3JtYWxpemVkVG9WaXN1YWw6Y0MoWzAsMV0pfSxsaWZ0Wjp7YXBwbHlWaXN1YWw6bEMoImxpZnRaIiksX25vcm1hbGl6ZWRUb1Zpc3VhbDp7bGluZWFyOmhDLGNhdGVnb3J5OmhDLHBpZWNld2lzZTpoQyxmaXhlZDpoQ319LHN5bWJvbDp7YXBwbHlWaXN1YWw6ZnVuY3Rpb24odCxlLG4pe24oInN5bWJvbCIsdGhpcy5tYXBWYWx1ZVRvVmlzdWFsKHQpKX0sX25vcm1hbGl6ZWRUb1Zpc3VhbDp7bGluZWFyOnNDLGNhdGVnb3J5OnVDLHBpZWNld2lzZTpmdW5jdGlvbih0LGUpe3ZhciBuPXBDLmNhbGwodGhpcyxlKTtyZXR1cm4gbnVsbD09biYmKG49c0MuY2FsbCh0aGlzLHQpKSxufSxmaXhlZDpoQ319LHN5bWJvbFNpemU6e2FwcGx5VmlzdWFsOmxDKCJzeW1ib2xTaXplIiksX25vcm1hbGl6ZWRUb1Zpc3VhbDpjQyhbMCwxXSl9fSx0fSgpO2Z1bmN0aW9uIG9DKHQsZSl7dmFyIG49dC52aXN1YWwsaT1bXTtZKG4pP2VDKG4sKGZ1bmN0aW9uKHQpe2kucHVzaCh0KX0pKTpudWxsIT1uJiZpLnB1c2gobik7ZXx8MSE9PWkubGVuZ3RofHx7Y29sb3I6MSxzeW1ib2w6MX0uaGFzT3duUHJvcGVydHkodC50eXBlKXx8KGlbMV09aVswXSksZEModCxpKX1mdW5jdGlvbiBhQyh0KXtyZXR1cm57YXBwbHlWaXN1YWw6ZnVuY3Rpb24oZSxuLGkpe3ZhciByPXRoaXMubWFwVmFsdWVUb1Zpc3VhbChlKTtpKCJjb2xvciIsdChuKCJjb2xvciIpLHIpKX0sX25vcm1hbGl6ZWRUb1Zpc3VhbDpjQyhbMCwxXSl9fWZ1bmN0aW9uIHNDKHQpe3ZhciBlPXRoaXMub3B0aW9uLnZpc3VhbDtyZXR1cm4gZVtNYXRoLnJvdW5kKGppKHQsWzAsMV0sWzAsZS5sZW5ndGgtMV0sITApKV18fHt9fWZ1bmN0aW9uIGxDKHQpe3JldHVybiBmdW5jdGlvbihlLG4saSl7aSh0LHRoaXMubWFwVmFsdWVUb1Zpc3VhbChlKSl9fWZ1bmN0aW9uIHVDKHQpe3ZhciBlPXRoaXMub3B0aW9uLnZpc3VhbDtyZXR1cm4gZVt0aGlzLm9wdGlvbi5sb29wJiZ0IT09aUM/dCVlLmxlbmd0aDp0XX1mdW5jdGlvbiBoQygpe3JldHVybiB0aGlzLm9wdGlvbi52aXN1YWxbMF19ZnVuY3Rpb24gY0ModCl7cmV0dXJue2xpbmVhcjpmdW5jdGlvbihlKXtyZXR1cm4gamkoZSx0LHRoaXMub3B0aW9uLnZpc3VhbCwhMCl9LGNhdGVnb3J5OnVDLHBpZWNld2lzZTpmdW5jdGlvbihlLG4pe3ZhciBpPXBDLmNhbGwodGhpcyxuKTtyZXR1cm4gbnVsbD09aSYmKGk9amkoZSx0LHRoaXMub3B0aW9uLnZpc3VhbCwhMCkpLGl9LGZpeGVkOmhDfX1mdW5jdGlvbiBwQyh0KXt2YXIgZT10aGlzLm9wdGlvbixuPWUucGllY2VMaXN0O2lmKGUuaGFzU3BlY2lhbFZpc3VhbCl7dmFyIGk9bltyQy5maW5kUGllY2VJbmRleCh0LG4pXTtpZihpJiZpLnZpc3VhbClyZXR1cm4gaS52aXN1YWxbdGhpcy50eXBlXX19ZnVuY3Rpb24gZEModCxlKXtyZXR1cm4gdC52aXN1YWw9ZSwiY29sb3IiPT09dC50eXBlJiYodC5wYXJzZWRWaXN1YWw9UihlLChmdW5jdGlvbih0KXtyZXR1cm4gV2UodCl9KSkpLGV9dmFyIGZDPXtsaW5lYXI6ZnVuY3Rpb24odCl7cmV0dXJuIGppKHQsdGhpcy5vcHRpb24uZGF0YUV4dGVudCxbMCwxXSwhMCl9LHBpZWNld2lzZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbi5waWVjZUxpc3Qsbj1yQy5maW5kUGllY2VJbmRleCh0LGUsITApO2lmKG51bGwhPW4pcmV0dXJuIGppKG4sWzAsZS5sZW5ndGgtMV0sWzAsMV0sITApfSxjYXRlZ29yeTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbi5jYXRlZ29yaWVzP3RoaXMub3B0aW9uLmNhdGVnb3J5TWFwW3RdOnQ7cmV0dXJuIG51bGw9PWU/aUM6ZX0sZml4ZWQ6Z3R9O2Z1bmN0aW9uIGdDKHQsZSxuKXtyZXR1cm4gdD9lPD1uOmU8bn12YXIgeUM9UnIoKSx2Qz17c2VyaWVzVHlwZToidHJlZW1hcCIscmVzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCkudHJlZS5yb290O2UuaXNSZW1vdmVkKCl8fG1DKGUse30sdC5nZXRWaWV3Um9vdCgpLmdldEFuY2VzdG9ycygpLHQpfX07ZnVuY3Rpb24gbUModCxlLG4saSl7dmFyIHI9dC5nZXRNb2RlbCgpLG89dC5nZXRMYXlvdXQoKSxhPXQuaG9zdFRyZWUuZGF0YTtpZihvJiYhby5pbnZpc2libGUmJm8uaXNJblZpZXcpe3ZhciBzLGw9ci5nZXRNb2RlbCgiaXRlbVN0eWxlIiksdT1mdW5jdGlvbih0LGUsbil7dmFyIGk9VCh7fSxlKSxyPW4uZGVzaWduYXRlZFZpc3VhbEl0ZW1TdHlsZTtyZXR1cm4gTyhbImNvbG9yIiwiY29sb3JBbHBoYSIsImNvbG9yU2F0dXJhdGlvbiJdLChmdW5jdGlvbihuKXtyW25dPWVbbl07dmFyIG89dC5nZXQobik7cltuXT1udWxsLG51bGwhPW8mJihpW25dPW8pfSkpLGl9KGwsZSxpKSxoPWEuZW5zdXJlVW5pcXVlSXRlbVZpc3VhbCh0LmRhdGFJbmRleCwic3R5bGUiKSxjPWwuZ2V0KCJib3JkZXJDb2xvciIpLHA9bC5nZXQoImJvcmRlckNvbG9yU2F0dXJhdGlvbiIpO251bGwhPXAmJihjPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGwhPWU/JGUoZSxudWxsLG51bGwsdCk6bnVsbH0ocCxzPV9DKHUpKSksaC5zdHJva2U9Yzt2YXIgZD10LnZpZXdDaGlsZHJlbjtpZihkJiZkLmxlbmd0aCl7dmFyIGY9ZnVuY3Rpb24odCxlLG4saSxyLG8pe2lmKCFvfHwhby5sZW5ndGgpcmV0dXJuO3ZhciBhPWJDKGUsImNvbG9yIil8fG51bGwhPXIuY29sb3ImJiJub25lIiE9PXIuY29sb3ImJihiQyhlLCJjb2xvckFscGhhIil8fGJDKGUsImNvbG9yU2F0dXJhdGlvbiIpKTtpZighYSlyZXR1cm47dmFyIHM9ZS5nZXQoInZpc3VhbE1pbiIpLGw9ZS5nZXQoInZpc3VhbE1heCIpLHU9bi5kYXRhRXh0ZW50LnNsaWNlKCk7bnVsbCE9cyYmczx1WzBdJiYodVswXT1zKSxudWxsIT1sJiZsPnVbMV0mJih1WzFdPWwpO3ZhciBoPWUuZ2V0KCJjb2xvck1hcHBpbmdCeSIpLGM9e3R5cGU6YS5uYW1lLGRhdGFFeHRlbnQ6dSx2aXN1YWw6YS5yYW5nZX07ImNvbG9yIiE9PWMudHlwZXx8ImluZGV4IiE9PWgmJiJpZCIhPT1oP2MubWFwcGluZ01ldGhvZD0ibGluZWFyIjooYy5tYXBwaW5nTWV0aG9kPSJjYXRlZ29yeSIsYy5sb29wPSEwKTt2YXIgcD1uZXcgckMoYyk7cmV0dXJuIHlDKHApLmRyQ29sb3JNYXBwaW5nQnk9aCxwfSgwLHIsbywwLHUsZCk7TyhkLChmdW5jdGlvbih0LGUpe2lmKHQuZGVwdGg+PW4ubGVuZ3RofHx0PT09blt0LmRlcHRoXSl7dmFyIG89ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhPVQoe30sZSk7aWYocil7dmFyIHM9ci50eXBlLGw9ImNvbG9yIj09PXMmJnlDKHIpLmRyQ29sb3JNYXBwaW5nQnksdT0iaW5kZXgiPT09bD9pOiJpZCI9PT1sP28ubWFwSWRUb0luZGV4KG4uZ2V0SWQoKSk6bi5nZXRWYWx1ZSh0LmdldCgidmlzdWFsRGltZW5zaW9uIikpO2Fbc109ci5tYXBWYWx1ZVRvVmlzdWFsKHUpfXJldHVybiBhfShyLHUsdCxlLGYsaSk7bUModCxvLG4saSl9fSkpfWVsc2Ugcz1fQyh1KSxoLmZpbGw9c319ZnVuY3Rpb24gX0ModCl7dmFyIGU9eEModCwiY29sb3IiKTtpZihlKXt2YXIgbj14Qyh0LCJjb2xvckFscGhhIiksaT14Qyh0LCJjb2xvclNhdHVyYXRpb24iKTtyZXR1cm4gaSYmKGU9JGUoZSxudWxsLG51bGwsaSkpLG4mJihlPUplKGUsbikpLGV9fWZ1bmN0aW9uIHhDKHQsZSl7dmFyIG49dFtlXTtpZihudWxsIT1uJiYibm9uZSIhPT1uKXJldHVybiBufWZ1bmN0aW9uIGJDKHQsZSl7dmFyIG49dC5nZXQoZSk7cmV0dXJuIEYobikmJm4ubGVuZ3RoP3tuYW1lOmUscmFuZ2U6bn06bnVsbH12YXIgd0M9TWF0aC5tYXgsU0M9TWF0aC5taW4sTUM9dHQsSUM9TyxUQz1bIml0ZW1TdHlsZSIsImJvcmRlcldpZHRoIl0sQ0M9WyJpdGVtU3R5bGUiLCJnYXBXaWR0aCJdLERDPVsidXBwZXJMYWJlbCIsInNob3ciXSxBQz1bInVwcGVyTGFiZWwiLCJoZWlnaHQiXSxrQz17c2VyaWVzVHlwZToidHJlZW1hcCIscmVzZXQ6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bi5nZXRXaWR0aCgpLG89bi5nZXRIZWlnaHQoKSxhPXQub3B0aW9uLHM9cWModC5nZXRCb3hMYXlvdXRQYXJhbXMoKSx7d2lkdGg6bi5nZXRXaWR0aCgpLGhlaWdodDpuLmdldEhlaWdodCgpfSksbD1hLnNpemV8fFtdLHU9cWkoTUMocy53aWR0aCxsWzBdKSxyKSxoPXFpKE1DKHMuaGVpZ2h0LGxbMV0pLG8pLGM9aSYmaS50eXBlLHA9a1QoaSxbInRyZWVtYXBab29tVG9Ob2RlIiwidHJlZW1hcFJvb3RUb05vZGUiXSx0KSxkPSJ0cmVlbWFwUmVuZGVyIj09PWN8fCJ0cmVlbWFwTW92ZSI9PT1jP2kucm9vdFJlY3Q6bnVsbCxmPXQuZ2V0Vmlld1Jvb3QoKSxnPUxUKGYpO2lmKCJ0cmVlbWFwTW92ZSIhPT1jKXt2YXIgeT0idHJlZW1hcFpvb21Ub05vZGUiPT09Yz9mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvLGE9KGV8fHt9KS5ub2RlLHM9W2kscl07aWYoIWF8fGE9PT1uKXJldHVybiBzO3ZhciBsPWkqcix1PWwqdC5vcHRpb24uem9vbVRvTm9kZVJhdGlvO2Zvcig7bz1hLnBhcmVudE5vZGU7KXtmb3IodmFyIGg9MCxjPW8uY2hpbGRyZW4scD0wLGQ9Yy5sZW5ndGg7cDxkO3ArKyloKz1jW3BdLmdldFZhbHVlKCk7dmFyIGY9YS5nZXRWYWx1ZSgpO2lmKDA9PT1mKXJldHVybiBzO3UqPWgvZjt2YXIgZz1vLmdldE1vZGVsKCkseT1nLmdldChUQyk7KHUrPTQqeSp5KygzKnkrTWF0aC5tYXgoeSxOQyhnKSkpKk1hdGgucG93KHUsLjUpKT5pciYmKHU9aXIpLGE9b311PGwmJih1PWwpO3ZhciB2PU1hdGgucG93KHUvbCwuNSk7cmV0dXJuW2kqdixyKnZdfSh0LHAsZix1LGgpOmQ/W2Qud2lkdGgsZC5oZWlnaHRdOlt1LGhdLHY9YS5zb3J0O3YmJiJhc2MiIT09diYmImRlc2MiIT09diYmKHY9ImRlc2MiKTt2YXIgbT17c3F1YXJlUmF0aW86YS5zcXVhcmVSYXRpbyxzb3J0OnYsbGVhZkRlcHRoOmEubGVhZkRlcHRofTtmLmhvc3RUcmVlLmNsZWFyTGF5b3V0cygpO3ZhciBfPXt4OjAseTowLHdpZHRoOnlbMF0saGVpZ2h0OnlbMV0sYXJlYTp5WzBdKnlbMV19O2Yuc2V0TGF5b3V0KF8pLExDKGYsbSwhMSwwKSxfPWYuZ2V0TGF5b3V0KCksSUMoZywoZnVuY3Rpb24odCxlKXt2YXIgbj0oZ1tlKzFdfHxmKS5nZXRWYWx1ZSgpO3Quc2V0TGF5b3V0KFQoe2RhdGFFeHRlbnQ6W24sbl0sYm9yZGVyV2lkdGg6MCx1cHBlckhlaWdodDowfSxfKSl9KSl9dmFyIHg9dC5nZXREYXRhKCkudHJlZS5yb290O3guc2V0TGF5b3V0KGZ1bmN0aW9uKHQsZSxuKXtpZihlKXJldHVybnt4OmUueCx5OmUueX07dmFyIGk9e3g6MCx5OjB9O2lmKCFuKXJldHVybiBpO3ZhciByPW4ubm9kZSxvPXIuZ2V0TGF5b3V0KCk7aWYoIW8pcmV0dXJuIGk7dmFyIGE9W28ud2lkdGgvMixvLmhlaWdodC8yXSxzPXI7Zm9yKDtzOyl7dmFyIGw9cy5nZXRMYXlvdXQoKTthWzBdKz1sLngsYVsxXSs9bC55LHM9cy5wYXJlbnROb2RlfXJldHVybnt4OnQud2lkdGgvMi1hWzBdLHk6dC5oZWlnaHQvMi1hWzFdfX0ocyxkLHApLCEwKSx0LnNldExheW91dEluZm8ocyksUkMoeCxuZXcgdmkoLXMueCwtcy55LHIsbyksZyxmLDApfX07ZnVuY3Rpb24gTEModCxlLG4saSl7dmFyIHIsbztpZighdC5pc1JlbW92ZWQoKSl7dmFyIGE9dC5nZXRMYXlvdXQoKTtyPWEud2lkdGgsbz1hLmhlaWdodDt2YXIgcz10LmdldE1vZGVsKCksbD1zLmdldChUQyksdT1zLmdldChDQykvMixoPU5DKHMpLGM9TWF0aC5tYXgobCxoKSxwPWwtdSxkPWMtdTt0LnNldExheW91dCh7Ym9yZGVyV2lkdGg6bCx1cHBlckhlaWdodDpjLHVwcGVyTGFiZWxIZWlnaHQ6aH0sITApO3ZhciBmPShyPXdDKHItMipwLDApKSoobz13QyhvLXAtZCwwKSksZz1mdW5jdGlvbih0LGUsbixpLHIsbyl7dmFyIGE9dC5jaGlsZHJlbnx8W10scz1pLnNvcnQ7ImFzYyIhPT1zJiYiZGVzYyIhPT1zJiYocz1udWxsKTt2YXIgbD1udWxsIT1pLmxlYWZEZXB0aCYmaS5sZWFmRGVwdGg8PW87aWYociYmIWwpcmV0dXJuIHQudmlld0NoaWxkcmVuPVtdOyFmdW5jdGlvbih0LGUpe2UmJnQuc29ydCgoZnVuY3Rpb24odCxuKXt2YXIgaT0iYXNjIj09PWU/dC5nZXRWYWx1ZSgpLW4uZ2V0VmFsdWUoKTpuLmdldFZhbHVlKCktdC5nZXRWYWx1ZSgpO3JldHVybiAwPT09aT8iYXNjIj09PWU/dC5kYXRhSW5kZXgtbi5kYXRhSW5kZXg6bi5kYXRhSW5kZXgtdC5kYXRhSW5kZXg6aX0pKX0oYT16KGEsKGZ1bmN0aW9uKHQpe3JldHVybiF0LmlzUmVtb3ZlZCgpfSkpLHMpO3ZhciB1PWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9MCxyPTAsbz1lLmxlbmd0aDtyPG87cisrKWkrPWVbcl0uZ2V0VmFsdWUoKTt2YXIgYSxzPXQuZ2V0KCJ2aXN1YWxEaW1lbnNpb24iKTtlJiZlLmxlbmd0aD8idmFsdWUiPT09cyYmbj8oYT1bZVtlLmxlbmd0aC0xXS5nZXRWYWx1ZSgpLGVbMF0uZ2V0VmFsdWUoKV0sImFzYyI9PT1uJiZhLnJldmVyc2UoKSk6KGE9WzEvMCwtMS8wXSxJQyhlLChmdW5jdGlvbih0KXt2YXIgZT10LmdldFZhbHVlKHMpO2U8YVswXSYmKGFbMF09ZSksZT5hWzFdJiYoYVsxXT1lKX0pKSk6YT1bTmFOLE5hTl07cmV0dXJue3N1bTppLGRhdGFFeHRlbnQ6YX19KGUsYSxzKTtpZigwPT09dS5zdW0pcmV0dXJuIHQudmlld0NoaWxkcmVuPVtdO2lmKHUuc3VtPWZ1bmN0aW9uKHQsZSxuLGkscil7aWYoIWkpcmV0dXJuIG47Zm9yKHZhciBvPXQuZ2V0KCJ2aXNpYmxlTWluIiksYT1yLmxlbmd0aCxzPWEsbD1hLTE7bD49MDtsLS0pe3ZhciB1PXJbImFzYyI9PT1pP2EtbC0xOmxdLmdldFZhbHVlKCk7dS9uKmU8byYmKHM9bCxuLT11KX1yZXR1cm4iYXNjIj09PWk/ci5zcGxpY2UoMCxhLXMpOnIuc3BsaWNlKHMsYS1zKSxufShlLG4sdS5zdW0scyxhKSwwPT09dS5zdW0pcmV0dXJuIHQudmlld0NoaWxkcmVuPVtdO2Zvcih2YXIgaD0wLGM9YS5sZW5ndGg7aDxjO2grKyl7dmFyIHA9YVtoXS5nZXRWYWx1ZSgpL3Uuc3VtKm47YVtoXS5zZXRMYXlvdXQoe2FyZWE6cH0pfWwmJihhLmxlbmd0aCYmdC5zZXRMYXlvdXQoe2lzTGVhZlJvb3Q6ITB9LCEwKSxhLmxlbmd0aD0wKTtyZXR1cm4gdC52aWV3Q2hpbGRyZW49YSx0LnNldExheW91dCh7ZGF0YUV4dGVudDp1LmRhdGFFeHRlbnR9LCEwKSxhfSh0LHMsZixlLG4saSk7aWYoZy5sZW5ndGgpe3ZhciB5PXt4OnAseTpkLHdpZHRoOnIsaGVpZ2h0Om99LHY9U0MocixvKSxtPTEvMCxfPVtdO18uYXJlYT0wO2Zvcih2YXIgeD0wLGI9Zy5sZW5ndGg7eDxiOyl7dmFyIHc9Z1t4XTtfLnB1c2godyksXy5hcmVhKz13LmdldExheW91dCgpLmFyZWE7dmFyIFM9UEMoXyx2LGUuc3F1YXJlUmF0aW8pO1M8PW0/KHgrKyxtPVMpOihfLmFyZWEtPV8ucG9wKCkuZ2V0TGF5b3V0KCkuYXJlYSxPQyhfLHYseSx1LCExKSx2PVNDKHkud2lkdGgseS5oZWlnaHQpLF8ubGVuZ3RoPV8uYXJlYT0wLG09MS8wKX1pZihfLmxlbmd0aCYmT0MoXyx2LHksdSwhMCksIW4pe3ZhciBNPXMuZ2V0KCJjaGlsZHJlblZpc2libGVNaW4iKTtudWxsIT1NJiZmPE0mJihuPSEwKX1mb3IoeD0wLGI9Zy5sZW5ndGg7eDxiO3grKylMQyhnW3hdLGUsbixpKzEpfX19ZnVuY3Rpb24gUEModCxlLG4pe2Zvcih2YXIgaT0wLHI9MS8wLG89MCxhPXZvaWQgMCxzPXQubGVuZ3RoO288cztvKyspKGE9dFtvXS5nZXRMYXlvdXQoKS5hcmVhKSYmKGE8ciYmKHI9YSksYT5pJiYoaT1hKSk7dmFyIGw9dC5hcmVhKnQuYXJlYSx1PWUqZSpuO3JldHVybiBsP3dDKHUqaS9sLGwvKHUqcikpOjEvMH1mdW5jdGlvbiBPQyh0LGUsbixpLHIpe3ZhciBvPWU9PT1uLndpZHRoPzA6MSxhPTEtbyxzPVsieCIsInkiXSxsPVsid2lkdGgiLCJoZWlnaHQiXSx1PW5bc1tvXV0saD1lP3QuYXJlYS9lOjA7KHJ8fGg+bltsW2FdXSkmJihoPW5bbFthXV0pO2Zvcih2YXIgYz0wLHA9dC5sZW5ndGg7YzxwO2MrKyl7dmFyIGQ9dFtjXSxmPXt9LGc9aD9kLmdldExheW91dCgpLmFyZWEvaDowLHk9ZltsW2FdXT13QyhoLTIqaSwwKSx2PW5bc1tvXV0rbltsW29dXS11LG09Yz09PXAtMXx8djxnP3Y6ZyxfPWZbbFtvXV09d0MobS0yKmksMCk7ZltzW2FdXT1uW3NbYV1dK1NDKGkseS8yKSxmW3Nbb11dPXUrU0MoaSxfLzIpLHUrPW0sZC5zZXRMYXlvdXQoZiwhMCl9bltzW2FdXSs9aCxuW2xbYV1dLT1ofWZ1bmN0aW9uIFJDKHQsZSxuLGkscil7dmFyIG89dC5nZXRMYXlvdXQoKSxhPW5bcl0scz1hJiZhPT09dDtpZighKGEmJiFzfHxyPT09bi5sZW5ndGgmJnQhPT1pKSl7dC5zZXRMYXlvdXQoe2lzSW5WaWV3OiEwLGludmlzaWJsZTohcyYmIWUuaW50ZXJzZWN0KG8pLGlzQWJvdmVWaWV3Um9vdDpzfSwhMCk7dmFyIGw9bmV3IHZpKGUueC1vLngsZS55LW8ueSxlLndpZHRoLGUuaGVpZ2h0KTtJQyh0LnZpZXdDaGlsZHJlbnx8W10sKGZ1bmN0aW9uKHQpe1JDKHQsbCxuLGkscisxKX0pKX19ZnVuY3Rpb24gTkModCl7cmV0dXJuIHQuZ2V0KERDKT90LmdldChBQyk6MH1mdW5jdGlvbiB6Qyh0KXt2YXIgZT10LmZpbmRDb21wb25lbnRzKHttYWluVHlwZToibGVnZW5kIn0pO2UmJmUubGVuZ3RoJiZ0LmVhY2hTZXJpZXNCeVR5cGUoImdyYXBoIiwoZnVuY3Rpb24odCl7dmFyIG49dC5nZXRDYXRlZ29yaWVzRGF0YSgpLGk9dC5nZXRHcmFwaCgpLmRhdGEscj1uLm1hcEFycmF5KG4uZ2V0TmFtZSk7aS5maWx0ZXJTZWxmKChmdW5jdGlvbih0KXt2YXIgbj1pLmdldEl0ZW1Nb2RlbCh0KS5nZXRTaGFsbG93KCJjYXRlZ29yeSIpO2lmKG51bGwhPW4peyJudW1iZXIiPT10eXBlb2YgbiYmKG49cltuXSk7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspaWYoIWVbb10uaXNTZWxlY3RlZChuKSlyZXR1cm4hMX1yZXR1cm4hMH0pKX0pKX1mdW5jdGlvbiBFQyh0KXt2YXIgZT17fTt0LmVhY2hTZXJpZXNCeVR5cGUoImdyYXBoIiwoZnVuY3Rpb24odCl7dmFyIG49dC5nZXRDYXRlZ29yaWVzRGF0YSgpLGk9dC5nZXREYXRhKCkscj17fTtuLmVhY2goKGZ1bmN0aW9uKGkpe3ZhciBvPW4uZ2V0TmFtZShpKTtyWyJlYy0iK29dPWk7dmFyIGE9bi5nZXRJdGVtTW9kZWwoaSkscz1hLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKTtzLmZpbGx8fChzLmZpbGw9dC5nZXRDb2xvckZyb21QYWxldHRlKG8sZSkpLG4uc2V0SXRlbVZpc3VhbChpLCJzdHlsZSIscyk7Zm9yKHZhciBsPVsic3ltYm9sIiwic3ltYm9sU2l6ZSIsInN5bWJvbEtlZXBBc3BlY3QiXSx1PTA7dTxsLmxlbmd0aDt1Kyspe3ZhciBoPWEuZ2V0U2hhbGxvdyhsW3VdLCEwKTtudWxsIT1oJiZuLnNldEl0ZW1WaXN1YWwoaSxsW3VdLGgpfX0pKSxuLmNvdW50KCkmJmkuZWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9aS5nZXRJdGVtTW9kZWwodCkuZ2V0U2hhbGxvdygiY2F0ZWdvcnkiKTtpZihudWxsIT1lKXsic3RyaW5nIj09dHlwZW9mIGUmJihlPXJbImVjLSIrZV0pO3ZhciBvPW4uZ2V0SXRlbVZpc3VhbChlLCJzdHlsZSIpO1QoaS5lbnN1cmVVbmlxdWVJdGVtVmlzdWFsKHQsInN0eWxlIiksbyk7Zm9yKHZhciBhPVsic3ltYm9sIiwic3ltYm9sU2l6ZSIsInN5bWJvbEtlZXBBc3BlY3QiXSxzPTA7czxhLmxlbmd0aDtzKyspaS5zZXRJdGVtVmlzdWFsKHQsYVtzXSxuLmdldEl0ZW1WaXN1YWwoZSxhW3NdKSl9fSkpfSkpfWZ1bmN0aW9uIFZDKHQpe3JldHVybiB0IGluc3RhbmNlb2YgQXJyYXl8fCh0PVt0LHRdKSx0fWZ1bmN0aW9uIEJDKHQpe3QuZWFjaFNlcmllc0J5VHlwZSgiZ3JhcGgiLChmdW5jdGlvbih0KXt2YXIgZT10LmdldEdyYXBoKCksbj10LmdldEVkZ2VEYXRhKCksaT1WQyh0LmdldCgiZWRnZVN5bWJvbCIpKSxyPVZDKHQuZ2V0KCJlZGdlU3ltYm9sU2l6ZSIpKTtuLnNldFZpc3VhbCgiZnJvbVN5bWJvbCIsaSYmaVswXSksbi5zZXRWaXN1YWwoInRvU3ltYm9sIixpJiZpWzFdKSxuLnNldFZpc3VhbCgiZnJvbVN5bWJvbFNpemUiLHImJnJbMF0pLG4uc2V0VmlzdWFsKCJ0b1N5bWJvbFNpemUiLHImJnJbMV0pLG4uc2V0VmlzdWFsKCJzdHlsZSIsdC5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCkpLG4uZWFjaCgoZnVuY3Rpb24odCl7dmFyIGk9bi5nZXRJdGVtTW9kZWwodCkscj1lLmdldEVkZ2VCeUluZGV4KHQpLG89VkMoaS5nZXRTaGFsbG93KCJzeW1ib2wiLCEwKSksYT1WQyhpLmdldFNoYWxsb3coInN5bWJvbFNpemUiLCEwKSkscz1pLmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSxsPW4uZW5zdXJlVW5pcXVlSXRlbVZpc3VhbCh0LCJzdHlsZSIpO3N3aXRjaChUKGwscyksbC5zdHJva2Upe2Nhc2Uic291cmNlIjp2YXIgdT1yLm5vZGUxLmdldFZpc3VhbCgic3R5bGUiKTtsLnN0cm9rZT11JiZ1LmZpbGw7YnJlYWs7Y2FzZSJ0YXJnZXQiOnU9ci5ub2RlMi5nZXRWaXN1YWwoInN0eWxlIik7bC5zdHJva2U9dSYmdS5maWxsfW9bMF0mJnIuc2V0VmlzdWFsKCJmcm9tU3ltYm9sIixvWzBdKSxvWzFdJiZyLnNldFZpc3VhbCgidG9TeW1ib2wiLG9bMV0pLGFbMF0mJnIuc2V0VmlzdWFsKCJmcm9tU3ltYm9sU2l6ZSIsYVswXSksYVsxXSYmci5zZXRWaXN1YWwoInRvU3ltYm9sU2l6ZSIsYVsxXSl9KSl9KSl9dmFyIEdDPSItLVx4M2UiLEZDPWZ1bmN0aW9uKHQpe3JldHVybiB0LmdldCgiYXV0b0N1cnZlbmVzcyIpfHxudWxsfSxIQz1mdW5jdGlvbih0LGUpe3ZhciBuPUZDKHQpLGk9MjAscj1bXTtpZigibnVtYmVyIj09dHlwZW9mIG4paT1uO2Vsc2UgaWYoRihuKSlyZXR1cm4gdm9pZCh0Ll9fY3VydmVuZXNzTGlzdD1uKTtlPmkmJihpPWUpO3ZhciBvPWklMj9pKzI6aSszO3I9W107Zm9yKHZhciBhPTA7YTxvO2ErKylyLnB1c2goKGElMj9hKzE6YSkvMTAqKGElMj8tMToxKSk7dC5fX2N1cnZlbmVzc0xpc3Q9cn0sV0M9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPVt0LmlkLHQuZGF0YUluZGV4XS5qb2luKCIuIikscj1bZS5pZCxlLmRhdGFJbmRleF0uam9pbigiLiIpO3JldHVybltuLnVpZCxpLHJdLmpvaW4oR0MpfSxVQz1mdW5jdGlvbih0KXt2YXIgZT10LnNwbGl0KEdDKTtyZXR1cm5bZVswXSxlWzJdLGVbMV1dLmpvaW4oR0MpfSxYQz1mdW5jdGlvbih0LGUpe3ZhciBuPWUuX19lZGdlTWFwO3JldHVybiBuW3RdP25bdF0ubGVuZ3RoOjB9O2Z1bmN0aW9uIFlDKHQsZSxuLGkpe3ZhciByPUZDKGUpLG89RihyKTtpZighcilyZXR1cm4gbnVsbDt2YXIgYT1mdW5jdGlvbih0LGUpe3ZhciBuPVdDKHQubm9kZTEsdC5ub2RlMixlKTtyZXR1cm4gZS5fX2VkZ2VNYXBbbl19KHQsZSk7aWYoIWEpcmV0dXJuIG51bGw7Zm9yKHZhciBzPS0xLGw9MDtsPGEubGVuZ3RoO2wrKylpZihhW2xdPT09bil7cz1sO2JyZWFrfXZhciB1PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFhDKFdDKHQubm9kZTEsdC5ub2RlMixlKSxlKStYQyhXQyh0Lm5vZGUyLHQubm9kZTEsZSksZSl9KHQsZSk7SEMoZSx1KSx0LmxpbmVTdHlsZT10LmxpbmVTdHlsZXx8e307dmFyIGg9V0ModC5ub2RlMSx0Lm5vZGUyLGUpLGM9ZS5fX2N1cnZlbmVzc0xpc3QscD1vfHx1JTI/MDoxO2lmKGEuaXNGb3J3YXJkKXJldHVybiBjW3Arc107dmFyIGQ9VUMoaCksZj1YQyhkLGUpLGc9Y1tzK2YrcF07cmV0dXJuIGk/bz9yJiYwPT09clswXT8oZitwKSUyP2c6LWc6KChmJTI/MDoxKStwKSUyP2c6LWc6KGYrcCklMj9nOi1nOmNbcytmK3BdfWZ1bmN0aW9uIFpDKHQpe3ZhciBlPXQuY29vcmRpbmF0ZVN5c3RlbTtpZighZXx8InZpZXciPT09ZS50eXBlKXt2YXIgbj10LmdldEdyYXBoKCk7bi5lYWNoTm9kZSgoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRNb2RlbCgpO3Quc2V0TGF5b3V0KFsrZS5nZXQoIngiKSwrZS5nZXQoInkiKV0pfSkpLGpDKG4sdCl9fWZ1bmN0aW9uIGpDKHQsZSl7dC5lYWNoRWRnZSgoZnVuY3Rpb24odCxuKXt2YXIgaT1udCh0LmdldE1vZGVsKCkuZ2V0KFsibGluZVN0eWxlIiwiY3VydmVuZXNzIl0pLC1ZQyh0LGUsbiwhMCksMCkscj1fdCh0Lm5vZGUxLmdldExheW91dCgpKSxvPV90KHQubm9kZTIuZ2V0TGF5b3V0KCkpLGE9W3Isb107K2kmJmEucHVzaChbKHJbMF0rb1swXSkvMi0oclsxXS1vWzFdKSppLChyWzFdK29bMV0pLzItKG9bMF0tclswXSkqaV0pLHQuc2V0TGF5b3V0KGEpfSkpfWZ1bmN0aW9uIHFDKHQsZSl7dC5lYWNoU2VyaWVzQnlUeXBlKCJncmFwaCIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KCJsYXlvdXQiKSxuPXQuY29vcmRpbmF0ZVN5c3RlbTtpZihuJiYidmlldyIhPT1uLnR5cGUpe3ZhciBpPXQuZ2V0RGF0YSgpLHI9W107TyhuLmRpbWVuc2lvbnMsKGZ1bmN0aW9uKHQpe3I9ci5jb25jYXQoaS5tYXBEaW1lbnNpb25zQWxsKHQpKX0pKTtmb3IodmFyIG89MDtvPGkuY291bnQoKTtvKyspe2Zvcih2YXIgYT1bXSxzPSExLGw9MDtsPHIubGVuZ3RoO2wrKyl7dmFyIHU9aS5nZXQocltsXSxvKTtpc05hTih1KXx8KHM9ITApLGEucHVzaCh1KX1zP2kuc2V0SXRlbUxheW91dChvLG4uZGF0YVRvUG9pbnQoYSkpOmkuc2V0SXRlbUxheW91dChvLFtOYU4sTmFOXSl9akMoaS5ncmFwaCx0KX1lbHNlIGUmJiJub25lIiE9PWV8fFpDKHQpfSkpfWZ1bmN0aW9uIEtDKHQpe3ZhciBlPXQuY29vcmRpbmF0ZVN5c3RlbTtpZigidmlldyIhPT1lLnR5cGUpcmV0dXJuIDE7dmFyIG49dC5vcHRpb24ubm9kZVNjYWxlUmF0aW8saT1lLnNjYWxlWDtyZXR1cm4oKGUuZ2V0Wm9vbSgpLTEpKm4rMSkvaX1mdW5jdGlvbiAkQyh0KXt2YXIgZT10LmdldFZpc3VhbCgic3ltYm9sU2l6ZSIpO3JldHVybiBlIGluc3RhbmNlb2YgQXJyYXkmJihlPShlWzBdK2VbMV0pLzIpLCtlfXZhciBKQz1NYXRoLlBJLFFDPVtdO2Z1bmN0aW9uIHREKHQsZSl7dmFyIG49dC5jb29yZGluYXRlU3lzdGVtO2lmKCFufHwidmlldyI9PT1uLnR5cGUpe3ZhciBpPW4uZ2V0Qm91bmRpbmdSZWN0KCkscj10LmdldERhdGEoKSxvPXIuZ3JhcGgsYT1pLndpZHRoLzIraS54LHM9aS5oZWlnaHQvMitpLnksbD1NYXRoLm1pbihpLndpZHRoLGkuaGVpZ2h0KS8yLHU9ci5jb3VudCgpO3Iuc2V0TGF5b3V0KHtjeDphLGN5OnN9KSx1JiYoZURbZV0odCxvLHIsbCxhLHMsdSksby5lYWNoRWRnZSgoZnVuY3Rpb24oZSxuKXt2YXIgaSxyPW50KGUuZ2V0TW9kZWwoKS5nZXQoWyJsaW5lU3R5bGUiLCJjdXJ2ZW5lc3MiXSksWUMoZSx0LG4pLDApLG89X3QoZS5ub2RlMS5nZXRMYXlvdXQoKSksbD1fdChlLm5vZGUyLmdldExheW91dCgpKSx1PShvWzBdK2xbMF0pLzIsaD0ob1sxXStsWzFdKS8yOytyJiYoaT1bYSoocio9MykrdSooMS1yKSxzKnIraCooMS1yKV0pLGUuc2V0TGF5b3V0KFtvLGwsaV0pfSkpKX19dmFyIGVEPXt2YWx1ZTpmdW5jdGlvbih0LGUsbixpLHIsbyxhKXt2YXIgcz0wLGw9bi5nZXRTdW0oInZhbHVlIiksdT0yKk1hdGguUEkvKGx8fGEpO2UuZWFjaE5vZGUoKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0VmFsdWUoInZhbHVlIiksbj11KihsP2U6MSkvMjtzKz1uLHQuc2V0TGF5b3V0KFtpKk1hdGguY29zKHMpK3IsaSpNYXRoLnNpbihzKStvXSkscys9bn0pKX0sc3ltYm9sU2l6ZTpmdW5jdGlvbih0LGUsbixpLHIsbyxhKXt2YXIgcz0wO1FDLmxlbmd0aD1hO3ZhciBsPUtDKHQpO2UuZWFjaE5vZGUoKGZ1bmN0aW9uKHQpe3ZhciBlPSRDKHQpO2lzTmFOKGUpJiYoZT0yKSxlPDAmJihlPTApLGUqPWw7dmFyIG49TWF0aC5hc2luKGUvMi9pKTtpc05hTihuKSYmKG49SkMvMiksUUNbdC5kYXRhSW5kZXhdPW4scys9MipufSkpO3ZhciB1PSgyKkpDLXMpL2EvMixoPTA7ZS5lYWNoTm9kZSgoZnVuY3Rpb24odCl7dmFyIGU9dStRQ1t0LmRhdGFJbmRleF07aCs9ZSx0LnNldExheW91dChbaSpNYXRoLmNvcyhoKStyLGkqTWF0aC5zaW4oaCkrb10pLGgrPWV9KSl9fTtmdW5jdGlvbiBuRCh0KXt0LmVhY2hTZXJpZXNCeVR5cGUoImdyYXBoIiwoZnVuY3Rpb24odCl7ImNpcmN1bGFyIj09PXQuZ2V0KCJsYXlvdXQiKSYmdEQodCwic3ltYm9sU2l6ZSIpfSkpfXZhciBpRD13dDtmdW5jdGlvbiByRCh0KXt0LmVhY2hTZXJpZXNCeVR5cGUoImdyYXBoIiwoZnVuY3Rpb24odCl7dmFyIGU9dC5jb29yZGluYXRlU3lzdGVtO2lmKCFlfHwidmlldyI9PT1lLnR5cGUpaWYoImZvcmNlIj09PXQuZ2V0KCJsYXlvdXQiKSl7dmFyIG49dC5wcmVzZXJ2ZWRQb2ludHN8fHt9LGk9dC5nZXRHcmFwaCgpLHI9aS5kYXRhLG89aS5lZGdlRGF0YSxhPXQuZ2V0TW9kZWwoImZvcmNlIikscz1hLmdldCgiaW5pdExheW91dCIpO3QucHJlc2VydmVkUG9pbnRzP3IuZWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9ci5nZXRJZCh0KTtyLnNldEl0ZW1MYXlvdXQodCxuW2VdfHxbTmFOLE5hTl0pfSkpOnMmJiJub25lIiE9PXM/ImNpcmN1bGFyIj09PXMmJnREKHQsInZhbHVlIik6WkModCk7dmFyIGw9ci5nZXREYXRhRXh0ZW50KCJ2YWx1ZSIpLHU9by5nZXREYXRhRXh0ZW50KCJ2YWx1ZSIpLGg9YS5nZXQoInJlcHVsc2lvbiIpLGM9YS5nZXQoImVkZ2VMZW5ndGgiKSxwPUYoaCk/aDpbaCxoXSxkPUYoYyk/YzpbYyxjXTtkPVtkWzFdLGRbMF1dO3ZhciBmPXIubWFwQXJyYXkoInZhbHVlIiwoZnVuY3Rpb24odCxlKXt2YXIgbj1yLmdldEl0ZW1MYXlvdXQoZSksaT1qaSh0LGwscCk7cmV0dXJuIGlzTmFOKGkpJiYoaT0ocFswXStwWzFdKS8yKSx7dzppLHJlcDppLGZpeGVkOnIuZ2V0SXRlbU1vZGVsKGUpLmdldCgiZml4ZWQiKSxwOiFufHxpc05hTihuWzBdKXx8aXNOYU4oblsxXSk/bnVsbDpufX0pKSxnPW8ubWFwQXJyYXkoInZhbHVlIiwoZnVuY3Rpb24oZSxuKXt2YXIgcj1pLmdldEVkZ2VCeUluZGV4KG4pLG89amkoZSx1LGQpO2lzTmFOKG8pJiYobz0oZFswXStkWzFdKS8yKTt2YXIgYT1yLmdldE1vZGVsKCkscz1udChyLmdldE1vZGVsKCkuZ2V0KFsibGluZVN0eWxlIiwiY3VydmVuZXNzIl0pLC1ZQyhyLHQsbiwhMCksMCk7cmV0dXJue24xOmZbci5ub2RlMS5kYXRhSW5kZXhdLG4yOmZbci5ub2RlMi5kYXRhSW5kZXhdLGQ6byxjdXJ2ZW5lc3M6cyxpZ25vcmVGb3JjZUxheW91dDphLmdldCgiaWdub3JlRm9yY2VMYXlvdXQiKX19KSkseT1lLmdldEJvdW5kaW5nUmVjdCgpLHY9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT10LHI9ZSxvPW4ucmVjdCxhPW8ud2lkdGgscz1vLmhlaWdodCxsPVtvLngrYS8yLG8ueStzLzJdLHU9bnVsbD09bi5ncmF2aXR5Py4xOm4uZ3Jhdml0eSxoPTA7aDxpLmxlbmd0aDtoKyspe3ZhciBjPWlbaF07Yy5wfHwoYy5wPXZ0KGEqKE1hdGgucmFuZG9tKCktLjUpK2xbMF0scyooTWF0aC5yYW5kb20oKS0uNSkrbFsxXSkpLGMucHA9X3QoYy5wKSxjLmVkZ2VzPW51bGx9dmFyIHAsZCxmPW51bGw9PW4uZnJpY3Rpb24/LjY6bi5mcmljdGlvbixnPWY7cmV0dXJue3dhcm1VcDpmdW5jdGlvbigpe2c9LjgqZn0sc2V0Rml4ZWQ6ZnVuY3Rpb24odCl7aVt0XS5maXhlZD0hMH0sc2V0VW5maXhlZDpmdW5jdGlvbih0KXtpW3RdLmZpeGVkPSExfSxiZWZvcmVTdGVwOmZ1bmN0aW9uKHQpe3A9dH0sYWZ0ZXJTdGVwOmZ1bmN0aW9uKHQpe2Q9dH0sc3RlcDpmdW5jdGlvbih0KXtwJiZwKGkscik7Zm9yKHZhciBlPVtdLG49aS5sZW5ndGgsbz0wO288ci5sZW5ndGg7bysrKXt2YXIgYT1yW29dO2lmKCFhLmlnbm9yZUZvcmNlTGF5b3V0KXt2YXIgcz1hLm4xO1N0KGUsKHk9YS5uMikucCxzLnApO3ZhciBoPU10KGUpLWEuZCxjPXkudy8ocy53K3kudyk7aXNOYU4oYykmJihjPTApLEF0KGUsZSksIXMuZml4ZWQmJmlEKHMucCxzLnAsZSxjKmgqZyksIXkuZml4ZWQmJmlEKHkucCx5LnAsZSwtKDEtYykqaCpnKX19Zm9yKG89MDtvPG47bysrKShfPWlbb10pLmZpeGVkfHwoU3QoZSxsLF8ucCksaUQoXy5wLF8ucCxlLHUqZykpO2ZvcihvPTA7bzxuO28rKyl7cz1pW29dO2Zvcih2YXIgZj1vKzE7ZjxuO2YrKyl7dmFyIHk7U3QoZSwoeT1pW2ZdKS5wLHMucCksMD09PShoPU10KGUpKSYmKHh0KGUsTWF0aC5yYW5kb20oKS0uNSxNYXRoLnJhbmRvbSgpLS41KSxoPTEpO3ZhciB2PShzLnJlcCt5LnJlcCkvaC9oOyFzLmZpeGVkJiZpRChzLnBwLHMucHAsZSx2KSwheS5maXhlZCYmaUQoeS5wcCx5LnBwLGUsLXYpfX12YXIgbT1bXTtmb3Iobz0wO288bjtvKyspe3ZhciBfOyhfPWlbb10pLmZpeGVkfHwoU3QobSxfLnAsXy5wcCksaUQoXy5wLF8ucCxtLGcpLG10KF8ucHAsXy5wKSl9dmFyIHg9KGcqPS45OTIpPC4wMTtkJiZkKGkscix4KSx0JiZ0KHgpfX19KGYsZyx7cmVjdDp5LGdyYXZpdHk6YS5nZXQoImdyYXZpdHkiKSxmcmljdGlvbjphLmdldCgiZnJpY3Rpb24iKX0pO3YuYmVmb3JlU3RlcCgoZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MCxyPXQubGVuZ3RoO248cjtuKyspdFtuXS5maXhlZCYmbXQodFtuXS5wLGkuZ2V0Tm9kZUJ5SW5kZXgobikuZ2V0TGF5b3V0KCkpfSkpLHYuYWZ0ZXJTdGVwKChmdW5jdGlvbih0LGUsbyl7Zm9yKHZhciBhPTAscz10Lmxlbmd0aDthPHM7YSsrKXRbYV0uZml4ZWR8fGkuZ2V0Tm9kZUJ5SW5kZXgoYSkuc2V0TGF5b3V0KHRbYV0ucCksbltyLmdldElkKGEpXT10W2FdLnA7Zm9yKGE9MCxzPWUubGVuZ3RoO2E8czthKyspe3ZhciBsPWVbYV0sdT1pLmdldEVkZ2VCeUluZGV4KGEpLGg9bC5uMS5wLGM9bC5uMi5wLHA9dS5nZXRMYXlvdXQoKTsocD1wP3Auc2xpY2UoKTpbXSlbMF09cFswXXx8W10scFsxXT1wWzFdfHxbXSxtdChwWzBdLGgpLG10KHBbMV0sYyksK2wuY3VydmVuZXNzJiYocFsyXT1bKGhbMF0rY1swXSkvMi0oaFsxXS1jWzFdKSpsLmN1cnZlbmVzcywoaFsxXStjWzFdKS8yLShjWzBdLWhbMF0pKmwuY3VydmVuZXNzXSksdS5zZXRMYXlvdXQocCl9fSkpLHQuZm9yY2VMYXlvdXQ9dix0LnByZXNlcnZlZFBvaW50cz1uLHYuc3RlcCgpfWVsc2UgdC5mb3JjZUxheW91dD1udWxsfSkpfWZ1bmN0aW9uIG9EKHQsZSl7dmFyIG49W107cmV0dXJuIHQuZWFjaFNlcmllc0J5VHlwZSgiZ3JhcGgiLChmdW5jdGlvbih0KXt2YXIgaT10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpO2lmKCFpfHwidmlldyI9PT1pKXt2YXIgcj10LmdldERhdGEoKSxvPVtdLGE9W107c2Eoci5tYXBBcnJheSgoZnVuY3Rpb24odCl7dmFyIGU9ci5nZXRJdGVtTW9kZWwodCk7cmV0dXJuWytlLmdldCgieCIpLCtlLmdldCgieSIpXX0pKSxvLGEpLGFbMF0tb1swXT09MCYmKGFbMF0rPTEsb1swXS09MSksYVsxXS1vWzFdPT0wJiYoYVsxXSs9MSxvWzFdLT0xKTt2YXIgcz0oYVswXS1vWzBdKS8oYVsxXS1vWzFdKSxsPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gcWMoVCh0LmdldEJveExheW91dFBhcmFtcygpLHthc3BlY3Q6bn0pLHt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9KX0odCxlLHMpO2lzTmFOKHMpJiYobz1bbC54LGwueV0sYT1bbC54K2wud2lkdGgsbC55K2wuaGVpZ2h0XSk7dmFyIHU9YVswXS1vWzBdLGg9YVsxXS1vWzFdLGM9bC53aWR0aCxwPWwuaGVpZ2h0LGQ9dC5jb29yZGluYXRlU3lzdGVtPW5ldyBXSTtkLnpvb21MaW1pdD10LmdldCgic2NhbGVMaW1pdCIpLGQuc2V0Qm91bmRpbmdSZWN0KG9bMF0sb1sxXSx1LGgpLGQuc2V0Vmlld1JlY3QobC54LGwueSxjLHApLGQuc2V0Q2VudGVyKHQuZ2V0KCJjZW50ZXIiKSksZC5zZXRab29tKHQuZ2V0KCJ6b29tIikpLG4ucHVzaChkKX19KSksbn12YXIgYUQ9eXUucHJvdG90eXBlLHNEPXh1LnByb3RvdHlwZSxsRD1mdW5jdGlvbigpe3RoaXMueDE9MCx0aGlzLnkxPTAsdGhpcy54Mj0wLHRoaXMueTI9MCx0aGlzLnBlcmNlbnQ9MX07IWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfW4oZSx0KX0obEQpO2Z1bmN0aW9uIHVEKHQpe3JldHVybiBpc05hTigrdC5jcHgxKXx8aXNOYU4oK3QuY3B5MSl9dmFyIGhEPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIG4udHlwZT0iZWMtbGluZSIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTdHlsZT1mdW5jdGlvbigpe3JldHVybntzdHJva2U6IiMwMDAiLGZpbGw6bnVsbH19LGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgbER9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3VEKGUpP2FELmJ1aWxkUGF0aC5jYWxsKHRoaXMsdCxlKTpzRC5idWlsZFBhdGguY2FsbCh0aGlzLHQsZSl9LGUucHJvdG90eXBlLnBvaW50QXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHVEKHRoaXMuc2hhcGUpP2FELnBvaW50QXQuY2FsbCh0aGlzLHQpOnNELnBvaW50QXQuY2FsbCh0aGlzLHQpfSxlLnByb3RvdHlwZS50YW5nZW50QXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zaGFwZSxuPXVEKGUpP1tlLngyLWUueDEsZS55Mi1lLnkxXTpzRC50YW5nZW50QXQuY2FsbCh0aGlzLHQpO3JldHVybiBBdChuLG4pfSxlfShRYSksY0Q9WyJmcm9tU3ltYm9sIiwidG9TeW1ib2wiXTtmdW5jdGlvbiBwRCh0KXtyZXR1cm4iXyIrdCsiVHlwZSJ9ZnVuY3Rpb24gZEQodCxlLG4pe3ZhciBpPWUuZ2V0SXRlbVZpc3VhbChuLHQpO2lmKGkmJiJub25lIiE9PWkpe3ZhciByPWUuZ2V0SXRlbVZpc3VhbChuLHQrIlNpemUiKSxvPWUuZ2V0SXRlbVZpc3VhbChuLHQrIlJvdGF0ZSIpLGE9ZS5nZXRJdGVtVmlzdWFsKG4sdCsiT2Zmc2V0Iikscz1lLmdldEl0ZW1WaXN1YWwobix0KyJLZWVwQXNwZWN0IiksbD1ueShyKSx1PWl5KGF8fDAsbCksaD1leShpLC1sWzBdLzIrdVswXSwtbFsxXS8yK3VbMV0sbFswXSxsWzFdLG51bGwscyk7cmV0dXJuIGguX19zcGVjaWZpZWRSb3RhdGlvbj1udWxsPT1vfHxpc05hTihvKT92b2lkIDA6K28qTWF0aC5QSS8xODB8fDAsaC5uYW1lPXQsaH19ZnVuY3Rpb24gZkQodCxlKXt0LngxPWVbMF1bMF0sdC55MT1lWzBdWzFdLHQueDI9ZVsxXVswXSx0LnkyPWVbMV1bMV0sdC5wZXJjZW50PTE7dmFyIG49ZVsyXTtuPyh0LmNweDE9blswXSx0LmNweTE9blsxXSk6KHQuY3B4MT1OYU4sdC5jcHkxPU5hTil9dmFyIGdEPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkpe3ZhciByPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5fY3JlYXRlTGluZShlLG4saSkscn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLl9jcmVhdGVMaW5lPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10Lmhvc3RNb2RlbCxyPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBoRCh7bmFtZToibGluZSIsc3ViUGl4ZWxPcHRpbWl6ZTohMH0pO3JldHVybiBmRChlLnNoYXBlLHQpLGV9KHQuZ2V0SXRlbUxheW91dChlKSk7ci5zaGFwZS5wZXJjZW50PTAsVnUocix7c2hhcGU6e3BlcmNlbnQ6MX19LGksZSksdGhpcy5hZGQociksTyhjRCwoZnVuY3Rpb24obil7dmFyIGk9ZEQobix0LGUpO3RoaXMuYWRkKGkpLHRoaXNbcEQobildPXQuZ2V0SXRlbVZpc3VhbChlLG4pfSksdGhpcyksdGhpcy5fdXBkYXRlQ29tbW9uU3RsKHQsZSxuKX0sZS5wcm90b3R5cGUudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5ob3N0TW9kZWwscj10aGlzLmNoaWxkT2ZOYW1lKCJsaW5lIiksbz10LmdldEl0ZW1MYXlvdXQoZSksYT17c2hhcGU6e319O2ZEKGEuc2hhcGUsbyksRXUocixhLGksZSksTyhjRCwoZnVuY3Rpb24obil7dmFyIGk9dC5nZXRJdGVtVmlzdWFsKGUsbikscj1wRChuKTtpZih0aGlzW3JdIT09aSl7dGhpcy5yZW1vdmUodGhpcy5jaGlsZE9mTmFtZShuKSk7dmFyIG89ZEQobix0LGUpO3RoaXMuYWRkKG8pfXRoaXNbcl09aX0pLHRoaXMpLHRoaXMuX3VwZGF0ZUNvbW1vblN0bCh0LGUsbil9LGUucHJvdG90eXBlLmdldExpbmVQYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hpbGRBdCgwKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUNvbW1vblN0bD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5ob3N0TW9kZWwscj10aGlzLmNoaWxkT2ZOYW1lKCJsaW5lIiksbz1uJiZuLmVtcGhhc2lzTGluZVN0eWxlLGE9biYmbi5ibHVyTGluZVN0eWxlLHM9biYmbi5zZWxlY3RMaW5lU3R5bGUsbD1uJiZuLmxhYmVsU3RhdGVzTW9kZWxzO2lmKCFufHx0Lmhhc0l0ZW1PcHRpb24pe3ZhciB1PXQuZ2V0SXRlbU1vZGVsKGUpO289dS5nZXRNb2RlbChbImVtcGhhc2lzIiwibGluZVN0eWxlIl0pLmdldExpbmVTdHlsZSgpLGE9dS5nZXRNb2RlbChbImJsdXIiLCJsaW5lU3R5bGUiXSkuZ2V0TGluZVN0eWxlKCkscz11LmdldE1vZGVsKFsic2VsZWN0IiwibGluZVN0eWxlIl0pLmdldExpbmVTdHlsZSgpLGw9YmgodSl9dmFyIGg9dC5nZXRJdGVtVmlzdWFsKGUsInN0eWxlIiksYz1oLnN0cm9rZTtyLnVzZVN0eWxlKGgpLHIuc3R5bGUuZmlsbD1udWxsLHIuc3R5bGUuc3Ryb2tlTm9TY2FsZT0hMCxyLmVuc3VyZVN0YXRlKCJlbXBoYXNpcyIpLnN0eWxlPW8sci5lbnN1cmVTdGF0ZSgiYmx1ciIpLnN0eWxlPWEsci5lbnN1cmVTdGF0ZSgic2VsZWN0Iikuc3R5bGU9cyxPKGNELChmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNoaWxkT2ZOYW1lKHQpO2lmKGUpe2Uuc2V0Q29sb3IoYyksZS5zdHlsZS5vcGFjaXR5PWgub3BhY2l0eTtmb3IodmFyIG49MDtuPERzLmxlbmd0aDtuKyspe3ZhciBpPURzW25dLG89ci5nZXRTdGF0ZShpKTtpZihvKXt2YXIgYT1vLnN0eWxlfHx7fSxzPWUuZW5zdXJlU3RhdGUoaSksbD1zLnN0eWxlfHwocy5zdHlsZT17fSk7bnVsbCE9YS5zdHJva2UmJihsW2UuX19pc0VtcHR5QnJ1c2g/InN0cm9rZSI6ImZpbGwiXT1hLnN0cm9rZSksbnVsbCE9YS5vcGFjaXR5JiYobC5vcGFjaXR5PWEub3BhY2l0eSl9fWUubWFya1JlZHJhdygpfX0pLHRoaXMpO3ZhciBwPWkuZ2V0UmF3VmFsdWUoZSk7eGgodGhpcyxsLHtsYWJlbERhdGFJbmRleDplLGxhYmVsRmV0Y2hlcjp7Z2V0Rm9ybWF0dGVkTGFiZWw6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gaS5nZXRGb3JtYXR0ZWRMYWJlbChlLG4sdC5kYXRhVHlwZSl9fSxpbmhlcml0Q29sb3I6Y3x8IiMwMDAiLGRlZmF1bHRPcGFjaXR5Omgub3BhY2l0eSxkZWZhdWx0VGV4dDoobnVsbD09cD90LmdldE5hbWUoZSk6aXNGaW5pdGUocCk/S2kocCk6cCkrIiJ9KTt2YXIgZD10aGlzLmdldFRleHRDb250ZW50KCk7aWYoZCl7dmFyIGY9bC5ub3JtYWw7ZC5fX2FsaWduPWQuc3R5bGUuYWxpZ24sZC5fX3ZlcnRpY2FsQWxpZ249ZC5zdHlsZS52ZXJ0aWNhbEFsaWduLGQuX19wb3NpdGlvbj1mLmdldCgicG9zaXRpb24iKXx8Im1pZGRsZSI7dmFyIGc9Zi5nZXQoImRpc3RhbmNlIik7RihnKXx8KGc9W2csZ10pLGQuX19sYWJlbERpc3RhbmNlPWd9dGhpcy5zZXRUZXh0Q29uZmlnKHtwb3NpdGlvbjpudWxsLGxvY2FsOiEwLGluc2lkZTohMX0pLHBsKHRoaXMpfSxlLnByb3RvdHlwZS5oaWdobGlnaHQ9ZnVuY3Rpb24oKXtRcyh0aGlzKX0sZS5wcm90b3R5cGUuZG93bnBsYXk9ZnVuY3Rpb24oKXt0bCh0aGlzKX0sZS5wcm90b3R5cGUudXBkYXRlTGF5b3V0PWZ1bmN0aW9uKHQsZSl7dGhpcy5zZXRMaW5lUG9pbnRzKHQuZ2V0SXRlbUxheW91dChlKSl9LGUucHJvdG90eXBlLnNldExpbmVQb2ludHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jaGlsZE9mTmFtZSgibGluZSIpO2ZEKGUuc2hhcGUsdCksZS5kaXJ0eSgpfSxlLnByb3RvdHlwZS5iZWZvcmVVcGRhdGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC5jaGlsZE9mTmFtZSgiZnJvbVN5bWJvbCIpLG49dC5jaGlsZE9mTmFtZSgidG9TeW1ib2wiKSxpPXQuZ2V0VGV4dENvbnRlbnQoKTtpZihlfHxufHxpJiYhaS5pZ25vcmUpe2Zvcih2YXIgcj0xLG89dGhpcy5wYXJlbnQ7bzspby5zY2FsZVgmJihyLz1vLnNjYWxlWCksbz1vLnBhcmVudDt2YXIgYT10LmNoaWxkT2ZOYW1lKCJsaW5lIik7aWYodGhpcy5fX2RpcnR5fHxhLl9fZGlydHkpe3ZhciBzPWEuc2hhcGUucGVyY2VudCxsPWEucG9pbnRBdCgwKSx1PWEucG9pbnRBdChzKSxoPVN0KFtdLHUsbCk7aWYoQXQoaCxoKSxlJiYoZS5zZXRQb3NpdGlvbihsKSxTKGUsMCksZS5zY2FsZVg9ZS5zY2FsZVk9cipzLGUubWFya1JlZHJhdygpKSxuJiYobi5zZXRQb3NpdGlvbih1KSxTKG4sMSksbi5zY2FsZVg9bi5zY2FsZVk9cipzLG4ubWFya1JlZHJhdygpKSxpJiYhaS5pZ25vcmUpe2kueD1pLnk9MCxpLm9yaWdpblg9aS5vcmlnaW5ZPTA7dmFyIGM9dm9pZCAwLHA9dm9pZCAwLGQ9aS5fX2xhYmVsRGlzdGFuY2UsZj1kWzBdKnIsZz1kWzFdKnIseT1zLzIsdj1hLnRhbmdlbnRBdCh5KSxtPVt2WzFdLC12WzBdXSxfPWEucG9pbnRBdCh5KTttWzFdPjAmJihtWzBdPS1tWzBdLG1bMV09LW1bMV0pO3ZhciB4PXZbMF08MD8tMToxO2lmKCJzdGFydCIhPT1pLl9fcG9zaXRpb24mJiJlbmQiIT09aS5fX3Bvc2l0aW9uKXt2YXIgYj0tTWF0aC5hdGFuMih2WzFdLHZbMF0pO3VbMF08bFswXSYmKGI9TWF0aC5QSStiKSxpLnJvdGF0aW9uPWJ9dmFyIHc9dm9pZCAwO3N3aXRjaChpLl9fcG9zaXRpb24pe2Nhc2UiaW5zaWRlU3RhcnRUb3AiOmNhc2UiaW5zaWRlTWlkZGxlVG9wIjpjYXNlImluc2lkZUVuZFRvcCI6Y2FzZSJtaWRkbGUiOnc9LWcscD0iYm90dG9tIjticmVhaztjYXNlImluc2lkZVN0YXJ0Qm90dG9tIjpjYXNlImluc2lkZU1pZGRsZUJvdHRvbSI6Y2FzZSJpbnNpZGVFbmRCb3R0b20iOnc9ZyxwPSJ0b3AiO2JyZWFrO2RlZmF1bHQ6dz0wLHA9Im1pZGRsZSJ9c3dpdGNoKGkuX19wb3NpdGlvbil7Y2FzZSJlbmQiOmkueD1oWzBdKmYrdVswXSxpLnk9aFsxXSpnK3VbMV0sYz1oWzBdPi44PyJsZWZ0IjpoWzBdPC0uOD8icmlnaHQiOiJjZW50ZXIiLHA9aFsxXT4uOD8idG9wIjpoWzFdPC0uOD8iYm90dG9tIjoibWlkZGxlIjticmVhaztjYXNlInN0YXJ0IjppLng9LWhbMF0qZitsWzBdLGkueT0taFsxXSpnK2xbMV0sYz1oWzBdPi44PyJyaWdodCI6aFswXTwtLjg/ImxlZnQiOiJjZW50ZXIiLHA9aFsxXT4uOD8iYm90dG9tIjpoWzFdPC0uOD8idG9wIjoibWlkZGxlIjticmVhaztjYXNlImluc2lkZVN0YXJ0VG9wIjpjYXNlImluc2lkZVN0YXJ0IjpjYXNlImluc2lkZVN0YXJ0Qm90dG9tIjppLng9Zip4K2xbMF0saS55PWxbMV0rdyxjPXZbMF08MD8icmlnaHQiOiJsZWZ0IixpLm9yaWdpblg9LWYqeCxpLm9yaWdpblk9LXc7YnJlYWs7Y2FzZSJpbnNpZGVNaWRkbGVUb3AiOmNhc2UiaW5zaWRlTWlkZGxlIjpjYXNlImluc2lkZU1pZGRsZUJvdHRvbSI6Y2FzZSJtaWRkbGUiOmkueD1fWzBdLGkueT1fWzFdK3csYz0iY2VudGVyIixpLm9yaWdpblk9LXc7YnJlYWs7Y2FzZSJpbnNpZGVFbmRUb3AiOmNhc2UiaW5zaWRlRW5kIjpjYXNlImluc2lkZUVuZEJvdHRvbSI6aS54PS1mKngrdVswXSxpLnk9dVsxXSt3LGM9dlswXT49MD8icmlnaHQiOiJsZWZ0IixpLm9yaWdpblg9Zip4LGkub3JpZ2luWT0td31pLnNjYWxlWD1pLnNjYWxlWT1yLGkuc2V0U3R5bGUoe3ZlcnRpY2FsQWxpZ246aS5fX3ZlcnRpY2FsQWxpZ258fHAsYWxpZ246aS5fX2FsaWdufHxjfSl9fX1mdW5jdGlvbiBTKHQsZSl7dmFyIG49dC5fX3NwZWNpZmllZFJvdGF0aW9uO2lmKG51bGw9PW4pe3ZhciBpPWEudGFuZ2VudEF0KGUpO3QuYXR0cigicm90YXRpb24iLCgxPT09ZT8tMToxKSpNYXRoLlBJLzItTWF0aC5hdGFuMihpWzFdLGlbMF0pKX1lbHNlIHQuYXR0cigicm90YXRpb24iLG4pfX0sZX0oQmkpLHlEPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmdyb3VwPW5ldyBCaSx0aGlzLl9MaW5lQ3Rvcj10fHxnRH1yZXR1cm4gdC5wcm90b3R5cGUuaXNQZXJzaXN0ZW50PWZ1bmN0aW9uKCl7cmV0dXJuITB9LHQucHJvdG90eXBlLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMsaT1uLmdyb3VwLHI9bi5fbGluZURhdGE7bi5fbGluZURhdGE9dCxyfHxpLnJlbW92ZUFsbCgpO3ZhciBvPXZEKHQpO3QuZGlmZihyKS5hZGQoKGZ1bmN0aW9uKG4pe2UuX2RvQWRkKHQsbixvKX0pKS51cGRhdGUoKGZ1bmN0aW9uKG4saSl7ZS5fZG9VcGRhdGUocix0LGksbixvKX0pKS5yZW1vdmUoKGZ1bmN0aW9uKHQpe2kucmVtb3ZlKHIuZ2V0SXRlbUdyYXBoaWNFbCh0KSl9KSkuZXhlY3V0ZSgpfSx0LnByb3RvdHlwZS51cGRhdGVMYXlvdXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9saW5lRGF0YTt0JiZ0LmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbihlLG4pe2UudXBkYXRlTGF5b3V0KHQsbil9KSx0aGlzKX0sdC5wcm90b3R5cGUuaW5jcmVtZW50YWxQcmVwYXJlVXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuX3Nlcmllc1Njb3BlPXZEKHQpLHRoaXMuX2xpbmVEYXRhPW51bGwsdGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sdC5wcm90b3R5cGUuaW5jcmVtZW50YWxVcGRhdGU9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKHQpe3QuaXNHcm91cHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQuYW5pbWF0b3JzJiZ0LmFuaW1hdG9ycy5sZW5ndGg+MH0odCl8fCh0LmluY3JlbWVudGFsPSEwLHQuZW5zdXJlU3RhdGUoImVtcGhhc2lzIikuaG92ZXJMYXllcj0hMCl9Zm9yKHZhciBpPXQuc3RhcnQ7aTx0LmVuZDtpKyspe2lmKF9EKGUuZ2V0SXRlbUxheW91dChpKSkpe3ZhciByPW5ldyB0aGlzLl9MaW5lQ3RvcihlLGksdGhpcy5fc2VyaWVzU2NvcGUpO3IudHJhdmVyc2UobiksdGhpcy5ncm91cC5hZGQociksZS5zZXRJdGVtR3JhcGhpY0VsKGkscil9fX0sdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5ncm91cC5yZW1vdmVBbGwoKX0sdC5wcm90b3R5cGUuX2RvQWRkPWZ1bmN0aW9uKHQsZSxuKXtpZihfRCh0LmdldEl0ZW1MYXlvdXQoZSkpKXt2YXIgaT1uZXcgdGhpcy5fTGluZUN0b3IodCxlLG4pO3Quc2V0SXRlbUdyYXBoaWNFbChlLGkpLHRoaXMuZ3JvdXAuYWRkKGkpfX0sdC5wcm90b3R5cGUuX2RvVXBkYXRlPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89dC5nZXRJdGVtR3JhcGhpY0VsKG4pO19EKGUuZ2V0SXRlbUxheW91dChpKSk/KG8/by51cGRhdGVEYXRhKGUsaSxyKTpvPW5ldyB0aGlzLl9MaW5lQ3RvcihlLGksciksZS5zZXRJdGVtR3JhcGhpY0VsKGksbyksdGhpcy5ncm91cC5hZGQobykpOnRoaXMuZ3JvdXAucmVtb3ZlKG8pfSx0fSgpO2Z1bmN0aW9uIHZEKHQpe3ZhciBlPXQuaG9zdE1vZGVsO3JldHVybntsaW5lU3R5bGU6ZS5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCksZW1waGFzaXNMaW5lU3R5bGU6ZS5nZXRNb2RlbChbImVtcGhhc2lzIiwibGluZVN0eWxlIl0pLmdldExpbmVTdHlsZSgpLGJsdXJMaW5lU3R5bGU6ZS5nZXRNb2RlbChbImJsdXIiLCJsaW5lU3R5bGUiXSkuZ2V0TGluZVN0eWxlKCksc2VsZWN0TGluZVN0eWxlOmUuZ2V0TW9kZWwoWyJzZWxlY3QiLCJsaW5lU3R5bGUiXSkuZ2V0TGluZVN0eWxlKCksbGFiZWxTdGF0ZXNNb2RlbHM6YmgoZSl9fWZ1bmN0aW9uIG1EKHQpe3JldHVybiBpc05hTih0WzBdKXx8aXNOYU4odFsxXSl9ZnVuY3Rpb24gX0QodCl7cmV0dXJuIW1EKHRbMF0pJiYhbUQodFsxXSl9dmFyIHhEPVtdLGJEPVtdLHdEPVtdLFNEPVpvLE1EPU90LElEPU1hdGguYWJzO2Z1bmN0aW9uIFREKHQsZSxuKXtmb3IodmFyIGkscj10WzBdLG89dFsxXSxhPXRbMl0scz0xLzAsbD1uKm4sdT0uMSxoPS4xO2g8PS45O2grPS4xKXt4RFswXT1TRChyWzBdLG9bMF0sYVswXSxoKSx4RFsxXT1TRChyWzFdLG9bMV0sYVsxXSxoKSwoZD1JRChNRCh4RCxlKS1sKSk8cyYmKHM9ZCxpPWgpfWZvcih2YXIgYz0wO2M8MzI7YysrKXt2YXIgcD1pK3U7YkRbMF09U0QoclswXSxvWzBdLGFbMF0saSksYkRbMV09U0QoclsxXSxvWzFdLGFbMV0saSksd0RbMF09U0QoclswXSxvWzBdLGFbMF0scCksd0RbMV09U0QoclsxXSxvWzFdLGFbMV0scCk7dmFyIGQ9TUQoYkQsZSktbDtpZihJRChkKTwuMDEpYnJlYWs7dmFyIGY9TUQod0QsZSktbDt1Lz0yLGQ8MD9mPj0wP2krPXU6aS09dTpmPj0wP2ktPXU6aSs9dX1yZXR1cm4gaX1mdW5jdGlvbiBDRCh0LGUpe3ZhciBuPVtdLGk9S28scj1bW10sW10sW11dLG89W1tdLFtdXSxhPVtdO2UvPTIsdC5lYWNoRWRnZSgoZnVuY3Rpb24odCxzKXt2YXIgbD10LmdldExheW91dCgpLHU9dC5nZXRWaXN1YWwoImZyb21TeW1ib2wiKSxoPXQuZ2V0VmlzdWFsKCJ0b1N5bWJvbCIpO2wuX19vcmlnaW5hbHx8KGwuX19vcmlnaW5hbD1bX3QobFswXSksX3QobFsxXSldLGxbMl0mJmwuX19vcmlnaW5hbC5wdXNoKF90KGxbMl0pKSk7dmFyIGM9bC5fX29yaWdpbmFsO2lmKG51bGwhPWxbMl0pe2lmKG10KHJbMF0sY1swXSksbXQoclsxXSxjWzJdKSxtdChyWzJdLGNbMV0pLHUmJiJub25lIiE9PXUpe3ZhciBwPSRDKHQubm9kZTEpLGQ9VEQocixjWzBdLHAqZSk7aShyWzBdWzBdLHJbMV1bMF0sclsyXVswXSxkLG4pLHJbMF1bMF09blszXSxyWzFdWzBdPW5bNF0saShyWzBdWzFdLHJbMV1bMV0sclsyXVsxXSxkLG4pLHJbMF1bMV09blszXSxyWzFdWzFdPW5bNF19aWYoaCYmIm5vbmUiIT09aCl7cD0kQyh0Lm5vZGUyKSxkPVREKHIsY1sxXSxwKmUpO2koclswXVswXSxyWzFdWzBdLHJbMl1bMF0sZCxuKSxyWzFdWzBdPW5bMV0sclsyXVswXT1uWzJdLGkoclswXVsxXSxyWzFdWzFdLHJbMl1bMV0sZCxuKSxyWzFdWzFdPW5bMV0sclsyXVsxXT1uWzJdfW10KGxbMF0sclswXSksbXQobFsxXSxyWzJdKSxtdChsWzJdLHJbMV0pfWVsc2V7aWYobXQob1swXSxjWzBdKSxtdChvWzFdLGNbMV0pLFN0KGEsb1sxXSxvWzBdKSxBdChhLGEpLHUmJiJub25lIiE9PXUpe3A9JEModC5ub2RlMSk7d3Qob1swXSxvWzBdLGEscCplKX1pZihoJiYibm9uZSIhPT1oKXtwPSRDKHQubm9kZTIpO3d0KG9bMV0sb1sxXSxhLC1wKmUpfW10KGxbMF0sb1swXSksbXQobFsxXSxvWzFdKX19KSl9ZnVuY3Rpb24gREQodCl7cmV0dXJuInZpZXciPT09dC50eXBlfXZhciBBRD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IHp3LGk9bmV3IHlELHI9dGhpcy5ncm91cDt0aGlzLl9jb250cm9sbGVyPW5ldyBtSShlLmdldFpyKCkpLHRoaXMuX2NvbnRyb2xsZXJIb3N0PXt0YXJnZXQ6cn0sci5hZGQobi5ncm91cCksci5hZGQoaS5ncm91cCksdGhpcy5fc3ltYm9sRHJhdz1uLHRoaXMuX2xpbmVEcmF3PWksdGhpcy5fZmlyc3RSZW5kZXI9ITB9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcyxyPXQuY29vcmRpbmF0ZVN5c3RlbTt0aGlzLl9tb2RlbD10O3ZhciBvPXRoaXMuX3N5bWJvbERyYXcsYT10aGlzLl9saW5lRHJhdyxzPXRoaXMuZ3JvdXA7aWYoREQocikpe3ZhciBsPXt4OnIueCx5OnIueSxzY2FsZVg6ci5zY2FsZVgsc2NhbGVZOnIuc2NhbGVZfTt0aGlzLl9maXJzdFJlbmRlcj9zLmF0dHIobCk6RXUocyxsLHQpfUNEKHQuZ2V0R3JhcGgoKSxLQyh0KSk7dmFyIHU9dC5nZXREYXRhKCk7by51cGRhdGVEYXRhKHUpO3ZhciBoPXQuZ2V0RWRnZURhdGEoKTthLnVwZGF0ZURhdGEoaCksdGhpcy5fdXBkYXRlTm9kZUFuZExpbmtTY2FsZSgpLHRoaXMuX3VwZGF0ZUNvbnRyb2xsZXIodCxlLG4pLGNsZWFyVGltZW91dCh0aGlzLl9sYXlvdXRUaW1lb3V0KTt2YXIgYz10LmZvcmNlTGF5b3V0LHA9dC5nZXQoWyJmb3JjZSIsImxheW91dEFuaW1hdGlvbiJdKTtjJiZ0aGlzLl9zdGFydEZvcmNlTGF5b3V0SXRlcmF0aW9uKGMscCksdS5ncmFwaC5lYWNoTm9kZSgoZnVuY3Rpb24odCl7dmFyIGU9dC5kYXRhSW5kZXgsbj10LmdldEdyYXBoaWNFbCgpLHI9dC5nZXRNb2RlbCgpO24ub2ZmKCJkcmFnIikub2ZmKCJkcmFnZW5kIik7dmFyIG89ci5nZXQoImRyYWdnYWJsZSIpO28mJm4ub24oImRyYWciLChmdW5jdGlvbigpe2MmJihjLndhcm1VcCgpLCFpLl9sYXlvdXRpbmcmJmkuX3N0YXJ0Rm9yY2VMYXlvdXRJdGVyYXRpb24oYyxwKSxjLnNldEZpeGVkKGUpLHUuc2V0SXRlbUxheW91dChlLFtuLngsbi55XSkpfSkpLm9uKCJkcmFnZW5kIiwoZnVuY3Rpb24oKXtjJiZjLnNldFVuZml4ZWQoZSl9KSksbi5zZXREcmFnZ2FibGUobyYmISFjKSwiYWRqYWNlbmN5Ij09PXIuZ2V0KFsiZW1waGFzaXMiLCJmb2N1cyJdKSYmKFNzKG4pLmZvY3VzPXQuZ2V0QWRqYWNlbnREYXRhSW5kaWNlcygpKX0pKSx1LmdyYXBoLmVhY2hFZGdlKChmdW5jdGlvbih0KXt2YXIgZT10LmdldEdyYXBoaWNFbCgpOyJhZGphY2VuY3kiPT09dC5nZXRNb2RlbCgpLmdldChbImVtcGhhc2lzIiwiZm9jdXMiXSkmJihTcyhlKS5mb2N1cz17ZWRnZTpbdC5kYXRhSW5kZXhdLG5vZGU6W3Qubm9kZTEuZGF0YUluZGV4LHQubm9kZTIuZGF0YUluZGV4XX0pfSkpO3ZhciBkPSJjaXJjdWxhciI9PT10LmdldCgibGF5b3V0IikmJnQuZ2V0KFsiY2lyY3VsYXIiLCJyb3RhdGVMYWJlbCJdKSxmPXUuZ2V0TGF5b3V0KCJjeCIpLGc9dS5nZXRMYXlvdXQoImN5Iik7dS5lYWNoSXRlbUdyYXBoaWNFbCgoZnVuY3Rpb24odCxlKXt2YXIgbj11LmdldEl0ZW1Nb2RlbChlKS5nZXQoWyJsYWJlbCIsInJvdGF0ZSJdKXx8MCxpPXQuZ2V0U3ltYm9sUGF0aCgpO2lmKGQpe3ZhciByPXUuZ2V0SXRlbUxheW91dChlKSxvPU1hdGguYXRhbjIoclsxXS1nLHJbMF0tZik7bzwwJiYobz0yKk1hdGguUEkrbyk7dmFyIGE9clswXTxmO2EmJihvLT1NYXRoLlBJKTt2YXIgcz1hPyJsZWZ0IjoicmlnaHQiO2kuc2V0VGV4dENvbmZpZyh7cm90YXRpb246LW8scG9zaXRpb246cyxvcmlnaW46ImNlbnRlciJ9KTt2YXIgbD1pLmVuc3VyZVN0YXRlKCJlbXBoYXNpcyIpO1QobC50ZXh0Q29uZmlnfHwobC50ZXh0Q29uZmlnPXt9KSx7cG9zaXRpb246c30pfWVsc2UgaS5zZXRUZXh0Q29uZmlnKHtyb3RhdGlvbjpuKj1NYXRoLlBJLzE4MH0pfSkpLHRoaXMuX2ZpcnN0UmVuZGVyPSExfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY29udHJvbGxlciYmdGhpcy5fY29udHJvbGxlci5kaXNwb3NlKCksdGhpcy5fY29udHJvbGxlckhvc3Q9bnVsbH0sZS5wcm90b3R5cGUuX3N0YXJ0Rm9yY2VMYXlvdXRJdGVyYXRpb249ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzOyFmdW5jdGlvbiBpKCl7dC5zdGVwKChmdW5jdGlvbih0KXtuLnVwZGF0ZUxheW91dChuLl9tb2RlbCksKG4uX2xheW91dGluZz0hdCkmJihlP24uX2xheW91dFRpbWVvdXQ9c2V0VGltZW91dChpLDE2KTppKCkpfSkpfSgpfSxlLnByb3RvdHlwZS5fdXBkYXRlQ29udHJvbGxlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcyxyPXRoaXMuX2NvbnRyb2xsZXIsbz10aGlzLl9jb250cm9sbGVySG9zdCxhPXRoaXMuZ3JvdXA7ci5zZXRQb2ludGVyQ2hlY2tlcigoZnVuY3Rpb24oZSxpLHIpe3ZhciBvPWEuZ2V0Qm91bmRpbmdSZWN0KCk7cmV0dXJuIG8uYXBwbHlUcmFuc2Zvcm0oYS50cmFuc2Zvcm0pLG8uY29udGFpbihpLHIpJiYhSUkoZSxuLHQpfSkpLEREKHQuY29vcmRpbmF0ZVN5c3RlbSk/KHIuZW5hYmxlKHQuZ2V0KCJyb2FtIikpLG8uem9vbUxpbWl0PXQuZ2V0KCJzY2FsZUxpbWl0Iiksby56b29tPXQuY29vcmRpbmF0ZVN5c3RlbS5nZXRab29tKCksci5vZmYoInBhbiIpLm9mZigiem9vbSIpLm9uKCJwYW4iLChmdW5jdGlvbihlKXt3SShvLGUuZHgsZS5keSksbi5kaXNwYXRjaEFjdGlvbih7c2VyaWVzSWQ6dC5pZCx0eXBlOiJncmFwaFJvYW0iLGR4OmUuZHgsZHk6ZS5keX0pfSkpLm9uKCJ6b29tIiwoZnVuY3Rpb24oZSl7U0kobyxlLnNjYWxlLGUub3JpZ2luWCxlLm9yaWdpblkpLG4uZGlzcGF0Y2hBY3Rpb24oe3Nlcmllc0lkOnQuaWQsdHlwZToiZ3JhcGhSb2FtIix6b29tOmUuc2NhbGUsb3JpZ2luWDplLm9yaWdpblgsb3JpZ2luWTplLm9yaWdpbll9KSxpLl91cGRhdGVOb2RlQW5kTGlua1NjYWxlKCksQ0QodC5nZXRHcmFwaCgpLEtDKHQpKSxpLl9saW5lRHJhdy51cGRhdGVMYXlvdXQoKSxuLnVwZGF0ZUxhYmVsTGF5b3V0KCl9KSkpOnIuZGlzYWJsZSgpfSxlLnByb3RvdHlwZS5fdXBkYXRlTm9kZUFuZExpbmtTY2FsZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX21vZGVsLGU9dC5nZXREYXRhKCksbj1LQyh0KTtlLmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbih0LGUpe3Quc2V0U3ltYm9sU2NhbGUobil9KSl9LGUucHJvdG90eXBlLnVwZGF0ZUxheW91dD1mdW5jdGlvbih0KXtDRCh0LmdldEdyYXBoKCksS0ModCkpLHRoaXMuX3N5bWJvbERyYXcudXBkYXRlTGF5b3V0KCksdGhpcy5fbGluZURyYXcudXBkYXRlTGF5b3V0KCl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe3RoaXMuX3N5bWJvbERyYXcmJnRoaXMuX3N5bWJvbERyYXcucmVtb3ZlKCksdGhpcy5fbGluZURyYXcmJnRoaXMuX2xpbmVEcmF3LnJlbW92ZSgpfSxlLnR5cGU9ImdyYXBoIixlfShaZik7ZnVuY3Rpb24ga0QodCl7cmV0dXJuIl9FQ18iK3R9dmFyIExEPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLnR5cGU9ImdyYXBoIix0aGlzLm5vZGVzPVtdLHRoaXMuZWRnZXM9W10sdGhpcy5fbm9kZXNNYXA9e30sdGhpcy5fZWRnZXNNYXA9e30sdGhpcy5fZGlyZWN0ZWQ9dHx8ITF9cmV0dXJuIHQucHJvdG90eXBlLmlzRGlyZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlyZWN0ZWR9LHQucHJvdG90eXBlLmFkZE5vZGU9ZnVuY3Rpb24odCxlKXt0PW51bGw9PXQ/IiIrZToiIit0O3ZhciBuPXRoaXMuX25vZGVzTWFwO2lmKCFuW2tEKHQpXSl7dmFyIGk9bmV3IFBEKHQsZSk7cmV0dXJuIGkuaG9zdEdyYXBoPXRoaXMsdGhpcy5ub2Rlcy5wdXNoKGkpLG5ba0QodCldPWksaX19LHQucHJvdG90eXBlLmdldE5vZGVCeUluZGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZGF0YS5nZXRSYXdJbmRleCh0KTtyZXR1cm4gdGhpcy5ub2Rlc1tlXX0sdC5wcm90b3R5cGUuZ2V0Tm9kZUJ5SWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX25vZGVzTWFwW2tEKHQpXX0sdC5wcm90b3R5cGUuYWRkRWRnZT1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5fbm9kZXNNYXAscj10aGlzLl9lZGdlc01hcDtpZigibnVtYmVyIj09dHlwZW9mIHQmJih0PXRoaXMubm9kZXNbdF0pLCJudW1iZXIiPT10eXBlb2YgZSYmKGU9dGhpcy5ub2Rlc1tlXSksdCBpbnN0YW5jZW9mIFBEfHwodD1pW2tEKHQpXSksZSBpbnN0YW5jZW9mIFBEfHwoZT1pW2tEKGUpXSksdCYmZSl7dmFyIG89dC5pZCsiLSIrZS5pZCxhPW5ldyBPRCh0LGUsbik7cmV0dXJuIGEuaG9zdEdyYXBoPXRoaXMsdGhpcy5fZGlyZWN0ZWQmJih0Lm91dEVkZ2VzLnB1c2goYSksZS5pbkVkZ2VzLnB1c2goYSkpLHQuZWRnZXMucHVzaChhKSx0IT09ZSYmZS5lZGdlcy5wdXNoKGEpLHRoaXMuZWRnZXMucHVzaChhKSxyW29dPWEsYX19LHQucHJvdG90eXBlLmdldEVkZ2VCeUluZGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZWRnZURhdGEuZ2V0UmF3SW5kZXgodCk7cmV0dXJuIHRoaXMuZWRnZXNbZV19LHQucHJvdG90eXBlLmdldEVkZ2U9ZnVuY3Rpb24odCxlKXt0IGluc3RhbmNlb2YgUEQmJih0PXQuaWQpLGUgaW5zdGFuY2VvZiBQRCYmKGU9ZS5pZCk7dmFyIG49dGhpcy5fZWRnZXNNYXA7cmV0dXJuIHRoaXMuX2RpcmVjdGVkP25bdCsiLSIrZV06blt0KyItIitlXXx8bltlKyItIit0XX0sdC5wcm90b3R5cGUuZWFjaE5vZGU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5ub2RlcyxpPW4ubGVuZ3RoLHI9MDtyPGk7cisrKW5bcl0uZGF0YUluZGV4Pj0wJiZ0LmNhbGwoZSxuW3JdLHIpfSx0LnByb3RvdHlwZS5lYWNoRWRnZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLmVkZ2VzLGk9bi5sZW5ndGgscj0wO3I8aTtyKyspbltyXS5kYXRhSW5kZXg+PTAmJm5bcl0ubm9kZTEuZGF0YUluZGV4Pj0wJiZuW3JdLm5vZGUyLmRhdGFJbmRleD49MCYmdC5jYWxsKGUsbltyXSxyKX0sdC5wcm90b3R5cGUuYnJlYWR0aEZpcnN0VHJhdmVyc2U9ZnVuY3Rpb24odCxlLG4saSl7aWYoZSBpbnN0YW5jZW9mIFBEfHwoZT10aGlzLl9ub2Rlc01hcFtrRChlKV0pLGUpe2Zvcih2YXIgcj0ib3V0Ij09PW4/Im91dEVkZ2VzIjoiaW4iPT09bj8iaW5FZGdlcyI6ImVkZ2VzIixvPTA7bzx0aGlzLm5vZGVzLmxlbmd0aDtvKyspdGhpcy5ub2Rlc1tvXS5fX3Zpc2l0ZWQ9ITE7aWYoIXQuY2FsbChpLGUsbnVsbCkpZm9yKHZhciBhPVtlXTthLmxlbmd0aDspe3ZhciBzPWEuc2hpZnQoKSxsPXNbcl07Zm9yKG89MDtvPGwubGVuZ3RoO28rKyl7dmFyIHU9bFtvXSxoPXUubm9kZTE9PT1zP3Uubm9kZTI6dS5ub2RlMTtpZighaC5fX3Zpc2l0ZWQpe2lmKHQuY2FsbChpLGgscykpcmV0dXJuO2EucHVzaChoKSxoLl9fdmlzaXRlZD0hMH19fX19LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmRhdGEsZT10aGlzLmVkZ2VEYXRhLG49dGhpcy5ub2RlcyxpPXRoaXMuZWRnZXMscj0wLG89bi5sZW5ndGg7cjxvO3IrKyluW3JdLmRhdGFJbmRleD0tMTtmb3Iocj0wLG89dC5jb3VudCgpO3I8bztyKyspblt0LmdldFJhd0luZGV4KHIpXS5kYXRhSW5kZXg9cjtlLmZpbHRlclNlbGYoKGZ1bmN0aW9uKHQpe3ZhciBuPWlbZS5nZXRSYXdJbmRleCh0KV07cmV0dXJuIG4ubm9kZTEuZGF0YUluZGV4Pj0wJiZuLm5vZGUyLmRhdGFJbmRleD49MH0pKTtmb3Iocj0wLG89aS5sZW5ndGg7cjxvO3IrKylpW3JdLmRhdGFJbmRleD0tMTtmb3Iocj0wLG89ZS5jb3VudCgpO3I8bztyKyspaVtlLmdldFJhd0luZGV4KHIpXS5kYXRhSW5kZXg9cn0sdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9bmV3IHQodGhpcy5fZGlyZWN0ZWQpLG49dGhpcy5ub2RlcyxpPXRoaXMuZWRnZXMscj0wO3I8bi5sZW5ndGg7cisrKWUuYWRkTm9kZShuW3JdLmlkLG5bcl0uZGF0YUluZGV4KTtmb3Iocj0wO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdO2UuYWRkRWRnZShvLm5vZGUxLmlkLG8ubm9kZTIuaWQsby5kYXRhSW5kZXgpfXJldHVybiBlfSx0fSgpLFBEPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuaW5FZGdlcz1bXSx0aGlzLm91dEVkZ2VzPVtdLHRoaXMuZWRnZXM9W10sdGhpcy5kYXRhSW5kZXg9LTEsdGhpcy5pZD1udWxsPT10PyIiOnQsdGhpcy5kYXRhSW5kZXg9bnVsbD09ZT8tMTplfXJldHVybiB0LnByb3RvdHlwZS5kZWdyZWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGdlcy5sZW5ndGh9LHQucHJvdG90eXBlLmluRGVncmVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5FZGdlcy5sZW5ndGh9LHQucHJvdG90eXBlLm91dERlZ3JlZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm91dEVkZ2VzLmxlbmd0aH0sdC5wcm90b3R5cGUuZ2V0TW9kZWw9ZnVuY3Rpb24odCl7aWYoISh0aGlzLmRhdGFJbmRleDwwKSlyZXR1cm4gdGhpcy5ob3N0R3JhcGguZGF0YS5nZXRJdGVtTW9kZWwodGhpcy5kYXRhSW5kZXgpLmdldE1vZGVsKHQpfSx0LnByb3RvdHlwZS5nZXRBZGphY2VudERhdGFJbmRpY2VzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXtlZGdlOltdLG5vZGU6W119LGU9MDtlPHRoaXMuZWRnZXMubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5lZGdlc1tlXTtuLmRhdGFJbmRleDwwfHwodC5lZGdlLnB1c2gobi5kYXRhSW5kZXgpLHQubm9kZS5wdXNoKG4ubm9kZTEuZGF0YUluZGV4LG4ubm9kZTIuZGF0YUluZGV4KSl9cmV0dXJuIHR9LHR9KCksT0Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLmRhdGFJbmRleD0tMSx0aGlzLm5vZGUxPXQsdGhpcy5ub2RlMj1lLHRoaXMuZGF0YUluZGV4PW51bGw9PW4/LTE6bn1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0TW9kZWw9ZnVuY3Rpb24odCl7aWYoISh0aGlzLmRhdGFJbmRleDwwKSlyZXR1cm4gdGhpcy5ob3N0R3JhcGguZWRnZURhdGEuZ2V0SXRlbU1vZGVsKHRoaXMuZGF0YUluZGV4KS5nZXRNb2RlbCh0KX0sdC5wcm90b3R5cGUuZ2V0QWRqYWNlbnREYXRhSW5kaWNlcz1mdW5jdGlvbigpe3JldHVybntlZGdlOlt0aGlzLmRhdGFJbmRleF0sbm9kZTpbdGhpcy5ub2RlMS5kYXRhSW5kZXgsdGhpcy5ub2RlMi5kYXRhSW5kZXhdfX0sdH0oKTtmdW5jdGlvbiBSRCh0LGUpe3JldHVybntnZXRWYWx1ZTpmdW5jdGlvbihuKXt2YXIgaT10aGlzW3RdW2VdO3JldHVybiBpLmdldFN0b3JlKCkuZ2V0KGkuZ2V0RGltZW5zaW9uSW5kZXgobnx8InZhbHVlIiksdGhpcy5kYXRhSW5kZXgpfSxzZXRWaXN1YWw6ZnVuY3Rpb24obixpKXt0aGlzLmRhdGFJbmRleD49MCYmdGhpc1t0XVtlXS5zZXRJdGVtVmlzdWFsKHRoaXMuZGF0YUluZGV4LG4saSl9LGdldFZpc3VhbDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpc1t0XVtlXS5nZXRJdGVtVmlzdWFsKHRoaXMuZGF0YUluZGV4LG4pfSxzZXRMYXlvdXQ6ZnVuY3Rpb24obixpKXt0aGlzLmRhdGFJbmRleD49MCYmdGhpc1t0XVtlXS5zZXRJdGVtTGF5b3V0KHRoaXMuZGF0YUluZGV4LG4saSl9LGdldExheW91dDpmdW5jdGlvbigpe3JldHVybiB0aGlzW3RdW2VdLmdldEl0ZW1MYXlvdXQodGhpcy5kYXRhSW5kZXgpfSxnZXRHcmFwaGljRWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1t0XVtlXS5nZXRJdGVtR3JhcGhpY0VsKHRoaXMuZGF0YUluZGV4KX0sZ2V0UmF3SW5kZXg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1t0XVtlXS5nZXRSYXdJbmRleCh0aGlzLmRhdGFJbmRleCl9fX1mdW5jdGlvbiBORCh0LGUsbixpLHIpe2Zvcih2YXIgbz1uZXcgTEQoaSksYT0wO2E8dC5sZW5ndGg7YSsrKW8uYWRkTm9kZSh0dCh0W2FdLmlkLHRbYV0ubmFtZSxhKSxhKTt2YXIgcz1bXSxsPVtdLHU9MDtmb3IoYT0wO2E8ZS5sZW5ndGg7YSsrKXt2YXIgaD1lW2FdLGM9aC5zb3VyY2UscD1oLnRhcmdldDtvLmFkZEVkZ2UoYyxwLHUpJiYobC5wdXNoKGgpLHMucHVzaCh0dChrcihoLmlkLG51bGwpLGMrIiA+ICIrcCkpLHUrKyl9dmFyIGQsZj1uLmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpO2lmKCJjYXJ0ZXNpYW4yZCI9PT1mfHwicG9sYXIiPT09ZilkPW1fKHQsbik7ZWxzZXt2YXIgZz1HcC5nZXQoZikseT1nJiZnLmRpbWVuc2lvbnN8fFtdO0EoeSwidmFsdWUiKTwwJiZ5LmNvbmNhdChbInZhbHVlIl0pO3ZhciB2PWhfKHQse2Nvb3JkRGltZW5zaW9uczp5LGVuY29kZURlZmluZTpuLmdldEVuY29kZSgpfSkuZGltZW5zaW9uczsoZD1uZXcgdV8odixuKSkuaW5pdERhdGEodCl9dmFyIG09bmV3IHVfKFsidmFsdWUiXSxuKTtyZXR1cm4gbS5pbml0RGF0YShsLHMpLHImJnIoZCxtKSx4VCh7bWFpbkRhdGE6ZCxzdHJ1Y3Q6byxzdHJ1Y3RBdHRyOiJncmFwaCIsZGF0YXM6e25vZGU6ZCxlZGdlOm19LGRhdGFzQXR0cjp7bm9kZToiZGF0YSIsZWRnZToiZWRnZURhdGEifX0pLG8udXBkYXRlKCksb31MKFBELFJEKCJob3N0R3JhcGgiLCJkYXRhIikpLEwoT0QsUkQoImhvc3RHcmFwaCIsImVkZ2VEYXRhIikpO3ZhciB6RD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uaGFzU3ltYm9sVmlzdWFsPSEwLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBuPXRoaXM7ZnVuY3Rpb24gaSgpe3JldHVybiBuLl9jYXRlZ29yaWVzRGF0YX10aGlzLmxlZ2VuZFZpc3VhbFByb3ZpZGVyPW5ldyB0TShpLGkpLHRoaXMuZmlsbERhdGFUZXh0U3R5bGUoZS5lZGdlc3x8ZS5saW5rcyksdGhpcy5fdXBkYXRlQ2F0ZWdvcmllc0RhdGEoKX0sZS5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUubWVyZ2VPcHRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuZmlsbERhdGFUZXh0U3R5bGUoZS5lZGdlc3x8ZS5saW5rcyksdGhpcy5fdXBkYXRlQ2F0ZWdvcmllc0RhdGEoKX0sZS5wcm90b3R5cGUubWVyZ2VEZWZhdWx0QW5kVGhlbWU9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUubWVyZ2VEZWZhdWx0QW5kVGhlbWUuYXBwbHkodGhpcyxhcmd1bWVudHMpLFNyKGUsImVkZ2VMYWJlbCIsWyJzaG93Il0pfSxlLnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbih0LGUpe3ZhciBuLGk9dC5lZGdlc3x8dC5saW5rc3x8W10scj10LmRhdGF8fHQubm9kZXN8fFtdLG89dGhpcztpZihyJiZpKXtGQyhuPXRoaXMpJiYobi5fX2N1cnZlbmVzc0xpc3Q9W10sbi5fX2VkZ2VNYXA9e30sSEMobikpO3ZhciBhPU5EKHIsaSx0aGlzLCEwLChmdW5jdGlvbih0LGUpe3Qud3JhcE1ldGhvZCgiZ2V0SXRlbU1vZGVsIiwoZnVuY3Rpb24odCl7dmFyIGU9by5fY2F0ZWdvcmllc01vZGVsc1t0LmdldFNoYWxsb3coImNhdGVnb3J5IildO3JldHVybiBlJiYoZS5wYXJlbnRNb2RlbD10LnBhcmVudE1vZGVsLHQucGFyZW50TW9kZWw9ZSksdH0pKTt2YXIgbj1XaC5wcm90b3R5cGUuZ2V0TW9kZWw7ZnVuY3Rpb24gaSh0LGUpe3ZhciBpPW4uY2FsbCh0aGlzLHQsZSk7cmV0dXJuIGkucmVzb2x2ZVBhcmVudFBhdGg9cixpfWZ1bmN0aW9uIHIodCl7aWYodCYmKCJsYWJlbCI9PT10WzBdfHwibGFiZWwiPT09dFsxXSkpe3ZhciBlPXQuc2xpY2UoKTtyZXR1cm4ibGFiZWwiPT09dFswXT9lWzBdPSJlZGdlTGFiZWwiOiJsYWJlbCI9PT10WzFdJiYoZVsxXT0iZWRnZUxhYmVsIiksZX1yZXR1cm4gdH1lLndyYXBNZXRob2QoImdldEl0ZW1Nb2RlbCIsKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlc29sdmVQYXJlbnRQYXRoPXIsdC5nZXRNb2RlbD1pLHR9KSl9KSk7cmV0dXJuIE8oYS5lZGdlcywoZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSxuLGkpe2lmKEZDKG4pKXt2YXIgcj1XQyh0LGUsbiksbz1uLl9fZWRnZU1hcCxhPW9bVUMocildO29bcl0mJiFhP29bcl0uaXNGb3J3YXJkPSEwOmEmJm9bcl0mJihhLmlzRm9yd2FyZD0hMCxvW3JdLmlzRm9yd2FyZD0hMSksb1tyXT1vW3JdfHxbXSxvW3JdLnB1c2goaSl9fSh0Lm5vZGUxLHQubm9kZTIsdGhpcyx0LmRhdGFJbmRleCl9KSx0aGlzKSxhLmRhdGF9fSxlLnByb3RvdHlwZS5nZXRHcmFwaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldERhdGEoKS5ncmFwaH0sZS5wcm90b3R5cGUuZ2V0RWRnZURhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRHcmFwaCgpLmVkZ2VEYXRhfSxlLnByb3RvdHlwZS5nZXRDYXRlZ29yaWVzRGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYXRlZ29yaWVzRGF0YX0sZS5wcm90b3R5cGUuZm9ybWF0VG9vbHRpcD1mdW5jdGlvbih0LGUsbil7aWYoImVkZ2UiPT09bil7dmFyIGk9dGhpcy5nZXREYXRhKCkscj10aGlzLmdldERhdGFQYXJhbXModCxuKSxvPWkuZ3JhcGguZ2V0RWRnZUJ5SW5kZXgodCksYT1pLmdldE5hbWUoby5ub2RlMS5kYXRhSW5kZXgpLHM9aS5nZXROYW1lKG8ubm9kZTIuZGF0YUluZGV4KSxsPVtdO3JldHVybiBudWxsIT1hJiZsLnB1c2goYSksbnVsbCE9cyYmbC5wdXNoKHMpLHdmKCJuYW1lVmFsdWUiLHtuYW1lOmwuam9pbigiID4gIiksdmFsdWU6ci52YWx1ZSxub1ZhbHVlOm51bGw9PXIudmFsdWV9KX1yZXR1cm4gUGYoe3Nlcmllczp0aGlzLGRhdGFJbmRleDp0LG11bHRpcGxlU2VyaWVzOmV9KX0sZS5wcm90b3R5cGUuX3VwZGF0ZUNhdGVnb3JpZXNEYXRhPWZ1bmN0aW9uKCl7dmFyIHQ9Uih0aGlzLm9wdGlvbi5jYXRlZ29yaWVzfHxbXSwoZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQudmFsdWU/dDpUKHt2YWx1ZTowfSx0KX0pKSxlPW5ldyB1XyhbInZhbHVlIl0sdGhpcyk7ZS5pbml0RGF0YSh0KSx0aGlzLl9jYXRlZ29yaWVzRGF0YT1lLHRoaXMuX2NhdGVnb3JpZXNNb2RlbHM9ZS5tYXBBcnJheSgoZnVuY3Rpb24odCl7cmV0dXJuIGUuZ2V0SXRlbU1vZGVsKHQpfSkpfSxlLnByb3RvdHlwZS5zZXRab29tPWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLnpvb209dH0sZS5wcm90b3R5cGUuc2V0Q2VudGVyPWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLmNlbnRlcj10fSxlLnByb3RvdHlwZS5pc0FuaW1hdGlvbkVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdC5wcm90b3R5cGUuaXNBbmltYXRpb25FbmFibGVkLmNhbGwodGhpcykmJiEoImZvcmNlIj09PXRoaXMuZ2V0KCJsYXlvdXQiKSYmdGhpcy5nZXQoWyJmb3JjZSIsImxheW91dEFuaW1hdGlvbiJdKSl9LGUudHlwZT0ic2VyaWVzLmdyYXBoIixlLmRlcGVuZGVuY2llcz1bImdyaWQiLCJwb2xhciIsImdlbyIsInNpbmdsZUF4aXMiLCJjYWxlbmRhciJdLGUuZGVmYXVsdE9wdGlvbj17emxldmVsOjAsejoyLGNvb3JkaW5hdGVTeXN0ZW06InZpZXciLGxlZ2VuZEhvdmVyTGluazohMCxsYXlvdXQ6bnVsbCxjaXJjdWxhcjp7cm90YXRlTGFiZWw6ITF9LGZvcmNlOntpbml0TGF5b3V0Om51bGwscmVwdWxzaW9uOlswLDUwXSxncmF2aXR5Oi4xLGZyaWN0aW9uOi42LGVkZ2VMZW5ndGg6MzAsbGF5b3V0QW5pbWF0aW9uOiEwfSxsZWZ0OiJjZW50ZXIiLHRvcDoiY2VudGVyIixzeW1ib2w6ImNpcmNsZSIsc3ltYm9sU2l6ZToxMCxlZGdlU3ltYm9sOlsibm9uZSIsIm5vbmUiXSxlZGdlU3ltYm9sU2l6ZToxMCxlZGdlTGFiZWw6e3Bvc2l0aW9uOiJtaWRkbGUiLGRpc3RhbmNlOjV9LGRyYWdnYWJsZTohMSxyb2FtOiExLGNlbnRlcjpudWxsLHpvb206MSxub2RlU2NhbGVSYXRpbzouNixsYWJlbDp7c2hvdzohMSxmb3JtYXR0ZXI6IntifSJ9LGl0ZW1TdHlsZTp7fSxsaW5lU3R5bGU6e2NvbG9yOiIjYWFhIix3aWR0aDoxLG9wYWNpdHk6LjV9LGVtcGhhc2lzOntzY2FsZTohMCxsYWJlbDp7c2hvdzohMH19LHNlbGVjdDp7aXRlbVN0eWxlOntib3JkZXJDb2xvcjoiIzIxMjEyMSJ9fX0sZX0oTmYpLEVEPXt0eXBlOiJncmFwaFJvYW0iLGV2ZW50OiJncmFwaFJvYW0iLHVwZGF0ZToibm9uZSJ9O3ZhciBWRD1mdW5jdGlvbigpe3RoaXMuYW5nbGU9MCx0aGlzLndpZHRoPTEwLHRoaXMucj0xMCx0aGlzLng9MCx0aGlzLnk9MH0sQkQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbi50eXBlPSJwb2ludGVyIixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBWRH0sZS5wcm90b3R5cGUuYnVpbGRQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIG49TWF0aC5jb3MsaT1NYXRoLnNpbixyPWUucixvPWUud2lkdGgsYT1lLmFuZ2xlLHM9ZS54LW4oYSkqbyoobz49ci8zPzE6MiksbD1lLnktaShhKSpvKihvPj1yLzM/MToyKTthPWUuYW5nbGUtTWF0aC5QSS8yLHQubW92ZVRvKHMsbCksdC5saW5lVG8oZS54K24oYSkqbyxlLnkraShhKSpvKSx0LmxpbmVUbyhlLngrbihlLmFuZ2xlKSpyLGUueStpKGUuYW5nbGUpKnIpLHQubGluZVRvKGUueC1uKGEpKm8sZS55LWkoYSkqbyksdC5saW5lVG8ocyxsKX0sZX0oUWEpO2Z1bmN0aW9uIEdEKHQsZSl7dmFyIG49bnVsbD09dD8iIjp0KyIiO3JldHVybiBlJiYoInN0cmluZyI9PXR5cGVvZiBlP249ZS5yZXBsYWNlKCJ7dmFsdWV9IixuKToiZnVuY3Rpb24iPT10eXBlb2YgZSYmKG49ZSh0KSkpLG59dmFyIEZEPTIqTWF0aC5QSSxIRD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCk7dmFyIGk9dC5nZXQoWyJheGlzTGluZSIsImxpbmVTdHlsZSIsImNvbG9yIl0pLHI9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldCgiY2VudGVyIiksaT1lLmdldFdpZHRoKCkscj1lLmdldEhlaWdodCgpLG89TWF0aC5taW4oaSxyKTtyZXR1cm57Y3g6cWkoblswXSxlLmdldFdpZHRoKCkpLGN5OnFpKG5bMV0sZS5nZXRIZWlnaHQoKSkscjpxaSh0LmdldCgicmFkaXVzIiksby8yKX19KHQsbik7dGhpcy5fcmVuZGVyTWFpbih0LGUsbixpLHIpLHRoaXMuX2RhdGE9dC5nZXREYXRhKCl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLl9yZW5kZXJNYWluPWZ1bmN0aW9uKHQsZSxuLGkscil7Zm9yKHZhciBvPXRoaXMuZ3JvdXAsYT10LmdldCgiY2xvY2t3aXNlIikscz0tdC5nZXQoInN0YXJ0QW5nbGUiKS8xODAqTWF0aC5QSSxsPS10LmdldCgiZW5kQW5nbGUiKS8xODAqTWF0aC5QSSx1PXQuZ2V0TW9kZWwoImF4aXNMaW5lIiksaD11LmdldCgicm91bmRDYXAiKT9tUzpvdSxjPXUuZ2V0KCJzaG93IikscD11LmdldE1vZGVsKCJsaW5lU3R5bGUiKSxkPXAuZ2V0KCJ3aWR0aCIpLGY9KGwtcyklRkR8fGw9PT1zPyhsLXMpJUZEOkZELGc9cyx5PTA7YyYmeTxpLmxlbmd0aDt5Kyspe3ZhciB2PW5ldyBoKHtzaGFwZTp7c3RhcnRBbmdsZTpnLGVuZEFuZ2xlOmw9cytmKk1hdGgubWluKE1hdGgubWF4KGlbeV1bMF0sMCksMSksY3g6ci5jeCxjeTpyLmN5LGNsb2Nrd2lzZTphLHIwOnIuci1kLHI6ci5yfSxzaWxlbnQ6ITB9KTt2LnNldFN0eWxlKHtmaWxsOmlbeV1bMV19KSx2LnNldFN0eWxlKHAuZ2V0TGluZVN0eWxlKFsiY29sb3IiLCJ3aWR0aCJdKSksby5hZGQodiksZz1sfXZhciBtPWZ1bmN0aW9uKHQpe2lmKHQ8PTApcmV0dXJuIGlbMF1bMV07dmFyIGU7Zm9yKGU9MDtlPGkubGVuZ3RoO2UrKylpZihpW2VdWzBdPj10JiYoMD09PWU/MDppW2UtMV1bMF0pPHQpcmV0dXJuIGlbZV1bMV07cmV0dXJuIGlbZS0xXVsxXX07aWYoIWEpe3ZhciBfPXM7cz1sLGw9X310aGlzLl9yZW5kZXJUaWNrcyh0LGUsbixtLHIscyxsLGEsZCksdGhpcy5fcmVuZGVyVGl0bGVBbmREZXRhaWwodCxlLG4sbSxyKSx0aGlzLl9yZW5kZXJBbmNob3IodCxyKSx0aGlzLl9yZW5kZXJQb2ludGVyKHQsZSxuLG0scixzLGwsYSxkKX0sZS5wcm90b3R5cGUuX3JlbmRlclRpY2tzPWZ1bmN0aW9uKHQsZSxuLGkscixvLGEscyxsKXtmb3IodmFyIHUsaCxjPXRoaXMuZ3JvdXAscD1yLmN4LGQ9ci5jeSxmPXIucixnPSt0LmdldCgibWluIikseT0rdC5nZXQoIm1heCIpLHY9dC5nZXRNb2RlbCgic3BsaXRMaW5lIiksbT10LmdldE1vZGVsKCJheGlzVGljayIpLF89dC5nZXRNb2RlbCgiYXhpc0xhYmVsIikseD10LmdldCgic3BsaXROdW1iZXIiKSxiPW0uZ2V0KCJzcGxpdE51bWJlciIpLHc9cWkodi5nZXQoImxlbmd0aCIpLGYpLFM9cWkobS5nZXQoImxlbmd0aCIpLGYpLE09byxJPShhLW8pL3gsVD1JL2IsQz12LmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSxEPW0uZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpLEE9di5nZXQoImRpc3RhbmNlIiksaz0wO2s8PXg7aysrKXtpZih1PU1hdGguY29zKE0pLGg9TWF0aC5zaW4oTSksdi5nZXQoInNob3ciKSl7dmFyIEw9bmV3IHl1KHtzaGFwZTp7eDE6dSooZi0oUD1BP0ErbDpsKSkrcCx5MTpoKihmLVApK2QseDI6dSooZi13LVApK3AseTI6aCooZi13LVApK2R9LHN0eWxlOkMsc2lsZW50OiEwfSk7ImF1dG8iPT09Qy5zdHJva2UmJkwuc2V0U3R5bGUoe3N0cm9rZTppKGsveCl9KSxjLmFkZChMKX1pZihfLmdldCgic2hvdyIpKXt2YXIgUD1fLmdldCgiZGlzdGFuY2UiKStBLE89R0QoS2koay94Kih5LWcpK2cpLF8uZ2V0KCJmb3JtYXR0ZXIiKSksUj1pKGsveCk7Yy5hZGQobmV3IGZzKHtzdHlsZTp3aChfLHt0ZXh0Ok8seDp1KihmLXctUCkrcCx5OmgqKGYtdy1QKStkLHZlcnRpY2FsQWxpZ246aDwtLjg/InRvcCI6aD4uOD8iYm90dG9tIjoibWlkZGxlIixhbGlnbjp1PC0uND8ibGVmdCI6dT4uND8icmlnaHQiOiJjZW50ZXIifSx7aW5oZXJpdENvbG9yOlJ9KSxzaWxlbnQ6ITB9KSl9aWYobS5nZXQoInNob3ciKSYmayE9PXgpe1A9KFA9bS5nZXQoImRpc3RhbmNlIikpP1ArbDpsO2Zvcih2YXIgTj0wO048PWI7TisrKXt1PU1hdGguY29zKE0pLGg9TWF0aC5zaW4oTSk7dmFyIHo9bmV3IHl1KHtzaGFwZTp7eDE6dSooZi1QKStwLHkxOmgqKGYtUCkrZCx4Mjp1KihmLVMtUCkrcCx5MjpoKihmLVMtUCkrZH0sc2lsZW50OiEwLHN0eWxlOkR9KTsiYXV0byI9PT1ELnN0cm9rZSYmei5zZXRTdHlsZSh7c3Ryb2tlOmkoKGsrTi9iKS94KX0pLGMuYWRkKHopLE0rPVR9TS09VH1lbHNlIE0rPUl9fSxlLnByb3RvdHlwZS5fcmVuZGVyUG9pbnRlcj1mdW5jdGlvbih0LGUsbixpLHIsbyxhLHMsbCl7dmFyIHU9dGhpcy5ncm91cCxoPXRoaXMuX2RhdGEsYz10aGlzLl9wcm9ncmVzc0VscyxwPVtdLGQ9dC5nZXQoWyJwb2ludGVyIiwic2hvdyJdKSxmPXQuZ2V0TW9kZWwoInByb2dyZXNzIiksZz1mLmdldCgic2hvdyIpLHk9dC5nZXREYXRhKCksdj15Lm1hcERpbWVuc2lvbigidmFsdWUiKSxtPSt0LmdldCgibWluIiksXz0rdC5nZXQoIm1heCIpLHg9W20sX10sYj1bbyxhXTtmdW5jdGlvbiB3KGUsbil7dmFyIGksbz15LmdldEl0ZW1Nb2RlbChlKS5nZXRNb2RlbCgicG9pbnRlciIpLGE9cWkoby5nZXQoIndpZHRoIiksci5yKSxzPXFpKG8uZ2V0KCJsZW5ndGgiKSxyLnIpLGw9dC5nZXQoWyJwb2ludGVyIiwiaWNvbiJdKSx1PW8uZ2V0KCJvZmZzZXRDZW50ZXIiKSxoPXFpKHVbMF0sci5yKSxjPXFpKHVbMV0sci5yKSxwPW8uZ2V0KCJrZWVwQXNwZWN0Iik7cmV0dXJuKGk9bD9leShsLGgtYS8yLGMtcyxhLHMsbnVsbCxwKTpuZXcgQkQoe3NoYXBlOnthbmdsZTotTWF0aC5QSS8yLHdpZHRoOmEscjpzLHg6aCx5OmN9fSkpLnJvdGF0aW9uPS0obitNYXRoLlBJLzIpLGkueD1yLmN4LGkueT1yLmN5LGl9ZnVuY3Rpb24gUyh0LGUpe3ZhciBuPWYuZ2V0KCJyb3VuZENhcCIpP21TOm91LGk9Zi5nZXQoIm92ZXJsYXAiKSxhPWk/Zi5nZXQoIndpZHRoIik6bC95LmNvdW50KCksdT1pP3Iuci1hOnIuci0odCsxKSphLGg9aT9yLnI6ci5yLXQqYSxjPW5ldyBuKHtzaGFwZTp7c3RhcnRBbmdsZTpvLGVuZEFuZ2xlOmUsY3g6ci5jeCxjeTpyLmN5LGNsb2Nrd2lzZTpzLHIwOnUscjpofX0pO3JldHVybiBpJiYoYy56Mj1fLXkuZ2V0KHYsdCklXyksY30oZ3x8ZCkmJih5LmRpZmYoaCkuYWRkKChmdW5jdGlvbihlKXtpZihkKXt2YXIgbj13KGUsbyk7VnUobix7cm90YXRpb246LShqaSh5LmdldCh2LGUpLHgsYiwhMCkrTWF0aC5QSS8yKX0sdCksdS5hZGQobikseS5zZXRJdGVtR3JhcGhpY0VsKGUsbil9aWYoZyl7dmFyIGk9UyhlLG8pLHI9Zi5nZXQoImNsaXAiKTtWdShpLHtzaGFwZTp7ZW5kQW5nbGU6amkoeS5nZXQodixlKSx4LGIscil9fSx0KSx1LmFkZChpKSxNcyh0LnNlcmllc0luZGV4LHkuZGF0YVR5cGUsZSxpKSxwW2VdPWl9fSkpLnVwZGF0ZSgoZnVuY3Rpb24oZSxuKXtpZihkKXt2YXIgaT1oLmdldEl0ZW1HcmFwaGljRWwobikscj1pP2kucm90YXRpb246byxhPXcoZSxyKTthLnJvdGF0aW9uPXIsRXUoYSx7cm90YXRpb246LShqaSh5LmdldCh2LGUpLHgsYiwhMCkrTWF0aC5QSS8yKX0sdCksdS5hZGQoYSkseS5zZXRJdGVtR3JhcGhpY0VsKGUsYSl9aWYoZyl7dmFyIHM9Y1tuXSxsPVMoZSxzP3Muc2hhcGUuZW5kQW5nbGU6byksbT1mLmdldCgiY2xpcCIpO0V1KGwse3NoYXBlOntlbmRBbmdsZTpqaSh5LmdldCh2LGUpLHgsYixtKX19LHQpLHUuYWRkKGwpLE1zKHQuc2VyaWVzSW5kZXgseS5kYXRhVHlwZSxlLGwpLHBbZV09bH19KSkuZXhlY3V0ZSgpLHkuZWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9eS5nZXRJdGVtTW9kZWwodCksbj1lLmdldE1vZGVsKCJlbXBoYXNpcyIpO2lmKGQpe3ZhciByPXkuZ2V0SXRlbUdyYXBoaWNFbCh0KSxvPXkuZ2V0SXRlbVZpc3VhbCh0LCJzdHlsZSIpLGE9by5maWxsO2lmKHIgaW5zdGFuY2VvZiBycyl7dmFyIHM9ci5zdHlsZTtyLnVzZVN0eWxlKFQoe2ltYWdlOnMuaW1hZ2UseDpzLngseTpzLnksd2lkdGg6cy53aWR0aCxoZWlnaHQ6cy5oZWlnaHR9LG8pKX1lbHNlIHIudXNlU3R5bGUobyksInBvaW50ZXIiIT09ci50eXBlJiZyLnNldENvbG9yKGEpO3Iuc2V0U3R5bGUoZS5nZXRNb2RlbChbInBvaW50ZXIiLCJpdGVtU3R5bGUiXSkuZ2V0SXRlbVN0eWxlKCkpLCJhdXRvIj09PXIuc3R5bGUuZmlsbCYmci5zZXRTdHlsZSgiZmlsbCIsaShqaSh5LmdldCh2LHQpLHgsWzAsMV0sITApKSksci56MkVtcGhhc2lzTGlmdD0wLHlsKHIsZSkscGwocixuLmdldCgiZm9jdXMiKSxuLmdldCgiYmx1clNjb3BlIikpfWlmKGcpe3ZhciBsPXBbdF07bC51c2VTdHlsZSh5LmdldEl0ZW1WaXN1YWwodCwic3R5bGUiKSksbC5zZXRTdHlsZShlLmdldE1vZGVsKFsicHJvZ3Jlc3MiLCJpdGVtU3R5bGUiXSkuZ2V0SXRlbVN0eWxlKCkpLGwuejJFbXBoYXNpc0xpZnQ9MCx5bChsLGUpLHBsKGwsbi5nZXQoImZvY3VzIiksbi5nZXQoImJsdXJTY29wZSIpKX19KSksdGhpcy5fcHJvZ3Jlc3NFbHM9cCl9LGUucHJvdG90eXBlLl9yZW5kZXJBbmNob3I9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldE1vZGVsKCJhbmNob3IiKTtpZihuLmdldCgic2hvdyIpKXt2YXIgaT1uLmdldCgic2l6ZSIpLHI9bi5nZXQoImljb24iKSxvPW4uZ2V0KCJvZmZzZXRDZW50ZXIiKSxhPW4uZ2V0KCJrZWVwQXNwZWN0Iikscz1leShyLGUuY3gtaS8yK3FpKG9bMF0sZS5yKSxlLmN5LWkvMitxaShvWzFdLGUuciksaSxpLG51bGwsYSk7cy56Mj1uLmdldCgic2hvd0Fib3ZlIik/MTowLHMuc2V0U3R5bGUobi5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCkpLHRoaXMuZ3JvdXAuYWRkKHMpfX0sZS5wcm90b3R5cGUuX3JlbmRlclRpdGxlQW5kRGV0YWlsPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89dGhpcyxhPXQuZ2V0RGF0YSgpLHM9YS5tYXBEaW1lbnNpb24oInZhbHVlIiksbD0rdC5nZXQoIm1pbiIpLHU9K3QuZ2V0KCJtYXgiKSxoPW5ldyBCaSxjPVtdLHA9W10sZD10LmlzQW5pbWF0aW9uRW5hYmxlZCgpLGY9dC5nZXQoWyJwb2ludGVyIiwic2hvd0Fib3ZlIl0pO2EuZGlmZih0aGlzLl9kYXRhKS5hZGQoKGZ1bmN0aW9uKHQpe2NbdF09bmV3IGZzKHtzaWxlbnQ6ITB9KSxwW3RdPW5ldyBmcyh7c2lsZW50OiEwfSl9KSkudXBkYXRlKChmdW5jdGlvbih0LGUpe2NbdF09by5fdGl0bGVFbHNbZV0scFt0XT1vLl9kZXRhaWxFbHNbZV19KSkuZXhlY3V0ZSgpLGEuZWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49YS5nZXRJdGVtTW9kZWwoZSksbz1hLmdldChzLGUpLGc9bmV3IEJpLHk9aShqaShvLFtsLHVdLFswLDFdLCEwKSksdj1uLmdldE1vZGVsKCJ0aXRsZSIpO2lmKHYuZ2V0KCJzaG93Iikpe3ZhciBtPXYuZ2V0KCJvZmZzZXRDZW50ZXIiKSxfPXIuY3grcWkobVswXSxyLnIpLHg9ci5jeStxaShtWzFdLHIucik7KEQ9Y1tlXSkuYXR0cih7ejI6Zj8wOjIsc3R5bGU6d2godix7eDpfLHk6eCx0ZXh0OmEuZ2V0TmFtZShlKSxhbGlnbjoiY2VudGVyIix2ZXJ0aWNhbEFsaWduOiJtaWRkbGUifSx7aW5oZXJpdENvbG9yOnl9KX0pLGcuYWRkKEQpfXZhciBiPW4uZ2V0TW9kZWwoImRldGFpbCIpO2lmKGIuZ2V0KCJzaG93Iikpe3ZhciB3PWIuZ2V0KCJvZmZzZXRDZW50ZXIiKSxTPXIuY3grcWkod1swXSxyLnIpLE09ci5jeStxaSh3WzFdLHIuciksST1xaShiLmdldCgid2lkdGgiKSxyLnIpLFQ9cWkoYi5nZXQoImhlaWdodCIpLHIuciksQz10LmdldChbInByb2dyZXNzIiwic2hvdyJdKT9hLmdldEl0ZW1WaXN1YWwoZSwic3R5bGUiKS5maWxsOnksRD1wW2VdLEE9Yi5nZXQoImZvcm1hdHRlciIpO0QuYXR0cih7ejI6Zj8wOjIsc3R5bGU6d2goYix7eDpTLHk6TSx0ZXh0OkdEKG8sQSksd2lkdGg6aXNOYU4oSSk/bnVsbDpJLGhlaWdodDppc05hTihUKT9udWxsOlQsYWxpZ246ImNlbnRlciIsdmVydGljYWxBbGlnbjoibWlkZGxlIn0se2luaGVyaXRDb2xvcjpDfSl9KSxraChELHtub3JtYWw6Yn0sbywoZnVuY3Rpb24odCl7cmV0dXJuIEdEKHQsQSl9KSksZCYmTGgoRCxlLGEsdCx7Z2V0Rm9ybWF0dGVkTGFiZWw6ZnVuY3Rpb24odCxlLG4saSxyLGEpe3JldHVybiBHRChhP2EuaW50ZXJwb2xhdGVkVmFsdWU6byxBKX19KSxnLmFkZChEKX1oLmFkZChnKX0pKSx0aGlzLmdyb3VwLmFkZChoKSx0aGlzLl90aXRsZUVscz1jLHRoaXMuX2RldGFpbEVscz1wfSxlLnR5cGU9ImdhdWdlIixlfShaZiksV0Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLnZpc3VhbFN0eWxlQWNjZXNzUGF0aD0iaXRlbVN0eWxlIixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gUVModGhpcyxbInZhbHVlIl0pfSxlLnR5cGU9InNlcmllcy5nYXVnZSIsZS5kZWZhdWx0T3B0aW9uPXt6bGV2ZWw6MCx6OjIsY29sb3JCeToiZGF0YSIsY2VudGVyOlsiNTAlIiwiNTAlIl0sbGVnZW5kSG92ZXJMaW5rOiEwLHJhZGl1czoiNzUlIixzdGFydEFuZ2xlOjIyNSxlbmRBbmdsZTotNDUsY2xvY2t3aXNlOiEwLG1pbjowLG1heDoxMDAsc3BsaXROdW1iZXI6MTAsYXhpc0xpbmU6e3Nob3c6ITAscm91bmRDYXA6ITEsbGluZVN0eWxlOntjb2xvcjpbWzEsIiNFNkVCRjgiXV0sd2lkdGg6MTB9fSxwcm9ncmVzczp7c2hvdzohMSxvdmVybGFwOiEwLHdpZHRoOjEwLHJvdW5kQ2FwOiExLGNsaXA6ITB9LHNwbGl0TGluZTp7c2hvdzohMCxsZW5ndGg6MTAsZGlzdGFuY2U6MTAsbGluZVN0eWxlOntjb2xvcjoiIzYzNjc3QSIsd2lkdGg6Myx0eXBlOiJzb2xpZCJ9fSxheGlzVGljazp7c2hvdzohMCxzcGxpdE51bWJlcjo1LGxlbmd0aDo2LGRpc3RhbmNlOjEwLGxpbmVTdHlsZTp7Y29sb3I6IiM2MzY3N0EiLHdpZHRoOjEsdHlwZToic29saWQifX0sYXhpc0xhYmVsOntzaG93OiEwLGRpc3RhbmNlOjE1LGNvbG9yOiIjNDY0NjQ2Iixmb250U2l6ZToxMn0scG9pbnRlcjp7aWNvbjpudWxsLG9mZnNldENlbnRlcjpbMCwwXSxzaG93OiEwLHNob3dBYm92ZTohMCxsZW5ndGg6IjYwJSIsd2lkdGg6NixrZWVwQXNwZWN0OiExfSxhbmNob3I6e3Nob3c6ITEsc2hvd0Fib3ZlOiExLHNpemU6NixpY29uOiJjaXJjbGUiLG9mZnNldENlbnRlcjpbMCwwXSxrZWVwQXNwZWN0OiExLGl0ZW1TdHlsZTp7Y29sb3I6IiNmZmYiLGJvcmRlcldpZHRoOjAsYm9yZGVyQ29sb3I6IiM1NDcwYzYifX0sdGl0bGU6e3Nob3c6ITAsb2Zmc2V0Q2VudGVyOlswLCIyMCUiXSxjb2xvcjoiIzQ2NDY0NiIsZm9udFNpemU6MTYsdmFsdWVBbmltYXRpb246ITF9LGRldGFpbDp7c2hvdzohMCxiYWNrZ3JvdW5kQ29sb3I6InJnYmEoMCwwLDAsMCkiLGJvcmRlcldpZHRoOjAsYm9yZGVyQ29sb3I6IiNjY2MiLHdpZHRoOjEwMCxoZWlnaHQ6bnVsbCxwYWRkaW5nOls1LDEwXSxvZmZzZXRDZW50ZXI6WzAsIjQwJSJdLGNvbG9yOiIjNDY0NjQ2Iixmb250U2l6ZTozMCxmb250V2VpZ2h0OiJib2xkIixsaW5lSGVpZ2h0OjMwLHZhbHVlQW5pbWF0aW9uOiExfX0sZX0oTmYpO3ZhciBVRD1bIml0ZW1TdHlsZSIsIm9wYWNpdHkiXSxYRD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzLHI9aSxvPW5ldyBkdSxhPW5ldyBmcztyZXR1cm4gci5zZXRUZXh0Q29udGVudChhKSxpLnNldFRleHRHdWlkZUxpbmUobyksaS51cGRhdGVEYXRhKGUsbiwhMCksaX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMscj10Lmhvc3RNb2RlbCxvPXQuZ2V0SXRlbU1vZGVsKGUpLGE9dC5nZXRJdGVtTGF5b3V0KGUpLHM9by5nZXRNb2RlbCgiZW1waGFzaXMiKSxsPW8uZ2V0KFVEKTtsPW51bGw9PWw/MTpsLG58fFd1KGkpLGkudXNlU3R5bGUodC5nZXRJdGVtVmlzdWFsKGUsInN0eWxlIikpLGkuc3R5bGUubGluZUpvaW49InJvdW5kIixuPyhpLnNldFNoYXBlKHtwb2ludHM6YS5wb2ludHN9KSxpLnN0eWxlLm9wYWNpdHk9MCxWdShpLHtzdHlsZTp7b3BhY2l0eTpsfX0scixlKSk6RXUoaSx7c3R5bGU6e29wYWNpdHk6bH0sc2hhcGU6e3BvaW50czphLnBvaW50c319LHIsZSkseWwoaSxvKSx0aGlzLl91cGRhdGVMYWJlbCh0LGUpLHBsKHRoaXMscy5nZXQoImZvY3VzIikscy5nZXQoImJsdXJTY29wZSIpKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUxhYmVsPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxpPXRoaXMuZ2V0VGV4dEd1aWRlTGluZSgpLHI9bi5nZXRUZXh0Q29udGVudCgpLG89dC5ob3N0TW9kZWwsYT10LmdldEl0ZW1Nb2RlbChlKSxzPXQuZ2V0SXRlbUxheW91dChlKS5sYWJlbCxsPXQuZ2V0SXRlbVZpc3VhbChlLCJzdHlsZSIpLHU9bC5maWxsO3hoKHIsYmgoYSkse2xhYmVsRmV0Y2hlcjp0Lmhvc3RNb2RlbCxsYWJlbERhdGFJbmRleDplLGRlZmF1bHRPcGFjaXR5Omwub3BhY2l0eSxkZWZhdWx0VGV4dDp0LmdldE5hbWUoZSl9LHtub3JtYWw6e2FsaWduOnMudGV4dEFsaWduLHZlcnRpY2FsQWxpZ246cy52ZXJ0aWNhbEFsaWdufX0pLG4uc2V0VGV4dENvbmZpZyh7bG9jYWw6ITAsaW5zaWRlOiEhcy5pbnNpZGUsaW5zaWRlU3Ryb2tlOnUsb3V0c2lkZUZpbGw6dX0pO3ZhciBoPXMubGluZVBvaW50cztpLnNldFNoYXBlKHtwb2ludHM6aH0pLG4udGV4dEd1aWRlTGluZUNvbmZpZz17YW5jaG9yOmg/bmV3IGxpKGhbMF1bMF0saFswXVsxXSk6bnVsbH0sRXUocix7c3R5bGU6e3g6cy54LHk6cy55fX0sbyxlKSxyLmF0dHIoe3JvdGF0aW9uOnMucm90YXRpb24sb3JpZ2luWDpzLngsb3JpZ2luWTpzLnksejI6MTB9KSxkYihuLGZiKGEpLHtzdHJva2U6dX0pfSxlfShjdSksWUQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmlnbm9yZUxhYmVsTGluZVVwZGF0ZT0hMCxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldERhdGEoKSxyPXRoaXMuX2RhdGEsbz10aGlzLmdyb3VwO2kuZGlmZihyKS5hZGQoKGZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBYRChpLHQpO2kuc2V0SXRlbUdyYXBoaWNFbCh0LGUpLG8uYWRkKGUpfSkpLnVwZGF0ZSgoZnVuY3Rpb24odCxlKXt2YXIgbj1yLmdldEl0ZW1HcmFwaGljRWwoZSk7bi51cGRhdGVEYXRhKGksdCksby5hZGQobiksaS5zZXRJdGVtR3JhcGhpY0VsKHQsbil9KSkucmVtb3ZlKChmdW5jdGlvbihlKXtIdShyLmdldEl0ZW1HcmFwaGljRWwoZSksdCxlKX0pKS5leGVjdXRlKCksdGhpcy5fZGF0YT1pfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX2RhdGE9bnVsbH0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe30sZS50eXBlPSJmdW5uZWwiLGV9KFpmKSxaRD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMubGVnZW5kVmlzdWFsUHJvdmlkZXI9bmV3IHRNKEIodGhpcy5nZXREYXRhLHRoaXMpLEIodGhpcy5nZXRSYXdEYXRhLHRoaXMpKSx0aGlzLl9kZWZhdWx0TGFiZWxMaW5lKGUpfSxlLnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiBRUyh0aGlzLHtjb29yZERpbWVuc2lvbnM6WyJ2YWx1ZSJdLGVuY29kZURlZmF1bHRlcjpHKHhwLHRoaXMpfSl9LGUucHJvdG90eXBlLl9kZWZhdWx0TGFiZWxMaW5lPWZ1bmN0aW9uKHQpe1NyKHQsImxhYmVsTGluZSIsWyJzaG93Il0pO3ZhciBlPXQubGFiZWxMaW5lLG49dC5lbXBoYXNpcy5sYWJlbExpbmU7ZS5zaG93PWUuc2hvdyYmdC5sYWJlbC5zaG93LG4uc2hvdz1uLnNob3cmJnQuZW1waGFzaXMubGFiZWwuc2hvd30sZS5wcm90b3R5cGUuZ2V0RGF0YVBhcmFtcz1mdW5jdGlvbihlKXt2YXIgbj10aGlzLmdldERhdGEoKSxpPXQucHJvdG90eXBlLmdldERhdGFQYXJhbXMuY2FsbCh0aGlzLGUpLHI9bi5tYXBEaW1lbnNpb24oInZhbHVlIiksbz1uLmdldFN1bShyKTtyZXR1cm4gaS5wZXJjZW50PW8/KyhuLmdldChyLGUpL28qMTAwKS50b0ZpeGVkKDIpOjAsaS4kdmFycy5wdXNoKCJwZXJjZW50IiksaX0sZS50eXBlPSJzZXJpZXMuZnVubmVsIixlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6MixsZWdlbmRIb3Zlckxpbms6ITAsY29sb3JCeToiZGF0YSIsbGVmdDo4MCx0b3A6NjAscmlnaHQ6ODAsYm90dG9tOjYwLG1pblNpemU6IjAlIixtYXhTaXplOiIxMDAlIixzb3J0OiJkZXNjZW5kaW5nIixvcmllbnQ6InZlcnRpY2FsIixnYXA6MCxmdW5uZWxBbGlnbjoiY2VudGVyIixsYWJlbDp7c2hvdzohMCxwb3NpdGlvbjoib3V0ZXIifSxsYWJlbExpbmU6e3Nob3c6ITAsbGVuZ3RoOjIwLGxpbmVTdHlsZTp7d2lkdGg6MX19LGl0ZW1TdHlsZTp7Ym9yZGVyQ29sb3I6IiNmZmYiLGJvcmRlcldpZHRoOjF9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMH19LHNlbGVjdDp7aXRlbVN0eWxlOntib3JkZXJDb2xvcjoiIzIxMjEyMSJ9fX0sZX0oTmYpO2Z1bmN0aW9uIGpEKHQsZSl7dC5lYWNoU2VyaWVzQnlUeXBlKCJmdW5uZWwiLChmdW5jdGlvbih0KXt2YXIgbj10LmdldERhdGEoKSxpPW4ubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLHI9dC5nZXQoInNvcnQiKSxvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHFjKHQuZ2V0Qm94TGF5b3V0UGFyYW1zKCkse3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0pfSh0LGUpLGE9dC5nZXQoIm9yaWVudCIpLHM9by53aWR0aCxsPW8uaGVpZ2h0LHU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dC5tYXBEaW1lbnNpb24oInZhbHVlIiksaT10Lm1hcEFycmF5KG4sKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpLHI9W10sbz0iYXNjZW5kaW5nIj09PWUsYT0wLHM9dC5jb3VudCgpO2E8czthKyspclthXT1hO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlP3Iuc29ydChlKToibm9uZSIhPT1lJiZyLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG8/aVt0XS1pW2VdOmlbZV0taVt0XX0pKSxyfShuLHIpLGg9by54LGM9by55LHA9Imhvcml6b250YWwiPT09YT9bcWkodC5nZXQoIm1pblNpemUiKSxsKSxxaSh0LmdldCgibWF4U2l6ZSIpLGwpXTpbcWkodC5nZXQoIm1pblNpemUiKSxzKSxxaSh0LmdldCgibWF4U2l6ZSIpLHMpXSxkPW4uZ2V0RGF0YUV4dGVudChpKSxmPXQuZ2V0KCJtaW4iKSxnPXQuZ2V0KCJtYXgiKTtudWxsPT1mJiYoZj1NYXRoLm1pbihkWzBdLDApKSxudWxsPT1nJiYoZz1kWzFdKTt2YXIgeT10LmdldCgiZnVubmVsQWxpZ24iKSx2PXQuZ2V0KCJnYXAiKSxtPSgoImhvcml6b250YWwiPT09YT9zOmwpLXYqKG4uY291bnQoKS0xKSkvbi5jb3VudCgpLF89ZnVuY3Rpb24odCxlKXtpZigiaG9yaXpvbnRhbCI9PT1hKXt2YXIgcj1qaShuLmdldChpLHQpfHwwLFtmLGddLHAsITApLG89dm9pZCAwO3N3aXRjaCh5KXtjYXNlInRvcCI6bz1jO2JyZWFrO2Nhc2UiY2VudGVyIjpvPWMrKGwtcikvMjticmVhaztjYXNlImJvdHRvbSI6bz1jKyhsLXIpfXJldHVybltbZSxvXSxbZSxvK3JdXX12YXIgdSxkPWppKG4uZ2V0KGksdCl8fDAsW2YsZ10scCwhMCk7c3dpdGNoKHkpe2Nhc2UibGVmdCI6dT1oO2JyZWFrO2Nhc2UiY2VudGVyIjp1PWgrKHMtZCkvMjticmVhaztjYXNlInJpZ2h0Ijp1PWgrcy1kfXJldHVybltbdSxlXSxbdStkLGVdXX07ImFzY2VuZGluZyI9PT1yJiYobT0tbSx2PS12LCJob3Jpem9udGFsIj09PWE/aCs9czpjKz1sLHU9dS5yZXZlcnNlKCkpO2Zvcih2YXIgeD0wO3g8dS5sZW5ndGg7eCsrKXt2YXIgYj11W3hdLHc9dVt4KzFdLFM9bi5nZXRJdGVtTW9kZWwoYik7aWYoImhvcml6b250YWwiPT09YSl7dmFyIE09Uy5nZXQoWyJpdGVtU3R5bGUiLCJ3aWR0aCJdKTtudWxsPT1NP009bTooTT1xaShNLHMpLCJhc2NlbmRpbmciPT09ciYmKE09LU0pKTt2YXIgST1fKGIsaCksVD1fKHcsaCtNKTtoKz1NK3Ysbi5zZXRJdGVtTGF5b3V0KGIse3BvaW50czpJLmNvbmNhdChULnNsaWNlKCkucmV2ZXJzZSgpKX0pfWVsc2V7dmFyIEM9Uy5nZXQoWyJpdGVtU3R5bGUiLCJoZWlnaHQiXSk7bnVsbD09Qz9DPW06KEM9cWkoQyxsKSwiYXNjZW5kaW5nIj09PXImJihDPS1DKSk7ST1fKGIsYyksVD1fKHcsYytDKTtjKz1DK3Ysbi5zZXRJdGVtTGF5b3V0KGIse3BvaW50czpJLmNvbmNhdChULnNsaWNlKCkucmV2ZXJzZSgpKX0pfX0hZnVuY3Rpb24odCl7dmFyIGU9dC5ob3N0TW9kZWwuZ2V0KCJvcmllbnQiKTt0LmVhY2goKGZ1bmN0aW9uKG4pe3ZhciBpLHIsbyxhLHM9dC5nZXRJdGVtTW9kZWwobiksbD1zLmdldE1vZGVsKCJsYWJlbCIpLmdldCgicG9zaXRpb24iKSx1PXMuZ2V0TW9kZWwoImxhYmVsTGluZSIpLGg9dC5nZXRJdGVtTGF5b3V0KG4pLGM9aC5wb2ludHMscD0iaW5uZXIiPT09bHx8Imluc2lkZSI9PT1sfHwiY2VudGVyIj09PWx8fCJpbnNpZGVMZWZ0Ij09PWx8fCJpbnNpZGVSaWdodCI9PT1sO2lmKHApImluc2lkZUxlZnQiPT09bD8ocj0oY1swXVswXStjWzNdWzBdKS8yKzUsbz0oY1swXVsxXStjWzNdWzFdKS8yLGk9ImxlZnQiKToiaW5zaWRlUmlnaHQiPT09bD8ocj0oY1sxXVswXStjWzJdWzBdKS8yLTUsbz0oY1sxXVsxXStjWzJdWzFdKS8yLGk9InJpZ2h0Iik6KHI9KGNbMF1bMF0rY1sxXVswXStjWzJdWzBdK2NbM11bMF0pLzQsbz0oY1swXVsxXStjWzFdWzFdK2NbMl1bMV0rY1szXVsxXSkvNCxpPSJjZW50ZXIiKSxhPVtbcixvXSxbcixvXV07ZWxzZXt2YXIgZD12b2lkIDAsZj12b2lkIDAsZz12b2lkIDAseT12b2lkIDAsdj11LmdldCgibGVuZ3RoIik7ImxlZnQiPT09bD8oZD0oY1szXVswXStjWzBdWzBdKS8yLGY9KGNbM11bMV0rY1swXVsxXSkvMixyPShnPWQtdiktNSxpPSJyaWdodCIpOiJyaWdodCI9PT1sPyhkPShjWzFdWzBdK2NbMl1bMF0pLzIsZj0oY1sxXVsxXStjWzJdWzFdKS8yLHI9KGc9ZCt2KSs1LGk9ImxlZnQiKToidG9wIj09PWw/KGQ9KGNbM11bMF0rY1swXVswXSkvMixvPSh5PShmPShjWzNdWzFdK2NbMF1bMV0pLzIpLXYpLTUsaT0iY2VudGVyIik6ImJvdHRvbSI9PT1sPyhkPShjWzFdWzBdK2NbMl1bMF0pLzIsbz0oeT0oZj0oY1sxXVsxXStjWzJdWzFdKS8yKSt2KSs1LGk9ImNlbnRlciIpOiJyaWdodFRvcCI9PT1sPyhkPSJob3Jpem9udGFsIj09PWU/Y1szXVswXTpjWzFdWzBdLGY9Imhvcml6b250YWwiPT09ZT9jWzNdWzFdOmNbMV1bMV0sImhvcml6b250YWwiPT09ZT8obz0oeT1mLXYpLTUsaT0iY2VudGVyIik6KHI9KGc9ZCt2KSs1LGk9InRvcCIpKToicmlnaHRCb3R0b20iPT09bD8oZD1jWzJdWzBdLGY9Y1syXVsxXSwiaG9yaXpvbnRhbCI9PT1lPyhvPSh5PWYrdikrNSxpPSJjZW50ZXIiKToocj0oZz1kK3YpKzUsaT0iYm90dG9tIikpOiJsZWZ0VG9wIj09PWw/KGQ9Y1swXVswXSxmPSJob3Jpem9udGFsIj09PWU/Y1swXVsxXTpjWzFdWzFdLCJob3Jpem9udGFsIj09PWU/KG89KHk9Zi12KS01LGk9ImNlbnRlciIpOihyPShnPWQtdiktNSxpPSJyaWdodCIpKToibGVmdEJvdHRvbSI9PT1sPyhkPSJob3Jpem9udGFsIj09PWU/Y1sxXVswXTpjWzNdWzBdLGY9Imhvcml6b250YWwiPT09ZT9jWzFdWzFdOmNbMl1bMV0sImhvcml6b250YWwiPT09ZT8obz0oeT1mK3YpKzUsaT0iY2VudGVyIik6KHI9KGc9ZC12KS01LGk9InJpZ2h0IikpOihkPShjWzFdWzBdK2NbMl1bMF0pLzIsZj0oY1sxXVsxXStjWzJdWzFdKS8yLCJob3Jpem9udGFsIj09PWU/KG89KHk9Zit2KSs1LGk9ImNlbnRlciIpOihyPShnPWQrdikrNSxpPSJsZWZ0IikpLCJob3Jpem9udGFsIj09PWU/cj1nPWQ6bz15PWYsYT1bW2QsZl0sW2cseV1dfWgubGFiZWw9e2xpbmVQb2ludHM6YSx4OnIseTpvLHZlcnRpY2FsQWxpZ246Im1pZGRsZSIsdGV4dEFsaWduOmksaW5zaWRlOnB9fSkpfShuKX0pKX12YXIgcUQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLl9kYXRhR3JvdXA9bmV3IEJpLG4uX2luaXRpYWxpemVkPSExLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5ncm91cC5hZGQodGhpcy5fZGF0YUdyb3VwKX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXRoaXMuX2RhdGFHcm91cCxvPXQuZ2V0RGF0YSgpLGE9dGhpcy5fZGF0YSxzPXQuY29vcmRpbmF0ZVN5c3RlbSxsPXMuZGltZW5zaW9ucyx1PUpEKHQpO2lmKG8uZGlmZihhKS5hZGQoKGZ1bmN0aW9uKHQpe1FEKCREKG8scix0LGwscyksbyx0LHUpfSkpLnVwZGF0ZSgoZnVuY3Rpb24oZSxuKXt2YXIgaT1hLmdldEl0ZW1HcmFwaGljRWwobikscj1LRChvLGUsbCxzKTtvLnNldEl0ZW1HcmFwaGljRWwoZSxpKSxFdShpLHtzaGFwZTp7cG9pbnRzOnJ9fSx0LGUpLFd1KGkpLFFEKGksbyxlLHUpfSkpLnJlbW92ZSgoZnVuY3Rpb24odCl7dmFyIGU9YS5nZXRJdGVtR3JhcGhpY0VsKHQpO3IucmVtb3ZlKGUpfSkpLmV4ZWN1dGUoKSwhdGhpcy5faW5pdGlhbGl6ZWQpe3RoaXMuX2luaXRpYWxpemVkPSEwO3ZhciBoPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10Lm1vZGVsLHI9dC5nZXRSZWN0KCksbz1uZXcgY3Moe3NoYXBlOnt4OnIueCx5OnIueSx3aWR0aDpyLndpZHRoLGhlaWdodDpyLmhlaWdodH19KSxhPSJob3Jpem9udGFsIj09PWkuZ2V0KCJsYXlvdXQiKT8id2lkdGgiOiJoZWlnaHQiO3JldHVybiBvLnNldFNoYXBlKGEsMCksVnUobyx7c2hhcGU6e3dpZHRoOnIud2lkdGgsaGVpZ2h0OnIuaGVpZ2h0fX0sZSxuKSxvfShzLHQsKGZ1bmN0aW9uKCl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyLnJlbW92ZUNsaXBQYXRoKCl9KSl9KSk7ci5zZXRDbGlwUGF0aChoKX10aGlzLl9kYXRhPW99LGUucHJvdG90eXBlLmluY3JlbWVudGFsUHJlcGFyZVJlbmRlcj1mdW5jdGlvbih0LGUsbil7dGhpcy5faW5pdGlhbGl6ZWQ9ITAsdGhpcy5fZGF0YT1udWxsLHRoaXMuX2RhdGFHcm91cC5yZW1vdmVBbGwoKX0sZS5wcm90b3R5cGUuaW5jcmVtZW50YWxSZW5kZXI9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT1lLmdldERhdGEoKSxyPWUuY29vcmRpbmF0ZVN5c3RlbSxvPXIuZGltZW5zaW9ucyxhPUpEKGUpLHM9dC5zdGFydDtzPHQuZW5kO3MrKyl7dmFyIGw9JEQoaSx0aGlzLl9kYXRhR3JvdXAscyxvLHIpO2wuaW5jcmVtZW50YWw9ITAsUUQobCxpLHMsYSl9fSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl9kYXRhR3JvdXAmJnRoaXMuX2RhdGFHcm91cC5yZW1vdmVBbGwoKSx0aGlzLl9kYXRhPW51bGx9LGUudHlwZT0icGFyYWxsZWwiLGV9KFpmKTtmdW5jdGlvbiBLRCh0LGUsbixpKXtmb3IodmFyIHIsbz1bXSxhPTA7YTxuLmxlbmd0aDthKyspe3ZhciBzPW5bYV0sbD10LmdldCh0Lm1hcERpbWVuc2lvbihzKSxlKTtyPWwsKCJjYXRlZ29yeSI9PT1pLmdldEF4aXMocykudHlwZT9udWxsPT1yOm51bGw9PXJ8fGlzTmFOKHIpKXx8by5wdXNoKGkuZGF0YVRvUG9pbnQobCxzKSl9cmV0dXJuIG99ZnVuY3Rpb24gJEQodCxlLG4saSxyKXt2YXIgbz1LRCh0LG4saSxyKSxhPW5ldyBkdSh7c2hhcGU6e3BvaW50czpvfSx6MjoxMH0pO3JldHVybiBlLmFkZChhKSx0LnNldEl0ZW1HcmFwaGljRWwobixhKSxhfWZ1bmN0aW9uIEpEKHQpe3ZhciBlPXQuZ2V0KCJzbW9vdGgiLCEwKTtyZXR1cm4hMD09PWUmJihlPS4zKSxRKGU9ZHIoZSkpJiYoZT0wKSx7c21vb3RoOmV9fWZ1bmN0aW9uIFFEKHQsZSxuLGkpe3QudXNlU3R5bGUoZS5nZXRJdGVtVmlzdWFsKG4sInN0eWxlIikpLHQuc3R5bGUuZmlsbD1udWxsLHQuc2V0U2hhcGUoInNtb290aCIsaS5zbW9vdGgpO3ZhciByPWUuZ2V0SXRlbU1vZGVsKG4pLG89ci5nZXRNb2RlbCgiZW1waGFzaXMiKTt5bCh0LHIsImxpbmVTdHlsZSIpLHBsKHQsby5nZXQoImZvY3VzIiksby5nZXQoImJsdXJTY29wZSIpKX12YXIgdEE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLnZpc3VhbFN0eWxlQWNjZXNzUGF0aD0ibGluZVN0eWxlIixuLnZpc3VhbERyYXdUeXBlPSJzdHJva2UiLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiBtXyhudWxsLHRoaXMse3VzZUVuY29kZURlZmF1bHRlcjpCKGVBLG51bGwsdGhpcyl9KX0sZS5wcm90b3R5cGUuZ2V0UmF3SW5kaWNlc0J5QWN0aXZlU3RhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb29yZGluYXRlU3lzdGVtLG49dGhpcy5nZXREYXRhKCksaT1bXTtyZXR1cm4gZS5lYWNoQWN0aXZlU3RhdGUobiwoZnVuY3Rpb24oZSxyKXt0PT09ZSYmaS5wdXNoKG4uZ2V0UmF3SW5kZXgocikpfSkpLGl9LGUudHlwZT0ic2VyaWVzLnBhcmFsbGVsIixlLmRlcGVuZGVuY2llcz1bInBhcmFsbGVsIl0sZS5kZWZhdWx0T3B0aW9uPXt6bGV2ZWw6MCx6OjIsY29vcmRpbmF0ZVN5c3RlbToicGFyYWxsZWwiLHBhcmFsbGVsSW5kZXg6MCxsYWJlbDp7c2hvdzohMX0saW5hY3RpdmVPcGFjaXR5Oi4wNSxhY3RpdmVPcGFjaXR5OjEsbGluZVN0eWxlOnt3aWR0aDoxLG9wYWNpdHk6LjQ1LHR5cGU6InNvbGlkIn0sZW1waGFzaXM6e2xhYmVsOntzaG93OiExfX0scHJvZ3Jlc3NpdmU6NTAwLHNtb290aDohMSxhbmltYXRpb25FYXNpbmc6ImxpbmVhciJ9LGV9KE5mKTtmdW5jdGlvbiBlQSh0KXt2YXIgZT10LmVjTW9kZWwuZ2V0Q29tcG9uZW50KCJwYXJhbGxlbCIsdC5nZXQoInBhcmFsbGVsSW5kZXgiKSk7aWYoZSl7dmFyIG49e307cmV0dXJuIE8oZS5kaW1lbnNpb25zLChmdW5jdGlvbih0KXt2YXIgZT0rdC5yZXBsYWNlKCJkaW0iLCIiKTtuW3RdPWV9KSksbn19dmFyIG5BPVsibGluZVN0eWxlIiwib3BhY2l0eSJdLGlBPXtzZXJpZXNUeXBlOiJwYXJhbGxlbCIscmVzZXQ6ZnVuY3Rpb24odCxlKXt2YXIgbj10LmNvb3JkaW5hdGVTeXN0ZW0saT17bm9ybWFsOnQuZ2V0KFsibGluZVN0eWxlIiwib3BhY2l0eSJdKSxhY3RpdmU6dC5nZXQoImFjdGl2ZU9wYWNpdHkiKSxpbmFjdGl2ZTp0LmdldCgiaW5hY3RpdmVPcGFjaXR5Iil9O3JldHVybntwcm9ncmVzczpmdW5jdGlvbih0LGUpe24uZWFjaEFjdGl2ZVN0YXRlKGUsKGZ1bmN0aW9uKHQsbil7dmFyIHI9aVt0XTtpZigibm9ybWFsIj09PXQmJmUuaGFzSXRlbU9wdGlvbil7dmFyIG89ZS5nZXRJdGVtTW9kZWwobikuZ2V0KG5BLCEwKTtudWxsIT1vJiYocj1vKX1lLmVuc3VyZVVuaXF1ZUl0ZW1WaXN1YWwobiwic3R5bGUiKS5vcGFjaXR5PXJ9KSx0LnN0YXJ0LHQuZW5kKX19fX07ZnVuY3Rpb24gckEodCl7IWZ1bmN0aW9uKHQpe2lmKHQucGFyYWxsZWwpcmV0dXJuO3ZhciBlPSExO08odC5zZXJpZXMsKGZ1bmN0aW9uKHQpe3QmJiJwYXJhbGxlbCI9PT10LnR5cGUmJihlPSEwKX0pKSxlJiYodC5wYXJhbGxlbD1be31dKX0odCksZnVuY3Rpb24odCl7Tyh3cih0LnBhcmFsbGVsQXhpcyksKGZ1bmN0aW9uKGUpe2lmKFkoZSkpe3ZhciBuPWUucGFyYWxsZWxJbmRleHx8MCxpPXdyKHQucGFyYWxsZWwpW25dO2kmJmkucGFyYWxsZWxBeGlzRGVmYXVsdCYmTShlLGkucGFyYWxsZWxBeGlzRGVmYXVsdCwhMSl9fSkpfSh0KX12YXIgb0E9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl9tb2RlbD10LHRoaXMuX2FwaT1uLHRoaXMuX2hhbmRsZXJzfHwodGhpcy5faGFuZGxlcnM9e30sTyhhQSwoZnVuY3Rpb24odCxlKXtuLmdldFpyKCkub24oZSx0aGlzLl9oYW5kbGVyc1tlXT1CKHQsdGhpcykpfSksdGhpcykpLGlnKHRoaXMsIl90aHJvdHRsZWREaXNwYXRjaEV4cGFuZCIsdC5nZXQoImF4aXNFeHBhbmRSYXRlIiksImZpeFJhdGUiKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0LGUpe08odGhpcy5faGFuZGxlcnMsKGZ1bmN0aW9uKHQsbil7ZS5nZXRacigpLm9mZihuLHQpfSkpLHRoaXMuX2hhbmRsZXJzPW51bGx9LGUucHJvdG90eXBlLl90aHJvdHRsZWREaXNwYXRjaEV4cGFuZD1mdW5jdGlvbih0KXt0aGlzLl9kaXNwYXRjaEV4cGFuZCh0KX0sZS5wcm90b3R5cGUuX2Rpc3BhdGNoRXhwYW5kPWZ1bmN0aW9uKHQpe3QmJnRoaXMuX2FwaS5kaXNwYXRjaEFjdGlvbihUKHt0eXBlOiJwYXJhbGxlbEF4aXNFeHBhbmQifSx0KSl9LGUudHlwZT0icGFyYWxsZWwiLGV9KFdmKSxhQT17bW91c2Vkb3duOmZ1bmN0aW9uKHQpe3NBKHRoaXMsImNsaWNrIikmJih0aGlzLl9tb3VzZURvd25Qb2ludD1bdC5vZmZzZXRYLHQub2Zmc2V0WV0pfSxtb3VzZXVwOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21vdXNlRG93blBvaW50O2lmKHNBKHRoaXMsImNsaWNrIikmJmUpe3ZhciBuPVt0Lm9mZnNldFgsdC5vZmZzZXRZXTtpZihNYXRoLnBvdyhlWzBdLW5bMF0sMikrTWF0aC5wb3coZVsxXS1uWzFdLDIpPjUpcmV0dXJuO3ZhciBpPXRoaXMuX21vZGVsLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0U2xpZGVkQXhpc0V4cGFuZFdpbmRvdyhbdC5vZmZzZXRYLHQub2Zmc2V0WV0pOyJub25lIiE9PWkuYmVoYXZpb3ImJnRoaXMuX2Rpc3BhdGNoRXhwYW5kKHtheGlzRXhwYW5kV2luZG93OmkuYXhpc0V4cGFuZFdpbmRvd30pfXRoaXMuX21vdXNlRG93blBvaW50PW51bGx9LG1vdXNlbW92ZTpmdW5jdGlvbih0KXtpZighdGhpcy5fbW91c2VEb3duUG9pbnQmJnNBKHRoaXMsIm1vdXNlbW92ZSIpKXt2YXIgZT10aGlzLl9tb2RlbCxuPWUuY29vcmRpbmF0ZVN5c3RlbS5nZXRTbGlkZWRBeGlzRXhwYW5kV2luZG93KFt0Lm9mZnNldFgsdC5vZmZzZXRZXSksaT1uLmJlaGF2aW9yOyJqdW1wIj09PWkmJnRoaXMuX3Rocm90dGxlZERpc3BhdGNoRXhwYW5kLmRlYm91bmNlTmV4dENhbGwoZS5nZXQoImF4aXNFeHBhbmREZWJvdW5jZSIpKSx0aGlzLl90aHJvdHRsZWREaXNwYXRjaEV4cGFuZCgibm9uZSI9PT1pP251bGw6e2F4aXNFeHBhbmRXaW5kb3c6bi5heGlzRXhwYW5kV2luZG93LGFuaW1hdGlvbjoianVtcCI9PT1pP251bGw6e2R1cmF0aW9uOjB9fSl9fX07ZnVuY3Rpb24gc0EodCxlKXt2YXIgbj10Ll9tb2RlbDtyZXR1cm4gbi5nZXQoImF4aXNFeHBhbmRhYmxlIikmJm4uZ2V0KCJheGlzRXhwYW5kVHJpZ2dlck9uIik9PT1lfXZhciBsQT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5tZXJnZU9wdGlvbih7fSl9LGUucHJvdG90eXBlLm1lcmdlT3B0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uO3QmJk0oZSx0LCEwKSx0aGlzLl9pbml0RGltZW5zaW9ucygpfSxlLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0KCJwYXJhbGxlbEluZGV4Iik7cmV0dXJuIG51bGwhPW4mJmUuZ2V0Q29tcG9uZW50KCJwYXJhbGxlbCIsbik9PT10aGlzfSxlLnByb3RvdHlwZS5zZXRBeGlzRXhwYW5kPWZ1bmN0aW9uKHQpe08oWyJheGlzRXhwYW5kYWJsZSIsImF4aXNFeHBhbmRDZW50ZXIiLCJheGlzRXhwYW5kQ291bnQiLCJheGlzRXhwYW5kV2lkdGgiLCJheGlzRXhwYW5kV2luZG93Il0sKGZ1bmN0aW9uKGUpe3QuaGFzT3duUHJvcGVydHkoZSkmJih0aGlzLm9wdGlvbltlXT10W2VdKX0pLHRoaXMpfSxlLnByb3RvdHlwZS5faW5pdERpbWVuc2lvbnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRpbWVuc2lvbnM9W10sZT10aGlzLnBhcmFsbGVsQXhpc0luZGV4PVtdO08oeih0aGlzLmVjTW9kZWwucXVlcnlDb21wb25lbnRzKHttYWluVHlwZToicGFyYWxsZWxBeGlzIn0pLChmdW5jdGlvbih0KXtyZXR1cm4odC5nZXQoInBhcmFsbGVsSW5kZXgiKXx8MCk9PT10aGlzLmNvbXBvbmVudEluZGV4fSksdGhpcyksKGZ1bmN0aW9uKG4pe3QucHVzaCgiZGltIituLmdldCgiZGltIikpLGUucHVzaChuLmNvbXBvbmVudEluZGV4KX0pKX0sZS50eXBlPSJwYXJhbGxlbCIsZS5kZXBlbmRlbmNpZXM9WyJwYXJhbGxlbEF4aXMiXSxlLmxheW91dE1vZGU9ImJveCIsZS5kZWZhdWx0T3B0aW9uPXt6bGV2ZWw6MCx6OjAsbGVmdDo4MCx0b3A6NjAscmlnaHQ6ODAsYm90dG9tOjYwLGxheW91dDoiaG9yaXpvbnRhbCIsYXhpc0V4cGFuZGFibGU6ITEsYXhpc0V4cGFuZENlbnRlcjpudWxsLGF4aXNFeHBhbmRDb3VudDowLGF4aXNFeHBhbmRXaWR0aDo1MCxheGlzRXhwYW5kUmF0ZToxNyxheGlzRXhwYW5kRGVib3VuY2U6NTAsYXhpc0V4cGFuZFNsaWRlVHJpZ2dlckFyZWE6Wy0uMTUsLjA1LC40XSxheGlzRXhwYW5kVHJpZ2dlck9uOiJjbGljayIscGFyYWxsZWxBeGlzRGVmYXVsdDpudWxsfSxlfShucCksdUE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSxyLG8pe3ZhciBhPXQuY2FsbCh0aGlzLGUsbixpKXx8dGhpcztyZXR1cm4gYS50eXBlPXJ8fCJ2YWx1ZSIsYS5heGlzSW5kZXg9byxhfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaXNIb3Jpem9udGFsPWZ1bmN0aW9uKCl7cmV0dXJuImhvcml6b250YWwiIT09dGhpcy5jb29yZGluYXRlU3lzdGVtLmdldE1vZGVsKCkuZ2V0KCJsYXlvdXQiKX0sZX0oV3gpO2Z1bmN0aW9uIGhBKHQsZSxuLGkscixvKXt0PXR8fDA7dmFyIGE9blsxXS1uWzBdO2lmKG51bGwhPXImJihyPXBBKHIsWzAsYV0pKSxudWxsIT1vJiYobz1NYXRoLm1heChvLG51bGwhPXI/cjowKSksImFsbCI9PT1pKXt2YXIgcz1NYXRoLmFicyhlWzFdLWVbMF0pO3M9cEEocyxbMCxhXSkscj1vPXBBKHMsW3Isb10pLGk9MH1lWzBdPXBBKGVbMF0sbiksZVsxXT1wQShlWzFdLG4pO3ZhciBsPWNBKGUsaSk7ZVtpXSs9dDt2YXIgdSxoPXJ8fDAsYz1uLnNsaWNlKCk7cmV0dXJuIGwuc2lnbjwwP2NbMF0rPWg6Y1sxXS09aCxlW2ldPXBBKGVbaV0sYyksdT1jQShlLGkpLG51bGwhPXImJih1LnNpZ24hPT1sLnNpZ258fHUuc3BhbjxyKSYmKGVbMS1pXT1lW2ldK2wuc2lnbipyKSx1PWNBKGUsaSksbnVsbCE9byYmdS5zcGFuPm8mJihlWzEtaV09ZVtpXSt1LnNpZ24qbyksZX1mdW5jdGlvbiBjQSh0LGUpe3ZhciBuPXRbZV0tdFsxLWVdO3JldHVybntzcGFuOk1hdGguYWJzKG4pLHNpZ246bj4wPy0xOm48MD8xOmU/LTE6MX19ZnVuY3Rpb24gcEEodCxlKXtyZXR1cm4gTWF0aC5taW4obnVsbCE9ZVsxXT9lWzFdOjEvMCxNYXRoLm1heChudWxsIT1lWzBdP2VbMF06LTEvMCx0KSl9dmFyIGRBPU8sZkE9TWF0aC5taW4sZ0E9TWF0aC5tYXgseUE9TWF0aC5mbG9vcix2QT1NYXRoLmNlaWwsbUE9S2ksX0E9TWF0aC5QSSx4QT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMudHlwZT0icGFyYWxsZWwiLHRoaXMuX2F4ZXNNYXA9Y3QoKSx0aGlzLl9heGVzTGF5b3V0PXt9LHRoaXMuZGltZW5zaW9ucz10LmRpbWVuc2lvbnMsdGhpcy5fbW9kZWw9dCx0aGlzLl9pbml0KHQsZSxuKX1yZXR1cm4gdC5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZGltZW5zaW9ucyxyPXQucGFyYWxsZWxBeGlzSW5kZXg7ZEEoaSwoZnVuY3Rpb24odCxuKXt2YXIgaT1yW25dLG89ZS5nZXRDb21wb25lbnQoInBhcmFsbGVsQXhpcyIsaSksYT10aGlzLl9heGVzTWFwLnNldCh0LG5ldyB1QSh0LHZ4KG8pLFswLDBdLG8uZ2V0KCJ0eXBlIiksaSkpLHM9ImNhdGVnb3J5Ij09PWEudHlwZTthLm9uQmFuZD1zJiZvLmdldCgiYm91bmRhcnlHYXAiKSxhLmludmVyc2U9by5nZXQoImludmVyc2UiKSxvLmF4aXM9YSxhLm1vZGVsPW8sYS5jb29yZGluYXRlU3lzdGVtPW8uY29vcmRpbmF0ZVN5c3RlbT10aGlzfSksdGhpcyl9LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe3RoaXMuX3VwZGF0ZUF4ZXNGcm9tU2VyaWVzKHRoaXMuX21vZGVsLHQpfSx0LnByb3RvdHlwZS5jb250YWluUG9pbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFrZUxheW91dEluZm8oKSxuPWUuYXhpc0Jhc2UsaT1lLmxheW91dEJhc2Uscj1lLnBpeGVsRGltSW5kZXgsbz10WzEtcl0sYT10W3JdO3JldHVybiBvPj1uJiZvPD1uK2UuYXhpc0xlbmd0aCYmYT49aSYmYTw9aStlLmxheW91dExlbmd0aH0sdC5wcm90b3R5cGUuZ2V0TW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW9kZWx9LHQucHJvdG90eXBlLl91cGRhdGVBeGVzRnJvbVNlcmllcz1mdW5jdGlvbih0LGUpe2UuZWFjaFNlcmllcygoZnVuY3Rpb24obil7aWYodC5jb250YWlucyhuLGUpKXt2YXIgaT1uLmdldERhdGEoKTtkQSh0aGlzLmRpbWVuc2lvbnMsKGZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2F4ZXNNYXAuZ2V0KHQpO2Uuc2NhbGUudW5pb25FeHRlbnRGcm9tRGF0YShpLGkubWFwRGltZW5zaW9uKHQpKSx5eChlLnNjYWxlLGUubW9kZWwpfSksdGhpcyl9fSksdGhpcyl9LHQucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0LGUpe3RoaXMuX3JlY3Q9cWModC5nZXRCb3hMYXlvdXRQYXJhbXMoKSx7d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSksdGhpcy5fbGF5b3V0QXhlcygpfSx0LnByb3RvdHlwZS5nZXRSZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlY3R9LHQucHJvdG90eXBlLl9tYWtlTGF5b3V0SW5mbz1mdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5fbW9kZWwsbj10aGlzLl9yZWN0LGk9WyJ4IiwieSJdLHI9WyJ3aWR0aCIsImhlaWdodCJdLG89ZS5nZXQoImxheW91dCIpLGE9Imhvcml6b250YWwiPT09bz8wOjEscz1uW3JbYV1dLGw9WzAsc10sdT10aGlzLmRpbWVuc2lvbnMubGVuZ3RoLGg9YkEoZS5nZXQoImF4aXNFeHBhbmRXaWR0aCIpLGwpLGM9YkEoZS5nZXQoImF4aXNFeHBhbmRDb3VudCIpfHwwLFswLHVdKSxwPWUuZ2V0KCJheGlzRXhwYW5kYWJsZSIpJiZ1PjMmJnU+YyYmYz4xJiZoPjAmJnM+MCxkPWUuZ2V0KCJheGlzRXhwYW5kV2luZG93Iik7ZD8odD1iQShkWzFdLWRbMF0sbCksZFsxXT1kWzBdK3QpOih0PWJBKGgqKGMtMSksbCksKGQ9W2gqKGUuZ2V0KCJheGlzRXhwYW5kQ2VudGVyIil8fHlBKHUvMikpLXQvMl0pWzFdPWRbMF0rdCk7dmFyIGY9KHMtdCkvKHUtYyk7ZjwzJiYoZj0wKTt2YXIgZz1beUEobUEoZFswXS9oLDEpKSsxLHZBKG1BKGRbMV0vaCwxKSktMV0seT1mL2gqZFswXTtyZXR1cm57bGF5b3V0Om8scGl4ZWxEaW1JbmRleDphLGxheW91dEJhc2U6bltpW2FdXSxsYXlvdXRMZW5ndGg6cyxheGlzQmFzZTpuW2lbMS1hXV0sYXhpc0xlbmd0aDpuW3JbMS1hXV0sYXhpc0V4cGFuZGFibGU6cCxheGlzRXhwYW5kV2lkdGg6aCxheGlzQ29sbGFwc2VXaWR0aDpmLGF4aXNFeHBhbmRXaW5kb3c6ZCxheGlzQ291bnQ6dSx3aW5Jbm5lckluZGljZXM6ZyxheGlzRXhwYW5kV2luZG93MFBvczp5fX0sdC5wcm90b3R5cGUuX2xheW91dEF4ZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yZWN0LGU9dGhpcy5fYXhlc01hcCxuPXRoaXMuZGltZW5zaW9ucyxpPXRoaXMuX21ha2VMYXlvdXRJbmZvKCkscj1pLmxheW91dDtlLmVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPVswLGkuYXhpc0xlbmd0aF0sbj10LmludmVyc2U/MTowO3Quc2V0RXh0ZW50KGVbbl0sZVsxLW5dKX0pKSxkQShuLChmdW5jdGlvbihlLG4pe3ZhciBvPShpLmF4aXNFeHBhbmRhYmxlP1NBOndBKShuLGkpLGE9e2hvcml6b250YWw6e3g6by5wb3NpdGlvbix5OmkuYXhpc0xlbmd0aH0sdmVydGljYWw6e3g6MCx5Om8ucG9zaXRpb259fSxzPXtob3Jpem9udGFsOl9BLzIsdmVydGljYWw6MH0sbD1bYVtyXS54K3QueCxhW3JdLnkrdC55XSx1PXNbcl0saD1bMSwwLDAsMSwwLDBdO1luKGgsaCx1KSxYbihoLGgsbCksdGhpcy5fYXhlc0xheW91dFtlXT17cG9zaXRpb246bCxyb3RhdGlvbjp1LHRyYW5zZm9ybTpoLGF4aXNOYW1lQXZhaWxhYmxlV2lkdGg6by5heGlzTmFtZUF2YWlsYWJsZVdpZHRoLGF4aXNMYWJlbFNob3c6by5heGlzTGFiZWxTaG93LG5hbWVUcnVuY2F0ZU1heFdpZHRoOm8ubmFtZVRydW5jYXRlTWF4V2lkdGgsdGlja0RpcmVjdGlvbjoxLGxhYmVsRGlyZWN0aW9uOjF9fSksdGhpcyl9LHQucHJvdG90eXBlLmdldEF4aXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2F4ZXNNYXAuZ2V0KHQpfSx0LnByb3RvdHlwZS5kYXRhVG9Qb2ludD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmF4aXNDb29yZFRvUG9pbnQodGhpcy5fYXhlc01hcC5nZXQoZSkuZGF0YVRvQ29vcmQodCksZSl9LHQucHJvdG90eXBlLmVhY2hBY3RpdmVTdGF0ZT1mdW5jdGlvbih0LGUsbixpKXtudWxsPT1uJiYobj0wKSxudWxsPT1pJiYoaT10LmNvdW50KCkpO3ZhciByPXRoaXMuX2F4ZXNNYXAsbz10aGlzLmRpbWVuc2lvbnMsYT1bXSxzPVtdO08obywoZnVuY3Rpb24oZSl7YS5wdXNoKHQubWFwRGltZW5zaW9uKGUpKSxzLnB1c2goci5nZXQoZSkubW9kZWwpfSkpO2Zvcih2YXIgbD10aGlzLmhhc0F4aXNCcnVzaGVkKCksdT1uO3U8aTt1Kyspe3ZhciBoPXZvaWQgMDtpZihsKXtoPSJhY3RpdmUiO2Zvcih2YXIgYz10LmdldFZhbHVlcyhhLHUpLHA9MCxkPW8ubGVuZ3RoO3A8ZDtwKyspe2lmKCJpbmFjdGl2ZSI9PT1zW3BdLmdldEFjdGl2ZVN0YXRlKGNbcF0pKXtoPSJpbmFjdGl2ZSI7YnJlYWt9fX1lbHNlIGg9Im5vcm1hbCI7ZShoLHUpfX0sdC5wcm90b3R5cGUuaGFzQXhpc0JydXNoZWQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5kaW1lbnNpb25zLGU9dGhpcy5fYXhlc01hcCxuPSExLGk9MCxyPXQubGVuZ3RoO2k8cjtpKyspIm5vcm1hbCIhPT1lLmdldCh0W2ldKS5tb2RlbC5nZXRBY3RpdmVTdGF0ZSgpJiYobj0hMCk7cmV0dXJuIG59LHQucHJvdG90eXBlLmF4aXNDb29yZFRvUG9pbnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gb2goW3QsMF0sdGhpcy5fYXhlc0xheW91dFtlXS50cmFuc2Zvcm0pfSx0LnByb3RvdHlwZS5nZXRBeGlzTGF5b3V0PWZ1bmN0aW9uKHQpe3JldHVybiBTKHRoaXMuX2F4ZXNMYXlvdXRbdF0pfSx0LnByb3RvdHlwZS5nZXRTbGlkZWRBeGlzRXhwYW5kV2luZG93PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21ha2VMYXlvdXRJbmZvKCksbj1lLnBpeGVsRGltSW5kZXgsaT1lLmF4aXNFeHBhbmRXaW5kb3cuc2xpY2UoKSxyPWlbMV0taVswXSxvPVswLGUuYXhpc0V4cGFuZFdpZHRoKihlLmF4aXNDb3VudC0xKV07aWYoIXRoaXMuY29udGFpblBvaW50KHQpKXJldHVybntiZWhhdmlvcjoibm9uZSIsYXhpc0V4cGFuZFdpbmRvdzppfTt2YXIgYSxzPXRbbl0tZS5sYXlvdXRCYXNlLWUuYXhpc0V4cGFuZFdpbmRvdzBQb3MsbD0ic2xpZGUiLHU9ZS5heGlzQ29sbGFwc2VXaWR0aCxoPXRoaXMuX21vZGVsLmdldCgiYXhpc0V4cGFuZFNsaWRlVHJpZ2dlckFyZWEiKSxjPW51bGwhPWhbMF07aWYodSljJiZ1JiZzPHIqaFswXT8obD0ianVtcCIsYT1zLXIqaFsyXSk6YyYmdSYmcz5yKigxLWhbMF0pPyhsPSJqdW1wIixhPXMtciooMS1oWzJdKSk6KGE9cy1yKmhbMV0pPj0wJiYoYT1zLXIqKDEtaFsxXSkpPD0wJiYoYT0wKSwoYSo9ZS5heGlzRXhwYW5kV2lkdGgvdSk/aEEoYSxpLG8sImFsbCIpOmw9Im5vbmUiO2Vsc2V7dmFyIHA9aVsxXS1pWzBdOyhpPVtnQSgwLG9bMV0qcy9wLXAvMildKVsxXT1mQShvWzFdLGlbMF0rcCksaVswXT1pWzFdLXB9cmV0dXJue2F4aXNFeHBhbmRXaW5kb3c6aSxiZWhhdmlvcjpsfX0sdH0oKTtmdW5jdGlvbiBiQSh0LGUpe3JldHVybiBmQShnQSh0LGVbMF0pLGVbMV0pfWZ1bmN0aW9uIHdBKHQsZSl7dmFyIG49ZS5sYXlvdXRMZW5ndGgvKGUuYXhpc0NvdW50LTEpO3JldHVybntwb3NpdGlvbjpuKnQsYXhpc05hbWVBdmFpbGFibGVXaWR0aDpuLGF4aXNMYWJlbFNob3c6ITB9fWZ1bmN0aW9uIFNBKHQsZSl7dmFyIG4saSxyPWUubGF5b3V0TGVuZ3RoLG89ZS5heGlzRXhwYW5kV2lkdGgsYT1lLmF4aXNDb3VudCxzPWUuYXhpc0NvbGxhcHNlV2lkdGgsbD1lLndpbklubmVySW5kaWNlcyx1PXMsaD0hMTtyZXR1cm4gdDxsWzBdPyhuPXQqcyxpPXMpOnQ8PWxbMV0/KG49ZS5heGlzRXhwYW5kV2luZG93MFBvcyt0Km8tZS5heGlzRXhwYW5kV2luZG93WzBdLHU9byxoPSEwKToobj1yLShhLTEtdCkqcyxpPXMpLHtwb3NpdGlvbjpuLGF4aXNOYW1lQXZhaWxhYmxlV2lkdGg6dSxheGlzTGFiZWxTaG93OmgsbmFtZVRydW5jYXRlTWF4V2lkdGg6aX19dmFyIE1BPXtjcmVhdGU6ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTtyZXR1cm4gdC5lYWNoQ29tcG9uZW50KCJwYXJhbGxlbCIsKGZ1bmN0aW9uKGkscil7dmFyIG89bmV3IHhBKGksdCxlKTtvLm5hbWU9InBhcmFsbGVsXyIrcixvLnJlc2l6ZShpLGUpLGkuY29vcmRpbmF0ZVN5c3RlbT1vLG8ubW9kZWw9aSxuLnB1c2gobyl9KSksdC5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXtpZigicGFyYWxsZWwiPT09dC5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKSl7dmFyIGU9dC5nZXRSZWZlcnJpbmdDb21wb25lbnRzKCJwYXJhbGxlbCIsVnIpLm1vZGVsc1swXTt0LmNvb3JkaW5hdGVTeXN0ZW09ZS5jb29yZGluYXRlU3lzdGVtfX0pKSxufX0sSUE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmFjdGl2ZUludGVydmFscz1bXSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0QXJlYVNlbGVjdFN0eWxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRvKFtbImZpbGwiLCJjb2xvciJdLFsibGluZVdpZHRoIiwiYm9yZGVyV2lkdGgiXSxbInN0cm9rZSIsImJvcmRlckNvbG9yIl0sWyJ3aWR0aCIsIndpZHRoIl0sWyJvcGFjaXR5Iiwib3BhY2l0eSJdXSkodGhpcy5nZXRNb2RlbCgiYXJlYVNlbGVjdFN0eWxlIikpfSxlLnByb3RvdHlwZS5zZXRBY3RpdmVJbnRlcnZhbHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5hY3RpdmVJbnRlcnZhbHM9Uyh0KTtpZihlKWZvcih2YXIgbj1lLmxlbmd0aC0xO24+PTA7bi0tKSRpKGVbbl0pfSxlLnByb3RvdHlwZS5nZXRBY3RpdmVTdGF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmFjdGl2ZUludGVydmFscztpZighZS5sZW5ndGgpcmV0dXJuIm5vcm1hbCI7aWYobnVsbD09dHx8aXNOYU4oK3QpKXJldHVybiJpbmFjdGl2ZSI7aWYoMT09PWUubGVuZ3RoKXt2YXIgbj1lWzBdO2lmKG5bMF08PXQmJnQ8PW5bMV0pcmV0dXJuImFjdGl2ZSJ9ZWxzZSBmb3IodmFyIGk9MCxyPWUubGVuZ3RoO2k8cjtpKyspaWYoZVtpXVswXTw9dCYmdDw9ZVtpXVsxXSlyZXR1cm4iYWN0aXZlIjtyZXR1cm4iaW5hY3RpdmUifSxlfShucCk7TChJQSxJeCk7dmFyIFRBPSEwLENBPU1hdGgubWluLERBPU1hdGgubWF4LEFBPU1hdGgucG93LGtBPSJnbG9iYWxQYW4iLExBPXt3OlswLDBdLGU6WzAsMV0sbjpbMSwwXSxzOlsxLDFdfSxQQT17dzoiZXciLGU6ImV3IixuOiJucyIsczoibnMiLG5lOiJuZXN3IixzdzoibmVzdyIsbnc6Im53c2UiLHNlOiJud3NlIn0sT0E9e2JydXNoU3R5bGU6e2xpbmVXaWR0aDoyLHN0cm9rZToicmdiYSgyMTAsMjE5LDIzOCwwLjMpIixmaWxsOiIjRDJEQkVFIn0sdHJhbnNmb3JtYWJsZTohMCxicnVzaE1vZGU6InNpbmdsZSIscmVtb3ZlT25DbGljazohMX0sUkE9MCxOQT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5fdHJhY2s9W10sbi5fY292ZXJzPVtdLG4uX2hhbmRsZXJzPXt9LG4uX3pyPWUsbi5ncm91cD1uZXcgQmksbi5fdWlkPSJicnVzaENvbnRyb2xsZXJfIitSQSsrLE8obGssKGZ1bmN0aW9uKHQsZSl7dGhpcy5faGFuZGxlcnNbZV09Qih0LHRoaXMpfSksbiksbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmVuYWJsZUJydXNoPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9icnVzaFR5cGUmJnRoaXMuX2RvRGlzYWJsZUJydXNoKCksdC5icnVzaFR5cGUmJnRoaXMuX2RvRW5hYmxlQnJ1c2godCksdGhpc30sZS5wcm90b3R5cGUuX2RvRW5hYmxlQnJ1c2g9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fenI7dGhpcy5fZW5hYmxlR2xvYmFsUGFufHxmdW5jdGlvbih0LGUsbil7dkkodClbZV09bn0oZSxrQSx0aGlzLl91aWQpLE8odGhpcy5faGFuZGxlcnMsKGZ1bmN0aW9uKHQsbil7ZS5vbihuLHQpfSkpLHRoaXMuX2JydXNoVHlwZT10LmJydXNoVHlwZSx0aGlzLl9icnVzaE9wdGlvbj1NKFMoT0EpLHQsITApfSxlLnByb3RvdHlwZS5fZG9EaXNhYmxlQnJ1c2g9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl96cjshZnVuY3Rpb24odCxlLG4pe3ZhciBpPXZJKHQpO2lbZV09PT1uJiYoaVtlXT1udWxsKX0odCxrQSx0aGlzLl91aWQpLE8odGhpcy5faGFuZGxlcnMsKGZ1bmN0aW9uKGUsbil7dC5vZmYobixlKX0pKSx0aGlzLl9icnVzaFR5cGU9dGhpcy5fYnJ1c2hPcHRpb249bnVsbH0sZS5wcm90b3R5cGUuc2V0UGFuZWxzPWZ1bmN0aW9uKHQpe2lmKHQmJnQubGVuZ3RoKXt2YXIgZT10aGlzLl9wYW5lbHM9e307Tyh0LChmdW5jdGlvbih0KXtlW3QucGFuZWxJZF09Uyh0KX0pKX1lbHNlIHRoaXMuX3BhbmVscz1udWxsO3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5tb3VudD1mdW5jdGlvbih0KXt0PXR8fHt9LHRoaXMuX2VuYWJsZUdsb2JhbFBhbj10LmVuYWJsZUdsb2JhbFBhbjt2YXIgZT10aGlzLmdyb3VwO3JldHVybiB0aGlzLl96ci5hZGQoZSksZS5hdHRyKHt4OnQueHx8MCx5OnQueXx8MCxyb3RhdGlvbjp0LnJvdGF0aW9ufHwwLHNjYWxlWDp0LnNjYWxlWHx8MSxzY2FsZVk6dC5zY2FsZVl8fDF9KSx0aGlzLl90cmFuc2Zvcm09ZS5nZXRMb2NhbFRyYW5zZm9ybSgpLHRoaXN9LGUucHJvdG90eXBlLnVwZGF0ZUNvdmVycz1mdW5jdGlvbih0KXt0PVIodCwoZnVuY3Rpb24odCl7cmV0dXJuIE0oUyhPQSksdCwhMCl9KSk7dmFyIGU9dGhpcy5fY292ZXJzLG49dGhpcy5fY292ZXJzPVtdLGk9dGhpcyxyPXRoaXMuX2NyZWF0aW5nQ292ZXI7cmV0dXJuIG5ldyBCbShlLHQsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG8odC5fX2JydXNoT3B0aW9uLGUpfSksbykuYWRkKGEpLnVwZGF0ZShhKS5yZW1vdmUoKGZ1bmN0aW9uKHQpe2VbdF0hPT1yJiZpLmdyb3VwLnJlbW92ZShlW3RdKX0pKS5leGVjdXRlKCksdGhpcztmdW5jdGlvbiBvKHQsZSl7cmV0dXJuKG51bGwhPXQuaWQ/dC5pZDoiXDAtYnJ1c2gtaW5kZXgtIitlKSsiLSIrdC5icnVzaFR5cGV9ZnVuY3Rpb24gYShvLGEpe3ZhciBzPXRbb107aWYobnVsbCE9YSYmZVthXT09PXIpbltvXT1lW2FdO2Vsc2V7dmFyIGw9bltvXT1udWxsIT1hPyhlW2FdLl9fYnJ1c2hPcHRpb249cyxlW2FdKTpFQShpLHpBKGkscykpO0dBKGksbCl9fX0sZS5wcm90b3R5cGUudW5tb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZUJydXNoKCExKSxVQSh0aGlzKSx0aGlzLl96ci5yZW1vdmUodGhpcy5ncm91cCksdGhpc30sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMudW5tb3VudCgpLHRoaXMub2ZmKCl9LGV9KEZ0KTtmdW5jdGlvbiB6QSh0LGUpe3ZhciBuPWhrW2UuYnJ1c2hUeXBlXS5jcmVhdGVDb3Zlcih0LGUpO3JldHVybiBuLl9fYnJ1c2hPcHRpb249ZSxCQShuLGUpLHQuZ3JvdXAuYWRkKG4pLG59ZnVuY3Rpb24gRUEodCxlKXt2YXIgbj1GQShlKTtyZXR1cm4gbi5lbmRDcmVhdGluZyYmKG4uZW5kQ3JlYXRpbmcodCxlKSxCQShlLGUuX19icnVzaE9wdGlvbikpLGV9ZnVuY3Rpb24gVkEodCxlKXt2YXIgbj1lLl9fYnJ1c2hPcHRpb247RkEoZSkudXBkYXRlQ292ZXJTaGFwZSh0LGUsbi5yYW5nZSxuKX1mdW5jdGlvbiBCQSh0LGUpe3ZhciBuPWUuejtudWxsPT1uJiYobj0xZTQpLHQudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe3Quej1uLHQuejI9bn0pKX1mdW5jdGlvbiBHQSh0LGUpe0ZBKGUpLnVwZGF0ZUNvbW1vbih0LGUpLFZBKHQsZSl9ZnVuY3Rpb24gRkEodCl7cmV0dXJuIGhrW3QuX19icnVzaE9wdGlvbi5icnVzaFR5cGVdfWZ1bmN0aW9uIEhBKHQsZSxuKXt2YXIgaSxyPXQuX3BhbmVscztpZighcilyZXR1cm4gVEE7dmFyIG89dC5fdHJhbnNmb3JtO3JldHVybiBPKHIsKGZ1bmN0aW9uKHQpe3QuaXNUYXJnZXRCeUN1cnNvcihlLG4sbykmJihpPXQpfSkpLGl9ZnVuY3Rpb24gV0EodCxlKXt2YXIgbj10Ll9wYW5lbHM7aWYoIW4pcmV0dXJuIFRBO3ZhciBpPWUuX19icnVzaE9wdGlvbi5wYW5lbElkO3JldHVybiBudWxsIT1pP25baV06VEF9ZnVuY3Rpb24gVUEodCl7dmFyIGU9dC5fY292ZXJzLG49ZS5sZW5ndGg7cmV0dXJuIE8oZSwoZnVuY3Rpb24oZSl7dC5ncm91cC5yZW1vdmUoZSl9KSx0KSxlLmxlbmd0aD0wLCEhbn1mdW5jdGlvbiBYQSh0LGUpe3ZhciBuPVIodC5fY292ZXJzLChmdW5jdGlvbih0KXt2YXIgZT10Ll9fYnJ1c2hPcHRpb24sbj1TKGUucmFuZ2UpO3JldHVybnticnVzaFR5cGU6ZS5icnVzaFR5cGUscGFuZWxJZDplLnBhbmVsSWQscmFuZ2U6bn19KSk7dC50cmlnZ2VyKCJicnVzaCIse2FyZWFzOm4saXNFbmQ6ISFlLmlzRW5kLHJlbW92ZU9uQ2xpY2s6ISFlLnJlbW92ZU9uQ2xpY2t9KX1mdW5jdGlvbiBZQSh0KXt2YXIgZT10Lmxlbmd0aC0xO3JldHVybiBlPDAmJihlPTApLFt0WzBdLHRbZV1dfWZ1bmN0aW9uIFpBKHQsZSxuLGkpe3ZhciByPW5ldyBCaTtyZXR1cm4gci5hZGQobmV3IGNzKHtuYW1lOiJtYWluIixzdHlsZTokQShuKSxzaWxlbnQ6ITAsZHJhZ2dhYmxlOiEwLGN1cnNvcjoibW92ZSIsZHJpZnQ6Ryh0ayx0LGUscixbIm4iLCJzIiwidyIsImUiXSksb25kcmFnZW5kOkcoWEEsZSx7aXNFbmQ6ITB9KX0pKSxPKGksKGZ1bmN0aW9uKG4pe3IuYWRkKG5ldyBjcyh7bmFtZTpuLmpvaW4oIiIpLHN0eWxlOntvcGFjaXR5OjB9LGRyYWdnYWJsZTohMCxzaWxlbnQ6ITAsaW52aXNpYmxlOiEwLGRyaWZ0OkcodGssdCxlLHIsbiksb25kcmFnZW5kOkcoWEEsZSx7aXNFbmQ6ITB9KX0pKX0pKSxyfWZ1bmN0aW9uIGpBKHQsZSxuLGkpe3ZhciByPWkuYnJ1c2hTdHlsZS5saW5lV2lkdGh8fDAsbz1EQShyLDYpLGE9blswXVswXSxzPW5bMV1bMF0sbD1hLXIvMix1PXMtci8yLGg9blswXVsxXSxjPW5bMV1bMV0scD1oLW8rci8yLGQ9Yy1vK3IvMixmPWgtYSxnPWMtcyx5PWYrcix2PWcrcjtLQSh0LGUsIm1haW4iLGEscyxmLGcpLGkudHJhbnNmb3JtYWJsZSYmKEtBKHQsZSwidyIsbCx1LG8sdiksS0EodCxlLCJlIixwLHUsbyx2KSxLQSh0LGUsIm4iLGwsdSx5LG8pLEtBKHQsZSwicyIsbCxkLHksbyksS0EodCxlLCJudyIsbCx1LG8sbyksS0EodCxlLCJuZSIscCx1LG8sbyksS0EodCxlLCJzdyIsbCxkLG8sbyksS0EodCxlLCJzZSIscCxkLG8sbykpfWZ1bmN0aW9uIHFBKHQsZSl7dmFyIG49ZS5fX2JydXNoT3B0aW9uLGk9bi50cmFuc2Zvcm1hYmxlLHI9ZS5jaGlsZEF0KDApO3IudXNlU3R5bGUoJEEobikpLHIuYXR0cih7c2lsZW50OiFpLGN1cnNvcjppPyJtb3ZlIjoiZGVmYXVsdCJ9KSxPKFtbInciXSxbImUiXSxbIm4iXSxbInMiXSxbInMiLCJlIl0sWyJzIiwidyJdLFsibiIsImUiXSxbIm4iLCJ3Il1dLChmdW5jdGlvbihuKXt2YXIgcj1lLmNoaWxkT2ZOYW1lKG4uam9pbigiIikpLG89MT09PW4ubGVuZ3RoP1FBKHQsblswXSk6ZnVuY3Rpb24odCxlKXt2YXIgbj1bUUEodCxlWzBdKSxRQSh0LGVbMV0pXTtyZXR1cm4oImUiPT09blswXXx8InciPT09blswXSkmJm4ucmV2ZXJzZSgpLG4uam9pbigiIil9KHQsbik7ciYmci5hdHRyKHtzaWxlbnQ6IWksaW52aXNpYmxlOiFpLGN1cnNvcjppP1BBW29dKyItcmVzaXplIjpudWxsfSl9KSl9ZnVuY3Rpb24gS0EodCxlLG4saSxyLG8sYSl7dmFyIHM9ZS5jaGlsZE9mTmFtZShuKTtzJiZzLnNldFNoYXBlKGZ1bmN0aW9uKHQpe3ZhciBlPUNBKHRbMF1bMF0sdFsxXVswXSksbj1DQSh0WzBdWzFdLHRbMV1bMV0pLGk9REEodFswXVswXSx0WzFdWzBdKSxyPURBKHRbMF1bMV0sdFsxXVsxXSk7cmV0dXJue3g6ZSx5Om4sd2lkdGg6aS1lLGhlaWdodDpyLW59fShpayh0LGUsW1tpLHJdLFtpK28scithXV0pKSl9ZnVuY3Rpb24gJEEodCl7cmV0dXJuIEMoe3N0cm9rZU5vU2NhbGU6ITB9LHQuYnJ1c2hTdHlsZSl9ZnVuY3Rpb24gSkEodCxlLG4saSl7dmFyIHI9W0NBKHQsbiksQ0EoZSxpKV0sbz1bREEodCxuKSxEQShlLGkpXTtyZXR1cm5bW3JbMF0sb1swXV0sW3JbMV0sb1sxXV1dfWZ1bmN0aW9uIFFBKHQsZSl7cmV0dXJue2xlZnQ6InciLHJpZ2h0OiJlIix0b3A6Im4iLGJvdHRvbToicyJ9W2FoKHt3OiJsZWZ0IixlOiJyaWdodCIsbjoidG9wIixzOiJib3R0b20ifVtlXSxmdW5jdGlvbih0KXtyZXR1cm4gcmgodC5ncm91cCl9KHQpKV19ZnVuY3Rpb24gdGsodCxlLG4saSxyLG8pe3ZhciBhPW4uX19icnVzaE9wdGlvbixzPXQudG9SZWN0UmFuZ2UoYS5yYW5nZSksbD1uayhlLHIsbyk7TyhpLChmdW5jdGlvbih0KXt2YXIgZT1MQVt0XTtzW2VbMF1dW2VbMV1dKz1sW2VbMF1dfSkpLGEucmFuZ2U9dC5mcm9tUmVjdFJhbmdlKEpBKHNbMF1bMF0sc1sxXVswXSxzWzBdWzFdLHNbMV1bMV0pKSxHQShlLG4pLFhBKGUse2lzRW5kOiExfSl9ZnVuY3Rpb24gZWsodCxlLG4saSl7dmFyIHI9ZS5fX2JydXNoT3B0aW9uLnJhbmdlLG89bmsodCxuLGkpO08ociwoZnVuY3Rpb24odCl7dFswXSs9b1swXSx0WzFdKz1vWzFdfSkpLEdBKHQsZSksWEEodCx7aXNFbmQ6ITF9KX1mdW5jdGlvbiBuayh0LGUsbil7dmFyIGk9dC5ncm91cCxyPWkudHJhbnNmb3JtQ29vcmRUb0xvY2FsKGUsbiksbz1pLnRyYW5zZm9ybUNvb3JkVG9Mb2NhbCgwLDApO3JldHVybltyWzBdLW9bMF0sclsxXS1vWzFdXX1mdW5jdGlvbiBpayh0LGUsbil7dmFyIGk9V0EodCxlKTtyZXR1cm4gaSYmaSE9PVRBP2kuY2xpcFBhdGgobix0Ll90cmFuc2Zvcm0pOlMobil9ZnVuY3Rpb24gcmsodCl7dmFyIGU9dC5ldmVudDtlLnByZXZlbnREZWZhdWx0JiZlLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gb2sodCxlLG4pe3JldHVybiB0LmNoaWxkT2ZOYW1lKCJtYWluIikuY29udGFpbihlLG4pfWZ1bmN0aW9uIGFrKHQsZSxuLGkpe3ZhciByLG89dC5fY3JlYXRpbmdDb3ZlcixhPXQuX2NyZWF0aW5nUGFuZWwscz10Ll9icnVzaE9wdGlvbjtpZih0Ll90cmFjay5wdXNoKG4uc2xpY2UoKSksZnVuY3Rpb24odCl7dmFyIGU9dC5fdHJhY2s7aWYoIWUubGVuZ3RoKXJldHVybiExO3ZhciBuPWVbZS5sZW5ndGgtMV0saT1lWzBdLHI9blswXS1pWzBdLG89blsxXS1pWzFdO3JldHVybiBBQShyKnIrbypvLC41KT42fSh0KXx8byl7aWYoYSYmIW8peyJzaW5nbGUiPT09cy5icnVzaE1vZGUmJlVBKHQpO3ZhciBsPVMocyk7bC5icnVzaFR5cGU9c2sobC5icnVzaFR5cGUsYSksbC5wYW5lbElkPWE9PT1UQT9udWxsOmEucGFuZWxJZCxvPXQuX2NyZWF0aW5nQ292ZXI9ekEodCxsKSx0Ll9jb3ZlcnMucHVzaChvKX1pZihvKXt2YXIgdT1oa1tzayh0Ll9icnVzaFR5cGUsYSldO28uX19icnVzaE9wdGlvbi5yYW5nZT11LmdldENyZWF0aW5nUmFuZ2UoaWsodCxvLHQuX3RyYWNrKSksaSYmKEVBKHQsbyksdS51cGRhdGVDb21tb24odCxvKSksVkEodCxvKSxyPXtpc0VuZDppfX19ZWxzZSBpJiYic2luZ2xlIj09PXMuYnJ1c2hNb2RlJiZzLnJlbW92ZU9uQ2xpY2smJkhBKHQsZSxuKSYmVUEodCkmJihyPXtpc0VuZDppLHJlbW92ZU9uQ2xpY2s6ITB9KTtyZXR1cm4gcn1mdW5jdGlvbiBzayh0LGUpe3JldHVybiJhdXRvIj09PXQ/ZS5kZWZhdWx0QnJ1c2hUeXBlOnR9dmFyIGxrPXttb3VzZWRvd246ZnVuY3Rpb24odCl7aWYodGhpcy5fZHJhZ2dpbmcpdWsodGhpcyx0KTtlbHNlIGlmKCF0LnRhcmdldHx8IXQudGFyZ2V0LmRyYWdnYWJsZSl7cmsodCk7dmFyIGU9dGhpcy5ncm91cC50cmFuc2Zvcm1Db29yZFRvTG9jYWwodC5vZmZzZXRYLHQub2Zmc2V0WSk7dGhpcy5fY3JlYXRpbmdDb3Zlcj1udWxsLCh0aGlzLl9jcmVhdGluZ1BhbmVsPUhBKHRoaXMsdCxlKSkmJih0aGlzLl9kcmFnZ2luZz0hMCx0aGlzLl90cmFjaz1bZS5zbGljZSgpXSl9fSxtb3VzZW1vdmU6ZnVuY3Rpb24odCl7dmFyIGU9dC5vZmZzZXRYLG49dC5vZmZzZXRZLGk9dGhpcy5ncm91cC50cmFuc2Zvcm1Db29yZFRvTG9jYWwoZSxuKTtpZihmdW5jdGlvbih0LGUsbil7aWYodC5fYnJ1c2hUeXBlJiYhZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuX3pyO3JldHVybiBlPDB8fGU+aS5nZXRXaWR0aCgpfHxuPDB8fG4+aS5nZXRIZWlnaHQoKX0odCxlLm9mZnNldFgsZS5vZmZzZXRZKSl7dmFyIGk9dC5fenIscj10Ll9jb3ZlcnMsbz1IQSh0LGUsbik7aWYoIXQuX2RyYWdnaW5nKWZvcih2YXIgYT0wO2E8ci5sZW5ndGg7YSsrKXt2YXIgcz1yW2FdLl9fYnJ1c2hPcHRpb247aWYobyYmKG89PT1UQXx8cy5wYW5lbElkPT09by5wYW5lbElkKSYmaGtbcy5icnVzaFR5cGVdLmNvbnRhaW4oclthXSxuWzBdLG5bMV0pKXJldHVybn1vJiZpLnNldEN1cnNvclN0eWxlKCJjcm9zc2hhaXIiKX19KHRoaXMsdCxpKSx0aGlzLl9kcmFnZ2luZyl7cmsodCk7dmFyIHI9YWsodGhpcyx0LGksITEpO3ImJlhBKHRoaXMscil9fSxtb3VzZXVwOmZ1bmN0aW9uKHQpe3VrKHRoaXMsdCl9fTtmdW5jdGlvbiB1ayh0LGUpe2lmKHQuX2RyYWdnaW5nKXtyayhlKTt2YXIgbj1lLm9mZnNldFgsaT1lLm9mZnNldFkscj10Lmdyb3VwLnRyYW5zZm9ybUNvb3JkVG9Mb2NhbChuLGkpLG89YWsodCxlLHIsITApO3QuX2RyYWdnaW5nPSExLHQuX3RyYWNrPVtdLHQuX2NyZWF0aW5nQ292ZXI9bnVsbCxvJiZYQSh0LG8pfX12YXIgaGs9e2xpbmVYOmNrKDApLGxpbmVZOmNrKDEpLHJlY3Q6e2NyZWF0ZUNvdmVyOmZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdH1yZXR1cm4gWkEoe3RvUmVjdFJhbmdlOm4sZnJvbVJlY3RSYW5nZTpufSx0LGUsW1sidyJdLFsiZSJdLFsibiJdLFsicyJdLFsicyIsImUiXSxbInMiLCJ3Il0sWyJuIiwiZSJdLFsibiIsInciXV0pfSxnZXRDcmVhdGluZ1JhbmdlOmZ1bmN0aW9uKHQpe3ZhciBlPVlBKHQpO3JldHVybiBKQShlWzFdWzBdLGVbMV1bMV0sZVswXVswXSxlWzBdWzFdKX0sdXBkYXRlQ292ZXJTaGFwZTpmdW5jdGlvbih0LGUsbixpKXtqQSh0LGUsbixpKX0sdXBkYXRlQ29tbW9uOnFBLGNvbnRhaW46b2t9LHBvbHlnb246e2NyZWF0ZUNvdmVyOmZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IEJpO3JldHVybiBuLmFkZChuZXcgZHUoe25hbWU6Im1haW4iLHN0eWxlOiRBKGUpLHNpbGVudDohMH0pKSxufSxnZXRDcmVhdGluZ1JhbmdlOmZ1bmN0aW9uKHQpe3JldHVybiB0fSxlbmRDcmVhdGluZzpmdW5jdGlvbih0LGUpe2UucmVtb3ZlKGUuY2hpbGRBdCgwKSksZS5hZGQobmV3IGN1KHtuYW1lOiJtYWluIixkcmFnZ2FibGU6ITAsZHJpZnQ6Ryhlayx0LGUpLG9uZHJhZ2VuZDpHKFhBLHQse2lzRW5kOiEwfSl9KSl9LHVwZGF0ZUNvdmVyU2hhcGU6ZnVuY3Rpb24odCxlLG4saSl7ZS5jaGlsZEF0KDApLnNldFNoYXBlKHtwb2ludHM6aWsodCxlLG4pfSl9LHVwZGF0ZUNvbW1vbjpxQSxjb250YWluOm9rfX07ZnVuY3Rpb24gY2sodCl7cmV0dXJue2NyZWF0ZUNvdmVyOmZ1bmN0aW9uKGUsbil7cmV0dXJuIFpBKHt0b1JlY3RSYW5nZTpmdW5jdGlvbihlKXt2YXIgbj1bZSxbMCwxMDBdXTtyZXR1cm4gdCYmbi5yZXZlcnNlKCksbn0sZnJvbVJlY3RSYW5nZTpmdW5jdGlvbihlKXtyZXR1cm4gZVt0XX19LGUsbixbW1sidyJdLFsiZSJdXSxbWyJuIl0sWyJzIl1dXVt0XSl9LGdldENyZWF0aW5nUmFuZ2U6ZnVuY3Rpb24oZSl7dmFyIG49WUEoZSk7cmV0dXJuW0NBKG5bMF1bdF0sblsxXVt0XSksREEoblswXVt0XSxuWzFdW3RdKV19LHVwZGF0ZUNvdmVyU2hhcGU6ZnVuY3Rpb24oZSxuLGkscil7dmFyIG8sYT1XQShlLG4pO2lmKGEhPT1UQSYmYS5nZXRMaW5lYXJCcnVzaE90aGVyRXh0ZW50KW89YS5nZXRMaW5lYXJCcnVzaE90aGVyRXh0ZW50KHQpO2Vsc2V7dmFyIHM9ZS5fenI7bz1bMCxbcy5nZXRXaWR0aCgpLHMuZ2V0SGVpZ2h0KCldWzEtdF1dfXZhciBsPVtpLG9dO3QmJmwucmV2ZXJzZSgpLGpBKGUsbixsLHIpfSx1cGRhdGVDb21tb246cUEsY29udGFpbjpva319ZnVuY3Rpb24gcGsodCl7cmV0dXJuIHQ9Z2sodCksZnVuY3Rpb24oZSl7cmV0dXJuIHVoKGUsdCl9fWZ1bmN0aW9uIGRrKHQsZSl7cmV0dXJuIHQ9Z2sodCksZnVuY3Rpb24obil7dmFyIGk9bnVsbCE9ZT9lOm4scj1pP3Qud2lkdGg6dC5oZWlnaHQsbz1pP3QueDp0Lnk7cmV0dXJuW28sbysocnx8MCldfX1mdW5jdGlvbiBmayh0LGUsbil7dmFyIGk9Z2sodCk7cmV0dXJuIGZ1bmN0aW9uKHQscil7cmV0dXJuIGkuY29udGFpbihyWzBdLHJbMV0pJiYhSUkodCxlLG4pfX1mdW5jdGlvbiBnayh0KXtyZXR1cm4gdmkuY3JlYXRlKHQpfXZhciB5az1bImF4aXNMaW5lIiwiYXhpc1RpY2tMYWJlbCIsImF4aXNOYW1lIl0sdms9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlLG4pe3QucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLCh0aGlzLl9icnVzaENvbnRyb2xsZXI9bmV3IE5BKG4uZ2V0WnIoKSkpLm9uKCJicnVzaCIsQih0aGlzLl9vbkJydXNoLHRoaXMpKX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe2lmKCFmdW5jdGlvbih0LGUsbil7cmV0dXJuIG4mJiJheGlzQXJlYVNlbGVjdCI9PT1uLnR5cGUmJmUuZmluZENvbXBvbmVudHMoe21haW5UeXBlOiJwYXJhbGxlbEF4aXMiLHF1ZXJ5Om59KVswXT09PXR9KHQsZSxpKSl7dGhpcy5heGlzTW9kZWw9dCx0aGlzLmFwaT1uLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCk7dmFyIHI9dGhpcy5fYXhpc0dyb3VwO2lmKHRoaXMuX2F4aXNHcm91cD1uZXcgQmksdGhpcy5ncm91cC5hZGQodGhpcy5fYXhpc0dyb3VwKSx0LmdldCgic2hvdyIpKXt2YXIgbz1mdW5jdGlvbih0LGUpe3JldHVybiBlLmdldENvbXBvbmVudCgicGFyYWxsZWwiLHQuZ2V0KCJwYXJhbGxlbEluZGV4IikpfSh0LGUpLGE9by5jb29yZGluYXRlU3lzdGVtLHM9dC5nZXRBcmVhU2VsZWN0U3R5bGUoKSxsPXMud2lkdGgsdT10LmF4aXMuZGltLGg9VCh7c3Ryb2tlQ29udGFpblRocmVzaG9sZDpsfSxhLmdldEF4aXNMYXlvdXQodSkpLGM9bmV3IEFNKHQsaCk7Tyh5ayxjLmFkZCxjKSx0aGlzLl9heGlzR3JvdXAuYWRkKGMuZ2V0R3JvdXAoKSksdGhpcy5fcmVmcmVzaEJydXNoQ29udHJvbGxlcihoLHMsdCxvLGwsbiksbGgocix0aGlzLl9heGlzR3JvdXAsdCl9fX0sZS5wcm90b3R5cGUuX3JlZnJlc2hCcnVzaENvbnRyb2xsZXI9ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhPW4uYXhpcy5nZXRFeHRlbnQoKSxzPWFbMV0tYVswXSxsPU1hdGgubWluKDMwLC4xKk1hdGguYWJzKHMpKSx1PXZpLmNyZWF0ZSh7eDphWzBdLHk6LXIvMix3aWR0aDpzLGhlaWdodDpyfSk7dS54LT1sLHUud2lkdGgrPTIqbCx0aGlzLl9icnVzaENvbnRyb2xsZXIubW91bnQoe2VuYWJsZUdsb2JhbFBhbjohMCxyb3RhdGlvbjp0LnJvdGF0aW9uLHg6dC5wb3NpdGlvblswXSx5OnQucG9zaXRpb25bMV19KS5zZXRQYW5lbHMoW3twYW5lbElkOiJwbCIsY2xpcFBhdGg6cGsodSksaXNUYXJnZXRCeUN1cnNvcjpmayh1LG8saSksZ2V0TGluZWFyQnJ1c2hPdGhlckV4dGVudDpkayh1LDApfV0pLmVuYWJsZUJydXNoKHticnVzaFR5cGU6ImxpbmVYIixicnVzaFN0eWxlOmUscmVtb3ZlT25DbGljazohMH0pLnVwZGF0ZUNvdmVycyhmdW5jdGlvbih0KXt2YXIgZT10LmF4aXM7cmV0dXJuIFIodC5hY3RpdmVJbnRlcnZhbHMsKGZ1bmN0aW9uKHQpe3JldHVybnticnVzaFR5cGU6ImxpbmVYIixwYW5lbElkOiJwbCIscmFuZ2U6W2UuZGF0YVRvQ29vcmQodFswXSwhMCksZS5kYXRhVG9Db29yZCh0WzFdLCEwKV19fSkpfShuKSl9LGUucHJvdG90eXBlLl9vbkJydXNoPWZ1bmN0aW9uKHQpe3ZhciBlPXQuYXJlYXMsbj10aGlzLmF4aXNNb2RlbCxpPW4uYXhpcyxyPVIoZSwoZnVuY3Rpb24odCl7cmV0dXJuW2kuY29vcmRUb0RhdGEodC5yYW5nZVswXSwhMCksaS5jb29yZFRvRGF0YSh0LnJhbmdlWzFdLCEwKV19KSk7KCFuLm9wdGlvbi5yZWFsdGltZT09PXQuaXNFbmR8fHQucmVtb3ZlT25DbGljaykmJnRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJheGlzQXJlYVNlbGVjdCIscGFyYWxsZWxBeGlzSWQ6bi5pZCxpbnRlcnZhbHM6cn0pfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fYnJ1c2hDb250cm9sbGVyLmRpc3Bvc2UoKX0sZS50eXBlPSJwYXJhbGxlbEF4aXMiLGV9KFdmKTt2YXIgbWs9e3R5cGU6ImF4aXNBcmVhU2VsZWN0IixldmVudDoiYXhpc0FyZWFTZWxlY3RlZCJ9O3ZhciBfaz17dHlwZToidmFsdWUiLGFyZWFTZWxlY3RTdHlsZTp7d2lkdGg6MjAsYm9yZGVyV2lkdGg6MSxib3JkZXJDb2xvcjoicmdiYSgxNjAsMTk3LDIzMikiLGNvbG9yOiJyZ2JhKDE2MCwxOTcsMjMyKSIsb3BhY2l0eTouM30scmVhbHRpbWU6ITAsejoxMH07ZnVuY3Rpb24geGsodCl7dC5yZWdpc3RlckNvbXBvbmVudFZpZXcob0EpLHQucmVnaXN0ZXJDb21wb25lbnRNb2RlbChsQSksdC5yZWdpc3RlckNvb3JkaW5hdGVTeXN0ZW0oInBhcmFsbGVsIixNQSksdC5yZWdpc3RlclByZXByb2Nlc3NvcihyQSksdC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKElBKSx0LnJlZ2lzdGVyQ29tcG9uZW50Vmlldyh2ayksZk0odCwicGFyYWxsZWwiLElBLF9rKSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQWN0aW9uKG1rLChmdW5jdGlvbih0LGUpe2UuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6InBhcmFsbGVsQXhpcyIscXVlcnk6dH0sKGZ1bmN0aW9uKGUpe2UuYXhpcy5tb2RlbC5zZXRBY3RpdmVJbnRlcnZhbHModC5pbnRlcnZhbHMpfSkpfSkpLHQucmVnaXN0ZXJBY3Rpb24oInBhcmFsbGVsQXhpc0V4cGFuZCIsKGZ1bmN0aW9uKHQsZSl7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToicGFyYWxsZWwiLHF1ZXJ5OnR9LChmdW5jdGlvbihlKXtlLnNldEF4aXNFeHBhbmQodCl9KSl9KSl9KHQpfXZhciBiaz1mdW5jdGlvbigpe3RoaXMueDE9MCx0aGlzLnkxPTAsdGhpcy54Mj0wLHRoaXMueTI9MCx0aGlzLmNweDE9MCx0aGlzLmNweTE9MCx0aGlzLmNweDI9MCx0aGlzLmNweTI9MCx0aGlzLmV4dGVudD0wfSx3az1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgYmt9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3ZhciBuPWUuZXh0ZW50O3QubW92ZVRvKGUueDEsZS55MSksdC5iZXppZXJDdXJ2ZVRvKGUuY3B4MSxlLmNweTEsZS5jcHgyLGUuY3B5MixlLngyLGUueTIpLCJ2ZXJ0aWNhbCI9PT1lLm9yaWVudD8odC5saW5lVG8oZS54MituLGUueTIpLHQuYmV6aWVyQ3VydmVUbyhlLmNweDIrbixlLmNweTIsZS5jcHgxK24sZS5jcHkxLGUueDErbixlLnkxKSk6KHQubGluZVRvKGUueDIsZS55MituKSx0LmJlemllckN1cnZlVG8oZS5jcHgyLGUuY3B5MituLGUuY3B4MSxlLmNweTErbixlLngxLGUueTErbikpLHQuY2xvc2VQYXRoKCl9LGUucHJvdG90eXBlLmhpZ2hsaWdodD1mdW5jdGlvbigpe1FzKHRoaXMpfSxlLnByb3RvdHlwZS5kb3ducGxheT1mdW5jdGlvbigpe3RsKHRoaXMpfSxlfShRYSksU2s9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLl9mb2N1c0FkamFjZW5jeURpc2FibGVkPSExLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMscj10LmdldEdyYXBoKCksbz10aGlzLmdyb3VwLGE9dC5sYXlvdXRJbmZvLHM9YS53aWR0aCxsPWEuaGVpZ2h0LHU9dC5nZXREYXRhKCksaD10LmdldERhdGEoImVkZ2UiKSxjPXQuZ2V0KCJvcmllbnQiKTt0aGlzLl9tb2RlbD10LG8ucmVtb3ZlQWxsKCksby54PWEueCxvLnk9YS55LHIuZWFjaEVkZ2UoKGZ1bmN0aW9uKGUpe3ZhciBuPW5ldyB3ayxpPVNzKG4pO2kuZGF0YUluZGV4PWUuZGF0YUluZGV4LGkuc2VyaWVzSW5kZXg9dC5zZXJpZXNJbmRleCxpLmRhdGFUeXBlPSJlZGdlIjt2YXIgcixhLHUscCxkLGYsZyx5LHY9ZS5nZXRNb2RlbCgpLG09di5nZXRNb2RlbCgibGluZVN0eWxlIiksXz1tLmdldCgiY3VydmVuZXNzIikseD1lLm5vZGUxLmdldExheW91dCgpLGI9ZS5ub2RlMS5nZXRNb2RlbCgpLHc9Yi5nZXQoImxvY2FsWCIpLFM9Yi5nZXQoImxvY2FsWSIpLE09ZS5ub2RlMi5nZXRMYXlvdXQoKSxJPWUubm9kZTIuZ2V0TW9kZWwoKSxUPUkuZ2V0KCJsb2NhbFgiKSxDPUkuZ2V0KCJsb2NhbFkiKSxEPWUuZ2V0TGF5b3V0KCk7c3dpdGNoKG4uc2hhcGUuZXh0ZW50PU1hdGgubWF4KDEsRC5keSksbi5zaGFwZS5vcmllbnQ9YywidmVydGljYWwiPT09Yz8ocj0obnVsbCE9dz93KnM6eC54KStELnN5LGE9KG51bGwhPVM/UypsOngueSkreC5keSx1PShudWxsIT1UP1QqczpNLngpK0QudHksZD1yLGY9YSooMS1fKSsocD1udWxsIT1DP0MqbDpNLnkpKl8sZz11LHk9YSpfK3AqKDEtXykpOihyPShudWxsIT13P3cqczp4LngpK3guZHgsYT0obnVsbCE9Uz9TKmw6eC55KStELnN5LGQ9ciooMS1fKSsodT1udWxsIT1UP1QqczpNLngpKl8sZj1hLGc9cipfK3UqKDEtXykseT1wPShudWxsIT1DP0MqbDpNLnkpK0QudHkpLG4uc2V0U2hhcGUoe3gxOnIseTE6YSx4Mjp1LHkyOnAsY3B4MTpkLGNweTE6ZixjcHgyOmcsY3B5Mjp5fSksbi51c2VTdHlsZShtLmdldEl0ZW1TdHlsZSgpKSxuLnN0eWxlLmZpbGwpe2Nhc2Uic291cmNlIjpuLnN0eWxlLmZpbGw9ZS5ub2RlMS5nZXRWaXN1YWwoImNvbG9yIiksbi5zdHlsZS5kZWNhbD1lLm5vZGUxLmdldFZpc3VhbCgic3R5bGUiKS5kZWNhbDticmVhaztjYXNlInRhcmdldCI6bi5zdHlsZS5maWxsPWUubm9kZTIuZ2V0VmlzdWFsKCJjb2xvciIpLG4uc3R5bGUuZGVjYWw9ZS5ub2RlMi5nZXRWaXN1YWwoInN0eWxlIikuZGVjYWw7YnJlYWs7Y2FzZSJncmFkaWVudCI6dmFyIEE9ZS5ub2RlMS5nZXRWaXN1YWwoImNvbG9yIiksaz1lLm5vZGUyLmdldFZpc3VhbCgiY29sb3IiKTsic3RyaW5nIj09dHlwZW9mIEEmJiJzdHJpbmciPT10eXBlb2YgayYmKG4uc3R5bGUuZmlsbD1uZXcgSXUoMCwwLCsoImhvcml6b250YWwiPT09YyksKygidmVydGljYWwiPT09YyksW3tjb2xvcjpBLG9mZnNldDowfSx7Y29sb3I6ayxvZmZzZXQ6MX1dKSl9dmFyIEw9di5nZXRNb2RlbCgiZW1waGFzaXMiKTt5bChuLHYsImxpbmVTdHlsZSIsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldEl0ZW1TdHlsZSgpfSkpLG8uYWRkKG4pLGguc2V0SXRlbUdyYXBoaWNFbChlLmRhdGFJbmRleCxuKTt2YXIgUD1MLmdldCgiZm9jdXMiKTtwbChuLCJhZGphY2VuY3kiPT09UD9lLmdldEFkamFjZW50RGF0YUluZGljZXMoKTpQLEwuZ2V0KCJibHVyU2NvcGUiKSksU3MobikuZGF0YVR5cGU9ImVkZ2UifSkpLHIuZWFjaE5vZGUoKGZ1bmN0aW9uKGUpe3ZhciBuPWUuZ2V0TGF5b3V0KCksaT1lLmdldE1vZGVsKCkscj1pLmdldCgibG9jYWxYIiksYT1pLmdldCgibG9jYWxZIiksaD1pLmdldE1vZGVsKCJlbXBoYXNpcyIpLGM9bmV3IGNzKHtzaGFwZTp7eDpudWxsIT1yP3IqczpuLngseTpudWxsIT1hP2EqbDpuLnksd2lkdGg6bi5keCxoZWlnaHQ6bi5keX0sc3R5bGU6aS5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKCksejI6MTB9KTt4aChjLGJoKGkpLHtsYWJlbEZldGNoZXI6dCxsYWJlbERhdGFJbmRleDplLmRhdGFJbmRleCxkZWZhdWx0VGV4dDplLmlkfSksYy5kaXNhYmxlTGFiZWxBbmltYXRpb249ITAsYy5zZXRTdHlsZSgiZmlsbCIsZS5nZXRWaXN1YWwoImNvbG9yIikpLGMuc2V0U3R5bGUoImRlY2FsIixlLmdldFZpc3VhbCgic3R5bGUiKS5kZWNhbCkseWwoYyxpKSxvLmFkZChjKSx1LnNldEl0ZW1HcmFwaGljRWwoZS5kYXRhSW5kZXgsYyksU3MoYykuZGF0YVR5cGU9Im5vZGUiO3ZhciBwPWguZ2V0KCJmb2N1cyIpO3BsKGMsImFkamFjZW5jeSI9PT1wP2UuZ2V0QWRqYWNlbnREYXRhSW5kaWNlcygpOnAsaC5nZXQoImJsdXJTY29wZSIpKX0pKSx1LmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbihlLHIpe3UuZ2V0SXRlbU1vZGVsKHIpLmdldCgiZHJhZ2dhYmxlIikmJihlLmRyaWZ0PWZ1bmN0aW9uKGUsbyl7aS5fZm9jdXNBZGphY2VuY3lEaXNhYmxlZD0hMCx0aGlzLnNoYXBlLngrPWUsdGhpcy5zaGFwZS55Kz1vLHRoaXMuZGlydHkoKSxuLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJkcmFnTm9kZSIsc2VyaWVzSWQ6dC5pZCxkYXRhSW5kZXg6dS5nZXRSYXdJbmRleChyKSxsb2NhbFg6dGhpcy5zaGFwZS54L3MsbG9jYWxZOnRoaXMuc2hhcGUueS9sfSl9LGUub25kcmFnZW5kPWZ1bmN0aW9uKCl7aS5fZm9jdXNBZGphY2VuY3lEaXNhYmxlZD0hMX0sZS5kcmFnZ2FibGU9ITAsZS5jdXJzb3I9Im1vdmUiKX0pKSwhdGhpcy5fZGF0YSYmdC5pc0FuaW1hdGlvbkVuYWJsZWQoKSYmby5zZXRDbGlwUGF0aChmdW5jdGlvbih0LGUsbil7dmFyIGk9bmV3IGNzKHtzaGFwZTp7eDp0LngtMTAseTp0LnktMTAsd2lkdGg6MCxoZWlnaHQ6dC5oZWlnaHQrMjB9fSk7cmV0dXJuIFZ1KGkse3NoYXBlOnt3aWR0aDp0LndpZHRoKzIwfX0sZSxuKSxpfShvLmdldEJvdW5kaW5nUmVjdCgpLHQsKGZ1bmN0aW9uKCl7by5yZW1vdmVDbGlwUGF0aCgpfSkpKSx0aGlzLl9kYXRhPXQuZ2V0RGF0YSgpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7fSxlLnR5cGU9InNhbmtleSIsZX0oWmYpO3ZhciBNaz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YT1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZWRnZXN8fHQubGlua3MsaT10LmRhdGF8fHQubm9kZXMscj10LmxldmVsczt0aGlzLmxldmVsTW9kZWxzPVtdO2Zvcih2YXIgbz10aGlzLmxldmVsTW9kZWxzLGE9MDthPHIubGVuZ3RoO2ErKyludWxsIT1yW2FdLmRlcHRoJiZyW2FdLmRlcHRoPj0wJiYob1tyW2FdLmRlcHRoXT1uZXcgV2goclthXSx0aGlzLGUpKTtpZihpJiZuKXJldHVybiBORChpLG4sdGhpcywhMCwoZnVuY3Rpb24odCxlKXt0LndyYXBNZXRob2QoImdldEl0ZW1Nb2RlbCIsKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5wYXJlbnRNb2RlbCxpPW4uZ2V0RGF0YSgpLmdldEl0ZW1MYXlvdXQoZSk7aWYoaSl7dmFyIHI9aS5kZXB0aCxvPW4ubGV2ZWxNb2RlbHNbcl07byYmKHQucGFyZW50TW9kZWw9byl9cmV0dXJuIHR9KSksZS53cmFwTWV0aG9kKCJnZXRJdGVtTW9kZWwiLChmdW5jdGlvbih0LGUpe3ZhciBuPXQucGFyZW50TW9kZWwsaT1uLmdldEdyYXBoKCkuZ2V0RWRnZUJ5SW5kZXgoZSkubm9kZTEuZ2V0TGF5b3V0KCk7aWYoaSl7dmFyIHI9aS5kZXB0aCxvPW4ubGV2ZWxNb2RlbHNbcl07byYmKHQucGFyZW50TW9kZWw9byl9cmV0dXJuIHR9KSl9KSkuZGF0YX0sZS5wcm90b3R5cGUuc2V0Tm9kZVBvc2l0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49KHRoaXMub3B0aW9uLmRhdGF8fHRoaXMub3B0aW9uLm5vZGVzKVt0XTtuLmxvY2FsWD1lWzBdLG4ubG9jYWxZPWVbMV19LGUucHJvdG90eXBlLmdldEdyYXBoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RGF0YSgpLmdyYXBofSxlLnByb3RvdHlwZS5nZXRFZGdlRGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEdyYXBoKCkuZWRnZURhdGF9LGUucHJvdG90eXBlLmZvcm1hdFRvb2x0aXA9ZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGkodCl7cmV0dXJuIGlzTmFOKHQpfHxudWxsPT10fWlmKCJlZGdlIj09PW4pe3ZhciByPXRoaXMuZ2V0RGF0YVBhcmFtcyh0LG4pLG89ci5kYXRhLGE9ci52YWx1ZTtyZXR1cm4gd2YoIm5hbWVWYWx1ZSIse25hbWU6by5zb3VyY2UrIiAtLSAiK28udGFyZ2V0LHZhbHVlOmEsbm9WYWx1ZTppKGEpfSl9dmFyIHM9dGhpcy5nZXRHcmFwaCgpLmdldE5vZGVCeUluZGV4KHQpLmdldExheW91dCgpLnZhbHVlLGw9dGhpcy5nZXREYXRhUGFyYW1zKHQsbikuZGF0YS5uYW1lO3JldHVybiB3ZigibmFtZVZhbHVlIix7bmFtZTpudWxsIT1sP2wrIiI6bnVsbCx2YWx1ZTpzLG5vVmFsdWU6aShzKX0pfSxlLnByb3RvdHlwZS5vcHRpb25VcGRhdGVkPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5nZXREYXRhUGFyYW1zPWZ1bmN0aW9uKGUsbil7dmFyIGk9dC5wcm90b3R5cGUuZ2V0RGF0YVBhcmFtcy5jYWxsKHRoaXMsZSxuKTtpZihudWxsPT1pLnZhbHVlJiYibm9kZSI9PT1uKXt2YXIgcj10aGlzLmdldEdyYXBoKCkuZ2V0Tm9kZUJ5SW5kZXgoZSkuZ2V0TGF5b3V0KCkudmFsdWU7aS52YWx1ZT1yfXJldHVybiBpfSxlLnR5cGU9InNlcmllcy5zYW5rZXkiLGUuZGVmYXVsdE9wdGlvbj17emxldmVsOjAsejoyLGNvb3JkaW5hdGVTeXN0ZW06InZpZXciLGxlZnQ6IjUlIix0b3A6IjUlIixyaWdodDoiMjAlIixib3R0b206IjUlIixvcmllbnQ6Imhvcml6b250YWwiLG5vZGVXaWR0aDoyMCxub2RlR2FwOjgsZHJhZ2dhYmxlOiEwLGxheW91dEl0ZXJhdGlvbnM6MzIsbGFiZWw6e3Nob3c6ITAscG9zaXRpb246InJpZ2h0Iixmb250U2l6ZToxMn0sbGV2ZWxzOltdLG5vZGVBbGlnbjoianVzdGlmeSIsbGluZVN0eWxlOntjb2xvcjoiIzMxNDY1NiIsb3BhY2l0eTouMixjdXJ2ZW5lc3M6LjV9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMH0sbGluZVN0eWxlOntvcGFjaXR5Oi41fX0sc2VsZWN0OntpdGVtU3R5bGU6e2JvcmRlckNvbG9yOiIjMjEyMTIxIn19LGFuaW1hdGlvbkVhc2luZzoibGluZWFyIixhbmltYXRpb25EdXJhdGlvbjoxZTN9LGV9KE5mKTtmdW5jdGlvbiBJayh0LGUpe3QuZWFjaFNlcmllc0J5VHlwZSgic2Fua2V5IiwoZnVuY3Rpb24odCl7dmFyIG49dC5nZXQoIm5vZGVXaWR0aCIpLGk9dC5nZXQoIm5vZGVHYXAiKSxyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHFjKHQuZ2V0Qm94TGF5b3V0UGFyYW1zKCkse3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0pfSh0LGUpO3QubGF5b3V0SW5mbz1yO3ZhciBvPXIud2lkdGgsYT1yLmhlaWdodCxzPXQuZ2V0R3JhcGgoKSxsPXMubm9kZXMsdT1zLmVkZ2VzOyFmdW5jdGlvbih0KXtPKHQsKGZ1bmN0aW9uKHQpe3ZhciBlPU5rKHQub3V0RWRnZXMsUmspLG49TmsodC5pbkVkZ2VzLFJrKSxpPXQuZ2V0VmFsdWUoKXx8MCxyPU1hdGgubWF4KGUsbixpKTt0LnNldExheW91dCh7dmFsdWU6cn0sITApfSkpfShsKSxmdW5jdGlvbih0LGUsbixpLHIsbyxhLHMsbCl7KGZ1bmN0aW9uKHQsZSxuLGkscixvLGEpe2Zvcih2YXIgcz1bXSxsPVtdLHU9W10saD1bXSxjPTAscD0wO3A8ZS5sZW5ndGg7cCsrKXNbcF09MTtmb3IocD0wO3A8dC5sZW5ndGg7cCsrKWxbcF09dFtwXS5pbkVkZ2VzLmxlbmd0aCwwPT09bFtwXSYmdS5wdXNoKHRbcF0pO3ZhciBkPS0xO2Zvcig7dS5sZW5ndGg7KXtmb3IodmFyIGY9MDtmPHUubGVuZ3RoO2YrKyl7dmFyIGc9dVtmXSx5PWcuaG9zdEdyYXBoLmRhdGEuZ2V0UmF3RGF0YUl0ZW0oZy5kYXRhSW5kZXgpLHY9bnVsbCE9eS5kZXB0aCYmeS5kZXB0aD49MDt2JiZ5LmRlcHRoPmQmJihkPXkuZGVwdGgpLGcuc2V0TGF5b3V0KHtkZXB0aDp2P3kuZGVwdGg6Y30sITApLCJ2ZXJ0aWNhbCI9PT1vP2cuc2V0TGF5b3V0KHtkeTpufSwhMCk6Zy5zZXRMYXlvdXQoe2R4Om59LCEwKTtmb3IodmFyIG09MDttPGcub3V0RWRnZXMubGVuZ3RoO20rKyl7dmFyIF89Zy5vdXRFZGdlc1ttXTtzW2UuaW5kZXhPZihfKV09MDt2YXIgeD1fLm5vZGUyOzA9PS0tbFt0LmluZGV4T2YoeCldJiZoLmluZGV4T2YoeCk8MCYmaC5wdXNoKHgpfX0rK2MsdT1oLGg9W119Zm9yKHA9MDtwPHMubGVuZ3RoO3ArKylpZigxPT09c1twXSl0aHJvdyBuZXcgRXJyb3IoIlNhbmtleSBpcyBhIERBRywgdGhlIG9yaWdpbmFsIGRhdGEgaGFzIGN5Y2xlISIpO3ZhciBiPWQ+Yy0xP2Q6Yy0xO2EmJiJsZWZ0IiE9PWEmJmZ1bmN0aW9uKHQsZSxuLGkpe2lmKCJyaWdodCI9PT1lKXtmb3IodmFyIHI9W10sbz10LGE9MDtvLmxlbmd0aDspe2Zvcih2YXIgcz0wO3M8by5sZW5ndGg7cysrKXt2YXIgbD1vW3NdO2wuc2V0TGF5b3V0KHtza05vZGVIZWlnaHQ6YX0sITApO2Zvcih2YXIgdT0wO3U8bC5pbkVkZ2VzLmxlbmd0aDt1Kyspe3ZhciBoPWwuaW5FZGdlc1t1XTtyLmluZGV4T2YoaC5ub2RlMSk8MCYmci5wdXNoKGgubm9kZTEpfX1vPXIscj1bXSwrK2F9Tyh0LChmdW5jdGlvbih0KXtUayh0KXx8dC5zZXRMYXlvdXQoe2RlcHRoOk1hdGgubWF4KDAsaS10LmdldExheW91dCgpLnNrTm9kZUhlaWdodCl9LCEwKX0pKX1lbHNlImp1c3RpZnkiPT09ZSYmZnVuY3Rpb24odCxlKXtPKHQsKGZ1bmN0aW9uKHQpe1RrKHQpfHx0Lm91dEVkZ2VzLmxlbmd0aHx8dC5zZXRMYXlvdXQoe2RlcHRoOmV9LCEwKX0pKX0odCxpKX0odCxhLDAsYik7IWZ1bmN0aW9uKHQsZSxuKXtPKHQsKGZ1bmN0aW9uKHQpe3ZhciBpPXQuZ2V0TGF5b3V0KCkuZGVwdGgqZTsidmVydGljYWwiPT09bj90LnNldExheW91dCh7eTppfSwhMCk6dC5zZXRMYXlvdXQoe3g6aX0sITApfSkpfSh0LCJ2ZXJ0aWNhbCI9PT1vPyhyLW4pL2I6KGktbikvYixvKX0pKHQsZSxuLHIsbyxzLGwpLGZ1bmN0aW9uKHQsZSxuLGkscixvLGEpe3ZhciBzPWZ1bmN0aW9uKHQsZSl7dmFyIG49W10saT0idmVydGljYWwiPT09ZT8ieSI6IngiLHI9SHIodCwoZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0TGF5b3V0KClbaV19KSk7cmV0dXJuIHIua2V5cy5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LWV9KSksTyhyLmtleXMsKGZ1bmN0aW9uKHQpe24ucHVzaChyLmJ1Y2tldHMuZ2V0KHQpKX0pKSxufSh0LGEpOyhmdW5jdGlvbih0LGUsbixpLHIsbyl7dmFyIGE9MS8wO08odCwoZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGgscz0wO08odCwoZnVuY3Rpb24odCl7cys9dC5nZXRMYXlvdXQoKS52YWx1ZX0pKTt2YXIgbD0idmVydGljYWwiPT09bz8oaS0oZS0xKSpyKS9zOihuLShlLTEpKnIpL3M7bDxhJiYoYT1sKX0pKSxPKHQsKGZ1bmN0aW9uKHQpe08odCwoZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldExheW91dCgpLnZhbHVlKmE7InZlcnRpY2FsIj09PW8/KHQuc2V0TGF5b3V0KHt4OmV9LCEwKSx0LnNldExheW91dCh7ZHg6bn0sITApKToodC5zZXRMYXlvdXQoe3k6ZX0sITApLHQuc2V0TGF5b3V0KHtkeTpufSwhMCkpfSkpfSkpLE8oZSwoZnVuY3Rpb24odCl7dmFyIGU9K3QuZ2V0VmFsdWUoKSphO3Quc2V0TGF5b3V0KHtkeTplfSwhMCl9KSl9KShzLGUsbixpLHIsYSksQ2socyxyLG4saSxhKTtmb3IodmFyIGw9MTtvPjA7by0tKURrKHMsbCo9Ljk5LGEpLENrKHMscixuLGksYSksemsocyxsLGEpLENrKHMscixuLGksYSl9KHQsZSxvLHIsaSxhLHMpLGZ1bmN0aW9uKHQsZSl7dmFyIG49InZlcnRpY2FsIj09PWU/IngiOiJ5IjtPKHQsKGZ1bmN0aW9uKHQpe3Qub3V0RWRnZXMuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5ub2RlMi5nZXRMYXlvdXQoKVtuXS1lLm5vZGUyLmdldExheW91dCgpW25dfSkpLHQuaW5FZGdlcy5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0Lm5vZGUxLmdldExheW91dCgpW25dLWUubm9kZTEuZ2V0TGF5b3V0KClbbl19KSl9KSksTyh0LChmdW5jdGlvbih0KXt2YXIgZT0wLG49MDtPKHQub3V0RWRnZXMsKGZ1bmN0aW9uKHQpe3Quc2V0TGF5b3V0KHtzeTplfSwhMCksZSs9dC5nZXRMYXlvdXQoKS5keX0pKSxPKHQuaW5FZGdlcywoZnVuY3Rpb24odCl7dC5zZXRMYXlvdXQoe3R5Om59LCEwKSxuKz10LmdldExheW91dCgpLmR5fSkpfSkpfSh0LHMpfShsLHUsbixpLG8sYSwwIT09eihsLChmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQuZ2V0TGF5b3V0KCkudmFsdWV9KSkubGVuZ3RoPzA6dC5nZXQoImxheW91dEl0ZXJhdGlvbnMiKSx0LmdldCgib3JpZW50IiksdC5nZXQoIm5vZGVBbGlnbiIpKX0pKX1mdW5jdGlvbiBUayh0KXt2YXIgZT10Lmhvc3RHcmFwaC5kYXRhLmdldFJhd0RhdGFJdGVtKHQuZGF0YUluZGV4KTtyZXR1cm4gbnVsbCE9ZS5kZXB0aCYmZS5kZXB0aD49MH1mdW5jdGlvbiBDayh0LGUsbixpLHIpe3ZhciBvPSJ2ZXJ0aWNhbCI9PT1yPyJ4IjoieSI7Tyh0LChmdW5jdGlvbih0KXt2YXIgYSxzLGw7dC5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LmdldExheW91dCgpW29dLWUuZ2V0TGF5b3V0KClbb119KSk7Zm9yKHZhciB1PTAsaD10Lmxlbmd0aCxjPSJ2ZXJ0aWNhbCI9PT1yPyJkeCI6ImR5IixwPTA7cDxoO3ArKykobD11LShzPXRbcF0pLmdldExheW91dCgpW29dKT4wJiYoYT1zLmdldExheW91dCgpW29dK2wsInZlcnRpY2FsIj09PXI/cy5zZXRMYXlvdXQoe3g6YX0sITApOnMuc2V0TGF5b3V0KHt5OmF9LCEwKSksdT1zLmdldExheW91dCgpW29dK3MuZ2V0TGF5b3V0KClbY10rZTtpZigobD11LWUtKCJ2ZXJ0aWNhbCI9PT1yP2k6bikpPjApe2E9cy5nZXRMYXlvdXQoKVtvXS1sLCJ2ZXJ0aWNhbCI9PT1yP3Muc2V0TGF5b3V0KHt4OmF9LCEwKTpzLnNldExheW91dCh7eTphfSwhMCksdT1hO2ZvcihwPWgtMjtwPj0wOy0tcCkobD0ocz10W3BdKS5nZXRMYXlvdXQoKVtvXStzLmdldExheW91dCgpW2NdK2UtdSk+MCYmKGE9cy5nZXRMYXlvdXQoKVtvXS1sLCJ2ZXJ0aWNhbCI9PT1yP3Muc2V0TGF5b3V0KHt4OmF9LCEwKTpzLnNldExheW91dCh7eTphfSwhMCkpLHU9cy5nZXRMYXlvdXQoKVtvXX19KSl9ZnVuY3Rpb24gRGsodCxlLG4pe08odC5zbGljZSgpLnJldmVyc2UoKSwoZnVuY3Rpb24odCl7Tyh0LChmdW5jdGlvbih0KXtpZih0Lm91dEVkZ2VzLmxlbmd0aCl7dmFyIGk9TmsodC5vdXRFZGdlcyxBayxuKS9Oayh0Lm91dEVkZ2VzLFJrKTtpZihpc05hTihpKSl7dmFyIHI9dC5vdXRFZGdlcy5sZW5ndGg7aT1yP05rKHQub3V0RWRnZXMsa2ssbikvcjowfWlmKCJ2ZXJ0aWNhbCI9PT1uKXt2YXIgbz10LmdldExheW91dCgpLngrKGktT2sodCxuKSkqZTt0LnNldExheW91dCh7eDpvfSwhMCl9ZWxzZXt2YXIgYT10LmdldExheW91dCgpLnkrKGktT2sodCxuKSkqZTt0LnNldExheW91dCh7eTphfSwhMCl9fX0pKX0pKX1mdW5jdGlvbiBBayh0LGUpe3JldHVybiBPayh0Lm5vZGUyLGUpKnQuZ2V0VmFsdWUoKX1mdW5jdGlvbiBrayh0LGUpe3JldHVybiBPayh0Lm5vZGUyLGUpfWZ1bmN0aW9uIExrKHQsZSl7cmV0dXJuIE9rKHQubm9kZTEsZSkqdC5nZXRWYWx1ZSgpfWZ1bmN0aW9uIFBrKHQsZSl7cmV0dXJuIE9rKHQubm9kZTEsZSl9ZnVuY3Rpb24gT2sodCxlKXtyZXR1cm4idmVydGljYWwiPT09ZT90LmdldExheW91dCgpLngrdC5nZXRMYXlvdXQoKS5keC8yOnQuZ2V0TGF5b3V0KCkueSt0LmdldExheW91dCgpLmR5LzJ9ZnVuY3Rpb24gUmsodCl7cmV0dXJuIHQuZ2V0VmFsdWUoKX1mdW5jdGlvbiBOayh0LGUsbil7Zm9yKHZhciBpPTAscj10Lmxlbmd0aCxvPS0xOysrbzxyOyl7dmFyIGE9K2UodFtvXSxuKTtpc05hTihhKXx8KGkrPWEpfXJldHVybiBpfWZ1bmN0aW9uIHprKHQsZSxuKXtPKHQsKGZ1bmN0aW9uKHQpe08odCwoZnVuY3Rpb24odCl7aWYodC5pbkVkZ2VzLmxlbmd0aCl7dmFyIGk9TmsodC5pbkVkZ2VzLExrLG4pL05rKHQuaW5FZGdlcyxSayk7aWYoaXNOYU4oaSkpe3ZhciByPXQuaW5FZGdlcy5sZW5ndGg7aT1yP05rKHQuaW5FZGdlcyxQayxuKS9yOjB9aWYoInZlcnRpY2FsIj09PW4pe3ZhciBvPXQuZ2V0TGF5b3V0KCkueCsoaS1Payh0LG4pKSplO3Quc2V0TGF5b3V0KHt4Om99LCEwKX1lbHNle3ZhciBhPXQuZ2V0TGF5b3V0KCkueSsoaS1Payh0LG4pKSplO3Quc2V0TGF5b3V0KHt5OmF9LCEwKX19fSkpfSkpfWZ1bmN0aW9uIEVrKHQpe3QuZWFjaFNlcmllc0J5VHlwZSgic2Fua2V5IiwoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRHcmFwaCgpLm5vZGVzO2lmKGUubGVuZ3RoKXt2YXIgbj0xLzAsaT0tMS8wO08oZSwoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRMYXlvdXQoKS52YWx1ZTtlPG4mJihuPWUpLGU+aSYmKGk9ZSl9KSksTyhlLChmdW5jdGlvbihlKXt2YXIgcj1uZXcgckMoe3R5cGU6ImNvbG9yIixtYXBwaW5nTWV0aG9kOiJsaW5lYXIiLGRhdGFFeHRlbnQ6W24saV0sdmlzdWFsOnQuZ2V0KCJjb2xvciIpfSkubWFwVmFsdWVUb1Zpc3VhbChlLmdldExheW91dCgpLnZhbHVlKSxvPWUuZ2V0TW9kZWwoKS5nZXQoWyJpdGVtU3R5bGUiLCJjb2xvciJdKTtudWxsIT1vPyhlLnNldFZpc3VhbCgiY29sb3IiLG8pLGUuc2V0VmlzdWFsKCJzdHlsZSIse2ZpbGw6b30pKTooZS5zZXRWaXN1YWwoImNvbG9yIixyKSxlLnNldFZpc3VhbCgic3R5bGUiLHtmaWxsOnJ9KSl9KSl9fSkpfXZhciBWaz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQsZSl7dmFyIG4saSxyPWUuZ2V0Q29tcG9uZW50KCJ4QXhpcyIsdGhpcy5nZXQoInhBeGlzSW5kZXgiKSksbz1lLmdldENvbXBvbmVudCgieUF4aXMiLHRoaXMuZ2V0KCJ5QXhpc0luZGV4IikpLGE9ci5nZXQoInR5cGUiKSxzPW8uZ2V0KCJ0eXBlIik7ImNhdGVnb3J5Ij09PWE/KHQubGF5b3V0PSJob3Jpem9udGFsIixuPXIuZ2V0T3JkaW5hbE1ldGEoKSxpPSEwKToiY2F0ZWdvcnkiPT09cz8odC5sYXlvdXQ9InZlcnRpY2FsIixuPW8uZ2V0T3JkaW5hbE1ldGEoKSxpPSEwKTp0LmxheW91dD10LmxheW91dHx8Imhvcml6b250YWwiO3ZhciBsPVsieCIsInkiXSx1PSJob3Jpem9udGFsIj09PXQubGF5b3V0PzA6MSxoPXRoaXMuX2Jhc2VBeGlzRGltPWxbdV0sYz1sWzEtdV0scD1bcixvXSxkPXBbdV0uZ2V0KCJ0eXBlIiksZj1wWzEtdV0uZ2V0KCJ0eXBlIiksZz10LmRhdGE7aWYoZyYmaSl7dmFyIHk9W107TyhnLChmdW5jdGlvbih0LGUpe3ZhciBuO0YodCk/KG49dC5zbGljZSgpLHQudW5zaGlmdChlKSk6Rih0LnZhbHVlKT8oKG49VCh7fSx0KSkudmFsdWU9bi52YWx1ZS5zbGljZSgpLHQudmFsdWUudW5zaGlmdChlKSk6bj10LHkucHVzaChuKX0pKSx0LmRhdGE9eX12YXIgdj10aGlzLmRlZmF1bHRWYWx1ZURpbWVuc2lvbnMsbT1be25hbWU6aCx0eXBlOkhtKGQpLG9yZGluYWxNZXRhOm4sb3RoZXJEaW1zOnt0b29sdGlwOiExLGl0ZW1OYW1lOjB9LGRpbXNEZWY6WyJiYXNlIl19LHtuYW1lOmMsdHlwZTpIbShmKSxkaW1zRGVmOnYuc2xpY2UoKX1dO3JldHVybiBRUyh0aGlzLHtjb29yZERpbWVuc2lvbnM6bSxkaW1lbnNpb25zQ291bnQ6di5sZW5ndGgrMSxlbmNvZGVEZWZhdWx0ZXI6RyhfcCxtLHRoaXMpfSl9LHQucHJvdG90eXBlLmdldEJhc2VBeGlzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fYmFzZUF4aXNEaW07cmV0dXJuIHRoaXMuZWNNb2RlbC5nZXRDb21wb25lbnQodCsiQXhpcyIsdGhpcy5nZXQodCsiQXhpc0luZGV4IikpLmF4aXN9LHR9KCksQms9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmRlZmF1bHRWYWx1ZURpbWVuc2lvbnM9W3tuYW1lOiJtaW4iLGRlZmF1bHRUb29sdGlwOiEwfSx7bmFtZToiUTEiLGRlZmF1bHRUb29sdGlwOiEwfSx7bmFtZToibWVkaWFuIixkZWZhdWx0VG9vbHRpcDohMH0se25hbWU6IlEzIixkZWZhdWx0VG9vbHRpcDohMH0se25hbWU6Im1heCIsZGVmYXVsdFRvb2x0aXA6ITB9XSxuLnZpc3VhbERyYXdUeXBlPSJzdHJva2UiLG59cmV0dXJuIG4oZSx0KSxlLnR5cGU9InNlcmllcy5ib3hwbG90IixlLmRlcGVuZGVuY2llcz1bInhBeGlzIiwieUF4aXMiLCJncmlkIl0sZS5kZWZhdWx0T3B0aW9uPXt6bGV2ZWw6MCx6OjIsY29vcmRpbmF0ZVN5c3RlbToiY2FydGVzaWFuMmQiLGxlZ2VuZEhvdmVyTGluazohMCxsYXlvdXQ6bnVsbCxib3hXaWR0aDpbNyw1MF0saXRlbVN0eWxlOntjb2xvcjoiI2ZmZiIsYm9yZGVyV2lkdGg6MX0sZW1waGFzaXM6e3NjYWxlOiEwLGl0ZW1TdHlsZTp7Ym9yZGVyV2lkdGg6MixzaGFkb3dCbHVyOjUsc2hhZG93T2Zmc2V0WDoxLHNoYWRvd09mZnNldFk6MSxzaGFkb3dDb2xvcjoicmdiYSgwLDAsMCwwLjIpIn19LGFuaW1hdGlvbkR1cmF0aW9uOjgwMH0sZX0oTmYpO0woQmssVmssITApO3ZhciBHaz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZ2V0RGF0YSgpLHI9dGhpcy5ncm91cCxvPXRoaXMuX2RhdGE7dGhpcy5fZGF0YXx8ci5yZW1vdmVBbGwoKTt2YXIgYT0iaG9yaXpvbnRhbCI9PT10LmdldCgibGF5b3V0Iik/MTowO2kuZGlmZihvKS5hZGQoKGZ1bmN0aW9uKHQpe2lmKGkuaGFzVmFsdWUodCkpe3ZhciBlPVdrKGkuZ2V0SXRlbUxheW91dCh0KSxpLHQsYSwhMCk7aS5zZXRJdGVtR3JhcGhpY0VsKHQsZSksci5hZGQoZSl9fSkpLnVwZGF0ZSgoZnVuY3Rpb24odCxlKXt2YXIgbj1vLmdldEl0ZW1HcmFwaGljRWwoZSk7aWYoaS5oYXNWYWx1ZSh0KSl7dmFyIHM9aS5nZXRJdGVtTGF5b3V0KHQpO24/KFd1KG4pLFVrKHMsbixpLHQpKTpuPVdrKHMsaSx0LGEpLHIuYWRkKG4pLGkuc2V0SXRlbUdyYXBoaWNFbCh0LG4pfWVsc2Ugci5yZW1vdmUobil9KSkucmVtb3ZlKChmdW5jdGlvbih0KXt2YXIgZT1vLmdldEl0ZW1HcmFwaGljRWwodCk7ZSYmci5yZW1vdmUoZSl9KSkuZXhlY3V0ZSgpLHRoaXMuX2RhdGE9aX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ3JvdXAsbj10aGlzLl9kYXRhO3RoaXMuX2RhdGE9bnVsbCxuJiZuLmVhY2hJdGVtR3JhcGhpY0VsKChmdW5jdGlvbih0KXt0JiZlLnJlbW92ZSh0KX0pKX0sZS50eXBlPSJib3hwbG90IixlfShaZiksRms9ZnVuY3Rpb24oKXt9LEhrPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIG4udHlwZT0iYm94cGxvdEJveFBhdGgiLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXREZWZhdWx0U2hhcGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEZrfSxlLnByb3RvdHlwZS5idWlsZFBhdGg9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLnBvaW50cyxpPTA7Zm9yKHQubW92ZVRvKG5baV1bMF0sbltpXVsxXSksaSsrO2k8NDtpKyspdC5saW5lVG8obltpXVswXSxuW2ldWzFdKTtmb3IodC5jbG9zZVBhdGgoKTtpPG4ubGVuZ3RoO2krKyl0Lm1vdmVUbyhuW2ldWzBdLG5baV1bMV0pLGkrKyx0LmxpbmVUbyhuW2ldWzBdLG5baV1bMV0pfSxlfShRYSk7ZnVuY3Rpb24gV2sodCxlLG4saSxyKXt2YXIgbz10LmVuZHMsYT1uZXcgSGsoe3NoYXBlOntwb2ludHM6cj9YayhvLGksdCk6b319KTtyZXR1cm4gVWsodCxhLGUsbixyKSxhfWZ1bmN0aW9uIFVrKHQsZSxuLGkscil7dmFyIG89bi5ob3N0TW9kZWw7KDAseWhbcj8iaW5pdFByb3BzIjoidXBkYXRlUHJvcHMiXSkoZSx7c2hhcGU6e3BvaW50czp0LmVuZHN9fSxvLGkpLGUudXNlU3R5bGUobi5nZXRJdGVtVmlzdWFsKGksInN0eWxlIikpLGUuc3R5bGUuc3Ryb2tlTm9TY2FsZT0hMCxlLnoyPTEwMDt2YXIgYT1uLmdldEl0ZW1Nb2RlbChpKTt5bChlLGEpLHBsKGUsYS5nZXQoWyJlbXBoYXNpcyIsImZvY3VzIl0pLGEuZ2V0KFsiZW1waGFzaXMiLCJibHVyU2NvcGUiXSkpfWZ1bmN0aW9uIFhrKHQsZSxuKXtyZXR1cm4gUih0LChmdW5jdGlvbih0KXtyZXR1cm4odD10LnNsaWNlKCkpW2VdPW4uaW5pdEJhc2VsaW5lLHR9KSl9ZnVuY3Rpb24gWWsodCxlKXt9dmFyIFprPU87ZnVuY3Rpb24gamsodCl7dmFyIGU9ZnVuY3Rpb24odCl7dmFyIGU9W10sbj1bXTtyZXR1cm4gdC5lYWNoU2VyaWVzQnlUeXBlKCJib3hwbG90IiwoZnVuY3Rpb24odCl7dmFyIGk9dC5nZXRCYXNlQXhpcygpLHI9QShuLGkpO3I8MCYmKHI9bi5sZW5ndGgsbltyXT1pLGVbcl09e2F4aXM6aSxzZXJpZXNNb2RlbHM6W119KSxlW3JdLnNlcmllc01vZGVscy5wdXNoKHQpfSkpLGV9KHQpO1prKGUsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuc2VyaWVzTW9kZWxzO2UubGVuZ3RoJiYoIWZ1bmN0aW9uKHQpe3ZhciBlLG4saT10LmF4aXMscj10LnNlcmllc01vZGVscyxvPXIubGVuZ3RoLGE9dC5ib3hXaWR0aExpc3Q9W10scz10LmJveE9mZnNldExpc3Q9W10sbD1bXTtpZigiY2F0ZWdvcnkiPT09aS50eXBlKW49aS5nZXRCYW5kV2lkdGgoKTtlbHNle3ZhciB1PTA7WmsociwoZnVuY3Rpb24odCl7dT1NYXRoLm1heCh1LHQuZ2V0RGF0YSgpLmNvdW50KCkpfSkpLGU9aS5nZXRFeHRlbnQoKSxNYXRoLmFicyhlWzFdLWVbMF0pfVprKHIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KCJib3hXaWR0aCIpO0YoZSl8fChlPVtlLGVdKSxsLnB1c2goW3FpKGVbMF0sbil8fDAscWkoZVsxXSxuKXx8MF0pfSkpO3ZhciBoPS44Km4tMixjPWgvbyouMyxwPShoLWMqKG8tMSkpL28sZD1wLzItaC8yO1prKHIsKGZ1bmN0aW9uKHQsZSl7cy5wdXNoKGQpLGQrPWMrcCxhLnB1c2goTWF0aC5taW4oTWF0aC5tYXgocCxsW2VdWzBdKSxsW2VdWzFdKSl9KSl9KHQpLFprKGUsKGZ1bmN0aW9uKGUsbil7IWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmNvb3JkaW5hdGVTeXN0ZW0scj10LmdldERhdGEoKSxvPW4vMixhPSJob3Jpem9udGFsIj09PXQuZ2V0KCJsYXlvdXQiKT8wOjEscz0xLWEsbD1bIngiLCJ5Il0sdT1yLm1hcERpbWVuc2lvbihsW2FdKSxoPXIubWFwRGltZW5zaW9uc0FsbChsW3NdKTtpZihudWxsPT11fHxoLmxlbmd0aDw1KXJldHVybjtmb3IodmFyIGM9MDtjPHIuY291bnQoKTtjKyspe3ZhciBwPXIuZ2V0KHUsYyksZD1fKHAsaFsyXSxjKSxmPV8ocCxoWzBdLGMpLGc9XyhwLGhbMV0sYykseT1fKHAsaFszXSxjKSx2PV8ocCxoWzRdLGMpLG09W107eChtLGcsITEpLHgobSx5LCEwKSxtLnB1c2goZixnLHYseSksYihtLGYpLGIobSx2KSxiKG0sZCksci5zZXRJdGVtTGF5b3V0KGMse2luaXRCYXNlbGluZTpkW3NdLGVuZHM6bX0pfWZ1bmN0aW9uIF8odCxuLG8pe3ZhciBsLHU9ci5nZXQobixvKSxoPVtdO3JldHVybiBoW2FdPXQsaFtzXT11LGlzTmFOKHQpfHxpc05hTih1KT9sPVtOYU4sTmFOXToobD1pLmRhdGFUb1BvaW50KGgpKVthXSs9ZSxsfWZ1bmN0aW9uIHgodCxlLG4pe3ZhciBpPWUuc2xpY2UoKSxyPWUuc2xpY2UoKTtpW2FdKz1vLHJbYV0tPW8sbj90LnB1c2goaSxyKTp0LnB1c2gocixpKX1mdW5jdGlvbiBiKHQsZSl7dmFyIG49ZS5zbGljZSgpLGk9ZS5zbGljZSgpO25bYV0tPW8saVthXSs9byx0LnB1c2gobixpKX19KGUsdC5ib3hPZmZzZXRMaXN0W25dLHQuYm94V2lkdGhMaXN0W25dKX0pKSl9KSl9dmFyIHFrPXt0eXBlOiJlY2hhcnRzOmJveHBsb3QiLHRyYW5zZm9ybTpmdW5jdGlvbih0KXt2YXIgZT10LnVwc3RyZWFtO2lmKGUuc291cmNlRm9ybWF0IT09bHApe3ZhciBuPSIiOzAsX3Iobil9dmFyIGk9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49W10saT1bXSxyPShlPWV8fHt9KS5ib3VuZElRUixvPSJub25lIj09PXJ8fDA9PT1yLGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIHM9JGkodFthXS5zbGljZSgpKSxsPWNyKHMsLjI1KSx1PWNyKHMsLjUpLGg9Y3IocywuNzUpLGM9c1swXSxwPXNbcy5sZW5ndGgtMV0sZD0obnVsbD09cj8xLjU6cikqKGgtbCksZj1vP2M6TWF0aC5tYXgoYyxsLWQpLGc9bz9wOk1hdGgubWluKHAsaCtkKSx5PWUuaXRlbU5hbWVGb3JtYXR0ZXIsdj1IKHkpP3koe3ZhbHVlOmF9KTpXKHkpP3kucmVwbGFjZSgie3ZhbHVlfSIsYSsiIik6YSsiIjtuLnB1c2goW3YsZixsLHUsaCxnXSk7Zm9yKHZhciBtPTA7bTxzLmxlbmd0aDttKyspe3ZhciBfPXNbbV07aWYoXzxmfHxfPmcpe3ZhciB4PVt2LF9dO2kucHVzaCh4KX19fXJldHVybntib3hEYXRhOm4sb3V0bGllcnM6aX19KGUuZ2V0UmF3RGF0YSgpLHQuY29uZmlnKTtyZXR1cm5be2RpbWVuc2lvbnM6WyJJdGVtTmFtZSIsIkxvdyIsIlExIiwiUTIiLCJRMyIsIkhpZ2giXSxkYXRhOmkuYm94RGF0YX0se2RhdGE6aS5vdXRsaWVyc31dfX07dmFyIEtrPVsiY29sb3IiLCJib3JkZXJDb2xvciJdLCRrPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dGhpcy5ncm91cC5yZW1vdmVDbGlwUGF0aCgpLHRoaXMuX3VwZGF0ZURyYXdNb2RlKHQpLHRoaXMuX2lzTGFyZ2VEcmF3P3RoaXMuX3JlbmRlckxhcmdlKHQpOnRoaXMuX3JlbmRlck5vcm1hbCh0KX0sZS5wcm90b3R5cGUuaW5jcmVtZW50YWxQcmVwYXJlUmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl9jbGVhcigpLHRoaXMuX3VwZGF0ZURyYXdNb2RlKHQpfSxlLnByb3RvdHlwZS5pbmNyZW1lbnRhbFJlbmRlcj1mdW5jdGlvbih0LGUsbixpKXt0aGlzLl9pc0xhcmdlRHJhdz90aGlzLl9pbmNyZW1lbnRhbFJlbmRlckxhcmdlKHQsZSk6dGhpcy5faW5jcmVtZW50YWxSZW5kZXJOb3JtYWwodCxlKX0sZS5wcm90b3R5cGUuX3VwZGF0ZURyYXdNb2RlPWZ1bmN0aW9uKHQpe3ZhciBlPXQucGlwZWxpbmVDb250ZXh0LmxhcmdlO251bGwhPXRoaXMuX2lzTGFyZ2VEcmF3JiZlPT09dGhpcy5faXNMYXJnZURyYXd8fCh0aGlzLl9pc0xhcmdlRHJhdz1lLHRoaXMuX2NsZWFyKCkpfSxlLnByb3RvdHlwZS5fcmVuZGVyTm9ybWFsPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RGF0YSgpLG49dGhpcy5fZGF0YSxpPXRoaXMuZ3JvdXAscj1lLmdldExheW91dCgiaXNTaW1wbGVCb3giKSxvPXQuZ2V0KCJjbGlwIiwhMCksYT10LmNvb3JkaW5hdGVTeXN0ZW0scz1hLmdldEFyZWEmJmEuZ2V0QXJlYSgpO3RoaXMuX2RhdGF8fGkucmVtb3ZlQWxsKCksZS5kaWZmKG4pLmFkZCgoZnVuY3Rpb24obil7aWYoZS5oYXNWYWx1ZShuKSl7dmFyIGE9ZS5nZXRJdGVtTGF5b3V0KG4pO2lmKG8mJmVMKHMsYSkpcmV0dXJuO3ZhciBsPXRMKGEsbiwhMCk7VnUobCx7c2hhcGU6e3BvaW50czphLmVuZHN9fSx0LG4pLG5MKGwsZSxuLHIpLGkuYWRkKGwpLGUuc2V0SXRlbUdyYXBoaWNFbChuLGwpfX0pKS51cGRhdGUoKGZ1bmN0aW9uKGEsbCl7dmFyIHU9bi5nZXRJdGVtR3JhcGhpY0VsKGwpO2lmKGUuaGFzVmFsdWUoYSkpe3ZhciBoPWUuZ2V0SXRlbUxheW91dChhKTtvJiZlTChzLGgpP2kucmVtb3ZlKHUpOih1PyhFdSh1LHtzaGFwZTp7cG9pbnRzOmguZW5kc319LHQsYSksV3UodSkpOnU9dEwoaCksbkwodSxlLGEsciksaS5hZGQodSksZS5zZXRJdGVtR3JhcGhpY0VsKGEsdSkpfWVsc2UgaS5yZW1vdmUodSl9KSkucmVtb3ZlKChmdW5jdGlvbih0KXt2YXIgZT1uLmdldEl0ZW1HcmFwaGljRWwodCk7ZSYmaS5yZW1vdmUoZSl9KSkuZXhlY3V0ZSgpLHRoaXMuX2RhdGE9ZX0sZS5wcm90b3R5cGUuX3JlbmRlckxhcmdlPWZ1bmN0aW9uKHQpe3RoaXMuX2NsZWFyKCksYUwodCx0aGlzLmdyb3VwKTt2YXIgZT10LmdldCgiY2xpcCIsITApP0p3KHQuY29vcmRpbmF0ZVN5c3RlbSwhMSx0KTpudWxsO2U/dGhpcy5ncm91cC5zZXRDbGlwUGF0aChlKTp0aGlzLmdyb3VwLnJlbW92ZUNsaXBQYXRoKCl9LGUucHJvdG90eXBlLl9pbmNyZW1lbnRhbFJlbmRlck5vcm1hbD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbixpPWUuZ2V0RGF0YSgpLHI9aS5nZXRMYXlvdXQoImlzU2ltcGxlQm94Iik7bnVsbCE9KG49dC5uZXh0KCkpOyl7dmFyIG89dEwoaS5nZXRJdGVtTGF5b3V0KG4pKTtuTChvLGksbixyKSxvLmluY3JlbWVudGFsPSEwLHRoaXMuZ3JvdXAuYWRkKG8pfX0sZS5wcm90b3R5cGUuX2luY3JlbWVudGFsUmVuZGVyTGFyZ2U9ZnVuY3Rpb24odCxlKXthTChlLHRoaXMuZ3JvdXAsITApfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dGhpcy5fY2xlYXIoKX0sZS5wcm90b3R5cGUuX2NsZWFyPWZ1bmN0aW9uKCl7dGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0aGlzLl9kYXRhPW51bGx9LGUudHlwZT0iY2FuZGxlc3RpY2siLGV9KFpmKSxKaz1mdW5jdGlvbigpe30sUWs9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbj10LmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbi50eXBlPSJub3JtYWxDYW5kbGVzdGlja0JveCIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgSmt9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3ZhciBuPWUucG9pbnRzO3RoaXMuX19zaW1wbGVCb3g/KHQubW92ZVRvKG5bNF1bMF0sbls0XVsxXSksdC5saW5lVG8obls2XVswXSxuWzZdWzFdKSk6KHQubW92ZVRvKG5bMF1bMF0sblswXVsxXSksdC5saW5lVG8oblsxXVswXSxuWzFdWzFdKSx0LmxpbmVUbyhuWzJdWzBdLG5bMl1bMV0pLHQubGluZVRvKG5bM11bMF0sblszXVsxXSksdC5jbG9zZVBhdGgoKSx0Lm1vdmVUbyhuWzRdWzBdLG5bNF1bMV0pLHQubGluZVRvKG5bNV1bMF0sbls1XVsxXSksdC5tb3ZlVG8obls2XVswXSxuWzZdWzFdKSx0LmxpbmVUbyhuWzddWzBdLG5bN11bMV0pKX0sZX0oUWEpO2Z1bmN0aW9uIHRMKHQsZSxuKXt2YXIgaT10LmVuZHM7cmV0dXJuIG5ldyBRayh7c2hhcGU6e3BvaW50czpuP2lMKGksdCk6aX0sejI6MTAwfSl9ZnVuY3Rpb24gZUwodCxlKXtmb3IodmFyIG49ITAsaT0wO2k8ZS5lbmRzLmxlbmd0aDtpKyspaWYodC5jb250YWluKGUuZW5kc1tpXVswXSxlLmVuZHNbaV1bMV0pKXtuPSExO2JyZWFrfXJldHVybiBufWZ1bmN0aW9uIG5MKHQsZSxuLGkpe3ZhciByPWUuZ2V0SXRlbU1vZGVsKG4pO3QudXNlU3R5bGUoZS5nZXRJdGVtVmlzdWFsKG4sInN0eWxlIikpLHQuc3R5bGUuc3Ryb2tlTm9TY2FsZT0hMCx0Ll9fc2ltcGxlQm94PWkseWwodCxyKX1mdW5jdGlvbiBpTCh0LGUpe3JldHVybiBSKHQsKGZ1bmN0aW9uKHQpe3JldHVybih0PXQuc2xpY2UoKSlbMV09ZS5pbml0QmFzZWxpbmUsdH0pKX12YXIgckw9ZnVuY3Rpb24oKXt9LG9MPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIG4udHlwZT0ibGFyZ2VDYW5kbGVzdGlja0JveCIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgckx9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1lLnBvaW50cyxpPTA7aTxuLmxlbmd0aDspaWYodGhpcy5fX3NpZ249PT1uW2krK10pe3ZhciByPW5baSsrXTt0Lm1vdmVUbyhyLG5baSsrXSksdC5saW5lVG8ocixuW2krK10pfWVsc2UgaSs9M30sZX0oUWEpO2Z1bmN0aW9uIGFMKHQsZSxuKXt2YXIgaT10LmdldERhdGEoKS5nZXRMYXlvdXQoImxhcmdlUG9pbnRzIikscj1uZXcgb0woe3NoYXBlOntwb2ludHM6aX0sX19zaWduOjF9KTtlLmFkZChyKTt2YXIgbz1uZXcgb0woe3NoYXBlOntwb2ludHM6aX0sX19zaWduOi0xfSk7ZS5hZGQobyksc0woMSxyLHQpLHNMKC0xLG8sdCksbiYmKHIuaW5jcmVtZW50YWw9ITAsby5pbmNyZW1lbnRhbD0hMCl9ZnVuY3Rpb24gc0wodCxlLG4saSl7dmFyIHI9bi5nZXQoWyJpdGVtU3R5bGUiLHQ+MD8iYm9yZGVyQ29sb3IiOiJib3JkZXJDb2xvcjAiXSl8fG4uZ2V0KFsiaXRlbVN0eWxlIix0PjA/ImNvbG9yIjoiY29sb3IwIl0pLG89bi5nZXRNb2RlbCgiaXRlbVN0eWxlIikuZ2V0SXRlbVN0eWxlKEtrKTtlLnVzZVN0eWxlKG8pLGUuc3R5bGUuZmlsbD1udWxsLGUuc3R5bGUuc3Ryb2tlPXJ9dmFyIGxMPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5kZWZhdWx0VmFsdWVEaW1lbnNpb25zPVt7bmFtZToib3BlbiIsZGVmYXVsdFRvb2x0aXA6ITB9LHtuYW1lOiJjbG9zZSIsZGVmYXVsdFRvb2x0aXA6ITB9LHtuYW1lOiJsb3dlc3QiLGRlZmF1bHRUb29sdGlwOiEwfSx7bmFtZToiaGlnaGVzdCIsZGVmYXVsdFRvb2x0aXA6ITB9XSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0U2hhZG93RGltPWZ1bmN0aW9uKCl7cmV0dXJuIm9wZW4ifSxlLnByb3RvdHlwZS5icnVzaFNlbGVjdG9yPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1lLmdldEl0ZW1MYXlvdXQodCk7cmV0dXJuIGkmJm4ucmVjdChpLmJydXNoUmVjdCl9LGUudHlwZT0ic2VyaWVzLmNhbmRsZXN0aWNrIixlLmRlcGVuZGVuY2llcz1bInhBeGlzIiwieUF4aXMiLCJncmlkIl0sZS5kZWZhdWx0T3B0aW9uPXt6bGV2ZWw6MCx6OjIsY29vcmRpbmF0ZVN5c3RlbToiY2FydGVzaWFuMmQiLGxlZ2VuZEhvdmVyTGluazohMCxsYXlvdXQ6bnVsbCxjbGlwOiEwLGl0ZW1TdHlsZTp7Y29sb3I6IiNlYjU0NTQiLGNvbG9yMDoiIzQ3YjI2MiIsYm9yZGVyQ29sb3I6IiNlYjU0NTQiLGJvcmRlckNvbG9yMDoiIzQ3YjI2MiIsYm9yZGVyV2lkdGg6MX0sZW1waGFzaXM6e3NjYWxlOiEwLGl0ZW1TdHlsZTp7Ym9yZGVyV2lkdGg6Mn19LGJhck1heFdpZHRoOm51bGwsYmFyTWluV2lkdGg6bnVsbCxiYXJXaWR0aDpudWxsLGxhcmdlOiEwLGxhcmdlVGhyZXNob2xkOjYwMCxwcm9ncmVzc2l2ZTozZTMscHJvZ3Jlc3NpdmVUaHJlc2hvbGQ6MWU0LHByb2dyZXNzaXZlQ2h1bmtNb2RlOiJtb2QiLGFuaW1hdGlvbkVhc2luZzoibGluZWFyIixhbmltYXRpb25EdXJhdGlvbjozMDB9LGV9KE5mKTtmdW5jdGlvbiB1TCh0KXt0JiZGKHQuc2VyaWVzKSYmTyh0LnNlcmllcywoZnVuY3Rpb24odCl7WSh0KSYmImsiPT09dC50eXBlJiYodC50eXBlPSJjYW5kbGVzdGljayIpfSkpfUwobEwsVmssITApO3ZhciBoTD1bIml0ZW1TdHlsZSIsImJvcmRlckNvbG9yIl0sY0w9WyJpdGVtU3R5bGUiLCJib3JkZXJDb2xvcjAiXSxwTD1bIml0ZW1TdHlsZSIsImNvbG9yIl0sZEw9WyJpdGVtU3R5bGUiLCJjb2xvcjAiXSxmTD17c2VyaWVzVHlwZToiY2FuZGxlc3RpY2siLHBsYW46VWYoKSxwZXJmb3JtUmF3U2VyaWVzOiEwLHJlc2V0OmZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0LGUpe3JldHVybiBlLmdldCh0PjA/cEw6ZEwpfWZ1bmN0aW9uIGkodCxlKXtyZXR1cm4gZS5nZXQodD4wP2hMOmNMKX1pZighZS5pc1Nlcmllc0ZpbHRlcmVkKHQpKXJldHVybiF0LnBpcGVsaW5lQ29udGV4dC5sYXJnZSYme3Byb2dyZXNzOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByO251bGwhPShyPXQubmV4dCgpKTspe3ZhciBvPWUuZ2V0SXRlbU1vZGVsKHIpLGE9ZS5nZXRJdGVtTGF5b3V0KHIpLnNpZ24scz1vLmdldEl0ZW1TdHlsZSgpO3MuZmlsbD1uKGEsbykscy5zdHJva2U9aShhLG8pfHxzLmZpbGwsVChlLmVuc3VyZVVuaXF1ZUl0ZW1WaXN1YWwociwic3R5bGUiKSxzKX19fX19LGdMPSJ1bmRlZmluZWQiIT10eXBlb2YgRmxvYXQzMkFycmF5P0Zsb2F0MzJBcnJheTpBcnJheSx5TD17c2VyaWVzVHlwZToiY2FuZGxlc3RpY2siLHBsYW46VWYoKSxyZXNldDpmdW5jdGlvbih0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW0sbj10LmdldERhdGEoKSxpPWZ1bmN0aW9uKHQsZSl7dmFyIG4saT10LmdldEJhc2VBeGlzKCkscj0iY2F0ZWdvcnkiPT09aS50eXBlP2kuZ2V0QmFuZFdpZHRoKCk6KG49aS5nZXRFeHRlbnQoKSxNYXRoLmFicyhuWzFdLW5bMF0pL2UuY291bnQoKSksbz1xaShldCh0LmdldCgiYmFyTWF4V2lkdGgiKSxyKSxyKSxhPXFpKGV0KHQuZ2V0KCJiYXJNaW5XaWR0aCIpLDEpLHIpLHM9dC5nZXQoImJhcldpZHRoIik7cmV0dXJuIG51bGwhPXM/cWkocyxyKTpNYXRoLm1heChNYXRoLm1pbihyLzIsbyksYSl9KHQsbikscj1bIngiLCJ5Il0sbz1uLmdldERpbWVuc2lvbkluZGV4KG4ubWFwRGltZW5zaW9uKHJbMF0pKSxhPVIobi5tYXBEaW1lbnNpb25zQWxsKHJbMV0pLG4uZ2V0RGltZW5zaW9uSW5kZXgsbikscz1hWzBdLGw9YVsxXSx1PWFbMl0saD1hWzNdO2lmKG4uc2V0TGF5b3V0KHtjYW5kbGVXaWR0aDppLGlzU2ltcGxlQm94Omk8PTEuM30pLCEobzwwfHxhLmxlbmd0aDw0KSlyZXR1cm57cHJvZ3Jlc3M6dC5waXBlbGluZUNvbnRleHQubGFyZ2U/ZnVuY3Rpb24odCxuKXt2YXIgaSxyLGE9bmV3IGdMKDQqdC5jb3VudCksYz0wLHA9W10sZD1bXSxmPW4uZ2V0U3RvcmUoKTtmb3IoO251bGwhPShyPXQubmV4dCgpKTspe3ZhciBnPWYuZ2V0KG8scikseT1mLmdldChzLHIpLHY9Zi5nZXQobCxyKSxtPWYuZ2V0KHUsciksXz1mLmdldChoLHIpO2lzTmFOKGcpfHxpc05hTihtKXx8aXNOYU4oXyk/KGFbYysrXT1OYU4sYys9Myk6KGFbYysrXT12TChmLHIseSx2LGwpLHBbMF09ZyxwWzFdPW0saT1lLmRhdGFUb1BvaW50KHAsbnVsbCxkKSxhW2MrK109aT9pWzBdOk5hTixhW2MrK109aT9pWzFdOk5hTixwWzFdPV8saT1lLmRhdGFUb1BvaW50KHAsbnVsbCxkKSxhW2MrK109aT9pWzFdOk5hTil9bi5zZXRMYXlvdXQoImxhcmdlUG9pbnRzIixhKX06ZnVuY3Rpb24odCxuKXt2YXIgcixhPW4uZ2V0U3RvcmUoKTtmb3IoO251bGwhPShyPXQubmV4dCgpKTspe3ZhciBjPWEuZ2V0KG8scikscD1hLmdldChzLHIpLGQ9YS5nZXQobCxyKSxmPWEuZ2V0KHUsciksZz1hLmdldChoLHIpLHk9TWF0aC5taW4ocCxkKSx2PU1hdGgubWF4KHAsZCksbT1TKHksYyksXz1TKHYsYykseD1TKGYsYyksYj1TKGcsYyksdz1bXTtNKHcsXywwKSxNKHcsbSwxKSx3LnB1c2goVChiKSxUKF8pLFQoeCksVChtKSksbi5zZXRJdGVtTGF5b3V0KHIse3NpZ246dkwoYSxyLHAsZCxsKSxpbml0QmFzZWxpbmU6cD5kP19bMV06bVsxXSxlbmRzOncsYnJ1c2hSZWN0OkkoZixnLGMpfSl9ZnVuY3Rpb24gUyh0LG4pe3ZhciBpPVtdO3JldHVybiBpWzBdPW4saVsxXT10LGlzTmFOKG4pfHxpc05hTih0KT9bTmFOLE5hTl06ZS5kYXRhVG9Qb2ludChpKX1mdW5jdGlvbiBNKHQsZSxuKXt2YXIgcj1lLnNsaWNlKCksbz1lLnNsaWNlKCk7clswXT1paChyWzBdK2kvMiwxLCExKSxvWzBdPWloKG9bMF0taS8yLDEsITApLG4/dC5wdXNoKHIsbyk6dC5wdXNoKG8scil9ZnVuY3Rpb24gSSh0LGUsbil7dmFyIHI9Uyh0LG4pLG89UyhlLG4pO3JldHVybiByWzBdLT1pLzIsb1swXS09aS8yLHt4OnJbMF0seTpyWzFdLHdpZHRoOmksaGVpZ2h0Om9bMV0tclsxXX19ZnVuY3Rpb24gVCh0KXtyZXR1cm4gdFswXT1paCh0WzBdLDEpLHR9fX19fTtmdW5jdGlvbiB2TCh0LGUsbixpLHIpe3JldHVybiBuPmk/LTE6bjxpPzE6ZT4wP3QuZ2V0KHIsZS0xKTw9aT8xOi0xOjF9ZnVuY3Rpb24gbUwodCxlKXt2YXIgbj1lLnJpcHBsZUVmZmVjdENvbG9yfHxlLmNvbG9yO3QuZWFjaENoaWxkKChmdW5jdGlvbih0KXt0LmF0dHIoe3o6ZS56LHpsZXZlbDplLnpsZXZlbCxzdHlsZTp7c3Ryb2tlOiJzdHJva2UiPT09ZS5icnVzaFR5cGU/bjpudWxsLGZpbGw6ImZpbGwiPT09ZS5icnVzaFR5cGU/bjpudWxsfX0pfSkpfXZhciBfTD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzLHI9bmV3IEx3KGUsbiksbz1uZXcgQmk7cmV0dXJuIGkuYWRkKHIpLGkuYWRkKG8pLGkudXBkYXRlRGF0YShlLG4pLGl9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5zdG9wRWZmZWN0QW5pbWF0aW9uPWZ1bmN0aW9uKCl7dGhpcy5jaGlsZEF0KDEpLnJlbW92ZUFsbCgpfSxlLnByb3RvdHlwZS5zdGFydEVmZmVjdEFuaW1hdGlvbj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5zeW1ib2xUeXBlLG49dC5jb2xvcixpPXQucmlwcGxlTnVtYmVyLHI9dGhpcy5jaGlsZEF0KDEpLG89MDtvPGk7bysrKXt2YXIgYT1leShlLC0xLC0xLDIsMixuKTthLmF0dHIoe3N0eWxlOntzdHJva2VOb1NjYWxlOiEwfSx6Mjo5OSxzaWxlbnQ6ITAsc2NhbGVYOi41LHNjYWxlWTouNX0pO3ZhciBzPS1vL2kqdC5wZXJpb2QrdC5lZmZlY3RPZmZzZXQ7YS5hbmltYXRlKCIiLCEwKS53aGVuKHQucGVyaW9kLHtzY2FsZVg6dC5yaXBwbGVTY2FsZS8yLHNjYWxlWTp0LnJpcHBsZVNjYWxlLzJ9KS5kZWxheShzKS5zdGFydCgpLGEuYW5pbWF0ZVN0eWxlKCEwKS53aGVuKHQucGVyaW9kLHtvcGFjaXR5OjB9KS5kZWxheShzKS5zdGFydCgpLHIuYWRkKGEpfW1MKHIsdCl9LGUucHJvdG90eXBlLnVwZGF0ZUVmZmVjdEFuaW1hdGlvbj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fZWZmZWN0Q2ZnLG49dGhpcy5jaGlsZEF0KDEpLGk9WyJzeW1ib2xUeXBlIiwicGVyaW9kIiwicmlwcGxlU2NhbGUiLCJyaXBwbGVOdW1iZXIiXSxyPTA7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl07aWYoZVtvXSE9PXRbb10pcmV0dXJuIHRoaXMuc3RvcEVmZmVjdEFuaW1hdGlvbigpLHZvaWQgdGhpcy5zdGFydEVmZmVjdEFuaW1hdGlvbih0KX1tTChuLHQpfSxlLnByb3RvdHlwZS5oaWdobGlnaHQ9ZnVuY3Rpb24oKXtRcyh0aGlzKX0sZS5wcm90b3R5cGUuZG93bnBsYXk9ZnVuY3Rpb24oKXt0bCh0aGlzKX0sZS5wcm90b3R5cGUuZ2V0U3ltYm9sVHlwZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY2hpbGRBdCgwKTtyZXR1cm4gdCYmdC5nZXRTeW1ib2xUeXBlKCl9LGUucHJvdG90eXBlLnVwZGF0ZURhdGE9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLGk9dC5ob3N0TW9kZWw7dGhpcy5jaGlsZEF0KDApLnVwZGF0ZURhdGEodCxlKTt2YXIgcj10aGlzLmNoaWxkQXQoMSksbz10LmdldEl0ZW1Nb2RlbChlKSxhPXQuZ2V0SXRlbVZpc3VhbChlLCJzeW1ib2wiKSxzPW55KHQuZ2V0SXRlbVZpc3VhbChlLCJzeW1ib2xTaXplIikpLGw9dC5nZXRJdGVtVmlzdWFsKGUsInN0eWxlIiksdT1sJiZsLmZpbGw7ci5zZXRTY2FsZShzKSxyLnRyYXZlcnNlKChmdW5jdGlvbih0KXt0LnNldFN0eWxlKCJmaWxsIix1KX0pKTt2YXIgaD1peSh0LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sT2Zmc2V0Iikscyk7aCYmKHIueD1oWzBdLHIueT1oWzFdKTt2YXIgYz10LmdldEl0ZW1WaXN1YWwoZSwic3ltYm9sUm90YXRlIik7ci5yb3RhdGlvbj0oY3x8MCkqTWF0aC5QSS8xODB8fDA7dmFyIHA9e307cC5zaG93RWZmZWN0T249aS5nZXQoInNob3dFZmZlY3RPbiIpLHAucmlwcGxlU2NhbGU9by5nZXQoWyJyaXBwbGVFZmZlY3QiLCJzY2FsZSJdKSxwLmJydXNoVHlwZT1vLmdldChbInJpcHBsZUVmZmVjdCIsImJydXNoVHlwZSJdKSxwLnBlcmlvZD0xZTMqby5nZXQoWyJyaXBwbGVFZmZlY3QiLCJwZXJpb2QiXSkscC5lZmZlY3RPZmZzZXQ9ZS90LmNvdW50KCkscC56PWkuZ2V0U2hhbGxvdygieiIpfHwwLHAuemxldmVsPWkuZ2V0U2hhbGxvdygiemxldmVsIil8fDAscC5zeW1ib2xUeXBlPWEscC5jb2xvcj11LHAucmlwcGxlRWZmZWN0Q29sb3I9by5nZXQoWyJyaXBwbGVFZmZlY3QiLCJjb2xvciJdKSxwLnJpcHBsZU51bWJlcj1vLmdldChbInJpcHBsZUVmZmVjdCIsIm51bWJlciJdKSx0aGlzLm9mZigibW91c2VvdmVyIikub2ZmKCJtb3VzZW91dCIpLm9mZigiZW1waGFzaXMiKS5vZmYoIm5vcm1hbCIpLCJyZW5kZXIiPT09cC5zaG93RWZmZWN0T24/KHRoaXMuX2VmZmVjdENmZz90aGlzLnVwZGF0ZUVmZmVjdEFuaW1hdGlvbihwKTp0aGlzLnN0YXJ0RWZmZWN0QW5pbWF0aW9uKHApLHRoaXMuX2VmZmVjdENmZz1wKToodGhpcy5fZWZmZWN0Q2ZnPW51bGwsdGhpcy5zdG9wRWZmZWN0QW5pbWF0aW9uKCksdGhpcy5vbkhvdmVyU3RhdGVDaGFuZ2U9ZnVuY3Rpb24odCl7ImVtcGhhc2lzIj09PXQ/InJlbmRlciIhPT1wLnNob3dFZmZlY3RPbiYmbi5zdGFydEVmZmVjdEFuaW1hdGlvbihwKToibm9ybWFsIj09PXQmJiJyZW5kZXIiIT09cC5zaG93RWZmZWN0T24mJm4uc3RvcEVmZmVjdEFuaW1hdGlvbigpfSksdGhpcy5fZWZmZWN0Q2ZnPXAscGwodGhpcyl9LGUucHJvdG90eXBlLmZhZGVPdXQ9ZnVuY3Rpb24odCl7dGhpcy5vZmYoIm1vdXNlb3ZlciIpLm9mZigibW91c2VvdXQiKSx0JiZ0KCl9LGV9KEJpKSx4TD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5fc3ltYm9sRHJhdz1uZXcgencoX0wpfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZ2V0RGF0YSgpLHI9dGhpcy5fc3ltYm9sRHJhdztyLnVwZGF0ZURhdGEoaSx7Y2xpcFNoYXBlOnRoaXMuX2dldENsaXBTaGFwZSh0KX0pLHRoaXMuZ3JvdXAuYWRkKHIuZ3JvdXApfSxlLnByb3RvdHlwZS5fZ2V0Q2xpcFNoYXBlPWZ1bmN0aW9uKHQpe3ZhciBlPXQuY29vcmRpbmF0ZVN5c3RlbSxuPWUmJmUuZ2V0QXJlYSYmZS5nZXRBcmVhKCk7cmV0dXJuIHQuZ2V0KCJjbGlwIiwhMCk/bjpudWxsfSxlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZ2V0RGF0YSgpO3RoaXMuZ3JvdXAuZGlydHkoKTt2YXIgcj1jUygiIikucmVzZXQodCxlLG4pO3IucHJvZ3Jlc3MmJnIucHJvZ3Jlc3Moe3N0YXJ0OjAsZW5kOmkuY291bnQoKSxjb3VudDppLmNvdW50KCl9LGkpLHRoaXMuX3N5bWJvbERyYXcudXBkYXRlTGF5b3V0KCl9LGUucHJvdG90eXBlLl91cGRhdGVHcm91cFRyYW5zZm9ybT1mdW5jdGlvbih0KXt2YXIgZT10LmNvb3JkaW5hdGVTeXN0ZW07ZSYmZS5nZXRSb2FtVHJhbnNmb3JtJiYodGhpcy5ncm91cC50cmFuc2Zvcm09cW4oZS5nZXRSb2FtVHJhbnNmb3JtKCkpLHRoaXMuZ3JvdXAuZGVjb21wb3NlVHJhbnNmb3JtKCkpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlKXt0aGlzLl9zeW1ib2xEcmF3JiZ0aGlzLl9zeW1ib2xEcmF3LnJlbW92ZSghMCl9LGUudHlwZT0iZWZmZWN0U2NhdHRlciIsZX0oWmYpLGJMPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5oYXNTeW1ib2xWaXN1YWw9ITAsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG1fKG51bGwsdGhpcyx7dXNlRW5jb2RlRGVmYXVsdGVyOiEwfSl9LGUucHJvdG90eXBlLmJydXNoU2VsZWN0b3I9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuLnBvaW50KGUuZ2V0SXRlbUxheW91dCh0KSl9LGUudHlwZT0ic2VyaWVzLmVmZmVjdFNjYXR0ZXIiLGUuZGVwZW5kZW5jaWVzPVsiZ3JpZCIsInBvbGFyIl0sZS5kZWZhdWx0T3B0aW9uPXtjb29yZGluYXRlU3lzdGVtOiJjYXJ0ZXNpYW4yZCIsemxldmVsOjAsejoyLGxlZ2VuZEhvdmVyTGluazohMCxlZmZlY3RUeXBlOiJyaXBwbGUiLHByb2dyZXNzaXZlOjAsc2hvd0VmZmVjdE9uOiJyZW5kZXIiLGNsaXA6ITAscmlwcGxlRWZmZWN0OntwZXJpb2Q6NCxzY2FsZToyLjUsYnJ1c2hUeXBlOiJmaWxsIixudW1iZXI6M30sdW5pdmVyc2FsVHJhbnNpdGlvbjp7ZGl2aWRlU2hhcGU6ImNsb25lIn0sc3ltYm9sU2l6ZToxMH0sZX0oTmYpO3ZhciB3TD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpKXt2YXIgcj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIuYWRkKHIuY3JlYXRlTGluZShlLG4saSkpLHIuX3VwZGF0ZUVmZmVjdFN5bWJvbChlLG4pLHJ9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5jcmVhdGVMaW5lPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IGdEKHQsZSxuKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUVmZmVjdFN5bWJvbD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0SXRlbU1vZGVsKGUpLmdldE1vZGVsKCJlZmZlY3QiKSxpPW4uZ2V0KCJzeW1ib2xTaXplIikscj1uLmdldCgic3ltYm9sIik7RihpKXx8KGk9W2ksaV0pO3ZhciBvPXQuZ2V0SXRlbVZpc3VhbChlLCJzdHlsZSIpLGE9bi5nZXQoImNvbG9yIil8fG8mJm8uc3Ryb2tlLHM9dGhpcy5jaGlsZEF0KDEpO3RoaXMuX3N5bWJvbFR5cGUhPT1yJiYodGhpcy5yZW1vdmUocyksKHM9ZXkociwtLjUsLS41LDEsMSxhKSkuejI9MTAwLHMuY3VsbGluZz0hMCx0aGlzLmFkZChzKSkscyYmKHMuc2V0U3R5bGUoInNoYWRvd0NvbG9yIixhKSxzLnNldFN0eWxlKG4uZ2V0SXRlbVN0eWxlKFsiY29sb3IiXSkpLHMuc2NhbGVYPWlbMF0scy5zY2FsZVk9aVsxXSxzLnNldENvbG9yKGEpLHRoaXMuX3N5bWJvbFR5cGU9cix0aGlzLl9zeW1ib2xTY2FsZT1pLHRoaXMuX3VwZGF0ZUVmZmVjdEFuaW1hdGlvbih0LG4sZSkpfSxlLnByb3RvdHlwZS5fdXBkYXRlRWZmZWN0QW5pbWF0aW9uPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLmNoaWxkQXQoMSk7aWYoaSl7dmFyIHI9dGhpcyxvPXQuZ2V0SXRlbUxheW91dChuKSxhPTFlMyplLmdldCgicGVyaW9kIikscz1lLmdldCgibG9vcCIpLGw9ZS5nZXQoImNvbnN0YW50U3BlZWQiKSx1PXR0KGUuZ2V0KCJkZWxheSIpLChmdW5jdGlvbihlKXtyZXR1cm4gZS90LmNvdW50KCkqYS8zfSkpO2lmKGkuaWdub3JlPSEwLHRoaXMuX3VwZGF0ZUFuaW1hdGlvblBvaW50cyhpLG8pLGw+MCYmKGE9dGhpcy5fZ2V0TGluZUxlbmd0aChpKS9sKjFlMyksKGEhPT10aGlzLl9wZXJpb2R8fHMhPT10aGlzLl9sb29wKSYmKGkuc3RvcEFuaW1hdGlvbigpLGE+MCkpe3ZhciBoPXZvaWQgMDtoPSJmdW5jdGlvbiI9PXR5cGVvZiB1P3Uobik6dSxpLl9fdD4wJiYoaD0tYSppLl9fdCksaS5fX3Q9MDt2YXIgYz1pLmFuaW1hdGUoIiIscykud2hlbihhLHtfX3Q6MX0pLmRlbGF5KGgpLmR1cmluZygoZnVuY3Rpb24oKXtyLl91cGRhdGVTeW1ib2xQb3NpdGlvbihpKX0pKTtzfHxjLmRvbmUoKGZ1bmN0aW9uKCl7ci5yZW1vdmUoaSl9KSksYy5zdGFydCgpfXRoaXMuX3BlcmlvZD1hLHRoaXMuX2xvb3A9c319LGUucHJvdG90eXBlLl9nZXRMaW5lTGVuZ3RoPWZ1bmN0aW9uKHQpe3JldHVybiBMdCh0Ll9fcDEsdC5fX2NwMSkrTHQodC5fX2NwMSx0Ll9fcDIpfSxlLnByb3RvdHlwZS5fdXBkYXRlQW5pbWF0aW9uUG9pbnRzPWZ1bmN0aW9uKHQsZSl7dC5fX3AxPWVbMF0sdC5fX3AyPWVbMV0sdC5fX2NwMT1lWzJdfHxbKGVbMF1bMF0rZVsxXVswXSkvMiwoZVswXVsxXStlWzFdWzFdKS8yXX0sZS5wcm90b3R5cGUudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUsbil7dGhpcy5jaGlsZEF0KDApLnVwZGF0ZURhdGEodCxlLG4pLHRoaXMuX3VwZGF0ZUVmZmVjdFN5bWJvbCh0LGUpfSxlLnByb3RvdHlwZS5fdXBkYXRlU3ltYm9sUG9zaXRpb249ZnVuY3Rpb24odCl7dmFyIGU9dC5fX3AxLG49dC5fX3AyLGk9dC5fX2NwMSxyPXQuX190LG89W3QueCx0LnldLGE9by5zbGljZSgpLHM9Wm8sbD1qbztvWzBdPXMoZVswXSxpWzBdLG5bMF0sciksb1sxXT1zKGVbMV0saVsxXSxuWzFdLHIpO3ZhciB1PWwoZVswXSxpWzBdLG5bMF0sciksaD1sKGVbMV0saVsxXSxuWzFdLHIpO3Qucm90YXRpb249LU1hdGguYXRhbjIoaCx1KS1NYXRoLlBJLzIsImxpbmUiIT09dGhpcy5fc3ltYm9sVHlwZSYmInJlY3QiIT09dGhpcy5fc3ltYm9sVHlwZSYmInJvdW5kUmVjdCIhPT10aGlzLl9zeW1ib2xUeXBlfHwodm9pZCAwIT09dC5fX2xhc3RUJiZ0Ll9fbGFzdFQ8dC5fX3Q/KHQuc2NhbGVZPTEuMDUqTHQoYSxvKSwxPT09ciYmKG9bMF09YVswXSsob1swXS1hWzBdKS8yLG9bMV09YVsxXSsob1sxXS1hWzFdKS8yKSk6MT09PXQuX19sYXN0VD90LnNjYWxlWT0yKkx0KGUsbyk6dC5zY2FsZVk9dGhpcy5fc3ltYm9sU2NhbGVbMV0pLHQuX19sYXN0VD10Ll9fdCx0Lmlnbm9yZT0hMSx0Lng9b1swXSx0Lnk9b1sxXX0sZS5wcm90b3R5cGUudXBkYXRlTGF5b3V0PWZ1bmN0aW9uKHQsZSl7dGhpcy5jaGlsZEF0KDApLnVwZGF0ZUxheW91dCh0LGUpO3ZhciBuPXQuZ2V0SXRlbU1vZGVsKGUpLmdldE1vZGVsKCJlZmZlY3QiKTt0aGlzLl91cGRhdGVFZmZlY3RBbmltYXRpb24odCxuLGUpfSxlfShCaSksU0w9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSl7dmFyIHI9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLl9jcmVhdGVQb2x5bGluZShlLG4saSkscn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLl9jcmVhdGVQb2x5bGluZT1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5nZXRJdGVtTGF5b3V0KGUpLHI9bmV3IGR1KHtzaGFwZTp7cG9pbnRzOml9fSk7dGhpcy5hZGQociksdGhpcy5fdXBkYXRlQ29tbW9uU3RsKHQsZSxuKX0sZS5wcm90b3R5cGUudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5ob3N0TW9kZWw7RXUodGhpcy5jaGlsZEF0KDApLHtzaGFwZTp7cG9pbnRzOnQuZ2V0SXRlbUxheW91dChlKX19LGksZSksdGhpcy5fdXBkYXRlQ29tbW9uU3RsKHQsZSxuKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUNvbW1vblN0bD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5jaGlsZEF0KDApLHI9dC5nZXRJdGVtTW9kZWwoZSksbz1uJiZuLmVtcGhhc2lzTGluZVN0eWxlO24mJiF0Lmhhc0l0ZW1PcHRpb258fChvPXIuZ2V0TW9kZWwoWyJlbXBoYXNpcyIsImxpbmVTdHlsZSJdKS5nZXRMaW5lU3R5bGUoKSksaS51c2VTdHlsZSh0LmdldEl0ZW1WaXN1YWwoZSwic3R5bGUiKSksaS5zdHlsZS5maWxsPW51bGwsaS5zdHlsZS5zdHJva2VOb1NjYWxlPSEwLGkuZW5zdXJlU3RhdGUoImVtcGhhc2lzIikuc3R5bGU9byxwbCh0aGlzKX0sZS5wcm90b3R5cGUudXBkYXRlTGF5b3V0PWZ1bmN0aW9uKHQsZSl7dGhpcy5jaGlsZEF0KDApLnNldFNoYXBlKCJwb2ludHMiLHQuZ2V0SXRlbUxheW91dChlKSl9LGV9KEJpKSxNTD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLl9sYXN0RnJhbWU9MCxlLl9sYXN0RnJhbWVQZXJjZW50PTAsZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmNyZWF0ZUxpbmU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcgU0wodCxlLG4pfSxlLnByb3RvdHlwZS5fdXBkYXRlQW5pbWF0aW9uUG9pbnRzPWZ1bmN0aW9uKHQsZSl7dGhpcy5fcG9pbnRzPWU7Zm9yKHZhciBuPVswXSxpPTAscj0xO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz1lW3ItMV0sYT1lW3JdO2krPUx0KG8sYSksbi5wdXNoKGkpfWlmKDAhPT1pKXtmb3Iocj0wO3I8bi5sZW5ndGg7cisrKW5bcl0vPWk7dGhpcy5fb2Zmc2V0cz1uLHRoaXMuX2xlbmd0aD1pfWVsc2UgdGhpcy5fbGVuZ3RoPTB9LGUucHJvdG90eXBlLl9nZXRMaW5lTGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlbmd0aH0sZS5wcm90b3R5cGUuX3VwZGF0ZVN5bWJvbFBvc2l0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXQuX190LG49dGhpcy5fcG9pbnRzLGk9dGhpcy5fb2Zmc2V0cyxyPW4ubGVuZ3RoO2lmKGkpe3ZhciBvLGE9dGhpcy5fbGFzdEZyYW1lO2lmKGU8dGhpcy5fbGFzdEZyYW1lUGVyY2VudCl7Zm9yKG89TWF0aC5taW4oYSsxLHItMSk7bz49MCYmIShpW29dPD1lKTtvLS0pO289TWF0aC5taW4obyxyLTIpfWVsc2V7Zm9yKG89YTtvPHImJiEoaVtvXT5lKTtvKyspO289TWF0aC5taW4oby0xLHItMil9dmFyIHM9KGUtaVtvXSkvKGlbbysxXS1pW29dKSxsPW5bb10sdT1uW28rMV07dC54PWxbMF0qKDEtcykrcyp1WzBdLHQueT1sWzFdKigxLXMpK3MqdVsxXTt2YXIgaD11WzBdLWxbMF0sYz11WzFdLWxbMV07dC5yb3RhdGlvbj0tTWF0aC5hdGFuMihjLGgpLU1hdGguUEkvMix0aGlzLl9sYXN0RnJhbWU9byx0aGlzLl9sYXN0RnJhbWVQZXJjZW50PWUsdC5pZ25vcmU9ITF9fSxlfSh3TCksSUw9ZnVuY3Rpb24oKXt0aGlzLnBvbHlsaW5lPSExLHRoaXMuY3VydmVuZXNzPTAsdGhpcy5zZWdzPVtdfSxUTD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldERlZmF1bHRTdHlsZT1mdW5jdGlvbigpe3JldHVybntzdHJva2U6IiMwMDAiLGZpbGw6bnVsbH19LGUucHJvdG90eXBlLmdldERlZmF1bHRTaGFwZT1mdW5jdGlvbigpe3JldHVybiBuZXcgSUx9LGUucHJvdG90eXBlLmJ1aWxkUGF0aD1mdW5jdGlvbih0LGUpe3ZhciBuPWUuc2VncyxpPWUuY3VydmVuZXNzO2lmKGUucG9seWxpbmUpZm9yKHZhciByPTA7cjxuLmxlbmd0aDspe3ZhciBvPW5bcisrXTtpZihvPjApe3QubW92ZVRvKG5bcisrXSxuW3IrK10pO2Zvcih2YXIgYT0xO2E8bzthKyspdC5saW5lVG8obltyKytdLG5bcisrXSl9fWVsc2UgZm9yKHI9MDtyPG4ubGVuZ3RoOyl7dmFyIHM9bltyKytdLGw9bltyKytdLHU9bltyKytdLGg9bltyKytdO2lmKHQubW92ZVRvKHMsbCksaT4wKXt2YXIgYz0ocyt1KS8yLShsLWgpKmkscD0obCtoKS8yLSh1LXMpKmk7dC5xdWFkcmF0aWNDdXJ2ZVRvKGMscCx1LGgpfWVsc2UgdC5saW5lVG8odSxoKX19LGUucHJvdG90eXBlLmZpbmREYXRhSW5kZXg9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnNoYXBlLGk9bi5zZWdzLHI9bi5jdXJ2ZW5lc3Msbz10aGlzLnN0eWxlLmxpbmVXaWR0aDtpZihuLnBvbHlsaW5lKWZvcih2YXIgYT0wLHM9MDtzPGkubGVuZ3RoOyl7dmFyIGw9aVtzKytdO2lmKGw+MClmb3IodmFyIHU9aVtzKytdLGg9aVtzKytdLGM9MTtjPGw7YysrKXtpZihSYSh1LGgscD1pW3MrK10sZD1pW3MrK10sbyx0LGUpKXJldHVybiBhfWErK31lbHNlIGZvcihhPTAscz0wO3M8aS5sZW5ndGg7KXt1PWlbcysrXSxoPWlbcysrXTt2YXIgcD1pW3MrK10sZD1pW3MrK107aWYocj4wKXtpZih6YSh1LGgsKHUrcCkvMi0oaC1kKSpyLChoK2QpLzItKHAtdSkqcixwLGQsbyx0LGUpKXJldHVybiBhfWVsc2UgaWYoUmEodSxoLHAsZCxvLHQsZSkpcmV0dXJuIGE7YSsrfXJldHVybi0xfSxlfShRYSksQ0w9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5ncm91cD1uZXcgQml9cmV0dXJuIHQucHJvdG90eXBlLmlzUGVyc2lzdGVudD1mdW5jdGlvbigpe3JldHVybiF0aGlzLl9pbmNyZW1lbnRhbH0sdC5wcm90b3R5cGUudXBkYXRlRGF0YT1mdW5jdGlvbih0KXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpO3ZhciBlPW5ldyBUTCh7cmVjdEhvdmVyOiEwLGN1cnNvcjoiZGVmYXVsdCJ9KTtlLnNldFNoYXBlKHtzZWdzOnQuZ2V0TGF5b3V0KCJsaW5lc1BvaW50cyIpfSksdGhpcy5fc2V0Q29tbW9uKGUsdCksdGhpcy5ncm91cC5hZGQoZSksdGhpcy5faW5jcmVtZW50YWw9bnVsbH0sdC5wcm90b3R5cGUuaW5jcmVtZW50YWxQcmVwYXJlVXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fY2xlYXJJbmNyZW1lbnRhbCgpLHQuY291bnQoKT41ZTU/KHRoaXMuX2luY3JlbWVudGFsfHwodGhpcy5faW5jcmVtZW50YWw9bmV3IE91KHtzaWxlbnQ6ITB9KSksdGhpcy5ncm91cC5hZGQodGhpcy5faW5jcmVtZW50YWwpKTp0aGlzLl9pbmNyZW1lbnRhbD1udWxsfSx0LnByb3RvdHlwZS5pbmNyZW1lbnRhbFVwZGF0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBUTDtuLnNldFNoYXBlKHtzZWdzOmUuZ2V0TGF5b3V0KCJsaW5lc1BvaW50cyIpfSksdGhpcy5fc2V0Q29tbW9uKG4sZSwhIXRoaXMuX2luY3JlbWVudGFsKSx0aGlzLl9pbmNyZW1lbnRhbD90aGlzLl9pbmNyZW1lbnRhbC5hZGREaXNwbGF5YWJsZShuLCEwKToobi5yZWN0SG92ZXI9ITAsbi5jdXJzb3I9ImRlZmF1bHQiLG4uX19zdGFydEluZGV4PXQuc3RhcnQsdGhpcy5ncm91cC5hZGQobikpfSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckluY3JlbWVudGFsKCksdGhpcy5faW5jcmVtZW50YWw9bnVsbCx0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSx0LnByb3RvdHlwZS5fc2V0Q29tbW9uPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1lLmhvc3RNb2RlbDt0LnNldFNoYXBlKHtwb2x5bGluZTppLmdldCgicG9seWxpbmUiKSxjdXJ2ZW5lc3M6aS5nZXQoWyJsaW5lU3R5bGUiLCJjdXJ2ZW5lc3MiXSl9KSx0LnVzZVN0eWxlKGkuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpKSx0LnN0eWxlLnN0cm9rZU5vU2NhbGU9ITA7dmFyIHI9ZS5nZXRWaXN1YWwoInN0eWxlIik7aWYociYmci5zdHJva2UmJnQuc2V0U3R5bGUoInN0cm9rZSIsci5zdHJva2UpLHQuc2V0U3R5bGUoImZpbGwiLG51bGwpLCFuKXt2YXIgbz1Tcyh0KTtvLnNlcmllc0luZGV4PWkuc2VyaWVzSW5kZXgsdC5vbigibW91c2Vtb3ZlIiwoZnVuY3Rpb24oZSl7by5kYXRhSW5kZXg9bnVsbDt2YXIgbj10LmZpbmREYXRhSW5kZXgoZS5vZmZzZXRYLGUub2Zmc2V0WSk7bj4wJiYoby5kYXRhSW5kZXg9bit0Ll9fc3RhcnRJbmRleCl9KSl9fSx0LnByb3RvdHlwZS5fY2xlYXJJbmNyZW1lbnRhbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2luY3JlbWVudGFsO3QmJnQuY2xlYXJEaXNwbGF5YmxlcygpfSx0fSgpLERMPXtzZXJpZXNUeXBlOiJsaW5lcyIscGxhbjpVZigpLHJlc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXQuY29vcmRpbmF0ZVN5c3RlbSxuPXQuZ2V0KCJwb2x5bGluZSIpLGk9dC5waXBlbGluZUNvbnRleHQubGFyZ2U7cmV0dXJue3Byb2dyZXNzOmZ1bmN0aW9uKHIsbyl7dmFyIGE9W107aWYoaSl7dmFyIHM9dm9pZCAwLGw9ci5lbmQtci5zdGFydDtpZihuKXtmb3IodmFyIHU9MCxoPXIuc3RhcnQ7aDxyLmVuZDtoKyspdSs9dC5nZXRMaW5lQ29vcmRzQ291bnQoaCk7cz1uZXcgRmxvYXQzMkFycmF5KGwrMip1KX1lbHNlIHM9bmV3IEZsb2F0MzJBcnJheSg0KmwpO3ZhciBjPTAscD1bXTtmb3IoaD1yLnN0YXJ0O2g8ci5lbmQ7aCsrKXt2YXIgZD10LmdldExpbmVDb29yZHMoaCxhKTtuJiYoc1tjKytdPWQpO2Zvcih2YXIgZj0wO2Y8ZDtmKyspcD1lLmRhdGFUb1BvaW50KGFbZl0sITEscCksc1tjKytdPXBbMF0sc1tjKytdPXBbMV19by5zZXRMYXlvdXQoImxpbmVzUG9pbnRzIixzKX1lbHNlIGZvcihoPXIuc3RhcnQ7aDxyLmVuZDtoKyspe3ZhciBnPW8uZ2V0SXRlbU1vZGVsKGgpLHk9KGQ9dC5nZXRMaW5lQ29vcmRzKGgsYSksW10pO2lmKG4pZm9yKHZhciB2PTA7djxkO3YrKyl5LnB1c2goZS5kYXRhVG9Qb2ludChhW3ZdKSk7ZWxzZXt5WzBdPWUuZGF0YVRvUG9pbnQoYVswXSkseVsxXT1lLmRhdGFUb1BvaW50KGFbMV0pO3ZhciBtPWcuZ2V0KFsibGluZVN0eWxlIiwiY3VydmVuZXNzIl0pOyttJiYoeVsyXT1bKHlbMF1bMF0reVsxXVswXSkvMi0oeVswXVsxXS15WzFdWzFdKSptLCh5WzBdWzFdK3lbMV1bMV0pLzItKHlbMV1bMF0teVswXVswXSkqbV0pfW8uc2V0SXRlbUxheW91dChoLHkpfX19fX0sQUw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldERhdGEoKSxyPXRoaXMuX3VwZGF0ZUxpbmVEcmF3KGksdCksbz10LmdldCgiemxldmVsIiksYT10LmdldChbImVmZmVjdCIsInRyYWlsTGVuZ3RoIl0pLHM9bi5nZXRacigpLGw9InN2ZyI9PT1zLnBhaW50ZXIuZ2V0VHlwZSgpOyhsfHxzLnBhaW50ZXIuZ2V0TGF5ZXIobykuY2xlYXIoITApLG51bGw9PXRoaXMuX2xhc3RabGV2ZWx8fGx8fHMuY29uZmlnTGF5ZXIodGhpcy5fbGFzdFpsZXZlbCx7bW90aW9uQmx1cjohMX0pLHRoaXMuX3Nob3dFZmZlY3QodCkmJmEpJiYobHx8cy5jb25maWdMYXllcihvLHttb3Rpb25CbHVyOiEwLGxhc3RGcmFtZUFscGhhOk1hdGgubWF4KE1hdGgubWluKGEvMTArLjksMSksMCl9KSk7ci51cGRhdGVEYXRhKGkpO3ZhciB1PXQuZ2V0KCJjbGlwIiwhMCkmJkp3KHQuY29vcmRpbmF0ZVN5c3RlbSwhMSx0KTt1P3RoaXMuZ3JvdXAuc2V0Q2xpcFBhdGgodSk6dGhpcy5ncm91cC5yZW1vdmVDbGlwUGF0aCgpLHRoaXMuX2xhc3RabGV2ZWw9byx0aGlzLl9maW5pc2hlZD0hMH0sZS5wcm90b3R5cGUuaW5jcmVtZW50YWxQcmVwYXJlUmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmdldERhdGEoKTt0aGlzLl91cGRhdGVMaW5lRHJhdyhpLHQpLmluY3JlbWVudGFsUHJlcGFyZVVwZGF0ZShpKSx0aGlzLl9jbGVhckxheWVyKG4pLHRoaXMuX2ZpbmlzaGVkPSExfSxlLnByb3RvdHlwZS5pbmNyZW1lbnRhbFJlbmRlcj1mdW5jdGlvbih0LGUsbil7dGhpcy5fbGluZURyYXcuaW5jcmVtZW50YWxVcGRhdGUodCxlLmdldERhdGEoKSksdGhpcy5fZmluaXNoZWQ9dC5lbmQ9PT1lLmdldERhdGEoKS5jb3VudCgpfSxlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZ2V0RGF0YSgpLHI9dC5waXBlbGluZUNvbnRleHQ7aWYoIXRoaXMuX2ZpbmlzaGVkfHxyLmxhcmdlfHxyLnByb2dyZXNzaXZlUmVuZGVyKXJldHVybnt1cGRhdGU6ITB9O3ZhciBvPURMLnJlc2V0KHQsZSxuKTtvLnByb2dyZXNzJiZvLnByb2dyZXNzKHtzdGFydDowLGVuZDppLmNvdW50KCksY291bnQ6aS5jb3VudCgpfSxpKSx0aGlzLl9saW5lRHJhdy51cGRhdGVMYXlvdXQoKSx0aGlzLl9jbGVhckxheWVyKG4pfSxlLnByb3RvdHlwZS5fdXBkYXRlTGluZURyYXc9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9saW5lRHJhdyxpPXRoaXMuX3Nob3dFZmZlY3QoZSkscj0hIWUuZ2V0KCJwb2x5bGluZSIpLG89ZS5waXBlbGluZUNvbnRleHQubGFyZ2U7cmV0dXJuIG4mJmk9PT10aGlzLl9oYXNFZmZldCYmcj09PXRoaXMuX2lzUG9seWxpbmUmJm89PT10aGlzLl9pc0xhcmdlRHJhd3x8KG4mJm4ucmVtb3ZlKCksbj10aGlzLl9saW5lRHJhdz1vP25ldyBDTDpuZXcgeUQocj9pP01MOlNMOmk/d0w6Z0QpLHRoaXMuX2hhc0VmZmV0PWksdGhpcy5faXNQb2x5bGluZT1yLHRoaXMuX2lzTGFyZ2VEcmF3PW8pLHRoaXMuZ3JvdXAuYWRkKG4uZ3JvdXApLG59LGUucHJvdG90eXBlLl9zaG93RWZmZWN0PWZ1bmN0aW9uKHQpe3JldHVybiEhdC5nZXQoWyJlZmZlY3QiLCJzaG93Il0pfSxlLnByb3RvdHlwZS5fY2xlYXJMYXllcj1mdW5jdGlvbih0KXt2YXIgZT10LmdldFpyKCk7InN2ZyI9PT1lLnBhaW50ZXIuZ2V0VHlwZSgpfHxudWxsPT10aGlzLl9sYXN0WmxldmVsfHxlLnBhaW50ZXIuZ2V0TGF5ZXIodGhpcy5fbGFzdFpsZXZlbCkuY2xlYXIoITApfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlKXt0aGlzLl9saW5lRHJhdyYmdGhpcy5fbGluZURyYXcucmVtb3ZlKCksdGhpcy5fbGluZURyYXc9bnVsbCx0aGlzLl9jbGVhckxheWVyKGUpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQsZSl7dGhpcy5yZW1vdmUodCxlKX0sZS50eXBlPSJsaW5lcyIsZX0oWmYpLGtMPSJ1bmRlZmluZWQiPT10eXBlb2YgVWludDMyQXJyYXk/QXJyYXk6VWludDMyQXJyYXksTEw9InVuZGVmaW5lZCI9PXR5cGVvZiBGbG9hdDY0QXJyYXk/QXJyYXk6RmxvYXQ2NEFycmF5O2Z1bmN0aW9uIFBMKHQpe3ZhciBlPXQuZGF0YTtlJiZlWzBdJiZlWzBdWzBdJiZlWzBdWzBdLmNvb3JkJiYodC5kYXRhPVIoZSwoZnVuY3Rpb24odCl7dmFyIGU9e2Nvb3JkczpbdFswXS5jb29yZCx0WzFdLmNvb3JkXX07cmV0dXJuIHRbMF0ubmFtZSYmKGUuZnJvbU5hbWU9dFswXS5uYW1lKSx0WzFdLm5hbWUmJihlLnRvTmFtZT10WzFdLm5hbWUpLEkoW2UsdFswXSx0WzFdXSl9KSkpfXZhciBPTD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4udmlzdWFsU3R5bGVBY2Nlc3NQYXRoPSJsaW5lU3R5bGUiLG4udmlzdWFsRHJhd1R5cGU9InN0cm9rZSIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSl7ZS5kYXRhPWUuZGF0YXx8W10sUEwoZSk7dmFyIG49dGhpcy5fcHJvY2Vzc0ZsYXRDb29yZHNBcnJheShlLmRhdGEpO3RoaXMuX2ZsYXRDb29yZHM9bi5mbGF0Q29vcmRzLHRoaXMuX2ZsYXRDb29yZHNPZmZzZXQ9bi5mbGF0Q29vcmRzT2Zmc2V0LG4uZmxhdENvb3JkcyYmKGUuZGF0YT1uZXcgRmxvYXQzMkFycmF5KG4uY291bnQpKSx0LnByb3RvdHlwZS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24oZSl7aWYoUEwoZSksZS5kYXRhKXt2YXIgbj10aGlzLl9wcm9jZXNzRmxhdENvb3Jkc0FycmF5KGUuZGF0YSk7dGhpcy5fZmxhdENvb3Jkcz1uLmZsYXRDb29yZHMsdGhpcy5fZmxhdENvb3Jkc09mZnNldD1uLmZsYXRDb29yZHNPZmZzZXQsbi5mbGF0Q29vcmRzJiYoZS5kYXRhPW5ldyBGbG9hdDMyQXJyYXkobi5jb3VudCkpfXQucHJvdG90eXBlLm1lcmdlT3B0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5wcm90b3R5cGUuYXBwZW5kRGF0YT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9wcm9jZXNzRmxhdENvb3Jkc0FycmF5KHQuZGF0YSk7ZS5mbGF0Q29vcmRzJiYodGhpcy5fZmxhdENvb3Jkcz8odGhpcy5fZmxhdENvb3Jkcz1wdCh0aGlzLl9mbGF0Q29vcmRzLGUuZmxhdENvb3JkcyksdGhpcy5fZmxhdENvb3Jkc09mZnNldD1wdCh0aGlzLl9mbGF0Q29vcmRzT2Zmc2V0LGUuZmxhdENvb3Jkc09mZnNldCkpOih0aGlzLl9mbGF0Q29vcmRzPWUuZmxhdENvb3Jkcyx0aGlzLl9mbGF0Q29vcmRzT2Zmc2V0PWUuZmxhdENvb3Jkc09mZnNldCksdC5kYXRhPW5ldyBGbG9hdDMyQXJyYXkoZS5jb3VudCkpLHRoaXMuZ2V0UmF3RGF0YSgpLmFwcGVuZERhdGEodC5kYXRhKX0sZS5wcm90b3R5cGUuX2dldENvb3Jkc0Zyb21JdGVtTW9kZWw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXREYXRhKCkuZ2V0SXRlbU1vZGVsKHQpLG49ZS5vcHRpb24gaW5zdGFuY2VvZiBBcnJheT9lLm9wdGlvbjplLmdldFNoYWxsb3coImNvb3JkcyIpO3JldHVybiBufSxlLnByb3RvdHlwZS5nZXRMaW5lQ29vcmRzQ291bnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2ZsYXRDb29yZHNPZmZzZXQ/dGhpcy5fZmxhdENvb3Jkc09mZnNldFsyKnQrMV06dGhpcy5fZ2V0Q29vcmRzRnJvbUl0ZW1Nb2RlbCh0KS5sZW5ndGh9LGUucHJvdG90eXBlLmdldExpbmVDb29yZHM9ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9mbGF0Q29vcmRzT2Zmc2V0KXtmb3IodmFyIG49dGhpcy5fZmxhdENvb3Jkc09mZnNldFsyKnRdLGk9dGhpcy5fZmxhdENvb3Jkc09mZnNldFsyKnQrMV0scj0wO3I8aTtyKyspZVtyXT1lW3JdfHxbXSxlW3JdWzBdPXRoaXMuX2ZsYXRDb29yZHNbbisyKnJdLGVbcl1bMV09dGhpcy5fZmxhdENvb3Jkc1tuKzIqcisxXTtyZXR1cm4gaX12YXIgbz10aGlzLl9nZXRDb29yZHNGcm9tSXRlbU1vZGVsKHQpO2ZvcihyPTA7cjxvLmxlbmd0aDtyKyspZVtyXT1lW3JdfHxbXSxlW3JdWzBdPW9bcl1bMF0sZVtyXVsxXT1vW3JdWzFdO3JldHVybiBvLmxlbmd0aH0sZS5wcm90b3R5cGUuX3Byb2Nlc3NGbGF0Q29vcmRzQXJyYXk9ZnVuY3Rpb24odCl7dmFyIGU9MDtpZih0aGlzLl9mbGF0Q29vcmRzJiYoZT10aGlzLl9mbGF0Q29vcmRzLmxlbmd0aCksIm51bWJlciI9PXR5cGVvZiB0WzBdKXtmb3IodmFyIG49dC5sZW5ndGgsaT1uZXcga0wobikscj1uZXcgTEwobiksbz0wLGE9MCxzPTAsbD0wO2w8bjspe3MrKzt2YXIgdT10W2wrK107aVthKytdPW8rZSxpW2ErK109dTtmb3IodmFyIGg9MDtoPHU7aCsrKXt2YXIgYz10W2wrK10scD10W2wrK107cltvKytdPWMscltvKytdPXB9fXJldHVybntmbGF0Q29vcmRzT2Zmc2V0Om5ldyBVaW50MzJBcnJheShpLmJ1ZmZlciwwLGEpLGZsYXRDb29yZHM6cixjb3VudDpzfX1yZXR1cm57ZmxhdENvb3Jkc09mZnNldDpudWxsLGZsYXRDb29yZHM6bnVsbCxjb3VudDp0Lmxlbmd0aH19LGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IHVfKFsidmFsdWUiXSx0aGlzKTtyZXR1cm4gbi5oYXNJdGVtT3B0aW9uPSExLG4uaW5pdERhdGEodC5kYXRhLFtdLChmdW5jdGlvbih0LGUsaSxyKXtpZih0IGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuIE5hTjtuLmhhc0l0ZW1PcHRpb249ITA7dmFyIG89dC52YWx1ZTtyZXR1cm4gbnVsbCE9bz9vIGluc3RhbmNlb2YgQXJyYXk/b1tyXTpvOnZvaWQgMH0pKSxufSxlLnByb3RvdHlwZS5mb3JtYXRUb29sdGlwPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLmdldERhdGEoKS5nZXRJdGVtTW9kZWwodCkscj1pLmdldCgibmFtZSIpO2lmKHIpcmV0dXJuIHI7dmFyIG89aS5nZXQoImZyb21OYW1lIiksYT1pLmdldCgidG9OYW1lIikscz1bXTtyZXR1cm4gbnVsbCE9byYmcy5wdXNoKG8pLG51bGwhPWEmJnMucHVzaChhKSx3ZigibmFtZVZhbHVlIix7bmFtZTpzLmpvaW4oIiA+ICIpfSl9LGUucHJvdG90eXBlLnByZXZlbnRJbmNyZW1lbnRhbD1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5nZXQoWyJlZmZlY3QiLCJzaG93Il0pfSxlLnByb3RvdHlwZS5nZXRQcm9ncmVzc2l2ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uLnByb2dyZXNzaXZlO3JldHVybiBudWxsPT10P3RoaXMub3B0aW9uLmxhcmdlPzFlNDp0aGlzLmdldCgicHJvZ3Jlc3NpdmUiKTp0fSxlLnByb3RvdHlwZS5nZXRQcm9ncmVzc2l2ZVRocmVzaG9sZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uLnByb2dyZXNzaXZlVGhyZXNob2xkO3JldHVybiBudWxsPT10P3RoaXMub3B0aW9uLmxhcmdlPzJlNDp0aGlzLmdldCgicHJvZ3Jlc3NpdmVUaHJlc2hvbGQiKTp0fSxlLnR5cGU9InNlcmllcy5saW5lcyIsZS5kZXBlbmRlbmNpZXM9WyJncmlkIiwicG9sYXIiLCJnZW8iLCJjYWxlbmRhciJdLGUuZGVmYXVsdE9wdGlvbj17Y29vcmRpbmF0ZVN5c3RlbToiZ2VvIix6bGV2ZWw6MCx6OjIsbGVnZW5kSG92ZXJMaW5rOiEwLHhBeGlzSW5kZXg6MCx5QXhpc0luZGV4OjAsc3ltYm9sOlsibm9uZSIsIm5vbmUiXSxzeW1ib2xTaXplOlsxMCwxMF0sZ2VvSW5kZXg6MCxlZmZlY3Q6e3Nob3c6ITEscGVyaW9kOjQsY29uc3RhbnRTcGVlZDowLHN5bWJvbDoiY2lyY2xlIixzeW1ib2xTaXplOjMsbG9vcDohMCx0cmFpbExlbmd0aDouMn0sbGFyZ2U6ITEsbGFyZ2VUaHJlc2hvbGQ6MmUzLHBvbHlsaW5lOiExLGNsaXA6ITAsbGFiZWw6e3Nob3c6ITEscG9zaXRpb246ImVuZCJ9LGxpbmVTdHlsZTp7b3BhY2l0eTouNX19LGV9KE5mKTtmdW5jdGlvbiBSTCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEFycmF5fHwodD1bdCx0XSksdH12YXIgTkw9e3Nlcmllc1R5cGU6ImxpbmVzIixyZXNldDpmdW5jdGlvbih0KXt2YXIgZT1STCh0LmdldCgic3ltYm9sIikpLG49UkwodC5nZXQoInN5bWJvbFNpemUiKSksaT10LmdldERhdGEoKTtyZXR1cm4gaS5zZXRWaXN1YWwoImZyb21TeW1ib2wiLGUmJmVbMF0pLGkuc2V0VmlzdWFsKCJ0b1N5bWJvbCIsZSYmZVsxXSksaS5zZXRWaXN1YWwoImZyb21TeW1ib2xTaXplIixuJiZuWzBdKSxpLnNldFZpc3VhbCgidG9TeW1ib2xTaXplIixuJiZuWzFdKSx7ZGF0YUVhY2g6aS5oYXNJdGVtT3B0aW9uP2Z1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRJdGVtTW9kZWwoZSksaT1STChuLmdldFNoYWxsb3coInN5bWJvbCIsITApKSxyPVJMKG4uZ2V0U2hhbGxvdygic3ltYm9sU2l6ZSIsITApKTtpWzBdJiZ0LnNldEl0ZW1WaXN1YWwoZSwiZnJvbVN5bWJvbCIsaVswXSksaVsxXSYmdC5zZXRJdGVtVmlzdWFsKGUsInRvU3ltYm9sIixpWzFdKSxyWzBdJiZ0LnNldEl0ZW1WaXN1YWwoZSwiZnJvbVN5bWJvbFNpemUiLHJbMF0pLHJbMV0mJnQuc2V0SXRlbVZpc3VhbChlLCJ0b1N5bWJvbFNpemUiLHJbMV0pfTpudWxsfX19O3ZhciB6TD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmJsdXJTaXplPTMwLHRoaXMucG9pbnRTaXplPTIwLHRoaXMubWF4T3BhY2l0eT0xLHRoaXMubWluT3BhY2l0eT0wLHRoaXMuX2dyYWRpZW50UGl4ZWxzPXtpblJhbmdlOm51bGwsb3V0T2ZSYW5nZTpudWxsfTt2YXIgdD1EKCk7dGhpcy5jYW52YXM9dH1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYT10aGlzLl9nZXRCcnVzaCgpLHM9dGhpcy5fZ2V0R3JhZGllbnQociwiaW5SYW5nZSIpLGw9dGhpcy5fZ2V0R3JhZGllbnQociwib3V0T2ZSYW5nZSIpLHU9dGhpcy5wb2ludFNpemUrdGhpcy5ibHVyU2l6ZSxoPXRoaXMuY2FudmFzLGM9aC5nZXRDb250ZXh0KCIyZCIpLHA9dC5sZW5ndGg7aC53aWR0aD1lLGguaGVpZ2h0PW47Zm9yKHZhciBkPTA7ZDxwOysrZCl7dmFyIGY9dFtkXSxnPWZbMF0seT1mWzFdLHY9aShmWzJdKTtjLmdsb2JhbEFscGhhPXYsYy5kcmF3SW1hZ2UoYSxnLXUseS11KX1pZighaC53aWR0aHx8IWguaGVpZ2h0KXJldHVybiBoO2Zvcih2YXIgbT1jLmdldEltYWdlRGF0YSgwLDAsaC53aWR0aCxoLmhlaWdodCksXz1tLmRhdGEseD0wLGI9Xy5sZW5ndGgsdz10aGlzLm1pbk9wYWNpdHksUz10aGlzLm1heE9wYWNpdHktdzt4PGI7KXt2PV9beCszXS8yNTY7dmFyIE09NCpNYXRoLmZsb29yKDI1NSp2KTtpZih2PjApe3ZhciBJPW8odik/czpsO3Y+MCYmKHY9dipTK3cpLF9beCsrXT1JW01dLF9beCsrXT1JW00rMV0sX1t4KytdPUlbTSsyXSxfW3grK109SVtNKzNdKnYqMjU2fWVsc2UgeCs9NH1yZXR1cm4gYy5wdXRJbWFnZURhdGEobSwwLDApLGh9LHQucHJvdG90eXBlLl9nZXRCcnVzaD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2JydXNoQ2FudmFzfHwodGhpcy5fYnJ1c2hDYW52YXM9RCgpKSxlPXRoaXMucG9pbnRTaXplK3RoaXMuYmx1clNpemUsbj0yKmU7dC53aWR0aD1uLHQuaGVpZ2h0PW47dmFyIGk9dC5nZXRDb250ZXh0KCIyZCIpO3JldHVybiBpLmNsZWFyUmVjdCgwLDAsbixuKSxpLnNoYWRvd09mZnNldFg9bixpLnNoYWRvd0JsdXI9dGhpcy5ibHVyU2l6ZSxpLnNoYWRvd0NvbG9yPSIjMDAwIixpLmJlZ2luUGF0aCgpLGkuYXJjKC1lLGUsdGhpcy5wb2ludFNpemUsMCwyKk1hdGguUEksITApLGkuY2xvc2VQYXRoKCksaS5maWxsKCksdH0sdC5wcm90b3R5cGUuX2dldEdyYWRpZW50PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMuX2dyYWRpZW50UGl4ZWxzLGk9bltlXXx8KG5bZV09bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KDEwMjQpKSxyPVswLDAsMCwwXSxvPTAsYT0wO2E8MjU2O2ErKyl0W2VdKGEvMjU1LCEwLHIpLGlbbysrXT1yWzBdLGlbbysrXT1yWzFdLGlbbysrXT1yWzJdLGlbbysrXT1yWzNdO3JldHVybiBpfSx0fSgpO2Z1bmN0aW9uIEVMKHQpe3ZhciBlPXQuZGltZW5zaW9ucztyZXR1cm4ibG5nIj09PWVbMF0mJiJsYXQiPT09ZVsxXX12YXIgVkw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaTtlLmVhY2hDb21wb25lbnQoInZpc3VhbE1hcCIsKGZ1bmN0aW9uKGUpe2UuZWFjaFRhcmdldFNlcmllcygoZnVuY3Rpb24obil7bj09PXQmJihpPWUpfSkpfSkpLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdGhpcy5faW5jcmVtZW50YWxEaXNwbGF5YWJsZT1udWxsO3ZhciByPXQuY29vcmRpbmF0ZVN5c3RlbTsiY2FydGVzaWFuMmQiPT09ci50eXBlfHwiY2FsZW5kYXIiPT09ci50eXBlP3RoaXMuX3JlbmRlck9uQ2FydGVzaWFuQW5kQ2FsZW5kYXIodCxuLDAsdC5nZXREYXRhKCkuY291bnQoKSk6RUwocikmJnRoaXMuX3JlbmRlck9uR2VvKHIsdCxpLG4pfSxlLnByb3RvdHlwZS5pbmNyZW1lbnRhbFByZXBhcmVSZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCl9LGUucHJvdG90eXBlLmluY3JlbWVudGFsUmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPWUuY29vcmRpbmF0ZVN5c3RlbTtyJiYoRUwocik/dGhpcy5yZW5kZXIoZSxuLGkpOnRoaXMuX3JlbmRlck9uQ2FydGVzaWFuQW5kQ2FsZW5kYXIoZSxpLHQuc3RhcnQsdC5lbmQsITApKX0sZS5wcm90b3R5cGUuX3JlbmRlck9uQ2FydGVzaWFuQW5kQ2FsZW5kYXI9ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbyxhLHMsbCx1PXQuY29vcmRpbmF0ZVN5c3RlbTtpZihRdyh1LCJjYXJ0ZXNpYW4yZCIpKXt2YXIgaD11LmdldEF4aXMoIngiKSxjPXUuZ2V0QXhpcygieSIpOzAsbz1oLmdldEJhbmRXaWR0aCgpLGE9Yy5nZXRCYW5kV2lkdGgoKSxzPWguc2NhbGUuZ2V0RXh0ZW50KCksbD1jLnNjYWxlLmdldEV4dGVudCgpfWZvcih2YXIgcD10aGlzLmdyb3VwLGQ9dC5nZXREYXRhKCksZj10LmdldE1vZGVsKFsiZW1waGFzaXMiLCJpdGVtU3R5bGUiXSkuZ2V0SXRlbVN0eWxlKCksZz10LmdldE1vZGVsKFsiYmx1ciIsIml0ZW1TdHlsZSJdKS5nZXRJdGVtU3R5bGUoKSx5PXQuZ2V0TW9kZWwoWyJzZWxlY3QiLCJpdGVtU3R5bGUiXSkuZ2V0SXRlbVN0eWxlKCksdj1iaCh0KSxtPXQuZ2V0KFsiZW1waGFzaXMiLCJmb2N1cyJdKSxfPXQuZ2V0KFsiZW1waGFzaXMiLCJibHVyU2NvcGUiXSkseD1Rdyh1LCJjYXJ0ZXNpYW4yZCIpP1tkLm1hcERpbWVuc2lvbigieCIpLGQubWFwRGltZW5zaW9uKCJ5IiksZC5tYXBEaW1lbnNpb24oInZhbHVlIildOltkLm1hcERpbWVuc2lvbigidGltZSIpLGQubWFwRGltZW5zaW9uKCJ2YWx1ZSIpXSxiPW47YjxpO2IrKyl7dmFyIHc9dm9pZCAwLFM9ZC5nZXRJdGVtVmlzdWFsKGIsInN0eWxlIik7aWYoUXcodSwiY2FydGVzaWFuMmQiKSl7dmFyIE09ZC5nZXQoeFswXSxiKSxJPWQuZ2V0KHhbMV0sYik7aWYoaXNOYU4oZC5nZXQoeFsyXSxiKSl8fE08c1swXXx8TT5zWzFdfHxJPGxbMF18fEk+bFsxXSljb250aW51ZTt2YXIgVD11LmRhdGFUb1BvaW50KFtNLEldKTt3PW5ldyBjcyh7c2hhcGU6e3g6TWF0aC5mbG9vcihNYXRoLnJvdW5kKFRbMF0pLW8vMikseTpNYXRoLmZsb29yKE1hdGgucm91bmQoVFsxXSktYS8yKSx3aWR0aDpNYXRoLmNlaWwobyksaGVpZ2h0Ok1hdGguY2VpbChhKX0sc3R5bGU6U30pfWVsc2V7aWYoaXNOYU4oZC5nZXQoeFsxXSxiKSkpY29udGludWU7dz1uZXcgY3Moe3oyOjEsc2hhcGU6dS5kYXRhVG9SZWN0KFtkLmdldCh4WzBdLGIpXSkuY29udGVudFNoYXBlLHN0eWxlOlN9KX12YXIgQz1kLmdldEl0ZW1Nb2RlbChiKTtpZihkLmhhc0l0ZW1PcHRpb24pe3ZhciBEPUMuZ2V0TW9kZWwoImVtcGhhc2lzIik7Zj1ELmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSxnPUMuZ2V0TW9kZWwoWyJibHVyIiwiaXRlbVN0eWxlIl0pLmdldEl0ZW1TdHlsZSgpLHk9Qy5nZXRNb2RlbChbInNlbGVjdCIsIml0ZW1TdHlsZSJdKS5nZXRJdGVtU3R5bGUoKSxtPUQuZ2V0KCJmb2N1cyIpLF89RC5nZXQoImJsdXJTY29wZSIpLHY9YmgoQyl9dmFyIEE9dC5nZXRSYXdWYWx1ZShiKSxrPSItIjtBJiZudWxsIT1BWzJdJiYoaz1BWzJdKyIiKSx4aCh3LHYse2xhYmVsRmV0Y2hlcjp0LGxhYmVsRGF0YUluZGV4OmIsZGVmYXVsdE9wYWNpdHk6Uy5vcGFjaXR5LGRlZmF1bHRUZXh0Omt9KSx3LmVuc3VyZVN0YXRlKCJlbXBoYXNpcyIpLnN0eWxlPWYsdy5lbnN1cmVTdGF0ZSgiYmx1ciIpLnN0eWxlPWcsdy5lbnN1cmVTdGF0ZSgic2VsZWN0Iikuc3R5bGU9eSxwbCh3LG0sXyksdy5pbmNyZW1lbnRhbD1yLHImJih3LnN0YXRlcy5lbXBoYXNpcy5ob3ZlckxheWVyPSEwKSxwLmFkZCh3KSxkLnNldEl0ZW1HcmFwaGljRWwoYix3KX19LGUucHJvdG90eXBlLl9yZW5kZXJPbkdlbz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1uLnRhcmdldFZpc3VhbHMuaW5SYW5nZSxvPW4udGFyZ2V0VmlzdWFscy5vdXRPZlJhbmdlLGE9ZS5nZXREYXRhKCkscz10aGlzLl9obUxheWVyfHx0aGlzLl9obUxheWVyfHxuZXcgekw7cy5ibHVyU2l6ZT1lLmdldCgiYmx1clNpemUiKSxzLnBvaW50U2l6ZT1lLmdldCgicG9pbnRTaXplIikscy5taW5PcGFjaXR5PWUuZ2V0KCJtaW5PcGFjaXR5Iikscy5tYXhPcGFjaXR5PWUuZ2V0KCJtYXhPcGFjaXR5Iik7dmFyIGw9dC5nZXRWaWV3UmVjdCgpLmNsb25lKCksdT10LmdldFJvYW1UcmFuc2Zvcm0oKTtsLmFwcGx5VHJhbnNmb3JtKHUpO3ZhciBoPU1hdGgubWF4KGwueCwwKSxjPU1hdGgubWF4KGwueSwwKSxwPU1hdGgubWluKGwud2lkdGgrbC54LGkuZ2V0V2lkdGgoKSksZD1NYXRoLm1pbihsLmhlaWdodCtsLnksaS5nZXRIZWlnaHQoKSksZj1wLWgsZz1kLWMseT1bYS5tYXBEaW1lbnNpb24oImxuZyIpLGEubWFwRGltZW5zaW9uKCJsYXQiKSxhLm1hcERpbWVuc2lvbigidmFsdWUiKV0sdj1hLm1hcEFycmF5KHksKGZ1bmN0aW9uKGUsbixpKXt2YXIgcj10LmRhdGFUb1BvaW50KFtlLG5dKTtyZXR1cm4gclswXS09aCxyWzFdLT1jLHIucHVzaChpKSxyfSkpLG09bi5nZXRFeHRlbnQoKSxfPSJ2aXN1YWxNYXAuY29udGludW91cyI9PT1uLnR5cGU/ZnVuY3Rpb24odCxlKXt2YXIgbj10WzFdLXRbMF07cmV0dXJuIGU9WyhlWzBdLXRbMF0pL24sKGVbMV0tdFswXSkvbl0sZnVuY3Rpb24odCl7cmV0dXJuIHQ+PWVbMF0mJnQ8PWVbMV19fShtLG4ub3B0aW9uLnJhbmdlKTpmdW5jdGlvbih0LGUsbil7dmFyIGk9dFsxXS10WzBdLHI9KGU9UihlLChmdW5jdGlvbihlKXtyZXR1cm57aW50ZXJ2YWw6WyhlLmludGVydmFsWzBdLXRbMF0pL2ksKGUuaW50ZXJ2YWxbMV0tdFswXSkvaV19fSkpKS5sZW5ndGgsbz0wO3JldHVybiBmdW5jdGlvbih0KXt2YXIgaTtmb3IoaT1vO2k8cjtpKyspaWYoKGE9ZVtpXS5pbnRlcnZhbClbMF08PXQmJnQ8PWFbMV0pe289aTticmVha31pZihpPT09cilmb3IoaT1vLTE7aT49MDtpLS0pe3ZhciBhO2lmKChhPWVbaV0uaW50ZXJ2YWwpWzBdPD10JiZ0PD1hWzFdKXtvPWk7YnJlYWt9fXJldHVybiBpPj0wJiZpPHImJm5baV19fShtLG4uZ2V0UGllY2VMaXN0KCksbi5vcHRpb24uc2VsZWN0ZWQpO3MudXBkYXRlKHYsZixnLHIuY29sb3IuZ2V0Tm9ybWFsaXplcigpLHtpblJhbmdlOnIuY29sb3IuZ2V0Q29sb3JNYXBwZXIoKSxvdXRPZlJhbmdlOm8uY29sb3IuZ2V0Q29sb3JNYXBwZXIoKX0sXyk7dmFyIHg9bmV3IHJzKHtzdHlsZTp7d2lkdGg6ZixoZWlnaHQ6Zyx4OmgseTpjLGltYWdlOnMuY2FudmFzfSxzaWxlbnQ6ITB9KTt0aGlzLmdyb3VwLmFkZCh4KX0sZS50eXBlPSJoZWF0bWFwIixlfShaZiksQkw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbV8obnVsbCx0aGlzLHtnZW5lcmF0ZUNvb3JkOiJ2YWx1ZSJ9KX0sZS5wcm90b3R5cGUucHJldmVudEluY3JlbWVudGFsPWZ1bmN0aW9uKCl7dmFyIHQ9R3AuZ2V0KHRoaXMuZ2V0KCJjb29yZGluYXRlU3lzdGVtIikpO2lmKHQmJnQuZGltZW5zaW9ucylyZXR1cm4ibG5nIj09PXQuZGltZW5zaW9uc1swXSYmImxhdCI9PT10LmRpbWVuc2lvbnNbMV19LGUudHlwZT0ic2VyaWVzLmhlYXRtYXAiLGUuZGVwZW5kZW5jaWVzPVsiZ3JpZCIsImdlbyIsImNhbGVuZGFyIl0sZS5kZWZhdWx0T3B0aW9uPXtjb29yZGluYXRlU3lzdGVtOiJjYXJ0ZXNpYW4yZCIsemxldmVsOjAsejoyLGdlb0luZGV4OjAsYmx1clNpemU6MzAscG9pbnRTaXplOjIwLG1heE9wYWNpdHk6MSxtaW5PcGFjaXR5OjAsc2VsZWN0OntpdGVtU3R5bGU6e2JvcmRlckNvbG9yOiIjMjEyMTIxIn19fSxlfShOZik7dmFyIEdMPVsiaXRlbVN0eWxlIiwiYm9yZGVyV2lkdGgiXSxGTD1be3h5OiJ4Iix3aDoid2lkdGgiLGluZGV4OjAscG9zRGVzYzpbImxlZnQiLCJyaWdodCJdfSx7eHk6InkiLHdoOiJoZWlnaHQiLGluZGV4OjEscG9zRGVzYzpbInRvcCIsImJvdHRvbSJdfV0sSEw9bmV3IEhsLFdMPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5ncm91cCxyPXQuZ2V0RGF0YSgpLG89dGhpcy5fZGF0YSxhPXQuY29vcmRpbmF0ZVN5c3RlbSxzPWEuZ2V0QmFzZUF4aXMoKS5pc0hvcml6b250YWwoKSxsPWEubWFzdGVyLmdldFJlY3QoKSx1PXtlY1NpemU6e3dpZHRoOm4uZ2V0V2lkdGgoKSxoZWlnaHQ6bi5nZXRIZWlnaHQoKX0sc2VyaWVzTW9kZWw6dCxjb29yZFN5czphLGNvb3JkU3lzRXh0ZW50OltbbC54LGwueCtsLndpZHRoXSxbbC55LGwueStsLmhlaWdodF1dLGlzSG9yaXpvbnRhbDpzLHZhbHVlRGltOkZMWytzXSxjYXRlZ29yeURpbTpGTFsxLStzXX07cmV0dXJuIHIuZGlmZihvKS5hZGQoKGZ1bmN0aW9uKHQpe2lmKHIuaGFzVmFsdWUodCkpe3ZhciBlPSRMKHIsdCksbj1VTChyLHQsZSx1KSxvPXRQKHIsdSxuKTtyLnNldEl0ZW1HcmFwaGljRWwodCxvKSxpLmFkZChvKSxvUChvLHUsbil9fSkpLnVwZGF0ZSgoZnVuY3Rpb24odCxlKXt2YXIgbj1vLmdldEl0ZW1HcmFwaGljRWwoZSk7aWYoci5oYXNWYWx1ZSh0KSl7dmFyIGE9JEwocix0KSxzPVVMKHIsdCxhLHUpLGw9blAocixzKTtuJiZsIT09bi5fX3BpY3RvcmlhbFNoYXBlU3RyJiYoaS5yZW1vdmUobiksci5zZXRJdGVtR3JhcGhpY0VsKHQsbnVsbCksbj1udWxsKSxuP2Z1bmN0aW9uKHQsZSxuKXt2YXIgaT1uLmFuaW1hdGlvbk1vZGVsLHI9bi5kYXRhSW5kZXg7RXUodC5fX3BpY3RvcmlhbEJ1bmRsZSx7eDpuLmJ1bmRsZVBvc2l0aW9uWzBdLHk6bi5idW5kbGVQb3NpdGlvblsxXX0saSxyKSxuLnN5bWJvbFJlcGVhdD9aTCh0LGUsbiwhMCk6akwodCxlLG4sITApO3FMKHQsbiwhMCksS0wodCxlLG4sITApfShuLHUscyk6bj10UChyLHUscywhMCksci5zZXRJdGVtR3JhcGhpY0VsKHQsbiksbi5fX3BpY3RvcmlhbFN5bWJvbE1ldGE9cyxpLmFkZChuKSxvUChuLHUscyl9ZWxzZSBpLnJlbW92ZShuKX0pKS5yZW1vdmUoKGZ1bmN0aW9uKHQpe3ZhciBlPW8uZ2V0SXRlbUdyYXBoaWNFbCh0KTtlJiZlUChvLHQsZS5fX3BpY3RvcmlhbFN5bWJvbE1ldGEuYW5pbWF0aW9uTW9kZWwsZSl9KSkuZXhlY3V0ZSgpLHRoaXMuX2RhdGE9cix0aGlzLmdyb3VwfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmdyb3VwLGk9dGhpcy5fZGF0YTt0LmdldCgiYW5pbWF0aW9uIik/aSYmaS5lYWNoSXRlbUdyYXBoaWNFbCgoZnVuY3Rpb24oZSl7ZVAoaSxTcyhlKS5kYXRhSW5kZXgsdCxlKX0pKTpuLnJlbW92ZUFsbCgpfSxlLnR5cGU9InBpY3RvcmlhbEJhciIsZX0oWmYpO2Z1bmN0aW9uIFVMKHQsZSxuLGkpe3ZhciByPXQuZ2V0SXRlbUxheW91dChlKSxvPW4uZ2V0KCJzeW1ib2xSZXBlYXQiKSxhPW4uZ2V0KCJzeW1ib2xDbGlwIikscz1uLmdldCgic3ltYm9sUG9zaXRpb24iKXx8InN0YXJ0IixsPShuLmdldCgic3ltYm9sUm90YXRlIil8fDApKk1hdGguUEkvMTgwfHwwLHU9bi5nZXQoInN5bWJvbFBhdHRlcm5TaXplIil8fDIsaD1uLmlzQW5pbWF0aW9uRW5hYmxlZCgpLGM9e2RhdGFJbmRleDplLGxheW91dDpyLGl0ZW1Nb2RlbDpuLHN5bWJvbFR5cGU6dC5nZXRJdGVtVmlzdWFsKGUsInN5bWJvbCIpfHwiY2lyY2xlIixzdHlsZTp0LmdldEl0ZW1WaXN1YWwoZSwic3R5bGUiKSxzeW1ib2xDbGlwOmEsc3ltYm9sUmVwZWF0Om8sc3ltYm9sUmVwZWF0RGlyZWN0aW9uOm4uZ2V0KCJzeW1ib2xSZXBlYXREaXJlY3Rpb24iKSxzeW1ib2xQYXR0ZXJuU2l6ZTp1LHJvdGF0aW9uOmwsYW5pbWF0aW9uTW9kZWw6aD9uOm51bGwsaG92ZXJTY2FsZTpoJiZuLmdldChbImVtcGhhc2lzIiwic2NhbGUiXSksejI6bi5nZXRTaGFsbG93KCJ6IiwhMCl8fDB9OyFmdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvLGE9aS52YWx1ZURpbSxzPXQuZ2V0KCJzeW1ib2xCb3VuZGluZ0RhdGEiKSxsPWkuY29vcmRTeXMuZ2V0T3RoZXJBeGlzKGkuY29vcmRTeXMuZ2V0QmFzZUF4aXMoKSksdT1sLnRvR2xvYmFsQ29vcmQobC5kYXRhVG9Db29yZCgwKSksaD0xLSsoblthLndoXTw9MCk7aWYoRihzKSl7dmFyIGM9W1hMKGwsc1swXSktdSxYTChsLHNbMV0pLXVdO2NbMV08Y1swXSYmYy5yZXZlcnNlKCksbz1jW2hdfWVsc2Ugbz1udWxsIT1zP1hMKGwscyktdTplP2kuY29vcmRTeXNFeHRlbnRbYS5pbmRleF1baF0tdTpuW2Eud2hdO3IuYm91bmRpbmdMZW5ndGg9byxlJiYoci5yZXBlYXRDdXRMZW5ndGg9blthLndoXSk7ci5weFNpZ249bz4wPzE6bzwwPy0xOjB9KG4sbyxyLGksYyksZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzLGwsdSl7dmFyIGgsYz1sLnZhbHVlRGltLHA9bC5jYXRlZ29yeURpbSxkPU1hdGguYWJzKG5bcC53aF0pLGY9dC5nZXRJdGVtVmlzdWFsKGUsInN5bWJvbFNpemUiKTtoPUYoZik/Zi5zbGljZSgpOm51bGw9PWY/WyIxMDAlIiwiMTAwJSJdOltmLGZdO2hbcC5pbmRleF09cWkoaFtwLmluZGV4XSxkKSxoW2MuaW5kZXhdPXFpKGhbYy5pbmRleF0saT9kOk1hdGguYWJzKG8pKSx1LnN5bWJvbFNpemU9aCwodS5zeW1ib2xTY2FsZT1baFswXS9zLGhbMV0vc10pW2MuaW5kZXhdKj0obC5pc0hvcml6b250YWw/LTE6MSkqYX0odCxlLHIsbywwLGMuYm91bmRpbmdMZW5ndGgsYy5weFNpZ24sdSxpLGMpLGZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89dC5nZXQoR0wpfHwwO28mJihITC5hdHRyKHtzY2FsZVg6ZVswXSxzY2FsZVk6ZVsxXSxyb3RhdGlvbjpufSksSEwudXBkYXRlVHJhbnNmb3JtKCksby89SEwuZ2V0TGluZVNjYWxlKCksbyo9ZVtpLnZhbHVlRGltLmluZGV4XSk7ci52YWx1ZUxpbmVXaWR0aD1vfShuLGMuc3ltYm9sU2NhbGUsbCxpLGMpO3ZhciBwPWMuc3ltYm9sU2l6ZSxkPWl5KG4uZ2V0KCJzeW1ib2xPZmZzZXQiKSxwKTtyZXR1cm4gZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzLGwsdSxoLGMpe3ZhciBwPWguY2F0ZWdvcnlEaW0sZD1oLnZhbHVlRGltLGY9Yy5weFNpZ24sZz1NYXRoLm1heChlW2QuaW5kZXhdK3MsMCkseT1nO2lmKGkpe3ZhciB2PU1hdGguYWJzKGwpLG09dHQodC5nZXQoInN5bWJvbE1hcmdpbiIpLCIxNSUiKSsiIixfPSExO20ubGFzdEluZGV4T2YoIiEiKT09PW0ubGVuZ3RoLTEmJihfPSEwLG09bS5zbGljZSgwLG0ubGVuZ3RoLTEpKTt2YXIgeD1xaShtLGVbZC5pbmRleF0pLGI9TWF0aC5tYXgoZysyKngsMCksdz1fPzA6Mip4LFM9ZnIoaSksTT1TP2k6YVAoKHYrdykvYik7Yj1nKzIqKHg9KHYtTSpnKS8yLyhfP006TWF0aC5tYXgoTS0xLDEpKSksdz1fPzA6Mip4LFN8fCJmaXhlZCI9PT1pfHwoTT11P2FQKChNYXRoLmFicyh1KSt3KS9iKTowKSx5PU0qYi13LGMucmVwZWF0VGltZXM9TSxjLnN5bWJvbE1hcmdpbj14fXZhciBJPWYqKHkvMiksQz1jLnBhdGhQb3NpdGlvbj1bXTtDW3AuaW5kZXhdPW5bcC53aF0vMixDW2QuaW5kZXhdPSJzdGFydCI9PT1hP0k6ImVuZCI9PT1hP2wtSTpsLzIsbyYmKENbMF0rPW9bMF0sQ1sxXSs9b1sxXSk7dmFyIEQ9Yy5idW5kbGVQb3NpdGlvbj1bXTtEW3AuaW5kZXhdPW5bcC54eV0sRFtkLmluZGV4XT1uW2QueHldO3ZhciBBPWMuYmFyUmVjdFNoYXBlPVQoe30sbik7QVtkLndoXT1mKk1hdGgubWF4KE1hdGguYWJzKG5bZC53aF0pLE1hdGguYWJzKENbZC5pbmRleF0rSSkpLEFbcC53aF09bltwLndoXTt2YXIgaz1jLmNsaXBTaGFwZT17fTtrW3AueHldPS1uW3AueHldLGtbcC53aF09aC5lY1NpemVbcC53aF0sa1tkLnh5XT0wLGtbZC53aF09bltkLndoXX0obixwLHIsbywwLGQscyxjLnZhbHVlTGluZVdpZHRoLGMuYm91bmRpbmdMZW5ndGgsYy5yZXBlYXRDdXRMZW5ndGgsaSxjKSxjfWZ1bmN0aW9uIFhMKHQsZSl7cmV0dXJuIHQudG9HbG9iYWxDb29yZCh0LmRhdGFUb0Nvb3JkKHQuc2NhbGUucGFyc2UoZSkpKX1mdW5jdGlvbiBZTCh0KXt2YXIgZT10LnN5bWJvbFBhdHRlcm5TaXplLG49ZXkodC5zeW1ib2xUeXBlLC1lLzIsLWUvMixlLGUpO3JldHVybiBuLmF0dHIoe2N1bGxpbmc6ITB9KSwiaW1hZ2UiIT09bi50eXBlJiZuLnNldFN0eWxlKHtzdHJva2VOb1NjYWxlOiEwfSksbn1mdW5jdGlvbiBaTCh0LGUsbixpKXt2YXIgcj10Ll9fcGljdG9yaWFsQnVuZGxlLG89bi5zeW1ib2xTaXplLGE9bi52YWx1ZUxpbmVXaWR0aCxzPW4ucGF0aFBvc2l0aW9uLGw9ZS52YWx1ZURpbSx1PW4ucmVwZWF0VGltZXN8fDAsaD0wLGM9b1tlLnZhbHVlRGltLmluZGV4XSthKzIqbi5zeW1ib2xNYXJnaW47Zm9yKGlQKHQsKGZ1bmN0aW9uKHQpe3QuX19waWN0b3JpYWxBbmltYXRpb25JbmRleD1oLHQuX19waWN0b3JpYWxSZXBlYXRUaW1lcz11LGg8dT9yUCh0LG51bGwsZihoKSxuLGkpOnJQKHQsbnVsbCx7c2NhbGVYOjAsc2NhbGVZOjB9LG4saSwoZnVuY3Rpb24oKXtyLnJlbW92ZSh0KX0pKSxoKyt9KSk7aDx1O2grKyl7dmFyIHA9WUwobik7cC5fX3BpY3RvcmlhbEFuaW1hdGlvbkluZGV4PWgscC5fX3BpY3RvcmlhbFJlcGVhdFRpbWVzPXUsci5hZGQocCk7dmFyIGQ9ZihoKTtyUChwLHt4OmQueCx5OmQueSxzY2FsZVg6MCxzY2FsZVk6MH0se3NjYWxlWDpkLnNjYWxlWCxzY2FsZVk6ZC5zY2FsZVkscm90YXRpb246ZC5yb3RhdGlvbn0sbixpKX1mdW5jdGlvbiBmKHQpe3ZhciBlPXMuc2xpY2UoKSxpPW4ucHhTaWduLHI9dDtyZXR1cm4oInN0YXJ0Ij09PW4uc3ltYm9sUmVwZWF0RGlyZWN0aW9uP2k+MDppPDApJiYocj11LTEtdCksZVtsLmluZGV4XT1jKihyLXUvMisuNSkrc1tsLmluZGV4XSx7eDplWzBdLHk6ZVsxXSxzY2FsZVg6bi5zeW1ib2xTY2FsZVswXSxzY2FsZVk6bi5zeW1ib2xTY2FsZVsxXSxyb3RhdGlvbjpuLnJvdGF0aW9ufX19ZnVuY3Rpb24gakwodCxlLG4saSl7dmFyIHI9dC5fX3BpY3RvcmlhbEJ1bmRsZSxvPXQuX19waWN0b3JpYWxNYWluUGF0aDtvP3JQKG8sbnVsbCx7eDpuLnBhdGhQb3NpdGlvblswXSx5Om4ucGF0aFBvc2l0aW9uWzFdLHNjYWxlWDpuLnN5bWJvbFNjYWxlWzBdLHNjYWxlWTpuLnN5bWJvbFNjYWxlWzFdLHJvdGF0aW9uOm4ucm90YXRpb259LG4saSk6KG89dC5fX3BpY3RvcmlhbE1haW5QYXRoPVlMKG4pLHIuYWRkKG8pLHJQKG8se3g6bi5wYXRoUG9zaXRpb25bMF0seTpuLnBhdGhQb3NpdGlvblsxXSxzY2FsZVg6MCxzY2FsZVk6MCxyb3RhdGlvbjpuLnJvdGF0aW9ufSx7c2NhbGVYOm4uc3ltYm9sU2NhbGVbMF0sc2NhbGVZOm4uc3ltYm9sU2NhbGVbMV19LG4saSkpfWZ1bmN0aW9uIHFMKHQsZSxuKXt2YXIgaT1UKHt9LGUuYmFyUmVjdFNoYXBlKSxyPXQuX19waWN0b3JpYWxCYXJSZWN0O3I/clAocixudWxsLHtzaGFwZTppfSxlLG4pOigocj10Ll9fcGljdG9yaWFsQmFyUmVjdD1uZXcgY3Moe3oyOjIsc2hhcGU6aSxzaWxlbnQ6ITAsc3R5bGU6e3N0cm9rZToidHJhbnNwYXJlbnQiLGZpbGw6InRyYW5zcGFyZW50IixsaW5lV2lkdGg6MH19KSkuZGlzYWJsZU1vcnBoaW5nPSEwLHQuYWRkKHIpKX1mdW5jdGlvbiBLTCh0LGUsbixpKXtpZihuLnN5bWJvbENsaXApe3ZhciByPXQuX19waWN0b3JpYWxDbGlwUGF0aCxvPVQoe30sbi5jbGlwU2hhcGUpLGE9ZS52YWx1ZURpbSxzPW4uYW5pbWF0aW9uTW9kZWwsbD1uLmRhdGFJbmRleDtpZihyKUV1KHIse3NoYXBlOm99LHMsbCk7ZWxzZXtvW2Eud2hdPTAscj1uZXcgY3Moe3NoYXBlOm99KSx0Ll9fcGljdG9yaWFsQnVuZGxlLnNldENsaXBQYXRoKHIpLHQuX19waWN0b3JpYWxDbGlwUGF0aD1yO3ZhciB1PXt9O3VbYS53aF09bi5jbGlwU2hhcGVbYS53aF0seWhbaT8idXBkYXRlUHJvcHMiOiJpbml0UHJvcHMiXShyLHtzaGFwZTp1fSxzLGwpfX19ZnVuY3Rpb24gJEwodCxlKXt2YXIgbj10LmdldEl0ZW1Nb2RlbChlKTtyZXR1cm4gbi5nZXRBbmltYXRpb25EZWxheVBhcmFtcz1KTCxuLmlzQW5pbWF0aW9uRW5hYmxlZD1RTCxufWZ1bmN0aW9uIEpMKHQpe3JldHVybntpbmRleDp0Ll9fcGljdG9yaWFsQW5pbWF0aW9uSW5kZXgsY291bnQ6dC5fX3BpY3RvcmlhbFJlcGVhdFRpbWVzfX1mdW5jdGlvbiBRTCgpe3JldHVybiB0aGlzLnBhcmVudE1vZGVsLmlzQW5pbWF0aW9uRW5hYmxlZCgpJiYhIXRoaXMuZ2V0U2hhbGxvdygiYW5pbWF0aW9uIil9ZnVuY3Rpb24gdFAodCxlLG4saSl7dmFyIHI9bmV3IEJpLG89bmV3IEJpO3JldHVybiByLmFkZChvKSxyLl9fcGljdG9yaWFsQnVuZGxlPW8sby54PW4uYnVuZGxlUG9zaXRpb25bMF0sby55PW4uYnVuZGxlUG9zaXRpb25bMV0sbi5zeW1ib2xSZXBlYXQ/WkwocixlLG4pOmpMKHIsMCxuKSxxTChyLG4saSksS0wocixlLG4saSksci5fX3BpY3RvcmlhbFNoYXBlU3RyPW5QKHQsbiksci5fX3BpY3RvcmlhbFN5bWJvbE1ldGE9bixyfWZ1bmN0aW9uIGVQKHQsZSxuLGkpe3ZhciByPWkuX19waWN0b3JpYWxCYXJSZWN0O3ImJnIucmVtb3ZlVGV4dENvbnRlbnQoKTt2YXIgbz1bXTtpUChpLChmdW5jdGlvbih0KXtvLnB1c2godCl9KSksaS5fX3BpY3RvcmlhbE1haW5QYXRoJiZvLnB1c2goaS5fX3BpY3RvcmlhbE1haW5QYXRoKSxpLl9fcGljdG9yaWFsQ2xpcFBhdGgmJihuPW51bGwpLE8obywoZnVuY3Rpb24odCl7R3UodCx7c2NhbGVYOjAsc2NhbGVZOjB9LG4sZSwoZnVuY3Rpb24oKXtpLnBhcmVudCYmaS5wYXJlbnQucmVtb3ZlKGkpfSkpfSkpLHQuc2V0SXRlbUdyYXBoaWNFbChlLG51bGwpfWZ1bmN0aW9uIG5QKHQsZSl7cmV0dXJuW3QuZ2V0SXRlbVZpc3VhbChlLmRhdGFJbmRleCwic3ltYm9sIil8fCJub25lIiwhIWUuc3ltYm9sUmVwZWF0LCEhZS5zeW1ib2xDbGlwXS5qb2luKCI6Iil9ZnVuY3Rpb24gaVAodCxlLG4pe08odC5fX3BpY3RvcmlhbEJ1bmRsZS5jaGlsZHJlbigpLChmdW5jdGlvbihpKXtpIT09dC5fX3BpY3RvcmlhbEJhclJlY3QmJmUuY2FsbChuLGkpfSkpfWZ1bmN0aW9uIHJQKHQsZSxuLGkscixvKXtlJiZ0LmF0dHIoZSksaS5zeW1ib2xDbGlwJiYhcj9uJiZ0LmF0dHIobik6biYmeWhbcj8idXBkYXRlUHJvcHMiOiJpbml0UHJvcHMiXSh0LG4saS5hbmltYXRpb25Nb2RlbCxpLmRhdGFJbmRleCxvKX1mdW5jdGlvbiBvUCh0LGUsbil7dmFyIGk9bi5kYXRhSW5kZXgscj1uLml0ZW1Nb2RlbCxvPXIuZ2V0TW9kZWwoImVtcGhhc2lzIiksYT1vLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSxzPXIuZ2V0TW9kZWwoWyJibHVyIiwiaXRlbVN0eWxlIl0pLmdldEl0ZW1TdHlsZSgpLGw9ci5nZXRNb2RlbChbInNlbGVjdCIsIml0ZW1TdHlsZSJdKS5nZXRJdGVtU3R5bGUoKSx1PXIuZ2V0U2hhbGxvdygiY3Vyc29yIiksaD1vLmdldCgiZm9jdXMiKSxjPW8uZ2V0KCJibHVyU2NvcGUiKSxwPW8uZ2V0KCJzY2FsZSIpO2lQKHQsKGZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBycyl7dmFyIGU9dC5zdHlsZTt0LnVzZVN0eWxlKFQoe2ltYWdlOmUuaW1hZ2UseDplLngseTplLnksd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHR9LG4uc3R5bGUpKX1lbHNlIHQudXNlU3R5bGUobi5zdHlsZSk7dmFyIGk9dC5lbnN1cmVTdGF0ZSgiZW1waGFzaXMiKTtpLnN0eWxlPWEscCYmKGkuc2NhbGVYPTEuMSp0LnNjYWxlWCxpLnNjYWxlWT0xLjEqdC5zY2FsZVkpLHQuZW5zdXJlU3RhdGUoImJsdXIiKS5zdHlsZT1zLHQuZW5zdXJlU3RhdGUoInNlbGVjdCIpLnN0eWxlPWwsdSYmKHQuY3Vyc29yPXUpLHQuejI9bi56Mn0pKTt2YXIgZD1lLnZhbHVlRGltLnBvc0Rlc2NbKyhuLmJvdW5kaW5nTGVuZ3RoPjApXTt4aCh0Ll9fcGljdG9yaWFsQmFyUmVjdCxiaChyKSx7bGFiZWxGZXRjaGVyOmUuc2VyaWVzTW9kZWwsbGFiZWxEYXRhSW5kZXg6aSxkZWZhdWx0VGV4dDpBdyhlLnNlcmllc01vZGVsLmdldERhdGEoKSxpKSxpbmhlcml0Q29sb3I6bi5zdHlsZS5maWxsLGRlZmF1bHRPcGFjaXR5Om4uc3R5bGUub3BhY2l0eSxkZWZhdWx0T3V0c2lkZVBvc2l0aW9uOmR9KSxwbCh0LGgsYyl9ZnVuY3Rpb24gYVAodCl7dmFyIGU9TWF0aC5yb3VuZCh0KTtyZXR1cm4gTWF0aC5hYnModC1lKTwxZS00P2U6TWF0aC5jZWlsKHQpfXZhciBzUD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uaGFzU3ltYm9sVmlzdWFsPSEwLG4uZGVmYXVsdFN5bWJvbD0icm91bmRSZWN0IixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhY2s9bnVsbCx0LnByb3RvdHlwZS5nZXRJbml0aWFsRGF0YS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUudHlwZT0ic2VyaWVzLnBpY3RvcmlhbEJhciIsZS5kZXBlbmRlbmNpZXM9WyJncmlkIl0sZS5kZWZhdWx0T3B0aW9uPVloKGdTLmRlZmF1bHRPcHRpb24se3N5bWJvbDoiY2lyY2xlIixzeW1ib2xTaXplOm51bGwsc3ltYm9sUm90YXRlOm51bGwsc3ltYm9sUG9zaXRpb246bnVsbCxzeW1ib2xPZmZzZXQ6bnVsbCxzeW1ib2xNYXJnaW46bnVsbCxzeW1ib2xSZXBlYXQ6ITEsc3ltYm9sUmVwZWF0RGlyZWN0aW9uOiJlbmQiLHN5bWJvbENsaXA6ITEsc3ltYm9sQm91bmRpbmdEYXRhOm51bGwsc3ltYm9sUGF0dGVyblNpemU6NDAwLGJhckdhcDoiLTEwMCUiLHByb2dyZXNzaXZlOjAsZW1waGFzaXM6e3NjYWxlOiExfSxzZWxlY3Q6e2l0ZW1TdHlsZTp7Ym9yZGVyQ29sb3I6IiMyMTIxMjEifX19KSxlfShnUyk7dmFyIGxQPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5fbGF5ZXJzPVtdLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZ2V0RGF0YSgpLHI9dGhpcyxvPXRoaXMuZ3JvdXAsYT10LmdldExheWVyU2VyaWVzKCkscz1pLmdldExheW91dCgibGF5b3V0SW5mbyIpLGw9cy5yZWN0LHU9cy5ib3VuZGFyeUdhcDtmdW5jdGlvbiBoKHQpe3JldHVybiB0Lm5hbWV9by54PTAsby55PWwueSt1WzBdO3ZhciBjPW5ldyBCbSh0aGlzLl9sYXllcnNTZXJpZXN8fFtdLGEsaCxoKSxwPVtdO2Z1bmN0aW9uIGQoZSxuLHMpe3ZhciBsPXIuX2xheWVycztpZigicmVtb3ZlIiE9PWUpe2Zvcih2YXIgdSxoLGM9W10sZD1bXSxmPWFbbl0uaW5kaWNlcyxnPTA7ZzxmLmxlbmd0aDtnKyspe3ZhciB5PWkuZ2V0SXRlbUxheW91dChmW2ddKSx2PXkueCxtPXkueTAsXz15Lnk7Yy5wdXNoKHYsbSksZC5wdXNoKHYsbStfKSx1PWkuZ2V0SXRlbVZpc3VhbChmW2ddLCJzdHlsZSIpfXZhciB4PWkuZ2V0SXRlbUxheW91dChmWzBdKSxiPXQuZ2V0TW9kZWwoImxhYmVsIikuZ2V0KCJtYXJnaW4iKSx3PXQuZ2V0TW9kZWwoImVtcGhhc2lzIik7aWYoImFkZCI9PT1lKXt2YXIgUz1wW25dPW5ldyBCaTtoPW5ldyBxdyh7c2hhcGU6e3BvaW50czpjLHN0YWNrZWRPblBvaW50czpkLHNtb290aDouNCxzdGFja2VkT25TbW9vdGg6LjQsc21vb3RoQ29uc3RyYWludDohMX0sejI6MH0pLFMuYWRkKGgpLG8uYWRkKFMpLHQuaXNBbmltYXRpb25FbmFibGVkKCkmJmguc2V0Q2xpcFBhdGgoZnVuY3Rpb24odCxlLG4pe3ZhciBpPW5ldyBjcyh7c2hhcGU6e3g6dC54LTEwLHk6dC55LTEwLHdpZHRoOjAsaGVpZ2h0OnQuaGVpZ2h0KzIwfX0pO3JldHVybiBWdShpLHtzaGFwZTp7eDp0LngtNTAsd2lkdGg6dC53aWR0aCsxMDAsaGVpZ2h0OnQuaGVpZ2h0KzIwfX0sZSxuKSxpfShoLmdldEJvdW5kaW5nUmVjdCgpLHQsKGZ1bmN0aW9uKCl7aC5yZW1vdmVDbGlwUGF0aCgpfSkpKX1lbHNle1M9bFtzXTtoPVMuY2hpbGRBdCgwKSxvLmFkZChTKSxwW25dPVMsRXUoaCx7c2hhcGU6e3BvaW50czpjLHN0YWNrZWRPblBvaW50czpkfX0sdCksV3UoaCl9eGgoaCxiaCh0KSx7bGFiZWxEYXRhSW5kZXg6ZltnLTFdLGRlZmF1bHRUZXh0OmkuZ2V0TmFtZShmW2ctMV0pLGluaGVyaXRDb2xvcjp1LmZpbGx9LHtub3JtYWw6e3ZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9fSksaC5zZXRUZXh0Q29uZmlnKHtwb3NpdGlvbjpudWxsLGxvY2FsOiEwfSk7dmFyIE09aC5nZXRUZXh0Q29udGVudCgpO00mJihNLng9eC54LWIsTS55PXgueTAreC55LzIpLGgudXNlU3R5bGUodSksaS5zZXRJdGVtR3JhcGhpY0VsKG4saCkseWwoaCx0KSxwbChoLHcuZ2V0KCJmb2N1cyIpLHcuZ2V0KCJibHVyU2NvcGUiKSl9ZWxzZSBvLnJlbW92ZShsW25dKX1jLmFkZChCKGQsdGhpcywiYWRkIikpLnVwZGF0ZShCKGQsdGhpcywidXBkYXRlIikpLnJlbW92ZShCKGQsdGhpcywicmVtb3ZlIikpLmV4ZWN1dGUoKSx0aGlzLl9sYXllcnNTZXJpZXM9YSx0aGlzLl9sYXllcnM9cH0sZS50eXBlPSJ0aGVtZVJpdmVyIixlfShaZik7dmFyIHVQPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5sZWdlbmRWaXN1YWxQcm92aWRlcj1uZXcgdE0oQih0aGlzLmdldERhdGEsdGhpcyksQih0aGlzLmdldFJhd0RhdGEsdGhpcykpfSxlLnByb3RvdHlwZS5maXhEYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXQubGVuZ3RoLG49e30saT1Icih0LChmdW5jdGlvbih0KXtyZXR1cm4gbi5oYXNPd25Qcm9wZXJ0eSh0WzBdKyIiKXx8KG5bdFswXSsiIl09LTEpLHRbMl19KSkscj1bXTtpLmJ1Y2tldHMuZWFjaCgoZnVuY3Rpb24odCxlKXtyLnB1c2goe25hbWU6ZSxkYXRhTGlzdDp0fSl9KSk7Zm9yKHZhciBvPXIubGVuZ3RoLGE9MDthPG87KythKXtmb3IodmFyIHM9clthXS5uYW1lLGw9MDtsPHJbYV0uZGF0YUxpc3QubGVuZ3RoOysrbCl7dmFyIHU9clthXS5kYXRhTGlzdFtsXVswXSsiIjtuW3VdPWF9Zm9yKHZhciB1IGluIG4pbi5oYXNPd25Qcm9wZXJ0eSh1KSYmblt1XSE9PWEmJihuW3VdPWEsdFtlXT1bdSwwLHNdLGUrKyl9cmV0dXJuIHR9LGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cygic2luZ2xlQXhpcyIsVnIpLm1vZGVsc1swXS5nZXQoInR5cGUiKSxpPXoodC5kYXRhLChmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dFsyXX0pKSxyPXRoaXMuZml4RGF0YShpfHxbXSksbz1bXSxhPXRoaXMubmFtZU1hcD1jdCgpLHM9MCxsPTA7bDxyLmxlbmd0aDsrK2wpby5wdXNoKHJbbF1bMl0pLGEuZ2V0KHJbbF1bMl0pfHwoYS5zZXQocltsXVsyXSxzKSxzKyspO3ZhciB1PWhfKHIse2Nvb3JkRGltZW5zaW9uczpbInNpbmdsZSJdLGRpbWVuc2lvbnNEZWZpbmU6W3tuYW1lOiJ0aW1lIix0eXBlOkhtKG4pfSx7bmFtZToidmFsdWUiLHR5cGU6ImZsb2F0In0se25hbWU6Im5hbWUiLHR5cGU6Im9yZGluYWwifV0sZW5jb2RlRGVmaW5lOntzaW5nbGU6MCx2YWx1ZToxLGl0ZW1OYW1lOjJ9fSkuZGltZW5zaW9ucyxoPW5ldyB1Xyh1LHRoaXMpO3JldHVybiBoLmluaXREYXRhKHIpLGh9LGUucHJvdG90eXBlLmdldExheWVyU2VyaWVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZ2V0RGF0YSgpLGU9dC5jb3VudCgpLG49W10saT0wO2k8ZTsrK2kpbltpXT1pO3ZhciByPXQubWFwRGltZW5zaW9uKCJzaW5nbGUiKSxvPUhyKG4sKGZ1bmN0aW9uKGUpe3JldHVybiB0LmdldCgibmFtZSIsZSl9KSksYT1bXTtyZXR1cm4gby5idWNrZXRzLmVhY2goKGZ1bmN0aW9uKGUsbil7ZS5zb3J0KChmdW5jdGlvbihlLG4pe3JldHVybiB0LmdldChyLGUpLXQuZ2V0KHIsbil9KSksYS5wdXNoKHtuYW1lOm4saW5kaWNlczplfSl9KSksYX0sZS5wcm90b3R5cGUuZ2V0QXhpc1Rvb2x0aXBEYXRhPWZ1bmN0aW9uKHQsZSxuKXtGKHQpfHwodD10P1t0XTpbXSk7Zm9yKHZhciBpLHI9dGhpcy5nZXREYXRhKCksbz10aGlzLmdldExheWVyU2VyaWVzKCksYT1bXSxzPW8ubGVuZ3RoLGw9MDtsPHM7KytsKXtmb3IodmFyIHU9TnVtYmVyLk1BWF9WQUxVRSxoPS0xLGM9b1tsXS5pbmRpY2VzLmxlbmd0aCxwPTA7cDxjOysrcCl7dmFyIGQ9ci5nZXQodFswXSxvW2xdLmluZGljZXNbcF0pLGY9TWF0aC5hYnMoZC1lKTtmPD11JiYoaT1kLHU9ZixoPW9bbF0uaW5kaWNlc1twXSl9YS5wdXNoKGgpfXJldHVybntkYXRhSW5kaWNlczphLG5lc3Rlc3RWYWx1ZTppfX0sZS5wcm90b3R5cGUuZm9ybWF0VG9vbHRpcD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5nZXREYXRhKCk7cmV0dXJuIHdmKCJuYW1lVmFsdWUiLHtuYW1lOmkuZ2V0TmFtZSh0KSx2YWx1ZTppLmdldChpLm1hcERpbWVuc2lvbigidmFsdWUiKSx0KX0pfSxlLnR5cGU9InNlcmllcy50aGVtZVJpdmVyIixlLmRlcGVuZGVuY2llcz1bInNpbmdsZUF4aXMiXSxlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6Mixjb2xvckJ5OiJkYXRhIixjb29yZGluYXRlU3lzdGVtOiJzaW5nbGVBeGlzIixib3VuZGFyeUdhcDpbIjEwJSIsIjEwJSJdLHNpbmdsZUF4aXNJbmRleDowLGFuaW1hdGlvbkVhc2luZzoibGluZWFyIixsYWJlbDp7bWFyZ2luOjQsc2hvdzohMCxwb3NpdGlvbjoibGVmdCIsZm9udFNpemU6MTF9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMH19fSxlfShOZik7ZnVuY3Rpb24gaFAodCxlKXt0LmVhY2hTZXJpZXNCeVR5cGUoInRoZW1lUml2ZXIiLChmdW5jdGlvbih0KXt2YXIgZT10LmdldERhdGEoKSxuPXQuY29vcmRpbmF0ZVN5c3RlbSxpPXt9LHI9bi5nZXRSZWN0KCk7aS5yZWN0PXI7dmFyIG89dC5nZXQoImJvdW5kYXJ5R2FwIiksYT1uLmdldEF4aXMoKTsoaS5ib3VuZGFyeUdhcD1vLCJob3Jpem9udGFsIj09PWEub3JpZW50KT8ob1swXT1xaShvWzBdLHIuaGVpZ2h0KSxvWzFdPXFpKG9bMV0sci5oZWlnaHQpLGNQKGUsdCxyLmhlaWdodC1vWzBdLW9bMV0pKToob1swXT1xaShvWzBdLHIud2lkdGgpLG9bMV09cWkob1sxXSxyLndpZHRoKSxjUChlLHQsci53aWR0aC1vWzBdLW9bMV0pKTtlLnNldExheW91dCgibGF5b3V0SW5mbyIsaSl9KSl9ZnVuY3Rpb24gY1AodCxlLG4pe2lmKHQuY291bnQoKSlmb3IodmFyIGkscj1lLmNvb3JkaW5hdGVTeXN0ZW0sbz1lLmdldExheWVyU2VyaWVzKCksYT10Lm1hcERpbWVuc2lvbigic2luZ2xlIikscz10Lm1hcERpbWVuc2lvbigidmFsdWUiKSxsPVIobywoZnVuY3Rpb24oZSl7cmV0dXJuIFIoZS5pbmRpY2VzLChmdW5jdGlvbihlKXt2YXIgbj1yLmRhdGFUb1BvaW50KHQuZ2V0KGEsZSkpO3JldHVybiBuWzFdPXQuZ2V0KHMsZSksbn0pKX0pKSx1PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lmxlbmd0aCxuPXRbMF0ubGVuZ3RoLGk9W10scj1bXSxvPTAsYT0wO2E8bjsrK2Epe2Zvcih2YXIgcz0wLGw9MDtsPGU7KytsKXMrPXRbbF1bYV1bMV07cz5vJiYobz1zKSxpLnB1c2gocyl9Zm9yKHZhciB1PTA7dTxuOysrdSlyW3VdPShvLWlbdV0pLzI7bz0wO2Zvcih2YXIgaD0wO2g8bjsrK2gpe3ZhciBjPWlbaF0rcltoXTtjPm8mJihvPWMpfXJldHVybnt5MDpyLG1heDpvfX0obCksaD11LnkwLGM9bi91Lm1heCxwPW8ubGVuZ3RoLGQ9b1swXS5pbmRpY2VzLmxlbmd0aCxmPTA7ZjxkOysrZil7aT1oW2ZdKmMsdC5zZXRJdGVtTGF5b3V0KG9bMF0uaW5kaWNlc1tmXSx7bGF5ZXJJbmRleDowLHg6bFswXVtmXVswXSx5MDppLHk6bFswXVtmXVsxXSpjfSk7Zm9yKHZhciBnPTE7ZzxwOysrZylpKz1sW2ctMV1bZl1bMV0qYyx0LnNldEl0ZW1MYXlvdXQob1tnXS5pbmRpY2VzW2ZdLHtsYXllckluZGV4OmcseDpsW2ddW2ZdWzBdLHkwOmkseTpsW2ddW2ZdWzFdKmN9KX19dmFyIHBQPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscil7dmFyIG89dC5jYWxsKHRoaXMpfHx0aGlzO28uejI9MixvLnRleHRDb25maWc9e2luc2lkZTohMH0sU3Mobykuc2VyaWVzSW5kZXg9bi5zZXJpZXNJbmRleDt2YXIgYT1uZXcgZnMoe3oyOjQsc2lsZW50OmUuZ2V0TW9kZWwoKS5nZXQoWyJsYWJlbCIsInNpbGVudCJdKX0pO3JldHVybiBvLnNldFRleHRDb250ZW50KGEpLG8udXBkYXRlRGF0YSghMCxlLG4saSxyKSxvfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUudXBkYXRlRGF0YT1mdW5jdGlvbih0LGUsbixpLHIpe3RoaXMubm9kZT1lLGUucGllY2U9dGhpcyxuPW58fHRoaXMuX3Nlcmllc01vZGVsLGk9aXx8dGhpcy5fZWNNb2RlbDt2YXIgbz10aGlzO1NzKG8pLmRhdGFJbmRleD1lLmRhdGFJbmRleDt2YXIgYT1lLmdldE1vZGVsKCkscz1hLmdldE1vZGVsKCJlbXBoYXNpcyIpLGw9ZS5nZXRMYXlvdXQoKSx1PVQoe30sbCk7dS5sYWJlbD1udWxsO3ZhciBoPWUuZ2V0VmlzdWFsKCJzdHlsZSIpO2gubGluZUpvaW49ImJldmVsIjt2YXIgYz1lLmdldFZpc3VhbCgiZGVjYWwiKTtjJiYoaC5kZWNhbD1DeShjLHIpKTt2YXIgcD1LUyhhLmdldE1vZGVsKCJpdGVtU3R5bGUiKSx1LCEwKTtUKHUscCksTyhEcywoZnVuY3Rpb24odCl7dmFyIGU9by5lbnN1cmVTdGF0ZSh0KSxuPWEuZ2V0TW9kZWwoW3QsIml0ZW1TdHlsZSJdKTtlLnN0eWxlPW4uZ2V0SXRlbVN0eWxlKCk7dmFyIGk9S1Mobix1KTtpJiYoZS5zaGFwZT1pKX0pKSx0PyhvLnNldFNoYXBlKHUpLG8uc2hhcGUucj1sLnIwLEV1KG8se3NoYXBlOntyOmwucn19LG4sZS5kYXRhSW5kZXgpKTooRXUobyx7c2hhcGU6dX0sbiksV3UobykpLG8udXNlU3R5bGUoaCksdGhpcy5fdXBkYXRlTGFiZWwobik7dmFyIGQ9YS5nZXRTaGFsbG93KCJjdXJzb3IiKTtkJiZvLmF0dHIoImN1cnNvciIsZCksdGhpcy5fc2VyaWVzTW9kZWw9bnx8dGhpcy5fc2VyaWVzTW9kZWwsdGhpcy5fZWNNb2RlbD1pfHx0aGlzLl9lY01vZGVsO3ZhciBmPXMuZ2V0KCJmb2N1cyIpO3BsKHRoaXMsImFuY2VzdG9yIj09PWY/ZS5nZXRBbmNlc3RvcnNJbmRpY2VzKCk6ImRlc2NlbmRhbnQiPT09Zj9lLmdldERlc2NlbmRhbnRJbmRpY2VzKCk6ZixzLmdldCgiYmx1clNjb3BlIikpfSxlLnByb3RvdHlwZS5fdXBkYXRlTGFiZWw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMubm9kZS5nZXRNb2RlbCgpLGk9bi5nZXRNb2RlbCgibGFiZWwiKSxyPXRoaXMubm9kZS5nZXRMYXlvdXQoKSxvPXIuZW5kQW5nbGUtci5zdGFydEFuZ2xlLGE9KHIuc3RhcnRBbmdsZStyLmVuZEFuZ2xlKS8yLHM9TWF0aC5jb3MoYSksbD1NYXRoLnNpbihhKSx1PXRoaXMsaD11LmdldFRleHRDb250ZW50KCksYz10aGlzLm5vZGUuZGF0YUluZGV4LHA9aS5nZXQoIm1pbkFuZ2xlIikvMTgwKk1hdGguUEksZD1pLmdldCgic2hvdyIpJiYhKG51bGwhPXAmJk1hdGguYWJzKG8pPHApO2Z1bmN0aW9uIGYodCxlKXt2YXIgbj10LmdldChlKTtyZXR1cm4gbnVsbD09bj9pLmdldChlKTpufWguaWdub3JlPSFkLE8oQXMsKGZ1bmN0aW9uKGkpe3ZhciBvPSJub3JtYWwiPT09aT9uLmdldE1vZGVsKCJsYWJlbCIpOm4uZ2V0TW9kZWwoW2ksImxhYmVsIl0pLHA9Im5vcm1hbCI9PT1pLGQ9cD9oOmguZW5zdXJlU3RhdGUoaSksZz10LmdldEZvcm1hdHRlZExhYmVsKGMsaSk7cCYmKGc9Z3x8ZS5ub2RlLm5hbWUpLGQuc3R5bGU9d2gobyx7fSxudWxsLCJub3JtYWwiIT09aSwhMCksZyYmKGQuc3R5bGUudGV4dD1nKTt2YXIgeT1vLmdldCgic2hvdyIpO251bGw9PXl8fHB8fChkLmlnbm9yZT0heSk7dmFyIHYsbT1mKG8sInBvc2l0aW9uIiksXz1wP3U6dS5zdGF0ZXNbaV0seD1fLnN0eWxlLmZpbGw7Xy50ZXh0Q29uZmlnPXtvdXRzaWRlRmlsbDoiaW5oZXJpdCI9PT1vLmdldCgiY29sb3IiKT94Om51bGwsaW5zaWRlOiJvdXRzaWRlIiE9PW19O3ZhciBiPWYobywiZGlzdGFuY2UiKXx8MCx3PWYobywiYWxpZ24iKTsib3V0c2lkZSI9PT1tPyh2PXIucitiLHc9YT5NYXRoLlBJLzI/InJpZ2h0IjoibGVmdCIpOncmJiJjZW50ZXIiIT09dz8ibGVmdCI9PT13Pyh2PXIucjArYixhPk1hdGguUEkvMiYmKHc9InJpZ2h0IikpOiJyaWdodCI9PT13JiYodj1yLnItYixhPk1hdGguUEkvMiYmKHc9ImxlZnQiKSk6KHY9KHIucityLnIwKS8yLHc9ImNlbnRlciIpLGQuc3R5bGUuYWxpZ249dyxkLnN0eWxlLnZlcnRpY2FsQWxpZ249ZihvLCJ2ZXJ0aWNhbEFsaWduIil8fCJtaWRkbGUiLGQueD12KnMrci5jeCxkLnk9dipsK3IuY3k7dmFyIFM9ZihvLCJyb3RhdGUiKSxNPTA7InJhZGlhbCI9PT1TPyhNPS1hKTwtTWF0aC5QSS8yJiYoTSs9TWF0aC5QSSk6InRhbmdlbnRpYWwiPT09Uz8oTT1NYXRoLlBJLzItYSk+TWF0aC5QSS8yP00tPU1hdGguUEk6TTwtTWF0aC5QSS8yJiYoTSs9TWF0aC5QSSk6Im51bWJlciI9PXR5cGVvZiBTJiYoTT1TKk1hdGguUEkvMTgwKSxkLnJvdGF0aW9uPU19KSksaC5kaXJ0eVN0eWxlKCl9LGV9KG91KSxkUD0ic3VuYnVyc3RSb290VG9Ob2RlIixmUD0ic3VuYnVyc3RIaWdobGlnaHQiO3ZhciBnUD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpczt0aGlzLnNlcmllc01vZGVsPXQsdGhpcy5hcGk9bix0aGlzLmVjTW9kZWw9ZTt2YXIgbz10LmdldERhdGEoKSxhPW8udHJlZS5yb290LHM9dC5nZXRWaWV3Um9vdCgpLGw9dGhpcy5ncm91cCx1PXQuZ2V0KCJyZW5kZXJMYWJlbEZvclplcm9EYXRhIiksaD1bXTtzLmVhY2hOb2RlKChmdW5jdGlvbih0KXtoLnB1c2godCl9KSk7dmFyIGM9dGhpcy5fb2xkQ2hpbGRyZW58fFtdOyFmdW5jdGlvbihpLHIpe2lmKDA9PT1pLmxlbmd0aCYmMD09PXIubGVuZ3RoKXJldHVybjtmdW5jdGlvbiBzKHQpe3JldHVybiB0LmdldElkKCl9ZnVuY3Rpb24gaChzLGgpeyFmdW5jdGlvbihpLHIpe3V8fCFpfHxpLmdldFZhbHVlKCl8fChpPW51bGwpO2lmKGkhPT1hJiZyIT09YSlpZihyJiZyLnBpZWNlKWk/KHIucGllY2UudXBkYXRlRGF0YSghMSxpLHQsZSxuKSxvLnNldEl0ZW1HcmFwaGljRWwoaS5kYXRhSW5kZXgsci5waWVjZSkpOmZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybjt0LnBpZWNlJiYobC5yZW1vdmUodC5waWVjZSksdC5waWVjZT1udWxsKX0ocik7ZWxzZSBpZihpKXt2YXIgcz1uZXcgcFAoaSx0LGUsbik7bC5hZGQocyksby5zZXRJdGVtR3JhcGhpY0VsKGkuZGF0YUluZGV4LHMpfX0obnVsbD09cz9udWxsOmlbc10sbnVsbD09aD9udWxsOnJbaF0pfW5ldyBCbShyLGkscyxzKS5hZGQoaCkudXBkYXRlKGgpLnJlbW92ZShHKGgsbnVsbCkpLmV4ZWN1dGUoKX0oaCxjKSxmdW5jdGlvbihpLG8pe28uZGVwdGg+MD8oci52aXJ0dWFsUGllY2U/ci52aXJ0dWFsUGllY2UudXBkYXRlRGF0YSghMSxpLHQsZSxuKTooci52aXJ0dWFsUGllY2U9bmV3IHBQKGksdCxlLG4pLGwuYWRkKHIudmlydHVhbFBpZWNlKSksby5waWVjZS5vZmYoImNsaWNrIiksci52aXJ0dWFsUGllY2Uub24oImNsaWNrIiwoZnVuY3Rpb24odCl7ci5fcm9vdFRvTm9kZShvLnBhcmVudE5vZGUpfSkpKTpyLnZpcnR1YWxQaWVjZSYmKGwucmVtb3ZlKHIudmlydHVhbFBpZWNlKSxyLnZpcnR1YWxQaWVjZT1udWxsKX0oYSxzKSx0aGlzLl9pbml0RXZlbnRzKCksdGhpcy5fb2xkQ2hpbGRyZW49aH0sZS5wcm90b3R5cGUuX2luaXRFdmVudHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuZ3JvdXAub2ZmKCJjbGljayIpLHRoaXMuZ3JvdXAub24oImNsaWNrIiwoZnVuY3Rpb24oZSl7dmFyIG49ITE7dC5zZXJpZXNNb2RlbC5nZXRWaWV3Um9vdCgpLmVhY2hOb2RlKChmdW5jdGlvbihpKXtpZighbiYmaS5waWVjZSYmaS5waWVjZT09PWUudGFyZ2V0KXt2YXIgcj1pLmdldE1vZGVsKCkuZ2V0KCJub2RlQ2xpY2siKTtpZigicm9vdFRvTm9kZSI9PT1yKXQuX3Jvb3RUb05vZGUoaSk7ZWxzZSBpZigibGluayI9PT1yKXt2YXIgbz1pLmdldE1vZGVsKCksYT1vLmdldCgibGluayIpO2lmKGEpV2MoYSxvLmdldCgidGFyZ2V0IiwhMCl8fCJfYmxhbmsiKX1uPSEwfX0pKX0pKX0sZS5wcm90b3R5cGUuX3Jvb3RUb05vZGU9ZnVuY3Rpb24odCl7dCE9PXRoaXMuc2VyaWVzTW9kZWwuZ2V0Vmlld1Jvb3QoKSYmdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ZFAsZnJvbTp0aGlzLnVpZCxzZXJpZXNJZDp0aGlzLnNlcmllc01vZGVsLmlkLHRhcmdldE5vZGU6dH0pfSxlLnByb3RvdHlwZS5jb250YWluUG9pbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmdldERhdGEoKS5nZXRJdGVtTGF5b3V0KDApO2lmKG4pe3ZhciBpPXRbMF0tbi5jeCxyPXRbMV0tbi5jeSxvPU1hdGguc3FydChpKmkrcipyKTtyZXR1cm4gbzw9bi5yJiZvPj1uLnIwfX0sZS50eXBlPSJzdW5idXJzdCIsZX0oWmYpLHlQPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5pZ25vcmVTdHlsZU9uRGF0YT0hMCxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGE9ZnVuY3Rpb24odCxlKXt2YXIgbj17bmFtZTp0Lm5hbWUsY2hpbGRyZW46dC5kYXRhfTt2UChuKTt2YXIgaT10aGlzLl9sZXZlbE1vZGVscz1SKHQubGV2ZWxzfHxbXSwoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBXaCh0LHRoaXMsZSl9KSx0aGlzKSxyPUFULmNyZWF0ZVRyZWUobix0aGlzLChmdW5jdGlvbih0KXt0LndyYXBNZXRob2QoImdldEl0ZW1Nb2RlbCIsKGZ1bmN0aW9uKHQsZSl7dmFyIG49ci5nZXROb2RlQnlEYXRhSW5kZXgoZSksbz1pW24uZGVwdGhdO3JldHVybiBvJiYodC5wYXJlbnRNb2RlbD1vKSx0fSkpfSkpO3JldHVybiByLmRhdGF9LGUucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQ9ZnVuY3Rpb24oKXt0aGlzLnJlc2V0Vmlld1Jvb3QoKX0sZS5wcm90b3R5cGUuZ2V0RGF0YVBhcmFtcz1mdW5jdGlvbihlKXt2YXIgbj10LnByb3RvdHlwZS5nZXREYXRhUGFyYW1zLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxpPXRoaXMuZ2V0RGF0YSgpLnRyZWUuZ2V0Tm9kZUJ5RGF0YUluZGV4KGUpO3JldHVybiBuLnRyZWVQYXRoSW5mbz1PVChpLHRoaXMpLG59LGUucHJvdG90eXBlLmdldExldmVsTW9kZWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2xldmVsTW9kZWxzJiZ0aGlzLl9sZXZlbE1vZGVsc1t0LmRlcHRoXX0sZS5wcm90b3R5cGUuZ2V0Vmlld1Jvb3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlld1Jvb3R9LGUucHJvdG90eXBlLnJlc2V0Vmlld1Jvb3Q9ZnVuY3Rpb24odCl7dD90aGlzLl92aWV3Um9vdD10OnQ9dGhpcy5fdmlld1Jvb3Q7dmFyIGU9dGhpcy5nZXRSYXdEYXRhKCkudHJlZS5yb290O3QmJih0PT09ZXx8ZS5jb250YWlucyh0KSl8fCh0aGlzLl92aWV3Um9vdD1lKX0sZS5wcm90b3R5cGUuZW5hYmxlQXJpYURlY2FsPWZ1bmN0aW9uKCl7R1QodGhpcyl9LGUudHlwZT0ic2VyaWVzLnN1bmJ1cnN0IixlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6MixjZW50ZXI6WyI1MCUiLCI1MCUiXSxyYWRpdXM6WzAsIjc1JSJdLGNsb2Nrd2lzZTohMCxzdGFydEFuZ2xlOjkwLG1pbkFuZ2xlOjAsc3RpbGxTaG93WmVyb1N1bTohMCxub2RlQ2xpY2s6InJvb3RUb05vZGUiLHJlbmRlckxhYmVsRm9yWmVyb0RhdGE6ITEsbGFiZWw6e3JvdGF0ZToicmFkaWFsIixzaG93OiEwLG9wYWNpdHk6MSxhbGlnbjoiY2VudGVyIixwb3NpdGlvbjoiaW5zaWRlIixkaXN0YW5jZTo1LHNpbGVudDohMH0saXRlbVN0eWxlOntib3JkZXJXaWR0aDoxLGJvcmRlckNvbG9yOiJ3aGl0ZSIsYm9yZGVyVHlwZToic29saWQiLHNoYWRvd0JsdXI6MCxzaGFkb3dDb2xvcjoicmdiYSgwLCAwLCAwLCAwLjIpIixzaGFkb3dPZmZzZXRYOjAsc2hhZG93T2Zmc2V0WTowLG9wYWNpdHk6MX0sZW1waGFzaXM6e2ZvY3VzOiJkZXNjZW5kYW50In0sYmx1cjp7aXRlbVN0eWxlOntvcGFjaXR5Oi4yfSxsYWJlbDp7b3BhY2l0eTouMX19LGFuaW1hdGlvblR5cGU6ImV4cGFuc2lvbiIsYW5pbWF0aW9uRHVyYXRpb246MWUzLGFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlOjUwMCxkYXRhOltdLHNvcnQ6ImRlc2MifSxlfShOZik7ZnVuY3Rpb24gdlAodCl7dmFyIGU9MDtPKHQuY2hpbGRyZW4sKGZ1bmN0aW9uKHQpe3ZQKHQpO3ZhciBuPXQudmFsdWU7RihuKSYmKG49blswXSksZSs9bn0pKTt2YXIgbj10LnZhbHVlO0YobikmJihuPW5bMF0pLChudWxsPT1ufHxpc05hTihuKSkmJihuPWUpLG48MCYmKG49MCksRih0LnZhbHVlKT90LnZhbHVlWzBdPW46dC52YWx1ZT1ufXZhciBtUD1NYXRoLlBJLzE4MDtmdW5jdGlvbiBfUCh0LGUsbil7ZS5lYWNoU2VyaWVzQnlUeXBlKHQsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KCJjZW50ZXIiKSxpPXQuZ2V0KCJyYWRpdXMiKTtGKGkpfHwoaT1bMCxpXSksRihlKXx8KGU9W2UsZV0pO3ZhciByPW4uZ2V0V2lkdGgoKSxvPW4uZ2V0SGVpZ2h0KCksYT1NYXRoLm1pbihyLG8pLHM9cWkoZVswXSxyKSxsPXFpKGVbMV0sbyksdT1xaShpWzBdLGEvMiksaD1xaShpWzFdLGEvMiksYz0tdC5nZXQoInN0YXJ0QW5nbGUiKSptUCxwPXQuZ2V0KCJtaW5BbmdsZSIpKm1QLGQ9dC5nZXREYXRhKCkudHJlZS5yb290LGY9dC5nZXRWaWV3Um9vdCgpLGc9Zi5kZXB0aCx5PXQuZ2V0KCJzb3J0Iik7bnVsbCE9eSYmeFAoZix5KTt2YXIgdj0wO08oZi5jaGlsZHJlbiwoZnVuY3Rpb24odCl7IWlzTmFOKHQuZ2V0VmFsdWUoKSkmJnYrK30pKTt2YXIgbT1mLmdldFZhbHVlKCksXz1NYXRoLlBJLyhtfHx2KSoyLHg9Zi5kZXB0aD4wLGI9Zi5oZWlnaHQtKHg/LTE6MSksdz0oaC11KS8oYnx8MSksUz10LmdldCgiY2xvY2t3aXNlIiksTT10LmdldCgic3RpbGxTaG93WmVyb1N1bSIpLEk9Uz8xOi0xLFQ9ZnVuY3Rpb24oZSxuKXtpZihlKXt2YXIgaT1uO2lmKGUhPT1kKXt2YXIgcj1lLmdldFZhbHVlKCksbz0wPT09bSYmTT9fOnIqXztvPHAmJihvPXApLGk9bitJKm87dmFyIGg9ZS5kZXB0aC1nLSh4Py0xOjEpLGM9dSt3KmgsZj11K3cqKGgrMSkseT10LmdldExldmVsTW9kZWwoZSk7aWYoeSl7dmFyIHY9eS5nZXQoInIwIiwhMCksYj15LmdldCgiciIsITApLEM9eS5nZXQoInJhZGl1cyIsITApO251bGwhPUMmJih2PUNbMF0sYj1DWzFdKSxudWxsIT12JiYoYz1xaSh2LGEvMikpLG51bGwhPWImJihmPXFpKGIsYS8yKSl9ZS5zZXRMYXlvdXQoe2FuZ2xlOm8sc3RhcnRBbmdsZTpuLGVuZEFuZ2xlOmksY2xvY2t3aXNlOlMsY3g6cyxjeTpsLHIwOmMscjpmfSl9aWYoZS5jaGlsZHJlbiYmZS5jaGlsZHJlbi5sZW5ndGgpe3ZhciBEPTA7TyhlLmNoaWxkcmVuLChmdW5jdGlvbih0KXtEKz1UKHQsbitEKX0pKX1yZXR1cm4gaS1ufX07aWYoeCl7dmFyIEM9dSxEPXUrdyxBPTIqTWF0aC5QSTtkLnNldExheW91dCh7YW5nbGU6QSxzdGFydEFuZ2xlOmMsZW5kQW5nbGU6YytBLGNsb2Nrd2lzZTpTLGN4OnMsY3k6bCxyMDpDLHI6RH0pfVQoZixjKX0pKX1mdW5jdGlvbiB4UCh0LGUpe3ZhciBuPXQuY2hpbGRyZW58fFtdO3QuY2hpbGRyZW49ZnVuY3Rpb24odCxlKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZSl7dmFyIG49Uih0LChmdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0VmFsdWUoKTtyZXR1cm57cGFyYW1zOntkZXB0aDp0LmRlcHRoLGhlaWdodDp0LmhlaWdodCxkYXRhSW5kZXg6dC5kYXRhSW5kZXgsZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbn19LGluZGV4OmV9fSkpO3JldHVybiBuLnNvcnQoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUodC5wYXJhbXMsbi5wYXJhbXMpfSkpLFIobiwoZnVuY3Rpb24oZSl7cmV0dXJuIHRbZS5pbmRleF19KSl9dmFyIGk9ImFzYyI9PT1lO3JldHVybiB0LnNvcnQoKGZ1bmN0aW9uKHQsZSl7dmFyIG49KHQuZ2V0VmFsdWUoKS1lLmdldFZhbHVlKCkpKihpPzE6LTEpO3JldHVybiAwPT09bj8odC5kYXRhSW5kZXgtZS5kYXRhSW5kZXgpKihpPy0xOjEpOm59KSl9KG4sZSksbi5sZW5ndGgmJk8odC5jaGlsZHJlbiwoZnVuY3Rpb24odCl7eFAodCxlKX0pKX1mdW5jdGlvbiBiUCh0KXt2YXIgZT17fTt0LmVhY2hTZXJpZXNCeVR5cGUoInN1bmJ1cnN0IiwoZnVuY3Rpb24odCl7dmFyIG49dC5nZXREYXRhKCksaT1uLnRyZWU7aS5lYWNoTm9kZSgoZnVuY3Rpb24ocil7dmFyIG89ci5nZXRNb2RlbCgpLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKTtvLmZpbGx8fChvLmZpbGw9ZnVuY3Rpb24odCxuLGkpe2Zvcih2YXIgcj10O3ImJnIuZGVwdGg+MTspcj1yLnBhcmVudE5vZGU7dmFyIG89bi5nZXRDb2xvckZyb21QYWxldHRlKHIubmFtZXx8ci5kYXRhSW5kZXgrIiIsZSk7cmV0dXJuIHQuZGVwdGg+MSYmInN0cmluZyI9PXR5cGVvZiBvJiYobz1YZShvLCh0LmRlcHRoLTEpLyhpLTEpKi41KSksb30ocix0LGkucm9vdC5oZWlnaHQpKSxUKG4uZW5zdXJlVW5pcXVlSXRlbVZpc3VhbChyLmRhdGFJbmRleCwic3R5bGUiKSxvKX0pKX0pKX12YXIgd1A9e3g6MSx5OjEsc2NhbGVYOjEsc2NhbGVZOjEsb3JpZ2luWDoxLG9yaWdpblk6MSxyb3RhdGlvbjoxfSxTUD17Y29sb3I6ImZpbGwiLGJvcmRlckNvbG9yOiJzdHJva2UifSxNUD17c3ltYm9sOjEsc3ltYm9sU2l6ZToxLHN5bWJvbEtlZXBBc3BlY3Q6MSxsZWdlbmRJY29uOjEsdmlzdWFsTWV0YToxLGxpZnRaOjEsZGVjYWw6MX0sSVA9UnIoKSxUUD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5vcHRpb25VcGRhdGVkPWZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50WkxldmVsPXRoaXMuZ2V0KCJ6bGV2ZWwiLCEwKSx0aGlzLmN1cnJlbnRaPXRoaXMuZ2V0KCJ6IiwhMCl9LGUucHJvdG90eXBlLmdldEluaXRpYWxEYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG1fKG51bGwsdGhpcyl9LGUucHJvdG90eXBlLmdldERhdGFQYXJhbXM9ZnVuY3Rpb24oZSxuLGkpe3ZhciByPXQucHJvdG90eXBlLmdldERhdGFQYXJhbXMuY2FsbCh0aGlzLGUsbik7cmV0dXJuIGkmJihyLmluZm89SVAoaSkuaW5mbykscn0sZS50eXBlPSJzZXJpZXMuY3VzdG9tIixlLmRlcGVuZGVuY2llcz1bImdyaWQiLCJwb2xhciIsImdlbyIsInNpbmdsZUF4aXMiLCJjYWxlbmRhciJdLGUuZGVmYXVsdE9wdGlvbj17Y29vcmRpbmF0ZVN5c3RlbToiY2FydGVzaWFuMmQiLHpsZXZlbDowLHo6MixsZWdlbmRIb3Zlckxpbms6ITAsY2xpcDohMX0sZX0oTmYpO2Z1bmN0aW9uIENQKHQsZSl7cmV0dXJuIGU9ZXx8WzAsMF0sUihbIngiLCJ5Il0sKGZ1bmN0aW9uKG4saSl7dmFyIHI9dGhpcy5nZXRBeGlzKG4pLG89ZVtpXSxhPXRbaV0vMjtyZXR1cm4iY2F0ZWdvcnkiPT09ci50eXBlP3IuZ2V0QmFuZFdpZHRoKCk6TWF0aC5hYnMoci5kYXRhVG9Db29yZChvLWEpLXIuZGF0YVRvQ29vcmQobythKSl9KSx0aGlzKX1mdW5jdGlvbiBEUCh0LGUpe3JldHVybiBlPWV8fFswLDBdLFIoWzAsMV0sKGZ1bmN0aW9uKG4pe3ZhciBpPWVbbl0scj10W25dLzIsbz1bXSxhPVtdO3JldHVybiBvW25dPWktcixhW25dPWkrcixvWzEtbl09YVsxLW5dPWVbMS1uXSxNYXRoLmFicyh0aGlzLmRhdGFUb1BvaW50KG8pW25dLXRoaXMuZGF0YVRvUG9pbnQoYSlbbl0pfSksdGhpcyl9ZnVuY3Rpb24gQVAodCxlKXt2YXIgbj10aGlzLmdldEF4aXMoKSxpPWUgaW5zdGFuY2VvZiBBcnJheT9lWzBdOmUscj0odCBpbnN0YW5jZW9mIEFycmF5P3RbMF06dCkvMjtyZXR1cm4iY2F0ZWdvcnkiPT09bi50eXBlP24uZ2V0QmFuZFdpZHRoKCk6TWF0aC5hYnMobi5kYXRhVG9Db29yZChpLXIpLW4uZGF0YVRvQ29vcmQoaStyKSl9ZnVuY3Rpb24ga1AodCxlKXtyZXR1cm4gZT1lfHxbMCwwXSxSKFsiUmFkaXVzIiwiQW5nbGUiXSwoZnVuY3Rpb24obixpKXt2YXIgcj10aGlzWyJnZXQiK24rIkF4aXMiXSgpLG89ZVtpXSxhPXRbaV0vMixzPSJjYXRlZ29yeSI9PT1yLnR5cGU/ci5nZXRCYW5kV2lkdGgoKTpNYXRoLmFicyhyLmRhdGFUb0Nvb3JkKG8tYSktci5kYXRhVG9Db29yZChvK2EpKTtyZXR1cm4iQW5nbGUiPT09biYmKHM9cypNYXRoLlBJLzE4MCksc30pLHRoaXMpfWZ1bmN0aW9uIExQKHQsZSxuLGkpe3JldHVybiB0JiYodC5sZWdhY3l8fCExIT09dC5sZWdhY3kmJiFuJiYhaSYmInRzcGFuIiE9PWUmJigidGV4dCI9PT1lfHxmdCh0LCJ0ZXh0IikpKX1mdW5jdGlvbiBQUCh0LGUsbil7dmFyIGkscixvLGE9dDtpZigidGV4dCI9PT1lKW89YTtlbHNle289e30sZnQoYSwidGV4dCIpJiYoby50ZXh0PWEudGV4dCksZnQoYSwicmljaCIpJiYoby5yaWNoPWEucmljaCksZnQoYSwidGV4dEZpbGwiKSYmKG8uZmlsbD1hLnRleHRGaWxsKSxmdChhLCJ0ZXh0U3Ryb2tlIikmJihvLnN0cm9rZT1hLnRleHRTdHJva2UpLGZ0KGEsImZvbnRGYW1pbHkiKSYmKG8uZm9udEZhbWlseT1hLmZvbnRGYW1pbHkpLGZ0KGEsImZvbnRTaXplIikmJihvLmZvbnRTaXplPWEuZm9udFNpemUpLGZ0KGEsImZvbnRTdHlsZSIpJiYoby5mb250U3R5bGU9YS5mb250U3R5bGUpLGZ0KGEsImZvbnRXZWlnaHQiKSYmKG8uZm9udFdlaWdodD1hLmZvbnRXZWlnaHQpLHI9e3R5cGU6InRleHQiLHN0eWxlOm8sc2lsZW50OiEwfSxpPXt9O3ZhciBzPWZ0KGEsInRleHRQb3NpdGlvbiIpO24/aS5wb3NpdGlvbj1zP2EudGV4dFBvc2l0aW9uOiJpbnNpZGUiOnMmJihpLnBvc2l0aW9uPWEudGV4dFBvc2l0aW9uKSxmdChhLCJ0ZXh0UG9zaXRpb24iKSYmKGkucG9zaXRpb249YS50ZXh0UG9zaXRpb24pLGZ0KGEsInRleHRPZmZzZXQiKSYmKGkub2Zmc2V0PWEudGV4dE9mZnNldCksZnQoYSwidGV4dFJvdGF0aW9uIikmJihpLnJvdGF0aW9uPWEudGV4dFJvdGF0aW9uKSxmdChhLCJ0ZXh0RGlzdGFuY2UiKSYmKGkuZGlzdGFuY2U9YS50ZXh0RGlzdGFuY2UpfXJldHVybiBPUChvLHQpLE8oby5yaWNoLChmdW5jdGlvbih0KXtPUCh0LHQpfSkpLHt0ZXh0Q29uZmlnOmksdGV4dENvbnRlbnQ6cn19ZnVuY3Rpb24gT1AodCxlKXtlJiYoZS5mb250PWUudGV4dEZvbnR8fGUuZm9udCxmdChlLCJ0ZXh0U3Ryb2tlV2lkdGgiKSYmKHQubGluZVdpZHRoPWUudGV4dFN0cm9rZVdpZHRoKSxmdChlLCJ0ZXh0QWxpZ24iKSYmKHQuYWxpZ249ZS50ZXh0QWxpZ24pLGZ0KGUsInRleHRWZXJ0aWNhbEFsaWduIikmJih0LnZlcnRpY2FsQWxpZ249ZS50ZXh0VmVydGljYWxBbGlnbiksZnQoZSwidGV4dExpbmVIZWlnaHQiKSYmKHQubGluZUhlaWdodD1lLnRleHRMaW5lSGVpZ2h0KSxmdChlLCJ0ZXh0V2lkdGgiKSYmKHQud2lkdGg9ZS50ZXh0V2lkdGgpLGZ0KGUsInRleHRIZWlnaHQiKSYmKHQuaGVpZ2h0PWUudGV4dEhlaWdodCksZnQoZSwidGV4dEJhY2tncm91bmRDb2xvciIpJiYodC5iYWNrZ3JvdW5kQ29sb3I9ZS50ZXh0QmFja2dyb3VuZENvbG9yKSxmdChlLCJ0ZXh0UGFkZGluZyIpJiYodC5wYWRkaW5nPWUudGV4dFBhZGRpbmcpLGZ0KGUsInRleHRCb3JkZXJDb2xvciIpJiYodC5ib3JkZXJDb2xvcj1lLnRleHRCb3JkZXJDb2xvciksZnQoZSwidGV4dEJvcmRlcldpZHRoIikmJih0LmJvcmRlcldpZHRoPWUudGV4dEJvcmRlcldpZHRoKSxmdChlLCJ0ZXh0Qm9yZGVyUmFkaXVzIikmJih0LmJvcmRlclJhZGl1cz1lLnRleHRCb3JkZXJSYWRpdXMpLGZ0KGUsInRleHRCb3hTaGFkb3dDb2xvciIpJiYodC5zaGFkb3dDb2xvcj1lLnRleHRCb3hTaGFkb3dDb2xvciksZnQoZSwidGV4dEJveFNoYWRvd0JsdXIiKSYmKHQuc2hhZG93Qmx1cj1lLnRleHRCb3hTaGFkb3dCbHVyKSxmdChlLCJ0ZXh0Qm94U2hhZG93T2Zmc2V0WCIpJiYodC5zaGFkb3dPZmZzZXRYPWUudGV4dEJveFNoYWRvd09mZnNldFgpLGZ0KGUsInRleHRCb3hTaGFkb3dPZmZzZXRZIikmJih0LnNoYWRvd09mZnNldFk9ZS50ZXh0Qm94U2hhZG93T2Zmc2V0WSkpfWZ1bmN0aW9uIFJQKHQsZSxuKXt2YXIgaT10O2kudGV4dFBvc2l0aW9uPWkudGV4dFBvc2l0aW9ufHxuLnBvc2l0aW9ufHwiaW5zaWRlIixudWxsIT1uLm9mZnNldCYmKGkudGV4dE9mZnNldD1uLm9mZnNldCksbnVsbCE9bi5yb3RhdGlvbiYmKGkudGV4dFJvdGF0aW9uPW4ucm90YXRpb24pLG51bGwhPW4uZGlzdGFuY2UmJihpLnRleHREaXN0YW5jZT1uLmRpc3RhbmNlKTt2YXIgcj1pLnRleHRQb3NpdGlvbi5pbmRleE9mKCJpbnNpZGUiKT49MCxvPXQuZmlsbHx8IiMwMDAiO05QKGksZSk7dmFyIGE9bnVsbD09aS50ZXh0RmlsbDtyZXR1cm4gcj9hJiYoaS50ZXh0RmlsbD1uLmluc2lkZUZpbGx8fCIjZmZmIiwhaS50ZXh0U3Ryb2tlJiZuLmluc2lkZVN0cm9rZSYmKGkudGV4dFN0cm9rZT1uLmluc2lkZVN0cm9rZSksIWkudGV4dFN0cm9rZSYmKGkudGV4dFN0cm9rZT1vKSxudWxsPT1pLnRleHRTdHJva2VXaWR0aCYmKGkudGV4dFN0cm9rZVdpZHRoPTIpKTooYSYmKGkudGV4dEZpbGw9dC5maWxsfHxuLm91dHNpZGVGaWxsfHwiIzAwMCIpLCFpLnRleHRTdHJva2UmJm4ub3V0c2lkZVN0cm9rZSYmKGkudGV4dFN0cm9rZT1uLm91dHNpZGVTdHJva2UpKSxpLnRleHQ9ZS50ZXh0LGkucmljaD1lLnJpY2gsTyhlLnJpY2gsKGZ1bmN0aW9uKHQpe05QKHQsdCl9KSksaX1mdW5jdGlvbiBOUCh0LGUpe2UmJihmdChlLCJmaWxsIikmJih0LnRleHRGaWxsPWUuZmlsbCksZnQoZSwic3Ryb2tlIikmJih0LnRleHRTdHJva2U9ZS5maWxsKSxmdChlLCJsaW5lV2lkdGgiKSYmKHQudGV4dFN0cm9rZVdpZHRoPWUubGluZVdpZHRoKSxmdChlLCJmb250IikmJih0LmZvbnQ9ZS5mb250KSxmdChlLCJmb250U3R5bGUiKSYmKHQuZm9udFN0eWxlPWUuZm9udFN0eWxlKSxmdChlLCJmb250V2VpZ2h0IikmJih0LmZvbnRXZWlnaHQ9ZS5mb250V2VpZ2h0KSxmdChlLCJmb250U2l6ZSIpJiYodC5mb250U2l6ZT1lLmZvbnRTaXplKSxmdChlLCJmb250RmFtaWx5IikmJih0LmZvbnRGYW1pbHk9ZS5mb250RmFtaWx5KSxmdChlLCJhbGlnbiIpJiYodC50ZXh0QWxpZ249ZS5hbGlnbiksZnQoZSwidmVydGljYWxBbGlnbiIpJiYodC50ZXh0VmVydGljYWxBbGlnbj1lLnZlcnRpY2FsQWxpZ24pLGZ0KGUsImxpbmVIZWlnaHQiKSYmKHQudGV4dExpbmVIZWlnaHQ9ZS5saW5lSGVpZ2h0KSxmdChlLCJ3aWR0aCIpJiYodC50ZXh0V2lkdGg9ZS53aWR0aCksZnQoZSwiaGVpZ2h0IikmJih0LnRleHRIZWlnaHQ9ZS5oZWlnaHQpLGZ0KGUsImJhY2tncm91bmRDb2xvciIpJiYodC50ZXh0QmFja2dyb3VuZENvbG9yPWUuYmFja2dyb3VuZENvbG9yKSxmdChlLCJwYWRkaW5nIikmJih0LnRleHRQYWRkaW5nPWUucGFkZGluZyksZnQoZSwiYm9yZGVyQ29sb3IiKSYmKHQudGV4dEJvcmRlckNvbG9yPWUuYm9yZGVyQ29sb3IpLGZ0KGUsImJvcmRlcldpZHRoIikmJih0LnRleHRCb3JkZXJXaWR0aD1lLmJvcmRlcldpZHRoKSxmdChlLCJib3JkZXJSYWRpdXMiKSYmKHQudGV4dEJvcmRlclJhZGl1cz1lLmJvcmRlclJhZGl1cyksZnQoZSwic2hhZG93Q29sb3IiKSYmKHQudGV4dEJveFNoYWRvd0NvbG9yPWUuc2hhZG93Q29sb3IpLGZ0KGUsInNoYWRvd0JsdXIiKSYmKHQudGV4dEJveFNoYWRvd0JsdXI9ZS5zaGFkb3dCbHVyKSxmdChlLCJzaGFkb3dPZmZzZXRYIikmJih0LnRleHRCb3hTaGFkb3dPZmZzZXRYPWUuc2hhZG93T2Zmc2V0WCksZnQoZSwic2hhZG93T2Zmc2V0WSIpJiYodC50ZXh0Qm94U2hhZG93T2Zmc2V0WT1lLnNoYWRvd09mZnNldFkpLGZ0KGUsInRleHRTaGFkb3dDb2xvciIpJiYodC50ZXh0U2hhZG93Q29sb3I9ZS50ZXh0U2hhZG93Q29sb3IpLGZ0KGUsInRleHRTaGFkb3dCbHVyIikmJih0LnRleHRTaGFkb3dCbHVyPWUudGV4dFNoYWRvd0JsdXIpLGZ0KGUsInRleHRTaGFkb3dPZmZzZXRYIikmJih0LnRleHRTaGFkb3dPZmZzZXRYPWUudGV4dFNoYWRvd09mZnNldFgpLGZ0KGUsInRleHRTaGFkb3dPZmZzZXRZIikmJih0LnRleHRTaGFkb3dPZmZzZXRZPWUudGV4dFNoYWRvd09mZnNldFkpKX12YXIgelA9e3Bvc2l0aW9uOlsieCIsInkiXSxzY2FsZTpbInNjYWxlWCIsInNjYWxlWSJdLG9yaWdpbjpbIm9yaWdpblgiLCJvcmlnaW5ZIl19O2Z1bmN0aW9uIEVQKHQsZSxuKXt2YXIgaT10W25dLHI9elBbbl07aSYmKGVbclswXV09aVswXSxlW3JbMV1dPWlbMV0pfWZ1bmN0aW9uIFZQKHQsZSxuKXtudWxsIT10W25dJiYoZVtuXT10W25dKX1mdW5jdGlvbiBCUCh0LGUsbil7biYmKHRbZV09bltlXSl9ZnVuY3Rpb24gR1AodCxlLG4saSxyKXt2YXIgbz1uW3RdO2lmKG8pe3ZhciBhLHM9ZVt0XSxsPW8uZW50ZXJGcm9tO2lmKHImJmwpeyFhJiYoYT1pW3RdPXt9KTtmb3IodmFyIHU9VihsKSxoPTA7aDx1Lmxlbmd0aDtoKyspe2FbbT11W2hdXT1sW21dfX1pZighciYmcylpZihvLnRyYW5zaXRpb24peyFhJiYoYT1pW3RdPXt9KTt2YXIgYz13cihvLnRyYW5zaXRpb24pO2ZvcihoPTA7aDxjLmxlbmd0aDtoKyspe3ZhciBwPXNbbT1jW2hdXTswLGFbbV09cH19ZWxzZSBpZihBKG4udHJhbnNpdGlvbix0KT49MCl7IWEmJihhPWlbdF09e30pO3ZhciBkPVYocyk7Zm9yKGg9MDtoPGQubGVuZ3RoO2grKyl7cD1zW209ZFtoXV07SFAob1ttXSxwKSYmKGFbbV09cCl9fXZhciBmPW8ubGVhdmVUbztpZihmKXt2YXIgZz1XUChlKSx5PWdbdF18fChnW3RdPXt9KSx2PVYoZik7Zm9yKGg9MDtoPHYubGVuZ3RoO2grKyl7dmFyIG07eVttPXZbaF1dPWZbbV19fX19ZnVuY3Rpb24gRlAodCxlLG4pe3ZhciBpPWVbdF07aWYoaSlmb3IodmFyIHI9blt0XT17fSxvPVYoaSksYT0wO2E8by5sZW5ndGg7YSsrKXt2YXIgcz1vW2FdO3Jbc109cG4oaVtzXSl9fWZ1bmN0aW9uIEhQKHQsZSl7cmV0dXJuIFAodCk/dCE9PWU6bnVsbCE9dCYmaXNGaW5pdGUodCl9ZnVuY3Rpb24gV1AodCl7dmFyIGU9SVAodCk7cmV0dXJuIGUubGVhdmVUb1Byb3BzfHwoZS5sZWF2ZVRvUHJvcHM9e30pfVYod1ApLmpvaW4oIiwgIik7dmFyIFVQPSJlbXBoYXNpcyIsWFA9Im5vcm1hbCIsWVA9ImJsdXIiLFpQPSJzZWxlY3QiLGpQPVtYUCxVUCxZUCxaUF0scVA9e25vcm1hbDpbIml0ZW1TdHlsZSJdLGVtcGhhc2lzOltVUCwiaXRlbVN0eWxlIl0sYmx1cjpbWVAsIml0ZW1TdHlsZSJdLHNlbGVjdDpbWlAsIml0ZW1TdHlsZSJdfSxLUD17bm9ybWFsOlsibGFiZWwiXSxlbXBoYXNpczpbVVAsImxhYmVsIl0sYmx1cjpbWVAsImxhYmVsIl0sc2VsZWN0OltaUCwibGFiZWwiXX0sJFA9e25vcm1hbDp7fSxlbXBoYXNpczp7fSxibHVyOnt9LHNlbGVjdDp7fX0sSlA9e2NhcnRlc2lhbjJkOmZ1bmN0aW9uKHQpe3ZhciBlPXQubWFzdGVyLmdldFJlY3QoKTtyZXR1cm57Y29vcmRTeXM6e3R5cGU6ImNhcnRlc2lhbjJkIix4OmUueCx5OmUueSx3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodH0sYXBpOntjb29yZDpmdW5jdGlvbihlKXtyZXR1cm4gdC5kYXRhVG9Qb2ludChlKX0sc2l6ZTpCKENQLHQpfX19LGdlbzpmdW5jdGlvbih0KXt2YXIgZT10LmdldEJvdW5kaW5nUmVjdCgpO3JldHVybntjb29yZFN5czp7dHlwZToiZ2VvIix4OmUueCx5OmUueSx3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodCx6b29tOnQuZ2V0Wm9vbSgpfSxhcGk6e2Nvb3JkOmZ1bmN0aW9uKGUpe3JldHVybiB0LmRhdGFUb1BvaW50KGUpfSxzaXplOkIoRFAsdCl9fX0sc2luZ2xlQXhpczpmdW5jdGlvbih0KXt2YXIgZT10LmdldFJlY3QoKTtyZXR1cm57Y29vcmRTeXM6e3R5cGU6InNpbmdsZUF4aXMiLHg6ZS54LHk6ZS55LHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0fSxhcGk6e2Nvb3JkOmZ1bmN0aW9uKGUpe3JldHVybiB0LmRhdGFUb1BvaW50KGUpfSxzaXplOkIoQVAsdCl9fX0scG9sYXI6ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRSYWRpdXNBeGlzKCksbj10LmdldEFuZ2xlQXhpcygpLGk9ZS5nZXRFeHRlbnQoKTtyZXR1cm4gaVswXT5pWzFdJiZpLnJldmVyc2UoKSx7Y29vcmRTeXM6e3R5cGU6InBvbGFyIixjeDp0LmN4LGN5OnQuY3kscjppWzFdLHIwOmlbMF19LGFwaTp7Y29vcmQ6ZnVuY3Rpb24oaSl7dmFyIHI9ZS5kYXRhVG9SYWRpdXMoaVswXSksbz1uLmRhdGFUb0FuZ2xlKGlbMV0pLGE9dC5jb29yZFRvUG9pbnQoW3Isb10pO3JldHVybiBhLnB1c2gocixvKk1hdGguUEkvMTgwKSxhfSxzaXplOkIoa1AsdCl9fX0sY2FsZW5kYXI6ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRSZWN0KCksbj10LmdldFJhbmdlSW5mbygpO3JldHVybntjb29yZFN5czp7dHlwZToiY2FsZW5kYXIiLHg6ZS54LHk6ZS55LHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0LGNlbGxXaWR0aDp0LmdldENlbGxXaWR0aCgpLGNlbGxIZWlnaHQ6dC5nZXRDZWxsSGVpZ2h0KCkscmFuZ2VJbmZvOntzdGFydDpuLnN0YXJ0LGVuZDpuLmVuZCx3ZWVrczpuLndlZWtzLGRheUNvdW50Om4uYWxsRGF5fX0sYXBpOntjb29yZDpmdW5jdGlvbihlLG4pe3JldHVybiB0LmRhdGFUb1BvaW50KGUsbil9fX19fTtmdW5jdGlvbiBRUCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFFhfWZ1bmN0aW9uIHRPKHQpe3JldHVybiB0IGluc3RhbmNlb2YgVG99dmFyIGVPPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzLl9kYXRhLG89dC5nZXREYXRhKCksYT10aGlzLmdyb3VwLHM9dU8odCxvLGUsbik7cnx8YS5yZW1vdmVBbGwoKSxvLmRpZmYocikuYWRkKChmdW5jdGlvbihlKXtjTyhuLG51bGwsZSxzKGUsaSksdCxhLG8pfSkpLnJlbW92ZSgoZnVuY3Rpb24oZSl7eE8oci5nZXRJdGVtR3JhcGhpY0VsKGUpLHQsYSl9KSkudXBkYXRlKChmdW5jdGlvbihlLGwpe3ZhciB1PXIuZ2V0SXRlbUdyYXBoaWNFbChsKTtjTyhuLHUsZSxzKGUsaSksdCxhLG8pfSkpLmV4ZWN1dGUoKTt2YXIgbD10LmdldCgiY2xpcCIsITApP0p3KHQuY29vcmRpbmF0ZVN5c3RlbSwhMSx0KTpudWxsO2w/YS5zZXRDbGlwUGF0aChsKTphLnJlbW92ZUNsaXBQYXRoKCksdGhpcy5fZGF0YT1vfSxlLnByb3RvdHlwZS5pbmNyZW1lbnRhbFByZXBhcmVSZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3RoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fZGF0YT1udWxsfSxlLnByb3RvdHlwZS5pbmNyZW1lbnRhbFJlbmRlcj1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPWUuZ2V0RGF0YSgpLGE9dU8oZSxvLG4saSk7ZnVuY3Rpb24gcyh0KXt0LmlzR3JvdXB8fCh0LmluY3JlbWVudGFsPSEwLHQuZW5zdXJlU3RhdGUoImVtcGhhc2lzIikuaG92ZXJMYXllcj0hMCl9Zm9yKHZhciBsPXQuc3RhcnQ7bDx0LmVuZDtsKyspe3ZhciB1PWNPKG51bGwsbnVsbCxsLGEobCxyKSxlLHRoaXMuZ3JvdXAsbyk7dSYmdS50cmF2ZXJzZShzKX19LGUucHJvdG90eXBlLmZpbHRlckZvckV4cG9zZWRFdmVudD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1lLmVsZW1lbnQ7aWYobnVsbD09cnx8bi5uYW1lPT09cilyZXR1cm4hMDtmb3IoOyhuPW4uX19ob3N0VGFyZ2V0fHxuLnBhcmVudCkmJm4hPT10aGlzLmdyb3VwOylpZihuLm5hbWU9PT1yKXJldHVybiEwO3JldHVybiExfSxlLnR5cGU9ImN1c3RvbSIsZX0oWmYpO2Z1bmN0aW9uIG5PKHQpe3ZhciBlLG49dC50eXBlO2lmKCJwYXRoIj09PW4pe3ZhciBpPXQuc2hhcGUscj1udWxsIT1pLndpZHRoJiZudWxsIT1pLmhlaWdodD97eDppLnh8fDAseTppLnl8fDAsd2lkdGg6aS53aWR0aCxoZWlnaHQ6aS5oZWlnaHR9Om51bGwsbz1iTyhpKTtlPUp1KG8sbnVsbCxyLGkubGF5b3V0fHwiY2VudGVyIiksSVAoZSkuY3VzdG9tUGF0aERhdGE9b31lbHNlIGlmKCJpbWFnZSI9PT1uKWU9bmV3IHJzKHt9KSxJUChlKS5jdXN0b21JbWFnZVBhdGg9dC5zdHlsZS5pbWFnZTtlbHNlIGlmKCJ0ZXh0Ij09PW4pZT1uZXcgZnMoe30pO2Vsc2UgaWYoImdyb3VwIj09PW4pZT1uZXcgQmk7ZWxzZXtpZigiY29tcG91bmRQYXRoIj09PW4pdGhyb3cgbmV3IEVycm9yKCciY29tcG91bmRQYXRoIiBpcyBub3Qgc3VwcG9ydGVkIHlldC4nKTt2YXIgYT0kdShuKTtpZighYSl7dmFyIHM9IiI7MCxfcihzKX1lPW5ldyBhfXJldHVybiBJUChlKS5jdXN0b21HcmFwaGljVHlwZT1uLGUubmFtZT10Lm5hbWUsZS56MkVtcGhhc2lzTGlmdD0xLGUuejJTZWxlY3RMaWZ0PTEsZX1mdW5jdGlvbiBpTyh0LGUsbixpLHIsbyxhLHMpe3ZhciBsPXImJnIubm9ybWFsLmNmZztsJiZlLnNldFRleHRDb25maWcobCk7dmFyIHU9aSYmaS5zdHlsZTtpZih1KXtpZigidGV4dCI9PT1lLnR5cGUpe3ZhciBoPXU7ZnQoaCwidGV4dEZpbGwiKSYmKGguZmlsbD1oLnRleHRGaWxsKSxmdChoLCJ0ZXh0U3Ryb2tlIikmJihoLnN0cm9rZT1oLnRleHRTdHJva2UpfXZhciBjPXZvaWQgMCxwPVFQKGUpP3UuZGVjYWw6bnVsbDt0JiZwJiYocC5kaXJ0eT0hMCxjPUN5KHAsdCkpLHUuX19kZWNhbFBhdHRlcm49Y31JUChlKS51c2VyRHVyaW5nPWkuZHVyaW5nO3ZhciBkPXt9LGY9e307R1AoInNoYXBlIixlLGksZCxhKSxGUCgic2hhcGUiLGksZiksZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9ZS5lbnRlckZyb207aWYoaSYmcilmb3IodmFyIG89VihyKSxhPTA7YTxvLmxlbmd0aDthKyspbltwPW9bYV1dPXJbcF07aWYoIWkpaWYoZS50cmFuc2l0aW9uKXt2YXIgcz13cihlLnRyYW5zaXRpb24pO2ZvcihhPTA7YTxzLmxlbmd0aDthKyspaWYoInN0eWxlIiE9PShwPXNbYV0pJiYic2hhcGUiIT09cCYmImV4dHJhIiE9PXApe3ZhciBsPXRbcF07bltwXT1sfX1lbHNlIEJQKG4sIngiLHQpLEJQKG4sInkiLHQpO3ZhciB1PWUubGVhdmVUbztpZih1KXt2YXIgaD1XUCh0KSxjPVYodSk7Zm9yKGE9MDthPGMubGVuZ3RoO2ErKyl7dmFyIHA7aFtwPWNbYV1dPXVbcF19fX0oZSxpLGQsYSksZnVuY3Rpb24odCxlLG4pe0VQKGUsbiwicG9zaXRpb24iKSxFUChlLG4sInNjYWxlIiksRVAoZSxuLCJvcmlnaW4iKSxWUChlLG4sIngiKSxWUChlLG4sInkiKSxWUChlLG4sInNjYWxlWCIpLFZQKGUsbiwic2NhbGVZIiksVlAoZSxuLCJvcmlnaW5YIiksVlAoZSxuLCJvcmlnaW5ZIiksVlAoZSxuLCJyb3RhdGlvbiIpfSgwLGksZiksR1AoImV4dHJhIixlLGksZCxhKSxGUCgiZXh0cmEiLGksZiksZnVuY3Rpb24odCxlLG4saSxyKXtpZihuKXt2YXIgbyxhPXQuc3R5bGUscz1uLmVudGVyRnJvbTtpZihyJiZzKXt2YXIgbD1WKHMpOyFvJiYobz1pLnN0eWxlPXt9KTtmb3IodmFyIHU9MDt1PGwubGVuZ3RoO3UrKylvW189bFt1XV09c1tfXX1pZighciYmYSlpZihuLnRyYW5zaXRpb24pe3ZhciBoPXdyKG4udHJhbnNpdGlvbik7Zm9yKCFvJiYobz1pLnN0eWxlPXt9KSx1PTA7dTxoLmxlbmd0aDt1Kyspe3ZhciBjPWFbXz1oW3VdXTtvW19dPWN9fWVsc2UgaWYodC5nZXRBbmltYXRpb25TdHlsZVByb3BzJiZBKGUudHJhbnNpdGlvbiwic3R5bGUiKT49MCl7dmFyIHA9dC5nZXRBbmltYXRpb25TdHlsZVByb3BzKCksZD1wP3Auc3R5bGU6bnVsbDtpZihkKXshbyYmKG89aS5zdHlsZT17fSk7dmFyIGY9VihuKTtmb3IodT0wO3U8Zi5sZW5ndGg7dSsrKWRbXz1mW3VdXSYmKGM9YVtfXSxvW19dPWMpfX12YXIgZz1uLmxlYXZlVG87aWYoZyl7dmFyIHk9VihnKSx2PVdQKHQpLG09di5zdHlsZXx8KHYuc3R5bGU9e30pO2Zvcih1PTA7dTx5Lmxlbmd0aDt1Kyspe3ZhciBfO21bXz15W3VdXT1nW19dfX19fShlLGksdSxkLGEpLGYuc3R5bGU9dSxmdW5jdGlvbih0LGUpe3ZhciBuPXQuaXNHcm91cD9udWxsOnQsaT1lLnN0eWxlO2lmKG4mJmkpe24udXNlU3R5bGUoaSk7dmFyIHI9aS5fX2RlY2FsUGF0dGVybjtyJiYobi5zdHlsZS5kZWNhbD1yKTtmb3IodmFyIG89bi5hbmltYXRvcnMsYT0wO2E8by5sZW5ndGg7YSsrKXt2YXIgcz1vW2FdOyJzdHlsZSI9PT1zLnRhcmdldE5hbWUmJnMuY2hhbmdlVGFyZ2V0KG4uc3R5bGUpfX1lJiYoZS5zdHlsZT1udWxsLGUmJnQuYXR0cihlKSxlLnN0eWxlPWkpfShlLGYpLGZ1bmN0aW9uKHQsZSxuLGkscil7aWYoaSl7dmFyIG89SVAodCkudXNlckR1cmluZyxhPXtkYXRhSW5kZXg6ZSxpc0Zyb206ITAsZHVyaW5nOm8/QihhTyx7ZWw6dCx1c2VyRHVyaW5nOm99KTpudWxsfTtyP1Z1KHQsaSxuLGEpOkV1KHQsaSxuLGEpfX0oZSxuLG8sZCxhKSxmdW5jdGlvbih0LGUsbil7ZnQoZSwic2lsZW50IikmJih0LnNpbGVudD1lLnNpbGVudCksZnQoZSwiaWdub3JlIikmJih0Lmlnbm9yZT1lLmlnbm9yZSksdE8odCkmJmZ0KGUsImludmlzaWJsZSIpJiYodC5pbnZpc2libGU9ZS5pbnZpc2libGUpO1FQKHQpJiZmdChlLCJhdXRvQmF0Y2giKSYmKHQuYXV0b0JhdGNoPWUuYXV0b0JhdGNoKTtufHxmdChlLCJpbmZvIikmJihJUCh0KS5pbmZvPWUuaW5mbyl9KGUsaSxzKSx1P2UuZGlydHkoKTplLm1hcmtSZWRyYXcoKX12YXIgck89e30sb089e3NldFRyYW5zZm9ybTpmdW5jdGlvbih0LGUpe3JldHVybiByTy5lbFt0XT1lLHRoaXN9LGdldFRyYW5zZm9ybTpmdW5jdGlvbih0KXtyZXR1cm4gck8uZWxbdF19LHNldFNoYXBlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuKHJPLmVsLnNoYXBlfHwock8uZWwuc2hhcGU9e30pKVt0XT1lLHJPLmlzU2hhcGVEaXJ0eT0hMCx0aGlzfSxnZXRTaGFwZTpmdW5jdGlvbih0KXt2YXIgZT1yTy5lbC5zaGFwZTtpZihlKXJldHVybiBlW3RdfSxzZXRTdHlsZTpmdW5jdGlvbih0LGUpe3ZhciBuPXJPLmVsLnN0eWxlO3JldHVybiBuJiYoblt0XT1lLHJPLmlzU3R5bGVEaXJ0eT0hMCksdGhpc30sZ2V0U3R5bGU6ZnVuY3Rpb24odCl7dmFyIGU9ck8uZWwuc3R5bGU7aWYoZSlyZXR1cm4gZVt0XX0sc2V0RXh0cmE6ZnVuY3Rpb24odCxlKXtyZXR1cm4ock8uZWwuZXh0cmF8fChyTy5lbC5leHRyYT17fSkpW3RdPWUsdGhpc30sZ2V0RXh0cmE6ZnVuY3Rpb24odCl7dmFyIGU9ck8uZWwuZXh0cmE7aWYoZSlyZXR1cm4gZVt0XX19O2Z1bmN0aW9uIGFPKCl7dmFyIHQ9dGhpcyxlPXQuZWw7aWYoZSl7dmFyIG49SVAoZSkudXNlckR1cmluZyxpPXQudXNlckR1cmluZztuPT09aT8ock8uZWw9ZSxyTy5pc1NoYXBlRGlydHk9ITEsck8uaXNTdHlsZURpcnR5PSExLGkob08pLHJPLmlzU2hhcGVEaXJ0eSYmZS5kaXJ0eVNoYXBlJiZlLmRpcnR5U2hhcGUoKSxyTy5pc1N0eWxlRGlydHkmJmUuZGlydHlTdHlsZSYmZS5kaXJ0eVN0eWxlKCkpOnQuZWw9dC51c2VyRHVyaW5nPW51bGx9fWZ1bmN0aW9uIHNPKHQsZSxuLGkscixvLGEpe3ZhciBzPWUuaXNHcm91cD9udWxsOmUsbD1yJiZyW3RdLmNmZztpZihzKXt2YXIgdT1zLmVuc3VyZVN0YXRlKHQpO2lmKCExPT09aSl7dmFyIGg9cy5nZXRTdGF0ZSh0KTtoJiYoaC5zdHlsZT1udWxsKX1lbHNlIHUuc3R5bGU9aXx8bnVsbDtsJiYodS50ZXh0Q29uZmlnPWwpLEtzKHMpfX1mdW5jdGlvbiBsTyh0LGUsbil7dmFyIGk9bj09PVhQLHI9aT9lOmdPKGUsbiksbz1yP3IuejI6bnVsbDtudWxsIT1vJiYoKGk/dDp0LmVuc3VyZVN0YXRlKG4pKS56Mj1vfHwwKX1mdW5jdGlvbiB1Tyh0LGUsbixpKXt2YXIgcj10LmdldCgicmVuZGVySXRlbSIpLG89dC5jb29yZGluYXRlU3lzdGVtLGE9e307byYmKGE9by5wcmVwYXJlQ3VzdG9tcz9vLnByZXBhcmVDdXN0b21zKG8pOkpQW28udHlwZV0obykpO2Zvcih2YXIgcyxsLHU9Qyh7Z2V0V2lkdGg6aS5nZXRXaWR0aCxnZXRIZWlnaHQ6aS5nZXRIZWlnaHQsZ2V0WnI6aS5nZXRacixnZXREZXZpY2VQaXhlbFJhdGlvOmkuZ2V0RGV2aWNlUGl4ZWxSYXRpbyx2YWx1ZTpmdW5jdGlvbih0LG4pe3JldHVybiBudWxsPT1uJiYobj1zKSxlLmdldFN0b3JlKCkuZ2V0KGUuZ2V0RGltZW5zaW9uSW5kZXgodHx8MCksbil9LHN0eWxlOmZ1bmN0aW9uKG4saSl7MDtudWxsPT1pJiYoaT1zKTt2YXIgcj1lLmdldEl0ZW1WaXN1YWwoaSwic3R5bGUiKSxvPXImJnIuZmlsbCxhPXImJnIub3BhY2l0eSxsPW0oaSxYUCkuZ2V0SXRlbVN0eWxlKCk7bnVsbCE9byYmKGwuZmlsbD1vKSxudWxsIT1hJiYobC5vcGFjaXR5PWEpO3ZhciB1PXtpbmhlcml0Q29sb3I6VyhvKT9vOiIjMDAwIn0saD1fKGksWFApLGM9d2goaCxudWxsLHUsITEsITApO2MudGV4dD1oLmdldFNoYWxsb3coInNob3ciKT9ldCh0LmdldEZvcm1hdHRlZExhYmVsKGksWFApLEF3KGUsaSkpOm51bGw7dmFyIHA9U2goaCx1LCExKTtyZXR1cm4gYihuLGwpLGw9UlAobCxjLHApLG4mJngobCxuKSxsLmxlZ2FjeT0hMCxsfSxvcmRpbmFsUmF3VmFsdWU6ZnVuY3Rpb24odCxuKXtudWxsPT1uJiYobj1zKSx0PXR8fDA7dmFyIGk9ZS5nZXREaW1lbnNpb25JbmZvKHQpO2lmKCFpKXt2YXIgcj1lLmdldERpbWVuc2lvbkluZGV4KHQpO3JldHVybiByPj0wP2UuZ2V0U3RvcmUoKS5nZXQocixuKTp2b2lkIDB9dmFyIG89ZS5nZXQoaS5uYW1lLG4pLGE9aSYmaS5vcmRpbmFsTWV0YTtyZXR1cm4gYT9hLmNhdGVnb3JpZXNbb106b30sc3R5bGVFbXBoYXNpczpmdW5jdGlvbihuLGkpezA7bnVsbD09aSYmKGk9cyk7dmFyIHI9bShpLFVQKS5nZXRJdGVtU3R5bGUoKSxvPV8oaSxVUCksYT13aChvLG51bGwsbnVsbCwhMCwhMCk7YS50ZXh0PW8uZ2V0U2hhbGxvdygic2hvdyIpP250KHQuZ2V0Rm9ybWF0dGVkTGFiZWwoaSxVUCksdC5nZXRGb3JtYXR0ZWRMYWJlbChpLFhQKSxBdyhlLGkpKTpudWxsO3ZhciBsPVNoKG8sbnVsbCwhMCk7cmV0dXJuIGIobixyKSxyPVJQKHIsYSxsKSxuJiZ4KHIsbiksci5sZWdhY3k9ITAscn0sdmlzdWFsOmZ1bmN0aW9uKHQsbil7aWYobnVsbD09biYmKG49cyksZnQoU1AsdCkpe3ZhciBpPWUuZ2V0SXRlbVZpc3VhbChuLCJzdHlsZSIpO3JldHVybiBpP2lbU1BbdF1dOm51bGx9aWYoZnQoTVAsdCkpcmV0dXJuIGUuZ2V0SXRlbVZpc3VhbChuLHQpfSxiYXJMYXlvdXQ6ZnVuY3Rpb24odCl7aWYoImNhcnRlc2lhbjJkIj09PW8udHlwZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPVtdLG49dC5heGlzLGk9ImF4aXMwIjtpZigiY2F0ZWdvcnkiPT09bi50eXBlKXtmb3IodmFyIHI9bi5nZXRCYW5kV2lkdGgoKSxvPTA7bzx0LmNvdW50O28rKyllLnB1c2goQyh7YmFuZFdpZHRoOnIsYXhpc0tleTppLHN0YWNrSWQ6T18rb30sdCkpO3ZhciBhPUJfKGUpLHM9W107Zm9yKG89MDtvPHQuY291bnQ7bysrKXt2YXIgbD1hLmF4aXMwW09fK29dO2wub2Zmc2V0Q2VudGVyPWwub2Zmc2V0K2wud2lkdGgvMixzLnB1c2gobCl9cmV0dXJuIHN9fShDKHtheGlzOm8uZ2V0QmFzZUF4aXMoKX0sdCkpfX0sY3VycmVudFNlcmllc0luZGljZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbi5nZXRDdXJyZW50U2VyaWVzSW5kaWNlcygpfSxmb250OmZ1bmN0aW9uKHQpe3JldHVybiBEaCh0LG4pfX0sYS5hcGl8fHt9KSxoPXtjb250ZXh0Ont9LHNlcmllc0lkOnQuaWQsc2VyaWVzTmFtZTp0Lm5hbWUsc2VyaWVzSW5kZXg6dC5zZXJpZXNJbmRleCxjb29yZFN5czphLmNvb3JkU3lzLGRhdGFJbnNpZGVMZW5ndGg6ZS5jb3VudCgpLGVuY29kZTpoTyh0LmdldERhdGEoKSl9LGM9e30scD17fSxkPXt9LGY9e30sZz0wO2c8alAubGVuZ3RoO2crKyl7dmFyIHk9alBbZ107ZFt5XT10LmdldE1vZGVsKHFQW3ldKSxmW3ldPXQuZ2V0TW9kZWwoS1BbeV0pfWZ1bmN0aW9uIHYodCl7cmV0dXJuIHQ9PT1zP2x8fChsPWUuZ2V0SXRlbU1vZGVsKHQpKTplLmdldEl0ZW1Nb2RlbCh0KX1mdW5jdGlvbiBtKHQsbil7cmV0dXJuIGUuaGFzSXRlbU9wdGlvbj90PT09cz9jW25dfHwoY1tuXT12KHQpLmdldE1vZGVsKHFQW25dKSk6dih0KS5nZXRNb2RlbChxUFtuXSk6ZFtuXX1mdW5jdGlvbiBfKHQsbil7cmV0dXJuIGUuaGFzSXRlbU9wdGlvbj90PT09cz9wW25dfHwocFtuXT12KHQpLmdldE1vZGVsKEtQW25dKSk6dih0KS5nZXRNb2RlbChLUFtuXSk6ZltuXX1yZXR1cm4gZnVuY3Rpb24odCxuKXtyZXR1cm4gcz10LGw9bnVsbCxjPXt9LHA9e30sciYmcihDKHtkYXRhSW5kZXhJbnNpZGU6dCxkYXRhSW5kZXg6ZS5nZXRSYXdJbmRleCh0KSxhY3Rpb25UeXBlOm4/bi50eXBlOm51bGx9LGgpLHUpfTtmdW5jdGlvbiB4KHQsZSl7Zm9yKHZhciBuIGluIGUpZnQoZSxuKSYmKHRbbl09ZVtuXSl9ZnVuY3Rpb24gYih0LGUpe3QmJih0LnRleHRGaWxsJiYoZS50ZXh0RmlsbD10LnRleHRGaWxsKSx0LnRleHRQb3NpdGlvbiYmKGUudGV4dFBvc2l0aW9uPXQudGV4dFBvc2l0aW9uKSl9fWZ1bmN0aW9uIGhPKHQpe3ZhciBlPXt9O3JldHVybiBPKHQuZGltZW5zaW9ucywoZnVuY3Rpb24obil7dmFyIGk9dC5nZXREaW1lbnNpb25JbmZvKG4pO2lmKCFpLmlzRXh0cmFDb29yZCl7dmFyIHI9aS5jb29yZERpbTsoZVtyXT1lW3JdfHxbXSlbaS5jb29yZERpbUluZGV4XT10LmdldERpbWVuc2lvbkluZGV4KG4pfX0pKSxlfWZ1bmN0aW9uIGNPKHQsZSxuLGkscixvLGEpe2lmKGkpe3ZhciBzPXBPKHQsZSxuLGkscixvKTtyZXR1cm4gcyYmYS5zZXRJdGVtR3JhcGhpY0VsKG4scykscyYmcGwocyxpLmZvY3VzLGkuYmx1clNjb3BlKSxzfW8ucmVtb3ZlKGUpfWZ1bmN0aW9uIHBPKHQsZSxuLGkscixvLGEpe3ZhciBzPS0xLGw9ZTtlJiZkTyhlLGkscikmJihzPUEoby5jaGlsZHJlblJlZigpLGUpLGU9bnVsbCk7dmFyIHUsaCxjPSFlLHA9ZTtwP3AuY2xlYXJTdGF0ZXMoKToocD1uTyhpKSxsJiYodT1sLChoPXApLmNvcHlUcmFuc2Zvcm0odSksdE8oaCkmJnRPKHUpJiYoaC5zZXRTdHlsZSh1LnN0eWxlKSxoLno9dS56LGguejI9dS56MixoLnpsZXZlbD11LnpsZXZlbCxoLmludmlzaWJsZT11LmludmlzaWJsZSxoLmlnbm9yZT11Lmlnbm9yZSxRUChoKSYmUVAodSkmJmguc2V0U2hhcGUodS5zaGFwZSkpKSksITE9PT1pLm1vcnBoP3AuZGlzYWJsZU1vcnBoaW5nPSEwOnAuZGlzYWJsZU1vcnBoaW5nJiYocC5kaXNhYmxlTW9ycGhpbmc9ITEpLCRQLm5vcm1hbC5jZmc9JFAubm9ybWFsLmNvbk9wdD0kUC5lbXBoYXNpcy5jZmc9JFAuZW1waGFzaXMuY29uT3B0PSRQLmJsdXIuY2ZnPSRQLmJsdXIuY29uT3B0PSRQLnNlbGVjdC5jZmc9JFAuc2VsZWN0LmNvbk9wdD1udWxsLCRQLmlzTGVnYWN5PSExLGZ1bmN0aW9uKHQsZSxuLGkscixvKXtpZih0LmlzR3JvdXApcmV0dXJuO2ZPKG4sbnVsbCxvKSxmTyhuLFVQLG8pO3ZhciBhPW8ubm9ybWFsLmNvbk9wdCxzPW8uZW1waGFzaXMuY29uT3B0LGw9by5ibHVyLmNvbk9wdCx1PW8uc2VsZWN0LmNvbk9wdDtpZihudWxsIT1hfHxudWxsIT1zfHxudWxsIT11fHxudWxsIT1sKXt2YXIgaD10LmdldFRleHRDb250ZW50KCk7aWYoITE9PT1hKWgmJnQucmVtb3ZlVGV4dENvbnRlbnQoKTtlbHNle2E9by5ub3JtYWwuY29uT3B0PWF8fHt0eXBlOiJ0ZXh0In0saD9oLmNsZWFyU3RhdGVzKCk6KGg9bk8oYSksdC5zZXRUZXh0Q29udGVudChoKSksaU8obnVsbCxoLGUsYSxudWxsLGksciwhMCk7Zm9yKHZhciBjPWEmJmEuc3R5bGUscD0wO3A8alAubGVuZ3RoO3ArKyl7dmFyIGQ9alBbcF07aWYoZCE9PVhQKXt2YXIgZj1vW2RdLmNvbk9wdDtzTyhkLGgsMCx5TyhhLGYsZCksbnVsbCl9fWM/aC5kaXJ0eSgpOmgubWFya1JlZHJhdygpfX19KHAsbixpLHIsYywkUCksZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz1uLmNsaXBQYXRoO2lmKCExPT09byl0JiZ0LmdldENsaXBQYXRoKCkmJnQucmVtb3ZlQ2xpcFBhdGgoKTtlbHNlIGlmKG8pe3ZhciBhPXQuZ2V0Q2xpcFBhdGgoKTthJiZkTyhhLG8saSkmJihhPW51bGwpLGF8fChhPW5PKG8pLHQuc2V0Q2xpcFBhdGgoYSkpLGlPKG51bGwsYSxlLG8sbnVsbCxpLHIsITEpfX0ocCxuLGkscixjKSxpTyh0LHAsbixpLCRQLHIsYywhMSk7Zm9yKHZhciBkPTA7ZDxqUC5sZW5ndGg7ZCsrKXt2YXIgZj1qUFtkXTtpZihmIT09WFApe3ZhciBnPWdPKGksZik7c08oZixwLDAseU8oaSxnLGYpLCRQKX19cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtpZighdC5pc0dyb3VwKXt2YXIgaT10LHI9bi5jdXJyZW50WixvPW4uY3VycmVudFpMZXZlbDtpLno9cixpLnpsZXZlbD1vO3ZhciBhPWUuejI7bnVsbCE9YSYmKGkuejI9YXx8MCk7Zm9yKHZhciBzPTA7czxqUC5sZW5ndGg7cysrKWxPKGksZSxqUFtzXSl9fShwLGksciksImdyb3VwIj09PWkudHlwZSYmZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz1pLmNoaWxkcmVuLGE9bz9vLmxlbmd0aDowLHM9aS4kbWVyZ2VDaGlsZHJlbixsPSJieU5hbWUiPT09c3x8aS5kaWZmQ2hpbGRyZW5CeU5hbWUsdT0hMT09PXM7aWYoIWEmJiFsJiYhdSlyZXR1cm47aWYobClyZXR1cm4gaD17YXBpOnQsb2xkQ2hpbGRyZW46ZS5jaGlsZHJlbigpfHxbXSxuZXdDaGlsZHJlbjpvfHxbXSxkYXRhSW5kZXg6bixzZXJpZXNNb2RlbDpyLGdyb3VwOmV9LHZvaWQgbmV3IEJtKGgub2xkQ2hpbGRyZW4saC5uZXdDaGlsZHJlbix2Tyx2TyxoKS5hZGQobU8pLnVwZGF0ZShtTykucmVtb3ZlKF9PKS5leGVjdXRlKCk7dmFyIGg7dSYmZS5yZW1vdmVBbGwoKTtmb3IodmFyIGM9MDtjPGE7YysrKW9bY10mJnBPKHQsZS5jaGlsZEF0KGMpLG4sb1tjXSxyLGUpO2Zvcih2YXIgcD1lLmNoaWxkQ291bnQoKS0xO3A+PWM7cC0tKXhPKGUuY2hpbGRBdChwKSxyLGUpfSh0LHAsbixpLHIpLHM+PTA/by5yZXBsYWNlQXQocCxzKTpvLmFkZChwKSxwfWZ1bmN0aW9uIGRPKHQsZSxuKXt2YXIgaSxyPUlQKHQpLG89ZS50eXBlLGE9ZS5zaGFwZSxzPWUuc3R5bGU7cmV0dXJuIG4uaXNVbml2ZXJzYWxUcmFuc2l0aW9uRW5hYmxlZCgpfHxudWxsIT1vJiZvIT09ci5jdXN0b21HcmFwaGljVHlwZXx8InBhdGgiPT09byYmKChpPWEpJiYoZnQoaSwicGF0aERhdGEiKXx8ZnQoaSwiZCIpKSkmJmJPKGEpIT09ci5jdXN0b21QYXRoRGF0YXx8ImltYWdlIj09PW8mJmZ0KHMsImltYWdlIikmJnMuaW1hZ2UhPT1yLmN1c3RvbUltYWdlUGF0aH1mdW5jdGlvbiBmTyh0LGUsbil7dmFyIGk9ZT9nTyh0LGUpOnQscj1lP3lPKHQsaSxVUCk6dC5zdHlsZSxvPXQudHlwZSxhPWk/aS50ZXh0Q29uZmlnOm51bGwscz10LnRleHRDb250ZW50LGw9cz9lP2dPKHMsZSk6czpudWxsO2lmKHImJihuLmlzTGVnYWN5fHxMUChyLG8sISFhLCEhbCkpKXtuLmlzTGVnYWN5PSEwO3ZhciB1PVBQKHIsbywhZSk7IWEmJnUudGV4dENvbmZpZyYmKGE9dS50ZXh0Q29uZmlnKSwhbCYmdS50ZXh0Q29udGVudCYmKGw9dS50ZXh0Q29udGVudCl9aWYoIWUmJmwpe3ZhciBoPWw7IWgudHlwZSYmKGgudHlwZT0idGV4dCIpfXZhciBjPWU/bltlXTpuLm5vcm1hbDtjLmNmZz1hLGMuY29uT3B0PWx9ZnVuY3Rpb24gZ08odCxlKXtyZXR1cm4gZT90P3RbZV06bnVsbDp0fWZ1bmN0aW9uIHlPKHQsZSxuKXt2YXIgaT1lJiZlLnN0eWxlO3JldHVybiBudWxsPT1pJiZuPT09VVAmJnQmJihpPXQuc3R5bGVFbXBoYXNpcyksaX1mdW5jdGlvbiB2Tyh0LGUpe3ZhciBuPXQmJnQubmFtZTtyZXR1cm4gbnVsbCE9bj9uOiJlXDBcMCIrZX1mdW5jdGlvbiBtTyh0LGUpe3ZhciBuPXRoaXMuY29udGV4dCxpPW51bGwhPXQ/bi5uZXdDaGlsZHJlblt0XTpudWxsLHI9bnVsbCE9ZT9uLm9sZENoaWxkcmVuW2VdOm51bGw7cE8obi5hcGkscixuLmRhdGFJbmRleCxpLG4uc2VyaWVzTW9kZWwsbi5ncm91cCl9ZnVuY3Rpb24gX08odCl7dmFyIGU9dGhpcy5jb250ZXh0O3hPKGUub2xkQ2hpbGRyZW5bdF0sZS5zZXJpZXNNb2RlbCxlLmdyb3VwKX1mdW5jdGlvbiB4Tyh0LGUsbil7aWYodCl7dmFyIGk9SVAodCkubGVhdmVUb1Byb3BzO2k/RXUodCxpLGUse2NiOmZ1bmN0aW9uKCl7bi5yZW1vdmUodCl9fSk6bi5yZW1vdmUodCl9fWZ1bmN0aW9uIGJPKHQpe3JldHVybiB0JiYodC5wYXRoRGF0YXx8dC5kKX12YXIgd089UnIoKSxTTz1TLE1PPUIsSU89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5fZHJhZ2dpbmc9ITEsdGhpcy5hbmltYXRpb25UaHJlc2hvbGQ9MTV9cmV0dXJuIHQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1lLmdldCgidmFsdWUiKSxvPWUuZ2V0KCJzdGF0dXMiKTtpZih0aGlzLl9heGlzTW9kZWw9dCx0aGlzLl9heGlzUG9pbnRlck1vZGVsPWUsdGhpcy5fYXBpPW4saXx8dGhpcy5fbGFzdFZhbHVlIT09cnx8dGhpcy5fbGFzdFN0YXR1cyE9PW8pe3RoaXMuX2xhc3RWYWx1ZT1yLHRoaXMuX2xhc3RTdGF0dXM9bzt2YXIgYT10aGlzLl9ncm91cCxzPXRoaXMuX2hhbmRsZTtpZighb3x8ImhpZGUiPT09bylyZXR1cm4gYSYmYS5oaWRlKCksdm9pZChzJiZzLmhpZGUoKSk7YSYmYS5zaG93KCkscyYmcy5zaG93KCk7dmFyIGw9e307dGhpcy5tYWtlRWxPcHRpb24obCxyLHQsZSxuKTt2YXIgdT1sLmdyYXBoaWNLZXk7dSE9PXRoaXMuX2xhc3RHcmFwaGljS2V5JiZ0aGlzLmNsZWFyKG4pLHRoaXMuX2xhc3RHcmFwaGljS2V5PXU7dmFyIGg9dGhpcy5fbW92ZUFuaW1hdGlvbj10aGlzLmRldGVybWluZUFuaW1hdGlvbih0LGUpO2lmKGEpe3ZhciBjPUcoVE8sZSxoKTt0aGlzLnVwZGF0ZVBvaW50ZXJFbChhLGwsYyksdGhpcy51cGRhdGVMYWJlbEVsKGEsbCxjLGUpfWVsc2UgYT10aGlzLl9ncm91cD1uZXcgQmksdGhpcy5jcmVhdGVQb2ludGVyRWwoYSxsLHQsZSksdGhpcy5jcmVhdGVMYWJlbEVsKGEsbCx0LGUpLG4uZ2V0WnIoKS5hZGQoYSk7a08oYSxlLCEwKSx0aGlzLl9yZW5kZXJIYW5kbGUocil9fSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dGhpcy5jbGVhcih0KX0sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0KXt0aGlzLmNsZWFyKHQpfSx0LnByb3RvdHlwZS5kZXRlcm1pbmVBbmltYXRpb249ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmdldCgiYW5pbWF0aW9uIiksaT10LmF4aXMscj0iY2F0ZWdvcnkiPT09aS50eXBlLG89ZS5nZXQoInNuYXAiKTtpZighbyYmIXIpcmV0dXJuITE7aWYoImF1dG8iPT09bnx8bnVsbD09bil7dmFyIGE9dGhpcy5hbmltYXRpb25UaHJlc2hvbGQ7aWYociYmaS5nZXRCYW5kV2lkdGgoKT5hKXJldHVybiEwO2lmKG8pe3ZhciBzPVZNKHQpLnNlcmllc0RhdGFDb3VudCxsPWkuZ2V0RXh0ZW50KCk7cmV0dXJuIE1hdGguYWJzKGxbMF0tbFsxXSkvcz5hfXJldHVybiExfXJldHVybiEwPT09bn0sdC5wcm90b3R5cGUubWFrZUVsT3B0aW9uPWZ1bmN0aW9uKHQsZSxuLGkscil7fSx0LnByb3RvdHlwZS5jcmVhdGVQb2ludGVyRWw9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9ZS5wb2ludGVyO2lmKHIpe3ZhciBvPXdPKHQpLnBvaW50ZXJFbD1uZXcgeWhbci50eXBlXShTTyhlLnBvaW50ZXIpKTt0LmFkZChvKX19LHQucHJvdG90eXBlLmNyZWF0ZUxhYmVsRWw9ZnVuY3Rpb24odCxlLG4saSl7aWYoZS5sYWJlbCl7dmFyIHI9d08odCkubGFiZWxFbD1uZXcgZnMoU08oZS5sYWJlbCkpO3QuYWRkKHIpLERPKHIsaSl9fSx0LnByb3RvdHlwZS51cGRhdGVQb2ludGVyRWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXdPKHQpLnBvaW50ZXJFbDtpJiZlLnBvaW50ZXImJihpLnNldFN0eWxlKGUucG9pbnRlci5zdHlsZSksbihpLHtzaGFwZTplLnBvaW50ZXIuc2hhcGV9KSl9LHQucHJvdG90eXBlLnVwZGF0ZUxhYmVsRWw9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9d08odCkubGFiZWxFbDtyJiYoci5zZXRTdHlsZShlLmxhYmVsLnN0eWxlKSxuKHIse3g6ZS5sYWJlbC54LHk6ZS5sYWJlbC55fSksRE8ocixpKSl9LHQucHJvdG90eXBlLl9yZW5kZXJIYW5kbGU9ZnVuY3Rpb24odCl7aWYoIXRoaXMuX2RyYWdnaW5nJiZ0aGlzLnVwZGF0ZUhhbmRsZVRyYW5zZm9ybSl7dmFyIGUsbj10aGlzLl9heGlzUG9pbnRlck1vZGVsLGk9dGhpcy5fYXBpLmdldFpyKCkscj10aGlzLl9oYW5kbGUsbz1uLmdldE1vZGVsKCJoYW5kbGUiKSxhPW4uZ2V0KCJzdGF0dXMiKTtpZighby5nZXQoInNob3ciKXx8IWF8fCJoaWRlIj09PWEpcmV0dXJuIHImJmkucmVtb3ZlKHIpLHZvaWQodGhpcy5faGFuZGxlPW51bGwpO3RoaXMuX2hhbmRsZXx8KGU9ITAscj10aGlzLl9oYW5kbGU9Y2goby5nZXQoImljb24iKSx7Y3Vyc29yOiJtb3ZlIixkcmFnZ2FibGU6ITAsb25tb3VzZW1vdmU6ZnVuY3Rpb24odCl7bmUodC5ldmVudCl9LG9ubW91c2Vkb3duOk1PKHRoaXMuX29uSGFuZGxlRHJhZ01vdmUsdGhpcywwLDApLGRyaWZ0Ok1PKHRoaXMuX29uSGFuZGxlRHJhZ01vdmUsdGhpcyksb25kcmFnZW5kOk1PKHRoaXMuX29uSGFuZGxlRHJhZ0VuZCx0aGlzKX0pLGkuYWRkKHIpKSxrTyhyLG4sITEpLHIuc2V0U3R5bGUoby5nZXRJdGVtU3R5bGUobnVsbCxbImNvbG9yIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJXaWR0aCIsIm9wYWNpdHkiLCJzaGFkb3dDb2xvciIsInNoYWRvd0JsdXIiLCJzaGFkb3dPZmZzZXRYIiwic2hhZG93T2Zmc2V0WSJdKSk7dmFyIHM9by5nZXQoInNpemUiKTtGKHMpfHwocz1bcyxzXSksci5zY2FsZVg9c1swXS8yLHIuc2NhbGVZPXNbMV0vMixpZyh0aGlzLCJfZG9EaXNwYXRjaEF4aXNQb2ludGVyIixvLmdldCgidGhyb3R0bGUiKXx8MCwiZml4UmF0ZSIpLHRoaXMuX21vdmVIYW5kbGVUb1ZhbHVlKHQsZSl9fSx0LnByb3RvdHlwZS5fbW92ZUhhbmRsZVRvVmFsdWU9ZnVuY3Rpb24odCxlKXtUTyh0aGlzLl9heGlzUG9pbnRlck1vZGVsLCFlJiZ0aGlzLl9tb3ZlQW5pbWF0aW9uLHRoaXMuX2hhbmRsZSxBTyh0aGlzLmdldEhhbmRsZVRyYW5zZm9ybSh0LHRoaXMuX2F4aXNNb2RlbCx0aGlzLl9heGlzUG9pbnRlck1vZGVsKSkpfSx0LnByb3RvdHlwZS5fb25IYW5kbGVEcmFnTW92ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2hhbmRsZTtpZihuKXt0aGlzLl9kcmFnZ2luZz0hMDt2YXIgaT10aGlzLnVwZGF0ZUhhbmRsZVRyYW5zZm9ybShBTyhuKSxbdCxlXSx0aGlzLl9heGlzTW9kZWwsdGhpcy5fYXhpc1BvaW50ZXJNb2RlbCk7dGhpcy5fcGF5bG9hZEluZm89aSxuLnN0b3BBbmltYXRpb24oKSxuLmF0dHIoQU8oaSkpLHdPKG4pLmxhc3RQcm9wPW51bGwsdGhpcy5fZG9EaXNwYXRjaEF4aXNQb2ludGVyKCl9fSx0LnByb3RvdHlwZS5fZG9EaXNwYXRjaEF4aXNQb2ludGVyPWZ1bmN0aW9uKCl7aWYodGhpcy5faGFuZGxlKXt2YXIgdD10aGlzLl9wYXlsb2FkSW5mbyxlPXRoaXMuX2F4aXNNb2RlbDt0aGlzLl9hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InVwZGF0ZUF4aXNQb2ludGVyIix4OnQuY3Vyc29yUG9pbnRbMF0seTp0LmN1cnNvclBvaW50WzFdLHRvb2x0aXBPcHRpb246dC50b29sdGlwT3B0aW9uLGF4ZXNJbmZvOlt7YXhpc0RpbTplLmF4aXMuZGltLGF4aXNJbmRleDplLmNvbXBvbmVudEluZGV4fV19KX19LHQucHJvdG90eXBlLl9vbkhhbmRsZURyYWdFbmQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9kcmFnZ2luZz0hMSx0aGlzLl9oYW5kbGUpe3ZhciB0PXRoaXMuX2F4aXNQb2ludGVyTW9kZWwuZ2V0KCJ2YWx1ZSIpO3RoaXMuX21vdmVIYW5kbGVUb1ZhbHVlKHQpLHRoaXMuX2FwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToiaGlkZVRpcCJ9KX19LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKHQpe3RoaXMuX2xhc3RWYWx1ZT1udWxsLHRoaXMuX2xhc3RTdGF0dXM9bnVsbDt2YXIgZT10LmdldFpyKCksbj10aGlzLl9ncm91cCxpPXRoaXMuX2hhbmRsZTtlJiZuJiYodGhpcy5fbGFzdEdyYXBoaWNLZXk9bnVsbCxuJiZlLnJlbW92ZShuKSxpJiZlLnJlbW92ZShpKSx0aGlzLl9ncm91cD1udWxsLHRoaXMuX2hhbmRsZT1udWxsLHRoaXMuX3BheWxvYWRJbmZvPW51bGwpfSx0LnByb3RvdHlwZS5kb0NsZWFyPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5idWlsZExhYmVsPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm57eDp0W249bnx8MF0seTp0WzEtbl0sd2lkdGg6ZVtuXSxoZWlnaHQ6ZVsxLW5dfX0sdH0oKTtmdW5jdGlvbiBUTyh0LGUsbixpKXtDTyh3TyhuKS5sYXN0UHJvcCxpKXx8KHdPKG4pLmxhc3RQcm9wPWksZT9FdShuLGksdCk6KG4uc3RvcEFuaW1hdGlvbigpLG4uYXR0cihpKSkpfWZ1bmN0aW9uIENPKHQsZSl7aWYoWSh0KSYmWShlKSl7dmFyIG49ITA7cmV0dXJuIE8oZSwoZnVuY3Rpb24oZSxpKXtuPW4mJkNPKHRbaV0sZSl9KSksISFufXJldHVybiB0PT09ZX1mdW5jdGlvbiBETyh0LGUpe3RbZS5nZXQoWyJsYWJlbCIsInNob3ciXSk/InNob3ciOiJoaWRlIl0oKX1mdW5jdGlvbiBBTyh0KXtyZXR1cm57eDp0Lnh8fDAseTp0Lnl8fDAscm90YXRpb246dC5yb3RhdGlvbnx8MH19ZnVuY3Rpb24ga08odCxlLG4pe3ZhciBpPWUuZ2V0KCJ6Iikscj1lLmdldCgiemxldmVsIik7dCYmdC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7Imdyb3VwIiE9PXQudHlwZSYmKG51bGwhPWkmJih0Lno9aSksbnVsbCE9ciYmKHQuemxldmVsPXIpLHQuc2lsZW50PW4pfSkpfWZ1bmN0aW9uIExPKHQpe3ZhciBlLG49dC5nZXQoInR5cGUiKSxpPXQuZ2V0TW9kZWwobisiU3R5bGUiKTtyZXR1cm4ibGluZSI9PT1uPyhlPWkuZ2V0TGluZVN0eWxlKCkpLmZpbGw9bnVsbDoic2hhZG93Ij09PW4mJigoZT1pLmdldEFyZWFTdHlsZSgpKS5zdHJva2U9bnVsbCksZX1mdW5jdGlvbiBQTyh0LGUsbixpLHIpe3ZhciBvPU9PKG4uZ2V0KCJ2YWx1ZSIpLGUuYXhpcyxlLmVjTW9kZWwsbi5nZXQoInNlcmllc0RhdGFJbmRpY2VzIikse3ByZWNpc2lvbjpuLmdldChbImxhYmVsIiwicHJlY2lzaW9uIl0pLGZvcm1hdHRlcjpuLmdldChbImxhYmVsIiwiZm9ybWF0dGVyIl0pfSksYT1uLmdldE1vZGVsKCJsYWJlbCIpLHM9T2MoYS5nZXQoInBhZGRpbmciKXx8MCksbD1hLmdldEZvbnQoKSx1PVNpKG8sbCksaD1yLnBvc2l0aW9uLGM9dS53aWR0aCtzWzFdK3NbM10scD11LmhlaWdodCtzWzBdK3NbMl0sZD1yLmFsaWduOyJyaWdodCI9PT1kJiYoaFswXS09YyksImNlbnRlciI9PT1kJiYoaFswXS09Yy8yKTt2YXIgZj1yLnZlcnRpY2FsQWxpZ247ImJvdHRvbSI9PT1mJiYoaFsxXS09cCksIm1pZGRsZSI9PT1mJiYoaFsxXS09cC8yKSxmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1pLmdldFdpZHRoKCksbz1pLmdldEhlaWdodCgpO3RbMF09TWF0aC5taW4odFswXStlLHIpLWUsdFsxXT1NYXRoLm1pbih0WzFdK24sbyktbix0WzBdPU1hdGgubWF4KHRbMF0sMCksdFsxXT1NYXRoLm1heCh0WzFdLDApfShoLGMscCxpKTt2YXIgZz1hLmdldCgiYmFja2dyb3VuZENvbG9yIik7ZyYmImF1dG8iIT09Z3x8KGc9ZS5nZXQoWyJheGlzTGluZSIsImxpbmVTdHlsZSIsImNvbG9yIl0pKSx0LmxhYmVsPXt4OmhbMF0seTpoWzFdLHN0eWxlOndoKGEse3RleHQ6byxmb250OmwsZmlsbDphLmdldFRleHRDb2xvcigpLHBhZGRpbmc6cyxiYWNrZ3JvdW5kQ29sb3I6Z30pLHoyOjEwfX1mdW5jdGlvbiBPTyh0LGUsbixpLHIpe3Q9ZS5zY2FsZS5wYXJzZSh0KTt2YXIgbz1lLnNjYWxlLmdldExhYmVsKHt2YWx1ZTp0fSx7cHJlY2lzaW9uOnIucHJlY2lzaW9ufSksYT1yLmZvcm1hdHRlcjtpZihhKXt2YXIgcz17dmFsdWU6X3goZSx7dmFsdWU6dH0pLGF4aXNEaW1lbnNpb246ZS5kaW0sYXhpc0luZGV4OmUuaW5kZXgsc2VyaWVzRGF0YTpbXX07TyhpLChmdW5jdGlvbih0KXt2YXIgZT1uLmdldFNlcmllc0J5SW5kZXgodC5zZXJpZXNJbmRleCksaT10LmRhdGFJbmRleEluc2lkZSxyPWUmJmUuZ2V0RGF0YVBhcmFtcyhpKTtyJiZzLnNlcmllc0RhdGEucHVzaChyKX0pKSxXKGEpP289YS5yZXBsYWNlKCJ7dmFsdWV9IixvKTpIKGEpJiYobz1hKHMpKX1yZXR1cm4gb31mdW5jdGlvbiBSTyh0LGUsbil7dmFyIGk9WzEsMCwwLDEsMCwwXTtyZXR1cm4gWW4oaSxpLG4ucm90YXRpb24pLFhuKGksaSxuLnBvc2l0aW9uKSxvaChbdC5kYXRhVG9Db29yZChlKSwobi5sYWJlbE9mZnNldHx8MCkrKG4ubGFiZWxEaXJlY3Rpb258fDEpKihuLmxhYmVsTWFyZ2lufHwwKV0saSl9ZnVuY3Rpb24gTk8odCxlLG4saSxyLG8pe3ZhciBhPUFNLmlubmVyVGV4dExheW91dChuLnJvdGF0aW9uLDAsbi5sYWJlbERpcmVjdGlvbik7bi5sYWJlbE1hcmdpbj1yLmdldChbImxhYmVsIiwibWFyZ2luIl0pLFBPKGUsaSxyLG8se3Bvc2l0aW9uOlJPKGkuYXhpcyx0LG4pLGFsaWduOmEudGV4dEFsaWduLHZlcnRpY2FsQWxpZ246YS50ZXh0VmVydGljYWxBbGlnbn0pfWZ1bmN0aW9uIHpPKHQsZSxuKXtyZXR1cm57eDE6dFtuPW58fDBdLHkxOnRbMS1uXSx4MjplW25dLHkyOmVbMS1uXX19ZnVuY3Rpb24gRU8odCxlLG4pe3JldHVybnt4OnRbbj1ufHwwXSx5OnRbMS1uXSx3aWR0aDplW25dLGhlaWdodDplWzEtbl19fWZ1bmN0aW9uIFZPKHQsZSxuLGkscixvKXtyZXR1cm57Y3g6dCxjeTplLHIwOm4scjppLHN0YXJ0QW5nbGU6cixlbmRBbmdsZTpvLGNsb2Nrd2lzZTohMH19dmFyIEJPPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUubWFrZUVsT3B0aW9uPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89bi5heGlzLGE9by5ncmlkLHM9aS5nZXQoInR5cGUiKSxsPUdPKGEsbykuZ2V0T3RoZXJBeGlzKG8pLmdldEdsb2JhbEV4dGVudCgpLHU9by50b0dsb2JhbENvb3JkKG8uZGF0YVRvQ29vcmQoZSwhMCkpO2lmKHMmJiJub25lIiE9PXMpe3ZhciBoPUxPKGkpLGM9Rk9bc10obyx1LGwpO2Muc3R5bGU9aCx0LmdyYXBoaWNLZXk9Yy50eXBlLHQucG9pbnRlcj1jfU5PKGUsdCxiTShhLm1vZGVsLG4pLG4saSxyKX0sZS5wcm90b3R5cGUuZ2V0SGFuZGxlVHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1iTShlLmF4aXMuZ3JpZC5tb2RlbCxlLHtsYWJlbEluc2lkZTohMX0pO2kubGFiZWxNYXJnaW49bi5nZXQoWyJoYW5kbGUiLCJtYXJnaW4iXSk7dmFyIHI9Uk8oZS5heGlzLHQsaSk7cmV0dXJue3g6clswXSx5OnJbMV0scm90YXRpb246aS5yb3RhdGlvbisoaS5sYWJlbERpcmVjdGlvbjwwP01hdGguUEk6MCl9fSxlLnByb3RvdHlwZS51cGRhdGVIYW5kbGVUcmFuc2Zvcm09ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bi5heGlzLG89ci5ncmlkLGE9ci5nZXRHbG9iYWxFeHRlbnQoITApLHM9R08obyxyKS5nZXRPdGhlckF4aXMocikuZ2V0R2xvYmFsRXh0ZW50KCksbD0ieCI9PT1yLmRpbT8wOjEsdT1bdC54LHQueV07dVtsXSs9ZVtsXSx1W2xdPU1hdGgubWluKGFbMV0sdVtsXSksdVtsXT1NYXRoLm1heChhWzBdLHVbbF0pO3ZhciBoPShzWzFdK3NbMF0pLzIsYz1baCxoXTtjW2xdPXVbbF07cmV0dXJue3g6dVswXSx5OnVbMV0scm90YXRpb246dC5yb3RhdGlvbixjdXJzb3JQb2ludDpjLHRvb2x0aXBPcHRpb246W3t2ZXJ0aWNhbEFsaWduOiJtaWRkbGUifSx7YWxpZ246ImNlbnRlciJ9XVtsXX19LGV9KElPKTtmdW5jdGlvbiBHTyh0LGUpe3ZhciBuPXt9O3JldHVybiBuW2UuZGltKyJBeGlzSW5kZXgiXT1lLmluZGV4LHQuZ2V0Q2FydGVzaWFuKG4pfXZhciBGTz17bGluZTpmdW5jdGlvbih0LGUsbil7cmV0dXJue3R5cGU6IkxpbmUiLHN1YlBpeGVsT3B0aW1pemU6ITAsc2hhcGU6ek8oW2UsblswXV0sW2UsblsxXV0sSE8odCkpfX0sc2hhZG93OmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1NYXRoLm1heCgxLHQuZ2V0QmFuZFdpZHRoKCkpLHI9blsxXS1uWzBdO3JldHVybnt0eXBlOiJSZWN0IixzaGFwZTpFTyhbZS1pLzIsblswXV0sW2kscl0sSE8odCkpfX19O2Z1bmN0aW9uIEhPKHQpe3JldHVybiJ4Ij09PXQuZGltPzA6MX12YXIgV089ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS50eXBlPSJheGlzUG9pbnRlciIsZS5kZWZhdWx0T3B0aW9uPXtzaG93OiJhdXRvIix6bGV2ZWw6MCx6OjUwLHR5cGU6ImxpbmUiLHNuYXA6ITEsdHJpZ2dlclRvb2x0aXA6ITAsdmFsdWU6bnVsbCxzdGF0dXM6bnVsbCxsaW5rOltdLGFuaW1hdGlvbjpudWxsLGFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlOjIwMCxsaW5lU3R5bGU6e2NvbG9yOiIjQjlCRUM5Iix3aWR0aDoxLHR5cGU6ImRhc2hlZCJ9LHNoYWRvd1N0eWxlOntjb2xvcjoicmdiYSgyMTAsMjE5LDIzOCwwLjIpIn0sbGFiZWw6e3Nob3c6ITAsZm9ybWF0dGVyOm51bGwscHJlY2lzaW9uOiJhdXRvIixtYXJnaW46Myxjb2xvcjoiI2ZmZiIscGFkZGluZzpbNSw3LDUsN10sYmFja2dyb3VuZENvbG9yOiJhdXRvIixib3JkZXJDb2xvcjpudWxsLGJvcmRlcldpZHRoOjAsYm9yZGVyUmFkaXVzOjN9LGhhbmRsZTp7c2hvdzohMSxpY29uOiJNMTAuNywxMS45di0xLjNIOS4zdjEuM2MtNC45LDAuMy04LjgsNC40LTguOCw5LjRjMCw1LDMuOSw5LjEsOC44LDkuNGgxLjNjNC45LTAuMyw4LjgtNC40LDguOC05LjRDMTkuNSwxNi4zLDE1LjYsMTIuMiwxMC43LDExLjl6IE0xMy4zLDI0LjRINi43di0xLjJoNi42eiBNMTMuMywyMkg2Ljd2LTEuMmg2LjZ6IE0xMy4zLDE5LjZINi43di0xLjJoNi42eiIsc2l6ZTo0NSxtYXJnaW46NTAsY29sb3I6IiMzMzMiLHNoYWRvd0JsdXI6MyxzaGFkb3dDb2xvcjoiI2FhYSIsc2hhZG93T2Zmc2V0WDowLHNoYWRvd09mZnNldFk6Mix0aHJvdHRsZTo0MH19LGV9KG5wKSxVTz1ScigpLFhPPU87ZnVuY3Rpb24gWU8odCxlLG4pe2lmKCFhLm5vZGUpe3ZhciBpPWUuZ2V0WnIoKTtVTyhpKS5yZWNvcmRzfHwoVU8oaSkucmVjb3Jkcz17fSksZnVuY3Rpb24odCxlKXtpZihVTyh0KS5pbml0aWFsaXplZClyZXR1cm47ZnVuY3Rpb24gbihuLGkpe3Qub24obiwoZnVuY3Rpb24obil7dmFyIHI9ZnVuY3Rpb24odCl7dmFyIGU9e3Nob3dUaXA6W10saGlkZVRpcDpbXX0sbj1mdW5jdGlvbihpKXt2YXIgcj1lW2kudHlwZV07cj9yLnB1c2goaSk6KGkuZGlzcGF0Y2hBY3Rpb249bix0LmRpc3BhdGNoQWN0aW9uKGkpKX07cmV0dXJue2Rpc3BhdGNoQWN0aW9uOm4scGVuZGluZ3M6ZX19KGUpO1hPKFVPKHQpLnJlY29yZHMsKGZ1bmN0aW9uKHQpe3QmJmkodCxuLHIuZGlzcGF0Y2hBY3Rpb24pfSkpLGZ1bmN0aW9uKHQsZSl7dmFyIG4saT10LnNob3dUaXAubGVuZ3RoLHI9dC5oaWRlVGlwLmxlbmd0aDtpP249dC5zaG93VGlwW2ktMV06ciYmKG49dC5oaWRlVGlwW3ItMV0pO24mJihuLmRpc3BhdGNoQWN0aW9uPW51bGwsZS5kaXNwYXRjaEFjdGlvbihuKSl9KHIucGVuZGluZ3MsZSl9KSl9VU8odCkuaW5pdGlhbGl6ZWQ9ITAsbigiY2xpY2siLEcoak8sImNsaWNrIikpLG4oIm1vdXNlbW92ZSIsRyhqTywibW91c2Vtb3ZlIikpLG4oImdsb2JhbG91dCIsWk8pfShpLGUpLChVTyhpKS5yZWNvcmRzW3RdfHwoVU8oaSkucmVjb3Jkc1t0XT17fSkpLmhhbmRsZXI9bn19ZnVuY3Rpb24gWk8odCxlLG4pe3QuaGFuZGxlcigibGVhdmUiLG51bGwsbil9ZnVuY3Rpb24gak8odCxlLG4saSl7ZS5oYW5kbGVyKHQsbixpKX1mdW5jdGlvbiBxTyh0LGUpe2lmKCFhLm5vZGUpe3ZhciBuPWUuZ2V0WnIoKTsoVU8obikucmVjb3Jkc3x8e30pW3RdJiYoVU8obikucmVjb3Jkc1t0XT1udWxsKX19dmFyIEtPPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9ZS5nZXRDb21wb25lbnQoInRvb2x0aXAiKSxyPXQuZ2V0KCJ0cmlnZ2VyT24iKXx8aSYmaS5nZXQoInRyaWdnZXJPbiIpfHwibW91c2Vtb3ZlfGNsaWNrIjtZTygiYXhpc1BvaW50ZXIiLG4sKGZ1bmN0aW9uKHQsZSxuKXsibm9uZSIhPT1yJiYoImxlYXZlIj09PXR8fHIuaW5kZXhPZih0KT49MCkmJm4oe3R5cGU6InVwZGF0ZUF4aXNQb2ludGVyIixjdXJyVHJpZ2dlcjp0LHg6ZSYmZS5vZmZzZXRYLHk6ZSYmZS5vZmZzZXRZfSl9KSl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe3FPKCJheGlzUG9pbnRlciIsZSl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCxlKXtxTygiYXhpc1BvaW50ZXIiLGUpfSxlLnR5cGU9ImF4aXNQb2ludGVyIixlfShXZik7ZnVuY3Rpb24gJE8odCxlKXt2YXIgbixpPVtdLHI9dC5zZXJpZXNJbmRleDtpZihudWxsPT1yfHwhKG49ZS5nZXRTZXJpZXNCeUluZGV4KHIpKSlyZXR1cm57cG9pbnQ6W119O3ZhciBvPW4uZ2V0RGF0YSgpLGE9T3Iobyx0KTtpZihudWxsPT1hfHxhPDB8fEYoYSkpcmV0dXJue3BvaW50OltdfTt2YXIgcz1vLmdldEl0ZW1HcmFwaGljRWwoYSksbD1uLmNvb3JkaW5hdGVTeXN0ZW07aWYobi5nZXRUb29sdGlwUG9zaXRpb24paT1uLmdldFRvb2x0aXBQb3NpdGlvbihhKXx8W107ZWxzZSBpZihsJiZsLmRhdGFUb1BvaW50KWlmKHQuaXNTdGFja2VkKXt2YXIgdT1sLmdldEJhc2VBeGlzKCksaD1sLmdldE90aGVyQXhpcyh1KS5kaW0sYz11LmRpbSxwPSJ4Ij09PWh8fCJyYWRpdXMiPT09aD8xOjAsZD1vLm1hcERpbWVuc2lvbihjKSxmPVtdO2ZbcF09by5nZXQoZCxhKSxmWzEtcF09by5nZXQoby5nZXRDYWxjdWxhdGlvbkluZm8oInN0YWNrUmVzdWx0RGltZW5zaW9uIiksYSksaT1sLmRhdGFUb1BvaW50KGYpfHxbXX1lbHNlIGk9bC5kYXRhVG9Qb2ludChvLmdldFZhbHVlcyhSKGwuZGltZW5zaW9ucywoZnVuY3Rpb24odCl7cmV0dXJuIG8ubWFwRGltZW5zaW9uKHQpfSkpLGEpKXx8W107ZWxzZSBpZihzKXt2YXIgZz1zLmdldEJvdW5kaW5nUmVjdCgpLmNsb25lKCk7Zy5hcHBseVRyYW5zZm9ybShzLnRyYW5zZm9ybSksaT1bZy54K2cud2lkdGgvMixnLnkrZy5oZWlnaHQvMl19cmV0dXJue3BvaW50OmksZWw6c319dmFyIEpPPVJyKCk7ZnVuY3Rpb24gUU8odCxlLG4pe3ZhciBpPXQuY3VyclRyaWdnZXIscj1bdC54LHQueV0sbz10LGE9dC5kaXNwYXRjaEFjdGlvbnx8QihuLmRpc3BhdGNoQWN0aW9uLG4pLHM9ZS5nZXRDb21wb25lbnQoImF4aXNQb2ludGVyIikuY29vcmRTeXNBeGVzSW5mbztpZihzKXtyUihyKSYmKHI9JE8oe3Nlcmllc0luZGV4Om8uc2VyaWVzSW5kZXgsZGF0YUluZGV4Om8uZGF0YUluZGV4fSxlKS5wb2ludCk7dmFyIGw9clIociksdT1vLmF4ZXNJbmZvLGg9cy5heGVzSW5mbyxjPSJsZWF2ZSI9PT1pfHxyUihyKSxwPXt9LGQ9e30sZj17bGlzdDpbXSxtYXA6e319LGc9e3Nob3dQb2ludGVyOkcoZVIsZCksc2hvd1Rvb2x0aXA6RyhuUixmKX07TyhzLmNvb3JkU3lzTWFwLChmdW5jdGlvbih0LGUpe3ZhciBuPWx8fHQuY29udGFpblBvaW50KHIpO08ocy5jb29yZFN5c0F4ZXNJbmZvW2VdLChmdW5jdGlvbih0LGUpe3ZhciBpPXQuYXhpcyxvPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjwodHx8W10pLmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aWYoZS5heGlzLmRpbT09PWkuYXhpc0RpbSYmZS5heGlzLm1vZGVsLmNvbXBvbmVudEluZGV4PT09aS5heGlzSW5kZXgpcmV0dXJuIGl9fSh1LHQpO2lmKCFjJiZuJiYoIXV8fG8pKXt2YXIgYT1vJiZvLnZhbHVlO251bGwhPWF8fGx8fChhPWkucG9pbnRUb0RhdGEocikpLG51bGwhPWEmJnRSKHQsYSxnLCExLHApfX0pKX0pKTt2YXIgeT17fTtyZXR1cm4gTyhoLChmdW5jdGlvbih0LGUpe3ZhciBuPXQubGlua0dyb3VwO24mJiFkW2VdJiZPKG4uYXhlc0luZm8sKGZ1bmN0aW9uKGUsaSl7dmFyIHI9ZFtpXTtpZihlIT09dCYmcil7dmFyIG89ci52YWx1ZTtuLm1hcHBlciYmKG89dC5heGlzLnNjYWxlLnBhcnNlKG4ubWFwcGVyKG8saVIoZSksaVIodCkpKSkseVt0LmtleV09b319KSl9KSksTyh5LChmdW5jdGlvbih0LGUpe3RSKGhbZV0sdCxnLCEwLHApfSkpLGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uLmF4ZXNJbmZvPVtdO08oZSwoZnVuY3Rpb24oZSxuKXt2YXIgcj1lLmF4aXNQb2ludGVyTW9kZWwub3B0aW9uLG89dFtuXTtvPyghZS51c2VIYW5kbGUmJihyLnN0YXR1cz0ic2hvdyIpLHIudmFsdWU9by52YWx1ZSxyLnNlcmllc0RhdGFJbmRpY2VzPShvLnBheWxvYWRCYXRjaHx8W10pLnNsaWNlKCkpOiFlLnVzZUhhbmRsZSYmKHIuc3RhdHVzPSJoaWRlIiksInNob3ciPT09ci5zdGF0dXMmJmkucHVzaCh7YXhpc0RpbTplLmF4aXMuZGltLGF4aXNJbmRleDplLmF4aXMubW9kZWwuY29tcG9uZW50SW5kZXgsdmFsdWU6ci52YWx1ZX0pfSkpfShkLGgscCksZnVuY3Rpb24odCxlLG4saSl7aWYoclIoZSl8fCF0Lmxpc3QubGVuZ3RoKXJldHVybiB2b2lkIGkoe3R5cGU6ImhpZGVUaXAifSk7dmFyIHI9KCh0Lmxpc3RbMF0uZGF0YUJ5QXhpc1swXXx8e30pLnNlcmllc0RhdGFJbmRpY2VzfHxbXSlbMF18fHt9O2koe3R5cGU6InNob3dUaXAiLGVzY2FwZUNvbm5lY3Q6ITAseDplWzBdLHk6ZVsxXSx0b29sdGlwT3B0aW9uOm4udG9vbHRpcE9wdGlvbixwb3NpdGlvbjpuLnBvc2l0aW9uLGRhdGFJbmRleEluc2lkZTpyLmRhdGFJbmRleEluc2lkZSxkYXRhSW5kZXg6ci5kYXRhSW5kZXgsc2VyaWVzSW5kZXg6ci5zZXJpZXNJbmRleCxkYXRhQnlDb29yZFN5czp0Lmxpc3R9KX0oZixyLHQsYSksZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4uZ2V0WnIoKSxyPSJheGlzUG9pbnRlckxhc3RIaWdobGlnaHRzIixvPUpPKGkpW3JdfHx7fSxhPUpPKGkpW3JdPXt9O08odCwoZnVuY3Rpb24odCxlKXt2YXIgbj10LmF4aXNQb2ludGVyTW9kZWwub3B0aW9uOyJzaG93Ij09PW4uc3RhdHVzJiZPKG4uc2VyaWVzRGF0YUluZGljZXMsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuc2VyaWVzSW5kZXgrIiB8ICIrdC5kYXRhSW5kZXg7YVtlXT10fSkpfSkpO3ZhciBzPVtdLGw9W107TyhvLChmdW5jdGlvbih0LGUpeyFhW2VdJiZsLnB1c2godCl9KSksTyhhLChmdW5jdGlvbih0LGUpeyFvW2VdJiZzLnB1c2godCl9KSksbC5sZW5ndGgmJm4uZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImRvd25wbGF5Iixlc2NhcGVDb25uZWN0OiEwLG5vdEJsdXI6ITAsYmF0Y2g6bH0pLHMubGVuZ3RoJiZuLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJoaWdobGlnaHQiLGVzY2FwZUNvbm5lY3Q6ITAsbm90Qmx1cjohMCxiYXRjaDpzfSl9KGgsMCxuKSxwfX1mdW5jdGlvbiB0Uih0LGUsbixpLHIpe3ZhciBvPXQuYXhpcztpZighby5zY2FsZS5pc0JsYW5rKCkmJm8uY29udGFpbkRhdGEoZSkpaWYodC5pbnZvbHZlU2VyaWVzKXt2YXIgYT1mdW5jdGlvbih0LGUpe3ZhciBuPWUuYXhpcyxpPW4uZGltLHI9dCxvPVtdLGE9TnVtYmVyLk1BWF9WQUxVRSxzPS0xO3JldHVybiBPKGUuc2VyaWVzTW9kZWxzLChmdW5jdGlvbihlLGwpe3ZhciB1LGgsYz1lLmdldERhdGEoKS5tYXBEaW1lbnNpb25zQWxsKGkpO2lmKGUuZ2V0QXhpc1Rvb2x0aXBEYXRhKXt2YXIgcD1lLmdldEF4aXNUb29sdGlwRGF0YShjLHQsbik7aD1wLmRhdGFJbmRpY2VzLHU9cC5uZXN0ZXN0VmFsdWV9ZWxzZXtpZighKGg9ZS5nZXREYXRhKCkuaW5kaWNlc09mTmVhcmVzdChjWzBdLHQsImNhdGVnb3J5Ij09PW4udHlwZT8uNTpudWxsKSkubGVuZ3RoKXJldHVybjt1PWUuZ2V0RGF0YSgpLmdldChjWzBdLGhbMF0pfWlmKG51bGwhPXUmJmlzRmluaXRlKHUpKXt2YXIgZD10LXUsZj1NYXRoLmFicyhkKTtmPD1hJiYoKGY8YXx8ZD49MCYmczwwKSYmKGE9ZixzPWQscj11LG8ubGVuZ3RoPTApLE8oaCwoZnVuY3Rpb24odCl7by5wdXNoKHtzZXJpZXNJbmRleDplLnNlcmllc0luZGV4LGRhdGFJbmRleEluc2lkZTp0LGRhdGFJbmRleDplLmdldERhdGEoKS5nZXRSYXdJbmRleCh0KX0pfSkpKX19KSkse3BheWxvYWRCYXRjaDpvLHNuYXBUb1ZhbHVlOnJ9fShlLHQpLHM9YS5wYXlsb2FkQmF0Y2gsbD1hLnNuYXBUb1ZhbHVlO3NbMF0mJm51bGw9PXIuc2VyaWVzSW5kZXgmJlQocixzWzBdKSwhaSYmdC5zbmFwJiZvLmNvbnRhaW5EYXRhKGwpJiZudWxsIT1sJiYoZT1sKSxuLnNob3dQb2ludGVyKHQsZSxzKSxuLnNob3dUb29sdGlwKHQsYSxsKX1lbHNlIG4uc2hvd1BvaW50ZXIodCxlKX1mdW5jdGlvbiBlUih0LGUsbixpKXt0W2Uua2V5XT17dmFsdWU6bixwYXlsb2FkQmF0Y2g6aX19ZnVuY3Rpb24gblIodCxlLG4saSl7dmFyIHI9bi5wYXlsb2FkQmF0Y2gsbz1lLmF4aXMsYT1vLm1vZGVsLHM9ZS5heGlzUG9pbnRlck1vZGVsO2lmKGUudHJpZ2dlclRvb2x0aXAmJnIubGVuZ3RoKXt2YXIgbD1lLmNvb3JkU3lzLm1vZGVsLHU9R00obCksaD10Lm1hcFt1XTtofHwoaD10Lm1hcFt1XT17Y29vcmRTeXNJZDpsLmlkLGNvb3JkU3lzSW5kZXg6bC5jb21wb25lbnRJbmRleCxjb29yZFN5c1R5cGU6bC50eXBlLGNvb3JkU3lzTWFpblR5cGU6bC5tYWluVHlwZSxkYXRhQnlBeGlzOltdfSx0Lmxpc3QucHVzaChoKSksaC5kYXRhQnlBeGlzLnB1c2goe2F4aXNEaW06by5kaW0sYXhpc0luZGV4OmEuY29tcG9uZW50SW5kZXgsYXhpc1R5cGU6YS50eXBlLGF4aXNJZDphLmlkLHZhbHVlOmksdmFsdWVMYWJlbE9wdDp7cHJlY2lzaW9uOnMuZ2V0KFsibGFiZWwiLCJwcmVjaXNpb24iXSksZm9ybWF0dGVyOnMuZ2V0KFsibGFiZWwiLCJmb3JtYXR0ZXIiXSl9LHNlcmllc0RhdGFJbmRpY2VzOnIuc2xpY2UoKX0pfX1mdW5jdGlvbiBpUih0KXt2YXIgZT10LmF4aXMubW9kZWwsbj17fSxpPW4uYXhpc0RpbT10LmF4aXMuZGltO3JldHVybiBuLmF4aXNJbmRleD1uW2krIkF4aXNJbmRleCJdPWUuY29tcG9uZW50SW5kZXgsbi5heGlzTmFtZT1uW2krIkF4aXNOYW1lIl09ZS5uYW1lLG4uYXhpc0lkPW5baSsiQXhpc0lkIl09ZS5pZCxufWZ1bmN0aW9uIHJSKHQpe3JldHVybiF0fHxudWxsPT10WzBdfHxpc05hTih0WzBdKXx8bnVsbD09dFsxXXx8aXNOYU4odFsxXSl9ZnVuY3Rpb24gb1IodCl7SE0ucmVnaXN0ZXJBeGlzUG9pbnRlckNsYXNzKCJDYXJ0ZXNpYW5BeGlzUG9pbnRlciIsQk8pLHQucmVnaXN0ZXJDb21wb25lbnRNb2RlbChXTyksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoS08pLHQucmVnaXN0ZXJQcmVwcm9jZXNzb3IoKGZ1bmN0aW9uKHQpe2lmKHQpeyghdC5heGlzUG9pbnRlcnx8MD09PXQuYXhpc1BvaW50ZXIubGVuZ3RoKSYmKHQuYXhpc1BvaW50ZXI9e30pO3ZhciBlPXQuYXhpc1BvaW50ZXIubGluaztlJiYhRihlKSYmKHQuYXhpc1BvaW50ZXIubGluaz1bZV0pfX0pKSx0LnJlZ2lzdGVyUHJvY2Vzc29yKHQuUFJJT1JJVFkuUFJPQ0VTU09SLlNUQVRJU1RJQywoZnVuY3Rpb24odCxlKXt0LmdldENvbXBvbmVudCgiYXhpc1BvaW50ZXIiKS5jb29yZFN5c0F4ZXNJbmZvPU5NKHQsZSl9KSksdC5yZWdpc3RlckFjdGlvbih7dHlwZToidXBkYXRlQXhpc1BvaW50ZXIiLGV2ZW50OiJ1cGRhdGVBeGlzUG9pbnRlciIsdXBkYXRlOiI6dXBkYXRlQXhpc1BvaW50ZXIifSxRTyl9dmFyIGFSPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUubWFrZUVsT3B0aW9uPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89bi5heGlzOyJhbmdsZSI9PT1vLmRpbSYmKHRoaXMuYW5pbWF0aW9uVGhyZXNob2xkPU1hdGguUEkvMTgpO3ZhciBhPW8ucG9sYXIscz1hLmdldE90aGVyQXhpcyhvKS5nZXRFeHRlbnQoKSxsPW8uZGF0YVRvQ29vcmQoZSksdT1pLmdldCgidHlwZSIpO2lmKHUmJiJub25lIiE9PXUpe3ZhciBoPUxPKGkpLGM9c1JbdV0obyxhLGwscyk7Yy5zdHlsZT1oLHQuZ3JhcGhpY0tleT1jLnR5cGUsdC5wb2ludGVyPWN9dmFyIHA9ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz1lLmF4aXMsYT1vLmRhdGFUb0Nvb3JkKHQpLHM9aS5nZXRBbmdsZUF4aXMoKS5nZXRFeHRlbnQoKVswXTtzPXMvMTgwKk1hdGguUEk7dmFyIGwsdSxoLGM9aS5nZXRSYWRpdXNBeGlzKCkuZ2V0RXh0ZW50KCk7aWYoInJhZGl1cyI9PT1vLmRpbSl7dmFyIHA9WzEsMCwwLDEsMCwwXTtZbihwLHAscyksWG4ocCxwLFtpLmN4LGkuY3ldKSxsPW9oKFthLC1yXSxwKTt2YXIgZD1lLmdldE1vZGVsKCJheGlzTGFiZWwiKS5nZXQoInJvdGF0ZSIpfHwwLGY9QU0uaW5uZXJUZXh0TGF5b3V0KHMsZCpNYXRoLlBJLzE4MCwtMSk7dT1mLnRleHRBbGlnbixoPWYudGV4dFZlcnRpY2FsQWxpZ259ZWxzZXt2YXIgZz1jWzFdO2w9aS5jb29yZFRvUG9pbnQoW2crcixhXSk7dmFyIHk9aS5jeCx2PWkuY3k7dT1NYXRoLmFicyhsWzBdLXkpL2c8LjM/ImNlbnRlciI6bFswXT55PyJsZWZ0IjoicmlnaHQiLGg9TWF0aC5hYnMobFsxXS12KS9nPC4zPyJtaWRkbGUiOmxbMV0+dj8idG9wIjoiYm90dG9tIn1yZXR1cm57cG9zaXRpb246bCxhbGlnbjp1LHZlcnRpY2FsQWxpZ246aH19KGUsbiwwLGEsaS5nZXQoWyJsYWJlbCIsIm1hcmdpbiJdKSk7UE8odCxuLGkscixwKX0sZX0oSU8pO3ZhciBzUj17bGluZTpmdW5jdGlvbih0LGUsbixpKXtyZXR1cm4iYW5nbGUiPT09dC5kaW0/e3R5cGU6IkxpbmUiLHNoYXBlOnpPKGUuY29vcmRUb1BvaW50KFtpWzBdLG5dKSxlLmNvb3JkVG9Qb2ludChbaVsxXSxuXSkpfTp7dHlwZToiQ2lyY2xlIixzaGFwZTp7Y3g6ZS5jeCxjeTplLmN5LHI6bn19fSxzaGFkb3c6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9TWF0aC5tYXgoMSx0LmdldEJhbmRXaWR0aCgpKSxvPU1hdGguUEkvMTgwO3JldHVybiJhbmdsZSI9PT10LmRpbT97dHlwZToiU2VjdG9yIixzaGFwZTpWTyhlLmN4LGUuY3ksaVswXSxpWzFdLCgtbi1yLzIpKm8sKHIvMi1uKSpvKX06e3R5cGU6IlNlY3RvciIsc2hhcGU6Vk8oZS5jeCxlLmN5LG4tci8yLG4rci8yLDAsMipNYXRoLlBJKX19fSxsUj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5maW5kQXhpc01vZGVsPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiB0aGlzLmVjTW9kZWwuZWFjaENvbXBvbmVudCh0LChmdW5jdGlvbih0KXt0LmdldENvb3JkU3lzTW9kZWwoKT09PXRoaXMmJihlPXQpfSksdGhpcyksZX0sZS50eXBlPSJwb2xhciIsZS5kZXBlbmRlbmNpZXM9WyJyYWRpdXNBeGlzIiwiYW5nbGVBeGlzIl0sZS5kZWZhdWx0T3B0aW9uPXt6bGV2ZWw6MCx6OjAsY2VudGVyOlsiNTAlIiwiNTAlIl0scmFkaXVzOiI4MCUifSxlfShucCksdVI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5nZXRDb29yZFN5c01vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cygicG9sYXIiLFZyKS5tb2RlbHNbMF19LGUudHlwZT0icG9sYXJBeGlzIixlfShucCk7TCh1UixJeCk7dmFyIGhSPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUudHlwZT0iYW5nbGVBeGlzIixlfSh1UiksY1I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS50eXBlPSJyYWRpdXNBeGlzIixlfSh1UikscFI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3JldHVybiB0LmNhbGwodGhpcywicmFkaXVzIixlLG4pfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucG9pbnRUb0RhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5wb2xhci5wb2ludFRvRGF0YSh0LGUpWyJyYWRpdXMiPT09dGhpcy5kaW0/MDoxXX0sZX0oV3gpO3BSLnByb3RvdHlwZS5kYXRhVG9SYWRpdXM9V3gucHJvdG90eXBlLmRhdGFUb0Nvb3JkLHBSLnByb3RvdHlwZS5yYWRpdXNUb0RhdGE9V3gucHJvdG90eXBlLmNvb3JkVG9EYXRhO3ZhciBkUj1ScigpLGZSPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXtyZXR1cm4gdC5jYWxsKHRoaXMsImFuZ2xlIixlLG58fFswLDM2MF0pfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucG9pbnRUb0RhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5wb2xhci5wb2ludFRvRGF0YSh0LGUpWyJyYWRpdXMiPT09dGhpcy5kaW0/MDoxXX0sZS5wcm90b3R5cGUuY2FsY3VsYXRlQ2F0ZWdvcnlJbnRlcnZhbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10LmdldExhYmVsTW9kZWwoKSxuPXQuc2NhbGUsaT1uLmdldEV4dGVudCgpLHI9bi5jb3VudCgpO2lmKGlbMV0taVswXTwxKXJldHVybiAwO3ZhciBvPWlbMF0sYT10LmRhdGFUb0Nvb3JkKG8rMSktdC5kYXRhVG9Db29yZChvKSxzPU1hdGguYWJzKGEpLGw9U2kobnVsbD09bz8iIjpvKyIiLGUuZ2V0Rm9udCgpLCJjZW50ZXIiLCJ0b3AiKSx1PU1hdGgubWF4KGwuaGVpZ2h0LDcpL3M7aXNOYU4odSkmJih1PTEvMCk7dmFyIGg9TWF0aC5tYXgoMCxNYXRoLmZsb29yKHUpKSxjPWRSKHQubW9kZWwpLHA9Yy5sYXN0QXV0b0ludGVydmFsLGQ9Yy5sYXN0VGlja0NvdW50O3JldHVybiBudWxsIT1wJiZudWxsIT1kJiZNYXRoLmFicyhwLWgpPD0xJiZNYXRoLmFicyhkLXIpPD0xJiZwPmg/aD1wOihjLmxhc3RUaWNrQ291bnQ9cixjLmxhc3RBdXRvSW50ZXJ2YWw9aCksaH0sZX0oV3gpO2ZSLnByb3RvdHlwZS5kYXRhVG9BbmdsZT1XeC5wcm90b3R5cGUuZGF0YVRvQ29vcmQsZlIucHJvdG90eXBlLmFuZ2xlVG9EYXRhPVd4LnByb3RvdHlwZS5jb29yZFRvRGF0YTt2YXIgZ1I9WyJyYWRpdXMiLCJhbmdsZSJdLHlSPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmRpbWVuc2lvbnM9Z1IsdGhpcy50eXBlPSJwb2xhciIsdGhpcy5jeD0wLHRoaXMuY3k9MCx0aGlzLl9yYWRpdXNBeGlzPW5ldyBwUix0aGlzLl9hbmdsZUF4aXM9bmV3IGZSLHRoaXMuYXhpc1BvaW50ZXJFbmFibGVkPSEwLHRoaXMubmFtZT10fHwiIix0aGlzLl9yYWRpdXNBeGlzLnBvbGFyPXRoaXMuX2FuZ2xlQXhpcy5wb2xhcj10aGlzfXJldHVybiB0LnByb3RvdHlwZS5jb250YWluUG9pbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wb2ludFRvQ29vcmQodCk7cmV0dXJuIHRoaXMuX3JhZGl1c0F4aXMuY29udGFpbihlWzBdKSYmdGhpcy5fYW5nbGVBeGlzLmNvbnRhaW4oZVsxXSl9LHQucHJvdG90eXBlLmNvbnRhaW5EYXRhPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9yYWRpdXNBeGlzLmNvbnRhaW5EYXRhKHRbMF0pJiZ0aGlzLl9hbmdsZUF4aXMuY29udGFpbkRhdGEodFsxXSl9LHQucHJvdG90eXBlLmdldEF4aXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbIl8iK3QrIkF4aXMiXX0sdC5wcm90b3R5cGUuZ2V0QXhlcz1mdW5jdGlvbigpe3JldHVyblt0aGlzLl9yYWRpdXNBeGlzLHRoaXMuX2FuZ2xlQXhpc119LHQucHJvdG90eXBlLmdldEF4ZXNCeVNjYWxlPWZ1bmN0aW9uKHQpe3ZhciBlPVtdLG49dGhpcy5fYW5nbGVBeGlzLGk9dGhpcy5fcmFkaXVzQXhpcztyZXR1cm4gbi5zY2FsZS50eXBlPT09dCYmZS5wdXNoKG4pLGkuc2NhbGUudHlwZT09PXQmJmUucHVzaChpKSxlfSx0LnByb3RvdHlwZS5nZXRBbmdsZUF4aXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYW5nbGVBeGlzfSx0LnByb3RvdHlwZS5nZXRSYWRpdXNBeGlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JhZGl1c0F4aXN9LHQucHJvdG90eXBlLmdldE90aGVyQXhpcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9hbmdsZUF4aXM7cmV0dXJuIHQ9PT1lP3RoaXMuX3JhZGl1c0F4aXM6ZX0sdC5wcm90b3R5cGUuZ2V0QmFzZUF4aXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBeGVzQnlTY2FsZSgib3JkaW5hbCIpWzBdfHx0aGlzLmdldEF4ZXNCeVNjYWxlKCJ0aW1lIilbMF18fHRoaXMuZ2V0QW5nbGVBeGlzKCl9LHQucHJvdG90eXBlLmdldFRvb2x0aXBBeGVzPWZ1bmN0aW9uKHQpe3ZhciBlPW51bGwhPXQmJiJhdXRvIiE9PXQ/dGhpcy5nZXRBeGlzKHQpOnRoaXMuZ2V0QmFzZUF4aXMoKTtyZXR1cm57YmFzZUF4ZXM6W2VdLG90aGVyQXhlczpbdGhpcy5nZXRPdGhlckF4aXMoZSldfX0sdC5wcm90b3R5cGUuZGF0YVRvUG9pbnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jb29yZFRvUG9pbnQoW3RoaXMuX3JhZGl1c0F4aXMuZGF0YVRvUmFkaXVzKHRbMF0sZSksdGhpcy5fYW5nbGVBeGlzLmRhdGFUb0FuZ2xlKHRbMV0sZSldKX0sdC5wcm90b3R5cGUucG9pbnRUb0RhdGE9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnBvaW50VG9Db29yZCh0KTtyZXR1cm5bdGhpcy5fcmFkaXVzQXhpcy5yYWRpdXNUb0RhdGEoblswXSxlKSx0aGlzLl9hbmdsZUF4aXMuYW5nbGVUb0RhdGEoblsxXSxlKV19LHQucHJvdG90eXBlLnBvaW50VG9Db29yZD1mdW5jdGlvbih0KXt2YXIgZT10WzBdLXRoaXMuY3gsbj10WzFdLXRoaXMuY3ksaT10aGlzLmdldEFuZ2xlQXhpcygpLHI9aS5nZXRFeHRlbnQoKSxvPU1hdGgubWluKHJbMF0sclsxXSksYT1NYXRoLm1heChyWzBdLHJbMV0pO2kuaW52ZXJzZT9vPWEtMzYwOmE9byszNjA7dmFyIHM9TWF0aC5zcXJ0KGUqZStuKm4pO2UvPXMsbi89cztmb3IodmFyIGw9TWF0aC5hdGFuMigtbixlKS9NYXRoLlBJKjE4MCx1PWw8bz8xOi0xO2w8b3x8bD5hOylsKz0zNjAqdTtyZXR1cm5bcyxsXX0sdC5wcm90b3R5cGUuY29vcmRUb1BvaW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRbMF0sbj10WzFdLzE4MCpNYXRoLlBJO3JldHVybltNYXRoLmNvcyhuKSplK3RoaXMuY3gsLU1hdGguc2luKG4pKmUrdGhpcy5jeV19LHQucHJvdG90eXBlLmdldEFyZWE9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEFuZ2xlQXhpcygpLGU9dGhpcy5nZXRSYWRpdXNBeGlzKCkuZ2V0RXh0ZW50KCkuc2xpY2UoKTtlWzBdPmVbMV0mJmUucmV2ZXJzZSgpO3ZhciBuPXQuZ2V0RXh0ZW50KCksaT1NYXRoLlBJLzE4MDtyZXR1cm57Y3g6dGhpcy5jeCxjeTp0aGlzLmN5LHIwOmVbMF0scjplWzFdLHN0YXJ0QW5nbGU6LW5bMF0qaSxlbmRBbmdsZTotblsxXSppLGNsb2Nrd2lzZTp0LmludmVyc2UsY29udGFpbjpmdW5jdGlvbih0LGUpe3ZhciBuPXQtdGhpcy5jeCxpPWUtdGhpcy5jeSxyPW4qbitpKmksbz10aGlzLnIsYT10aGlzLnIwO3JldHVybiByPD1vKm8mJnI+PWEqYX19fSx0LnByb3RvdHlwZS5jb252ZXJ0VG9QaXhlbD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHZSKGUpPT09dGhpcz90aGlzLmRhdGFUb1BvaW50KG4pOm51bGx9LHQucHJvdG90eXBlLmNvbnZlcnRGcm9tUGl4ZWw9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB2UihlKT09PXRoaXM/dGhpcy5wb2ludFRvRGF0YShuKTpudWxsfSx0fSgpO2Z1bmN0aW9uIHZSKHQpe3ZhciBlPXQuc2VyaWVzTW9kZWwsbj10LnBvbGFyTW9kZWw7cmV0dXJuIG4mJm4uY29vcmRpbmF0ZVN5c3RlbXx8ZSYmZS5jb29yZGluYXRlU3lzdGVtfWZ1bmN0aW9uIG1SKHQsZSl7dmFyIG49dGhpcyxpPW4uZ2V0QW5nbGVBeGlzKCkscj1uLmdldFJhZGl1c0F4aXMoKTtpZihpLnNjYWxlLnNldEV4dGVudCgxLzAsLTEvMCksci5zY2FsZS5zZXRFeHRlbnQoMS8wLC0xLzApLHQuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7aWYodC5jb29yZGluYXRlU3lzdGVtPT09bil7dmFyIGU9dC5nZXREYXRhKCk7TyhNeChlLCJyYWRpdXMiKSwoZnVuY3Rpb24odCl7ci5zY2FsZS51bmlvbkV4dGVudEZyb21EYXRhKGUsdCl9KSksTyhNeChlLCJhbmdsZSIpLChmdW5jdGlvbih0KXtpLnNjYWxlLnVuaW9uRXh0ZW50RnJvbURhdGEoZSx0KX0pKX19KSkseXgoaS5zY2FsZSxpLm1vZGVsKSx5eChyLnNjYWxlLHIubW9kZWwpLCJjYXRlZ29yeSI9PT1pLnR5cGUmJiFpLm9uQmFuZCl7dmFyIG89aS5nZXRFeHRlbnQoKSxhPTM2MC9pLnNjYWxlLmNvdW50KCk7aS5pbnZlcnNlP29bMV0rPWE6b1sxXS09YSxpLnNldEV4dGVudChvWzBdLG9bMV0pfX1mdW5jdGlvbiBfUih0LGUpe2lmKHQudHlwZT1lLmdldCgidHlwZSIpLHQuc2NhbGU9dngoZSksdC5vbkJhbmQ9ZS5nZXQoImJvdW5kYXJ5R2FwIikmJiJjYXRlZ29yeSI9PT10LnR5cGUsdC5pbnZlcnNlPWUuZ2V0KCJpbnZlcnNlIiksZnVuY3Rpb24odCl7cmV0dXJuImFuZ2xlQXhpcyI9PT10Lm1haW5UeXBlfShlKSl7dC5pbnZlcnNlPXQuaW52ZXJzZSE9PWUuZ2V0KCJjbG9ja3dpc2UiKTt2YXIgbj1lLmdldCgic3RhcnRBbmdsZSIpO3Quc2V0RXh0ZW50KG4sbisodC5pbnZlcnNlPy0zNjA6MzYwKSl9ZS5heGlzPXQsdC5tb2RlbD1lfXZhciB4Uj17ZGltZW5zaW9uczpnUixjcmVhdGU6ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTtyZXR1cm4gdC5lYWNoQ29tcG9uZW50KCJwb2xhciIsKGZ1bmN0aW9uKHQsaSl7dmFyIHI9bmV3IHlSKGkrIiIpO3IudXBkYXRlPW1SO3ZhciBvPXIuZ2V0UmFkaXVzQXhpcygpLGE9ci5nZXRBbmdsZUF4aXMoKSxzPXQuZmluZEF4aXNNb2RlbCgicmFkaXVzQXhpcyIpLGw9dC5maW5kQXhpc01vZGVsKCJhbmdsZUF4aXMiKTtfUihvLHMpLF9SKGEsbCksZnVuY3Rpb24odCxlLG4pe3ZhciBpPWUuZ2V0KCJjZW50ZXIiKSxyPW4uZ2V0V2lkdGgoKSxvPW4uZ2V0SGVpZ2h0KCk7dC5jeD1xaShpWzBdLHIpLHQuY3k9cWkoaVsxXSxvKTt2YXIgYT10LmdldFJhZGl1c0F4aXMoKSxzPU1hdGgubWluKHIsbykvMixsPWUuZ2V0KCJyYWRpdXMiKTtudWxsPT1sP2w9WzAsIjEwMCUiXTpGKGwpfHwobD1bMCxsXSk7dmFyIHU9W3FpKGxbMF0scykscWkobFsxXSxzKV07YS5pbnZlcnNlP2Euc2V0RXh0ZW50KHVbMV0sdVswXSk6YS5zZXRFeHRlbnQodVswXSx1WzFdKX0ocix0LGUpLG4ucHVzaChyKSx0LmNvb3JkaW5hdGVTeXN0ZW09cixyLm1vZGVsPXR9KSksdC5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXtpZigicG9sYXIiPT09dC5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKSl7dmFyIGU9dC5nZXRSZWZlcnJpbmdDb21wb25lbnRzKCJwb2xhciIsVnIpLm1vZGVsc1swXTswLHQuY29vcmRpbmF0ZVN5c3RlbT1lLmNvb3JkaW5hdGVTeXN0ZW19fSkpLG59fSxiUj1bImF4aXNMaW5lIiwiYXhpc0xhYmVsIiwiYXhpc1RpY2siLCJtaW5vclRpY2siLCJzcGxpdExpbmUiLCJtaW5vclNwbGl0TGluZSIsInNwbGl0QXJlYSJdO2Z1bmN0aW9uIHdSKHQsZSxuKXtlWzFdPmVbMF0mJihlPWUuc2xpY2UoKS5yZXZlcnNlKCkpO3ZhciBpPXQuY29vcmRUb1BvaW50KFtlWzBdLG5dKSxyPXQuY29vcmRUb1BvaW50KFtlWzFdLG5dKTtyZXR1cm57eDE6aVswXSx5MTppWzFdLHgyOnJbMF0seTI6clsxXX19ZnVuY3Rpb24gU1IodCl7cmV0dXJuIHQuZ2V0UmFkaXVzQXhpcygpLmludmVyc2U/MDoxfWZ1bmN0aW9uIE1SKHQpe3ZhciBlPXRbMF0sbj10W3QubGVuZ3RoLTFdO2UmJm4mJk1hdGguYWJzKE1hdGguYWJzKGUuY29vcmQtbi5jb29yZCktMzYwKTwxZS00JiZ0LnBvcCgpfXZhciBJUj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uYXhpc1BvaW50ZXJDbGFzcz0iUG9sYXJBeGlzUG9pbnRlciIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUpe2lmKHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdC5nZXQoInNob3ciKSl7dmFyIG49dC5heGlzLGk9bi5wb2xhcixyPWkuZ2V0UmFkaXVzQXhpcygpLmdldEV4dGVudCgpLG89bi5nZXRUaWNrc0Nvb3JkcygpLGE9bi5nZXRNaW5vclRpY2tzQ29vcmRzKCkscz1SKG4uZ2V0Vmlld0xhYmVscygpLChmdW5jdGlvbih0KXt0PVModCk7dmFyIGU9bi5zY2FsZSxpPSJvcmRpbmFsIj09PWUudHlwZT9lLmdldFJhd09yZGluYWxOdW1iZXIodC50aWNrVmFsdWUpOnQudGlja1ZhbHVlO3JldHVybiB0LmNvb3JkPW4uZGF0YVRvQ29vcmQoaSksdH0pKTtNUihzKSxNUihvKSxPKGJSLChmdW5jdGlvbihlKXshdC5nZXQoW2UsInNob3ciXSl8fG4uc2NhbGUuaXNCbGFuaygpJiYiYXhpc0xpbmUiIT09ZXx8VFJbZV0odGhpcy5ncm91cCx0LGksbyxhLHIscyl9KSx0aGlzKX19LGUudHlwZT0iYW5nbGVBeGlzIixlfShITSksVFI9e2F4aXNMaW5lOmZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYSxzPWUuZ2V0TW9kZWwoWyJheGlzTGluZSIsImxpbmVTdHlsZSJdKSxsPVNSKG4pLHU9bD8wOjE7KGE9MD09PW9bdV0/bmV3IEhsKHtzaGFwZTp7Y3g6bi5jeCxjeTpuLmN5LHI6b1tsXX0sc3R5bGU6cy5nZXRMaW5lU3R5bGUoKSx6MjoxLHNpbGVudDohMH0pOm5ldyBzdSh7c2hhcGU6e2N4Om4uY3gsY3k6bi5jeSxyOm9bbF0scjA6b1t1XX0sc3R5bGU6cy5nZXRMaW5lU3R5bGUoKSx6MjoxLHNpbGVudDohMH0pKS5zdHlsZS5maWxsPW51bGwsdC5hZGQoYSl9LGF4aXNUaWNrOmZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYT1lLmdldE1vZGVsKCJheGlzVGljayIpLHM9KGEuZ2V0KCJpbnNpZGUiKT8tMToxKSphLmdldCgibGVuZ3RoIiksbD1vW1NSKG4pXSx1PVIoaSwoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB5dSh7c2hhcGU6d1IobixbbCxsK3NdLHQuY29vcmQpfSl9KSk7dC5hZGQoZWgodSx7c3R5bGU6QyhhLmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSx7c3Ryb2tlOmUuZ2V0KFsiYXhpc0xpbmUiLCJsaW5lU3R5bGUiLCJjb2xvciJdKX0pfSkpfSxtaW5vclRpY2s6ZnVuY3Rpb24odCxlLG4saSxyLG8pe2lmKHIubGVuZ3RoKXtmb3IodmFyIGE9ZS5nZXRNb2RlbCgiYXhpc1RpY2siKSxzPWUuZ2V0TW9kZWwoIm1pbm9yVGljayIpLGw9KGEuZ2V0KCJpbnNpZGUiKT8tMToxKSpzLmdldCgibGVuZ3RoIiksdT1vW1NSKG4pXSxoPVtdLGM9MDtjPHIubGVuZ3RoO2MrKylmb3IodmFyIHA9MDtwPHJbY10ubGVuZ3RoO3ArKyloLnB1c2gobmV3IHl1KHtzaGFwZTp3UihuLFt1LHUrbF0scltjXVtwXS5jb29yZCl9KSk7dC5hZGQoZWgoaCx7c3R5bGU6QyhzLmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSxDKGEuZ2V0TGluZVN0eWxlKCkse3N0cm9rZTplLmdldChbImF4aXNMaW5lIiwibGluZVN0eWxlIiwiY29sb3IiXSl9KSl9KSl9fSxheGlzTGFiZWw6ZnVuY3Rpb24odCxlLG4saSxyLG8sYSl7dmFyIHM9ZS5nZXRDYXRlZ29yaWVzKCEwKSxsPWUuZ2V0TW9kZWwoImF4aXNMYWJlbCIpLHU9bC5nZXQoIm1hcmdpbiIpLGg9ZS5nZXQoInRyaWdnZXJFdmVudCIpO08oYSwoZnVuY3Rpb24oaSxyKXt2YXIgYT1sLGM9aS50aWNrVmFsdWUscD1vW1NSKG4pXSxkPW4uY29vcmRUb1BvaW50KFtwK3UsaS5jb29yZF0pLGY9bi5jeCxnPW4uY3kseT1NYXRoLmFicyhkWzBdLWYpL3A8LjM/ImNlbnRlciI6ZFswXT5mPyJsZWZ0IjoicmlnaHQiLHY9TWF0aC5hYnMoZFsxXS1nKS9wPC4zPyJtaWRkbGUiOmRbMV0+Zz8idG9wIjoiYm90dG9tIjtpZihzJiZzW2NdKXt2YXIgbT1zW2NdO1kobSkmJm0udGV4dFN0eWxlJiYoYT1uZXcgV2gobS50ZXh0U3R5bGUsbCxsLmVjTW9kZWwpKX12YXIgXz1uZXcgZnMoe3NpbGVudDpBTS5pc0xhYmVsU2lsZW50KGUpLHN0eWxlOndoKGEse3g6ZFswXSx5OmRbMV0sZmlsbDphLmdldFRleHRDb2xvcigpfHxlLmdldChbImF4aXNMaW5lIiwibGluZVN0eWxlIiwiY29sb3IiXSksdGV4dDppLmZvcm1hdHRlZExhYmVsLGFsaWduOnksdmVydGljYWxBbGlnbjp2fSl9KTtpZih0LmFkZChfKSxoKXt2YXIgeD1BTS5tYWtlQXhpc0V2ZW50RGF0YUJhc2UoZSk7eC50YXJnZXRUeXBlPSJheGlzTGFiZWwiLHgudmFsdWU9aS5yYXdMYWJlbCxTcyhfKS5ldmVudERhdGE9eH19KSx0aGlzKX0sc3BsaXRMaW5lOmZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYT1lLmdldE1vZGVsKCJzcGxpdExpbmUiKS5nZXRNb2RlbCgibGluZVN0eWxlIikscz1hLmdldCgiY29sb3IiKSxsPTA7cz1zIGluc3RhbmNlb2YgQXJyYXk/czpbc107Zm9yKHZhciB1PVtdLGg9MDtoPGkubGVuZ3RoO2grKyl7dmFyIGM9bCsrJXMubGVuZ3RoO3VbY109dVtjXXx8W10sdVtjXS5wdXNoKG5ldyB5dSh7c2hhcGU6d1IobixvLGlbaF0uY29vcmQpfSkpfWZvcihoPTA7aDx1Lmxlbmd0aDtoKyspdC5hZGQoZWgodVtoXSx7c3R5bGU6Qyh7c3Ryb2tlOnNbaCVzLmxlbmd0aF19LGEuZ2V0TGluZVN0eWxlKCkpLHNpbGVudDohMCx6OmUuZ2V0KCJ6Iil9KSl9LG1pbm9yU3BsaXRMaW5lOmZ1bmN0aW9uKHQsZSxuLGkscixvKXtpZihyLmxlbmd0aCl7Zm9yKHZhciBhPWUuZ2V0TW9kZWwoIm1pbm9yU3BsaXRMaW5lIikuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLHM9W10sbD0wO2w8ci5sZW5ndGg7bCsrKWZvcih2YXIgdT0wO3U8cltsXS5sZW5ndGg7dSsrKXMucHVzaChuZXcgeXUoe3NoYXBlOndSKG4sbyxyW2xdW3VdLmNvb3JkKX0pKTt0LmFkZChlaChzLHtzdHlsZTphLmdldExpbmVTdHlsZSgpLHNpbGVudDohMCx6OmUuZ2V0KCJ6Iil9KSl9fSxzcGxpdEFyZWE6ZnVuY3Rpb24odCxlLG4saSxyLG8pe2lmKGkubGVuZ3RoKXt2YXIgYT1lLmdldE1vZGVsKCJzcGxpdEFyZWEiKS5nZXRNb2RlbCgiYXJlYVN0eWxlIikscz1hLmdldCgiY29sb3IiKSxsPTA7cz1zIGluc3RhbmNlb2YgQXJyYXk/czpbc107Zm9yKHZhciB1PVtdLGg9TWF0aC5QSS8xODAsYz0taVswXS5jb29yZCpoLHA9TWF0aC5taW4ob1swXSxvWzFdKSxkPU1hdGgubWF4KG9bMF0sb1sxXSksZj1lLmdldCgiY2xvY2t3aXNlIiksZz0xLHk9aS5sZW5ndGg7Zzw9eTtnKyspe3ZhciB2PWc9PT15P2lbMF0uY29vcmQ6aVtnXS5jb29yZCxtPWwrKyVzLmxlbmd0aDt1W21dPXVbbV18fFtdLHVbbV0ucHVzaChuZXcgb3Uoe3NoYXBlOntjeDpuLmN4LGN5Om4uY3kscjA6cCxyOmQsc3RhcnRBbmdsZTpjLGVuZEFuZ2xlOi12KmgsY2xvY2t3aXNlOmZ9LHNpbGVudDohMH0pKSxjPS12Kmh9Zm9yKGc9MDtnPHUubGVuZ3RoO2crKyl0LmFkZChlaCh1W2ddLHtzdHlsZTpDKHtmaWxsOnNbZyVzLmxlbmd0aF19LGEuZ2V0QXJlYVN0eWxlKCkpLHNpbGVudDohMH0pKX19fSxDUj1bImF4aXNMaW5lIiwiYXhpc1RpY2tMYWJlbCIsImF4aXNOYW1lIl0sRFI9WyJzcGxpdExpbmUiLCJzcGxpdEFyZWEiLCJtaW5vclNwbGl0TGluZSJdLEFSPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5heGlzUG9pbnRlckNsYXNzPSJQb2xhckF4aXNQb2ludGVyIixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0LmdldCgic2hvdyIpKXt2YXIgbj10aGlzLl9heGlzR3JvdXAsaT10aGlzLl9heGlzR3JvdXA9bmV3IEJpO3RoaXMuZ3JvdXAuYWRkKGkpO3ZhciByPXQuYXhpcyxvPXIucG9sYXIsYT1vLmdldEFuZ2xlQXhpcygpLHM9ci5nZXRUaWNrc0Nvb3JkcygpLGw9ci5nZXRNaW5vclRpY2tzQ29vcmRzKCksdT1hLmdldEV4dGVudCgpWzBdLGg9ci5nZXRFeHRlbnQoKSxjPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm57cG9zaXRpb246W3QuY3gsdC5jeV0scm90YXRpb246bi8xODAqTWF0aC5QSSxsYWJlbERpcmVjdGlvbjotMSx0aWNrRGlyZWN0aW9uOi0xLG5hbWVEaXJlY3Rpb246MSxsYWJlbFJvdGF0ZTplLmdldE1vZGVsKCJheGlzTGFiZWwiKS5nZXQoInJvdGF0ZSIpLHoyOjF9fShvLHQsdSkscD1uZXcgQU0odCxjKTtPKENSLHAuYWRkLHApLGkuYWRkKHAuZ2V0R3JvdXAoKSksbGgobixpLHQpLE8oRFIsKGZ1bmN0aW9uKGUpe3QuZ2V0KFtlLCJzaG93Il0pJiYhci5zY2FsZS5pc0JsYW5rKCkmJmtSW2VdKHRoaXMuZ3JvdXAsdCxvLHUsaCxzLGwpfSksdGhpcyl9fSxlLnR5cGU9InJhZGl1c0F4aXMiLGV9KEhNKSxrUj17c3BsaXRMaW5lOmZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYT1lLmdldE1vZGVsKCJzcGxpdExpbmUiKS5nZXRNb2RlbCgibGluZVN0eWxlIikscz1hLmdldCgiY29sb3IiKSxsPTA7cz1zIGluc3RhbmNlb2YgQXJyYXk/czpbc107Zm9yKHZhciB1PVtdLGg9MDtoPG8ubGVuZ3RoO2grKyl7dmFyIGM9bCsrJXMubGVuZ3RoO3VbY109dVtjXXx8W10sdVtjXS5wdXNoKG5ldyBIbCh7c2hhcGU6e2N4Om4uY3gsY3k6bi5jeSxyOm9baF0uY29vcmR9fSkpfWZvcihoPTA7aDx1Lmxlbmd0aDtoKyspdC5hZGQoZWgodVtoXSx7c3R5bGU6Qyh7c3Ryb2tlOnNbaCVzLmxlbmd0aF0sZmlsbDpudWxsfSxhLmdldExpbmVTdHlsZSgpKSxzaWxlbnQ6ITB9KSl9LG1pbm9yU3BsaXRMaW5lOmZ1bmN0aW9uKHQsZSxuLGkscixvLGEpe2lmKGEubGVuZ3RoKXtmb3IodmFyIHM9ZS5nZXRNb2RlbCgibWlub3JTcGxpdExpbmUiKS5nZXRNb2RlbCgibGluZVN0eWxlIiksbD1bXSx1PTA7dTxhLmxlbmd0aDt1KyspZm9yKHZhciBoPTA7aDxhW3VdLmxlbmd0aDtoKyspbC5wdXNoKG5ldyBIbCh7c2hhcGU6e2N4Om4uY3gsY3k6bi5jeSxyOmFbdV1baF0uY29vcmR9fSkpO3QuYWRkKGVoKGwse3N0eWxlOkMoe2ZpbGw6bnVsbH0scy5nZXRMaW5lU3R5bGUoKSksc2lsZW50OiEwfSkpfX0sc3BsaXRBcmVhOmZ1bmN0aW9uKHQsZSxuLGkscixvKXtpZihvLmxlbmd0aCl7dmFyIGE9ZS5nZXRNb2RlbCgic3BsaXRBcmVhIikuZ2V0TW9kZWwoImFyZWFTdHlsZSIpLHM9YS5nZXQoImNvbG9yIiksbD0wO3M9cyBpbnN0YW5jZW9mIEFycmF5P3M6W3NdO2Zvcih2YXIgdT1bXSxoPW9bMF0uY29vcmQsYz0xO2M8by5sZW5ndGg7YysrKXt2YXIgcD1sKyslcy5sZW5ndGg7dVtwXT11W3BdfHxbXSx1W3BdLnB1c2gobmV3IG91KHtzaGFwZTp7Y3g6bi5jeCxjeTpuLmN5LHIwOmgscjpvW2NdLmNvb3JkLHN0YXJ0QW5nbGU6MCxlbmRBbmdsZToyKk1hdGguUEl9LHNpbGVudDohMH0pKSxoPW9bY10uY29vcmR9Zm9yKGM9MDtjPHUubGVuZ3RoO2MrKyl0LmFkZChlaCh1W2NdLHtzdHlsZTpDKHtmaWxsOnNbYyVzLmxlbmd0aF19LGEuZ2V0QXJlYVN0eWxlKCkpLHNpbGVudDohMH0pKX19fTtmdW5jdGlvbiBMUih0KXtyZXR1cm4gdC5nZXQoInN0YWNrIil8fCJfX2VjX3N0YWNrXyIrdC5zZXJpZXNJbmRleH1mdW5jdGlvbiBQUih0LGUpe3JldHVybiBlLmRpbSt0Lm1vZGVsLmNvbXBvbmVudEluZGV4fWZ1bmN0aW9uIE9SKHQsZSxuKXt2YXIgaT17fSxyPWZ1bmN0aW9uKHQpe3ZhciBlPXt9O08odCwoZnVuY3Rpb24odCxuKXt2YXIgaT10LmdldERhdGEoKSxyPXQuY29vcmRpbmF0ZVN5c3RlbSxvPXIuZ2V0QmFzZUF4aXMoKSxhPVBSKHIsbykscz1vLmdldEV4dGVudCgpLGw9ImNhdGVnb3J5Ij09PW8udHlwZT9vLmdldEJhbmRXaWR0aCgpOk1hdGguYWJzKHNbMV0tc1swXSkvaS5jb3VudCgpLHU9ZVthXXx8e2JhbmRXaWR0aDpsLHJlbWFpbmVkV2lkdGg6bCxhdXRvV2lkdGhDb3VudDowLGNhdGVnb3J5R2FwOiIyMCUiLGdhcDoiMzAlIixzdGFja3M6e319LGg9dS5zdGFja3M7ZVthXT11O3ZhciBjPUxSKHQpO2hbY118fHUuYXV0b1dpZHRoQ291bnQrKyxoW2NdPWhbY118fHt3aWR0aDowLG1heFdpZHRoOjB9O3ZhciBwPXFpKHQuZ2V0KCJiYXJXaWR0aCIpLGwpLGQ9cWkodC5nZXQoImJhck1heFdpZHRoIiksbCksZj10LmdldCgiYmFyR2FwIiksZz10LmdldCgiYmFyQ2F0ZWdvcnlHYXAiKTtwJiYhaFtjXS53aWR0aCYmKHA9TWF0aC5taW4odS5yZW1haW5lZFdpZHRoLHApLGhbY10ud2lkdGg9cCx1LnJlbWFpbmVkV2lkdGgtPXApLGQmJihoW2NdLm1heFdpZHRoPWQpLG51bGwhPWYmJih1LmdhcD1mKSxudWxsIT1nJiYodS5jYXRlZ29yeUdhcD1nKX0pKTt2YXIgbj17fTtyZXR1cm4gTyhlLChmdW5jdGlvbih0LGUpe25bZV09e307dmFyIGk9dC5zdGFja3Mscj10LmJhbmRXaWR0aCxvPXFpKHQuY2F0ZWdvcnlHYXAsciksYT1xaSh0LmdhcCwxKSxzPXQucmVtYWluZWRXaWR0aCxsPXQuYXV0b1dpZHRoQ291bnQsdT0ocy1vKS8obCsobC0xKSphKTt1PU1hdGgubWF4KHUsMCksTyhpLChmdW5jdGlvbih0LGUpe3ZhciBuPXQubWF4V2lkdGg7biYmbjx1JiYobj1NYXRoLm1pbihuLHMpLHQud2lkdGgmJihuPU1hdGgubWluKG4sdC53aWR0aCkpLHMtPW4sdC53aWR0aD1uLGwtLSl9KSksdT0ocy1vKS8obCsobC0xKSphKSx1PU1hdGgubWF4KHUsMCk7dmFyIGgsYz0wO08oaSwoZnVuY3Rpb24odCxlKXt0LndpZHRofHwodC53aWR0aD11KSxoPXQsYys9dC53aWR0aCooMSthKX0pKSxoJiYoYy09aC53aWR0aCphKTt2YXIgcD0tYy8yO08oaSwoZnVuY3Rpb24odCxpKXtuW2VdW2ldPW5bZV1baV18fHtvZmZzZXQ6cCx3aWR0aDp0LndpZHRofSxwKz10LndpZHRoKigxK2EpfSkpfSkpLG59KHooZS5nZXRTZXJpZXNCeVR5cGUodCksKGZ1bmN0aW9uKHQpe3JldHVybiFlLmlzU2VyaWVzRmlsdGVyZWQodCkmJnQuY29vcmRpbmF0ZVN5c3RlbSYmInBvbGFyIj09PXQuY29vcmRpbmF0ZVN5c3RlbS50eXBlfSkpKTtlLmVhY2hTZXJpZXNCeVR5cGUodCwoZnVuY3Rpb24odCl7aWYoInBvbGFyIj09PXQuY29vcmRpbmF0ZVN5c3RlbS50eXBlKXt2YXIgZT10LmdldERhdGEoKSxuPXQuY29vcmRpbmF0ZVN5c3RlbSxvPW4uZ2V0QmFzZUF4aXMoKSxhPVBSKG4sbykscz1MUih0KSxsPXJbYV1bc10sdT1sLm9mZnNldCxoPWwud2lkdGgsYz1uLmdldE90aGVyQXhpcyhvKSxwPXQuY29vcmRpbmF0ZVN5c3RlbS5jeCxkPXQuY29vcmRpbmF0ZVN5c3RlbS5jeSxmPXQuZ2V0KCJiYXJNaW5IZWlnaHQiKXx8MCxnPXQuZ2V0KCJiYXJNaW5BbmdsZSIpfHwwO2lbc109aVtzXXx8W107Zm9yKHZhciB5PWUubWFwRGltZW5zaW9uKGMuZGltKSx2PWUubWFwRGltZW5zaW9uKG8uZGltKSxtPXlfKGUseSksXz0icmFkaXVzIiE9PW8uZGltfHwhdC5nZXQoInJvdW5kQ2FwIiwhMCkseD1jLmRhdGFUb0Nvb3JkKDApLGI9MCx3PWUuY291bnQoKTtiPHc7YisrKXt2YXIgUz1lLmdldCh5LGIpLE09ZS5nZXQodixiKSxJPVM+PTA/InAiOiJuIixUPXg7bSYmKGlbc11bTV18fChpW3NdW01dPXtwOngsbjp4fSksVD1pW3NdW01dW0ldKTt2YXIgQz12b2lkIDAsRD12b2lkIDAsQT12b2lkIDAsaz12b2lkIDA7aWYoInJhZGl1cyI9PT1jLmRpbSl7dmFyIEw9Yy5kYXRhVG9Db29yZChTKS14LFA9by5kYXRhVG9Db29yZChNKTtNYXRoLmFicyhMKTxmJiYoTD0oTDwwPy0xOjEpKmYpLEM9VCxEPVQrTCxrPShBPVAtdSktaCxtJiYoaVtzXVtNXVtJXT1EKX1lbHNle3ZhciBPPWMuZGF0YVRvQ29vcmQoUyxfKS14LFI9by5kYXRhVG9Db29yZChNKTtNYXRoLmFicyhPKTxnJiYoTz0oTzwwPy0xOjEpKmcpLEQ9KEM9Uit1KStoLEE9VCxrPVQrTyxtJiYoaVtzXVtNXVtJXT1rKX1lLnNldEl0ZW1MYXlvdXQoYix7Y3g6cCxjeTpkLHIwOkMscjpELHN0YXJ0QW5nbGU6LUEqTWF0aC5QSS8xODAsZW5kQW5nbGU6LWsqTWF0aC5QSS8xODAsY2xvY2t3aXNlOkE+PWt9KX19fSkpfXZhciBSUj17c3RhcnRBbmdsZTo5MCxjbG9ja3dpc2U6ITAsc3BsaXROdW1iZXI6MTIsYXhpc0xhYmVsOntyb3RhdGU6MH19LE5SPXtzcGxpdE51bWJlcjo1fSx6Uj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnR5cGU9InBvbGFyIixlfShXZik7ZnVuY3Rpb24gRVIodCxlKXtlPWV8fHt9O3ZhciBuPXQuY29vcmRpbmF0ZVN5c3RlbSxpPXQuYXhpcyxyPXt9LG89aS5wb3NpdGlvbixhPWkub3JpZW50LHM9bi5nZXRSZWN0KCksbD1bcy54LHMueCtzLndpZHRoLHMueSxzLnkrcy5oZWlnaHRdLHU9e2hvcml6b250YWw6e3RvcDpsWzJdLGJvdHRvbTpsWzNdfSx2ZXJ0aWNhbDp7bGVmdDpsWzBdLHJpZ2h0OmxbMV19fTtyLnBvc2l0aW9uPVsidmVydGljYWwiPT09YT91LnZlcnRpY2FsW29dOmxbMF0sImhvcml6b250YWwiPT09YT91Lmhvcml6b250YWxbb106bFszXV07ci5yb3RhdGlvbj1NYXRoLlBJLzIqe2hvcml6b250YWw6MCx2ZXJ0aWNhbDoxfVthXTtyLmxhYmVsRGlyZWN0aW9uPXIudGlja0RpcmVjdGlvbj1yLm5hbWVEaXJlY3Rpb249e3RvcDotMSxib3R0b206MSxyaWdodDoxLGxlZnQ6LTF9W29dLHQuZ2V0KFsiYXhpc1RpY2siLCJpbnNpZGUiXSkmJihyLnRpY2tEaXJlY3Rpb249LXIudGlja0RpcmVjdGlvbiksdHQoZS5sYWJlbEluc2lkZSx0LmdldChbImF4aXNMYWJlbCIsImluc2lkZSJdKSkmJihyLmxhYmVsRGlyZWN0aW9uPS1yLmxhYmVsRGlyZWN0aW9uKTt2YXIgaD1lLnJvdGF0ZTtyZXR1cm4gbnVsbD09aCYmKGg9dC5nZXQoWyJheGlzTGFiZWwiLCJyb3RhdGUiXSkpLHIubGFiZWxSb3RhdGlvbj0idG9wIj09PW8/LWg6aCxyLnoyPTEscn12YXIgVlI9WyJheGlzTGluZSIsImF4aXNUaWNrTGFiZWwiLCJheGlzTmFtZSJdLEJSPVsic3BsaXRBcmVhIiwic3BsaXRMaW5lIl0sR1I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmF4aXNQb2ludGVyQ2xhc3M9IlNpbmdsZUF4aXNQb2ludGVyIixufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGUsbixpLHIpe3ZhciBvPXRoaXMuZ3JvdXA7by5yZW1vdmVBbGwoKTt2YXIgYT10aGlzLl9heGlzR3JvdXA7dGhpcy5fYXhpc0dyb3VwPW5ldyBCaTt2YXIgcz1FUihlKSxsPW5ldyBBTShlLHMpO08oVlIsbC5hZGQsbCksby5hZGQodGhpcy5fYXhpc0dyb3VwKSxvLmFkZChsLmdldEdyb3VwKCkpLE8oQlIsKGZ1bmN0aW9uKHQpe2UuZ2V0KFt0LCJzaG93Il0pJiZGUlt0XSh0aGlzLHRoaXMuZ3JvdXAsdGhpcy5fYXhpc0dyb3VwLGUpfSksdGhpcyksbGgoYSx0aGlzLl9heGlzR3JvdXAsZSksdC5wcm90b3R5cGUucmVuZGVyLmNhbGwodGhpcyxlLG4saSxyKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7WE0odGhpcyl9LGUudHlwZT0ic2luZ2xlQXhpcyIsZX0oSE0pLEZSPXtzcGxpdExpbmU6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9aS5heGlzO2lmKCFyLnNjYWxlLmlzQmxhbmsoKSl7dmFyIG89aS5nZXRNb2RlbCgic3BsaXRMaW5lIiksYT1vLmdldE1vZGVsKCJsaW5lU3R5bGUiKSxzPWEuZ2V0KCJjb2xvciIpO3M9cyBpbnN0YW5jZW9mIEFycmF5P3M6W3NdO2Zvcih2YXIgbD1pLmNvb3JkaW5hdGVTeXN0ZW0uZ2V0UmVjdCgpLHU9ci5pc0hvcml6b250YWwoKSxoPVtdLGM9MCxwPXIuZ2V0VGlja3NDb29yZHMoe3RpY2tNb2RlbDpvfSksZD1bXSxmPVtdLGc9MDtnPHAubGVuZ3RoOysrZyl7dmFyIHk9ci50b0dsb2JhbENvb3JkKHBbZ10uY29vcmQpO3U/KGRbMF09eSxkWzFdPWwueSxmWzBdPXksZlsxXT1sLnkrbC5oZWlnaHQpOihkWzBdPWwueCxkWzFdPXksZlswXT1sLngrbC53aWR0aCxmWzFdPXkpO3ZhciB2PWMrKyVzLmxlbmd0aDtoW3ZdPWhbdl18fFtdLGhbdl0ucHVzaChuZXcgeXUoe3N1YlBpeGVsT3B0aW1pemU6ITAsc2hhcGU6e3gxOmRbMF0seTE6ZFsxXSx4MjpmWzBdLHkyOmZbMV19LHNpbGVudDohMH0pKX12YXIgbT1hLmdldExpbmVTdHlsZShbImNvbG9yIl0pO2ZvcihnPTA7ZzxoLmxlbmd0aDsrK2cpZS5hZGQoZWgoaFtnXSx7c3R5bGU6Qyh7c3Ryb2tlOnNbZyVzLmxlbmd0aF19LG0pLHNpbGVudDohMH0pKX19LHNwbGl0QXJlYTpmdW5jdGlvbih0LGUsbixpKXtVTSh0LG4saSxpKX19LEhSPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmdldENvb3JkU3lzTW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZS50eXBlPSJzaW5nbGVBeGlzIixlLmxheW91dE1vZGU9ImJveCIsZS5kZWZhdWx0T3B0aW9uPXtsZWZ0OiI1JSIsdG9wOiI1JSIscmlnaHQ6IjUlIixib3R0b206IjUlIix0eXBlOiJ2YWx1ZSIscG9zaXRpb246ImJvdHRvbSIsb3JpZW50OiJob3Jpem9udGFsIixheGlzTGluZTp7c2hvdzohMCxsaW5lU3R5bGU6e3dpZHRoOjEsdHlwZToic29saWQifX0sdG9vbHRpcDp7c2hvdzohMH0sYXhpc1RpY2s6e3Nob3c6ITAsbGVuZ3RoOjYsbGluZVN0eWxlOnt3aWR0aDoxfX0sYXhpc0xhYmVsOntzaG93OiEwLGludGVydmFsOiJhdXRvIn0sc3BsaXRMaW5lOntzaG93OiEwLGxpbmVTdHlsZTp7dHlwZToiZGFzaGVkIixvcGFjaXR5Oi4yfX19LGV9KG5wKTtMKEhSLEl4LnByb3RvdHlwZSk7dmFyIFdSPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscixvKXt2YXIgYT10LmNhbGwodGhpcyxlLG4saSl8fHRoaXM7cmV0dXJuIGEudHlwZT1yfHwidmFsdWUiLGEucG9zaXRpb249b3x8ImJvdHRvbSIsYX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmlzSG9yaXpvbnRhbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMucG9zaXRpb247cmV0dXJuInRvcCI9PT10fHwiYm90dG9tIj09PXR9LGUucHJvdG90eXBlLnBvaW50VG9EYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY29vcmRpbmF0ZVN5c3RlbS5wb2ludFRvRGF0YSh0KVswXX0sZX0oV3gpLFVSPVsic2luZ2xlIl0sWFI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt0aGlzLnR5cGU9InNpbmdsZSIsdGhpcy5kaW1lbnNpb249InNpbmdsZSIsdGhpcy5kaW1lbnNpb25zPVVSLHRoaXMuYXhpc1BvaW50ZXJFbmFibGVkPSEwLHRoaXMubW9kZWw9dCx0aGlzLl9pbml0KHQsZSxuKX1yZXR1cm4gdC5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuZGltZW5zaW9uLHI9bmV3IFdSKGksdngodCksWzAsMF0sdC5nZXQoInR5cGUiKSx0LmdldCgicG9zaXRpb24iKSksbz0iY2F0ZWdvcnkiPT09ci50eXBlO3Iub25CYW5kPW8mJnQuZ2V0KCJib3VuZGFyeUdhcCIpLHIuaW52ZXJzZT10LmdldCgiaW52ZXJzZSIpLHIub3JpZW50PXQuZ2V0KCJvcmllbnQiKSx0LmF4aXM9cixyLm1vZGVsPXQsci5jb29yZGluYXRlU3lzdGVtPXRoaXMsdGhpcy5fYXhpcz1yfSx0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXt0LmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe2lmKHQuY29vcmRpbmF0ZVN5c3RlbT09PXRoaXMpe3ZhciBlPXQuZ2V0RGF0YSgpO08oZS5tYXBEaW1lbnNpb25zQWxsKHRoaXMuZGltZW5zaW9uKSwoZnVuY3Rpb24odCl7dGhpcy5fYXhpcy5zY2FsZS51bmlvbkV4dGVudEZyb21EYXRhKGUsdCl9KSx0aGlzKSx5eCh0aGlzLl9heGlzLnNjYWxlLHRoaXMuX2F4aXMubW9kZWwpfX0pLHRoaXMpfSx0LnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCxlKXt0aGlzLl9yZWN0PXFjKHtsZWZ0OnQuZ2V0KCJsZWZ0IiksdG9wOnQuZ2V0KCJ0b3AiKSxyaWdodDp0LmdldCgicmlnaHQiKSxib3R0b206dC5nZXQoImJvdHRvbSIpLHdpZHRoOnQuZ2V0KCJ3aWR0aCIpLGhlaWdodDp0LmdldCgiaGVpZ2h0Iil9LHt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9KSx0aGlzLl9hZGp1c3RBeGlzKCl9LHQucHJvdG90eXBlLmdldFJlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVjdH0sdC5wcm90b3R5cGUuX2FkanVzdEF4aXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yZWN0LGU9dGhpcy5fYXhpcyxuPWUuaXNIb3Jpem9udGFsKCksaT1uP1swLHQud2lkdGhdOlswLHQuaGVpZ2h0XSxyPWUucmV2ZXJzZT8xOjA7ZS5zZXRFeHRlbnQoaVtyXSxpWzEtcl0pLHRoaXMuX3VwZGF0ZUF4aXNUcmFuc2Zvcm0oZSxuP3QueDp0LnkpfSx0LnByb3RvdHlwZS5fdXBkYXRlQXhpc1RyYW5zZm9ybT1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0RXh0ZW50KCksaT1uWzBdK25bMV0scj10LmlzSG9yaXpvbnRhbCgpO3QudG9HbG9iYWxDb29yZD1yP2Z1bmN0aW9uKHQpe3JldHVybiB0K2V9OmZ1bmN0aW9uKHQpe3JldHVybiBpLXQrZX0sdC50b0xvY2FsQ29vcmQ9cj9mdW5jdGlvbih0KXtyZXR1cm4gdC1lfTpmdW5jdGlvbih0KXtyZXR1cm4gaS10K2V9fSx0LnByb3RvdHlwZS5nZXRBeGlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F4aXN9LHQucHJvdG90eXBlLmdldEJhc2VBeGlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F4aXN9LHQucHJvdG90eXBlLmdldEF4ZXM9ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5fYXhpc119LHQucHJvdG90eXBlLmdldFRvb2x0aXBBeGVzPWZ1bmN0aW9uKCl7cmV0dXJue2Jhc2VBeGVzOlt0aGlzLmdldEF4aXMoKV0sb3RoZXJBeGVzOltdfX0sdC5wcm90b3R5cGUuY29udGFpblBvaW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0UmVjdCgpLG49dGhpcy5nZXRBeGlzKCk7cmV0dXJuImhvcml6b250YWwiPT09bi5vcmllbnQ/bi5jb250YWluKG4udG9Mb2NhbENvb3JkKHRbMF0pKSYmdFsxXT49ZS55JiZ0WzFdPD1lLnkrZS5oZWlnaHQ6bi5jb250YWluKG4udG9Mb2NhbENvb3JkKHRbMV0pKSYmdFswXT49ZS55JiZ0WzBdPD1lLnkrZS5oZWlnaHR9LHQucHJvdG90eXBlLnBvaW50VG9EYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0QXhpcygpO3JldHVybltlLmNvb3JkVG9EYXRhKGUudG9Mb2NhbENvb3JkKHRbImhvcml6b250YWwiPT09ZS5vcmllbnQ/MDoxXSkpXX0sdC5wcm90b3R5cGUuZGF0YVRvUG9pbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRBeGlzKCksbj10aGlzLmdldFJlY3QoKSxpPVtdLHI9Imhvcml6b250YWwiPT09ZS5vcmllbnQ/MDoxO3JldHVybiB0IGluc3RhbmNlb2YgQXJyYXkmJih0PXRbMF0pLGlbcl09ZS50b0dsb2JhbENvb3JkKGUuZGF0YVRvQ29vcmQoK3QpKSxpWzEtcl09MD09PXI/bi55K24uaGVpZ2h0LzI6bi54K24ud2lkdGgvMixpfSx0LnByb3RvdHlwZS5jb252ZXJ0VG9QaXhlbD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIFlSKGUpPT09dGhpcz90aGlzLmRhdGFUb1BvaW50KG4pOm51bGx9LHQucHJvdG90eXBlLmNvbnZlcnRGcm9tUGl4ZWw9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBZUihlKT09PXRoaXM/dGhpcy5wb2ludFRvRGF0YShuKTpudWxsfSx0fSgpO2Z1bmN0aW9uIFlSKHQpe3ZhciBlPXQuc2VyaWVzTW9kZWwsbj10LnNpbmdsZUF4aXNNb2RlbDtyZXR1cm4gbiYmbi5jb29yZGluYXRlU3lzdGVtfHxlJiZlLmNvb3JkaW5hdGVTeXN0ZW19dmFyIFpSPXtjcmVhdGU6ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTtyZXR1cm4gdC5lYWNoQ29tcG9uZW50KCJzaW5nbGVBeGlzIiwoZnVuY3Rpb24oaSxyKXt2YXIgbz1uZXcgWFIoaSx0LGUpO28ubmFtZT0ic2luZ2xlXyIrcixvLnJlc2l6ZShpLGUpLGkuY29vcmRpbmF0ZVN5c3RlbT1vLG4ucHVzaChvKX0pKSx0LmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe2lmKCJzaW5nbGVBeGlzIj09PXQuZ2V0KCJjb29yZGluYXRlU3lzdGVtIikpe3ZhciBlPXQuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cygic2luZ2xlQXhpcyIsVnIpLm1vZGVsc1swXTt0LmNvb3JkaW5hdGVTeXN0ZW09ZSYmZS5jb29yZGluYXRlU3lzdGVtfX0pKSxufSxkaW1lbnNpb25zOlVSfSxqUj1bIngiLCJ5Il0scVI9WyJ3aWR0aCIsImhlaWdodCJdLEtSPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUubWFrZUVsT3B0aW9uPWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89bi5heGlzLGE9by5jb29yZGluYXRlU3lzdGVtLHM9UVIoYSwxLUpSKG8pKSxsPWEuZGF0YVRvUG9pbnQoZSlbMF0sdT1pLmdldCgidHlwZSIpO2lmKHUmJiJub25lIiE9PXUpe3ZhciBoPUxPKGkpLGM9JFJbdV0obyxsLHMpO2Muc3R5bGU9aCx0LmdyYXBoaWNLZXk9Yy50eXBlLHQucG9pbnRlcj1jfU5PKGUsdCxFUihuKSxuLGkscil9LGUucHJvdG90eXBlLmdldEhhbmRsZVRyYW5zZm9ybT1mdW5jdGlvbih0LGUsbil7dmFyIGk9RVIoZSx7bGFiZWxJbnNpZGU6ITF9KTtpLmxhYmVsTWFyZ2luPW4uZ2V0KFsiaGFuZGxlIiwibWFyZ2luIl0pO3ZhciByPVJPKGUuYXhpcyx0LGkpO3JldHVybnt4OnJbMF0seTpyWzFdLHJvdGF0aW9uOmkucm90YXRpb24rKGkubGFiZWxEaXJlY3Rpb248MD9NYXRoLlBJOjApfX0sZS5wcm90b3R5cGUudXBkYXRlSGFuZGxlVHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPW4uYXhpcyxvPXIuY29vcmRpbmF0ZVN5c3RlbSxhPUpSKHIpLHM9UVIobyxhKSxsPVt0LngsdC55XTtsW2FdKz1lW2FdLGxbYV09TWF0aC5taW4oc1sxXSxsW2FdKSxsW2FdPU1hdGgubWF4KHNbMF0sbFthXSk7dmFyIHU9UVIobywxLWEpLGg9KHVbMV0rdVswXSkvMixjPVtoLGhdO3JldHVybiBjW2FdPWxbYV0se3g6bFswXSx5OmxbMV0scm90YXRpb246dC5yb3RhdGlvbixjdXJzb3JQb2ludDpjLHRvb2x0aXBPcHRpb246e3ZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9fX0sZX0oSU8pLCRSPXtsaW5lOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm57dHlwZToiTGluZSIsc3ViUGl4ZWxPcHRpbWl6ZTohMCxzaGFwZTp6TyhbZSxuWzBdXSxbZSxuWzFdXSxKUih0KSl9fSxzaGFkb3c6ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuZ2V0QmFuZFdpZHRoKCkscj1uWzFdLW5bMF07cmV0dXJue3R5cGU6IlJlY3QiLHNoYXBlOkVPKFtlLWkvMixuWzBdXSxbaSxyXSxKUih0KSl9fX07ZnVuY3Rpb24gSlIodCl7cmV0dXJuIHQuaXNIb3Jpem9udGFsKCk/MDoxfWZ1bmN0aW9uIFFSKHQsZSl7dmFyIG49dC5nZXRSZWN0KCk7cmV0dXJuW25balJbZV1dLG5balJbZV1dK25bcVJbZV1dXX12YXIgdE49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS50eXBlPSJzaW5nbGUiLGV9KFdmKTt2YXIgZU49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlLG4saSl7dmFyIHI9UWMoZSk7dC5wcm90b3R5cGUuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyksbk4oZSxyKX0sZS5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUubWVyZ2VPcHRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpLG5OKHRoaXMub3B0aW9uLGUpfSxlLnByb3RvdHlwZS5nZXRDZWxsU2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbi5jZWxsU2l6ZX0sZS50eXBlPSJjYWxlbmRhciIsZS5kZWZhdWx0T3B0aW9uPXt6bGV2ZWw6MCx6OjIsbGVmdDo4MCx0b3A6NjAsY2VsbFNpemU6MjAsb3JpZW50OiJob3Jpem9udGFsIixzcGxpdExpbmU6e3Nob3c6ITAsbGluZVN0eWxlOntjb2xvcjoiIzAwMCIsd2lkdGg6MSx0eXBlOiJzb2xpZCJ9fSxpdGVtU3R5bGU6e2NvbG9yOiIjZmZmIixib3JkZXJXaWR0aDoxLGJvcmRlckNvbG9yOiIjY2NjIn0sZGF5TGFiZWw6e3Nob3c6ITAsZmlyc3REYXk6MCxwb3NpdGlvbjoic3RhcnQiLG1hcmdpbjoiNTAlIixjb2xvcjoiIzAwMCJ9LG1vbnRoTGFiZWw6e3Nob3c6ITAscG9zaXRpb246InN0YXJ0IixtYXJnaW46NSxhbGlnbjoiY2VudGVyIixmb3JtYXR0ZXI6bnVsbCxjb2xvcjoiIzAwMCJ9LHllYXJMYWJlbDp7c2hvdzohMCxwb3NpdGlvbjpudWxsLG1hcmdpbjozMCxmb3JtYXR0ZXI6bnVsbCxjb2xvcjoiI2NjYyIsZm9udEZhbWlseToic2Fucy1zZXJpZiIsZm9udFdlaWdodDoiYm9sZGVyIixmb250U2l6ZToyMH19LGV9KG5wKTtmdW5jdGlvbiBuTih0LGUpe3ZhciBuLGk9dC5jZWxsU2l6ZTsxPT09KG49RihpKT9pOnQuY2VsbFNpemU9W2ksaV0pLmxlbmd0aCYmKG5bMV09blswXSk7dmFyIHI9UihbMCwxXSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGwhPXRbWWNbZV1bMF1dfHxudWxsIT10W1ljW2VdWzFdXSYmbnVsbCE9dFtZY1tlXVsyXV19KGUsdCkmJihuW3RdPSJhdXRvIiksbnVsbCE9blt0XSYmImF1dG8iIT09blt0XX0pKTtKYyh0LGUse3R5cGU6ImJveCIsaWdub3JlU2l6ZTpyfSl9dmFyIGlOPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5ncm91cDtpLnJlbW92ZUFsbCgpO3ZhciByPXQuY29vcmRpbmF0ZVN5c3RlbSxvPXIuZ2V0UmFuZ2VJbmZvKCksYT1yLmdldE9yaWVudCgpLHM9ZS5nZXRMb2NhbGVNb2RlbCgpO3RoaXMuX3JlbmRlckRheVJlY3QodCxvLGkpLHRoaXMuX3JlbmRlckxpbmVzKHQsbyxhLGkpLHRoaXMuX3JlbmRlclllYXJUZXh0KHQsbyxhLGkpLHRoaXMuX3JlbmRlck1vbnRoVGV4dCh0LHMsYSxpKSx0aGlzLl9yZW5kZXJXZWVrVGV4dCh0LHMsbyxhLGkpfSxlLnByb3RvdHlwZS5fcmVuZGVyRGF5UmVjdD1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPXQuY29vcmRpbmF0ZVN5c3RlbSxyPXQuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLmdldEl0ZW1TdHlsZSgpLG89aS5nZXRDZWxsV2lkdGgoKSxhPWkuZ2V0Q2VsbEhlaWdodCgpLHM9ZS5zdGFydC50aW1lO3M8PWUuZW5kLnRpbWU7cz1pLmdldE5leHRORGF5KHMsMSkudGltZSl7dmFyIGw9aS5kYXRhVG9SZWN0KFtzXSwhMSkudGwsdT1uZXcgY3Moe3NoYXBlOnt4OmxbMF0seTpsWzFdLHdpZHRoOm8saGVpZ2h0OmF9LGN1cnNvcjoiZGVmYXVsdCIsc3R5bGU6cn0pO24uYWRkKHUpfX0sZS5wcm90b3R5cGUuX3JlbmRlckxpbmVzPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXRoaXMsbz10LmNvb3JkaW5hdGVTeXN0ZW0sYT10LmdldE1vZGVsKFsic3BsaXRMaW5lIiwibGluZVN0eWxlIl0pLmdldExpbmVTdHlsZSgpLHM9dC5nZXQoWyJzcGxpdExpbmUiLCJzaG93Il0pLGw9YS5saW5lV2lkdGg7dGhpcy5fdGxwb2ludHM9W10sdGhpcy5fYmxwb2ludHM9W10sdGhpcy5fZmlyc3REYXlPZk1vbnRoPVtdLHRoaXMuX2ZpcnN0RGF5UG9pbnRzPVtdO2Zvcih2YXIgdT1lLnN0YXJ0LGg9MDt1LnRpbWU8PWUuZW5kLnRpbWU7aCsrKXtwKHUuZm9ybWF0ZWREYXRlKSwwPT09aCYmKHU9by5nZXREYXRlSW5mbyhlLnN0YXJ0LnkrIi0iK2Uuc3RhcnQubSkpO3ZhciBjPXUuZGF0ZTtjLnNldE1vbnRoKGMuZ2V0TW9udGgoKSsxKSx1PW8uZ2V0RGF0ZUluZm8oYyl9ZnVuY3Rpb24gcChlKXtyLl9maXJzdERheU9mTW9udGgucHVzaChvLmdldERhdGVJbmZvKGUpKSxyLl9maXJzdERheVBvaW50cy5wdXNoKG8uZGF0YVRvUmVjdChbZV0sITEpLnRsKTt2YXIgbD1yLl9nZXRMaW5lUG9pbnRzT2ZPbmVXZWVrKHQsZSxuKTtyLl90bHBvaW50cy5wdXNoKGxbMF0pLHIuX2JscG9pbnRzLnB1c2gobFtsLmxlbmd0aC0xXSkscyYmci5fZHJhd1NwbGl0bGluZShsLGEsaSl9cChvLmdldE5leHRORGF5KGUuZW5kLnRpbWUsMSkuZm9ybWF0ZWREYXRlKSxzJiZ0aGlzLl9kcmF3U3BsaXRsaW5lKHIuX2dldEVkZ2VzUG9pbnRzKHIuX3RscG9pbnRzLGwsbiksYSxpKSxzJiZ0aGlzLl9kcmF3U3BsaXRsaW5lKHIuX2dldEVkZ2VzUG9pbnRzKHIuX2JscG9pbnRzLGwsbiksYSxpKX0sZS5wcm90b3R5cGUuX2dldEVkZ2VzUG9pbnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1bdFswXS5zbGljZSgpLHRbdC5sZW5ndGgtMV0uc2xpY2UoKV0scj0iaG9yaXpvbnRhbCI9PT1uPzA6MTtyZXR1cm4gaVswXVtyXT1pWzBdW3JdLWUvMixpWzFdW3JdPWlbMV1bcl0rZS8yLGl9LGUucHJvdG90eXBlLl9kcmF3U3BsaXRsaW5lPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uZXcgZHUoe3oyOjIwLHNoYXBlOntwb2ludHM6dH0sc3R5bGU6ZX0pO24uYWRkKGkpfSxlLnByb3RvdHlwZS5fZ2V0TGluZVBvaW50c09mT25lV2Vlaz1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPXQuY29vcmRpbmF0ZVN5c3RlbSxyPWkuZ2V0RGF0ZUluZm8oZSksbz1bXSxhPTA7YTw3O2ErKyl7dmFyIHM9aS5nZXROZXh0TkRheShyLnRpbWUsYSksbD1pLmRhdGFUb1JlY3QoW3MudGltZV0sITEpO29bMipzLmRheV09bC50bCxvWzIqcy5kYXkrMV09bFsiaG9yaXpvbnRhbCI9PT1uPyJibCI6InRyIl19cmV0dXJuIG99LGUucHJvdG90eXBlLl9mb3JtYXR0ZXJMYWJlbD1mdW5jdGlvbih0LGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdCYmdD8obj10LE8oZSwoZnVuY3Rpb24odCxlKXtuPW4ucmVwbGFjZSgieyIrZSsifSIsaT96Yyh0KTp0KX0pKSxuKToiZnVuY3Rpb24iPT10eXBlb2YgdD90KGUpOmUubmFtZU1hcDt2YXIgbixpfSxlLnByb3RvdHlwZS5feWVhclRleHRQb3NpdGlvbkNvbnRyb2w9ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz1lWzBdLGE9ZVsxXSxzPVsiY2VudGVyIiwiYm90dG9tIl07ImJvdHRvbSI9PT1pPyhhKz1yLHM9WyJjZW50ZXIiLCJ0b3AiXSk6ImxlZnQiPT09aT9vLT1yOiJyaWdodCI9PT1pPyhvKz1yLHM9WyJjZW50ZXIiLCJ0b3AiXSk6YS09cjt2YXIgbD0wO3JldHVybiJsZWZ0IiE9PWkmJiJyaWdodCIhPT1pfHwobD1NYXRoLlBJLzIpLHtyb3RhdGlvbjpsLHg6byx5OmEsc3R5bGU6e2FsaWduOnNbMF0sdmVydGljYWxBbGlnbjpzWzFdfX19LGUucHJvdG90eXBlLl9yZW5kZXJZZWFyVGV4dD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LmdldE1vZGVsKCJ5ZWFyTGFiZWwiKTtpZihyLmdldCgic2hvdyIpKXt2YXIgbz1yLmdldCgibWFyZ2luIiksYT1yLmdldCgicG9zaXRpb24iKTthfHwoYT0iaG9yaXpvbnRhbCIhPT1uPyJ0b3AiOiJsZWZ0Iik7dmFyIHM9W3RoaXMuX3RscG9pbnRzW3RoaXMuX3RscG9pbnRzLmxlbmd0aC0xXSx0aGlzLl9ibHBvaW50c1swXV0sbD0oc1swXVswXStzWzFdWzBdKS8yLHU9KHNbMF1bMV0rc1sxXVsxXSkvMixoPSJob3Jpem9udGFsIj09PW4/MDoxLGM9e3RvcDpbbCxzW2hdWzFdXSxib3R0b206W2wsc1sxLWhdWzFdXSxsZWZ0OltzWzEtaF1bMF0sdV0scmlnaHQ6W3NbaF1bMF0sdV19LHA9ZS5zdGFydC55OytlLmVuZC55PitlLnN0YXJ0LnkmJihwPXArIi0iK2UuZW5kLnkpO3ZhciBkPXIuZ2V0KCJmb3JtYXR0ZXIiKSxmPXtzdGFydDplLnN0YXJ0LnksZW5kOmUuZW5kLnksbmFtZU1hcDpwfSxnPXRoaXMuX2Zvcm1hdHRlckxhYmVsKGQsZikseT1uZXcgZnMoe3oyOjMwLHN0eWxlOndoKHIse3RleHQ6Z30pfSk7eS5hdHRyKHRoaXMuX3llYXJUZXh0UG9zaXRpb25Db250cm9sKHksY1thXSxuLGEsbykpLGkuYWRkKHkpfX0sZS5wcm90b3R5cGUuX21vbnRoVGV4dFBvc2l0aW9uQ29udHJvbD1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPSJsZWZ0IixhPSJ0b3AiLHM9dFswXSxsPXRbMV07cmV0dXJuImhvcml6b250YWwiPT09bj8obCs9cixlJiYobz0iY2VudGVyIiksInN0YXJ0Ij09PWkmJihhPSJib3R0b20iKSk6KHMrPXIsZSYmKGE9Im1pZGRsZSIpLCJzdGFydCI9PT1pJiYobz0icmlnaHQiKSkse3g6cyx5OmwsYWxpZ246byx2ZXJ0aWNhbEFsaWduOmF9fSxlLnByb3RvdHlwZS5fcmVuZGVyTW9udGhUZXh0PWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXQuZ2V0TW9kZWwoIm1vbnRoTGFiZWwiKTtpZihyLmdldCgic2hvdyIpKXt2YXIgbz1yLmdldCgibmFtZU1hcCIpLGE9ci5nZXQoIm1hcmdpbiIpLHM9ci5nZXQoInBvc2l0aW9uIiksbD1yLmdldCgiYWxpZ24iKSx1PVt0aGlzLl90bHBvaW50cyx0aGlzLl9ibHBvaW50c107byYmIVcobyl8fChvJiYoZT10YyhvKXx8ZSksbz1lLmdldChbInRpbWUiLCJtb250aEFiYnIiXSl8fFtdKTt2YXIgaD0ic3RhcnQiPT09cz8wOjEsYz0iaG9yaXpvbnRhbCI9PT1uPzA6MTthPSJzdGFydCI9PT1zPy1hOmE7Zm9yKHZhciBwPSJjZW50ZXIiPT09bCxkPTA7ZDx1W2hdLmxlbmd0aC0xO2QrKyl7dmFyIGY9dVtoXVtkXS5zbGljZSgpLGc9dGhpcy5fZmlyc3REYXlPZk1vbnRoW2RdO2lmKHApe3ZhciB5PXRoaXMuX2ZpcnN0RGF5UG9pbnRzW2RdO2ZbY109KHlbY10rdVswXVtkKzFdW2NdKS8yfXZhciB2PXIuZ2V0KCJmb3JtYXR0ZXIiKSxtPW9bK2cubS0xXSxfPXt5eXl5OmcueSx5eTooZy55KyIiKS5zbGljZSgyKSxNTTpnLm0sTTorZy5tLG5hbWVNYXA6bX0seD10aGlzLl9mb3JtYXR0ZXJMYWJlbCh2LF8pLGI9bmV3IGZzKHt6MjozMCxzdHlsZTpUKHdoKHIse3RleHQ6eH0pLHRoaXMuX21vbnRoVGV4dFBvc2l0aW9uQ29udHJvbChmLHAsbixzLGEpKX0pO2kuYWRkKGIpfX19LGUucHJvdG90eXBlLl93ZWVrVGV4dFBvc2l0aW9uQ29udHJvbD1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPSJjZW50ZXIiLGE9Im1pZGRsZSIscz10WzBdLGw9dFsxXSx1PSJzdGFydCI9PT1uO3JldHVybiJob3Jpem9udGFsIj09PWU/KHM9cytpKyh1PzE6LTEpKnJbMF0vMixvPXU/InJpZ2h0IjoibGVmdCIpOihsPWwraSsodT8xOi0xKSpyWzFdLzIsYT11PyJib3R0b20iOiJ0b3AiKSx7eDpzLHk6bCxhbGlnbjpvLHZlcnRpY2FsQWxpZ246YX19LGUucHJvdG90eXBlLl9yZW5kZXJXZWVrVGV4dD1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPXQuZ2V0TW9kZWwoImRheUxhYmVsIik7aWYoby5nZXQoInNob3ciKSl7dmFyIGE9dC5jb29yZGluYXRlU3lzdGVtLHM9by5nZXQoInBvc2l0aW9uIiksbD1vLmdldCgibmFtZU1hcCIpLHU9by5nZXQoIm1hcmdpbiIpLGg9YS5nZXRGaXJzdERheU9mV2VlaygpO2lmKCFsfHxXKGwpKWwmJihlPXRjKGwpfHxlKSxsPWUuZ2V0KFsidGltZSIsImRheU9mV2Vla1Nob3J0Il0pfHxSKGUuZ2V0KFsidGltZSIsImRheU9mV2Vla0FiYnIiXSksKGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdfSkpO3ZhciBjPWEuZ2V0TmV4dE5EYXkobi5lbmQudGltZSw3LW4ubHdlZWspLnRpbWUscD1bYS5nZXRDZWxsV2lkdGgoKSxhLmdldENlbGxIZWlnaHQoKV07dT1xaSh1LE1hdGgubWluKHBbMV0scFswXSkpLCJzdGFydCI9PT1zJiYoYz1hLmdldE5leHRORGF5KG4uc3RhcnQudGltZSwtKDcrbi5md2VlaykpLnRpbWUsdT0tdSk7Zm9yKHZhciBkPTA7ZDw3O2QrKyl7dmFyIGYsZz1hLmdldE5leHRORGF5KGMsZCkseT1hLmRhdGFUb1JlY3QoW2cudGltZV0sITEpLmNlbnRlcjtmPU1hdGguYWJzKChkK2gpJTcpO3ZhciB2PW5ldyBmcyh7ejI6MzAsc3R5bGU6VCh3aChvLHt0ZXh0OmxbZl19KSx0aGlzLl93ZWVrVGV4dFBvc2l0aW9uQ29udHJvbCh5LGkscyx1LHApKX0pO3IuYWRkKHYpfX19LGUudHlwZT0iY2FsZW5kYXIiLGV9KFdmKSxyTj04NjRlNSxvTj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuLGkpe3RoaXMudHlwZT0iY2FsZW5kYXIiLHRoaXMuZGltZW5zaW9ucz10LmRpbWVuc2lvbnMsdGhpcy5nZXREaW1lbnNpb25zSW5mbz10LmdldERpbWVuc2lvbnNJbmZvLHRoaXMuX21vZGVsPWV9cmV0dXJuIHQuZ2V0RGltZW5zaW9uc0luZm89ZnVuY3Rpb24oKXtyZXR1cm5be25hbWU6InRpbWUiLHR5cGU6InRpbWUifSwidmFsdWUiXX0sdC5wcm90b3R5cGUuZ2V0UmFuZ2VJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JhbmdlSW5mb30sdC5wcm90b3R5cGUuZ2V0TW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW9kZWx9LHQucHJvdG90eXBlLmdldFJlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVjdH0sdC5wcm90b3R5cGUuZ2V0Q2VsbFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N3fSx0LnByb3RvdHlwZS5nZXRDZWxsSGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NofSx0LnByb3RvdHlwZS5nZXRPcmllbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3JpZW50fSx0LnByb3RvdHlwZS5nZXRGaXJzdERheU9mV2Vlaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9maXJzdERheU9mV2Vla30sdC5wcm90b3R5cGUuZ2V0RGF0ZUluZm89ZnVuY3Rpb24odCl7dmFyIGU9KHQ9c3IodCkpLmdldEZ1bGxZZWFyKCksbj10LmdldE1vbnRoKCkrMSxpPW48MTA/IjAiK246IiIrbixyPXQuZ2V0RGF0ZSgpLG89cjwxMD8iMCIrcjoiIityLGE9dC5nZXREYXkoKTtyZXR1cm57eTplKyIiLG06aSxkOm8sZGF5OmE9TWF0aC5hYnMoKGErNy10aGlzLmdldEZpcnN0RGF5T2ZXZWVrKCkpJTcpLHRpbWU6dC5nZXRUaW1lKCksZm9ybWF0ZWREYXRlOmUrIi0iK2krIi0iK28sZGF0ZTp0fX0sdC5wcm90b3R5cGUuZ2V0TmV4dE5EYXk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gMD09PShlPWV8fDApfHwodD1uZXcgRGF0ZSh0aGlzLmdldERhdGVJbmZvKHQpLnRpbWUpKS5zZXREYXRlKHQuZ2V0RGF0ZSgpK2UpLHRoaXMuZ2V0RGF0ZUluZm8odCl9LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe3RoaXMuX2ZpcnN0RGF5T2ZXZWVrPSt0aGlzLl9tb2RlbC5nZXRNb2RlbCgiZGF5TGFiZWwiKS5nZXQoImZpcnN0RGF5IiksdGhpcy5fb3JpZW50PXRoaXMuX21vZGVsLmdldCgib3JpZW50IiksdGhpcy5fbGluZVdpZHRoPXRoaXMuX21vZGVsLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKS5saW5lV2lkdGh8fDAsdGhpcy5fcmFuZ2VJbmZvPXRoaXMuX2dldFJhbmdlSW5mbyh0aGlzLl9pbml0UmFuZ2VPcHRpb24oKSk7dmFyIG49dGhpcy5fcmFuZ2VJbmZvLndlZWtzfHwxLGk9WyJ3aWR0aCIsImhlaWdodCJdLHI9dGhpcy5fbW9kZWwuZ2V0Q2VsbFNpemUoKS5zbGljZSgpLG89dGhpcy5fbW9kZWwuZ2V0Qm94TGF5b3V0UGFyYW1zKCksYT0iaG9yaXpvbnRhbCI9PT10aGlzLl9vcmllbnQ/W24sN106Wzcsbl07TyhbMCwxXSwoZnVuY3Rpb24odCl7dShyLHQpJiYob1tpW3RdXT1yW3RdKmFbdF0pfSkpO3ZhciBzPXt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9LGw9dGhpcy5fcmVjdD1xYyhvLHMpO2Z1bmN0aW9uIHUodCxlKXtyZXR1cm4gbnVsbCE9dFtlXSYmImF1dG8iIT09dFtlXX1PKFswLDFdLChmdW5jdGlvbih0KXt1KHIsdCl8fChyW3RdPWxbaVt0XV0vYVt0XSl9KSksdGhpcy5fc3c9clswXSx0aGlzLl9zaD1yWzFdfSx0LnByb3RvdHlwZS5kYXRhVG9Qb2ludD1mdW5jdGlvbih0LGUpe0YodCkmJih0PXRbMF0pLG51bGw9PWUmJihlPSEwKTt2YXIgbj10aGlzLmdldERhdGVJbmZvKHQpLGk9dGhpcy5fcmFuZ2VJbmZvLHI9bi5mb3JtYXRlZERhdGU7aWYoZSYmIShuLnRpbWU+PWkuc3RhcnQudGltZSYmbi50aW1lPGkuZW5kLnRpbWUrck4pKXJldHVybltOYU4sTmFOXTt2YXIgbz1uLmRheSxhPXRoaXMuX2dldFJhbmdlSW5mbyhbaS5zdGFydC50aW1lLHJdKS5udGhXZWVrO3JldHVybiJ2ZXJ0aWNhbCI9PT10aGlzLl9vcmllbnQ/W3RoaXMuX3JlY3QueCtvKnRoaXMuX3N3K3RoaXMuX3N3LzIsdGhpcy5fcmVjdC55K2EqdGhpcy5fc2grdGhpcy5fc2gvMl06W3RoaXMuX3JlY3QueCthKnRoaXMuX3N3K3RoaXMuX3N3LzIsdGhpcy5fcmVjdC55K28qdGhpcy5fc2grdGhpcy5fc2gvMl19LHQucHJvdG90eXBlLnBvaW50VG9EYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucG9pbnRUb0RhdGUodCk7cmV0dXJuIGUmJmUudGltZX0sdC5wcm90b3R5cGUuZGF0YVRvUmVjdD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZGF0YVRvUG9pbnQodCxlKTtyZXR1cm57Y29udGVudFNoYXBlOnt4Om5bMF0tKHRoaXMuX3N3LXRoaXMuX2xpbmVXaWR0aCkvMix5Om5bMV0tKHRoaXMuX3NoLXRoaXMuX2xpbmVXaWR0aCkvMix3aWR0aDp0aGlzLl9zdy10aGlzLl9saW5lV2lkdGgsaGVpZ2h0OnRoaXMuX3NoLXRoaXMuX2xpbmVXaWR0aH0sY2VudGVyOm4sdGw6W25bMF0tdGhpcy5fc3cvMixuWzFdLXRoaXMuX3NoLzJdLHRyOltuWzBdK3RoaXMuX3N3LzIsblsxXS10aGlzLl9zaC8yXSxicjpbblswXSt0aGlzLl9zdy8yLG5bMV0rdGhpcy5fc2gvMl0sYmw6W25bMF0tdGhpcy5fc3cvMixuWzFdK3RoaXMuX3NoLzJdfX0sdC5wcm90b3R5cGUucG9pbnRUb0RhdGU9ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5mbG9vcigodFswXS10aGlzLl9yZWN0LngpL3RoaXMuX3N3KSsxLG49TWF0aC5mbG9vcigodFsxXS10aGlzLl9yZWN0LnkpL3RoaXMuX3NoKSsxLGk9dGhpcy5fcmFuZ2VJbmZvLnJhbmdlO3JldHVybiJ2ZXJ0aWNhbCI9PT10aGlzLl9vcmllbnQ/dGhpcy5fZ2V0RGF0ZUJ5V2Vla3NBbmREYXkobixlLTEsaSk6dGhpcy5fZ2V0RGF0ZUJ5V2Vla3NBbmREYXkoZSxuLTEsaSl9LHQucHJvdG90eXBlLmNvbnZlcnRUb1BpeGVsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1hTihlKTtyZXR1cm4gaT09PXRoaXM/aS5kYXRhVG9Qb2ludChuKTpudWxsfSx0LnByb3RvdHlwZS5jb252ZXJ0RnJvbVBpeGVsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1hTihlKTtyZXR1cm4gaT09PXRoaXM/aS5wb2ludFRvRGF0YShuKTpudWxsfSx0LnByb3RvdHlwZS5jb250YWluUG9pbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiTm90IGltcGxlbWVudGVkLiIpLCExfSx0LnByb3RvdHlwZS5faW5pdFJhbmdlT3B0aW9uPWZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLl9tb2RlbC5nZXQoInJhbmdlIik7aWYoRihlKSYmMT09PWUubGVuZ3RoJiYoZT1lWzBdKSxGKGUpKXQ9ZTtlbHNle3ZhciBuPWUudG9TdHJpbmcoKTtpZigvXlxkezR9JC8udGVzdChuKSYmKHQ9W24rIi0wMS0wMSIsbisiLTEyLTMxIl0pLC9eXGR7NH1bXC98LV1cZHsxLDJ9JC8udGVzdChuKSl7dmFyIGk9dGhpcy5nZXREYXRlSW5mbyhuKSxyPWkuZGF0ZTtyLnNldE1vbnRoKHIuZ2V0TW9udGgoKSsxKTt2YXIgbz10aGlzLmdldE5leHRORGF5KHIsLTEpO3Q9W2kuZm9ybWF0ZWREYXRlLG8uZm9ybWF0ZWREYXRlXX0vXlxkezR9W1wvfC1dXGR7MSwyfVtcL3wtXVxkezEsMn0kLy50ZXN0KG4pJiYodD1bbixuXSl9aWYoIXQpcmV0dXJuIGU7dmFyIGE9dGhpcy5fZ2V0UmFuZ2VJbmZvKHQpO3JldHVybiBhLnN0YXJ0LnRpbWU+YS5lbmQudGltZSYmdC5yZXZlcnNlKCksdH0sdC5wcm90b3R5cGUuX2dldFJhbmdlSW5mbz1mdW5jdGlvbih0KXt2YXIgZSxuPVt0aGlzLmdldERhdGVJbmZvKHRbMF0pLHRoaXMuZ2V0RGF0ZUluZm8odFsxXSldO25bMF0udGltZT5uWzFdLnRpbWUmJihlPSEwLG4ucmV2ZXJzZSgpKTt2YXIgaT1NYXRoLmZsb29yKG5bMV0udGltZS9yTiktTWF0aC5mbG9vcihuWzBdLnRpbWUvck4pKzEscj1uZXcgRGF0ZShuWzBdLnRpbWUpLG89ci5nZXREYXRlKCksYT1uWzFdLmRhdGUuZ2V0RGF0ZSgpO3Iuc2V0RGF0ZShvK2ktMSk7dmFyIHM9ci5nZXREYXRlKCk7aWYocyE9PWEpZm9yKHZhciBsPXIuZ2V0VGltZSgpLW5bMV0udGltZT4wPzE6LTE7KHM9ci5nZXREYXRlKCkpIT09YSYmKHIuZ2V0VGltZSgpLW5bMV0udGltZSkqbD4wOylpLT1sLHIuc2V0RGF0ZShzLWwpO3ZhciB1PU1hdGguZmxvb3IoKGkrblswXS5kYXkrNikvNyksaD1lPzEtdTp1LTE7cmV0dXJuIGUmJm4ucmV2ZXJzZSgpLHtyYW5nZTpbblswXS5mb3JtYXRlZERhdGUsblsxXS5mb3JtYXRlZERhdGVdLHN0YXJ0Om5bMF0sZW5kOm5bMV0sYWxsRGF5Omksd2Vla3M6dSxudGhXZWVrOmgsZndlZWs6blswXS5kYXksbHdlZWs6blsxXS5kYXl9fSx0LnByb3RvdHlwZS5fZ2V0RGF0ZUJ5V2Vla3NBbmREYXk9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuX2dldFJhbmdlSW5mbyhuKTtpZih0Pmkud2Vla3N8fDA9PT10JiZlPGkuZndlZWt8fHQ9PT1pLndlZWtzJiZlPmkubHdlZWspcmV0dXJuIG51bGw7dmFyIHI9NyoodC0xKS1pLmZ3ZWVrK2Usbz1uZXcgRGF0ZShpLnN0YXJ0LnRpbWUpO3JldHVybiBvLnNldERhdGUoK2kuc3RhcnQuZCtyKSx0aGlzLmdldERhdGVJbmZvKG8pfSx0LmNyZWF0ZT1mdW5jdGlvbihlLG4pe3ZhciBpPVtdO3JldHVybiBlLmVhY2hDb21wb25lbnQoImNhbGVuZGFyIiwoZnVuY3Rpb24ocil7dmFyIG89bmV3IHQocixlLG4pO2kucHVzaChvKSxyLmNvb3JkaW5hdGVTeXN0ZW09b30pKSxlLmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpeyJjYWxlbmRhciI9PT10LmdldCgiY29vcmRpbmF0ZVN5c3RlbSIpJiYodC5jb29yZGluYXRlU3lzdGVtPWlbdC5nZXQoImNhbGVuZGFySW5kZXgiKXx8MF0pfSkpLGl9LHQuZGltZW5zaW9ucz1bInRpbWUiLCJ2YWx1ZSJdLHR9KCk7ZnVuY3Rpb24gYU4odCl7dmFyIGU9dC5jYWxlbmRhck1vZGVsLG49dC5zZXJpZXNNb2RlbDtyZXR1cm4gZT9lLmNvb3JkaW5hdGVTeXN0ZW06bj9uLmNvb3JkaW5hdGVTeXN0ZW06bnVsbH12YXIgc049UnIoKSxsTj17cGF0aDpudWxsLGNvbXBvdW5kUGF0aDpudWxsLGdyb3VwOkJpLGltYWdlOnJzLHRleHQ6ZnN9LHVOPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ3JhcGhpYztGKGUpP2VbMF0mJmVbMF0uZWxlbWVudHM/dC5ncmFwaGljPVt0LmdyYXBoaWNbMF1dOnQuZ3JhcGhpYz1be2VsZW1lbnRzOmV9XTplJiYhZS5lbGVtZW50cyYmKHQuZ3JhcGhpYz1be2VsZW1lbnRzOltlXX1dKX0saE49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLnByZXZlbnRBdXRvWj0hMCxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24oZSxuKXt2YXIgaT10aGlzLm9wdGlvbi5lbGVtZW50czt0aGlzLm9wdGlvbi5lbGVtZW50cz1udWxsLHQucHJvdG90eXBlLm1lcmdlT3B0aW9uLmNhbGwodGhpcyxlLG4pLHRoaXMub3B0aW9uLmVsZW1lbnRzPWl9LGUucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm9wdGlvbixpPShlP246dCkuZWxlbWVudHMscj1uLmVsZW1lbnRzPWU/W106bi5lbGVtZW50cyxvPVtdO3RoaXMuX2ZsYXR0ZW4oaSxvLG51bGwpO3ZhciBhPUNyKHIsbywibm9ybWFsTWVyZ2UiKSxzPXRoaXMuX2VsT3B0aW9uc1RvVXBkYXRlPVtdO08oYSwoZnVuY3Rpb24odCxlKXt2YXIgbj10Lm5ld09wdGlvbjtuJiYocy5wdXNoKG4pLGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5leGlzdGluZztpZihlLmlkPXQua2V5SW5mby5pZCwhZS50eXBlJiZuJiYoZS50eXBlPW4udHlwZSksbnVsbD09ZS5wYXJlbnRJZCl7dmFyIGk9ZS5wYXJlbnRPcHRpb247aT9lLnBhcmVudElkPWkuaWQ6biYmKGUucGFyZW50SWQ9bi5wYXJlbnRJZCl9ZS5wYXJlbnRPcHRpb249bnVsbH0odCxuKSxmdW5jdGlvbih0LGUsbil7dmFyIGk9VCh7fSxuKSxyPXRbZV0sbz1uLiRhY3Rpb258fCJtZXJnZSI7aWYoIm1lcmdlIj09PW8pe2lmKHIpTShyLGksITApLEpjKHIsaSx7aWdub3JlU2l6ZTohMH0pLHRwKG4scik7ZWxzZSB0W2VdPWl9ZWxzZSJyZXBsYWNlIj09PW8/dFtlXT1pOiJyZW1vdmUiPT09byYmciYmKHRbZV09bnVsbCl9KHIsZSxuKSxmdW5jdGlvbih0LGUpe2lmKCF0KXJldHVybjtpZih0Lmh2PWUuaHY9W2ZOKGUsWyJsZWZ0IiwicmlnaHQiXSksZk4oZSxbInRvcCIsImJvdHRvbSJdKV0sImdyb3VwIj09PXQudHlwZSl7dmFyIG49dCxpPWU7bnVsbD09bi53aWR0aCYmKG4ud2lkdGg9aS53aWR0aD0wKSxudWxsPT1uLmhlaWdodCYmKG4uaGVpZ2h0PWkuaGVpZ2h0PTApfX0ocltlXSxuKSl9KSx0aGlzKTtmb3IodmFyIGw9ci5sZW5ndGgtMTtsPj0wO2wtLSludWxsPT1yW2xdP3Iuc3BsaWNlKGwsMSk6ZGVsZXRlIHJbbF0uJGFjdGlvbn0sZS5wcm90b3R5cGUuX2ZsYXR0ZW49ZnVuY3Rpb24odCxlLG4pe08odCwoZnVuY3Rpb24odCl7aWYodCl7biYmKHQucGFyZW50T3B0aW9uPW4pLGUucHVzaCh0KTt2YXIgaT10LmNoaWxkcmVuOyJncm91cCI9PT10LnR5cGUmJmkmJnRoaXMuX2ZsYXR0ZW4oaSxlLHQpLGRlbGV0ZSB0LmNoaWxkcmVufX0pLHRoaXMpfSxlLnByb3RvdHlwZS51c2VFbE9wdGlvbnNUb1VwZGF0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2VsT3B0aW9uc1RvVXBkYXRlO3JldHVybiB0aGlzLl9lbE9wdGlvbnNUb1VwZGF0ZT1udWxsLHR9LGUudHlwZT0iZ3JhcGhpYyIsZS5kZWZhdWx0T3B0aW9uPXtlbGVtZW50czpbXX0sZX0obnApLGNOPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLl9lbE1hcD1jdCgpfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3QhPT10aGlzLl9sYXN0R3JhcGhpY01vZGVsJiZ0aGlzLl9jbGVhcigpLHRoaXMuX2xhc3RHcmFwaGljTW9kZWw9dCx0aGlzLl91cGRhdGVFbGVtZW50cyh0KSx0aGlzLl9yZWxvY2F0ZSh0LG4pfSxlLnByb3RvdHlwZS5fdXBkYXRlRWxlbWVudHM9ZnVuY3Rpb24odCl7dmFyIGU9dC51c2VFbE9wdGlvbnNUb1VwZGF0ZSgpO2lmKGUpe3ZhciBuPXRoaXMuX2VsTWFwLGk9dGhpcy5ncm91cDtPKGUsKGZ1bmN0aW9uKGUpe3ZhciByPWtyKGUuaWQsbnVsbCksbz1udWxsIT1yP24uZ2V0KHIpOm51bGwsYT1rcihlLnBhcmVudElkLG51bGwpLHM9bnVsbCE9YT9uLmdldChhKTppLGw9ZS50eXBlLHU9ZS5zdHlsZTsidGV4dCI9PT1sJiZ1JiZlLmh2JiZlLmh2WzFdJiYodS50ZXh0VmVydGljYWxBbGlnbj11LnRleHRCYXNlbGluZT11LnZlcnRpY2FsQWxpZ249dS5hbGlnbj1udWxsKTt2YXIgaD1lLnRleHRDb250ZW50LGM9ZS50ZXh0Q29uZmlnO2lmKHUmJkxQKHUsbCwhIWMsISFoKSl7dmFyIHA9UFAodSxsLCEwKTshYyYmcC50ZXh0Q29uZmlnJiYoYz1lLnRleHRDb25maWc9cC50ZXh0Q29uZmlnKSwhaCYmcC50ZXh0Q29udGVudCYmKGg9cC50ZXh0Q29udGVudCl9dmFyIGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9VCh7fSx0KSxPKFsiaWQiLCJwYXJlbnRJZCIsIiRhY3Rpb24iLCJodiIsImJvdW5kaW5nIiwidGV4dENvbnRlbnQiXS5jb25jYXQoWGMpLChmdW5jdGlvbihlKXtkZWxldGUgdFtlXX0pKSx0fShlKTt2YXIgZj1lLiRhY3Rpb258fCJtZXJnZSI7Im1lcmdlIj09PWY/bz9vLmF0dHIoZCk6cE4ocixzLGQsbik6InJlcGxhY2UiPT09Zj8oZE4obyxuKSxwTihyLHMsZCxuKSk6InJlbW92ZSI9PT1mJiZkTihvLG4pO3ZhciBnPW4uZ2V0KHIpO2lmKGcmJmgpaWYoIm1lcmdlIj09PWYpe3ZhciB5PWcuZ2V0VGV4dENvbnRlbnQoKTt5P3kuYXR0cihoKTpnLnNldFRleHRDb250ZW50KG5ldyBmcyhoKSl9ZWxzZSJyZXBsYWNlIj09PWYmJmcuc2V0VGV4dENvbnRlbnQobmV3IGZzKGgpKTtpZihnKXt2YXIgdj1zTihnKTt2Ll9fZWNHcmFwaGljV2lkdGhPcHRpb249ZS53aWR0aCx2Ll9fZWNHcmFwaGljSGVpZ2h0T3B0aW9uPWUuaGVpZ2h0LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1Tcyh0KS5ldmVudERhdGE7dC5zaWxlbnR8fHQuaWdub3JlfHxpfHwoaT1Tcyh0KS5ldmVudERhdGE9e2NvbXBvbmVudFR5cGU6ImdyYXBoaWMiLGNvbXBvbmVudEluZGV4OmUuY29tcG9uZW50SW5kZXgsbmFtZTp0Lm5hbWV9KTtpJiYoaS5pbmZvPW4uaW5mbyl9KGcsdCxlKSxnaCh7ZWw6Zyxjb21wb25lbnRNb2RlbDp0LGl0ZW1OYW1lOmcubmFtZSxpdGVtVG9vbHRpcE9wdGlvbjplLnRvb2x0aXB9KX19KSl9fSxlLnByb3RvdHlwZS5fcmVsb2NhdGU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dC5vcHRpb24uZWxlbWVudHMsaT10aGlzLmdyb3VwLHI9dGhpcy5fZWxNYXAsbz1lLmdldFdpZHRoKCksYT1lLmdldEhlaWdodCgpLHM9MDtzPG4ubGVuZ3RoO3MrKyl7aWYoKGQ9bnVsbCE9KHA9a3IoKGM9bltzXSkuaWQsbnVsbCkpP3IuZ2V0KHApOm51bGwpJiZkLmlzR3JvdXApe3ZhciBsPShmPWQucGFyZW50KT09PWksdT1zTihkKSxoPXNOKGYpO3UuX19lY0dyYXBoaWNXaWR0aD1xaSh1Ll9fZWNHcmFwaGljV2lkdGhPcHRpb24sbD9vOmguX19lY0dyYXBoaWNXaWR0aCl8fDAsdS5fX2VjR3JhcGhpY0hlaWdodD1xaSh1Ll9fZWNHcmFwaGljSGVpZ2h0T3B0aW9uLGw/YTpoLl9fZWNHcmFwaGljSGVpZ2h0KXx8MH19Zm9yKHM9bi5sZW5ndGgtMTtzPj0wO3MtLSl7dmFyIGMscCxkO2lmKGQ9bnVsbCE9KHA9a3IoKGM9bltzXSkuaWQsbnVsbCkpP3IuZ2V0KHApOm51bGwpe3ZhciBmPWQucGFyZW50O2g9c04oZik7S2MoZCxjLGY9PT1pP3t3aWR0aDpvLGhlaWdodDphfTp7d2lkdGg6aC5fX2VjR3JhcGhpY1dpZHRoLGhlaWdodDpoLl9fZWNHcmFwaGljSGVpZ2h0fSxudWxsLHtodjpjLmh2LGJvdW5kaW5nTW9kZTpjLmJvdW5kaW5nfSl9fX0sZS5wcm90b3R5cGUuX2NsZWFyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZWxNYXA7dC5lYWNoKChmdW5jdGlvbihlKXtkTihlLHQpfSkpLHRoaXMuX2VsTWFwPWN0KCl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhcigpfSxlLnR5cGU9ImdyYXBoaWMiLGV9KFdmKTtmdW5jdGlvbiBwTih0LGUsbixpKXt2YXIgcj1uLnR5cGU7dmFyIG89ZnQobE4scik/bE5bcl06JHUocik7dmFyIGE9bmV3IG8obik7ZS5hZGQoYSksaS5zZXQodCxhKSxzTihhKS5fX2VjR3JhcGhpY0lkPXR9ZnVuY3Rpb24gZE4odCxlKXt2YXIgbj10JiZ0LnBhcmVudDtuJiYoImdyb3VwIj09PXQudHlwZSYmdC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7ZE4odCxlKX0pKSxlLnJlbW92ZUtleShzTih0KS5fX2VjR3JhcGhpY0lkKSxuLnJlbW92ZSh0KSl9ZnVuY3Rpb24gZk4odCxlKXt2YXIgbjtyZXR1cm4gTyhlLChmdW5jdGlvbihlKXtudWxsIT10W2VdJiYiYXV0byIhPT10W2VdJiYobj0hMCl9KSksbn12YXIgZ049WyJ4IiwieSIsInJhZGl1cyIsImFuZ2xlIiwic2luZ2xlIl0seU49WyJjYXJ0ZXNpYW4yZCIsInBvbGFyIiwic2luZ2xlQXhpcyJdO2Z1bmN0aW9uIHZOKHQpe3JldHVybiB0KyJBeGlzIn1mdW5jdGlvbiBtTih0LGUpe3ZhciBuLGk9Y3QoKSxyPVtdLG89Y3QoKTt0LmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJkYXRhWm9vbSIscXVlcnk6ZX0sKGZ1bmN0aW9uKHQpe28uZ2V0KHQudWlkKXx8cyh0KX0pKTtkb3tuPSExLHQuZWFjaENvbXBvbmVudCgiZGF0YVpvb20iLGEpfXdoaWxlKG4pO2Z1bmN0aW9uIGEodCl7IW8uZ2V0KHQudWlkKSYmZnVuY3Rpb24odCl7dmFyIGU9ITE7cmV0dXJuIHQuZWFjaFRhcmdldEF4aXMoKGZ1bmN0aW9uKHQsbil7dmFyIHI9aS5nZXQodCk7ciYmcltuXSYmKGU9ITApfSkpLGV9KHQpJiYocyh0KSxuPSEwKX1mdW5jdGlvbiBzKHQpe28uc2V0KHQudWlkLCEwKSxyLnB1c2godCksdC5lYWNoVGFyZ2V0QXhpcygoZnVuY3Rpb24odCxlKXsoaS5nZXQodCl8fGkuc2V0KHQsW10pKVtlXT0hMH0pKX1yZXR1cm4gcn1mdW5jdGlvbiBfTih0KXt2YXIgZT10LmVjTW9kZWwsbj17aW5mb0xpc3Q6W10saW5mb01hcDpjdCgpfTtyZXR1cm4gdC5lYWNoVGFyZ2V0QXhpcygoZnVuY3Rpb24odCxpKXt2YXIgcj1lLmdldENvbXBvbmVudCh2Tih0KSxpKTtpZihyKXt2YXIgbz1yLmdldENvb3JkU3lzTW9kZWwoKTtpZihvKXt2YXIgYT1vLnVpZCxzPW4uaW5mb01hcC5nZXQoYSk7c3x8KHM9e21vZGVsOm8sYXhpc01vZGVsczpbXX0sbi5pbmZvTGlzdC5wdXNoKHMpLG4uaW5mb01hcC5zZXQoYSxzKSkscy5heGlzTW9kZWxzLnB1c2gocil9fX0pKSxufXZhciB4Tj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmluZGV4TGlzdD1bXSx0aGlzLmluZGV4TWFwPVtdfXJldHVybiB0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dGhpcy5pbmRleE1hcFt0XXx8KHRoaXMuaW5kZXhMaXN0LnB1c2godCksdGhpcy5pbmRleE1hcFt0XT0hMCl9LHR9KCksYk49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLl9hdXRvVGhyb3R0bGU9ITAsbi5fbm9UYXJnZXQ9ITAsbi5fcmFuZ2VQcm9wTW9kZT1bInBlcmNlbnQiLCJwZXJjZW50Il0sbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXdOKHQpO3RoaXMuc2V0dGxlZE9wdGlvbj1pLHRoaXMubWVyZ2VEZWZhdWx0QW5kVGhlbWUodCxuKSx0aGlzLl9kb0luaXQoaSl9LGUucHJvdG90eXBlLm1lcmdlT3B0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXdOKHQpO00odGhpcy5vcHRpb24sdCwhMCksTSh0aGlzLnNldHRsZWRPcHRpb24sZSwhMCksdGhpcy5fZG9Jbml0KGUpfSxlLnByb3RvdHlwZS5fZG9Jbml0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uO3RoaXMuX3NldERlZmF1bHRUaHJvdHRsZSh0KSx0aGlzLl91cGRhdGVSYW5nZVVzZSh0KTt2YXIgbj10aGlzLnNldHRsZWRPcHRpb247TyhbWyJzdGFydCIsInN0YXJ0VmFsdWUiXSxbImVuZCIsImVuZFZhbHVlIl1dLChmdW5jdGlvbih0LGkpeyJ2YWx1ZSI9PT10aGlzLl9yYW5nZVByb3BNb2RlW2ldJiYoZVt0WzBdXT1uW3RbMF1dPW51bGwpfSksdGhpcyksdGhpcy5fcmVzZXRUYXJnZXQoKX0sZS5wcm90b3R5cGUuX3Jlc2V0VGFyZ2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXQoIm9yaWVudCIsITApLGU9dGhpcy5fdGFyZ2V0QXhpc0luZm9NYXA9Y3QoKTt0aGlzLl9maWxsU3BlY2lmaWVkVGFyZ2V0QXhpcyhlKT90aGlzLl9vcmllbnQ9dHx8dGhpcy5fbWFrZUF1dG9PcmllbnRCeVRhcmdldEF4aXMoKToodGhpcy5fb3JpZW50PXR8fCJob3Jpem9udGFsIix0aGlzLl9maWxsQXV0b1RhcmdldEF4aXNCeU9yaWVudChlLHRoaXMuX29yaWVudCkpLHRoaXMuX25vVGFyZ2V0PSEwLGUuZWFjaCgoZnVuY3Rpb24odCl7dC5pbmRleExpc3QubGVuZ3RoJiYodGhpcy5fbm9UYXJnZXQ9ITEpfSksdGhpcyl9LGUucHJvdG90eXBlLl9maWxsU3BlY2lmaWVkVGFyZ2V0QXhpcz1mdW5jdGlvbih0KXt2YXIgZT0hMTtyZXR1cm4gTyhnTiwoZnVuY3Rpb24obil7dmFyIGk9dGhpcy5nZXRSZWZlcnJpbmdDb21wb25lbnRzKHZOKG4pLEJyKTtpZihpLnNwZWNpZmllZCl7ZT0hMDt2YXIgcj1uZXcgeE47TyhpLm1vZGVscywoZnVuY3Rpb24odCl7ci5hZGQodC5jb21wb25lbnRJbmRleCl9KSksdC5zZXQobixyKX19KSx0aGlzKSxlfSxlLnByb3RvdHlwZS5fZmlsbEF1dG9UYXJnZXRBeGlzQnlPcmllbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmVjTW9kZWwsaT0hMDtpZihpKXt2YXIgcj0idmVydGljYWwiPT09ZT8ieSI6IngiO28obi5maW5kQ29tcG9uZW50cyh7bWFpblR5cGU6cisiQXhpcyJ9KSxyKX1pJiZvKG4uZmluZENvbXBvbmVudHMoe21haW5UeXBlOiJzaW5nbGVBeGlzIixmaWx0ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0KCJvcmllbnQiLCEwKT09PWV9fSksInNpbmdsZSIpO2Z1bmN0aW9uIG8oZSxuKXt2YXIgcj1lWzBdO2lmKHIpe3ZhciBvPW5ldyB4TjtpZihvLmFkZChyLmNvbXBvbmVudEluZGV4KSx0LnNldChuLG8pLGk9ITEsIngiPT09bnx8InkiPT09bil7dmFyIGE9ci5nZXRSZWZlcnJpbmdDb21wb25lbnRzKCJncmlkIixWcikubW9kZWxzWzBdO2EmJk8oZSwoZnVuY3Rpb24odCl7ci5jb21wb25lbnRJbmRleCE9PXQuY29tcG9uZW50SW5kZXgmJmE9PT10LmdldFJlZmVycmluZ0NvbXBvbmVudHMoImdyaWQiLFZyKS5tb2RlbHNbMF0mJm8uYWRkKHQuY29tcG9uZW50SW5kZXgpfSkpfX19aSYmTyhnTiwoZnVuY3Rpb24oZSl7aWYoaSl7dmFyIHI9bi5maW5kQ29tcG9uZW50cyh7bWFpblR5cGU6dk4oZSksZmlsdGVyOmZ1bmN0aW9uKHQpe3JldHVybiJjYXRlZ29yeSI9PT10LmdldCgidHlwZSIsITApfX0pO2lmKHJbMF0pe3ZhciBvPW5ldyB4TjtvLmFkZChyWzBdLmNvbXBvbmVudEluZGV4KSx0LnNldChlLG8pLGk9ITF9fX0pLHRoaXMpfSxlLnByb3RvdHlwZS5fbWFrZUF1dG9PcmllbnRCeVRhcmdldEF4aXM9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gdGhpcy5lYWNoVGFyZ2V0QXhpcygoZnVuY3Rpb24oZSl7IXQmJih0PWUpfSksdGhpcyksInkiPT09dD8idmVydGljYWwiOiJob3Jpem9udGFsIn0sZS5wcm90b3R5cGUuX3NldERlZmF1bHRUaHJvdHRsZT1mdW5jdGlvbih0KXtpZih0Lmhhc093blByb3BlcnR5KCJ0aHJvdHRsZSIpJiYodGhpcy5fYXV0b1Rocm90dGxlPSExKSx0aGlzLl9hdXRvVGhyb3R0bGUpe3ZhciBlPXRoaXMuZWNNb2RlbC5vcHRpb247dGhpcy5vcHRpb24udGhyb3R0bGU9ZS5hbmltYXRpb24mJmUuYW5pbWF0aW9uRHVyYXRpb25VcGRhdGU+MD8xMDA6MjB9fSxlLnByb3RvdHlwZS5fdXBkYXRlUmFuZ2VVc2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcmFuZ2VQcm9wTW9kZSxuPXRoaXMuZ2V0KCJyYW5nZU1vZGUiKTtPKFtbInN0YXJ0Iiwic3RhcnRWYWx1ZSJdLFsiZW5kIiwiZW5kVmFsdWUiXV0sKGZ1bmN0aW9uKGkscil7dmFyIG89bnVsbCE9dFtpWzBdXSxhPW51bGwhPXRbaVsxXV07byYmIWE/ZVtyXT0icGVyY2VudCI6IW8mJmE/ZVtyXT0idmFsdWUiOm4/ZVtyXT1uW3JdOm8mJihlW3JdPSJwZXJjZW50Iil9KSl9LGUucHJvdG90eXBlLm5vVGFyZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vVGFyZ2V0fSxlLnByb3RvdHlwZS5nZXRGaXJzdFRhcmdldEF4aXNNb2RlbD1mdW5jdGlvbigpe3ZhciB0O3JldHVybiB0aGlzLmVhY2hUYXJnZXRBeGlzKChmdW5jdGlvbihlLG4pe251bGw9PXQmJih0PXRoaXMuZWNNb2RlbC5nZXRDb21wb25lbnQodk4oZSksbikpfSksdGhpcyksdH0sZS5wcm90b3R5cGUuZWFjaFRhcmdldEF4aXM9ZnVuY3Rpb24odCxlKXt0aGlzLl90YXJnZXRBeGlzSW5mb01hcC5lYWNoKChmdW5jdGlvbihuLGkpe08obi5pbmRleExpc3QsKGZ1bmN0aW9uKG4pe3QuY2FsbChlLGksbil9KSl9KSl9LGUucHJvdG90eXBlLmdldEF4aXNQcm94eT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZ2V0QXhpc01vZGVsKHQsZSk7aWYobilyZXR1cm4gbi5fX2R6QXhpc1Byb3h5fSxlLnByb3RvdHlwZS5nZXRBeGlzTW9kZWw9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl90YXJnZXRBeGlzSW5mb01hcC5nZXQodCk7aWYobiYmbi5pbmRleE1hcFtlXSlyZXR1cm4gdGhpcy5lY01vZGVsLmdldENvbXBvbmVudCh2Tih0KSxlKX0sZS5wcm90b3R5cGUuc2V0UmF3UmFuZ2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24sbj10aGlzLnNldHRsZWRPcHRpb247TyhbWyJzdGFydCIsInN0YXJ0VmFsdWUiXSxbImVuZCIsImVuZFZhbHVlIl1dLChmdW5jdGlvbihpKXtudWxsPT10W2lbMF1dJiZudWxsPT10W2lbMV1dfHwoZVtpWzBdXT1uW2lbMF1dPXRbaVswXV0sZVtpWzFdXT1uW2lbMV1dPXRbaVsxXV0pfSksdGhpcyksdGhpcy5fdXBkYXRlUmFuZ2VVc2UodCl9LGUucHJvdG90eXBlLnNldENhbGN1bGF0ZWRSYW5nZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbjtPKFsic3RhcnQiLCJzdGFydFZhbHVlIiwiZW5kIiwiZW5kVmFsdWUiXSwoZnVuY3Rpb24obil7ZVtuXT10W25dfSkpfSxlLnByb3RvdHlwZS5nZXRQZXJjZW50UmFuZ2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmZpbmRSZXByZXNlbnRhdGl2ZUF4aXNQcm94eSgpO2lmKHQpcmV0dXJuIHQuZ2V0RGF0YVBlcmNlbnRXaW5kb3coKX0sZS5wcm90b3R5cGUuZ2V0VmFsdWVSYW5nZT1mdW5jdGlvbih0LGUpe2lmKG51bGwhPXR8fG51bGwhPWUpcmV0dXJuIHRoaXMuZ2V0QXhpc1Byb3h5KHQsZSkuZ2V0RGF0YVZhbHVlV2luZG93KCk7dmFyIG49dGhpcy5maW5kUmVwcmVzZW50YXRpdmVBeGlzUHJveHkoKTtyZXR1cm4gbj9uLmdldERhdGFWYWx1ZVdpbmRvdygpOnZvaWQgMH0sZS5wcm90b3R5cGUuZmluZFJlcHJlc2VudGF0aXZlQXhpc1Byb3h5PWZ1bmN0aW9uKHQpe2lmKHQpcmV0dXJuIHQuX19kekF4aXNQcm94eTtmb3IodmFyIGUsbj10aGlzLl90YXJnZXRBeGlzSW5mb01hcC5rZXlzKCksaT0wO2k8bi5sZW5ndGg7aSsrKWZvcih2YXIgcj1uW2ldLG89dGhpcy5fdGFyZ2V0QXhpc0luZm9NYXAuZ2V0KHIpLGE9MDthPG8uaW5kZXhMaXN0Lmxlbmd0aDthKyspe3ZhciBzPXRoaXMuZ2V0QXhpc1Byb3h5KHIsby5pbmRleExpc3RbYV0pO2lmKHMuaG9zdGVkQnkodGhpcykpcmV0dXJuIHM7ZXx8KGU9cyl9cmV0dXJuIGV9LGUucHJvdG90eXBlLmdldFJhbmdlUHJvcE1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFuZ2VQcm9wTW9kZS5zbGljZSgpfSxlLnByb3RvdHlwZS5nZXRPcmllbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3JpZW50fSxlLnR5cGU9ImRhdGFab29tIixlLmRlcGVuZGVuY2llcz1bInhBeGlzIiwieUF4aXMiLCJyYWRpdXNBeGlzIiwiYW5nbGVBeGlzIiwic2luZ2xlQXhpcyIsInNlcmllcyIsInRvb2xib3giXSxlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6NCxmaWx0ZXJNb2RlOiJmaWx0ZXIiLHN0YXJ0OjAsZW5kOjEwMH0sZX0obnApO2Z1bmN0aW9uIHdOKHQpe3ZhciBlPXt9O3JldHVybiBPKFsic3RhcnQiLCJlbmQiLCJzdGFydFZhbHVlIiwiZW5kVmFsdWUiLCJ0aHJvdHRsZSJdLChmdW5jdGlvbihuKXt0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKSxlfXZhciBTTj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnR5cGU9ImRhdGFab29tLnNlbGVjdCIsZX0oYk4pLE1OPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbixpKXt0aGlzLmRhdGFab29tTW9kZWw9dCx0aGlzLmVjTW9kZWw9ZSx0aGlzLmFwaT1ufSxlLnR5cGU9ImRhdGFab29tIixlfShXZiksSU49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS50eXBlPSJkYXRhWm9vbS5zZWxlY3QiLGV9KE1OKSxUTj1PLENOPSRpLEROPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixpKXt0aGlzLl9kaW1OYW1lPXQsdGhpcy5fYXhpc0luZGV4PWUsdGhpcy5lY01vZGVsPWksdGhpcy5fZGF0YVpvb21Nb2RlbD1ufXJldHVybiB0LnByb3RvdHlwZS5ob3N0ZWRCeT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGF0YVpvb21Nb2RlbD09PXR9LHQucHJvdG90eXBlLmdldERhdGFWYWx1ZVdpbmRvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl92YWx1ZVdpbmRvdy5zbGljZSgpfSx0LnByb3RvdHlwZS5nZXREYXRhUGVyY2VudFdpbmRvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wZXJjZW50V2luZG93LnNsaWNlKCl9LHQucHJvdG90eXBlLmdldFRhcmdldFNlcmllc01vZGVscz1mdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0aGlzLmVjTW9kZWwuZWFjaFNlcmllcygoZnVuY3Rpb24oZSl7aWYoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXQoImNvb3JkaW5hdGVTeXN0ZW0iKTtyZXR1cm4gQSh5TixlKT49MH0oZSkpe3ZhciBuPXZOKHRoaXMuX2RpbU5hbWUpLGk9ZS5nZXRSZWZlcnJpbmdDb21wb25lbnRzKG4sVnIpLm1vZGVsc1swXTtpJiZ0aGlzLl9heGlzSW5kZXg9PT1pLmNvbXBvbmVudEluZGV4JiZ0LnB1c2goZSl9fSksdGhpcyksdH0sdC5wcm90b3R5cGUuZ2V0QXhpc01vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWNNb2RlbC5nZXRDb21wb25lbnQodGhpcy5fZGltTmFtZSsiQXhpcyIsdGhpcy5fYXhpc0luZGV4KX0sdC5wcm90b3R5cGUuZ2V0TWluTWF4U3Bhbj1mdW5jdGlvbigpe3JldHVybiBTKHRoaXMuX21pbk1heFNwYW4pfSx0LnByb3RvdHlwZS5jYWxjdWxhdGVEYXRhV2luZG93PWZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcy5fZGF0YUV4dGVudCxpPXRoaXMuZ2V0QXhpc01vZGVsKCkuYXhpcy5zY2FsZSxyPXRoaXMuX2RhdGFab29tTW9kZWwuZ2V0UmFuZ2VQcm9wTW9kZSgpLG89WzAsMTAwXSxhPVtdLHM9W107VE4oWyJzdGFydCIsImVuZCJdLChmdW5jdGlvbihsLHUpe3ZhciBoPXRbbF0sYz10W2wrIlZhbHVlIl07InBlcmNlbnQiPT09clt1XT8obnVsbD09aCYmKGg9b1t1XSksYz1pLnBhcnNlKGppKGgsbyxuKSkpOihlPSEwLGg9amkoYz1udWxsPT1jP25bdV06aS5wYXJzZShjKSxuLG8pKSxzW3VdPWMsYVt1XT1ofSkpLENOKHMpLENOKGEpO3ZhciBsPXRoaXMuX21pbk1heFNwYW47ZnVuY3Rpb24gdSh0LGUsbixyLG8pe3ZhciBhPW8/IlNwYW4iOiJWYWx1ZVNwYW4iO2hBKDAsdCxuLCJhbGwiLGxbIm1pbiIrYV0sbFsibWF4IithXSk7Zm9yKHZhciBzPTA7czwyO3MrKyllW3NdPWppKHRbc10sbixyLCEwKSxvJiYoZVtzXT1pLnBhcnNlKGVbc10pKX1yZXR1cm4gZT91KHMsYSxuLG8sITEpOnUoYSxzLG8sbiwhMCkse3ZhbHVlV2luZG93OnMscGVyY2VudFdpbmRvdzphfX0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24odCl7aWYodD09PXRoaXMuX2RhdGFab29tTW9kZWwpe3ZhciBlPXRoaXMuZ2V0VGFyZ2V0U2VyaWVzTW9kZWxzKCk7dGhpcy5fZGF0YUV4dGVudD1mdW5jdGlvbih0LGUsbil7dmFyIGk9WzEvMCwtMS8wXTtUTihuLChmdW5jdGlvbih0KXshZnVuY3Rpb24odCxlLG4pe2UmJk8oTXgoZSxuKSwoZnVuY3Rpb24obil7dmFyIGk9ZS5nZXRBcHByb3hpbWF0ZUV4dGVudChuKTtpWzBdPHRbMF0mJih0WzBdPWlbMF0pLGlbMV0+dFsxXSYmKHRbMV09aVsxXSl9KSl9KGksdC5nZXREYXRhKCksZSl9KSk7dmFyIHI9dC5nZXRBeGlzTW9kZWwoKSxvPWR4KHIuYXhpcy5zY2FsZSxyLGkpLmNhbGN1bGF0ZSgpO3JldHVybltvLm1pbixvLm1heF19KHRoaXMsdGhpcy5fZGltTmFtZSxlKSx0aGlzLl91cGRhdGVNaW5NYXhTcGFuKCk7dmFyIG49dGhpcy5jYWxjdWxhdGVEYXRhV2luZG93KHQuc2V0dGxlZE9wdGlvbik7dGhpcy5fdmFsdWVXaW5kb3c9bi52YWx1ZVdpbmRvdyx0aGlzLl9wZXJjZW50V2luZG93PW4ucGVyY2VudFdpbmRvdyx0aGlzLl9zZXRBeGlzTW9kZWwoKX19LHQucHJvdG90eXBlLmZpbHRlckRhdGE9ZnVuY3Rpb24odCxlKXtpZih0PT09dGhpcy5fZGF0YVpvb21Nb2RlbCl7dmFyIG49dGhpcy5fZGltTmFtZSxpPXRoaXMuZ2V0VGFyZ2V0U2VyaWVzTW9kZWxzKCkscj10LmdldCgiZmlsdGVyTW9kZSIpLG89dGhpcy5fdmFsdWVXaW5kb3c7Im5vbmUiIT09ciYmVE4oaSwoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXREYXRhKCksaT1lLm1hcERpbWVuc2lvbnNBbGwobik7aWYoaS5sZW5ndGgpe2lmKCJ3ZWFrRmlsdGVyIj09PXIpe3ZhciBhPWUuZ2V0U3RvcmUoKSxzPVIoaSwoZnVuY3Rpb24odCl7cmV0dXJuIGUuZ2V0RGltZW5zaW9uSW5kZXgodCl9KSxlKTtlLmZpbHRlclNlbGYoKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuLHIsbD0wO2w8aS5sZW5ndGg7bCsrKXt2YXIgdT1hLmdldChzW2xdLHQpLGg9IWlzTmFOKHUpLGM9dTxvWzBdLHA9dT5vWzFdO2lmKGgmJiFjJiYhcClyZXR1cm4hMDtoJiYocj0hMCksYyYmKGU9ITApLHAmJihuPSEwKX1yZXR1cm4gciYmZSYmbn0pKX1lbHNlIFROKGksKGZ1bmN0aW9uKG4pe2lmKCJlbXB0eSI9PT1yKXQuc2V0RGF0YShlPWUubWFwKG4sKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdD49b1swXSYmdDw9b1sxXX0odCk/dDpOYU59KSkpO2Vsc2V7dmFyIGk9e307aVtuXT1vLGUuc2VsZWN0UmFuZ2UoaSl9fSkpO1ROKGksKGZ1bmN0aW9uKHQpe2Uuc2V0QXBwcm94aW1hdGVFeHRlbnQobyx0KX0pKX19KSl9fSx0LnByb3RvdHlwZS5fdXBkYXRlTWluTWF4U3Bhbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX21pbk1heFNwYW49e30sZT10aGlzLl9kYXRhWm9vbU1vZGVsLG49dGhpcy5fZGF0YUV4dGVudDtUTihbIm1pbiIsIm1heCJdLChmdW5jdGlvbihpKXt2YXIgcj1lLmdldChpKyJTcGFuIiksbz1lLmdldChpKyJWYWx1ZVNwYW4iKTtudWxsIT1vJiYobz10aGlzLmdldEF4aXNNb2RlbCgpLmF4aXMuc2NhbGUucGFyc2UobykpLG51bGwhPW8/cj1qaShuWzBdK28sbixbMCwxMDBdLCEwKTpudWxsIT1yJiYobz1qaShyLFswLDEwMF0sbiwhMCktblswXSksdFtpKyJTcGFuIl09cix0W2krIlZhbHVlU3BhbiJdPW99KSx0aGlzKX0sdC5wcm90b3R5cGUuX3NldEF4aXNNb2RlbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0QXhpc01vZGVsKCksZT10aGlzLl9wZXJjZW50V2luZG93LG49dGhpcy5fdmFsdWVXaW5kb3c7aWYoZSl7dmFyIGk9dHIobixbMCw1MDBdKTtpPU1hdGgubWluKGksMjApO3ZhciByPXQuYXhpcy5zY2FsZS5yYXdFeHRlbnRJbmZvOzAhPT1lWzBdJiZyLnNldERldGVybWluZWRNaW5NYXgoIm1pbiIsK25bMF0udG9GaXhlZChpKSksMTAwIT09ZVsxXSYmci5zZXREZXRlcm1pbmVkTWluTWF4KCJtYXgiLCtuWzFdLnRvRml4ZWQoaSkpLHIuZnJlZXplKCl9fSx0fSgpO3ZhciBBTj17Z2V0VGFyZ2V0U2VyaWVzOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5lYWNoQ29tcG9uZW50KCJkYXRhWm9vbSIsKGZ1bmN0aW9uKG4pe24uZWFjaFRhcmdldEF4aXMoKGZ1bmN0aW9uKGkscil7dmFyIG89dC5nZXRDb21wb25lbnQodk4oaSkscik7ZShpLHIsbyxuKX0pKX0pKX1lKChmdW5jdGlvbih0LGUsbixpKXtuLl9fZHpBeGlzUHJveHk9bnVsbH0pKTt2YXIgbj1bXTtlKChmdW5jdGlvbihlLGkscixvKXtyLl9fZHpBeGlzUHJveHl8fChyLl9fZHpBeGlzUHJveHk9bmV3IEROKGUsaSxvLHQpLG4ucHVzaChyLl9fZHpBeGlzUHJveHkpKX0pKTt2YXIgaT1jdCgpO3JldHVybiBPKG4sKGZ1bmN0aW9uKHQpe08odC5nZXRUYXJnZXRTZXJpZXNNb2RlbHMoKSwoZnVuY3Rpb24odCl7aS5zZXQodC51aWQsdCl9KSl9KSksaX0sb3ZlcmFsbFJlc2V0OmZ1bmN0aW9uKHQsZSl7dC5lYWNoQ29tcG9uZW50KCJkYXRhWm9vbSIsKGZ1bmN0aW9uKHQpe3QuZWFjaFRhcmdldEF4aXMoKGZ1bmN0aW9uKGUsbil7dC5nZXRBeGlzUHJveHkoZSxuKS5yZXNldCh0KX0pKSx0LmVhY2hUYXJnZXRBeGlzKChmdW5jdGlvbihuLGkpe3QuZ2V0QXhpc1Byb3h5KG4saSkuZmlsdGVyRGF0YSh0LGUpfSkpfSkpLHQuZWFjaENvbXBvbmVudCgiZGF0YVpvb20iLChmdW5jdGlvbih0KXt2YXIgZT10LmZpbmRSZXByZXNlbnRhdGl2ZUF4aXNQcm94eSgpO2lmKGUpe3ZhciBuPWUuZ2V0RGF0YVBlcmNlbnRXaW5kb3coKSxpPWUuZ2V0RGF0YVZhbHVlV2luZG93KCk7dC5zZXRDYWxjdWxhdGVkUmFuZ2Uoe3N0YXJ0Om5bMF0sZW5kOm5bMV0sc3RhcnRWYWx1ZTppWzBdLGVuZFZhbHVlOmlbMV19KX19KSl9fTt2YXIga049ITE7ZnVuY3Rpb24gTE4odCl7a058fChrTj0hMCx0LnJlZ2lzdGVyUHJvY2Vzc29yKHQuUFJJT1JJVFkuUFJPQ0VTU09SLkZJTFRFUixBTiksZnVuY3Rpb24odCl7dC5yZWdpc3RlckFjdGlvbigiZGF0YVpvb20iLChmdW5jdGlvbih0LGUpe08obU4oZSx0KSwoZnVuY3Rpb24oZSl7ZS5zZXRSYXdSYW5nZSh7c3RhcnQ6dC5zdGFydCxlbmQ6dC5lbmQsc3RhcnRWYWx1ZTp0LnN0YXJ0VmFsdWUsZW5kVmFsdWU6dC5lbmRWYWx1ZX0pfSkpfSkpfSh0KSx0LnJlZ2lzdGVyU3ViVHlwZURlZmF1bHRlcigiZGF0YVpvb20iLChmdW5jdGlvbigpe3JldHVybiJzbGlkZXIifSkpKX1mdW5jdGlvbiBQTih0KXt0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoU04pLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KElOKSxMTih0KX12YXIgT049ZnVuY3Rpb24oKXt9LFJOPXt9O2Z1bmN0aW9uIE5OKHQsZSl7Uk5bdF09ZX1mdW5jdGlvbiB6Tih0KXtyZXR1cm4gUk5bdF19dmFyIEVOPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQ9ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS5vcHRpb25VcGRhdGVkLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZT10aGlzLmVjTW9kZWw7Tyh0aGlzLm9wdGlvbi5mZWF0dXJlLChmdW5jdGlvbih0LG4pe3ZhciBpPXpOKG4pO2kmJihpLmdldERlZmF1bHRPcHRpb24mJihpLmRlZmF1bHRPcHRpb249aS5nZXREZWZhdWx0T3B0aW9uKGUpKSxNKHQsaS5kZWZhdWx0T3B0aW9uKSl9KSl9LGUudHlwZT0idG9vbGJveCIsZS5sYXlvdXRNb2RlPXt0eXBlOiJib3giLGlnbm9yZVNpemU6ITB9LGUuZGVmYXVsdE9wdGlvbj17c2hvdzohMCx6OjYsemxldmVsOjAsb3JpZW50OiJob3Jpem9udGFsIixsZWZ0OiJyaWdodCIsdG9wOiJ0b3AiLGJhY2tncm91bmRDb2xvcjoidHJhbnNwYXJlbnQiLGJvcmRlckNvbG9yOiIjY2NjIixib3JkZXJSYWRpdXM6MCxib3JkZXJXaWR0aDowLHBhZGRpbmc6NSxpdGVtU2l6ZToxNSxpdGVtR2FwOjgsc2hvd1RpdGxlOiEwLGljb25TdHlsZTp7Ym9yZGVyQ29sb3I6IiM2NjYiLGNvbG9yOiJub25lIn0sZW1waGFzaXM6e2ljb25TdHlsZTp7Ym9yZGVyQ29sb3I6IiMzRTk4QzUifX0sdG9vbHRpcDp7c2hvdzohMSxwb3NpdGlvbjoiYm90dG9tIn19LGV9KG5wKTtmdW5jdGlvbiBWTih0LGUpe3ZhciBuPU9jKGUuZ2V0KCJwYWRkaW5nIikpLGk9ZS5nZXRJdGVtU3R5bGUoWyJjb2xvciIsIm9wYWNpdHkiXSk7cmV0dXJuIGkuZmlsbD1lLmdldCgiYmFja2dyb3VuZENvbG9yIiksdD1uZXcgY3Moe3NoYXBlOnt4OnQueC1uWzNdLHk6dC55LW5bMF0sd2lkdGg6dC53aWR0aCtuWzFdK25bM10saGVpZ2h0OnQuaGVpZ2h0K25bMF0rblsyXSxyOmUuZ2V0KCJib3JkZXJSYWRpdXMiKX0sc3R5bGU6aSxzaWxlbnQ6ITAsejI6LTF9KX12YXIgQk49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcy5ncm91cDtpZihyLnJlbW92ZUFsbCgpLHQuZ2V0KCJzaG93Iikpe3ZhciBvPSt0LmdldCgiaXRlbVNpemUiKSxhPXQuZ2V0KCJmZWF0dXJlIil8fHt9LHM9dGhpcy5fZmVhdHVyZXN8fCh0aGlzLl9mZWF0dXJlcz17fSksbD1bXTtPKGEsKGZ1bmN0aW9uKHQsZSl7bC5wdXNoKGUpfSkpLG5ldyBCbSh0aGlzLl9mZWF0dXJlTmFtZXN8fFtdLGwpLmFkZCh1KS51cGRhdGUodSkucmVtb3ZlKEcodSxudWxsKSkuZXhlY3V0ZSgpLHRoaXMuX2ZlYXR1cmVOYW1lcz1sLGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1lLmdldEJveExheW91dFBhcmFtcygpLHI9ZS5nZXQoInBhZGRpbmciKSxvPXt3aWR0aDpuLmdldFdpZHRoKCksaGVpZ2h0Om4uZ2V0SGVpZ2h0KCl9LGE9cWMoaSxvLHIpO2pjKGUuZ2V0KCJvcmllbnQiKSx0LGUuZ2V0KCJpdGVtR2FwIiksYS53aWR0aCxhLmhlaWdodCksS2ModCxpLG8scil9KHIsdCxuKSxyLmFkZChWTihyLmdldEJvdW5kaW5nUmVjdCgpLHQpKSxyLmVhY2hDaGlsZCgoZnVuY3Rpb24odCl7dmFyIGU9dC5fX3RpdGxlLGk9dC5lbnN1cmVTdGF0ZSgiZW1waGFzaXMiKSxhPWkudGV4dENvbmZpZ3x8KGkudGV4dENvbmZpZz17fSkscz10LmdldFRleHRDb250ZW50KCksbD1zJiZzLnN0YXRlcy5lbXBoYXNpcztpZihsJiYhSChsKSYmZSl7dmFyIHU9bC5zdHlsZXx8KGwuc3R5bGU9e30pLGg9U2koZSxmcy5tYWtlRm9udCh1KSksYz10Lngrci54LHA9ITE7dC55K3IueStvK2guaGVpZ2h0Pm4uZ2V0SGVpZ2h0KCkmJihhLnBvc2l0aW9uPSJ0b3AiLHA9ITApO3ZhciBkPXA/LTUtaC5oZWlnaHQ6bys4O2MraC53aWR0aC8yPm4uZ2V0V2lkdGgoKT8oYS5wb3NpdGlvbj1bIjEwMCUiLGRdLHUuYWxpZ249InJpZ2h0Iik6Yy1oLndpZHRoLzI8MCYmKGEucG9zaXRpb249WzAsZF0sdS5hbGlnbj0ibGVmdCIpfX0pKX1mdW5jdGlvbiB1KHUsaCl7dmFyIGMscD1sW3VdLGQ9bFtoXSxmPWFbcF0sZz1uZXcgV2goZix0LHQuZWNNb2RlbCk7aWYoaSYmbnVsbCE9aS5uZXdUaXRsZSYmaS5mZWF0dXJlTmFtZT09PXAmJihmLnRpdGxlPWkubmV3VGl0bGUpLHAmJiFkKXtpZihmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQuaW5kZXhPZigibXkiKX0ocCkpYz17b25jbGljazpnLm9wdGlvbi5vbmNsaWNrLGZlYXR1cmVOYW1lOnB9O2Vsc2V7dmFyIHk9ek4ocCk7aWYoIXkpcmV0dXJuO2M9bmV3IHl9c1twXT1jfWVsc2UgaWYoIShjPXNbZF0pKXJldHVybjtjLnVpZD1YaCgidG9vbGJveC1mZWF0dXJlIiksYy5tb2RlbD1nLGMuZWNNb2RlbD1lLGMuYXBpPW47dmFyIHY9YyBpbnN0YW5jZW9mIE9OO3B8fCFkPyFnLmdldCgic2hvdyIpfHx2JiZjLnVudXNhYmxlP3YmJmMucmVtb3ZlJiZjLnJlbW92ZShlLG4pOighZnVuY3Rpb24oaSxhLHMpe3ZhciBsLHUsaD1pLmdldE1vZGVsKCJpY29uU3R5bGUiKSxjPWkuZ2V0TW9kZWwoWyJlbXBoYXNpcyIsImljb25TdHlsZSJdKSxwPWEgaW5zdGFuY2VvZiBPTiYmYS5nZXRJY29ucz9hLmdldEljb25zKCk6aS5nZXQoImljb24iKSxkPWkuZ2V0KCJ0aXRsZSIpfHx7fTsic3RyaW5nIj09dHlwZW9mIHA/KGw9e30pW3NdPXA6bD1wOyJzdHJpbmciPT10eXBlb2YgZD8odT17fSlbc109ZDp1PWQ7dmFyIGY9aS5pY29uUGF0aHM9e307TyhsLChmdW5jdGlvbihzLGwpe3ZhciBwPWNoKHMse30se3g6LW8vMix5Oi1vLzIsd2lkdGg6byxoZWlnaHQ6b30pO3Auc2V0U3R5bGUoaC5nZXRJdGVtU3R5bGUoKSkscC5lbnN1cmVTdGF0ZSgiZW1waGFzaXMiKS5zdHlsZT1jLmdldEl0ZW1TdHlsZSgpO3ZhciBkPW5ldyBmcyh7c3R5bGU6e3RleHQ6dVtsXSxhbGlnbjpjLmdldCgidGV4dEFsaWduIiksYm9yZGVyUmFkaXVzOmMuZ2V0KCJ0ZXh0Qm9yZGVyUmFkaXVzIikscGFkZGluZzpjLmdldCgidGV4dFBhZGRpbmciKSxmaWxsOm51bGx9LGlnbm9yZTohMH0pO3Auc2V0VGV4dENvbnRlbnQoZCksZ2goe2VsOnAsY29tcG9uZW50TW9kZWw6dCxpdGVtTmFtZTpsLGZvcm1hdHRlclBhcmFtc0V4dHJhOnt0aXRsZTp1W2xdfX0pLHAuX190aXRsZT11W2xdLHAub24oIm1vdXNlb3ZlciIsKGZ1bmN0aW9uKCl7dmFyIGU9Yy5nZXRJdGVtU3R5bGUoKSxuPSJ2ZXJ0aWNhbCI9PT10LmdldCgib3JpZW50Iik/bnVsbD09dC5nZXQoInJpZ2h0Iik/InJpZ2h0IjoibGVmdCI6bnVsbD09dC5nZXQoImJvdHRvbSIpPyJib3R0b20iOiJ0b3AiO2Quc2V0U3R5bGUoe2ZpbGw6Yy5nZXQoInRleHRGaWxsIil8fGUuZmlsbHx8ZS5zdHJva2V8fCIjMDAwIixiYWNrZ3JvdW5kQ29sb3I6Yy5nZXQoInRleHRCYWNrZ3JvdW5kQ29sb3IiKX0pLHAuc2V0VGV4dENvbmZpZyh7cG9zaXRpb246Yy5nZXQoInRleHRQb3NpdGlvbiIpfHxufSksZC5pZ25vcmU9IXQuZ2V0KCJzaG93VGl0bGUiKSxRcyh0aGlzKX0pKS5vbigibW91c2VvdXQiLChmdW5jdGlvbigpeyJlbXBoYXNpcyIhPT1pLmdldChbImljb25TdGF0dXMiLGxdKSYmdGwodGhpcyksZC5oaWRlKCl9KSksKCJlbXBoYXNpcyI9PT1pLmdldChbImljb25TdGF0dXMiLGxdKT9Rczp0bCkocCksci5hZGQocCkscC5vbigiY2xpY2siLEIoYS5vbmNsaWNrLGEsZSxuLGwpKSxmW2xdPXB9KSl9KGcsYyxwKSxnLnNldEljb25TdGF0dXM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm9wdGlvbixpPXRoaXMuaWNvblBhdGhzO24uaWNvblN0YXR1cz1uLmljb25TdGF0dXN8fHt9LG4uaWNvblN0YXR1c1t0XT1lLGlbdF0mJigiZW1waGFzaXMiPT09ZT9Rczp0bCkoaVt0XSl9LGMgaW5zdGFuY2VvZiBPTiYmYy5yZW5kZXImJmMucmVuZGVyKGcsZSxuLGkpKTp2JiZjLmRpc3Bvc2UmJmMuZGlzcG9zZShlLG4pfX0sZS5wcm90b3R5cGUudXBkYXRlVmlldz1mdW5jdGlvbih0LGUsbixpKXtPKHRoaXMuX2ZlYXR1cmVzLChmdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgT04mJnQudXBkYXRlVmlldyYmdC51cGRhdGVWaWV3KHQubW9kZWwsZSxuLGkpfSkpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlKXtPKHRoaXMuX2ZlYXR1cmVzLChmdW5jdGlvbihuKXtuIGluc3RhbmNlb2YgT04mJm4ucmVtb3ZlJiZuLnJlbW92ZSh0LGUpfSkpLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCxlKXtPKHRoaXMuX2ZlYXR1cmVzLChmdW5jdGlvbihuKXtuIGluc3RhbmNlb2YgT04mJm4uZGlzcG9zZSYmbi5kaXNwb3NlKHQsZSl9KSl9LGUudHlwZT0idG9vbGJveCIsZX0oV2YpO3ZhciBHTj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLm9uY2xpY2s9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm1vZGVsLGk9bi5nZXQoIm5hbWUiKXx8dC5nZXQoInRpdGxlLjAudGV4dCIpfHwiZWNoYXJ0cyIscj0ic3ZnIj09PWUuZ2V0WnIoKS5wYWludGVyLmdldFR5cGUoKSxvPXI/InN2ZyI6bi5nZXQoInR5cGUiLCEwKXx8InBuZyIscz1lLmdldENvbm5lY3RlZERhdGFVUkwoe3R5cGU6byxiYWNrZ3JvdW5kQ29sb3I6bi5nZXQoImJhY2tncm91bmRDb2xvciIsITApfHx0LmdldCgiYmFja2dyb3VuZENvbG9yIil8fCIjZmZmIixjb25uZWN0ZWRCYWNrZ3JvdW5kQ29sb3I6bi5nZXQoImNvbm5lY3RlZEJhY2tncm91bmRDb2xvciIpLGV4Y2x1ZGVDb21wb25lbnRzOm4uZ2V0KCJleGNsdWRlQ29tcG9uZW50cyIpLHBpeGVsUmF0aW86bi5nZXQoInBpeGVsUmF0aW8iKX0pO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBNb3VzZUV2ZW50fHwhYS5icm93c2VyLm5ld0VkZ2UmJihhLmJyb3dzZXIuaWV8fGEuYnJvd3Nlci5lZGdlKSlpZih3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2J8fHIpe3ZhciBsPXMuc3BsaXQoIiwiKSx1PWxbMF0uaW5kZXhPZigiYmFzZTY0Iik+LTEsaD1yP2RlY29kZVVSSUNvbXBvbmVudChsWzFdKTpsWzFdO3UmJihoPXdpbmRvdy5hdG9iKGgpKTt2YXIgYz1pKyIuIitvO2lmKHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYil7Zm9yKHZhciBwPWgubGVuZ3RoLGQ9bmV3IFVpbnQ4QXJyYXkocCk7cC0tOylkW3BdPWguY2hhckNvZGVBdChwKTt2YXIgZj1uZXcgQmxvYihbZF0pO3dpbmRvdy5uYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYihmLGMpfWVsc2V7dmFyIGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChnKTt2YXIgeT1nLmNvbnRlbnRXaW5kb3csdj15LmRvY3VtZW50O3Yub3BlbigiaW1hZ2Uvc3ZnK3htbCIsInJlcGxhY2UiKSx2LndyaXRlKGgpLHYuY2xvc2UoKSx5LmZvY3VzKCksdi5leGVjQ29tbWFuZCgiU2F2ZUFzIiwhMCxjKSxkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGcpfX1lbHNle3ZhciBtPW4uZ2V0KCJsYW5nIiksXz0nPGJvZHkgc3R5bGU9Im1hcmdpbjowOyI+PGltZyBzcmM9IicrcysnIiBzdHlsZT0ibWF4LXdpZHRoOjEwMCU7IiB0aXRsZT0iJysobSYmbVswXXx8IiIpKyciIC8+PC9ib2R5PicseD13aW5kb3cub3BlbigpO3guZG9jdW1lbnQud3JpdGUoXykseC5kb2N1bWVudC50aXRsZT1pfWVsc2V7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO2IuZG93bmxvYWQ9aSsiLiIrbyxiLnRhcmdldD0iX2JsYW5rIixiLmhyZWY9czt2YXIgdz1uZXcgTW91c2VFdmVudCgiY2xpY2siLHt2aWV3OmRvY3VtZW50LmRlZmF1bHRWaWV3LGJ1YmJsZXM6ITAsY2FuY2VsYWJsZTohMX0pO2IuZGlzcGF0Y2hFdmVudCh3KX19LGUuZ2V0RGVmYXVsdE9wdGlvbj1mdW5jdGlvbih0KXtyZXR1cm57c2hvdzohMCxpY29uOiJNNC43LDIyLjlMMjkuMyw0NS41TDU0LjcsMjMuNE00LjYsNDMuNkw0LjYsNThMNTMuOCw1OEw1My44LDQzLjZNMjkuMiw0NS4xTDI5LjIsMCIsdGl0bGU6dC5nZXRMb2NhbGVNb2RlbCgpLmdldChbInRvb2xib3giLCJzYXZlQXNJbWFnZSIsInRpdGxlIl0pLHR5cGU6InBuZyIsY29ubmVjdGVkQmFja2dyb3VuZENvbG9yOiIjZmZmIixuYW1lOiIiLGV4Y2x1ZGVDb21wb25lbnRzOlsidG9vbGJveCJdLGxhbmc6dC5nZXRMb2NhbGVNb2RlbCgpLmdldChbInRvb2xib3giLCJzYXZlQXNJbWFnZSIsImxhbmciXSl9fSxlfShPTik7R04ucHJvdG90eXBlLnVudXNhYmxlPSFhLmNhbnZhc1N1cHBvcnRlZDt2YXIgRk49Il9fZWNfbWFnaWNUeXBlX3N0YWNrX18iLEhOPVtbImxpbmUiLCJiYXIiXSxbInN0YWNrIl1dLFdOPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0SWNvbnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm1vZGVsLGU9dC5nZXQoImljb24iKSxuPXt9O3JldHVybiBPKHQuZ2V0KCJ0eXBlIiksKGZ1bmN0aW9uKHQpe2VbdF0mJihuW3RdPWVbdF0pfSkpLG59LGUuZ2V0RGVmYXVsdE9wdGlvbj1mdW5jdGlvbih0KXtyZXR1cm57c2hvdzohMCx0eXBlOltdLGljb246e2xpbmU6Ik00LjEsMjguOWg3LjFsOS4zLTIybDcuNCwzOGw5LjctMTkuN2wzLDEyLjhoMTQuOU00LjEsNThoNTEuNCIsYmFyOiJNNi43LDIyLjloMTBWNDhoLTEwVjIyLjl6TTI0LjksMTNoMTB2MzVoLTEwVjEzek00My4yLDJoMTB2NDZoLTEwVjJ6TTMuMSw1OGg1My43IixzdGFjazoiTTguMiwzOC40bC04LjQsNC4xbDMwLjYsMTUuM0w2MCw0Mi41bC04LjEtNC4xbC0yMS41LDExTDguMiwzOC40eiBNNTEuOSwzMGwtOC4xLDQuMmwtMTMuNCw2LjlsLTEzLjktNi45TDguMiwzMGwtOC40LDQuMmw4LjQsNC4ybDIyLjIsMTFsMjEuNS0xMWw4LjEtNC4yTDUxLjksMzB6IE01MS45LDIxLjdsLTguMSw0LjJMMzUuNywzMGwtNS4zLDIuOEwyNC45LDMwbC04LjQtNC4xbC04LjMtNC4ybC04LjQsNC4yTDguMiwzMGw4LjMsNC4ybDEzLjksNi45bDEzLjQtNi45bDguMS00LjJsOC4xLTQuMUw1MS45LDIxLjd6TTMwLjQsMi4yTC0wLjIsMTcuNWw4LjQsNC4xbDguMyw0LjJsOC40LDQuMmw1LjUsMi43bDUuMy0yLjdsOC4xLTQuMmw4LjEtNC4ybDguMS00LjFMMzAuNCwyLjJ6In0sdGl0bGU6dC5nZXRMb2NhbGVNb2RlbCgpLmdldChbInRvb2xib3giLCJtYWdpY1R5cGUiLCJ0aXRsZSJdKSxvcHRpb246e30sc2VyaWVzSW5kZXg6e319fSxlLnByb3RvdHlwZS5vbmNsaWNrPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLm1vZGVsLHI9aS5nZXQoWyJzZXJpZXNJbmRleCIsbl0pO2lmKFVOW25dKXt2YXIgbyxhPXtzZXJpZXM6W119O08oSE4sKGZ1bmN0aW9uKHQpe0EodCxuKT49MCYmTyh0LChmdW5jdGlvbih0KXtpLnNldEljb25TdGF0dXModCwibm9ybWFsIil9KSl9KSksaS5zZXRJY29uU3RhdHVzKG4sImVtcGhhc2lzIiksdC5lYWNoQ29tcG9uZW50KHttYWluVHlwZToic2VyaWVzIixxdWVyeTpudWxsPT1yP251bGw6e3Nlcmllc0luZGV4OnJ9fSwoZnVuY3Rpb24odCl7dmFyIGU9dC5zdWJUeXBlLHI9dC5pZCxvPVVOW25dKGUscix0LGkpO28mJihDKG8sdC5vcHRpb24pLGEuc2VyaWVzLnB1c2gobykpO3ZhciBzPXQuY29vcmRpbmF0ZVN5c3RlbTtpZihzJiYiY2FydGVzaWFuMmQiPT09cy50eXBlJiYoImxpbmUiPT09bnx8ImJhciI9PT1uKSl7dmFyIGw9cy5nZXRBeGVzQnlTY2FsZSgib3JkaW5hbCIpWzBdO2lmKGwpe3ZhciB1PWwuZGltKyJBeGlzIixoPXQuZ2V0UmVmZXJyaW5nQ29tcG9uZW50cyh1LFZyKS5tb2RlbHNbMF0uY29tcG9uZW50SW5kZXg7YVt1XT1hW3VdfHxbXTtmb3IodmFyIGM9MDtjPD1oO2MrKylhW3VdW2hdPWFbdV1baF18fHt9O2FbdV1baF0uYm91bmRhcnlHYXA9ImJhciI9PT1ufX19KSk7dmFyIHM9bjsic3RhY2siPT09biYmKG89TSh7c3RhY2s6aS5vcHRpb24udGl0bGUudGlsZWQsdGlsZWQ6aS5vcHRpb24udGl0bGUuc3RhY2t9LGkub3B0aW9uLnRpdGxlKSwiZW1waGFzaXMiIT09aS5nZXQoWyJpY29uU3RhdHVzIixuXSkmJihzPSJ0aWxlZCIpKSxlLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJjaGFuZ2VNYWdpY1R5cGUiLGN1cnJlbnRUeXBlOnMsbmV3T3B0aW9uOmEsbmV3VGl0bGU6byxmZWF0dXJlTmFtZToibWFnaWNUeXBlIn0pfX0sZX0oT04pLFVOPXtsaW5lOmZ1bmN0aW9uKHQsZSxuLGkpe2lmKCJiYXIiPT09dClyZXR1cm4gTSh7aWQ6ZSx0eXBlOiJsaW5lIixkYXRhOm4uZ2V0KCJkYXRhIiksc3RhY2s6bi5nZXQoInN0YWNrIiksbWFya1BvaW50Om4uZ2V0KCJtYXJrUG9pbnQiKSxtYXJrTGluZTpuLmdldCgibWFya0xpbmUiKX0saS5nZXQoWyJvcHRpb24iLCJsaW5lIl0pfHx7fSwhMCl9LGJhcjpmdW5jdGlvbih0LGUsbixpKXtpZigibGluZSI9PT10KXJldHVybiBNKHtpZDplLHR5cGU6ImJhciIsZGF0YTpuLmdldCgiZGF0YSIpLHN0YWNrOm4uZ2V0KCJzdGFjayIpLG1hcmtQb2ludDpuLmdldCgibWFya1BvaW50IiksbWFya0xpbmU6bi5nZXQoIm1hcmtMaW5lIil9LGkuZ2V0KFsib3B0aW9uIiwiYmFyIl0pfHx7fSwhMCl9LHN0YWNrOmZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPW4uZ2V0KCJzdGFjayIpPT09Rk47aWYoImxpbmUiPT09dHx8ImJhciI9PT10KXJldHVybiBpLnNldEljb25TdGF0dXMoInN0YWNrIixyPyJub3JtYWwiOiJlbXBoYXNpcyIpLE0oe2lkOmUsc3RhY2s6cj8iIjpGTn0saS5nZXQoWyJvcHRpb24iLCJzdGFjayJdKXx8e30sITApfX07SW0oe3R5cGU6ImNoYW5nZU1hZ2ljVHlwZSIsZXZlbnQ6Im1hZ2ljVHlwZUNoYW5nZWQiLHVwZGF0ZToicHJlcGFyZUFuZFVwZGF0ZSJ9LChmdW5jdGlvbih0LGUpe2UubWVyZ2VPcHRpb24odC5uZXdPcHRpb24pfSkpO3ZhciBYTj1uZXcgQXJyYXkoNjApLmpvaW4oIi0iKSxZTj0iXHQiO2Z1bmN0aW9uIFpOKHQpe3JldHVybiB0LnJlcGxhY2UoL15cc1xzKi8sIiIpLnJlcGxhY2UoL1xzXHMqJC8sIiIpfXZhciBqTj1uZXcgUmVnRXhwKCJbXHRdKyIsImciKTtmdW5jdGlvbiBxTih0LGUpe3ZhciBuPXQuc3BsaXQobmV3IFJlZ0V4cCgiXG4qIitYTisiXG4qIiwiZyIpKSxpPXtzZXJpZXM6W119O3JldHVybiBPKG4sKGZ1bmN0aW9uKHQsbil7aWYoZnVuY3Rpb24odCl7aWYodC5zbGljZSgwLHQuaW5kZXhPZigiXG4iKSkuaW5kZXhPZihZTik+PTApcmV0dXJuITB9KHQpKXt2YXIgcj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5zcGxpdCgvXG4rL2cpLG49W10saT1SKFpOKGUuc2hpZnQoKSkuc3BsaXQoak4pLChmdW5jdGlvbih0KXtyZXR1cm57bmFtZTp0LGRhdGE6W119fSkpLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG89Wk4oZVtyXSkuc3BsaXQoak4pO24ucHVzaChvLnNoaWZ0KCkpO2Zvcih2YXIgYT0wO2E8by5sZW5ndGg7YSsrKWlbYV0mJihpW2FdLmRhdGFbcl09b1thXSl9cmV0dXJue3NlcmllczppLGNhdGVnb3JpZXM6bn19KHQpLG89ZVtuXSxhPW8uYXhpc0RpbSsiQXhpcyI7byYmKGlbYV09aVthXXx8W10saVthXVtvLmF4aXNJbmRleF09e2RhdGE6ci5jYXRlZ29yaWVzfSxpLnNlcmllcz1pLnNlcmllcy5jb25jYXQoci5zZXJpZXMpKX1lbHNle3I9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuc3BsaXQoL1xuKy9nKSxuPVpOKGUuc2hpZnQoKSksaT1bXSxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBvPVpOKGVbcl0pO2lmKG8pe3ZhciBhPW8uc3BsaXQoak4pLHM9IiIsbD12b2lkIDAsdT0hMTtpc05hTihhWzBdKT8odT0hMCxzPWFbMF0sYT1hLnNsaWNlKDEpLGlbcl09e25hbWU6cyx2YWx1ZTpbXX0sbD1pW3JdLnZhbHVlKTpsPWlbcl09W107Zm9yKHZhciBoPTA7aDxhLmxlbmd0aDtoKyspbC5wdXNoKCthW2hdKTsxPT09bC5sZW5ndGgmJih1P2lbcl0udmFsdWU9bFswXTppW3JdPWxbMF0pfX1yZXR1cm57bmFtZTpuLGRhdGE6aX19KHQpO2kuc2VyaWVzLnB1c2gocil9fSkpLGl9dmFyIEtOPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUub25jbGljaz1mdW5jdGlvbih0LGUpe3ZhciBuPWUuZ2V0RG9tKCksaT10aGlzLm1vZGVsO3RoaXMuX2RvbSYmbi5yZW1vdmVDaGlsZCh0aGlzLl9kb20pO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Iuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDo1cHg7dG9wOjVweDtib3R0b206NXB4O3JpZ2h0OjVweDsiLHIuc3R5bGUuYmFja2dyb3VuZENvbG9yPWkuZ2V0KCJiYWNrZ3JvdW5kQ29sb3IiKXx8IiNmZmYiO3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImg0IiksYT1pLmdldCgibGFuZyIpfHxbXTtvLmlubmVySFRNTD1hWzBdfHxpLmdldCgidGl0bGUiKSxvLnN0eWxlLmNzc1RleHQ9Im1hcmdpbjogMTBweCAyMHB4OyIsby5zdHlsZS5jb2xvcj1pLmdldCgidGV4dENvbG9yIik7dmFyIHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpO3Muc3R5bGUuY3NzVGV4dD0iZGlzcGxheTpibG9jazt3aWR0aDoxMDAlO292ZXJmbG93OmF1dG87Ijt2YXIgdT1pLmdldCgib3B0aW9uVG9Db250ZW50IiksaD1pLmdldCgiY29udGVudFRvT3B0aW9uIiksYz1mdW5jdGlvbih0KXt2YXIgZSxuLGkscj1mdW5jdGlvbih0KXt2YXIgZT17fSxuPVtdLGk9W107cmV0dXJuIHQuZWFjaFJhd1NlcmllcygoZnVuY3Rpb24odCl7dmFyIHI9dC5jb29yZGluYXRlU3lzdGVtO2lmKCFyfHwiY2FydGVzaWFuMmQiIT09ci50eXBlJiYicG9sYXIiIT09ci50eXBlKW4ucHVzaCh0KTtlbHNle3ZhciBvPXIuZ2V0QmFzZUF4aXMoKTtpZigiY2F0ZWdvcnkiPT09by50eXBlKXt2YXIgYT1vLmRpbSsiXyIrby5pbmRleDtlW2FdfHwoZVthXT17Y2F0ZWdvcnlBeGlzOm8sdmFsdWVBeGlzOnIuZ2V0T3RoZXJBeGlzKG8pLHNlcmllczpbXX0saS5wdXNoKHtheGlzRGltOm8uZGltLGF4aXNJbmRleDpvLmluZGV4fSkpLGVbYV0uc2VyaWVzLnB1c2godCl9ZWxzZSBuLnB1c2godCl9fSkpLHtzZXJpZXNHcm91cEJ5Q2F0ZWdvcnlBeGlzOmUsb3RoZXI6bixtZXRhOml9fSh0KTtyZXR1cm57dmFsdWU6eihbKG49ci5zZXJpZXNHcm91cEJ5Q2F0ZWdvcnlBeGlzLGk9W10sTyhuLChmdW5jdGlvbih0LGUpe3ZhciBuPXQuY2F0ZWdvcnlBeGlzLHI9dC52YWx1ZUF4aXMuZGltLG89WyIgIl0uY29uY2F0KFIodC5zZXJpZXMsKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWV9KSkpLGE9W24ubW9kZWwuZ2V0Q2F0ZWdvcmllcygpXTtPKHQuc2VyaWVzLChmdW5jdGlvbih0KXt2YXIgZT10LmdldFJhd0RhdGEoKTthLnB1c2godC5nZXRSYXdEYXRhKCkubWFwQXJyYXkoZS5tYXBEaW1lbnNpb24ociksKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpKX0pKTtmb3IodmFyIHM9W28uam9pbihZTildLGw9MDtsPGFbMF0ubGVuZ3RoO2wrKyl7Zm9yKHZhciB1PVtdLGg9MDtoPGEubGVuZ3RoO2grKyl1LnB1c2goYVtoXVtsXSk7cy5wdXNoKHUuam9pbihZTikpfWkucHVzaChzLmpvaW4oIlxuIikpfSkpLGkuam9pbigiXG5cbiIrWE4rIlxuXG4iKSksKGU9ci5vdGhlcixSKGUsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0UmF3RGF0YSgpLG49W3QubmFtZV0saT1bXTtyZXR1cm4gZS5lYWNoKGUuZGltZW5zaW9ucywoZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxyPWFyZ3VtZW50c1t0LTFdLG89ZS5nZXROYW1lKHIpLGE9MDthPHQtMTthKyspaVthXT1hcmd1bWVudHNbYV07bi5wdXNoKChvP28rWU46IiIpK2kuam9pbihZTikpfSkpLG4uam9pbigiXG4iKX0pKS5qb2luKCJcblxuIitYTisiXG5cbiIpKV0sKGZ1bmN0aW9uKHQpe3JldHVybiEhdC5yZXBsYWNlKC9bXG5cdFxzXS9nLCIiKX0pKS5qb2luKCJcblxuIitYTisiXG5cbiIpLG1ldGE6ci5tZXRhfX0odCk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHUpe3ZhciBwPXUoZS5nZXRPcHRpb24oKSk7InN0cmluZyI9PXR5cGVvZiBwP3MuaW5uZXJIVE1MPXA6cShwKSYmcy5hcHBlbmRDaGlsZChwKX1lbHNlIHMuYXBwZW5kQ2hpbGQobCksbC5yZWFkT25seT1pLmdldCgicmVhZE9ubHkiKSxsLnN0eWxlLmNzc1RleHQ9IndpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7Zm9udC1mYW1pbHk6bW9ub3NwYWNlO2ZvbnQtc2l6ZToxNHB4O2xpbmUtaGVpZ2h0OjEuNnJlbTsiLGwuc3R5bGUuY29sb3I9aS5nZXQoInRleHRDb2xvciIpLGwuc3R5bGUuYm9yZGVyQ29sb3I9aS5nZXQoInRleHRhcmVhQm9yZGVyQ29sb3IiKSxsLnN0eWxlLmJhY2tncm91bmRDb2xvcj1pLmdldCgidGV4dGFyZWFDb2xvciIpLGwudmFsdWU9Yy52YWx1ZTt2YXIgZD1jLm1ldGEsZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtmLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2JvdHRvbTowO2xlZnQ6MDtyaWdodDowOyI7dmFyIGc9ImZsb2F0OnJpZ2h0O21hcmdpbi1yaWdodDoyMHB4O2JvcmRlcjpub25lO2N1cnNvcjpwb2ludGVyO3BhZGRpbmc6MnB4IDVweDtmb250LXNpemU6MTJweDtib3JkZXItcmFkaXVzOjNweCIseT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2crPSI7YmFja2dyb3VuZC1jb2xvcjoiK2kuZ2V0KCJidXR0b25Db2xvciIpLGcrPSI7Y29sb3I6IitpLmdldCgiYnV0dG9uVGV4dENvbG9yIik7dmFyIG09dGhpcztmdW5jdGlvbiBfKCl7bi5yZW1vdmVDaGlsZChyKSxtLl9kb209bnVsbH1lZSh5LCJjbGljayIsXyksZWUodiwiY2xpY2siLChmdW5jdGlvbigpe2lmKG51bGw9PWgmJm51bGwhPXV8fG51bGwhPWgmJm51bGw9PXUpXygpO2Vsc2V7dmFyIHQ7dHJ5e3Q9ImZ1bmN0aW9uIj09dHlwZW9mIGg/aChzLGUuZ2V0T3B0aW9uKCkpOnFOKGwudmFsdWUsZCl9Y2F0Y2godCl7dGhyb3cgXygpLG5ldyBFcnJvcigiRGF0YSB2aWV3IGZvcm1hdCBlcnJvciAiK3QpfXQmJmUuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImNoYW5nZURhdGFWaWV3IixuZXdPcHRpb246dH0pLF8oKX19KSkseS5pbm5lckhUTUw9YVsxXSx2LmlubmVySFRNTD1hWzJdLHYuc3R5bGUuY3NzVGV4dD1nLHkuc3R5bGUuY3NzVGV4dD1nLCFpLmdldCgicmVhZE9ubHkiKSYmZi5hcHBlbmRDaGlsZCh2KSxmLmFwcGVuZENoaWxkKHkpLHIuYXBwZW5kQ2hpbGQobyksci5hcHBlbmRDaGlsZChzKSxyLmFwcGVuZENoaWxkKGYpLHMuc3R5bGUuaGVpZ2h0PW4uY2xpZW50SGVpZ2h0LTgwKyJweCIsbi5hcHBlbmRDaGlsZChyKSx0aGlzLl9kb209cn0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fZG9tJiZlLmdldERvbSgpLnJlbW92ZUNoaWxkKHRoaXMuX2RvbSl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCxlKXt0aGlzLnJlbW92ZSh0LGUpfSxlLmdldERlZmF1bHRPcHRpb249ZnVuY3Rpb24odCl7cmV0dXJue3Nob3c6ITAscmVhZE9ubHk6ITEsb3B0aW9uVG9Db250ZW50Om51bGwsY29udGVudFRvT3B0aW9uOm51bGwsaWNvbjoiTTE3LjUsMTcuM0gzMyBNMTcuNSwxNy4zSDMzIE00NS40LDI5LjVoLTI4IE0xMS41LDJ2NTZINTFWMTQuOEwzOC40LDJIMTEuNXogTTM4LjQsMi4ydjEyLjdINTEgTTQ1LjQsNDEuN2gtMjgiLHRpdGxlOnQuZ2V0TG9jYWxlTW9kZWwoKS5nZXQoWyJ0b29sYm94IiwiZGF0YVZpZXciLCJ0aXRsZSJdKSxsYW5nOnQuZ2V0TG9jYWxlTW9kZWwoKS5nZXQoWyJ0b29sYm94IiwiZGF0YVZpZXciLCJsYW5nIl0pLGJhY2tncm91bmRDb2xvcjoiI2ZmZiIsdGV4dENvbG9yOiIjMDAwIix0ZXh0YXJlYUNvbG9yOiIjZmZmIix0ZXh0YXJlYUJvcmRlckNvbG9yOiIjMzMzIixidXR0b25Db2xvcjoiI2MyMzUzMSIsYnV0dG9uVGV4dENvbG9yOiIjZmZmIn19LGV9KE9OKTtmdW5jdGlvbiAkTih0LGUpe3JldHVybiBSKHQsKGZ1bmN0aW9uKHQsbil7dmFyIGk9ZSYmZVtuXTtpZihZKGkpJiYhRihpKSl7WSh0KSYmIUYodCl8fCh0PXt2YWx1ZTp0fSk7dmFyIHI9bnVsbCE9aS5uYW1lJiZudWxsPT10Lm5hbWU7cmV0dXJuIHQ9Qyh0LGkpLHImJmRlbGV0ZSB0Lm5hbWUsdH1yZXR1cm4gdH0pKX1JbSh7dHlwZToiY2hhbmdlRGF0YVZpZXciLGV2ZW50OiJkYXRhVmlld0NoYW5nZWQiLHVwZGF0ZToicHJlcGFyZUFuZFVwZGF0ZSJ9LChmdW5jdGlvbih0LGUpe3ZhciBuPVtdO08odC5uZXdPcHRpb24uc2VyaWVzLChmdW5jdGlvbih0KXt2YXIgaT1lLmdldFNlcmllc0J5TmFtZSh0Lm5hbWUpWzBdO2lmKGkpe3ZhciByPWkuZ2V0KCJkYXRhIik7bi5wdXNoKHtuYW1lOnQubmFtZSxkYXRhOiROKHQuZGF0YSxyKX0pfWVsc2Ugbi5wdXNoKFQoe3R5cGU6InNjYXR0ZXIifSx0KSl9KSksZS5tZXJnZU9wdGlvbihDKHtzZXJpZXM6bn0sdC5uZXdPcHRpb24pKX0pKTt2YXIgSk49TyxRTj1ScigpO2Z1bmN0aW9uIHR6KHQpe3ZhciBlPVFOKHQpO3JldHVybiBlLnNuYXBzaG90c3x8KGUuc25hcHNob3RzPVt7fV0pLGUuc25hcHNob3RzfXZhciBlej1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLm9uY2xpY2s9ZnVuY3Rpb24odCxlKXshZnVuY3Rpb24odCl7UU4odCkuc25hcHNob3RzPW51bGx9KHQpLGUuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InJlc3RvcmUiLGZyb206dGhpcy51aWR9KX0sZS5nZXREZWZhdWx0T3B0aW9uPWZ1bmN0aW9uKHQpe3JldHVybntzaG93OiEwLGljb246Ik0zLjgsMzMuNCBNNDcsMTguOWg5LjhWOC43IE01Ni4zLDIwLjEgQzUyLjEsOSw0MC41LDAuNiwyNi44LDIuMUMxMi42LDMuNywxLjYsMTYuMiwyLjEsMzAuNiBNMTMsNDEuMUgzLjF2MTAuMiBNMy43LDM5LjljNC4yLDExLjEsMTUuOCwxOS41LDI5LjUsMTggYzE0LjItMS42LDI1LjItMTQuMSwyNC43LTI4LjUiLHRpdGxlOnQuZ2V0TG9jYWxlTW9kZWwoKS5nZXQoWyJ0b29sYm94IiwicmVzdG9yZSIsInRpdGxlIl0pfX0sZX0oT04pO0ltKHt0eXBlOiJyZXN0b3JlIixldmVudDoicmVzdG9yZSIsdXBkYXRlOiJwcmVwYXJlQW5kVXBkYXRlIn0sKGZ1bmN0aW9uKHQsZSl7ZS5yZXNldE9wdGlvbigicmVjcmVhdGUiKX0pKTt2YXIgbno9WyJncmlkIiwieEF4aXMiLCJ5QXhpcyIsImdlbyIsImdyYXBoIiwicG9sYXIiLCJyYWRpdXNBeGlzIiwiYW5nbGVBeGlzIiwiYm1hcCJdLGl6PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7dmFyIGk9dGhpczt0aGlzLl90YXJnZXRJbmZvTGlzdD1bXTt2YXIgcj1veihlLHQpO08oYXosKGZ1bmN0aW9uKHQsZSl7KCFufHwhbi5pbmNsdWRlfHxBKG4uaW5jbHVkZSxlKT49MCkmJnQocixpLl90YXJnZXRJbmZvTGlzdCl9KSl9cmV0dXJuIHQucHJvdG90eXBlLnNldE91dHB1dFJhbmdlcz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLm1hdGNoT3V0cHV0UmFuZ2VzKHQsZSwoZnVuY3Rpb24odCxlLG4pe2lmKCh0LmNvb3JkUmFuZ2VzfHwodC5jb29yZFJhbmdlcz1bXSkpLnB1c2goZSksIXQuY29vcmRSYW5nZSl7dC5jb29yZFJhbmdlPWU7dmFyIGk9dXpbdC5icnVzaFR5cGVdKDAsbixlKTt0Ll9fcmFuZ2VPZmZzZXQ9e29mZnNldDpjelt0LmJydXNoVHlwZV0oaS52YWx1ZXMsdC5yYW5nZSxbMSwxXSkseHlNaW5NYXg6aS54eU1pbk1heH19fSkpLHR9LHQucHJvdG90eXBlLm1hdGNoT3V0cHV0UmFuZ2VzPWZ1bmN0aW9uKHQsZSxuKXtPKHQsKGZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuZmluZFRhcmdldEluZm8odCxlKTtpJiYhMCE9PWkmJk8oaS5jb29yZFN5c2VzLChmdW5jdGlvbihpKXt2YXIgcj11elt0LmJydXNoVHlwZV0oMSxpLHQucmFuZ2UsITApO24odCxyLnZhbHVlcyxpLGUpfSkpfSksdGhpcyl9LHQucHJvdG90eXBlLnNldElucHV0UmFuZ2VzPWZ1bmN0aW9uKHQsZSl7Tyh0LChmdW5jdGlvbih0KXt2YXIgbixpLHIsbyxhLHM9dGhpcy5maW5kVGFyZ2V0SW5mbyh0LGUpO2lmKHQucmFuZ2U9dC5yYW5nZXx8W10scyYmITAhPT1zKXt0LnBhbmVsSWQ9cy5wYW5lbElkO3ZhciBsPXV6W3QuYnJ1c2hUeXBlXSgwLHMuY29vcmRTeXMsdC5jb29yZFJhbmdlKSx1PXQuX19yYW5nZU9mZnNldDt0LnJhbmdlPXU/Y3pbdC5icnVzaFR5cGVdKGwudmFsdWVzLHUub2Zmc2V0LChuPWwueHlNaW5NYXgsaT11Lnh5TWluTWF4LHI9ZHoobiksbz1keihpKSxhPVtyWzBdL29bMF0sclsxXS9vWzFdXSxpc05hTihhWzBdKSYmKGFbMF09MSksaXNOYU4oYVsxXSkmJihhWzFdPTEpLGEpKTpsLnZhbHVlc319KSx0aGlzKX0sdC5wcm90b3R5cGUubWFrZVBhbmVsT3B0cz1mdW5jdGlvbih0LGUpe3JldHVybiBSKHRoaXMuX3RhcmdldEluZm9MaXN0LChmdW5jdGlvbihuKXt2YXIgaT1uLmdldFBhbmVsUmVjdCgpO3JldHVybntwYW5lbElkOm4ucGFuZWxJZCxkZWZhdWx0QnJ1c2hUeXBlOmU/ZShuKTpudWxsLGNsaXBQYXRoOnBrKGkpLGlzVGFyZ2V0QnlDdXJzb3I6ZmsoaSx0LG4uY29vcmRTeXNNb2RlbCksZ2V0TGluZWFyQnJ1c2hPdGhlckV4dGVudDpkayhpKX19KSl9LHQucHJvdG90eXBlLmNvbnRyb2xTZXJpZXM9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuZmluZFRhcmdldEluZm8odCxuKTtyZXR1cm4hMD09PWl8fGkmJkEoaS5jb29yZFN5c2VzLGUuY29vcmRpbmF0ZVN5c3RlbSk+PTB9LHQucHJvdG90eXBlLmZpbmRUYXJnZXRJbmZvPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMuX3RhcmdldEluZm9MaXN0LGk9b3ooZSx0KSxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBvPW5bcl0sYT10LnBhbmVsSWQ7aWYoYSl7aWYoby5wYW5lbElkPT09YSlyZXR1cm4gb31lbHNlIGZvcih2YXIgcz0wO3M8c3oubGVuZ3RoO3MrKylpZihzeltzXShpLG8pKXJldHVybiBvfXJldHVybiEwfSx0fSgpO2Z1bmN0aW9uIHJ6KHQpe3JldHVybiB0WzBdPnRbMV0mJnQucmV2ZXJzZSgpLHR9ZnVuY3Rpb24gb3oodCxlKXtyZXR1cm4genIodCxlLHtpbmNsdWRlTWFpblR5cGVzOm56fSl9dmFyIGF6PXtncmlkOmZ1bmN0aW9uKHQsZSl7dmFyIG49dC54QXhpc01vZGVscyxpPXQueUF4aXNNb2RlbHMscj10LmdyaWRNb2RlbHMsbz1jdCgpLGE9e30scz17fTsobnx8aXx8cikmJihPKG4sKGZ1bmN0aW9uKHQpe3ZhciBlPXQuYXhpcy5ncmlkLm1vZGVsO28uc2V0KGUuaWQsZSksYVtlLmlkXT0hMH0pKSxPKGksKGZ1bmN0aW9uKHQpe3ZhciBlPXQuYXhpcy5ncmlkLm1vZGVsO28uc2V0KGUuaWQsZSksc1tlLmlkXT0hMH0pKSxPKHIsKGZ1bmN0aW9uKHQpe28uc2V0KHQuaWQsdCksYVt0LmlkXT0hMCxzW3QuaWRdPSEwfSkpLG8uZWFjaCgoZnVuY3Rpb24odCl7dmFyIHI9dC5jb29yZGluYXRlU3lzdGVtLG89W107TyhyLmdldENhcnRlc2lhbnMoKSwoZnVuY3Rpb24odCxlKXsoQShuLHQuZ2V0QXhpcygieCIpLm1vZGVsKT49MHx8QShpLHQuZ2V0QXhpcygieSIpLm1vZGVsKT49MCkmJm8ucHVzaCh0KX0pKSxlLnB1c2goe3BhbmVsSWQ6ImdyaWQtLSIrdC5pZCxncmlkTW9kZWw6dCxjb29yZFN5c01vZGVsOnQsY29vcmRTeXM6b1swXSxjb29yZFN5c2VzOm8sZ2V0UGFuZWxSZWN0Omx6LmdyaWQseEF4aXNEZWNsYXJlZDphW3QuaWRdLHlBeGlzRGVjbGFyZWQ6c1t0LmlkXX0pfSkpKX0sZ2VvOmZ1bmN0aW9uKHQsZSl7Tyh0Lmdlb01vZGVscywoZnVuY3Rpb24odCl7dmFyIG49dC5jb29yZGluYXRlU3lzdGVtO2UucHVzaCh7cGFuZWxJZDoiZ2VvLS0iK3QuaWQsZ2VvTW9kZWw6dCxjb29yZFN5c01vZGVsOnQsY29vcmRTeXM6bixjb29yZFN5c2VzOltuXSxnZXRQYW5lbFJlY3Q6bHouZ2VvfSl9KSl9fSxzej1bZnVuY3Rpb24odCxlKXt2YXIgbj10LnhBeGlzTW9kZWwsaT10LnlBeGlzTW9kZWwscj10LmdyaWRNb2RlbDtyZXR1cm4hciYmbiYmKHI9bi5heGlzLmdyaWQubW9kZWwpLCFyJiZpJiYocj1pLmF4aXMuZ3JpZC5tb2RlbCksciYmcj09PWUuZ3JpZE1vZGVsfSxmdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2VvTW9kZWw7cmV0dXJuIG4mJm49PT1lLmdlb01vZGVsfV0sbHo9e2dyaWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb29yZFN5cy5tYXN0ZXIuZ2V0UmVjdCgpLmNsb25lKCl9LGdlbzpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY29vcmRTeXMsZT10LmdldEJvdW5kaW5nUmVjdCgpLmNsb25lKCk7cmV0dXJuIGUuYXBwbHlUcmFuc2Zvcm0ocmgodCkpLGV9fSx1ej17bGluZVg6RyhoeiwwKSxsaW5lWTpHKGh6LDEpLHJlY3Q6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dD9lLnBvaW50VG9EYXRhKFtuWzBdWzBdLG5bMV1bMF1dLGkpOmUuZGF0YVRvUG9pbnQoW25bMF1bMF0sblsxXVswXV0saSksbz10P2UucG9pbnRUb0RhdGEoW25bMF1bMV0sblsxXVsxXV0saSk6ZS5kYXRhVG9Qb2ludChbblswXVsxXSxuWzFdWzFdXSxpKSxhPVtyeihbclswXSxvWzBdXSkscnooW3JbMV0sb1sxXV0pXTtyZXR1cm57dmFsdWVzOmEseHlNaW5NYXg6YX19LHBvbHlnb246ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9W1sxLzAsLTEvMF0sWzEvMCwtMS8wXV07cmV0dXJue3ZhbHVlczpSKG4sKGZ1bmN0aW9uKG4pe3ZhciBvPXQ/ZS5wb2ludFRvRGF0YShuLGkpOmUuZGF0YVRvUG9pbnQobixpKTtyZXR1cm4gclswXVswXT1NYXRoLm1pbihyWzBdWzBdLG9bMF0pLHJbMV1bMF09TWF0aC5taW4oclsxXVswXSxvWzFdKSxyWzBdWzFdPU1hdGgubWF4KHJbMF1bMV0sb1swXSksclsxXVsxXT1NYXRoLm1heChyWzFdWzFdLG9bMV0pLG99KSkseHlNaW5NYXg6cn19fTtmdW5jdGlvbiBoeih0LGUsbixpKXt2YXIgcj1uLmdldEF4aXMoWyJ4IiwieSJdW3RdKSxvPXJ6KFIoWzAsMV0sKGZ1bmN0aW9uKHQpe3JldHVybiBlP3IuY29vcmRUb0RhdGEoci50b0xvY2FsQ29vcmQoaVt0XSksITApOnIudG9HbG9iYWxDb29yZChyLmRhdGFUb0Nvb3JkKGlbdF0pKX0pKSksYT1bXTtyZXR1cm4gYVt0XT1vLGFbMS10XT1bTmFOLE5hTl0se3ZhbHVlczpvLHh5TWluTWF4OmF9fXZhciBjej17bGluZVg6RyhweiwwKSxsaW5lWTpHKHB6LDEpLHJlY3Q6ZnVuY3Rpb24odCxlLG4pe3JldHVybltbdFswXVswXS1uWzBdKmVbMF1bMF0sdFswXVsxXS1uWzBdKmVbMF1bMV1dLFt0WzFdWzBdLW5bMV0qZVsxXVswXSx0WzFdWzFdLW5bMV0qZVsxXVsxXV1dfSxwb2x5Z29uOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gUih0LChmdW5jdGlvbih0LGkpe3JldHVyblt0WzBdLW5bMF0qZVtpXVswXSx0WzFdLW5bMV0qZVtpXVsxXV19KSl9fTtmdW5jdGlvbiBweih0LGUsbixpKXtyZXR1cm5bZVswXS1pW3RdKm5bMF0sZVsxXS1pW3RdKm5bMV1dfWZ1bmN0aW9uIGR6KHQpe3JldHVybiB0P1t0WzBdWzFdLXRbMF1bMF0sdFsxXVsxXS10WzFdWzBdXTpbTmFOLE5hTl19dmFyIGZ6LGd6LHl6PU8sdno9YnIrInRvb2xib3gtZGF0YVpvb21fIixtej1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbixpKXt0aGlzLl9icnVzaENvbnRyb2xsZXJ8fCh0aGlzLl9icnVzaENvbnRyb2xsZXI9bmV3IE5BKG4uZ2V0WnIoKSksdGhpcy5fYnJ1c2hDb250cm9sbGVyLm9uKCJicnVzaCIsQih0aGlzLl9vbkJydXNoLHRoaXMpKS5tb3VudCgpKSxmdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPW4uX2lzWm9vbUFjdGl2ZTtpJiYidGFrZUdsb2JhbEN1cnNvciI9PT1pLnR5cGUmJihvPSJkYXRhWm9vbVNlbGVjdCI9PT1pLmtleSYmaS5kYXRhWm9vbVNlbGVjdEFjdGl2ZSk7bi5faXNab29tQWN0aXZlPW8sdC5zZXRJY29uU3RhdHVzKCJ6b29tIixvPyJlbXBoYXNpcyI6Im5vcm1hbCIpO3ZhciBhPW5ldyBpeih4eih0KSxlLHtpbmNsdWRlOlsiZ3JpZCJdfSkubWFrZVBhbmVsT3B0cyhyLChmdW5jdGlvbih0KXtyZXR1cm4gdC54QXhpc0RlY2xhcmVkJiYhdC55QXhpc0RlY2xhcmVkPyJsaW5lWCI6IXQueEF4aXNEZWNsYXJlZCYmdC55QXhpc0RlY2xhcmVkPyJsaW5lWSI6InJlY3QifSkpO24uX2JydXNoQ29udHJvbGxlci5zZXRQYW5lbHMoYSkuZW5hYmxlQnJ1c2goISghb3x8IWEubGVuZ3RoKSYme2JydXNoVHlwZToiYXV0byIsYnJ1c2hTdHlsZTp0LmdldE1vZGVsKCJicnVzaFN0eWxlIikuZ2V0SXRlbVN0eWxlKCl9KX0odCxlLHRoaXMsaSxuKSxmdW5jdGlvbih0LGUpe3Quc2V0SWNvblN0YXR1cygiYmFjayIsZnVuY3Rpb24odCl7cmV0dXJuIHR6KHQpLmxlbmd0aH0oZSk+MT8iZW1waGFzaXMiOiJub3JtYWwiKX0odCxlKX0sZS5wcm90b3R5cGUub25jbGljaz1mdW5jdGlvbih0LGUsbil7X3pbbl0uY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fYnJ1c2hDb250cm9sbGVyJiZ0aGlzLl9icnVzaENvbnRyb2xsZXIudW5tb3VudCgpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fYnJ1c2hDb250cm9sbGVyJiZ0aGlzLl9icnVzaENvbnRyb2xsZXIuZGlzcG9zZSgpfSxlLnByb3RvdHlwZS5fb25CcnVzaD1mdW5jdGlvbih0KXt2YXIgZT10LmFyZWFzO2lmKHQuaXNFbmQmJmUubGVuZ3RoKXt2YXIgbj17fSxpPXRoaXMuZWNNb2RlbDt0aGlzLl9icnVzaENvbnRyb2xsZXIudXBkYXRlQ292ZXJzKFtdKSxuZXcgaXooeHoodGhpcy5tb2RlbCksaSx7aW5jbHVkZTpbImdyaWQiXX0pLm1hdGNoT3V0cHV0UmFuZ2VzKGUsaSwoZnVuY3Rpb24odCxlLG4pe2lmKCJjYXJ0ZXNpYW4yZCI9PT1uLnR5cGUpe3ZhciBpPXQuYnJ1c2hUeXBlOyJyZWN0Ij09PWk/KHIoIngiLG4sZVswXSkscigieSIsbixlWzFdKSk6cih7bGluZVg6IngiLGxpbmVZOiJ5In1baV0sbixlKX19KSksZnVuY3Rpb24odCxlKXt2YXIgbj10eih0KTtKTihlLChmdW5jdGlvbihlLGkpe2Zvcih2YXIgcj1uLmxlbmd0aC0xO3I+PTAmJiFuW3JdW2ldO3ItLSk7aWYocjwwKXt2YXIgbz10LnF1ZXJ5Q29tcG9uZW50cyh7bWFpblR5cGU6ImRhdGFab29tIixzdWJUeXBlOiJzZWxlY3QiLGlkOml9KVswXTtpZihvKXt2YXIgYT1vLmdldFBlcmNlbnRSYW5nZSgpO25bMF1baV09e2RhdGFab29tSWQ6aSxzdGFydDphWzBdLGVuZDphWzFdfX19fSkpLG4ucHVzaChlKX0oaSxuKSx0aGlzLl9kaXNwYXRjaFpvb21BY3Rpb24obil9ZnVuY3Rpb24gcih0LGUscil7dmFyIG89ZS5nZXRBeGlzKHQpLGE9by5tb2RlbCxzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaTtyZXR1cm4gbi5lYWNoQ29tcG9uZW50KHttYWluVHlwZToiZGF0YVpvb20iLHN1YlR5cGU6InNlbGVjdCJ9LChmdW5jdGlvbihuKXtuLmdldEF4aXNNb2RlbCh0LGUuY29tcG9uZW50SW5kZXgpJiYoaT1uKX0pKSxpfSh0LGEsaSksbD1zLmZpbmRSZXByZXNlbnRhdGl2ZUF4aXNQcm94eShhKS5nZXRNaW5NYXhTcGFuKCk7bnVsbD09bC5taW5WYWx1ZVNwYW4mJm51bGw9PWwubWF4VmFsdWVTcGFufHwocj1oQSgwLHIuc2xpY2UoKSxvLnNjYWxlLmdldEV4dGVudCgpLDAsbC5taW5WYWx1ZVNwYW4sbC5tYXhWYWx1ZVNwYW4pKSxzJiYobltzLmlkXT17ZGF0YVpvb21JZDpzLmlkLHN0YXJ0VmFsdWU6clswXSxlbmRWYWx1ZTpyWzFdfSl9fSxlLnByb3RvdHlwZS5fZGlzcGF0Y2hab29tQWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO3l6KHQsKGZ1bmN0aW9uKHQsbil7ZS5wdXNoKFModCkpfSkpLGUubGVuZ3RoJiZ0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToiZGF0YVpvb20iLGZyb206dGhpcy51aWQsYmF0Y2g6ZX0pfSxlLmdldERlZmF1bHRPcHRpb249ZnVuY3Rpb24odCl7cmV0dXJue3Nob3c6ITAsZmlsdGVyTW9kZToiZmlsdGVyIixpY29uOnt6b29tOiJNMCwxMy41aDI2LjkgTTEzLjUsMjYuOVYwIE0zMi4xLDEzLjVINThWNThIMTMuNSBWMzIuMSIsYmFjazoiTTIyLDEuNEw5LjksMTMuNWwxMi4zLDEyLjMgTTEwLjMsMTMuNUg1NC45djQ0LjYgSDEwLjN2LTI2In0sdGl0bGU6dC5nZXRMb2NhbGVNb2RlbCgpLmdldChbInRvb2xib3giLCJkYXRhWm9vbSIsInRpdGxlIl0pLGJydXNoU3R5bGU6e2JvcmRlcldpZHRoOjAsY29sb3I6InJnYmEoMjEwLDIxOSwyMzgsMC4yKSJ9fX0sZX0oT04pLF96PXt6b29tOmZ1bmN0aW9uKCl7dmFyIHQ9IXRoaXMuX2lzWm9vbUFjdGl2ZTt0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToidGFrZUdsb2JhbEN1cnNvciIsa2V5OiJkYXRhWm9vbVNlbGVjdCIsZGF0YVpvb21TZWxlY3RBY3RpdmU6dH0pfSxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5fZGlzcGF0Y2hab29tQWN0aW9uKGZ1bmN0aW9uKHQpe3ZhciBlPXR6KHQpLG49ZVtlLmxlbmd0aC0xXTtlLmxlbmd0aD4xJiZlLnBvcCgpO3ZhciBpPXt9O3JldHVybiBKTihuLChmdW5jdGlvbih0LG4pe2Zvcih2YXIgcj1lLmxlbmd0aC0xO3I+PTA7ci0tKWlmKHQ9ZVtyXVtuXSl7aVtuXT10O2JyZWFrfX0pKSxpfSh0aGlzLmVjTW9kZWwpKX19O2Z1bmN0aW9uIHh6KHQpe3ZhciBlPXt4QXhpc0luZGV4OnQuZ2V0KCJ4QXhpc0luZGV4IiwhMCkseUF4aXNJbmRleDp0LmdldCgieUF4aXNJbmRleCIsITApLHhBeGlzSWQ6dC5nZXQoInhBeGlzSWQiLCEwKSx5QXhpc0lkOnQuZ2V0KCJ5QXhpc0lkIiwhMCl9O3JldHVybiBudWxsPT1lLnhBeGlzSW5kZXgmJm51bGw9PWUueEF4aXNJZCYmKGUueEF4aXNJbmRleD0iYWxsIiksbnVsbD09ZS55QXhpc0luZGV4JiZudWxsPT1lLnlBeGlzSWQmJihlLnlBeGlzSW5kZXg9ImFsbCIpLGV9Zno9ImRhdGFab29tIixnej1mdW5jdGlvbih0KXt2YXIgZT10LmdldENvbXBvbmVudCgidG9vbGJveCIsMCksbj1bImZlYXR1cmUiLCJkYXRhWm9vbSJdO2lmKGUmJm51bGwhPWUuZ2V0KG4pKXt2YXIgaT1lLmdldE1vZGVsKG4pLHI9W10sbz16cih0LHh6KGkpKTtyZXR1cm4geXooby54QXhpc01vZGVscywoZnVuY3Rpb24odCl7cmV0dXJuIGEodCwieEF4aXMiLCJ4QXhpc0luZGV4Iil9KSkseXooby55QXhpc01vZGVscywoZnVuY3Rpb24odCl7cmV0dXJuIGEodCwieUF4aXMiLCJ5QXhpc0luZGV4Iil9KSkscn1mdW5jdGlvbiBhKHQsZSxuKXt2YXIgbz10LmNvbXBvbmVudEluZGV4LGE9e3R5cGU6InNlbGVjdCIsJGZyb21Ub29sYm94OiEwLGZpbHRlck1vZGU6aS5nZXQoImZpbHRlck1vZGUiLCEwKXx8ImZpbHRlciIsaWQ6dnorZStvfTthW25dPW8sci5wdXNoKGEpfX0sb3QobnVsbD09TXAuZ2V0KGZ6KSYmZ3opLE1wLnNldChmeixneik7dmFyIGJ6PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUudHlwZT0idG9vbHRpcCIsZS5kZXBlbmRlbmNpZXM9WyJheGlzUG9pbnRlciJdLGUuZGVmYXVsdE9wdGlvbj17emxldmVsOjAsejo2MCxzaG93OiEwLHNob3dDb250ZW50OiEwLHRyaWdnZXI6Iml0ZW0iLHRyaWdnZXJPbjoibW91c2Vtb3ZlfGNsaWNrIixhbHdheXNTaG93Q29udGVudDohMSxkaXNwbGF5TW9kZToic2luZ2xlIixyZW5kZXJNb2RlOiJhdXRvIixjb25maW5lOm51bGwsc2hvd0RlbGF5OjAsaGlkZURlbGF5OjEwMCx0cmFuc2l0aW9uRHVyYXRpb246LjQsZW50ZXJhYmxlOiExLGJhY2tncm91bmRDb2xvcjoiI2ZmZiIsc2hhZG93Qmx1cjoxMCxzaGFkb3dDb2xvcjoicmdiYSgwLCAwLCAwLCAuMikiLHNoYWRvd09mZnNldFg6MSxzaGFkb3dPZmZzZXRZOjIsYm9yZGVyUmFkaXVzOjQsYm9yZGVyV2lkdGg6MSxwYWRkaW5nOm51bGwsZXh0cmFDc3NUZXh0OiIiLGF4aXNQb2ludGVyOnt0eXBlOiJsaW5lIixheGlzOiJhdXRvIixhbmltYXRpb246ImF1dG8iLGFuaW1hdGlvbkR1cmF0aW9uVXBkYXRlOjIwMCxhbmltYXRpb25FYXNpbmdVcGRhdGU6ImV4cG9uZW50aWFsT3V0Iixjcm9zc1N0eWxlOntjb2xvcjoiIzk5OSIsd2lkdGg6MSx0eXBlOiJkYXNoZWQiLHRleHRTdHlsZTp7fX19LHRleHRTdHlsZTp7Y29sb3I6IiM2NjYiLGZvbnRTaXplOjE0fX0sZX0obnApO2Z1bmN0aW9uIHd6KHQpe3ZhciBlPXQuZ2V0KCJjb25maW5lIik7cmV0dXJuIG51bGwhPWU/ISFlOiJyaWNoVGV4dCI9PT10LmdldCgicmVuZGVyTW9kZSIpfWZ1bmN0aW9uIFN6KHQpe2lmKGEuZG9tU3VwcG9ydGVkKWZvcih2YXIgZT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUsbj0wLGk9dC5sZW5ndGg7bjxpO24rKylpZih0W25daW4gZSlyZXR1cm4gdFtuXX12YXIgTXo9U3ooWyJ0cmFuc2Zvcm0iLCJ3ZWJraXRUcmFuc2Zvcm0iLCJPVHJhbnNmb3JtIiwiTW96VHJhbnNmb3JtIiwibXNUcmFuc2Zvcm0iXSk7ZnVuY3Rpb24gSXoodCxlKXtpZighdClyZXR1cm4gZTtlPVBjKGUsITApO3ZhciBuPXQuaW5kZXhPZihlKTtyZXR1cm4odD0tMT09PW4/ZToiLSIrdC5zbGljZSgwLG4pKyItIitlKS50b0xvd2VyQ2FzZSgpfXZhciBUej1JeihTeihbIndlYmtpdFRyYW5zaXRpb24iLCJ0cmFuc2l0aW9uIiwiT1RyYW5zaXRpb24iLCJNb3pUcmFuc2l0aW9uIiwibXNUcmFuc2l0aW9uIl0pLCJ0cmFuc2l0aW9uIiksQ3o9SXooTXosInRyYW5zZm9ybSIpLER6PSJwb3NpdGlvbjphYnNvbHV0ZTtkaXNwbGF5OmJsb2NrO2JvcmRlci1zdHlsZTpzb2xpZDt3aGl0ZS1zcGFjZTpub3dyYXA7ei1pbmRleDo5OTk5OTk5OyIrKGEudHJhbnNmb3JtM2RTdXBwb3J0ZWQ/IndpbGwtY2hhbmdlOnRyYW5zZm9ybTsiOiIiKTtmdW5jdGlvbiBBeih0LGUsbil7dmFyIGk9dC50b0ZpeGVkKDApKyJweCIscj1lLnRvRml4ZWQoMCkrInB4IjtpZighYS50cmFuc2Zvcm1TdXBwb3J0ZWQpcmV0dXJuIG4/InRvcDoiK3IrIjtsZWZ0OiIraSsiOyI6W1sidG9wIixyXSxbImxlZnQiLGldXTt2YXIgbz1hLnRyYW5zZm9ybTNkU3VwcG9ydGVkLHM9InRyYW5zbGF0ZSIrKG8/IjNkIjoiIikrIigiK2krIiwiK3IrKG8/IiwwIjoiIikrIikiO3JldHVybiBuPyJ0b3A6MDtsZWZ0OjA7IitDeisiOiIrcysiOyI6W1sidG9wIiwwXSxbImxlZnQiLDBdLFtNeixzXV19ZnVuY3Rpb24ga3oodCxlLG4pe3ZhciBpPVtdLHI9dC5nZXQoInRyYW5zaXRpb25EdXJhdGlvbiIpLG89dC5nZXQoImJhY2tncm91bmRDb2xvciIpLHM9dC5nZXQoInNoYWRvd0JsdXIiKSxsPXQuZ2V0KCJzaGFkb3dDb2xvciIpLHU9dC5nZXQoInNoYWRvd09mZnNldFgiKSxoPXQuZ2V0KCJzaGFkb3dPZmZzZXRZIiksYz10LmdldE1vZGVsKCJ0ZXh0U3R5bGUiKSxwPWtmKHQsImh0bWwiKSxkPXUrInB4ICIraCsicHggIitzKyJweCAiK2w7cmV0dXJuIGkucHVzaCgiYm94LXNoYWRvdzoiK2QpLGUmJnImJmkucHVzaChmdW5jdGlvbih0LGUpe3ZhciBuPSJjdWJpYy1iZXppZXIoMC4yMywxLDAuMzIsMSkiLGk9IiAiK3QvMisicyAiK24scj0ib3BhY2l0eSIraSsiLHZpc2liaWxpdHkiK2k7cmV0dXJuIGV8fChpPSIgIit0KyJzICIrbixyKz1hLnRyYW5zZm9ybVN1cHBvcnRlZD8iLCIrQ3oraToiLGxlZnQiK2krIix0b3AiK2kpLFR6KyI6IityfShyLG4pKSxvJiYoYS5jYW52YXNTdXBwb3J0ZWQ/aS5wdXNoKCJiYWNrZ3JvdW5kLWNvbG9yOiIrbyk6KGkucHVzaCgiYmFja2dyb3VuZC1jb2xvcjojIitZZShvKSksaS5wdXNoKCJmaWx0ZXI6YWxwaGEob3BhY2l0eT03MCkiKSkpLE8oWyJ3aWR0aCIsImNvbG9yIiwicmFkaXVzIl0sKGZ1bmN0aW9uKGUpe3ZhciBuPSJib3JkZXItIitlLHI9UGMobiksbz10LmdldChyKTtudWxsIT1vJiZpLnB1c2gobisiOiIrbysoImNvbG9yIj09PWU/IiI6InB4IikpfSkpLGkucHVzaChmdW5jdGlvbih0KXt2YXIgZT1bXSxuPXQuZ2V0KCJmb250U2l6ZSIpLGk9dC5nZXRUZXh0Q29sb3IoKTtpJiZlLnB1c2goImNvbG9yOiIraSksZS5wdXNoKCJmb250OiIrdC5nZXRGb250KCkpLG4mJmUucHVzaCgibGluZS1oZWlnaHQ6IitNYXRoLnJvdW5kKDMqbi8yKSsicHgiKTt2YXIgcj10LmdldCgidGV4dFNoYWRvd0NvbG9yIiksbz10LmdldCgidGV4dFNoYWRvd0JsdXIiKXx8MCxhPXQuZ2V0KCJ0ZXh0U2hhZG93T2Zmc2V0WCIpfHwwLHM9dC5nZXQoInRleHRTaGFkb3dPZmZzZXRZIil8fDA7cmV0dXJuIHImJm8mJmUucHVzaCgidGV4dC1zaGFkb3c6IithKyJweCAiK3MrInB4ICIrbysicHggIityKSxPKFsiZGVjb3JhdGlvbiIsImFsaWduIl0sKGZ1bmN0aW9uKG4pe3ZhciBpPXQuZ2V0KG4pO2kmJmUucHVzaCgidGV4dC0iK24rIjoiK2kpfSkpLGUuam9pbigiOyIpfShjKSksbnVsbCE9cCYmaS5wdXNoKCJwYWRkaW5nOiIrT2MocCkuam9pbigicHggIikrInB4IiksaS5qb2luKCI7IikrIjsifWZ1bmN0aW9uIEx6KHQsZSxuLGkscil7dmFyIG89ZSYmZS5wYWludGVyO2lmKG4pe3ZhciBhPW8mJm8uZ2V0Vmlld3BvcnRSb290KCk7YSYmZnVuY3Rpb24odCxlLG4saSxyKXtZdChYdCxlLGksciwhMCkmJll0KHQsbixYdFswXSxYdFsxXSl9KHQsYSxkb2N1bWVudC5ib2R5LGkscil9ZWxzZXt0WzBdPWksdFsxXT1yO3ZhciBzPW8mJm8uZ2V0Vmlld3BvcnRSb290T2Zmc2V0KCk7cyYmKHRbMF0rPXMub2Zmc2V0TGVmdCx0WzFdKz1zLm9mZnNldFRvcCl9dFsyXT10WzBdL2UuZ2V0V2lkdGgoKSx0WzNdPXRbMV0vZS5nZXRIZWlnaHQoKX12YXIgUHo9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXtpZih0aGlzLl9zaG93PSExLHRoaXMuX3N0eWxlQ29vcmQ9WzAsMCwwLDBdLHRoaXMuX2VudGVyYWJsZT0hMCx0aGlzLl9maXJzdFNob3c9ITAsdGhpcy5fbG9uZ0hpZGU9ITAsYS53eGEpcmV0dXJuIG51bGw7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7aS5kb21CZWxvbmdUb1pyPSEwLHRoaXMuZWw9aTt2YXIgcj10aGlzLl96cj1lLmdldFpyKCksbz10aGlzLl9hcHBlbmRUb0JvZHk9biYmbi5hcHBlbmRUb0JvZHk7THoodGhpcy5fc3R5bGVDb29yZCxyLG8sZS5nZXRXaWR0aCgpLzIsZS5nZXRIZWlnaHQoKS8yKSxvP2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaSk6dC5hcHBlbmRDaGlsZChpKSx0aGlzLl9jb250YWluZXI9dDt2YXIgcz10aGlzO2kub25tb3VzZWVudGVyPWZ1bmN0aW9uKCl7cy5fZW50ZXJhYmxlJiYoY2xlYXJUaW1lb3V0KHMuX2hpZGVUaW1lb3V0KSxzLl9zaG93PSEwKSxzLl9pbkNvbnRlbnQ9ITB9LGkub25tb3VzZW1vdmU9ZnVuY3Rpb24odCl7aWYodD10fHx3aW5kb3cuZXZlbnQsIXMuX2VudGVyYWJsZSl7dmFyIGU9ci5oYW5kbGVyO3RlKHIucGFpbnRlci5nZXRWaWV3cG9ydFJvb3QoKSx0LCEwKSxlLmRpc3BhdGNoKCJtb3VzZW1vdmUiLHQpfX0saS5vbm1vdXNlbGVhdmU9ZnVuY3Rpb24oKXtzLl9pbkNvbnRlbnQ9ITEscy5fZW50ZXJhYmxlJiZzLl9zaG93JiZzLmhpZGVMYXRlcihzLl9oaWRlRGVsYXkpfX1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3ZhciBlLG4saSxyPXRoaXMuX2NvbnRhaW5lcixvPShuPSJwb3NpdGlvbiIsKGk9KGU9cikuY3VycmVudFN0eWxlfHxkb2N1bWVudC5kZWZhdWx0VmlldyYmZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlKSk/bj9pW25dOmk6bnVsbCksYT1yLnN0eWxlOyJhYnNvbHV0ZSIhPT1hLnBvc2l0aW9uJiYiYWJzb2x1dGUiIT09byYmKGEucG9zaXRpb249InJlbGF0aXZlIiksdC5nZXQoImFsd2F5c1Nob3dDb250ZW50IikmJnRoaXMuX21vdmVJZlJlc2l6ZWQoKSx0aGlzLmVsLmNsYXNzTmFtZT10LmdldCgiY2xhc3NOYW1lIil8fCIifSx0LnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKHQsZSl7Y2xlYXJUaW1lb3V0KHRoaXMuX2hpZGVUaW1lb3V0KSxjbGVhclRpbWVvdXQodGhpcy5fbG9uZ0hpZGVUaW1lb3V0KTt2YXIgbj10aGlzLmVsLGk9bi5zdHlsZSxyPXRoaXMuX3N0eWxlQ29vcmQ7bi5pbm5lckhUTUw/aS5jc3NUZXh0PUR6K2t6KHQsIXRoaXMuX2ZpcnN0U2hvdyx0aGlzLl9sb25nSGlkZSkrQXooclswXSxyWzFdLCEwKSsiYm9yZGVyLWNvbG9yOiIrSGMoZSkrIjsiKyh0LmdldCgiZXh0cmFDc3NUZXh0Iil8fCIiKSsiO3BvaW50ZXItZXZlbnRzOiIrKHRoaXMuX2VudGVyYWJsZT8iYXV0byI6Im5vbmUiKTppLmRpc3BsYXk9Im5vbmUiLHRoaXMuX3Nob3c9ITAsdGhpcy5fZmlyc3RTaG93PSExLHRoaXMuX2xvbmdIaWRlPSExfSx0LnByb3RvdHlwZS5zZXRDb250ZW50PWZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89dGhpcy5lbDtpZihudWxsIT10KXt2YXIgYT0iIjtpZihXKHIpJiYiaXRlbSI9PT1uLmdldCgidHJpZ2dlciIpJiYhd3oobikmJihhPWZ1bmN0aW9uKHQsZSxuKXtpZighVyhuKXx8Imluc2lkZSI9PT1uKXJldHVybiIiO3ZhciBpPXQuZ2V0KCJiYWNrZ3JvdW5kQ29sb3IiKSxyPXQuZ2V0KCJib3JkZXJXaWR0aCIpO2U9SGMoZSk7dmFyIG8sYSxzPSJsZWZ0Ij09PShvPW4pPyJyaWdodCI6InJpZ2h0Ij09PW8/ImxlZnQiOiJ0b3AiPT09bz8iYm90dG9tIjoidG9wIixsPU1hdGgubWF4KDEuNSpNYXRoLnJvdW5kKHIpLDYpLHU9IiIsaD1DeisiOiI7QShbImxlZnQiLCJyaWdodCJdLHMpPi0xPyh1Kz0idG9wOjUwJSIsaCs9InRyYW5zbGF0ZVkoLTUwJSkgcm90YXRlKCIrKGE9ImxlZnQiPT09cz8tMjI1Oi00NSkrImRlZykiKToodSs9ImxlZnQ6NTAlIixoKz0idHJhbnNsYXRlWCgtNTAlKSByb3RhdGUoIisoYT0idG9wIj09PXM/MjI1OjQ1KSsiZGVnKSIpO3ZhciBjPWEqTWF0aC5QSS8xODAscD1sK3IsZD1wKk1hdGguYWJzKE1hdGguY29zKGMpKStwKk1hdGguYWJzKE1hdGguc2luKGMpKSxmPWUrIiBzb2xpZCAiK3IrInB4OyI7cmV0dXJuJzxkaXYgc3R5bGU9IicrWyJwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoiK2wrInB4O2hlaWdodDoiK2wrInB4OyIsKHUrPSI7IitzKyI6LSIrTWF0aC5yb3VuZCgxMDAqKChkLU1hdGguU1FSVDIqcikvMitNYXRoLlNRUlQyKnItKGQtcCkvMikpLzEwMCsicHgiKSsiOyIraCsiOyIsImJvcmRlci1ib3R0b206IitmLCJib3JkZXItcmlnaHQ6IitmLCJiYWNrZ3JvdW5kLWNvbG9yOiIraSsiOyJdLmpvaW4oIiIpKyciPjwvZGl2Pid9KG4saSxyKSksVyh0KSlvLmlubmVySFRNTD10K2E7ZWxzZSBpZih0KXtvLmlubmVySFRNTD0iIixGKHQpfHwodD1bdF0pO2Zvcih2YXIgcz0wO3M8dC5sZW5ndGg7cysrKXEodFtzXSkmJnRbc10ucGFyZW50Tm9kZSE9PW8mJm8uYXBwZW5kQ2hpbGQodFtzXSk7aWYoYSYmby5jaGlsZE5vZGVzLmxlbmd0aCl7dmFyIGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5pbm5lckhUTUw9YSxvLmFwcGVuZENoaWxkKGwpfX19ZWxzZSBvLmlubmVySFRNTD0iIn0sdC5wcm90b3R5cGUuc2V0RW50ZXJhYmxlPWZ1bmN0aW9uKHQpe3RoaXMuX2VudGVyYWJsZT10fSx0LnByb3RvdHlwZS5nZXRTaXplPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbDtyZXR1cm5bdC5vZmZzZXRXaWR0aCx0Lm9mZnNldEhlaWdodF19LHQucHJvdG90eXBlLm1vdmVUbz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX3N0eWxlQ29vcmQ7aWYoTHoobix0aGlzLl96cix0aGlzLl9hcHBlbmRUb0JvZHksdCxlKSxudWxsIT1uWzBdJiZudWxsIT1uWzFdKXt2YXIgaT10aGlzLmVsLnN0eWxlO08oQXooblswXSxuWzFdKSwoZnVuY3Rpb24odCl7aVt0WzBdXT10WzFdfSkpfX0sdC5wcm90b3R5cGUuX21vdmVJZlJlc2l6ZWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zdHlsZUNvb3JkWzJdLGU9dGhpcy5fc3R5bGVDb29yZFszXTt0aGlzLm1vdmVUbyh0KnRoaXMuX3pyLmdldFdpZHRoKCksZSp0aGlzLl96ci5nZXRIZWlnaHQoKSl9LHQucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5lbC5zdHlsZTtlLnZpc2liaWxpdHk9ImhpZGRlbiIsZS5vcGFjaXR5PSIwIixhLnRyYW5zZm9ybTNkU3VwcG9ydGVkJiYoZS53aWxsQ2hhbmdlPSIiKSx0aGlzLl9zaG93PSExLHRoaXMuX2xvbmdIaWRlVGltZW91dD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB0Ll9sb25nSGlkZT0hMH0pLDUwMCl9LHQucHJvdG90eXBlLmhpZGVMYXRlcj1mdW5jdGlvbih0KXshdGhpcy5fc2hvd3x8dGhpcy5faW5Db250ZW50JiZ0aGlzLl9lbnRlcmFibGV8fCh0Pyh0aGlzLl9oaWRlRGVsYXk9dCx0aGlzLl9zaG93PSExLHRoaXMuX2hpZGVUaW1lb3V0PXNldFRpbWVvdXQoQih0aGlzLmhpZGUsdGhpcyksdCkpOnRoaXMuaGlkZSgpKX0sdC5wcm90b3R5cGUuaXNTaG93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Nob3d9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbCl9LHR9KCksT3o9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3Nob3c9ITEsdGhpcy5fc3R5bGVDb29yZD1bMCwwLDAsMF0sdGhpcy5fZW50ZXJhYmxlPSEwLHRoaXMuX3pyPXQuZ2V0WnIoKSx6eih0aGlzLl9zdHlsZUNvb3JkLHRoaXMuX3pyLHQuZ2V0V2lkdGgoKS8yLHQuZ2V0SGVpZ2h0KCkvMil9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt0LmdldCgiYWx3YXlzU2hvd0NvbnRlbnQiKSYmdGhpcy5fbW92ZUlmUmVzaXplZCgpfSx0LnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dGhpcy5faGlkZVRpbWVvdXQmJmNsZWFyVGltZW91dCh0aGlzLl9oaWRlVGltZW91dCksdGhpcy5lbC5zaG93KCksdGhpcy5fc2hvdz0hMH0sdC5wcm90b3R5cGUuc2V0Q29udGVudD1mdW5jdGlvbih0LGUsbixpLHIpe1kodCkmJl9yKCIiKSx0aGlzLmVsJiZ0aGlzLl96ci5yZW1vdmUodGhpcy5lbCk7dmFyIG89bi5nZXRNb2RlbCgidGV4dFN0eWxlIik7dGhpcy5lbD1uZXcgZnMoe3N0eWxlOntyaWNoOmUucmljaFRleHRTdHlsZXMsdGV4dDp0LGxpbmVIZWlnaHQ6MjIsYmFja2dyb3VuZENvbG9yOm4uZ2V0KCJiYWNrZ3JvdW5kQ29sb3IiKSxib3JkZXJSYWRpdXM6bi5nZXQoImJvcmRlclJhZGl1cyIpLGJvcmRlcldpZHRoOjEsYm9yZGVyQ29sb3I6aSxzaGFkb3dDb2xvcjpuLmdldCgic2hhZG93Q29sb3IiKSxzaGFkb3dCbHVyOm4uZ2V0KCJzaGFkb3dCbHVyIiksc2hhZG93T2Zmc2V0WDpuLmdldCgic2hhZG93T2Zmc2V0WCIpLHNoYWRvd09mZnNldFk6bi5nZXQoInNoYWRvd09mZnNldFkiKSx0ZXh0U2hhZG93Q29sb3I6by5nZXQoInRleHRTaGFkb3dDb2xvciIpLHRleHRTaGFkb3dCbHVyOm8uZ2V0KCJ0ZXh0U2hhZG93Qmx1ciIpfHwwLHRleHRTaGFkb3dPZmZzZXRYOm8uZ2V0KCJ0ZXh0U2hhZG93T2Zmc2V0WCIpfHwwLHRleHRTaGFkb3dPZmZzZXRZOm8uZ2V0KCJ0ZXh0U2hhZG93T2Zmc2V0WSIpfHwwLGZpbGw6bi5nZXQoWyJ0ZXh0U3R5bGUiLCJjb2xvciJdKSxwYWRkaW5nOmtmKG4sInJpY2hUZXh0IiksdmVydGljYWxBbGlnbjoidG9wIixhbGlnbjoibGVmdCJ9LHo6bi5nZXQoInoiKX0pLHRoaXMuX3pyLmFkZCh0aGlzLmVsKTt2YXIgYT10aGlzO3RoaXMuZWwub24oIm1vdXNlb3ZlciIsKGZ1bmN0aW9uKCl7YS5fZW50ZXJhYmxlJiYoY2xlYXJUaW1lb3V0KGEuX2hpZGVUaW1lb3V0KSxhLl9zaG93PSEwKSxhLl9pbkNvbnRlbnQ9ITB9KSksdGhpcy5lbC5vbigibW91c2VvdXQiLChmdW5jdGlvbigpe2EuX2VudGVyYWJsZSYmYS5fc2hvdyYmYS5oaWRlTGF0ZXIoYS5faGlkZURlbGF5KSxhLl9pbkNvbnRlbnQ9ITF9KSl9LHQucHJvdG90eXBlLnNldEVudGVyYWJsZT1mdW5jdGlvbih0KXt0aGlzLl9lbnRlcmFibGU9dH0sdC5wcm90b3R5cGUuZ2V0U2l6ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZWwsZT10aGlzLmVsLmdldEJvdW5kaW5nUmVjdCgpLG49TnoodC5zdHlsZSk7cmV0dXJuW2Uud2lkdGgrbi5sZWZ0K24ucmlnaHQsZS5oZWlnaHQrbi50b3Arbi5ib3R0b21dfSx0LnByb3RvdHlwZS5tb3ZlVG89ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmVsO2lmKG4pe3ZhciBpPXRoaXMuX3N0eWxlQ29vcmQ7enooaSx0aGlzLl96cix0LGUpLHQ9aVswXSxlPWlbMV07dmFyIHI9bi5zdHlsZSxvPVJ6KHIuYm9yZGVyV2lkdGh8fDApLGE9Tnoocik7bi54PXQrbythLmxlZnQsbi55PWUrbythLnRvcCxuLm1hcmtSZWRyYXcoKX19LHQucHJvdG90eXBlLl9tb3ZlSWZSZXNpemVkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc3R5bGVDb29yZFsyXSxlPXRoaXMuX3N0eWxlQ29vcmRbM107dGhpcy5tb3ZlVG8odCp0aGlzLl96ci5nZXRXaWR0aCgpLGUqdGhpcy5fenIuZ2V0SGVpZ2h0KCkpfSx0LnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7dGhpcy5lbCYmdGhpcy5lbC5oaWRlKCksdGhpcy5fc2hvdz0hMX0sdC5wcm90b3R5cGUuaGlkZUxhdGVyPWZ1bmN0aW9uKHQpeyF0aGlzLl9zaG93fHx0aGlzLl9pbkNvbnRlbnQmJnRoaXMuX2VudGVyYWJsZXx8KHQ/KHRoaXMuX2hpZGVEZWxheT10LHRoaXMuX3Nob3c9ITEsdGhpcy5faGlkZVRpbWVvdXQ9c2V0VGltZW91dChCKHRoaXMuaGlkZSx0aGlzKSx0KSk6dGhpcy5oaWRlKCkpfSx0LnByb3RvdHlwZS5pc1Nob3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hvd30sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX3pyLnJlbW92ZSh0aGlzLmVsKX0sdH0oKTtmdW5jdGlvbiBSeih0KXtyZXR1cm4gTWF0aC5tYXgoMCx0KX1mdW5jdGlvbiBOeih0KXt2YXIgZT1Seih0LnNoYWRvd0JsdXJ8fDApLG49UnoodC5zaGFkb3dPZmZzZXRYfHwwKSxpPVJ6KHQuc2hhZG93T2Zmc2V0WXx8MCk7cmV0dXJue2xlZnQ6UnooZS1uKSxyaWdodDpSeihlK24pLHRvcDpSeihlLWkpLGJvdHRvbTpSeihlK2kpfX1mdW5jdGlvbiB6eih0LGUsbixpKXt0WzBdPW4sdFsxXT1pLHRbMl09dFswXS9lLmdldFdpZHRoKCksdFszXT10WzFdL2UuZ2V0SGVpZ2h0KCl9dmFyIEV6PUIsVno9TyxCej1xaSxHej1uZXcgY3Moe3NoYXBlOnt4Oi0xLHk6LTEsd2lkdGg6MixoZWlnaHQ6Mn19KSxGej1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSl7aWYoIWEubm9kZSl7dmFyIG4saT10LmdldENvbXBvbmVudCgidG9vbHRpcCIpLHI9aS5nZXQoInJlbmRlck1vZGUiKTt0aGlzLl9yZW5kZXJNb2RlPSJhdXRvIj09PShuPXIpP2EuZG9tU3VwcG9ydGVkPyJodG1sIjoicmljaFRleHQiOm58fCJodG1sIix0aGlzLl90b29sdGlwQ29udGVudD0icmljaFRleHQiPT09dGhpcy5fcmVuZGVyTW9kZT9uZXcgT3ooZSk6bmV3IFB6KGUuZ2V0RG9tKCksZSx7YXBwZW5kVG9Cb2R5OmkuZ2V0KCJhcHBlbmRUb0JvZHkiLCEwKX0pfX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXtpZighYS5ub2RlKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpLHRoaXMuX3Rvb2x0aXBNb2RlbD10LHRoaXMuX2VjTW9kZWw9ZSx0aGlzLl9hcGk9bix0aGlzLl9hbHdheXNTaG93Q29udGVudD10LmdldCgiYWx3YXlzU2hvd0NvbnRlbnQiKTt2YXIgaT10aGlzLl90b29sdGlwQ29udGVudDtpLnVwZGF0ZSh0KSxpLnNldEVudGVyYWJsZSh0LmdldCgiZW50ZXJhYmxlIikpLHRoaXMuX2luaXRHbG9iYWxMaXN0ZW5lcigpLHRoaXMuX2tlZXBTaG93KCksdGhpcy5fdXBkYXRlUG9zaXRpb249Imh0bWwiPT09dGhpcy5fcmVuZGVyTW9kZT9uZyhFeih0aGlzLl9kb1VwZGF0ZVBvc2l0aW9uLHRoaXMpLDUwKTp0aGlzLl9kb1VwZGF0ZVBvc2l0aW9ufX0sZS5wcm90b3R5cGUuX2luaXRHbG9iYWxMaXN0ZW5lcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3Rvb2x0aXBNb2RlbC5nZXQoInRyaWdnZXJPbiIpO1lPKCJpdGVtVG9vbHRpcCIsdGhpcy5fYXBpLEV6KChmdW5jdGlvbihlLG4saSl7Im5vbmUiIT09dCYmKHQuaW5kZXhPZihlKT49MD90aGlzLl90cnlTaG93KG4saSk6ImxlYXZlIj09PWUmJnRoaXMuX2hpZGUoaSkpfSksdGhpcykpfSxlLnByb3RvdHlwZS5fa2VlcFNob3c9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90b29sdGlwTW9kZWwsZT10aGlzLl9lY01vZGVsLG49dGhpcy5fYXBpO2lmKG51bGwhPXRoaXMuX2xhc3RYJiZudWxsIT10aGlzLl9sYXN0WSYmIm5vbmUiIT09dC5nZXQoInRyaWdnZXJPbiIpKXt2YXIgaT10aGlzO2NsZWFyVGltZW91dCh0aGlzLl9yZWZyZXNoVXBkYXRlVGltZW91dCksdGhpcy5fcmVmcmVzaFVwZGF0ZVRpbWVvdXQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXshbi5pc0Rpc3Bvc2VkKCkmJmkubWFudWFsbHlTaG93VGlwKHQsZSxuLHt4OmkuX2xhc3RYLHk6aS5fbGFzdFksZGF0YUJ5Q29vcmRTeXM6aS5fbGFzdERhdGFCeUNvb3JkU3lzfSl9KSl9fSxlLnByb3RvdHlwZS5tYW51YWxseVNob3dUaXA9ZnVuY3Rpb24odCxlLG4saSl7aWYoaS5mcm9tIT09dGhpcy51aWQmJiFhLm5vZGUpe3ZhciByPVd6KGksbik7dGhpcy5fdGlja2V0PSIiO3ZhciBvPWkuZGF0YUJ5Q29vcmRTeXMscz1mdW5jdGlvbih0LGUsbil7dmFyIGk9RXIodCkucXVlcnlPcHRpb25NYXAscj1pLmtleXMoKVswXTtpZighcnx8InNlcmllcyI9PT1yKXJldHVybjt2YXIgbyxhPUdyKGUscixpLmdldChyKSx7dXNlRGVmYXVsdDohMSxlbmFibGVBbGw6ITEsZW5hYmxlTm9uZTohMX0pLm1vZGVsc1swXTtpZighYSlyZXR1cm47aWYobi5nZXRWaWV3T2ZDb21wb25lbnRNb2RlbChhKS5ncm91cC50cmF2ZXJzZSgoZnVuY3Rpb24oZSl7dmFyIG49U3MoZSkudG9vbHRpcENvbmZpZztpZihuJiZuLm5hbWU9PT10Lm5hbWUpcmV0dXJuIG89ZSwhMH0pKSxvKXJldHVybntjb21wb25lbnRNYWluVHlwZTpyLGNvbXBvbmVudEluZGV4OmEuY29tcG9uZW50SW5kZXgsZWw6b319KGksZSxuKTtpZihzKXt2YXIgbD1zLmVsLmdldEJvdW5kaW5nUmVjdCgpLmNsb25lKCk7bC5hcHBseVRyYW5zZm9ybShzLmVsLnRyYW5zZm9ybSksdGhpcy5fdHJ5U2hvdyh7b2Zmc2V0WDpsLngrbC53aWR0aC8yLG9mZnNldFk6bC55K2wuaGVpZ2h0LzIsdGFyZ2V0OnMuZWwscG9zaXRpb246aS5wb3NpdGlvbixwb3NpdGlvbkRlZmF1bHQ6ImJvdHRvbSJ9LHIpfWVsc2UgaWYoaS50b29sdGlwJiZudWxsIT1pLngmJm51bGwhPWkueSl7dmFyIHU9R3o7dS54PWkueCx1Lnk9aS55LHUudXBkYXRlKCksU3ModSkudG9vbHRpcENvbmZpZz17bmFtZTpudWxsLG9wdGlvbjppLnRvb2x0aXB9LHRoaXMuX3RyeVNob3coe29mZnNldFg6aS54LG9mZnNldFk6aS55LHRhcmdldDp1fSxyKX1lbHNlIGlmKG8pdGhpcy5fdHJ5U2hvdyh7b2Zmc2V0WDppLngsb2Zmc2V0WTppLnkscG9zaXRpb246aS5wb3NpdGlvbixkYXRhQnlDb29yZFN5czpvLHRvb2x0aXBPcHRpb246aS50b29sdGlwT3B0aW9ufSxyKTtlbHNlIGlmKG51bGwhPWkuc2VyaWVzSW5kZXgpe2lmKHRoaXMuX21hbnVhbGx5QXhpc1Nob3dUaXAodCxlLG4saSkpcmV0dXJuO3ZhciBoPSRPKGksZSksYz1oLnBvaW50WzBdLHA9aC5wb2ludFsxXTtudWxsIT1jJiZudWxsIT1wJiZ0aGlzLl90cnlTaG93KHtvZmZzZXRYOmMsb2Zmc2V0WTpwLHRhcmdldDpoLmVsLHBvc2l0aW9uOmkucG9zaXRpb24scG9zaXRpb25EZWZhdWx0OiJib3R0b20ifSxyKX1lbHNlIG51bGwhPWkueCYmbnVsbCE9aS55JiYobi5kaXNwYXRjaEFjdGlvbih7dHlwZToidXBkYXRlQXhpc1BvaW50ZXIiLHg6aS54LHk6aS55fSksdGhpcy5fdHJ5U2hvdyh7b2Zmc2V0WDppLngsb2Zmc2V0WTppLnkscG9zaXRpb246aS5wb3NpdGlvbix0YXJnZXQ6bi5nZXRacigpLmZpbmRIb3ZlcihpLngsaS55KS50YXJnZXR9LHIpKX19LGUucHJvdG90eXBlLm1hbnVhbGx5SGlkZVRpcD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzLl90b29sdGlwQ29udGVudDshdGhpcy5fYWx3YXlzU2hvd0NvbnRlbnQmJnRoaXMuX3Rvb2x0aXBNb2RlbCYmci5oaWRlTGF0ZXIodGhpcy5fdG9vbHRpcE1vZGVsLmdldCgiaGlkZURlbGF5IikpLHRoaXMuX2xhc3RYPXRoaXMuX2xhc3RZPXRoaXMuX2xhc3REYXRhQnlDb29yZFN5cz1udWxsLGkuZnJvbSE9PXRoaXMudWlkJiZ0aGlzLl9oaWRlKFd6KGksbikpfSxlLnByb3RvdHlwZS5fbWFudWFsbHlBeGlzU2hvd1RpcD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1pLnNlcmllc0luZGV4LG89aS5kYXRhSW5kZXgsYT1lLmdldENvbXBvbmVudCgiYXhpc1BvaW50ZXIiKS5jb29yZFN5c0F4ZXNJbmZvO2lmKG51bGwhPXImJm51bGwhPW8mJm51bGwhPWEpe3ZhciBzPWUuZ2V0U2VyaWVzQnlJbmRleChyKTtpZihzKWlmKCJheGlzIj09PUh6KFtzLmdldERhdGEoKS5nZXRJdGVtTW9kZWwobykscywocy5jb29yZGluYXRlU3lzdGVtfHx7fSkubW9kZWxdLHRoaXMuX3Rvb2x0aXBNb2RlbCkuZ2V0KCJ0cmlnZ2VyIikpcmV0dXJuIG4uZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InVwZGF0ZUF4aXNQb2ludGVyIixzZXJpZXNJbmRleDpyLGRhdGFJbmRleDpvLHBvc2l0aW9uOmkucG9zaXRpb259KSwhMH19LGUucHJvdG90eXBlLl90cnlTaG93PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC50YXJnZXQ7aWYodGhpcy5fdG9vbHRpcE1vZGVsKXt0aGlzLl9sYXN0WD10Lm9mZnNldFgsdGhpcy5fbGFzdFk9dC5vZmZzZXRZO3ZhciBpPXQuZGF0YUJ5Q29vcmRTeXM7aWYoaSYmaS5sZW5ndGgpdGhpcy5fc2hvd0F4aXNUb29sdGlwKGksdCk7ZWxzZSBpZihuKXt2YXIgcixvO3RoaXMuX2xhc3REYXRhQnlDb29yZFN5cz1udWxsLFdnKG4sKGZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT1Tcyh0KS5kYXRhSW5kZXg/KHI9dCwhMCk6bnVsbCE9U3ModCkudG9vbHRpcENvbmZpZz8obz10LCEwKTp2b2lkIDB9KSwhMCkscj90aGlzLl9zaG93U2VyaWVzSXRlbVRvb2x0aXAodCxyLGUpOm8/dGhpcy5fc2hvd0NvbXBvbmVudEl0ZW1Ub29sdGlwKHQsbyxlKTp0aGlzLl9oaWRlKGUpfWVsc2UgdGhpcy5fbGFzdERhdGFCeUNvb3JkU3lzPW51bGwsdGhpcy5faGlkZShlKX19LGUucHJvdG90eXBlLl9zaG93T3JNb3ZlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXQoInNob3dEZWxheSIpO2U9QihlLHRoaXMpLGNsZWFyVGltZW91dCh0aGlzLl9zaG93VGltb3V0KSxuPjA/dGhpcy5fc2hvd1RpbW91dD1zZXRUaW1lb3V0KGUsbik6ZSgpfSxlLnByb3RvdHlwZS5fc2hvd0F4aXNUb29sdGlwPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fZWNNb2RlbCxpPXRoaXMuX3Rvb2x0aXBNb2RlbCxyPVtlLm9mZnNldFgsZS5vZmZzZXRZXSxvPUh6KFtlLnRvb2x0aXBPcHRpb25dLGkpLGE9dGhpcy5fcmVuZGVyTW9kZSxzPVtdLGw9d2YoInNlY3Rpb24iLHtibG9ja3M6W10sbm9IZWFkZXI6ITB9KSx1PVtdLGg9bmV3IExmO1Z6KHQsKGZ1bmN0aW9uKHQpe1Z6KHQuZGF0YUJ5QXhpcywoZnVuY3Rpb24odCl7dmFyIGU9bi5nZXRDb21wb25lbnQodC5heGlzRGltKyJBeGlzIix0LmF4aXNJbmRleCksaT10LnZhbHVlO2lmKGUmJm51bGwhPWkpe3ZhciByPU9PKGksZS5heGlzLG4sdC5zZXJpZXNEYXRhSW5kaWNlcyx0LnZhbHVlTGFiZWxPcHQpLG89d2YoInNlY3Rpb24iLHtoZWFkZXI6cixub0hlYWRlcjohYXQociksc29ydEJsb2NrczohMCxibG9ja3M6W119KTtsLmJsb2Nrcy5wdXNoKG8pLE8odC5zZXJpZXNEYXRhSW5kaWNlcywoZnVuY3Rpb24obCl7dmFyIGM9bi5nZXRTZXJpZXNCeUluZGV4KGwuc2VyaWVzSW5kZXgpLHA9bC5kYXRhSW5kZXhJbnNpZGUsZD1jLmdldERhdGFQYXJhbXMocCk7aWYoIShkLmRhdGFJbmRleDwwKSl7ZC5heGlzRGltPXQuYXhpc0RpbSxkLmF4aXNJbmRleD10LmF4aXNJbmRleCxkLmF4aXNUeXBlPXQuYXhpc1R5cGUsZC5heGlzSWQ9dC5heGlzSWQsZC5heGlzVmFsdWU9X3goZS5heGlzLHt2YWx1ZTppfSksZC5heGlzVmFsdWVMYWJlbD1yLGQubWFya2VyPWgubWFrZVRvb2x0aXBNYXJrZXIoIml0ZW0iLEhjKGQuY29sb3IpLGEpO3ZhciBmPVZkKGMuZm9ybWF0VG9vbHRpcChwLCEwLG51bGwpKTtmLm1hcmt1cEZyYWdtZW50JiZvLmJsb2Nrcy5wdXNoKGYubWFya3VwRnJhZ21lbnQpLGYubWFya3VwVGV4dCYmdS5wdXNoKGYubWFya3VwVGV4dCkscy5wdXNoKGQpfX0pKX19KSl9KSksbC5ibG9ja3MucmV2ZXJzZSgpLHUucmV2ZXJzZSgpO3ZhciBjPWUucG9zaXRpb24scD1vLmdldCgib3JkZXIiKSxkPUlmKGwsaCxhLHAsbi5nZXQoInVzZVVUQyIpLG8uZ2V0KCJ0ZXh0U3R5bGUiKSk7ZCYmdS51bnNoaWZ0KGQpO3ZhciBmPSJyaWNoVGV4dCI9PT1hPyJcblxuIjoiPGJyLz4iLGc9dS5qb2luKGYpO3RoaXMuX3Nob3dPck1vdmUobywoZnVuY3Rpb24oKXt0aGlzLl91cGRhdGVDb250ZW50Tm90Q2hhbmdlZE9uQXhpcyh0LHMpP3RoaXMuX3VwZGF0ZVBvc2l0aW9uKG8sYyxyWzBdLHJbMV0sdGhpcy5fdG9vbHRpcENvbnRlbnQscyk6dGhpcy5fc2hvd1Rvb2x0aXBDb250ZW50KG8sZyxzLE1hdGgucmFuZG9tKCkrIiIsclswXSxyWzFdLGMsbnVsbCxoKX0pKX0sZS5wcm90b3R5cGUuX3Nob3dTZXJpZXNJdGVtVG9vbHRpcD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5fZWNNb2RlbCxyPVNzKGUpLG89ci5zZXJpZXNJbmRleCxhPWkuZ2V0U2VyaWVzQnlJbmRleChvKSxzPXIuZGF0YU1vZGVsfHxhLGw9ci5kYXRhSW5kZXgsdT1yLmRhdGFUeXBlLGg9cy5nZXREYXRhKHUpLGM9dGhpcy5fcmVuZGVyTW9kZSxwPXQucG9zaXRpb25EZWZhdWx0LGQ9SHooW2guZ2V0SXRlbU1vZGVsKGwpLHMsYSYmKGEuY29vcmRpbmF0ZVN5c3RlbXx8e30pLm1vZGVsXSx0aGlzLl90b29sdGlwTW9kZWwscD97cG9zaXRpb246cH06bnVsbCksZj1kLmdldCgidHJpZ2dlciIpO2lmKG51bGw9PWZ8fCJpdGVtIj09PWYpe3ZhciBnPXMuZ2V0RGF0YVBhcmFtcyhsLHUpLHk9bmV3IExmO2cubWFya2VyPXkubWFrZVRvb2x0aXBNYXJrZXIoIml0ZW0iLEhjKGcuY29sb3IpLGMpO3ZhciB2PVZkKHMuZm9ybWF0VG9vbHRpcChsLCExLHUpKSxtPWQuZ2V0KCJvcmRlciIpLF89di5tYXJrdXBGcmFnbWVudD9JZih2Lm1hcmt1cEZyYWdtZW50LHksYyxtLGkuZ2V0KCJ1c2VVVEMiKSxkLmdldCgidGV4dFN0eWxlIikpOnYubWFya3VwVGV4dCx4PSJpdGVtXyIrcy5uYW1lKyJfIitsO3RoaXMuX3Nob3dPck1vdmUoZCwoZnVuY3Rpb24oKXt0aGlzLl9zaG93VG9vbHRpcENvbnRlbnQoZCxfLGcseCx0Lm9mZnNldFgsdC5vZmZzZXRZLHQucG9zaXRpb24sdC50YXJnZXQseSl9KSksbih7dHlwZToic2hvd1RpcCIsZGF0YUluZGV4SW5zaWRlOmwsZGF0YUluZGV4OmguZ2V0UmF3SW5kZXgobCksc2VyaWVzSW5kZXg6byxmcm9tOnRoaXMudWlkfSl9fSxlLnByb3RvdHlwZS5fc2hvd0NvbXBvbmVudEl0ZW1Ub29sdGlwPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1TcyhlKSxyPWkudG9vbHRpcENvbmZpZy5vcHRpb258fHt9O2lmKFcocikpe3I9e2NvbnRlbnQ6cixmb3JtYXR0ZXI6cn19dmFyIG89W3JdLGE9dGhpcy5fZWNNb2RlbC5nZXRDb21wb25lbnQoaS5jb21wb25lbnRNYWluVHlwZSxpLmNvbXBvbmVudEluZGV4KTthJiZvLnB1c2goYSksby5wdXNoKHtmb3JtYXR0ZXI6ci5jb250ZW50fSk7dmFyIHM9dC5wb3NpdGlvbkRlZmF1bHQsbD1IeihvLHRoaXMuX3Rvb2x0aXBNb2RlbCxzP3twb3NpdGlvbjpzfTpudWxsKSx1PWwuZ2V0KCJjb250ZW50IiksaD1NYXRoLnJhbmRvbSgpKyIiLGM9bmV3IExmO3RoaXMuX3Nob3dPck1vdmUobCwoZnVuY3Rpb24oKXt2YXIgbj1TKGwuZ2V0KCJmb3JtYXR0ZXJQYXJhbXMiKXx8e30pO3RoaXMuX3Nob3dUb29sdGlwQ29udGVudChsLHUsbixoLHQub2Zmc2V0WCx0Lm9mZnNldFksdC5wb3NpdGlvbixlLGMpfSkpLG4oe3R5cGU6InNob3dUaXAiLGZyb206dGhpcy51aWR9KX0sZS5wcm90b3R5cGUuX3Nob3dUb29sdGlwQ29udGVudD1mdW5jdGlvbih0LGUsbixpLHIsbyxhLHMsbCl7aWYodGhpcy5fdGlja2V0PSIiLHQuZ2V0KCJzaG93Q29udGVudCIpJiZ0LmdldCgic2hvdyIpKXt2YXIgdT10aGlzLl90b29sdGlwQ29udGVudCxoPXQuZ2V0KCJmb3JtYXR0ZXIiKTthPWF8fHQuZ2V0KCJwb3NpdGlvbiIpO3ZhciBjPWUscD10aGlzLl9nZXROZWFyZXN0UG9pbnQoW3Isb10sbix0LmdldCgidHJpZ2dlciIpLHQuZ2V0KCJib3JkZXJDb2xvciIpKS5jb2xvcjtpZihoKWlmKFcoaCkpe3ZhciBkPXQuZWNNb2RlbC5nZXQoInVzZVVUQyIpLGY9RihuKT9uWzBdOm47Yz1oLGYmJmYuYXhpc1R5cGUmJmYuYXhpc1R5cGUuaW5kZXhPZigidGltZSIpPj0wJiYoYz1mYyhmLmF4aXNWYWx1ZSxjLGQpKSxjPUdjKGMsbiwhMCl9ZWxzZSBpZihIKGgpKXt2YXIgZz1FeigoZnVuY3Rpb24oZSxpKXtlPT09dGhpcy5fdGlja2V0JiYodS5zZXRDb250ZW50KGksbCx0LHAsYSksdGhpcy5fdXBkYXRlUG9zaXRpb24odCxhLHIsbyx1LG4scykpfSksdGhpcyk7dGhpcy5fdGlja2V0PWksYz1oKG4saSxnKX1lbHNlIGM9aDt1LnNldENvbnRlbnQoYyxsLHQscCxhKSx1LnNob3codCxwKSx0aGlzLl91cGRhdGVQb3NpdGlvbih0LGEscixvLHUsbixzKX19LGUucHJvdG90eXBlLl9nZXROZWFyZXN0UG9pbnQ9ZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuImF4aXMiPT09bnx8RihlKT97Y29sb3I6aXx8KCJodG1sIj09PXRoaXMuX3JlbmRlck1vZGU/IiNmZmYiOiJub25lIil9OkYoZSk/dm9pZCAwOntjb2xvcjppfHxlLmNvbG9yfHxlLmJvcmRlckNvbG9yfX0sZS5wcm90b3R5cGUuX2RvVXBkYXRlUG9zaXRpb249ZnVuY3Rpb24odCxlLG4saSxyLG8sYSl7dmFyIHM9dGhpcy5fYXBpLmdldFdpZHRoKCksbD10aGlzLl9hcGkuZ2V0SGVpZ2h0KCk7ZT1lfHx0LmdldCgicG9zaXRpb24iKTt2YXIgdT1yLmdldFNpemUoKSxoPXQuZ2V0KCJhbGlnbiIpLGM9dC5nZXQoInZlcnRpY2FsQWxpZ24iKSxwPWEmJmEuZ2V0Qm91bmRpbmdSZWN0KCkuY2xvbmUoKTtpZihhJiZwLmFwcGx5VHJhbnNmb3JtKGEudHJhbnNmb3JtKSxIKGUpJiYoZT1lKFtuLGldLG8sci5lbCxwLHt2aWV3U2l6ZTpbcyxsXSxjb250ZW50U2l6ZTp1LnNsaWNlKCl9KSksRihlKSluPUJ6KGVbMF0scyksaT1CeihlWzFdLGwpO2Vsc2UgaWYoWShlKSl7dmFyIGQ9ZTtkLndpZHRoPXVbMF0sZC5oZWlnaHQ9dVsxXTt2YXIgZj1xYyhkLHt3aWR0aDpzLGhlaWdodDpsfSk7bj1mLngsaT1mLnksaD1udWxsLGM9bnVsbH1lbHNlIGlmKFcoZSkmJmEpe3ZhciBnPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPW5bMF0sbz1uWzFdLGE9TWF0aC5jZWlsKE1hdGguU1FSVDIqaSkrOCxzPTAsbD0wLHU9ZS53aWR0aCxoPWUuaGVpZ2h0O3N3aXRjaCh0KXtjYXNlImluc2lkZSI6cz1lLngrdS8yLXIvMixsPWUueStoLzItby8yO2JyZWFrO2Nhc2UidG9wIjpzPWUueCt1LzItci8yLGw9ZS55LW8tYTticmVhaztjYXNlImJvdHRvbSI6cz1lLngrdS8yLXIvMixsPWUueStoK2E7YnJlYWs7Y2FzZSJsZWZ0IjpzPWUueC1yLWEsbD1lLnkraC8yLW8vMjticmVhaztjYXNlInJpZ2h0IjpzPWUueCt1K2EsbD1lLnkraC8yLW8vMn1yZXR1cm5bcyxsXX0oZSxwLHUsdC5nZXQoImJvcmRlcldpZHRoIikpO249Z1swXSxpPWdbMV19ZWxzZXtnPWZ1bmN0aW9uKHQsZSxuLGkscixvLGEpe3ZhciBzPW4uZ2V0U2l6ZSgpLGw9c1swXSx1PXNbMV07bnVsbCE9byYmKHQrbCtvKzI+aT90LT1sK286dCs9byk7bnVsbCE9YSYmKGUrdSthPnI/ZS09dSthOmUrPWEpO3JldHVyblt0LGVdfShuLGkscixzLGwsaD9udWxsOjIwLGM/bnVsbDoyMCk7bj1nWzBdLGk9Z1sxXX1pZihoJiYobi09VXooaCk/dVswXS8yOiJyaWdodCI9PT1oP3VbMF06MCksYyYmKGktPVV6KGMpP3VbMV0vMjoiYm90dG9tIj09PWM/dVsxXTowKSx3eih0KSl7Zz1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPW4uZ2V0U2l6ZSgpLGE9b1swXSxzPW9bMV07cmV0dXJuIHQ9TWF0aC5taW4odCthLGkpLWEsZT1NYXRoLm1pbihlK3Msciktcyx0PU1hdGgubWF4KHQsMCksZT1NYXRoLm1heChlLDApLFt0LGVdfShuLGkscixzLGwpO249Z1swXSxpPWdbMV19ci5tb3ZlVG8obixpKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUNvbnRlbnROb3RDaGFuZ2VkT25BeGlzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fbGFzdERhdGFCeUNvb3JkU3lzLGk9dGhpcy5fY2JQYXJhbXNMaXN0LHI9ISFuJiZuLmxlbmd0aD09PXQubGVuZ3RoO3JldHVybiByJiZWeihuLChmdW5jdGlvbihuLG8pe3ZhciBhPW4uZGF0YUJ5QXhpc3x8W10scz0odFtvXXx8e30pLmRhdGFCeUF4aXN8fFtdOyhyPXImJmEubGVuZ3RoPT09cy5sZW5ndGgpJiZWeihhLChmdW5jdGlvbih0LG4pe3ZhciBvPXNbbl18fHt9LGE9dC5zZXJpZXNEYXRhSW5kaWNlc3x8W10sbD1vLnNlcmllc0RhdGFJbmRpY2VzfHxbXTsocj1yJiZ0LnZhbHVlPT09by52YWx1ZSYmdC5heGlzVHlwZT09PW8uYXhpc1R5cGUmJnQuYXhpc0lkPT09by5heGlzSWQmJmEubGVuZ3RoPT09bC5sZW5ndGgpJiZWeihhLChmdW5jdGlvbih0LGUpe3ZhciBuPWxbZV07cj1yJiZ0LnNlcmllc0luZGV4PT09bi5zZXJpZXNJbmRleCYmdC5kYXRhSW5kZXg9PT1uLmRhdGFJbmRleH0pKSxpJiZPKHQuc2VyaWVzRGF0YUluZGljZXMsKGZ1bmN0aW9uKHQpe3ZhciBuPXQuc2VyaWVzSW5kZXgsbz1lW25dLGE9aVtuXTtvJiZhJiZhLmRhdGEhPT1vLmRhdGEmJihyPSExKX0pKX0pKX0pKSx0aGlzLl9sYXN0RGF0YUJ5Q29vcmRTeXM9dCx0aGlzLl9jYlBhcmFtc0xpc3Q9ZSwhIXJ9LGUucHJvdG90eXBlLl9oaWRlPWZ1bmN0aW9uKHQpe3RoaXMuX2xhc3REYXRhQnlDb29yZFN5cz1udWxsLHQoe3R5cGU6ImhpZGVUaXAiLGZyb206dGhpcy51aWR9KX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0LGUpe2Eubm9kZXx8KHRoaXMuX3Rvb2x0aXBDb250ZW50LmRpc3Bvc2UoKSxxTygiaXRlbVRvb2x0aXAiLGUpKX0sZS50eXBlPSJ0b29sdGlwIixlfShXZik7ZnVuY3Rpb24gSHoodCxlLG4pe3ZhciBpLHI9ZS5lY01vZGVsO24/KGk9bmV3IFdoKG4scixyKSxpPW5ldyBXaChlLm9wdGlvbixpLHIpKTppPWU7Zm9yKHZhciBvPXQubGVuZ3RoLTE7bz49MDtvLS0pe3ZhciBhPXRbb107YSYmKGEgaW5zdGFuY2VvZiBXaCYmKGE9YS5nZXQoInRvb2x0aXAiLCEwKSksVyhhKSYmKGE9e2Zvcm1hdHRlcjphfSksYSYmKGk9bmV3IFdoKGEsaSxyKSkpfXJldHVybiBpfWZ1bmN0aW9uIFd6KHQsZSl7cmV0dXJuIHQuZGlzcGF0Y2hBY3Rpb258fEIoZS5kaXNwYXRjaEFjdGlvbixlKX1mdW5jdGlvbiBVeih0KXtyZXR1cm4iY2VudGVyIj09PXR8fCJtaWRkbGUiPT09dH12YXIgWHo9WyJyZWN0IiwicG9seWdvbiIsImtlZXAiLCJjbGVhciJdO2Z1bmN0aW9uIFl6KHQsZSl7dmFyIG49d3IodD90LmJydXNoOltdKTtpZihuLmxlbmd0aCl7dmFyIGk9W107TyhuLChmdW5jdGlvbih0KXt2YXIgZT10Lmhhc093blByb3BlcnR5KCJ0b29sYm94Iik/dC50b29sYm94OltdO2UgaW5zdGFuY2VvZiBBcnJheSYmKGk9aS5jb25jYXQoZSkpfSkpO3ZhciByPXQmJnQudG9vbGJveDtGKHIpJiYocj1yWzBdKSxyfHwocj17ZmVhdHVyZTp7fX0sdC50b29sYm94PVtyXSk7dmFyIG89ci5mZWF0dXJlfHwoci5mZWF0dXJlPXt9KSxhPW8uYnJ1c2h8fChvLmJydXNoPXt9KSxzPWEudHlwZXx8KGEudHlwZT1bXSk7cy5wdXNoLmFwcGx5KHMsaSksZnVuY3Rpb24odCl7dmFyIGU9e307Tyh0LChmdW5jdGlvbih0KXtlW3RdPTF9KSksdC5sZW5ndGg9MCxPKGUsKGZ1bmN0aW9uKGUsbil7dC5wdXNoKG4pfSkpfShzKSxlJiYhcy5sZW5ndGgmJnMucHVzaC5hcHBseShzLFh6KX19dmFyIFp6PU87ZnVuY3Rpb24ganoodCl7aWYodClmb3IodmFyIGUgaW4gdClpZih0Lmhhc093blByb3BlcnR5KGUpKXJldHVybiEwfWZ1bmN0aW9uIHF6KHQsZSxuKXt2YXIgaT17fTtyZXR1cm4gWnooZSwoZnVuY3Rpb24oZSl7dmFyIHIsbz1pW2VdPSgocj1mdW5jdGlvbigpe30pLnByb3RvdHlwZS5fX2hpZGRlbj1yLnByb3RvdHlwZSxuZXcgcik7WnoodFtlXSwoZnVuY3Rpb24odCxpKXtpZihyQy5pc1ZhbGlkVHlwZShpKSl7dmFyIHI9e3R5cGU6aSx2aXN1YWw6dH07biYmbihyLGUpLG9baV09bmV3IHJDKHIpLCJvcGFjaXR5Ij09PWkmJigocj1TKHIpKS50eXBlPSJjb2xvckFscGhhIixvLl9faGlkZGVuLl9fYWxwaGFGb3JPcGFjaXR5PW5ldyByQyhyKSl9fSkpfSkpLGl9ZnVuY3Rpb24gS3oodCxlLG4pe3ZhciBpO08obiwoZnVuY3Rpb24odCl7ZS5oYXNPd25Qcm9wZXJ0eSh0KSYmanooZVt0XSkmJihpPSEwKX0pKSxpJiZPKG4sKGZ1bmN0aW9uKG4pe2UuaGFzT3duUHJvcGVydHkobikmJmp6KGVbbl0pP3Rbbl09UyhlW25dKTpkZWxldGUgdFtuXX0pKX12YXIgJHo9e2xpbmVYOkp6KDApLGxpbmVZOkp6KDEpLHJlY3Q6e3BvaW50OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdCYmbi5ib3VuZGluZ1JlY3QuY29udGFpbih0WzBdLHRbMV0pfSxyZWN0OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdCYmbi5ib3VuZGluZ1JlY3QuaW50ZXJzZWN0KHQpfX0scG9seWdvbjp7cG9pbnQ6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0JiZuLmJvdW5kaW5nUmVjdC5jb250YWluKHRbMF0sdFsxXSkmJlF5KG4ucmFuZ2UsdFswXSx0WzFdKX0scmVjdDpmdW5jdGlvbih0LGUsbil7dmFyIGk9bi5yYW5nZTtpZighdHx8aS5sZW5ndGg8PTEpcmV0dXJuITE7dmFyIHI9dC54LG89dC55LGE9dC53aWR0aCxzPXQuaGVpZ2h0LGw9aVswXTtyZXR1cm4hIShReShpLHIsbyl8fFF5KGkscithLG8pfHxReShpLHIsbytzKXx8UXkoaSxyK2EsbytzKXx8dmkuY3JlYXRlKHQpLmNvbnRhaW4obFswXSxsWzFdKXx8cGgocixvLHIrYSxvLGkpfHxwaChyLG8scixvK3MsaSl8fHBoKHIrYSxvLHIrYSxvK3MsaSl8fHBoKHIsbytzLHIrYSxvK3MsaSkpfHx2b2lkIDB9fX07ZnVuY3Rpb24gSnoodCl7dmFyIGU9WyJ4IiwieSJdLG49WyJ3aWR0aCIsImhlaWdodCJdO3JldHVybntwb2ludDpmdW5jdGlvbihlLG4saSl7aWYoZSl7dmFyIHI9aS5yYW5nZTtyZXR1cm4gUXooZVt0XSxyKX19LHJlY3Q6ZnVuY3Rpb24oaSxyLG8pe2lmKGkpe3ZhciBhPW8ucmFuZ2Uscz1baVtlW3RdXSxpW2VbdF1dK2lbblt0XV1dO3JldHVybiBzWzFdPHNbMF0mJnMucmV2ZXJzZSgpLFF6KHNbMF0sYSl8fFF6KHNbMV0sYSl8fFF6KGFbMF0scyl8fFF6KGFbMV0scyl9fX19ZnVuY3Rpb24gUXoodCxlKXtyZXR1cm4gZVswXTw9dCYmdDw9ZVsxXX12YXIgdEU9WyJpbkJydXNoIiwib3V0T2ZCcnVzaCJdLGVFPSJfX2VjQnJ1c2hTZWxlY3QiLG5FPSJfX2VjSW5CcnVzaFNlbGVjdEV2ZW50IjtmdW5jdGlvbiBpRSh0KXt0LmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJicnVzaCJ9LChmdW5jdGlvbihlKXsoZS5icnVzaFRhcmdldE1hbmFnZXI9bmV3IGl6KGUub3B0aW9uLHQpKS5zZXRJbnB1dFJhbmdlcyhlLmFyZWFzLHQpfSkpfWZ1bmN0aW9uIHJFKHQsZSxuKXt2YXIgaSxyLG89W107dC5lYWNoQ29tcG9uZW50KHttYWluVHlwZToiYnJ1c2gifSwoZnVuY3Rpb24odCl7biYmInRha2VHbG9iYWxDdXJzb3IiPT09bi50eXBlJiZ0LnNldEJydXNoT3B0aW9uKCJicnVzaCI9PT1uLmtleT9uLmJydXNoT3B0aW9uOnticnVzaFR5cGU6ITF9KX0pKSxpRSh0KSx0LmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJicnVzaCJ9LChmdW5jdGlvbihlLG4pe3ZhciBhPXticnVzaElkOmUuaWQsYnJ1c2hJbmRleDpuLGJydXNoTmFtZTplLm5hbWUsYXJlYXM6UyhlLmFyZWFzKSxzZWxlY3RlZDpbXX07by5wdXNoKGEpO3ZhciBzPWUub3B0aW9uLGw9cy5icnVzaExpbmssdT1bXSxoPVtdLGM9W10scD0hMTtufHwoaT1zLnRocm90dGxlVHlwZSxyPXMudGhyb3R0bGVEZWxheSk7dmFyIGQ9UihlLmFyZWFzLChmdW5jdGlvbih0KXt2YXIgZT1zRVt0LmJydXNoVHlwZV0sbj1DKHtib3VuZGluZ1JlY3Q6ZT9lKHQpOnZvaWQgMH0sdCk7cmV0dXJuIG4uc2VsZWN0b3JzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuYnJ1c2hUeXBlLG49e3BvaW50OmZ1bmN0aW9uKGkpe3JldHVybiAkeltlXS5wb2ludChpLG4sdCl9LHJlY3Q6ZnVuY3Rpb24oaSl7cmV0dXJuICR6W2VdLnJlY3QoaSxuLHQpfX07cmV0dXJuIG59KG4pLG59KSksZj1xeihlLm9wdGlvbix0RSwoZnVuY3Rpb24odCl7dC5tYXBwaW5nTWV0aG9kPSJmaXhlZCJ9KSk7ZnVuY3Rpb24gZyh0KXtyZXR1cm4iYWxsIj09PWx8fCEhdVt0XX1mdW5jdGlvbiB5KHQpe3JldHVybiEhdC5sZW5ndGh9RihsKSYmTyhsLChmdW5jdGlvbih0KXt1W3RdPTF9KSksdC5lYWNoU2VyaWVzKChmdW5jdGlvbihuLGkpe3ZhciByPWNbaV09W107InBhcmFsbGVsIj09PW4uc3ViVHlwZT9mdW5jdGlvbih0LGUpe3ZhciBuPXQuY29vcmRpbmF0ZVN5c3RlbTtwPXB8fG4uaGFzQXhpc0JydXNoZWQoKSxnKGUpJiZuLmVhY2hBY3RpdmVTdGF0ZSh0LmdldERhdGEoKSwoZnVuY3Rpb24odCxlKXsiYWN0aXZlIj09PXQmJihoW2VdPTEpfSkpfShuLGkpOmZ1bmN0aW9uKG4saSxyKXtpZighbi5icnVzaFNlbGVjdG9yfHxmdW5jdGlvbih0LGUpe3ZhciBuPXQub3B0aW9uLnNlcmllc0luZGV4O3JldHVybiBudWxsIT1uJiYiYWxsIiE9PW4mJihGKG4pP0EobixlKTwwOmUhPT1uKX0oZSxpKSlyZXR1cm47aWYoTyhkLChmdW5jdGlvbihpKXtlLmJydXNoVGFyZ2V0TWFuYWdlci5jb250cm9sU2VyaWVzKGksbix0KSYmci5wdXNoKGkpLHA9cHx8eShyKX0pKSxnKGkpJiZ5KHIpKXt2YXIgbz1uLmdldERhdGEoKTtvLmVhY2goKGZ1bmN0aW9uKHQpe2FFKG4scixvLHQpJiYoaFt0XT0xKX0pKX19KG4saSxyKX0pKSx0LmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQsZSl7dmFyIG49e3Nlcmllc0lkOnQuaWQsc2VyaWVzSW5kZXg6ZSxzZXJpZXNOYW1lOnQubmFtZSxkYXRhSW5kZXg6W119O2Euc2VsZWN0ZWQucHVzaChuKTt2YXIgaT1jW2VdLHI9dC5nZXREYXRhKCksbz1nKGUpP2Z1bmN0aW9uKHQpe3JldHVybiBoW3RdPyhuLmRhdGFJbmRleC5wdXNoKHIuZ2V0UmF3SW5kZXgodCkpLCJpbkJydXNoIik6Im91dE9mQnJ1c2gifTpmdW5jdGlvbihlKXtyZXR1cm4gYUUodCxpLHIsZSk/KG4uZGF0YUluZGV4LnB1c2goci5nZXRSYXdJbmRleChlKSksImluQnJ1c2giKToib3V0T2ZCcnVzaCJ9OyhnKGUpP3A6eShpKSkmJmZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYSxzPXt9O2Z1bmN0aW9uIGwodCl7cmV0dXJuIFZnKG4sYSx0KX1mdW5jdGlvbiB1KHQsZSl7R2cobixhLHQsZSl9ZnVuY3Rpb24gaCh0LGgpe2E9bnVsbD09bz90Omg7dmFyIGM9bi5nZXRSYXdEYXRhSXRlbShhKTtpZighY3x8ITEhPT1jLnZpc3VhbE1hcClmb3IodmFyIHA9aS5jYWxsKHIsdCksZD1lW3BdLGY9c1twXSxnPTAseT1mLmxlbmd0aDtnPHk7ZysrKXt2YXIgdj1mW2ddO2Rbdl0mJmRbdl0uYXBwbHlWaXN1YWwodCxsLHUpfX1PKHQsKGZ1bmN0aW9uKHQpe3ZhciBuPXJDLnByZXBhcmVWaXN1YWxUeXBlcyhlW3RdKTtzW3RdPW59KSksbnVsbD09bz9uLmVhY2goaCk6bi5lYWNoKFtvXSxoKX0odEUsZixyLG8pfSkpfSkpLGZ1bmN0aW9uKHQsZSxuLGkscil7aWYoIXIpcmV0dXJuO3ZhciBvPXQuZ2V0WnIoKTtpZihvW25FXSlyZXR1cm47by5fX2VjQnJ1c2hTZWxlY3R8fChvLl9fZWNCcnVzaFNlbGVjdD1vRSk7aWcobyxlRSxuLGUpKHQsaSl9KGUsaSxyLG8sbil9ZnVuY3Rpb24gb0UodCxlKXtpZighdC5pc0Rpc3Bvc2VkKCkpe3ZhciBuPXQuZ2V0WnIoKTtuW25FXT0hMCx0LmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJicnVzaFNlbGVjdCIsYmF0Y2g6ZX0pLG5bbkVdPSExfX1mdW5jdGlvbiBhRSh0LGUsbixpKXtmb3IodmFyIHI9MCxvPWUubGVuZ3RoO3I8bztyKyspe3ZhciBhPWVbcl07aWYodC5icnVzaFNlbGVjdG9yKGksbixhLnNlbGVjdG9ycyxhKSlyZXR1cm4hMH19dmFyIHNFPXtyZWN0OmZ1bmN0aW9uKHQpe3JldHVybiBsRSh0LnJhbmdlKX0scG9seWdvbjpmdW5jdGlvbih0KXtmb3IodmFyIGUsbj10LnJhbmdlLGk9MCxyPW4ubGVuZ3RoO2k8cjtpKyspe2U9ZXx8W1sxLzAsLTEvMF0sWzEvMCwtMS8wXV07dmFyIG89bltpXTtvWzBdPGVbMF1bMF0mJihlWzBdWzBdPW9bMF0pLG9bMF0+ZVswXVsxXSYmKGVbMF1bMV09b1swXSksb1sxXTxlWzFdWzBdJiYoZVsxXVswXT1vWzFdKSxvWzFdPmVbMV1bMV0mJihlWzFdWzFdPW9bMV0pfXJldHVybiBlJiZsRShlKX19O2Z1bmN0aW9uIGxFKHQpe3JldHVybiBuZXcgdmkodFswXVswXSx0WzFdWzBdLHRbMF1bMV0tdFswXVswXSx0WzFdWzFdLXRbMV1bMF0pfXZhciB1RT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSl7dGhpcy5lY01vZGVsPXQsdGhpcy5hcGk9ZSx0aGlzLm1vZGVsLCh0aGlzLl9icnVzaENvbnRyb2xsZXI9bmV3IE5BKGUuZ2V0WnIoKSkpLm9uKCJicnVzaCIsQih0aGlzLl9vbkJydXNoLHRoaXMpKS5tb3VudCgpfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5tb2RlbD10LHRoaXMuX3VwZGF0ZUNvbnRyb2xsZXIodCxlLG4saSl9LGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbih0LGUsbixpKXtpRShlKSx0aGlzLl91cGRhdGVDb250cm9sbGVyKHQsZSxuLGkpfSxlLnByb3RvdHlwZS51cGRhdGVWaXN1YWw9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy51cGRhdGVUcmFuc2Zvcm0odCxlLG4saSl9LGUucHJvdG90eXBlLnVwZGF0ZVZpZXc9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5fdXBkYXRlQ29udHJvbGxlcih0LGUsbixpKX0sZS5wcm90b3R5cGUuX3VwZGF0ZUNvbnRyb2xsZXI9ZnVuY3Rpb24odCxlLG4saSl7KCFpfHxpLiRmcm9tIT09dC5pZCkmJnRoaXMuX2JydXNoQ29udHJvbGxlci5zZXRQYW5lbHModC5icnVzaFRhcmdldE1hbmFnZXIubWFrZVBhbmVsT3B0cyhuKSkuZW5hYmxlQnJ1c2godC5icnVzaE9wdGlvbikudXBkYXRlQ292ZXJzKHQuYXJlYXMuc2xpY2UoKSl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9icnVzaENvbnRyb2xsZXIuZGlzcG9zZSgpfSxlLnByb3RvdHlwZS5fb25CcnVzaD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm1vZGVsLmlkLG49dGhpcy5tb2RlbC5icnVzaFRhcmdldE1hbmFnZXIuc2V0T3V0cHV0UmFuZ2VzKHQuYXJlYXMsdGhpcy5lY01vZGVsKTsoIXQuaXNFbmR8fHQucmVtb3ZlT25DbGljaykmJnRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJicnVzaCIsYnJ1c2hJZDplLGFyZWFzOlMobiksJGZyb206ZX0pLHQuaXNFbmQmJnRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJicnVzaEVuZCIsYnJ1c2hJZDplLGFyZWFzOlMobiksJGZyb206ZX0pfSxlLnR5cGU9ImJydXNoIixlfShXZiksaEU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmFyZWFzPVtdLG4uYnJ1c2hPcHRpb249e30sbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm9wdGlvbjshZSYmS3oobix0LFsiaW5CcnVzaCIsIm91dE9mQnJ1c2giXSk7dmFyIGk9bi5pbkJydXNoPW4uaW5CcnVzaHx8e307bi5vdXRPZkJydXNoPW4ub3V0T2ZCcnVzaHx8e2NvbG9yOiIjZGRkIn0saS5oYXNPd25Qcm9wZXJ0eSgibGlmdFoiKXx8KGkubGlmdFo9NSl9LGUucHJvdG90eXBlLnNldEFyZWFzPWZ1bmN0aW9uKHQpe3QmJih0aGlzLmFyZWFzPVIodCwoZnVuY3Rpb24odCl7cmV0dXJuIGNFKHRoaXMub3B0aW9uLHQpfSksdGhpcykpfSxlLnByb3RvdHlwZS5zZXRCcnVzaE9wdGlvbj1mdW5jdGlvbih0KXt0aGlzLmJydXNoT3B0aW9uPWNFKHRoaXMub3B0aW9uLHQpLHRoaXMuYnJ1c2hUeXBlPXRoaXMuYnJ1c2hPcHRpb24uYnJ1c2hUeXBlfSxlLnR5cGU9ImJydXNoIixlLmRlcGVuZGVuY2llcz1bImdlbyIsImdyaWQiLCJ4QXhpcyIsInlBeGlzIiwicGFyYWxsZWwiLCJzZXJpZXMiXSxlLmRlZmF1bHRPcHRpb249e3Nlcmllc0luZGV4OiJhbGwiLGJydXNoVHlwZToicmVjdCIsYnJ1c2hNb2RlOiJzaW5nbGUiLHRyYW5zZm9ybWFibGU6ITAsYnJ1c2hTdHlsZTp7Ym9yZGVyV2lkdGg6MSxjb2xvcjoicmdiYSgyMTAsMjE5LDIzOCwwLjMpIixib3JkZXJDb2xvcjoiI0QyREJFRSJ9LHRocm90dGxlVHlwZToiZml4UmF0ZSIsdGhyb3R0bGVEZWxheTowLHJlbW92ZU9uQ2xpY2s6ITAsejoxZTR9LGV9KG5wKTtmdW5jdGlvbiBjRSh0LGUpe3JldHVybiBNKHticnVzaFR5cGU6dC5icnVzaFR5cGUsYnJ1c2hNb2RlOnQuYnJ1c2hNb2RlLHRyYW5zZm9ybWFibGU6dC50cmFuc2Zvcm1hYmxlLGJydXNoU3R5bGU6bmV3IFdoKHQuYnJ1c2hTdHlsZSkuZ2V0SXRlbVN0eWxlKCkscmVtb3ZlT25DbGljazp0LnJlbW92ZU9uQ2xpY2ssejp0Lnp9LGUsITApfXZhciBwRT1bInJlY3QiLCJwb2x5Z29uIiwibGluZVgiLCJsaW5lWSIsImtlZXAiLCJjbGVhciJdLGRFPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxyLG87ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToiYnJ1c2gifSwoZnVuY3Rpb24odCl7aT10LmJydXNoVHlwZSxyPXQuYnJ1c2hPcHRpb24uYnJ1c2hNb2RlfHwic2luZ2xlIixvPW98fCEhdC5hcmVhcy5sZW5ndGh9KSksdGhpcy5fYnJ1c2hUeXBlPWksdGhpcy5fYnJ1c2hNb2RlPXIsTyh0LmdldCgidHlwZSIsITApLChmdW5jdGlvbihlKXt0LnNldEljb25TdGF0dXMoZSwoImtlZXAiPT09ZT8ibXVsdGlwbGUiPT09cjoiY2xlYXIiPT09ZT9vOmU9PT1pKT8iZW1waGFzaXMiOiJub3JtYWwiKX0pKX0sZS5wcm90b3R5cGUudXBkYXRlVmlldz1mdW5jdGlvbih0LGUsbil7dGhpcy5yZW5kZXIodCxlLG4pfSxlLnByb3RvdHlwZS5nZXRJY29ucz1mdW5jdGlvbigpe3ZhciB0PXRoaXMubW9kZWwsZT10LmdldCgiaWNvbiIsITApLG49e307cmV0dXJuIE8odC5nZXQoInR5cGUiLCEwKSwoZnVuY3Rpb24odCl7ZVt0XSYmKG5bdF09ZVt0XSl9KSksbn0sZS5wcm90b3R5cGUub25jbGljaz1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5fYnJ1c2hUeXBlLHI9dGhpcy5fYnJ1c2hNb2RlOyJjbGVhciI9PT1uPyhlLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJheGlzQXJlYVNlbGVjdCIsaW50ZXJ2YWxzOltdfSksZS5kaXNwYXRjaEFjdGlvbih7dHlwZToiYnJ1c2giLGNvbW1hbmQ6ImNsZWFyIixhcmVhczpbXX0pKTplLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJ0YWtlR2xvYmFsQ3Vyc29yIixrZXk6ImJydXNoIixicnVzaE9wdGlvbjp7YnJ1c2hUeXBlOiJrZWVwIj09PW4/aTppIT09biYmbixicnVzaE1vZGU6ImtlZXAiPT09bj8ibXVsdGlwbGUiPT09cj8ic2luZ2xlIjoibXVsdGlwbGUiOnJ9fSl9LGUuZ2V0RGVmYXVsdE9wdGlvbj1mdW5jdGlvbih0KXtyZXR1cm57c2hvdzohMCx0eXBlOnBFLnNsaWNlKCksaWNvbjp7cmVjdDoiTTcuMywzNC43IE0wLjQsMTBWLTAuMmg5LjggTTg5LjYsMTBWLTAuMmgtOS44IE0wLjQsNjB2MTAuMmg5LjggTTg5LjYsNjB2MTAuMmgtOS44IE0xMi4zLDIyLjRWMTAuNWgxMy4xIE0zMy42LDEwLjVoNy44IE00OS4xLDEwLjVoNy44IE03Ny41LDIyLjRWMTAuNWgtMTMgTTEyLjMsMzEuMXY4LjIgTTc3LjcsMzEuMXY4LjIgTTEyLjMsNDcuNnYxMS45aDEzLjEgTTMzLjYsNTkuNWg3LjYgTTQ5LjEsNTkuNSBoNy43IE03Ny41LDQ3LjZ2MTEuOWgtMTMiLHBvbHlnb246Ik01NS4yLDM0LjljMS43LDAsMy4xLDEuNCwzLjEsMy4xcy0xLjQsMy4xLTMuMSwzLjEgcy0zLjEtMS40LTMuMS0zLjFTNTMuNSwzNC45LDU1LjIsMzQuOXogTTUwLjQsNTFjMS43LDAsMy4xLDEuNCwzLjEsMy4xYzAsMS43LTEuNCwzLjEtMy4xLDMuMWMtMS43LDAtMy4xLTEuNC0zLjEtMy4xIEM0Ny4zLDUyLjQsNDguNyw1MSw1MC40LDUxeiBNNTUuNiwzNy4xbDEuNS03LjggTTYwLjEsMTMuNWwxLjYtOC43bC03LjgsNCBNNTksMTlsLTEsNS4zIE0yNCwxNi4xbDYuNCw0LjlsNi40LTMuMyBNNDguNSwxMS42IGwtNS45LDMuMSBNMTkuMSwxMi44TDkuNyw1LjFsMS4xLDcuNyBNMTMuNCwyOS44bDEsNy4zbDYuNiwxLjYgTTExLjYsMTguNGwxLDYuMSBNMzIuOCw0MS45IE0yNi42LDQwLjQgTTI3LjMsNDAuMmw2LjEsMS42IE00OS45LDUyLjFsLTUuNi03LjZsLTQuOS0xLjIiLGxpbmVYOiJNMTUuMiwzMCBNMTkuNywxNS42VjEuOUgyOSBNMzQuOCwxLjlINDAuNCBNNTUuMywxNS42VjEuOUg0NS45IE0xOS43LDQ0LjRWNTguMUgyOSBNMzQuOCw1OC4xSDQwLjQgTTU1LjMsNDQuNCBWNTguMUg0NS45IE0xMi41LDIwLjNsLTkuNCw5LjZsOS42LDkuOCBNMy4xLDI5LjloMTYuNSBNNjIuNSwyMC4zbDkuNCw5LjZMNjIuMywzOS43IE03MS45LDI5LjlINTUuNCIsbGluZVk6Ik0zOC44LDcuNyBNNTIuNywxMmgxMy4ydjkgTTY1LjksMjYuNlYzMiBNNTIuNyw0Ni4zaDEzLjJ2LTkgTTI0LjksMTJIMTEuOHY5IE0xMS44LDI2LjZWMzIgTTI0LjksNDYuM0gxMS44di05IE00OC4yLDUuMWwtOS4zLTlsLTkuNCw5LjIgTTM4LjktMy45VjEyIE00OC4yLDUzLjNsLTkuMyw5bC05LjQtOS4yIE0zOC45LDYyLjNWNDYuNCIsa2VlcDoiTTQsMTAuNVYxaDEwLjMgTTIwLjcsMWg2LjEgTTMzLDFoNi4xIE01NS40LDEwLjVWMUg0NS4yIE00LDE3LjN2Ni42IE01NS42LDE3LjN2Ni42IE00LDMwLjVWNDBoMTAuMyBNMjAuNyw0MCBoNi4xIE0zMyw0MGg2LjEgTTU1LjQsMzAuNVY0MEg0NS4yIE0yMSwxOC45aDYyLjl2NDguNkgyMVYxOC45eiIsY2xlYXI6Ik0yMiwxNC43bDMwLjksMzEgTTUyLjksMTQuN0wyMiw0NS43IE00LjcsMTYuOFY0LjJoMTMuMSBNMjYsNC4yaDcuOCBNNDEuNiw0LjJoNy44IE03MC4zLDE2LjhWNC4ySDU3LjIgTTQuNywyNS45djguNiBNNzAuMywyNS45djguNiBNNC43LDQzLjJ2MTIuNmgxMy4xIE0yNiw1NS44aDcuOCBNNDEuNiw1NS44aDcuOCBNNzAuMyw0My4ydjEyLjZINTcuMiJ9LHRpdGxlOnQuZ2V0TG9jYWxlTW9kZWwoKS5nZXQoWyJ0b29sYm94IiwiYnJ1c2giLCJ0aXRsZSJdKX19LGV9KE9OKTt2YXIgZkU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmxheW91dE1vZGU9e3R5cGU6ImJveCIsaWdub3JlU2l6ZTohMH0sbn1yZXR1cm4gbihlLHQpLGUudHlwZT0idGl0bGUiLGUuZGVmYXVsdE9wdGlvbj17emxldmVsOjAsejo2LHNob3c6ITAsdGV4dDoiIix0YXJnZXQ6ImJsYW5rIixzdWJ0ZXh0OiIiLHN1YnRhcmdldDoiYmxhbmsiLGxlZnQ6MCx0b3A6MCxiYWNrZ3JvdW5kQ29sb3I6InJnYmEoMCwwLDAsMCkiLGJvcmRlckNvbG9yOiIjY2NjIixib3JkZXJXaWR0aDowLHBhZGRpbmc6NSxpdGVtR2FwOjEwLHRleHRTdHlsZTp7Zm9udFNpemU6MTgsZm9udFdlaWdodDoiYm9sZCIsY29sb3I6IiM0NjQ2NDYifSxzdWJ0ZXh0U3R5bGU6e2ZvbnRTaXplOjEyLGNvbG9yOiIjNkU3MDc5In19LGV9KG5wKSxnRT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe2lmKHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCksdC5nZXQoInNob3ciKSl7dmFyIGk9dGhpcy5ncm91cCxyPXQuZ2V0TW9kZWwoInRleHRTdHlsZSIpLG89dC5nZXRNb2RlbCgic3VidGV4dFN0eWxlIiksYT10LmdldCgidGV4dEFsaWduIikscz1ldCh0LmdldCgidGV4dEJhc2VsaW5lIiksdC5nZXQoInRleHRWZXJ0aWNhbEFsaWduIikpLGw9bmV3IGZzKHtzdHlsZTp3aChyLHt0ZXh0OnQuZ2V0KCJ0ZXh0IiksZmlsbDpyLmdldFRleHRDb2xvcigpfSx7ZGlzYWJsZUJveDohMH0pLHoyOjEwfSksdT1sLmdldEJvdW5kaW5nUmVjdCgpLGg9dC5nZXQoInN1YnRleHQiKSxjPW5ldyBmcyh7c3R5bGU6d2gobyx7dGV4dDpoLGZpbGw6by5nZXRUZXh0Q29sb3IoKSx5OnUuaGVpZ2h0K3QuZ2V0KCJpdGVtR2FwIiksdmVydGljYWxBbGlnbjoidG9wIn0se2Rpc2FibGVCb3g6ITB9KSx6MjoxMH0pLHA9dC5nZXQoImxpbmsiKSxkPXQuZ2V0KCJzdWJsaW5rIiksZj10LmdldCgidHJpZ2dlckV2ZW50IiwhMCk7bC5zaWxlbnQ9IXAmJiFmLGMuc2lsZW50PSFkJiYhZixwJiZsLm9uKCJjbGljayIsKGZ1bmN0aW9uKCl7V2MocCwiXyIrdC5nZXQoInRhcmdldCIpKX0pKSxkJiZjLm9uKCJjbGljayIsKGZ1bmN0aW9uKCl7V2MoZCwiXyIrdC5nZXQoInN1YnRhcmdldCIpKX0pKSxTcyhsKS5ldmVudERhdGE9U3MoYykuZXZlbnREYXRhPWY/e2NvbXBvbmVudFR5cGU6InRpdGxlIixjb21wb25lbnRJbmRleDp0LmNvbXBvbmVudEluZGV4fTpudWxsLGkuYWRkKGwpLGgmJmkuYWRkKGMpO3ZhciBnPWkuZ2V0Qm91bmRpbmdSZWN0KCkseT10LmdldEJveExheW91dFBhcmFtcygpO3kud2lkdGg9Zy53aWR0aCx5LmhlaWdodD1nLmhlaWdodDt2YXIgdj1xYyh5LHt3aWR0aDpuLmdldFdpZHRoKCksaGVpZ2h0Om4uZ2V0SGVpZ2h0KCl9LHQuZ2V0KCJwYWRkaW5nIikpO2F8fCgibWlkZGxlIj09PShhPXQuZ2V0KCJsZWZ0Iil8fHQuZ2V0KCJyaWdodCIpKSYmKGE9ImNlbnRlciIpLCJyaWdodCI9PT1hP3YueCs9di53aWR0aDoiY2VudGVyIj09PWEmJih2LngrPXYud2lkdGgvMikpLHN8fCgiY2VudGVyIj09PShzPXQuZ2V0KCJ0b3AiKXx8dC5nZXQoImJvdHRvbSIpKSYmKHM9Im1pZGRsZSIpLCJib3R0b20iPT09cz92LnkrPXYuaGVpZ2h0OiJtaWRkbGUiPT09cyYmKHYueSs9di5oZWlnaHQvMikscz1zfHwidG9wIiksaS54PXYueCxpLnk9di55LGkubWFya1JlZHJhdygpO3ZhciBtPXthbGlnbjphLHZlcnRpY2FsQWxpZ246c307bC5zZXRTdHlsZShtKSxjLnNldFN0eWxlKG0pLGc9aS5nZXRCb3VuZGluZ1JlY3QoKTt2YXIgXz12Lm1hcmdpbix4PXQuZ2V0SXRlbVN0eWxlKFsiY29sb3IiLCJvcGFjaXR5Il0pO3guZmlsbD10LmdldCgiYmFja2dyb3VuZENvbG9yIik7dmFyIGI9bmV3IGNzKHtzaGFwZTp7eDpnLngtX1szXSx5OmcueS1fWzBdLHdpZHRoOmcud2lkdGgrX1sxXStfWzNdLGhlaWdodDpnLmhlaWdodCtfWzBdK19bMl0scjp0LmdldCgiYm9yZGVyUmFkaXVzIil9LHN0eWxlOngsc3ViUGl4ZWxPcHRpbWl6ZTohMCxzaWxlbnQ6ITB9KTtpLmFkZChiKX19LGUudHlwZT0idGl0bGUiLGV9KFdmKTt2YXIgeUU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmxheW91dE1vZGU9ImJveCIsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlLG4pe3RoaXMubWVyZ2VEZWZhdWx0QW5kVGhlbWUodCxuKSx0aGlzLl9pbml0RGF0YSgpfSxlLnByb3RvdHlwZS5tZXJnZU9wdGlvbj1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5tZXJnZU9wdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5faW5pdERhdGEoKX0sZS5wcm90b3R5cGUuc2V0Q3VycmVudEluZGV4PWZ1bmN0aW9uKHQpe251bGw9PXQmJih0PXRoaXMub3B0aW9uLmN1cnJlbnRJbmRleCk7dmFyIGU9dGhpcy5fZGF0YS5jb3VudCgpO3RoaXMub3B0aW9uLmxvb3A/dD0odCVlK2UpJWU6KHQ+PWUmJih0PWUtMSksdDwwJiYodD0wKSksdGhpcy5vcHRpb24uY3VycmVudEluZGV4PXR9LGUucHJvdG90eXBlLmdldEN1cnJlbnRJbmRleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbi5jdXJyZW50SW5kZXh9LGUucHJvdG90eXBlLmlzSW5kZXhNYXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDdXJyZW50SW5kZXgoKT49dGhpcy5fZGF0YS5jb3VudCgpLTF9LGUucHJvdG90eXBlLnNldFBsYXlTdGF0ZT1mdW5jdGlvbih0KXt0aGlzLm9wdGlvbi5hdXRvUGxheT0hIXR9LGUucHJvdG90eXBlLmdldFBsYXlTdGF0ZT1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5vcHRpb24uYXV0b1BsYXl9LGUucHJvdG90eXBlLl9pbml0RGF0YT1mdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5vcHRpb24sbj1lLmRhdGF8fFtdLGk9ZS5heGlzVHlwZSxyPXRoaXMuX25hbWVzPVtdOyJjYXRlZ29yeSI9PT1pPyh0PVtdLE8obiwoZnVuY3Rpb24oZSxuKXt2YXIgaSxvPWtyKElyKGUpLCIiKTtZKGUpPyhpPVMoZSkpLnZhbHVlPW46aT1uLHQucHVzaChpKSxyLnB1c2gobyl9KSkpOnQ9bjt2YXIgbz17Y2F0ZWdvcnk6Im9yZGluYWwiLHRpbWU6InRpbWUiLHZhbHVlOiJudW1iZXIifVtpXXx8Im51bWJlciI7KHRoaXMuX2RhdGE9bmV3IHVfKFt7bmFtZToidmFsdWUiLHR5cGU6b31dLHRoaXMpKS5pbml0RGF0YSh0LHIpfSxlLnByb3RvdHlwZS5nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9LGUucHJvdG90eXBlLmdldENhdGVnb3JpZXM9ZnVuY3Rpb24oKXtpZigiY2F0ZWdvcnkiPT09dGhpcy5nZXQoImF4aXNUeXBlIikpcmV0dXJuIHRoaXMuX25hbWVzLnNsaWNlKCl9LGUudHlwZT0idGltZWxpbmUiLGUuZGVmYXVsdE9wdGlvbj17emxldmVsOjAsejo0LHNob3c6ITAsYXhpc1R5cGU6InRpbWUiLHJlYWx0aW1lOiEwLGxlZnQ6IjIwJSIsdG9wOm51bGwscmlnaHQ6IjIwJSIsYm90dG9tOjAsd2lkdGg6bnVsbCxoZWlnaHQ6NDAscGFkZGluZzo1LGNvbnRyb2xQb3NpdGlvbjoibGVmdCIsYXV0b1BsYXk6ITEscmV3aW5kOiExLGxvb3A6ITAscGxheUludGVydmFsOjJlMyxjdXJyZW50SW5kZXg6MCxpdGVtU3R5bGU6e30sbGFiZWw6e2NvbG9yOiIjMDAwIn0sZGF0YTpbXX0sZX0obnApLHZFPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUudHlwZT0idGltZWxpbmUuc2xpZGVyIixlLmRlZmF1bHRPcHRpb249WWgoeUUuZGVmYXVsdE9wdGlvbix7YmFja2dyb3VuZENvbG9yOiJyZ2JhKDAsMCwwLDApIixib3JkZXJDb2xvcjoiI2NjYyIsYm9yZGVyV2lkdGg6MCxvcmllbnQ6Imhvcml6b250YWwiLGludmVyc2U6ITEsdG9vbHRpcDp7dHJpZ2dlcjoiaXRlbSJ9LHN5bWJvbDoiY2lyY2xlIixzeW1ib2xTaXplOjEyLGxpbmVTdHlsZTp7c2hvdzohMCx3aWR0aDoyLGNvbG9yOiIjREFFMUY1In0sbGFiZWw6e3Bvc2l0aW9uOiJhdXRvIixzaG93OiEwLGludGVydmFsOiJhdXRvIixyb3RhdGU6MCxjb2xvcjoiI0E0QjFENyJ9LGl0ZW1TdHlsZTp7Y29sb3I6IiNBNEIxRDciLGJvcmRlcldpZHRoOjF9LGNoZWNrcG9pbnRTdHlsZTp7c3ltYm9sOiJjaXJjbGUiLHN5bWJvbFNpemU6MTUsY29sb3I6IiMzMTZiZjMiLGJvcmRlckNvbG9yOiIjZmZmIixib3JkZXJXaWR0aDoyLHNoYWRvd0JsdXI6MixzaGFkb3dPZmZzZXRYOjEsc2hhZG93T2Zmc2V0WToxLHNoYWRvd0NvbG9yOiJyZ2JhKDAsIDAsIDAsIDAuMykiLGFuaW1hdGlvbjohMCxhbmltYXRpb25EdXJhdGlvbjozMDAsYW5pbWF0aW9uRWFzaW5nOiJxdWludGljSW5PdXQifSxjb250cm9sU3R5bGU6e3Nob3c6ITAsc2hvd1BsYXlCdG46ITAsc2hvd1ByZXZCdG46ITAsc2hvd05leHRCdG46ITAsaXRlbVNpemU6MjQsaXRlbUdhcDoxMixwb3NpdGlvbjoibGVmdCIscGxheUljb246InBhdGg6Ly9NMzEuNiw1M0MxNy41LDUzLDYsNDEuNSw2LDI3LjRTMTcuNSwxLjgsMzEuNiwxLjhDNDUuNywxLjgsNTcuMiwxMy4zLDU3LjIsMjcuNFM0NS43LDUzLDMxLjYsNTN6IE0zMS42LDMuMyBDMTguNCwzLjMsNy41LDE0LjEsNy41LDI3LjRjMCwxMy4zLDEwLjgsMjQuMSwyNC4xLDI0LjFDNDQuOSw1MS41LDU1LjcsNDAuNyw1NS43LDI3LjRDNTUuNywxNC4xLDQ0LjksMy4zLDMxLjYsMy4zeiBNMjQuOSwyMS4zIGMwLTIuMiwxLjYtMy4xLDMuNS0ybDEwLjUsNi4xYzEuODk5LDEuMSwxLjg5OSwyLjksMCw0bC0xMC41LDYuMWMtMS45LDEuMS0zLjUsMC4yLTMuNS0yVjIxLjN6IixzdG9wSWNvbjoicGF0aDovL00zMC45LDUzLjJDMTYuOCw1My4yLDUuMyw0MS43LDUuMywyNy42UzE2LjgsMiwzMC45LDJDNDUsMiw1Ni40LDEzLjUsNTYuNCwyNy42UzQ1LDUzLjIsMzAuOSw1My4yeiBNMzAuOSwzLjVDMTcuNiwzLjUsNi44LDE0LjQsNi44LDI3LjZjMCwxMy4zLDEwLjgsMjQuMSwyNC4xMDEsMjQuMUM0NC4yLDUxLjcsNTUsNDAuOSw1NSwyNy42QzU0LjksMTQuNCw0NC4xLDMuNSwzMC45LDMuNXogTTM2LjksMzUuOGMwLDAuNjAxLTAuNCwxLTAuOSwxaC0xLjNjLTAuNSwwLTAuOS0wLjM5OS0wLjktMVYxOS41YzAtMC42LDAuNC0xLDAuOS0xSDM2YzAuNSwwLDAuOSwwLjQsMC45LDFWMzUuOHogTTI3LjgsMzUuOCBjMCwwLjYwMS0wLjQsMS0wLjksMWgtMS4zYy0wLjUsMC0wLjktMC4zOTktMC45LTFWMTkuNWMwLTAuNiwwLjQtMSwwLjktMUgyN2MwLjUsMCwwLjksMC40LDAuOSwxTDI3LjgsMzUuOEwyNy44LDM1Ljh6IixuZXh0SWNvbjoiTTIsMTguNUExLjUyLDEuNTIsMCwwLDEsLjkyLDE4YTEuNDksMS40OSwwLDAsMSwwLTIuMTJMNy44MSw5LjM2LDEsMy4xMUExLjUsMS41LDAsMSwxLDMsLjg5bDgsNy4zNGExLjQ4LDEuNDgsMCwwLDEsLjQ5LDEuMDksMS41MSwxLjUxLDAsMCwxLS40NiwxLjFMMywxOC4wOEExLjUsMS41LDAsMCwxLDIsMTguNVoiLHByZXZJY29uOiJNMTAsLjVBMS41MiwxLjUyLDAsMCwxLDExLjA4LDFhMS40OSwxLjQ5LDAsMCwxLDAsMi4xMkw0LjE5LDkuNjQsMTEsMTUuODlhMS41LDEuNSwwLDEsMS0yLDIuMjJMMSwxMC43N0ExLjQ4LDEuNDgsMCwwLDEsLjUsOS42OCwxLjUxLDEuNTEsMCwwLDEsMSw4LjU4TDksLjkyQTEuNSwxLjUsMCwwLDEsMTAsLjVaIixwcmV2QnRuU2l6ZToxOCxuZXh0QnRuU2l6ZToxOCxjb2xvcjoiI0E0QjFENyIsYm9yZGVyQ29sb3I6IiNBNEIxRDciLGJvcmRlcldpZHRoOjF9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMCxjb2xvcjoiIzZmNzc4ZCJ9LGl0ZW1TdHlsZTp7Y29sb3I6IiMzMTZCRjMifSxjb250cm9sU3R5bGU6e2NvbG9yOiIjMzE2QkYzIixib3JkZXJDb2xvcjoiIzMxNkJGMyIsYm9yZGVyV2lkdGg6Mn19LHByb2dyZXNzOntsaW5lU3R5bGU6e2NvbG9yOiIjMzE2QkYzIn0saXRlbVN0eWxlOntjb2xvcjoiIzMxNkJGMyJ9LGxhYmVsOntjb2xvcjoiIzZmNzc4ZCJ9fSxkYXRhOltdfSksZX0oeUUpO0wodkUsRWQucHJvdG90eXBlKTt2YXIgbUU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS50eXBlPSJ0aW1lbGluZSIsZX0oV2YpLF9FPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscil7dmFyIG89dC5jYWxsKHRoaXMsZSxuLGkpfHx0aGlzO3JldHVybiBvLnR5cGU9cnx8InZhbHVlIixvfXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuZ2V0TGFiZWxNb2RlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZGVsLmdldE1vZGVsKCJsYWJlbCIpfSxlLnByb3RvdHlwZS5pc0hvcml6b250YWw9ZnVuY3Rpb24oKXtyZXR1cm4iaG9yaXpvbnRhbCI9PT10aGlzLm1vZGVsLmdldCgib3JpZW50Iil9LGV9KFd4KSx4RT1NYXRoLlBJLGJFPVJyKCksd0U9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUpe3RoaXMuYXBpPWV9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7aWYodGhpcy5tb2RlbD10LHRoaXMuYXBpPW4sdGhpcy5lY01vZGVsPWUsdGhpcy5ncm91cC5yZW1vdmVBbGwoKSx0LmdldCgic2hvdyIsITApKXt2YXIgaT10aGlzLl9sYXlvdXQodCxuKSxyPXRoaXMuX2NyZWF0ZUdyb3VwKCJfbWFpbkdyb3VwIiksbz10aGlzLl9jcmVhdGVHcm91cCgiX2xhYmVsR3JvdXAiKSxhPXRoaXMuX2F4aXM9dGhpcy5fY3JlYXRlQXhpcyhpLHQpO3QuZm9ybWF0VG9vbHRpcD1mdW5jdGlvbih0KXtyZXR1cm4gd2YoIm5hbWVWYWx1ZSIse25vTmFtZTohMCx2YWx1ZTphLnNjYWxlLmdldExhYmVsKHt2YWx1ZTp0fSl9KX0sTyhbIkF4aXNMaW5lIiwiQXhpc1RpY2siLCJDb250cm9sIiwiQ3VycmVudFBvaW50ZXIiXSwoZnVuY3Rpb24oZSl7dGhpc1siX3JlbmRlciIrZV0oaSxyLGEsdCl9KSx0aGlzKSx0aGlzLl9yZW5kZXJBeGlzTGFiZWwoaSxvLGEsdCksdGhpcy5fcG9zaXRpb24oaSx0KX10aGlzLl9kb1BsYXlTdG9wKCksdGhpcy5fdXBkYXRlVGlja3NTdGF0dXMoKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJUaW1lcigpLHRoaXMuZ3JvdXAucmVtb3ZlQWxsKCl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhclRpbWVyKCl9LGUucHJvdG90eXBlLl9sYXlvdXQ9ZnVuY3Rpb24odCxlKXt2YXIgbixpLHIsbyxhPXQuZ2V0KFsibGFiZWwiLCJwb3NpdGlvbiJdKSxzPXQuZ2V0KCJvcmllbnQiKSxsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHFjKHQuZ2V0Qm94TGF5b3V0UGFyYW1zKCkse3dpZHRoOmUuZ2V0V2lkdGgoKSxoZWlnaHQ6ZS5nZXRIZWlnaHQoKX0sdC5nZXQoInBhZGRpbmciKSl9KHQsZSksdT17aG9yaXpvbnRhbDoiY2VudGVyIix2ZXJ0aWNhbDoobj1udWxsPT1hfHwiYXV0byI9PT1hPyJob3Jpem9udGFsIj09PXM/bC55K2wuaGVpZ2h0LzI8ZS5nZXRIZWlnaHQoKS8yPyItIjoiKyI6bC54K2wud2lkdGgvMjxlLmdldFdpZHRoKCkvMj8iKyI6Ii0iOlcoYSk/e2hvcml6b250YWw6e3RvcDoiLSIsYm90dG9tOiIrIn0sdmVydGljYWw6e2xlZnQ6Ii0iLHJpZ2h0OiIrIn19W3NdW2FdOmEpPj0wfHwiKyI9PT1uPyJsZWZ0IjoicmlnaHQifSxoPXtob3Jpem9udGFsOm4+PTB8fCIrIj09PW4/InRvcCI6ImJvdHRvbSIsdmVydGljYWw6Im1pZGRsZSJ9LGM9e2hvcml6b250YWw6MCx2ZXJ0aWNhbDp4RS8yfSxwPSJ2ZXJ0aWNhbCI9PT1zP2wuaGVpZ2h0Omwud2lkdGgsZD10LmdldE1vZGVsKCJjb250cm9sU3R5bGUiKSxmPWQuZ2V0KCJzaG93IiwhMCksZz1mP2QuZ2V0KCJpdGVtU2l6ZSIpOjAseT1mP2QuZ2V0KCJpdGVtR2FwIik6MCx2PWcreSxtPXQuZ2V0KFsibGFiZWwiLCJyb3RhdGUiXSl8fDA7bT1tKnhFLzE4MDt2YXIgXz1kLmdldCgicG9zaXRpb24iLCEwKSx4PWYmJmQuZ2V0KCJzaG93UGxheUJ0biIsITApLGI9ZiYmZC5nZXQoInNob3dQcmV2QnRuIiwhMCksdz1mJiZkLmdldCgic2hvd05leHRCdG4iLCEwKSxTPTAsTT1wOyJsZWZ0Ij09PV98fCJib3R0b20iPT09Xz8oeCYmKGk9WzAsMF0sUys9diksYiYmKHI9W1MsMF0sUys9diksdyYmKG89W00tZywwXSxNLT12KSk6KHgmJihpPVtNLWcsMF0sTS09diksYiYmKHI9WzAsMF0sUys9diksdyYmKG89W00tZywwXSxNLT12KSk7dmFyIEk9W1MsTV07cmV0dXJuIHQuZ2V0KCJpbnZlcnNlIikmJkkucmV2ZXJzZSgpLHt2aWV3UmVjdDpsLG1haW5MZW5ndGg6cCxvcmllbnQ6cyxyb3RhdGlvbjpjW3NdLGxhYmVsUm90YXRpb246bSxsYWJlbFBvc09wdDpuLGxhYmVsQWxpZ246dC5nZXQoWyJsYWJlbCIsImFsaWduIl0pfHx1W3NdLGxhYmVsQmFzZWxpbmU6dC5nZXQoWyJsYWJlbCIsInZlcnRpY2FsQWxpZ24iXSl8fHQuZ2V0KFsibGFiZWwiLCJiYXNlbGluZSJdKXx8aFtzXSxwbGF5UG9zaXRpb246aSxwcmV2QnRuUG9zaXRpb246cixuZXh0QnRuUG9zaXRpb246byxheGlzRXh0ZW50OkksY29udHJvbFNpemU6Zyxjb250cm9sR2FwOnl9fSxlLnByb3RvdHlwZS5fcG9zaXRpb249ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9tYWluR3JvdXAsaT10aGlzLl9sYWJlbEdyb3VwLHI9dC52aWV3UmVjdDtpZigidmVydGljYWwiPT09dC5vcmllbnQpe3ZhciBvPVsxLDAsMCwxLDAsMF0sYT1yLngscz1yLnkrci5oZWlnaHQ7WG4obyxvLFstYSwtc10pLFluKG8sbywteEUvMiksWG4obyxvLFthLHNdKSwocj1yLmNsb25lKCkpLmFwcGx5VHJhbnNmb3JtKG8pfXZhciBsPXkociksdT15KG4uZ2V0Qm91bmRpbmdSZWN0KCkpLGg9eShpLmdldEJvdW5kaW5nUmVjdCgpKSxjPVtuLngsbi55XSxwPVtpLngsaS55XTtwWzBdPWNbMF09bFswXVswXTt2YXIgZCxmPXQubGFiZWxQb3NPcHQ7bnVsbD09Znx8VyhmKT8odihjLHUsbCwxLGQ9IisiPT09Zj8wOjEpLHYocCxoLGwsMSwxLWQpKToodihjLHUsbCwxLGQ9Zj49MD8wOjEpLHBbMV09Y1sxXStmKTtmdW5jdGlvbiBnKHQpe3Qub3JpZ2luWD1sWzBdWzBdLXQueCx0Lm9yaWdpblk9bFsxXVswXS10Lnl9ZnVuY3Rpb24geSh0KXtyZXR1cm5bW3QueCx0LngrdC53aWR0aF0sW3QueSx0LnkrdC5oZWlnaHRdXX1mdW5jdGlvbiB2KHQsZSxuLGkscil7dFtpXSs9bltpXVtyXS1lW2ldW3JdfW4uc2V0UG9zaXRpb24oYyksaS5zZXRQb3NpdGlvbihwKSxuLnJvdGF0aW9uPWkucm90YXRpb249dC5yb3RhdGlvbixnKG4pLGcoaSl9LGUucHJvdG90eXBlLl9jcmVhdGVBeGlzPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5nZXREYXRhKCksaT1lLmdldCgiYXhpc1R5cGUiKSxyPWZ1bmN0aW9uKHQsZSl7aWYoZT1lfHx0LmdldCgidHlwZSIpKXN3aXRjaChlKXtjYXNlImNhdGVnb3J5IjpyZXR1cm4gbmV3IGtfKHtvcmRpbmFsTWV0YTp0LmdldENhdGVnb3JpZXMoKSxleHRlbnQ6WzEvMCwtMS8wXX0pO2Nhc2UidGltZSI6cmV0dXJuIG5ldyBZXyh7bG9jYWxlOnQuZWNNb2RlbC5nZXRMb2NhbGVNb2RlbCgpLHVzZVVUQzp0LmVjTW9kZWwuZ2V0KCJ1c2VVVEMiKX0pO2RlZmF1bHQ6cmV0dXJuIG5ldyBQX319KGUsaSk7ci5nZXRUaWNrcz1mdW5jdGlvbigpe3JldHVybiBuLm1hcEFycmF5KFsidmFsdWUiXSwoZnVuY3Rpb24odCl7cmV0dXJue3ZhbHVlOnR9fSkpfTt2YXIgbz1uLmdldERhdGFFeHRlbnQoInZhbHVlIik7ci5zZXRFeHRlbnQob1swXSxvWzFdKSxyLm5pY2VUaWNrcygpO3ZhciBhPW5ldyBfRSgidmFsdWUiLHIsdC5heGlzRXh0ZW50LGkpO3JldHVybiBhLm1vZGVsPWUsYX0sZS5wcm90b3R5cGUuX2NyZWF0ZUdyb3VwPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXNbdF09bmV3IEJpO3JldHVybiB0aGlzLmdyb3VwLmFkZChlKSxlfSxlLnByb3RvdHlwZS5fcmVuZGVyQXhpc0xpbmU9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9bi5nZXRFeHRlbnQoKTtpZihpLmdldChbImxpbmVTdHlsZSIsInNob3ciXSkpe3ZhciBvPW5ldyB5dSh7c2hhcGU6e3gxOnJbMF0seTE6MCx4MjpyWzFdLHkyOjB9LHN0eWxlOlQoe2xpbmVDYXA6InJvdW5kIn0saS5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCkpLHNpbGVudDohMCx6MjoxfSk7ZS5hZGQobyk7dmFyIGE9dGhpcy5fcHJvZ3Jlc3NMaW5lPW5ldyB5dSh7c2hhcGU6e3gxOnJbMF0seDI6dGhpcy5fY3VycmVudFBvaW50ZXI/dGhpcy5fY3VycmVudFBvaW50ZXIueDpyWzBdLHkxOjAseTI6MH0sc3R5bGU6Qyh7bGluZUNhcDoicm91bmQiLGxpbmVXaWR0aDpvLnN0eWxlLmxpbmVXaWR0aH0saS5nZXRNb2RlbChbInByb2dyZXNzIiwibGluZVN0eWxlIl0pLmdldExpbmVTdHlsZSgpKSxzaWxlbnQ6ITAsejI6MX0pO2UuYWRkKGEpfX0sZS5wcm90b3R5cGUuX3JlbmRlckF4aXNUaWNrPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXRoaXMsbz1pLmdldERhdGEoKSxhPW4uc2NhbGUuZ2V0VGlja3MoKTt0aGlzLl90aWNrU3ltYm9scz1bXSxPKGEsKGZ1bmN0aW9uKHQpe3ZhciBhPW4uZGF0YVRvQ29vcmQodC52YWx1ZSkscz1vLmdldEl0ZW1Nb2RlbCh0LnZhbHVlKSxsPXMuZ2V0TW9kZWwoIml0ZW1TdHlsZSIpLHU9cy5nZXRNb2RlbChbImVtcGhhc2lzIiwiaXRlbVN0eWxlIl0pLGg9cy5nZXRNb2RlbChbInByb2dyZXNzIiwiaXRlbVN0eWxlIl0pLGM9e3g6YSx5OjAsb25jbGljazpCKHIuX2NoYW5nZVRpbWVsaW5lLHIsdC52YWx1ZSl9LHA9U0UocyxsLGUsYyk7cC5lbnN1cmVTdGF0ZSgiZW1waGFzaXMiKS5zdHlsZT11LmdldEl0ZW1TdHlsZSgpLHAuZW5zdXJlU3RhdGUoInByb2dyZXNzIikuc3R5bGU9aC5nZXRJdGVtU3R5bGUoKSxwbChwKTt2YXIgZD1TcyhwKTtzLmdldCgidG9vbHRpcCIpPyhkLmRhdGFJbmRleD10LnZhbHVlLGQuZGF0YU1vZGVsPWkpOmQuZGF0YUluZGV4PWQuZGF0YU1vZGVsPW51bGwsci5fdGlja1N5bWJvbHMucHVzaChwKX0pKX0sZS5wcm90b3R5cGUuX3JlbmRlckF4aXNMYWJlbD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzO2lmKG4uZ2V0TGFiZWxNb2RlbCgpLmdldCgic2hvdyIpKXt2YXIgbz1pLmdldERhdGEoKSxhPW4uZ2V0Vmlld0xhYmVscygpO3RoaXMuX3RpY2tMYWJlbHM9W10sTyhhLChmdW5jdGlvbihpKXt2YXIgYT1pLnRpY2tWYWx1ZSxzPW8uZ2V0SXRlbU1vZGVsKGEpLGw9cy5nZXRNb2RlbCgibGFiZWwiKSx1PXMuZ2V0TW9kZWwoWyJlbXBoYXNpcyIsImxhYmVsIl0pLGg9cy5nZXRNb2RlbChbInByb2dyZXNzIiwibGFiZWwiXSksYz1uLmRhdGFUb0Nvb3JkKGkudGlja1ZhbHVlKSxwPW5ldyBmcyh7eDpjLHk6MCxyb3RhdGlvbjp0LmxhYmVsUm90YXRpb24tdC5yb3RhdGlvbixvbmNsaWNrOkIoci5fY2hhbmdlVGltZWxpbmUscixhKSxzaWxlbnQ6ITEsc3R5bGU6d2gobCx7dGV4dDppLmZvcm1hdHRlZExhYmVsLGFsaWduOnQubGFiZWxBbGlnbix2ZXJ0aWNhbEFsaWduOnQubGFiZWxCYXNlbGluZX0pfSk7cC5lbnN1cmVTdGF0ZSgiZW1waGFzaXMiKS5zdHlsZT13aCh1KSxwLmVuc3VyZVN0YXRlKCJwcm9ncmVzcyIpLnN0eWxlPXdoKGgpLGUuYWRkKHApLHBsKHApLGJFKHApLmRhdGFJbmRleD1hLHIuX3RpY2tMYWJlbHMucHVzaChwKX0pKX19LGUucHJvdG90eXBlLl9yZW5kZXJDb250cm9sPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXQuY29udHJvbFNpemUsbz10LnJvdGF0aW9uLGE9aS5nZXRNb2RlbCgiY29udHJvbFN0eWxlIikuZ2V0SXRlbVN0eWxlKCkscz1pLmdldE1vZGVsKFsiZW1waGFzaXMiLCJjb250cm9sU3R5bGUiXSkuZ2V0SXRlbVN0eWxlKCksbD1pLmdldFBsYXlTdGF0ZSgpLHU9aS5nZXQoImludmVyc2UiLCEwKTtmdW5jdGlvbiBoKHQsbixsLHUpe2lmKHQpe3ZhciBoPUNpKGV0KGkuZ2V0KFsiY29udHJvbFN0eWxlIixuKyJCdG5TaXplIl0pLHIpLHIpLGM9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9aS5zdHlsZSxvPWNoKHQuZ2V0KFsiY29udHJvbFN0eWxlIixlXSksaXx8e30sbmV3IHZpKG5bMF0sblsxXSxuWzJdLG5bM10pKTtyJiZvLnNldFN0eWxlKHIpO3JldHVybiBvfShpLG4rIkljb24iLFswLC1oLzIsaCxoXSx7eDp0WzBdLHk6dFsxXSxvcmlnaW5YOnIvMixvcmlnaW5ZOjAscm90YXRpb246dT8tbzowLHJlY3RIb3ZlcjohMCxzdHlsZTphLG9uY2xpY2s6bH0pO2MuZW5zdXJlU3RhdGUoImVtcGhhc2lzIikuc3R5bGU9cyxlLmFkZChjKSxwbChjKX19aCh0Lm5leHRCdG5Qb3NpdGlvbiwibmV4dCIsQih0aGlzLl9jaGFuZ2VUaW1lbGluZSx0aGlzLHU/Ii0iOiIrIikpLGgodC5wcmV2QnRuUG9zaXRpb24sInByZXYiLEIodGhpcy5fY2hhbmdlVGltZWxpbmUsdGhpcyx1PyIrIjoiLSIpKSxoKHQucGxheVBvc2l0aW9uLGw/InN0b3AiOiJwbGF5IixCKHRoaXMuX2hhbmRsZVBsYXlDbGljayx0aGlzLCFsKSwhMCl9LGUucHJvdG90eXBlLl9yZW5kZXJDdXJyZW50UG9pbnRlcj1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1pLmdldERhdGEoKSxvPWkuZ2V0Q3VycmVudEluZGV4KCksYT1yLmdldEl0ZW1Nb2RlbChvKS5nZXRNb2RlbCgiY2hlY2twb2ludFN0eWxlIikscz10aGlzLGw9e29uQ3JlYXRlOmZ1bmN0aW9uKHQpe3QuZHJhZ2dhYmxlPSEwLHQuZHJpZnQ9QihzLl9oYW5kbGVQb2ludGVyRHJhZyxzKSx0Lm9uZHJhZ2VuZD1CKHMuX2hhbmRsZVBvaW50ZXJEcmFnZW5kLHMpLE1FKHQscy5fcHJvZ3Jlc3NMaW5lLG8sbixpLCEwKX0sb25VcGRhdGU6ZnVuY3Rpb24odCl7TUUodCxzLl9wcm9ncmVzc0xpbmUsbyxuLGkpfX07dGhpcy5fY3VycmVudFBvaW50ZXI9U0UoYSxhLHRoaXMuX21haW5Hcm91cCx7fSx0aGlzLl9jdXJyZW50UG9pbnRlcixsKX0sZS5wcm90b3R5cGUuX2hhbmRsZVBsYXlDbGljaz1mdW5jdGlvbih0KXt0aGlzLl9jbGVhclRpbWVyKCksdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InRpbWVsaW5lUGxheUNoYW5nZSIscGxheVN0YXRlOnQsZnJvbTp0aGlzLnVpZH0pfSxlLnByb3RvdHlwZS5faGFuZGxlUG9pbnRlckRyYWc9ZnVuY3Rpb24odCxlLG4pe3RoaXMuX2NsZWFyVGltZXIoKSx0aGlzLl9wb2ludGVyQ2hhbmdlVGltZWxpbmUoW24ub2Zmc2V0WCxuLm9mZnNldFldKX0sZS5wcm90b3R5cGUuX2hhbmRsZVBvaW50ZXJEcmFnZW5kPWZ1bmN0aW9uKHQpe3RoaXMuX3BvaW50ZXJDaGFuZ2VUaW1lbGluZShbdC5vZmZzZXRYLHQub2Zmc2V0WV0sITApfSxlLnByb3RvdHlwZS5fcG9pbnRlckNoYW5nZVRpbWVsaW5lPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fdG9BeGlzQ29vcmQodClbMF0saT0kaSh0aGlzLl9heGlzLmdldEV4dGVudCgpLnNsaWNlKCkpO24+aVsxXSYmKG49aVsxXSksbjxpWzBdJiYobj1pWzBdKSx0aGlzLl9jdXJyZW50UG9pbnRlci54PW4sdGhpcy5fY3VycmVudFBvaW50ZXIubWFya1JlZHJhdygpLHRoaXMuX3Byb2dyZXNzTGluZS5zaGFwZS54Mj1uLHRoaXMuX3Byb2dyZXNzTGluZS5kaXJ0eSgpO3ZhciByPXRoaXMuX2ZpbmROZWFyZXN0VGljayhuKSxvPXRoaXMubW9kZWw7KGV8fHIhPT1vLmdldEN1cnJlbnRJbmRleCgpJiZvLmdldCgicmVhbHRpbWUiKSkmJnRoaXMuX2NoYW5nZVRpbWVsaW5lKHIpfSxlLnByb3RvdHlwZS5fZG9QbGF5U3RvcD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fY2xlYXJUaW1lcigpLHRoaXMubW9kZWwuZ2V0UGxheVN0YXRlKCkmJih0aGlzLl90aW1lcj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3ZhciBlPXQubW9kZWw7dC5fY2hhbmdlVGltZWxpbmUoZS5nZXRDdXJyZW50SW5kZXgoKSsoZS5nZXQoInJld2luZCIsITApPy0xOjEpKX0pLHRoaXMubW9kZWwuZ2V0KCJwbGF5SW50ZXJ2YWwiKSkpfSxlLnByb3RvdHlwZS5fdG9BeGlzQ29vcmQ9ZnVuY3Rpb24odCl7cmV0dXJuIG9oKHQsdGhpcy5fbWFpbkdyb3VwLmdldExvY2FsVHJhbnNmb3JtKCksITApfSxlLnByb3RvdHlwZS5fZmluZE5lYXJlc3RUaWNrPWZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcy5tb2RlbC5nZXREYXRhKCksaT0xLzAscj10aGlzLl9heGlzO3JldHVybiBuLmVhY2goWyJ2YWx1ZSJdLChmdW5jdGlvbihuLG8pe3ZhciBhPXIuZGF0YVRvQ29vcmQobikscz1NYXRoLmFicyhhLXQpO3M8aSYmKGk9cyxlPW8pfSkpLGV9LGUucHJvdG90eXBlLl9jbGVhclRpbWVyPWZ1bmN0aW9uKCl7dGhpcy5fdGltZXImJihjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpLHRoaXMuX3RpbWVyPW51bGwpfSxlLnByb3RvdHlwZS5fY2hhbmdlVGltZWxpbmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5tb2RlbC5nZXRDdXJyZW50SW5kZXgoKTsiKyI9PT10P3Q9ZSsxOiItIj09PXQmJih0PWUtMSksdGhpcy5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6InRpbWVsaW5lQ2hhbmdlIixjdXJyZW50SW5kZXg6dCxmcm9tOnRoaXMudWlkfSl9LGUucHJvdG90eXBlLl91cGRhdGVUaWNrc1N0YXR1cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMubW9kZWwuZ2V0Q3VycmVudEluZGV4KCksZT10aGlzLl90aWNrU3ltYm9scyxuPXRoaXMuX3RpY2tMYWJlbHM7aWYoZSlmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyllJiZlW2ldJiZlW2ldLnRvZ2dsZVN0YXRlKCJwcm9ncmVzcyIsaTx0KTtpZihuKWZvcihpPTA7aTxuLmxlbmd0aDtpKyspbiYmbltpXSYmbltpXS50b2dnbGVTdGF0ZSgicHJvZ3Jlc3MiLGJFKG5baV0pLmRhdGFJbmRleDw9dCl9LGUudHlwZT0idGltZWxpbmUuc2xpZGVyIixlfShtRSk7ZnVuY3Rpb24gU0UodCxlLG4saSxyLG8pe3ZhciBhPWUuZ2V0KCJjb2xvciIpO3I/KHIuc2V0Q29sb3IoYSksbi5hZGQociksbyYmby5vblVwZGF0ZShyKSk6KChyPWV5KHQuZ2V0KCJzeW1ib2wiKSwtMSwtMSwyLDIsYSkpLnNldFN0eWxlKCJzdHJva2VOb1NjYWxlIiwhMCksbi5hZGQociksbyYmby5vbkNyZWF0ZShyKSk7dmFyIHM9ZS5nZXRJdGVtU3R5bGUoWyJjb2xvciJdKTtyLnNldFN0eWxlKHMpLGk9TSh7cmVjdEhvdmVyOiEwLHoyOjEwMH0saSwhMCk7dmFyIGw9bnkodC5nZXQoInN5bWJvbFNpemUiKSk7aS5zY2FsZVg9bFswXS8yLGkuc2NhbGVZPWxbMV0vMjt2YXIgdT1peSh0LmdldCgic3ltYm9sT2Zmc2V0IiksbCk7dSYmKGkueD0oaS54fHwwKSt1WzBdLGkueT0oaS55fHwwKSt1WzFdKTt2YXIgaD10LmdldCgic3ltYm9sUm90YXRlIik7cmV0dXJuIGkucm90YXRpb249KGh8fDApKk1hdGguUEkvMTgwfHwwLHIuYXR0cihpKSxyLnVwZGF0ZVRyYW5zZm9ybSgpLHJ9ZnVuY3Rpb24gTUUodCxlLG4saSxyLG8pe2lmKCF0LmRyYWdnaW5nKXt2YXIgYT1yLmdldE1vZGVsKCJjaGVja3BvaW50U3R5bGUiKSxzPWkuZGF0YVRvQ29vcmQoci5nZXREYXRhKCkuZ2V0KCJ2YWx1ZSIsbikpO2lmKG98fCFhLmdldCgiYW5pbWF0aW9uIiwhMCkpdC5hdHRyKHt4OnMseTowfSksZSYmZS5hdHRyKHtzaGFwZTp7eDI6c319KTtlbHNle3ZhciBsPXtkdXJhdGlvbjphLmdldCgiYW5pbWF0aW9uRHVyYXRpb24iLCEwKSxlYXNpbmc6YS5nZXQoImFuaW1hdGlvbkVhc2luZyIsITApfTt0LnN0b3BBbmltYXRpb24obnVsbCwhMCksdC5hbmltYXRlVG8oe3g6cyx5OjB9LGwpLGUmJmUuYW5pbWF0ZVRvKHtzaGFwZTp7eDI6c319LGwpfX19ZnVuY3Rpb24gSUUodCl7dmFyIGU9dCYmdC50aW1lbGluZTtGKGUpfHwoZT1lP1tlXTpbXSksTyhlLChmdW5jdGlvbih0KXt0JiZmdW5jdGlvbih0KXt2YXIgZT10LnR5cGUsbj17bnVtYmVyOiJ2YWx1ZSIsdGltZToidGltZSJ9O25bZV0mJih0LmF4aXNUeXBlPW5bZV0sZGVsZXRlIHQudHlwZSk7aWYoVEUodCksQ0UodCwiY29udHJvbFBvc2l0aW9uIikpe3ZhciBpPXQuY29udHJvbFN0eWxlfHwodC5jb250cm9sU3R5bGU9e30pO0NFKGksInBvc2l0aW9uIil8fChpLnBvc2l0aW9uPXQuY29udHJvbFBvc2l0aW9uKSwibm9uZSIhPT1pLnBvc2l0aW9ufHxDRShpLCJzaG93Iil8fChpLnNob3c9ITEsZGVsZXRlIGkucG9zaXRpb24pLGRlbGV0ZSB0LmNvbnRyb2xQb3NpdGlvbn1PKHQuZGF0YXx8W10sKGZ1bmN0aW9uKHQpe1kodCkmJiFGKHQpJiYoIUNFKHQsInZhbHVlIikmJkNFKHQsIm5hbWUiKSYmKHQudmFsdWU9dC5uYW1lKSxURSh0KSl9KSl9KHQpfSkpfWZ1bmN0aW9uIFRFKHQpe3ZhciBlPXQuaXRlbVN0eWxlfHwodC5pdGVtU3R5bGU9e30pLG49ZS5lbXBoYXNpc3x8KGUuZW1waGFzaXM9e30pLGk9dC5sYWJlbHx8dC5sYWJlbHx8e30scj1pLm5vcm1hbHx8KGkubm9ybWFsPXt9KSxvPXtub3JtYWw6MSxlbXBoYXNpczoxfTtPKGksKGZ1bmN0aW9uKHQsZSl7b1tlXXx8Q0UocixlKXx8KHJbZV09dCl9KSksbi5sYWJlbCYmIUNFKGksImVtcGhhc2lzIikmJihpLmVtcGhhc2lzPW4ubGFiZWwsZGVsZXRlIG4ubGFiZWwpfWZ1bmN0aW9uIENFKHQsZSl7cmV0dXJuIHQuaGFzT3duUHJvcGVydHkoZSl9ZnVuY3Rpb24gREUodCxlKXtpZighdClyZXR1cm4hMTtmb3IodmFyIG49Rih0KT90Olt0XSxpPTA7aTxuLmxlbmd0aDtpKyspaWYobltpXSYmbltpXVtlXSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBBRSh0KXtTcih0LCJsYWJlbCIsWyJzaG93Il0pfXZhciBrRT1ScigpLExFPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5jcmVhdGVkQnlTZWxmPSExLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLm1lcmdlRGVmYXVsdEFuZFRoZW1lKHQsbiksdGhpcy5fbWVyZ2VPcHRpb24odCxuLCExLCEwKX0sZS5wcm90b3R5cGUuaXNBbmltYXRpb25FbmFibGVkPWZ1bmN0aW9uKCl7aWYoYS5ub2RlKXJldHVybiExO3ZhciB0PXRoaXMuX19ob3N0U2VyaWVzO3JldHVybiB0aGlzLmdldFNoYWxsb3coImFuaW1hdGlvbiIpJiZ0JiZ0LmlzQW5pbWF0aW9uRW5hYmxlZCgpfSxlLnByb3RvdHlwZS5tZXJnZU9wdGlvbj1mdW5jdGlvbih0LGUpe3RoaXMuX21lcmdlT3B0aW9uKHQsZSwhMSwhMSl9LGUucHJvdG90eXBlLl9tZXJnZU9wdGlvbj1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzLm1haW5UeXBlO258fGUuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7dmFyIG49dC5nZXQodGhpcy5tYWluVHlwZSwhMCksbz1rRSh0KVtyXTtuJiZuLmRhdGE/KG8/by5fbWVyZ2VPcHRpb24obixlLCEwKTooaSYmQUUobiksTyhuLmRhdGEsKGZ1bmN0aW9uKHQpe3QgaW5zdGFuY2VvZiBBcnJheT8oQUUodFswXSksQUUodFsxXSkpOkFFKHQpfSkpLFQobz10aGlzLmNyZWF0ZU1hcmtlck1vZGVsRnJvbVNlcmllcyhuLHRoaXMsZSkse21haW5UeXBlOnRoaXMubWFpblR5cGUsc2VyaWVzSW5kZXg6dC5zZXJpZXNJbmRleCxuYW1lOnQubmFtZSxjcmVhdGVkQnlTZWxmOiEwfSksby5fX2hvc3RTZXJpZXM9dCksa0UodClbcl09byk6a0UodClbcl09bnVsbH0pLHRoaXMpfSxlLnByb3RvdHlwZS5mb3JtYXRUb29sdGlwPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLmdldERhdGEoKSxyPXRoaXMuZ2V0UmF3VmFsdWUodCksbz1pLmdldE5hbWUodCk7cmV0dXJuIHdmKCJzZWN0aW9uIix7aGVhZGVyOnRoaXMubmFtZSxibG9ja3M6W3dmKCJuYW1lVmFsdWUiLHtuYW1lOm8sdmFsdWU6cixub05hbWU6IW8sbm9WYWx1ZTpudWxsPT1yfSldfSl9LGUucHJvdG90eXBlLmdldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX0sZS5wcm90b3R5cGUuc2V0RGF0YT1mdW5jdGlvbih0KXt0aGlzLl9kYXRhPXR9LGUuZ2V0TWFya2VyTW9kZWxGcm9tU2VyaWVzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGtFKHQpW2VdfSxlLnR5cGU9Im1hcmtlciIsZS5kZXBlbmRlbmNpZXM9WyJzZXJpZXMiLCJncmlkIiwicG9sYXIiLCJnZW8iXSxlfShucCk7TChMRSxFZC5wcm90b3R5cGUpO3ZhciBQRT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5jcmVhdGVNYXJrZXJNb2RlbEZyb21TZXJpZXM9ZnVuY3Rpb24odCxuLGkpe3JldHVybiBuZXcgZSh0LG4saSl9LGUudHlwZT0ibWFya1BvaW50IixlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6NSxzeW1ib2w6InBpbiIsc3ltYm9sU2l6ZTo1MCx0b29sdGlwOnt0cmlnZ2VyOiJpdGVtIn0sbGFiZWw6e3Nob3c6ITAscG9zaXRpb246Imluc2lkZSJ9LGl0ZW1TdHlsZTp7Ym9yZGVyV2lkdGg6Mn0sZW1waGFzaXM6e2xhYmVsOntzaG93OiEwfX19LGV9KExFKTtmdW5jdGlvbiBPRSh0LGUsbixpLHIsbyl7dmFyIGE9W10scz15XyhlLGkpP2UuZ2V0Q2FsY3VsYXRpb25JbmZvKCJzdGFja1Jlc3VsdERpbWVuc2lvbiIpOmksbD1CRShlLHMsdCksdT1lLmluZGljZXNPZk5lYXJlc3QocyxsKVswXTthW3JdPWUuZ2V0KG4sdSksYVtvXT1lLmdldChzLHUpO3ZhciBoPWUuZ2V0KGksdSksYz1KaShlLmdldChpLHUpKTtyZXR1cm4oYz1NYXRoLm1pbihjLDIwKSk+PTAmJihhW29dPSthW29dLnRvRml4ZWQoYykpLFthLGhdfXZhciBSRT17bWluOkcoT0UsIm1pbiIpLG1heDpHKE9FLCJtYXgiKSxhdmVyYWdlOkcoT0UsImF2ZXJhZ2UiKSxtZWRpYW46RyhPRSwibWVkaWFuIil9O2Z1bmN0aW9uIE5FKHQsZSl7dmFyIG49dC5nZXREYXRhKCksaT10LmNvb3JkaW5hdGVTeXN0ZW07aWYoZSYmIWZ1bmN0aW9uKHQpe3JldHVybiFpc05hTihwYXJzZUZsb2F0KHQueCkpJiYhaXNOYU4ocGFyc2VGbG9hdCh0LnkpKX0oZSkmJiFGKGUuY29vcmQpJiZpKXt2YXIgcj1pLmRpbWVuc2lvbnMsbz16RShlLG4saSx0KTtpZigoZT1TKGUpKS50eXBlJiZSRVtlLnR5cGVdJiZvLmJhc2VBeGlzJiZvLnZhbHVlQXhpcyl7dmFyIGE9QShyLG8uYmFzZUF4aXMuZGltKSxzPUEocixvLnZhbHVlQXhpcy5kaW0pLGw9UkVbZS50eXBlXShuLG8uYmFzZURhdGFEaW0sby52YWx1ZURhdGFEaW0sYSxzKTtlLmNvb3JkPWxbMF0sZS52YWx1ZT1sWzFdfWVsc2V7Zm9yKHZhciB1PVtudWxsIT1lLnhBeGlzP2UueEF4aXM6ZS5yYWRpdXNBeGlzLG51bGwhPWUueUF4aXM/ZS55QXhpczplLmFuZ2xlQXhpc10saD0wO2g8MjtoKyspUkVbdVtoXV0mJih1W2hdPUJFKG4sbi5tYXBEaW1lbnNpb24ocltoXSksdVtoXSkpO2UuY29vcmQ9dX19cmV0dXJuIGV9ZnVuY3Rpb24gekUodCxlLG4saSl7dmFyIHI9e307cmV0dXJuIG51bGwhPXQudmFsdWVJbmRleHx8bnVsbCE9dC52YWx1ZURpbT8oci52YWx1ZURhdGFEaW09bnVsbCE9dC52YWx1ZUluZGV4P2UuZ2V0RGltZW5zaW9uKHQudmFsdWVJbmRleCk6dC52YWx1ZURpbSxyLnZhbHVlQXhpcz1uLmdldEF4aXMoZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldERhdGEoKS5nZXREaW1lbnNpb25JbmZvKGUpO3JldHVybiBuJiZuLmNvb3JkRGltfShpLHIudmFsdWVEYXRhRGltKSksci5iYXNlQXhpcz1uLmdldE90aGVyQXhpcyhyLnZhbHVlQXhpcyksci5iYXNlRGF0YURpbT1lLm1hcERpbWVuc2lvbihyLmJhc2VBeGlzLmRpbSkpOihyLmJhc2VBeGlzPWkuZ2V0QmFzZUF4aXMoKSxyLnZhbHVlQXhpcz1uLmdldE90aGVyQXhpcyhyLmJhc2VBeGlzKSxyLmJhc2VEYXRhRGltPWUubWFwRGltZW5zaW9uKHIuYmFzZUF4aXMuZGltKSxyLnZhbHVlRGF0YURpbT1lLm1hcERpbWVuc2lvbihyLnZhbHVlQXhpcy5kaW0pKSxyfWZ1bmN0aW9uIEVFKHQsZSl7cmV0dXJuISh0JiZ0LmNvbnRhaW5EYXRhJiZlLmNvb3JkJiYhZnVuY3Rpb24odCl7cmV0dXJuIShpc05hTihwYXJzZUZsb2F0KHQueCkpJiZpc05hTihwYXJzZUZsb2F0KHQueSkpKX0oZSkpfHx0LmNvbnRhaW5EYXRhKGUuY29vcmQpfWZ1bmN0aW9uIFZFKHQsZSl7cmV0dXJuIHQ/ZnVuY3Rpb24odCxuLGkscil7cmV0dXJuIEhkKHI8Mj90LmNvb3JkJiZ0LmNvb3JkW3JdOnQudmFsdWUsZVtyXSl9OmZ1bmN0aW9uKHQsbixpLHIpe3JldHVybiBIZCh0LnZhbHVlLGVbcl0pfX1mdW5jdGlvbiBCRSh0LGUsbil7aWYoImF2ZXJhZ2UiPT09bil7dmFyIGk9MCxyPTA7cmV0dXJuIHQuZWFjaChlLChmdW5jdGlvbih0LGUpe2lzTmFOKHQpfHwoaSs9dCxyKyspfSkpLGkvcn1yZXR1cm4ibWVkaWFuIj09PW4/dC5nZXRNZWRpYW4oZSk6dC5nZXREYXRhRXh0ZW50KGUpWyJtYXgiPT09bj8xOjBdfXZhciBHRT1ScigpLEZFPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLm1hcmtlckdyb3VwTWFwPWN0KCl9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcyxyPXRoaXMubWFya2VyR3JvdXBNYXA7ci5lYWNoKChmdW5jdGlvbih0KXtHRSh0KS5rZWVwPSExfSkpLGUuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7dmFyIHI9TEUuZ2V0TWFya2VyTW9kZWxGcm9tU2VyaWVzKHQsaS50eXBlKTtyJiZpLnJlbmRlclNlcmllcyh0LHIsZSxuKX0pKSxyLmVhY2goKGZ1bmN0aW9uKHQpeyFHRSh0KS5rZWVwJiZpLmdyb3VwLnJlbW92ZSh0Lmdyb3VwKX0pKX0sZS5wcm90b3R5cGUubWFya0tlZXA9ZnVuY3Rpb24odCl7R0UodCkua2VlcD0hMH0sZS5wcm90b3R5cGUuYmx1clNlcmllcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO08odCwoZnVuY3Rpb24odCl7dmFyIG49TEUuZ2V0TWFya2VyTW9kZWxGcm9tU2VyaWVzKHQsZS50eXBlKTtuJiZuLmdldERhdGEoKS5lYWNoSXRlbUdyYXBoaWNFbCgoZnVuY3Rpb24odCl7dCYmZWwodCl9KSl9KSl9LGUudHlwZT0ibWFya2VyIixlfShXZik7ZnVuY3Rpb24gSEUodCxlLG4pe3ZhciBpPWUuY29vcmRpbmF0ZVN5c3RlbTt0LmVhY2goKGZ1bmN0aW9uKHIpe3ZhciBvLGE9dC5nZXRJdGVtTW9kZWwocikscz1xaShhLmdldCgieCIpLG4uZ2V0V2lkdGgoKSksbD1xaShhLmdldCgieSIpLG4uZ2V0SGVpZ2h0KCkpO2lmKGlzTmFOKHMpfHxpc05hTihsKSl7aWYoZS5nZXRNYXJrZXJQb3NpdGlvbilvPWUuZ2V0TWFya2VyUG9zaXRpb24odC5nZXRWYWx1ZXModC5kaW1lbnNpb25zLHIpKTtlbHNlIGlmKGkpe3ZhciB1PXQuZ2V0KGkuZGltZW5zaW9uc1swXSxyKSxoPXQuZ2V0KGkuZGltZW5zaW9uc1sxXSxyKTtvPWkuZGF0YVRvUG9pbnQoW3UsaF0pfX1lbHNlIG89W3MsbF07aXNOYU4ocyl8fChvWzBdPXMpLGlzTmFOKGwpfHwob1sxXT1sKSx0LnNldEl0ZW1MYXlvdXQocixvKX0pKX12YXIgV0U9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSxuKXtlLmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe3ZhciBlPUxFLmdldE1hcmtlck1vZGVsRnJvbVNlcmllcyh0LCJtYXJrUG9pbnQiKTtlJiYoSEUoZS5nZXREYXRhKCksdCxuKSx0aGlzLm1hcmtlckdyb3VwTWFwLmdldCh0LmlkKS51cGRhdGVMYXlvdXQoKSl9KSx0aGlzKX0sZS5wcm90b3R5cGUucmVuZGVyU2VyaWVzPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXQuY29vcmRpbmF0ZVN5c3RlbSxvPXQuaWQsYT10LmdldERhdGEoKSxzPXRoaXMubWFya2VyR3JvdXBNYXAsbD1zLmdldChvKXx8cy5zZXQobyxuZXcgencpLHU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpO2k9dD9SKHQmJnQuZGltZW5zaW9ucywoZnVuY3Rpb24odCl7cmV0dXJuIFQoVCh7fSxlLmdldERhdGEoKS5nZXREaW1lbnNpb25JbmZvKGUuZ2V0RGF0YSgpLm1hcERpbWVuc2lvbih0KSl8fHt9KSx7bmFtZTp0LG9yZGluYWxNZXRhOm51bGx9KX0pKTpbe25hbWU6InZhbHVlIix0eXBlOiJmbG9hdCJ9XTt2YXIgcj1uZXcgdV8oaSxuKSxvPVIobi5nZXQoImRhdGEiKSxHKE5FLGUpKTt0JiYobz16KG8sRyhFRSx0KSkpO3ZhciBhPVZFKCEhdCxpKTtyZXR1cm4gci5pbml0RGF0YShvLG51bGwsYSkscn0ocix0LGUpO2Uuc2V0RGF0YSh1KSxIRShlLmdldERhdGEoKSx0LGkpLHUuZWFjaCgoZnVuY3Rpb24odCl7dmFyIG49dS5nZXRJdGVtTW9kZWwodCksaT1uLmdldFNoYWxsb3coInN5bWJvbCIpLHI9bi5nZXRTaGFsbG93KCJzeW1ib2xTaXplIiksbz1uLmdldFNoYWxsb3coInN5bWJvbFJvdGF0ZSIpLHM9bi5nZXRTaGFsbG93KCJzeW1ib2xPZmZzZXQiKSxsPW4uZ2V0U2hhbGxvdygic3ltYm9sS2VlcEFzcGVjdCIpO2lmKEgoaSl8fEgocil8fEgobyl8fEgocykpe3ZhciBoPWUuZ2V0UmF3VmFsdWUodCksYz1lLmdldERhdGFQYXJhbXModCk7SChpKSYmKGk9aShoLGMpKSxIKHIpJiYocj1yKGgsYykpLEgobykmJihvPW8oaCxjKSksSChzKSYmKHM9cyhoLGMpKX12YXIgcD1uLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSxkPUJnKGEsImNvbG9yIik7cC5maWxsfHwocC5maWxsPWQpLHUuc2V0SXRlbVZpc3VhbCh0LHtzeW1ib2w6aSxzeW1ib2xTaXplOnIsc3ltYm9sUm90YXRlOm8sc3ltYm9sT2Zmc2V0OnMsc3ltYm9sS2VlcEFzcGVjdDpsLHN0eWxlOnB9KX0pKSxsLnVwZGF0ZURhdGEodSksdGhpcy5ncm91cC5hZGQobC5ncm91cCksdS5lYWNoSXRlbUdyYXBoaWNFbCgoZnVuY3Rpb24odCl7dC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7U3ModCkuZGF0YU1vZGVsPWV9KSl9KSksdGhpcy5tYXJrS2VlcChsKSxsLmdyb3VwLnNpbGVudD1lLmdldCgic2lsZW50Iil8fHQuZ2V0KCJzaWxlbnQiKX0sZS50eXBlPSJtYXJrUG9pbnQiLGV9KEZFKTt2YXIgVUU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuY3JlYXRlTWFya2VyTW9kZWxGcm9tU2VyaWVzPWZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbmV3IGUodCxuLGkpfSxlLnR5cGU9Im1hcmtMaW5lIixlLmRlZmF1bHRPcHRpb249e3psZXZlbDowLHo6NSxzeW1ib2w6WyJjaXJjbGUiLCJhcnJvdyJdLHN5bWJvbFNpemU6WzgsMTZdLHN5bWJvbE9mZnNldDowLHByZWNpc2lvbjoyLHRvb2x0aXA6e3RyaWdnZXI6Iml0ZW0ifSxsYWJlbDp7c2hvdzohMCxwb3NpdGlvbjoiZW5kIixkaXN0YW5jZTo1fSxsaW5lU3R5bGU6e3R5cGU6ImRhc2hlZCJ9LGVtcGhhc2lzOntsYWJlbDp7c2hvdzohMH0sbGluZVN0eWxlOnt3aWR0aDozfX0sYW5pbWF0aW9uRWFzaW5nOiJsaW5lYXIifSxlfShMRSksWEU9UnIoKSxZRT1mdW5jdGlvbih0LGUsbixpKXt2YXIgcixvPXQuZ2V0RGF0YSgpO2lmKEYoaSkpcj1pO2Vsc2V7dmFyIGE9aS50eXBlO2lmKCJtaW4iPT09YXx8Im1heCI9PT1hfHwiYXZlcmFnZSI9PT1hfHwibWVkaWFuIj09PWF8fG51bGwhPWkueEF4aXN8fG51bGwhPWkueUF4aXMpe3ZhciBzPXZvaWQgMCxsPXZvaWQgMDtpZihudWxsIT1pLnlBeGlzfHxudWxsIT1pLnhBeGlzKXM9ZS5nZXRBeGlzKG51bGwhPWkueUF4aXM/InkiOiJ4IiksbD10dChpLnlBeGlzLGkueEF4aXMpO2Vsc2V7dmFyIHU9ekUoaSxvLGUsdCk7cz11LnZhbHVlQXhpcyxsPUJFKG8sdl8obyx1LnZhbHVlRGF0YURpbSksYSl9dmFyIGg9IngiPT09cy5kaW0/MDoxLGM9MS1oLHA9UyhpKSxkPXtjb29yZDpbXX07cC50eXBlPW51bGwscC5jb29yZD1bXSxwLmNvb3JkW2NdPS0xLzAsZC5jb29yZFtjXT0xLzA7dmFyIGY9bi5nZXQoInByZWNpc2lvbiIpO2Y+PTAmJiJudW1iZXIiPT10eXBlb2YgbCYmKGw9K2wudG9GaXhlZChNYXRoLm1pbihmLDIwKSkpLHAuY29vcmRbaF09ZC5jb29yZFtoXT1sLHI9W3AsZCx7dHlwZTphLHZhbHVlSW5kZXg6aS52YWx1ZUluZGV4LHZhbHVlOmx9XX1lbHNlIHI9W119dmFyIGc9W05FKHQsclswXSksTkUodCxyWzFdKSxUKHt9LHJbMl0pXTtyZXR1cm4gZ1syXS50eXBlPWdbMl0udHlwZXx8bnVsbCxNKGdbMl0sZ1swXSksTShnWzJdLGdbMV0pLGd9O2Z1bmN0aW9uIFpFKHQpe3JldHVybiFpc05hTih0KSYmIWlzRmluaXRlKHQpfWZ1bmN0aW9uIGpFKHQsZSxuLGkpe3ZhciByPTEtdCxvPWkuZGltZW5zaW9uc1t0XTtyZXR1cm4gWkUoZVtyXSkmJlpFKG5bcl0pJiZlW3RdPT09blt0XSYmaS5nZXRBeGlzKG8pLmNvbnRhaW5EYXRhKGVbdF0pfWZ1bmN0aW9uIHFFKHQsZSl7aWYoImNhcnRlc2lhbjJkIj09PXQudHlwZSl7dmFyIG49ZVswXS5jb29yZCxpPWVbMV0uY29vcmQ7aWYobiYmaSYmKGpFKDEsbixpLHQpfHxqRSgwLG4saSx0KSkpcmV0dXJuITB9cmV0dXJuIEVFKHQsZVswXSkmJkVFKHQsZVsxXSl9ZnVuY3Rpb24gS0UodCxlLG4saSxyKXt2YXIgbyxhPWkuY29vcmRpbmF0ZVN5c3RlbSxzPXQuZ2V0SXRlbU1vZGVsKGUpLGw9cWkocy5nZXQoIngiKSxyLmdldFdpZHRoKCkpLHU9cWkocy5nZXQoInkiKSxyLmdldEhlaWdodCgpKTtpZihpc05hTihsKXx8aXNOYU4odSkpe2lmKGkuZ2V0TWFya2VyUG9zaXRpb24pbz1pLmdldE1hcmtlclBvc2l0aW9uKHQuZ2V0VmFsdWVzKHQuZGltZW5zaW9ucyxlKSk7ZWxzZXt2YXIgaD1hLmRpbWVuc2lvbnMsYz10LmdldChoWzBdLGUpLHA9dC5nZXQoaFsxXSxlKTtvPWEuZGF0YVRvUG9pbnQoW2MscF0pfWlmKFF3KGEsImNhcnRlc2lhbjJkIikpe3ZhciBkPWEuZ2V0QXhpcygieCIpLGY9YS5nZXRBeGlzKCJ5Iik7aD1hLmRpbWVuc2lvbnM7WkUodC5nZXQoaFswXSxlKSk/b1swXT1kLnRvR2xvYmFsQ29vcmQoZC5nZXRFeHRlbnQoKVtuPzA6MV0pOlpFKHQuZ2V0KGhbMV0sZSkpJiYob1sxXT1mLnRvR2xvYmFsQ29vcmQoZi5nZXRFeHRlbnQoKVtuPzA6MV0pKX1pc05hTihsKXx8KG9bMF09bCksaXNOYU4odSl8fChvWzFdPXUpfWVsc2Ugbz1bbCx1XTt0LnNldEl0ZW1MYXlvdXQoZSxvKX12YXIgJEU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSxuKXtlLmVhY2hTZXJpZXMoKGZ1bmN0aW9uKHQpe3ZhciBlPUxFLmdldE1hcmtlck1vZGVsRnJvbVNlcmllcyh0LCJtYXJrTGluZSIpO2lmKGUpe3ZhciBpPWUuZ2V0RGF0YSgpLHI9WEUoZSkuZnJvbSxvPVhFKGUpLnRvO3IuZWFjaCgoZnVuY3Rpb24oZSl7S0UocixlLCEwLHQsbiksS0UobyxlLCExLHQsbil9KSksaS5lYWNoKChmdW5jdGlvbih0KXtpLnNldEl0ZW1MYXlvdXQodCxbci5nZXRJdGVtTGF5b3V0KHQpLG8uZ2V0SXRlbUxheW91dCh0KV0pfSkpLHRoaXMubWFya2VyR3JvdXBNYXAuZ2V0KHQuaWQpLnVwZGF0ZUxheW91dCgpfX0pLHRoaXMpfSxlLnByb3RvdHlwZS5yZW5kZXJTZXJpZXM9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dC5jb29yZGluYXRlU3lzdGVtLG89dC5pZCxhPXQuZ2V0RGF0YSgpLHM9dGhpcy5tYXJrZXJHcm91cE1hcCxsPXMuZ2V0KG8pfHxzLnNldChvLG5ldyB5RCk7dGhpcy5ncm91cC5hZGQobC5ncm91cCk7dmFyIHU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpO2k9dD9SKHQmJnQuZGltZW5zaW9ucywoZnVuY3Rpb24odCl7cmV0dXJuIFQoVCh7fSxlLmdldERhdGEoKS5nZXREaW1lbnNpb25JbmZvKGUuZ2V0RGF0YSgpLm1hcERpbWVuc2lvbih0KSl8fHt9KSx7bmFtZTp0LG9yZGluYWxNZXRhOm51bGx9KX0pKTpbe25hbWU6InZhbHVlIix0eXBlOiJmbG9hdCJ9XTt2YXIgcj1uZXcgdV8oaSxuKSxvPW5ldyB1XyhpLG4pLGE9bmV3IHVfKFtdLG4pLHM9UihuLmdldCgiZGF0YSIpLEcoWUUsZSx0LG4pKTt0JiYocz16KHMsRyhxRSx0KSkpO3ZhciBsPVZFKCEhdCxpKTtyZXR1cm4gci5pbml0RGF0YShSKHMsKGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdfSkpLG51bGwsbCksby5pbml0RGF0YShSKHMsKGZ1bmN0aW9uKHQpe3JldHVybiB0WzFdfSkpLG51bGwsbCksYS5pbml0RGF0YShSKHMsKGZ1bmN0aW9uKHQpe3JldHVybiB0WzJdfSkpKSxhLmhhc0l0ZW1PcHRpb249ITAse2Zyb206cix0bzpvLGxpbmU6YX19KHIsdCxlKSxoPXUuZnJvbSxjPXUudG8scD11LmxpbmU7WEUoZSkuZnJvbT1oLFhFKGUpLnRvPWMsZS5zZXREYXRhKHApO3ZhciBkPWUuZ2V0KCJzeW1ib2wiKSxmPWUuZ2V0KCJzeW1ib2xTaXplIiksZz1lLmdldCgic3ltYm9sUm90YXRlIikseT1lLmdldCgic3ltYm9sT2Zmc2V0Iik7ZnVuY3Rpb24gdihlLG4scil7dmFyIG89ZS5nZXRJdGVtTW9kZWwobik7S0UoZSxuLHIsdCxpKTt2YXIgcz1vLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKTtudWxsPT1zLmZpbGwmJihzLmZpbGw9QmcoYSwiY29sb3IiKSksZS5zZXRJdGVtVmlzdWFsKG4se3N5bWJvbEtlZXBBc3BlY3Q6by5nZXQoInN5bWJvbEtlZXBBc3BlY3QiKSxzeW1ib2xPZmZzZXQ6ZXQoby5nZXQoInN5bWJvbE9mZnNldCIsITApLHlbcj8wOjFdKSxzeW1ib2xSb3RhdGU6ZXQoby5nZXQoInN5bWJvbFJvdGF0ZSIsITApLGdbcj8wOjFdKSxzeW1ib2xTaXplOmV0KG8uZ2V0KCJzeW1ib2xTaXplIiksZltyPzA6MV0pLHN5bWJvbDpldChvLmdldCgic3ltYm9sIiwhMCksZFtyPzA6MV0pLHN0eWxlOnN9KX1GKGQpfHwoZD1bZCxkXSksRihmKXx8KGY9W2YsZl0pLEYoZyl8fChnPVtnLGddKSxGKHkpfHwoeT1beSx5XSksdS5mcm9tLmVhY2goKGZ1bmN0aW9uKHQpe3YoaCx0LCEwKSx2KGMsdCwhMSl9KSkscC5lYWNoKChmdW5jdGlvbih0KXt2YXIgZT1wLmdldEl0ZW1Nb2RlbCh0KS5nZXRNb2RlbCgibGluZVN0eWxlIikuZ2V0TGluZVN0eWxlKCk7cC5zZXRJdGVtTGF5b3V0KHQsW2guZ2V0SXRlbUxheW91dCh0KSxjLmdldEl0ZW1MYXlvdXQodCldKSxudWxsPT1lLnN0cm9rZSYmKGUuc3Ryb2tlPWguZ2V0SXRlbVZpc3VhbCh0LCJzdHlsZSIpLmZpbGwpLHAuc2V0SXRlbVZpc3VhbCh0LHtmcm9tU3ltYm9sS2VlcEFzcGVjdDpoLmdldEl0ZW1WaXN1YWwodCwic3ltYm9sS2VlcEFzcGVjdCIpLGZyb21TeW1ib2xPZmZzZXQ6aC5nZXRJdGVtVmlzdWFsKHQsInN5bWJvbE9mZnNldCIpLGZyb21TeW1ib2xSb3RhdGU6aC5nZXRJdGVtVmlzdWFsKHQsInN5bWJvbFJvdGF0ZSIpLGZyb21TeW1ib2xTaXplOmguZ2V0SXRlbVZpc3VhbCh0LCJzeW1ib2xTaXplIiksZnJvbVN5bWJvbDpoLmdldEl0ZW1WaXN1YWwodCwic3ltYm9sIiksdG9TeW1ib2xLZWVwQXNwZWN0OmMuZ2V0SXRlbVZpc3VhbCh0LCJzeW1ib2xLZWVwQXNwZWN0IiksdG9TeW1ib2xPZmZzZXQ6Yy5nZXRJdGVtVmlzdWFsKHQsInN5bWJvbE9mZnNldCIpLHRvU3ltYm9sUm90YXRlOmMuZ2V0SXRlbVZpc3VhbCh0LCJzeW1ib2xSb3RhdGUiKSx0b1N5bWJvbFNpemU6Yy5nZXRJdGVtVmlzdWFsKHQsInN5bWJvbFNpemUiKSx0b1N5bWJvbDpjLmdldEl0ZW1WaXN1YWwodCwic3ltYm9sIiksc3R5bGU6ZX0pfSkpLGwudXBkYXRlRGF0YShwKSx1LmxpbmUuZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKHQsbil7dC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7U3ModCkuZGF0YU1vZGVsPWV9KSl9KSksdGhpcy5tYXJrS2VlcChsKSxsLmdyb3VwLnNpbGVudD1lLmdldCgic2lsZW50Iil8fHQuZ2V0KCJzaWxlbnQiKX0sZS50eXBlPSJtYXJrTGluZSIsZX0oRkUpO3ZhciBKRT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5jcmVhdGVNYXJrZXJNb2RlbEZyb21TZXJpZXM9ZnVuY3Rpb24odCxuLGkpe3JldHVybiBuZXcgZSh0LG4saSl9LGUudHlwZT0ibWFya0FyZWEiLGUuZGVmYXVsdE9wdGlvbj17emxldmVsOjAsejoxLHRvb2x0aXA6e3RyaWdnZXI6Iml0ZW0ifSxhbmltYXRpb246ITEsbGFiZWw6e3Nob3c6ITAscG9zaXRpb246InRvcCJ9LGl0ZW1TdHlsZTp7Ym9yZGVyV2lkdGg6MH0sZW1waGFzaXM6e2xhYmVsOntzaG93OiEwLHBvc2l0aW9uOiJ0b3AifX19LGV9KExFKSxRRT1ScigpLHRWPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPU5FKHQsaVswXSksbz1ORSh0LGlbMV0pLGE9ci5jb29yZCxzPW8uY29vcmQ7YVswXT10dChhWzBdLC0xLzApLGFbMV09dHQoYVsxXSwtMS8wKSxzWzBdPXR0KHNbMF0sMS8wKSxzWzFdPXR0KHNbMV0sMS8wKTt2YXIgbD1JKFt7fSxyLG9dKTtyZXR1cm4gbC5jb29yZD1bci5jb29yZCxvLmNvb3JkXSxsLngwPXIueCxsLnkwPXIueSxsLngxPW8ueCxsLnkxPW8ueSxsfTtmdW5jdGlvbiBlVih0KXtyZXR1cm4haXNOYU4odCkmJiFpc0Zpbml0ZSh0KX1mdW5jdGlvbiBuVih0LGUsbixpKXt2YXIgcj0xLXQ7cmV0dXJuIGVWKGVbcl0pJiZlVihuW3JdKX1mdW5jdGlvbiBpVih0LGUpe3ZhciBuPWUuY29vcmRbMF0saT1lLmNvb3JkWzFdO3JldHVybiEhKFF3KHQsImNhcnRlc2lhbjJkIikmJm4mJmkmJihuVigxLG4saSl8fG5WKDAsbixpKSkpfHwoRUUodCx7Y29vcmQ6bix4OmUueDAseTplLnkwfSl8fEVFKHQse2Nvb3JkOmkseDplLngxLHk6ZS55MX0pKX1mdW5jdGlvbiByVih0LGUsbixpLHIpe3ZhciBvLGE9aS5jb29yZGluYXRlU3lzdGVtLHM9dC5nZXRJdGVtTW9kZWwoZSksbD1xaShzLmdldChuWzBdKSxyLmdldFdpZHRoKCkpLHU9cWkocy5nZXQoblsxXSksci5nZXRIZWlnaHQoKSk7aWYoaXNOYU4obCl8fGlzTmFOKHUpKXtpZihpLmdldE1hcmtlclBvc2l0aW9uKW89aS5nZXRNYXJrZXJQb3NpdGlvbih0LmdldFZhbHVlcyhuLGUpKTtlbHNle3ZhciBoPVtkPXQuZ2V0KG5bMF0sZSksZj10LmdldChuWzFdLGUpXTthLmNsYW1wRGF0YSYmYS5jbGFtcERhdGEoaCxoKSxvPWEuZGF0YVRvUG9pbnQoaCwhMCl9aWYoUXcoYSwiY2FydGVzaWFuMmQiKSl7dmFyIGM9YS5nZXRBeGlzKCJ4IikscD1hLmdldEF4aXMoInkiKSxkPXQuZ2V0KG5bMF0sZSksZj10LmdldChuWzFdLGUpO2VWKGQpP29bMF09Yy50b0dsb2JhbENvb3JkKGMuZ2V0RXh0ZW50KClbIngwIj09PW5bMF0/MDoxXSk6ZVYoZikmJihvWzFdPXAudG9HbG9iYWxDb29yZChwLmdldEV4dGVudCgpWyJ5MCI9PT1uWzFdPzA6MV0pKX1pc05hTihsKXx8KG9bMF09bCksaXNOYU4odSl8fChvWzFdPXUpfWVsc2Ugbz1bbCx1XTtyZXR1cm4gb312YXIgb1Y9W1sieDAiLCJ5MCJdLFsieDEiLCJ5MCJdLFsieDEiLCJ5MSJdLFsieDAiLCJ5MSJdXSxhVj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24odCxlLG4pe2UuZWFjaFNlcmllcygoZnVuY3Rpb24odCl7dmFyIGU9TEUuZ2V0TWFya2VyTW9kZWxGcm9tU2VyaWVzKHQsIm1hcmtBcmVhIik7aWYoZSl7dmFyIGk9ZS5nZXREYXRhKCk7aS5lYWNoKChmdW5jdGlvbihlKXt2YXIgcj1SKG9WLChmdW5jdGlvbihyKXtyZXR1cm4gclYoaSxlLHIsdCxuKX0pKTtpLnNldEl0ZW1MYXlvdXQoZSxyKSxpLmdldEl0ZW1HcmFwaGljRWwoZSkuc2V0U2hhcGUoInBvaW50cyIscil9KSl9fSksdGhpcyl9LGUucHJvdG90eXBlLnJlbmRlclNlcmllcz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LmNvb3JkaW5hdGVTeXN0ZW0sbz10LmlkLGE9dC5nZXREYXRhKCkscz10aGlzLm1hcmtlckdyb3VwTWFwLGw9cy5nZXQobyl8fHMuc2V0KG8se2dyb3VwOm5ldyBCaX0pO3RoaXMuZ3JvdXAuYWRkKGwuZ3JvdXApLHRoaXMubWFya0tlZXAobCk7dmFyIHU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpLHIsbz1bIngwIiwieTAiLCJ4MSIsInkxIl07aWYodCl7dmFyIGE9Uih0JiZ0LmRpbWVuc2lvbnMsKGZ1bmN0aW9uKHQpe3ZhciBuPWUuZ2V0RGF0YSgpO3JldHVybiBUKFQoe30sbi5nZXREaW1lbnNpb25JbmZvKG4ubWFwRGltZW5zaW9uKHQpKXx8e30pLHtuYW1lOnQsb3JkaW5hbE1ldGE6bnVsbH0pfSkpO3I9UihvLChmdW5jdGlvbih0LGUpe3JldHVybntuYW1lOnQsdHlwZTphW2UlMl0udHlwZX19KSksaT1uZXcgdV8ocixuKX1lbHNlIGk9bmV3IHVfKHI9W3tuYW1lOiJ2YWx1ZSIsdHlwZToiZmxvYXQifV0sbik7dmFyIHM9UihuLmdldCgiZGF0YSIpLEcodFYsZSx0LG4pKTt0JiYocz16KHMsRyhpVix0KSkpO3ZhciBsPXQ/ZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuIEhkKHQuY29vcmRbTWF0aC5mbG9vcihpLzIpXVtpJTJdLHJbaV0pfTpmdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gSGQodC52YWx1ZSxyW2ldKX07cmV0dXJuIGkuaW5pdERhdGEocyxudWxsLGwpLGkuaGFzSXRlbU9wdGlvbj0hMCxpfShyLHQsZSk7ZS5zZXREYXRhKHUpLHUuZWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49UihvViwoZnVuY3Rpb24obil7cmV0dXJuIHJWKHUsZSxuLHQsaSl9KSksbz1yLmdldEF4aXMoIngiKS5zY2FsZSxzPXIuZ2V0QXhpcygieSIpLnNjYWxlLGw9by5nZXRFeHRlbnQoKSxoPXMuZ2V0RXh0ZW50KCksYz1bby5wYXJzZSh1LmdldCgieDAiLGUpKSxvLnBhcnNlKHUuZ2V0KCJ4MSIsZSkpXSxwPVtzLnBhcnNlKHUuZ2V0KCJ5MCIsZSkpLHMucGFyc2UodS5nZXQoInkxIixlKSldOyRpKGMpLCRpKHApO3ZhciBkPSEhKGxbMF0+Y1sxXXx8bFsxXTxjWzBdfHxoWzBdPnBbMV18fGhbMV08cFswXSk7dS5zZXRJdGVtTGF5b3V0KGUse3BvaW50czpuLGFsbENsaXBwZWQ6ZH0pO3ZhciBmPXUuZ2V0SXRlbU1vZGVsKGUpLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSxnPUJnKGEsImNvbG9yIik7Zi5maWxsfHwoZi5maWxsPWcsInN0cmluZyI9PXR5cGVvZiBmLmZpbGwmJihmLmZpbGw9SmUoZi5maWxsLC40KSkpLGYuc3Ryb2tlfHwoZi5zdHJva2U9ZyksdS5zZXRJdGVtVmlzdWFsKGUsInN0eWxlIixmKX0pKSx1LmRpZmYoUUUobCkuZGF0YSkuYWRkKChmdW5jdGlvbih0KXt2YXIgZT11LmdldEl0ZW1MYXlvdXQodCk7aWYoIWUuYWxsQ2xpcHBlZCl7dmFyIG49bmV3IGN1KHtzaGFwZTp7cG9pbnRzOmUucG9pbnRzfX0pO3Uuc2V0SXRlbUdyYXBoaWNFbCh0LG4pLGwuZ3JvdXAuYWRkKG4pfX0pKS51cGRhdGUoKGZ1bmN0aW9uKHQsbil7dmFyIGk9UUUobCkuZGF0YS5nZXRJdGVtR3JhcGhpY0VsKG4pLHI9dS5nZXRJdGVtTGF5b3V0KHQpO3IuYWxsQ2xpcHBlZD9pJiZsLmdyb3VwLnJlbW92ZShpKTooaT9FdShpLHtzaGFwZTp7cG9pbnRzOnIucG9pbnRzfX0sZSx0KTppPW5ldyBjdSh7c2hhcGU6e3BvaW50czpyLnBvaW50c319KSx1LnNldEl0ZW1HcmFwaGljRWwodCxpKSxsLmdyb3VwLmFkZChpKSl9KSkucmVtb3ZlKChmdW5jdGlvbih0KXt2YXIgZT1RRShsKS5kYXRhLmdldEl0ZW1HcmFwaGljRWwodCk7bC5ncm91cC5yZW1vdmUoZSl9KSkuZXhlY3V0ZSgpLHUuZWFjaEl0ZW1HcmFwaGljRWwoKGZ1bmN0aW9uKHQsbil7dmFyIGk9dS5nZXRJdGVtTW9kZWwobikscj11LmdldEl0ZW1WaXN1YWwobiwic3R5bGUiKTt0LnVzZVN0eWxlKHUuZ2V0SXRlbVZpc3VhbChuLCJzdHlsZSIpKSx4aCh0LGJoKGkpLHtsYWJlbEZldGNoZXI6ZSxsYWJlbERhdGFJbmRleDpuLGRlZmF1bHRUZXh0OnUuZ2V0TmFtZShuKXx8IiIsaW5oZXJpdENvbG9yOiJzdHJpbmciPT10eXBlb2Ygci5maWxsP0plKHIuZmlsbCwxKToiIzAwMCJ9KSx5bCh0LGkpLHBsKHQpLFNzKHQpLmRhdGFNb2RlbD1lfSkpLFFFKGwpLmRhdGE9dSxsLmdyb3VwLnNpbGVudD1lLmdldCgic2lsZW50Iil8fHQuZ2V0KCJzaWxlbnQiKX0sZS50eXBlPSJtYXJrQXJlYSIsZX0oRkUpO3ZhciBzVj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4ubGF5b3V0TW9kZT17dHlwZToiYm94IixpZ25vcmVTaXplOiEwfSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUsbil7dGhpcy5tZXJnZURlZmF1bHRBbmRUaGVtZSh0LG4pLHQuc2VsZWN0ZWQ9dC5zZWxlY3RlZHx8e30sdGhpcy5fdXBkYXRlU2VsZWN0b3IodCl9LGUucHJvdG90eXBlLm1lcmdlT3B0aW9uPWZ1bmN0aW9uKGUsbil7dC5wcm90b3R5cGUubWVyZ2VPcHRpb24uY2FsbCh0aGlzLGUsbiksdGhpcy5fdXBkYXRlU2VsZWN0b3IoZSl9LGUucHJvdG90eXBlLl91cGRhdGVTZWxlY3Rvcj1mdW5jdGlvbih0KXt2YXIgZT10LnNlbGVjdG9yLG49dGhpcy5lY01vZGVsOyEwPT09ZSYmKGU9dC5zZWxlY3Rvcj1bImFsbCIsImludmVyc2UiXSksRihlKSYmTyhlLChmdW5jdGlvbih0LGkpe1codCkmJih0PXt0eXBlOnR9KSxlW2ldPU0odCxmdW5jdGlvbih0LGUpe3JldHVybiJhbGwiPT09ZT97dHlwZToiYWxsIix0aXRsZTp0LmdldExvY2FsZU1vZGVsKCkuZ2V0KFsibGVnZW5kIiwic2VsZWN0b3IiLCJhbGwiXSl9OiJpbnZlcnNlIj09PWU/e3R5cGU6ImludmVyc2UiLHRpdGxlOnQuZ2V0TG9jYWxlTW9kZWwoKS5nZXQoWyJsZWdlbmQiLCJzZWxlY3RvciIsImludmVyc2UiXSl9OnZvaWQgMH0obix0LnR5cGUpKX0pKX0sZS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbigpe3RoaXMuX3VwZGF0ZURhdGEodGhpcy5lY01vZGVsKTt2YXIgdD10aGlzLl9kYXRhO2lmKHRbMF0mJiJzaW5nbGUiPT09dGhpcy5nZXQoInNlbGVjdGVkTW9kZSIpKXtmb3IodmFyIGU9ITEsbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dLmdldCgibmFtZSIpO2lmKHRoaXMuaXNTZWxlY3RlZChpKSl7dGhpcy5zZWxlY3QoaSksZT0hMDticmVha319IWUmJnRoaXMuc2VsZWN0KHRbMF0uZ2V0KCJuYW1lIikpfX0sZS5wcm90b3R5cGUuX3VwZGF0ZURhdGE9ZnVuY3Rpb24odCl7dmFyIGU9W10sbj1bXTt0LmVhY2hSYXdTZXJpZXMoKGZ1bmN0aW9uKGkpe3ZhciByLG89aS5uYW1lO2lmKG4ucHVzaChvKSxpLmxlZ2VuZFZpc3VhbFByb3ZpZGVyKXt2YXIgYT1pLmxlZ2VuZFZpc3VhbFByb3ZpZGVyLmdldEFsbE5hbWVzKCk7dC5pc1Nlcmllc0ZpbHRlcmVkKGkpfHwobj1uLmNvbmNhdChhKSksYS5sZW5ndGg/ZT1lLmNvbmNhdChhKTpyPSEwfWVsc2Ugcj0hMDtyJiZMcihpKSYmZS5wdXNoKGkubmFtZSl9KSksdGhpcy5fYXZhaWxhYmxlTmFtZXM9bjt2YXIgaT1SKHRoaXMuZ2V0KCJkYXRhIil8fGUsKGZ1bmN0aW9uKHQpe3JldHVybiJzdHJpbmciIT10eXBlb2YgdCYmIm51bWJlciIhPXR5cGVvZiB0fHwodD17bmFtZTp0fSksbmV3IFdoKHQsdGhpcyx0aGlzLmVjTW9kZWwpfSksdGhpcyk7dGhpcy5fZGF0YT1pfSxlLnByb3RvdHlwZS5nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9LGUucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbi5zZWxlY3RlZDsic2luZ2xlIj09PXRoaXMuZ2V0KCJzZWxlY3RlZE1vZGUiKSYmTyh0aGlzLl9kYXRhLChmdW5jdGlvbih0KXtlW3QuZ2V0KCJuYW1lIildPSExfSkpO2VbdF09ITB9LGUucHJvdG90eXBlLnVuU2VsZWN0PWZ1bmN0aW9uKHQpeyJzaW5nbGUiIT09dGhpcy5nZXQoInNlbGVjdGVkTW9kZSIpJiYodGhpcy5vcHRpb24uc2VsZWN0ZWRbdF09ITEpfSxlLnByb3RvdHlwZS50b2dnbGVTZWxlY3RlZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbi5zZWxlY3RlZDtlLmhhc093blByb3BlcnR5KHQpfHwoZVt0XT0hMCksdGhpc1tlW3RdPyJ1blNlbGVjdCI6InNlbGVjdCJdKHQpfSxlLnByb3RvdHlwZS5hbGxTZWxlY3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9kYXRhLGU9dGhpcy5vcHRpb24uc2VsZWN0ZWQ7Tyh0LChmdW5jdGlvbih0KXtlW3QuZ2V0KCJuYW1lIiwhMCldPSEwfSkpfSxlLnByb3RvdHlwZS5pbnZlcnNlU2VsZWN0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZGF0YSxlPXRoaXMub3B0aW9uLnNlbGVjdGVkO08odCwoZnVuY3Rpb24odCl7dmFyIG49dC5nZXQoIm5hbWUiLCEwKTtlLmhhc093blByb3BlcnR5KG4pfHwoZVtuXT0hMCksZVtuXT0hZVtuXX0pKX0sZS5wcm90b3R5cGUuaXNTZWxlY3RlZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbi5zZWxlY3RlZDtyZXR1cm4hKGUuaGFzT3duUHJvcGVydHkodCkmJiFlW3RdKSYmQSh0aGlzLl9hdmFpbGFibGVOYW1lcyx0KT49MH0sZS5wcm90b3R5cGUuZ2V0T3JpZW50PWZ1bmN0aW9uKCl7cmV0dXJuInZlcnRpY2FsIj09PXRoaXMuZ2V0KCJvcmllbnQiKT97aW5kZXg6MSxuYW1lOiJ2ZXJ0aWNhbCJ9OntpbmRleDowLG5hbWU6Imhvcml6b250YWwifX0sZS50eXBlPSJsZWdlbmQucGxhaW4iLGUuZGVwZW5kZW5jaWVzPVsic2VyaWVzIl0sZS5kZWZhdWx0T3B0aW9uPXt6bGV2ZWw6MCx6OjQsc2hvdzohMCxvcmllbnQ6Imhvcml6b250YWwiLGxlZnQ6ImNlbnRlciIsdG9wOjAsYWxpZ246ImF1dG8iLGJhY2tncm91bmRDb2xvcjoicmdiYSgwLDAsMCwwKSIsYm9yZGVyQ29sb3I6IiNjY2MiLGJvcmRlclJhZGl1czowLGJvcmRlcldpZHRoOjAscGFkZGluZzo1LGl0ZW1HYXA6MTAsaXRlbVdpZHRoOjI1LGl0ZW1IZWlnaHQ6MTQsc3ltYm9sUm90YXRlOiJpbmhlcml0IixzeW1ib2xLZWVwQXNwZWN0OiEwLGluYWN0aXZlQ29sb3I6IiNjY2MiLGluYWN0aXZlQm9yZGVyQ29sb3I6IiNjY2MiLGluYWN0aXZlQm9yZGVyV2lkdGg6ImF1dG8iLGl0ZW1TdHlsZTp7Y29sb3I6ImluaGVyaXQiLG9wYWNpdHk6ImluaGVyaXQiLGJvcmRlckNvbG9yOiJpbmhlcml0Iixib3JkZXJXaWR0aDoiYXV0byIsYm9yZGVyQ2FwOiJpbmhlcml0Iixib3JkZXJKb2luOiJpbmhlcml0Iixib3JkZXJEYXNoT2Zmc2V0OiJpbmhlcml0Iixib3JkZXJNaXRlckxpbWl0OiJpbmhlcml0In0sbGluZVN0eWxlOnt3aWR0aDoiYXV0byIsY29sb3I6ImluaGVyaXQiLGluYWN0aXZlQ29sb3I6IiNjY2MiLGluYWN0aXZlV2lkdGg6MixvcGFjaXR5OiJpbmhlcml0Iix0eXBlOiJpbmhlcml0IixjYXA6ImluaGVyaXQiLGpvaW46ImluaGVyaXQiLGRhc2hPZmZzZXQ6ImluaGVyaXQiLG1pdGVyTGltaXQ6ImluaGVyaXQifSx0ZXh0U3R5bGU6e2NvbG9yOiIjMzMzIn0sc2VsZWN0ZWRNb2RlOiEwLHNlbGVjdG9yOiExLHNlbGVjdG9yTGFiZWw6e3Nob3c6ITAsYm9yZGVyUmFkaXVzOjEwLHBhZGRpbmc6WzMsNSwzLDVdLGZvbnRTaXplOjEyLGZvbnRGYW1pbHk6InNhbnMtc2VyaWYiLGNvbG9yOiIjNjY2Iixib3JkZXJXaWR0aDoxLGJvcmRlckNvbG9yOiIjNjY2In0sZW1waGFzaXM6e3NlbGVjdG9yTGFiZWw6e3Nob3c6ITAsY29sb3I6IiNlZWUiLGJhY2tncm91bmRDb2xvcjoiIzY2NiJ9fSxzZWxlY3RvclBvc2l0aW9uOiJhdXRvIixzZWxlY3Rvckl0ZW1HYXA6NyxzZWxlY3RvckJ1dHRvbkdhcDoxMCx0b29sdGlwOntzaG93OiExfX0sZX0obnApLGxWPUcsdVY9TyxoVj1CaSxjVj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4ubmV3bGluZURpc2FibGVkPSExLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5ncm91cC5hZGQodGhpcy5fY29udGVudEdyb3VwPW5ldyBoViksdGhpcy5ncm91cC5hZGQodGhpcy5fc2VsZWN0b3JHcm91cD1uZXcgaFYpLHRoaXMuX2lzRmlyc3RSZW5kZXI9ITB9LGUucHJvdG90eXBlLmdldENvbnRlbnRHcm91cD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb250ZW50R3JvdXB9LGUucHJvdG90eXBlLmdldFNlbGVjdG9yR3JvdXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0b3JHcm91cH0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLl9pc0ZpcnN0UmVuZGVyO2lmKHRoaXMuX2lzRmlyc3RSZW5kZXI9ITEsdGhpcy5yZXNldElubmVyKCksdC5nZXQoInNob3ciLCEwKSl7dmFyIHI9dC5nZXQoImFsaWduIiksbz10LmdldCgib3JpZW50Iik7ciYmImF1dG8iIT09cnx8KHI9InJpZ2h0Ij09PXQuZ2V0KCJsZWZ0IikmJiJ2ZXJ0aWNhbCI9PT1vPyJyaWdodCI6ImxlZnQiKTt2YXIgYT10LmdldCgic2VsZWN0b3IiLCEwKSxzPXQuZ2V0KCJzZWxlY3RvclBvc2l0aW9uIiwhMCk7IWF8fHMmJiJhdXRvIiE9PXN8fChzPSJob3Jpem9udGFsIj09PW8/ImVuZCI6InN0YXJ0IiksdGhpcy5yZW5kZXJJbm5lcihyLHQsZSxuLGEsbyxzKTt2YXIgbD10LmdldEJveExheW91dFBhcmFtcygpLHU9e3dpZHRoOm4uZ2V0V2lkdGgoKSxoZWlnaHQ6bi5nZXRIZWlnaHQoKX0saD10LmdldCgicGFkZGluZyIpLGM9cWMobCx1LGgpLHA9dGhpcy5sYXlvdXRJbm5lcih0LHIsYyxpLGEscyksZD1xYyhDKHt3aWR0aDpwLndpZHRoLGhlaWdodDpwLmhlaWdodH0sbCksdSxoKTt0aGlzLmdyb3VwLng9ZC54LXAueCx0aGlzLmdyb3VwLnk9ZC55LXAueSx0aGlzLmdyb3VwLm1hcmtSZWRyYXcoKSx0aGlzLmdyb3VwLmFkZCh0aGlzLl9iYWNrZ3JvdW5kRWw9Vk4ocCx0KSl9fSxlLnByb3RvdHlwZS5yZXNldElubmVyPWZ1bmN0aW9uKCl7dGhpcy5nZXRDb250ZW50R3JvdXAoKS5yZW1vdmVBbGwoKSx0aGlzLl9iYWNrZ3JvdW5kRWwmJnRoaXMuZ3JvdXAucmVtb3ZlKHRoaXMuX2JhY2tncm91bmRFbCksdGhpcy5nZXRTZWxlY3Rvckdyb3VwKCkucmVtb3ZlQWxsKCl9LGUucHJvdG90eXBlLnJlbmRlcklubmVyPWZ1bmN0aW9uKHQsZSxuLGkscixvLGEpe3ZhciBzPXRoaXMuZ2V0Q29udGVudEdyb3VwKCksbD1jdCgpLHU9ZS5nZXQoInNlbGVjdGVkTW9kZSIpLGg9W107bi5lYWNoUmF3U2VyaWVzKChmdW5jdGlvbih0KXshdC5nZXQoImxlZ2VuZEhvdmVyTGluayIpJiZoLnB1c2godC5pZCl9KSksdVYoZS5nZXREYXRhKCksKGZ1bmN0aW9uKHIsbyl7dmFyIGE9ci5nZXQoIm5hbWUiKTtpZighdGhpcy5uZXdsaW5lRGlzYWJsZWQmJigiIj09PWF8fCJcbiI9PT1hKSl7dmFyIGM9bmV3IGhWO3JldHVybiBjLm5ld2xpbmU9ITAsdm9pZCBzLmFkZChjKX12YXIgcD1uLmdldFNlcmllc0J5TmFtZShhKVswXTtpZighbC5nZXQoYSkpe2lmKHApe3ZhciBkPXAuZ2V0RGF0YSgpLGY9ZC5nZXRWaXN1YWwoImxlZ2VuZExpbmVTdHlsZSIpfHx7fSxnPWQuZ2V0VmlzdWFsKCJsZWdlbmRJY29uIikseT1kLmdldFZpc3VhbCgic3R5bGUiKTt0aGlzLl9jcmVhdGVJdGVtKHAsYSxvLHIsZSx0LGYseSxnLHUpLm9uKCJjbGljayIsbFYocFYsYSxudWxsLGksaCkpLm9uKCJtb3VzZW92ZXIiLGxWKGZWLHAubmFtZSxudWxsLGksaCkpLm9uKCJtb3VzZW91dCIsbFYoZ1YscC5uYW1lLG51bGwsaSxoKSksbC5zZXQoYSwhMCl9ZWxzZSBuLmVhY2hSYXdTZXJpZXMoKGZ1bmN0aW9uKG4pe2lmKCFsLmdldChhKSYmbi5sZWdlbmRWaXN1YWxQcm92aWRlcil7dmFyIHM9bi5sZWdlbmRWaXN1YWxQcm92aWRlcjtpZighcy5jb250YWluTmFtZShhKSlyZXR1cm47dmFyIGM9cy5pbmRleE9mTmFtZShhKSxwPXMuZ2V0SXRlbVZpc3VhbChjLCJzdHlsZSIpLGQ9cy5nZXRJdGVtVmlzdWFsKGMsImxlZ2VuZEljb24iKSxmPVdlKHAuZmlsbCk7ZiYmMD09PWZbM10mJihmWzNdPS4yLHAuZmlsbD1RZShmLCJyZ2JhIikpLHRoaXMuX2NyZWF0ZUl0ZW0obixhLG8scixlLHQse30scCxkLHUpLm9uKCJjbGljayIsbFYocFYsbnVsbCxhLGksaCkpLm9uKCJtb3VzZW92ZXIiLGxWKGZWLG51bGwsYSxpLGgpKS5vbigibW91c2VvdXQiLGxWKGdWLG51bGwsYSxpLGgpKSxsLnNldChhLCEwKX19KSx0aGlzKTswfX0pLHRoaXMpLHImJnRoaXMuX2NyZWF0ZVNlbGVjdG9yKHIsZSxpLG8sYSl9LGUucHJvdG90eXBlLl9jcmVhdGVTZWxlY3Rvcj1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPXRoaXMuZ2V0U2VsZWN0b3JHcm91cCgpO3VWKHQsKGZ1bmN0aW9uKHQpe3ZhciBpPXQudHlwZSxyPW5ldyBmcyh7c3R5bGU6e3g6MCx5OjAsYWxpZ246ImNlbnRlciIsdmVydGljYWxBbGlnbjoibWlkZGxlIn0sb25jbGljazpmdW5jdGlvbigpe24uZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImFsbCI9PT1pPyJsZWdlbmRBbGxTZWxlY3QiOiJsZWdlbmRJbnZlcnNlU2VsZWN0In0pfX0pO28uYWRkKHIpLHhoKHIse25vcm1hbDplLmdldE1vZGVsKCJzZWxlY3RvckxhYmVsIiksZW1waGFzaXM6ZS5nZXRNb2RlbChbImVtcGhhc2lzIiwic2VsZWN0b3JMYWJlbCJdKX0se2RlZmF1bHRUZXh0OnQudGl0bGV9KSxwbChyKX0pKX0sZS5wcm90b3R5cGUuX2NyZWF0ZUl0ZW09ZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzLGwsdSl7dmFyIGg9dC52aXN1YWxEcmF3VHlwZSxjPXIuZ2V0KCJpdGVtV2lkdGgiKSxwPXIuZ2V0KCJpdGVtSGVpZ2h0IiksZD1yLmlzU2VsZWN0ZWQoZSksZj1pLmdldCgic3ltYm9sUm90YXRlIiksZz1pLmdldCgic3ltYm9sS2VlcEFzcGVjdCIpLHk9aS5nZXQoImljb24iKSx2PWZ1bmN0aW9uKHQsZSxuLGkscixvKXtmdW5jdGlvbiBhKHQsZSl7ImF1dG8iPT09dC5saW5lV2lkdGgmJih0LmxpbmVXaWR0aD1lLmxpbmVXaWR0aD4wPzI6MCksdVYodCwoZnVuY3Rpb24obixpKXsiaW5oZXJpdCI9PT10W2ldJiYodFtpXT1lW2ldKX0pKX12YXIgcz1lLmdldE1vZGVsKCJpdGVtU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSxsPTA9PT10Lmxhc3RJbmRleE9mKCJlbXB0eSIsMCk/ImZpbGwiOiJzdHJva2UiO3MuZGVjYWw9aS5kZWNhbCwiaW5oZXJpdCI9PT1zLmZpbGwmJihzLmZpbGw9aVtyXSk7ImluaGVyaXQiPT09cy5zdHJva2UmJihzLnN0cm9rZT1pW2xdKTsiaW5oZXJpdCI9PT1zLm9wYWNpdHkmJihzLm9wYWNpdHk9KCJmaWxsIj09PXI/aTpuKS5vcGFjaXR5KTthKHMsaSk7dmFyIHU9ZS5nZXRNb2RlbCgibGluZVN0eWxlIiksaD11LmdldExpbmVTdHlsZSgpO2lmKGEoaCxuKSwiYXV0byI9PT1zLmZpbGwmJihzLmZpbGw9aS5maWxsKSwiYXV0byI9PT1zLnN0cm9rZSYmKHMuc3Ryb2tlPWkuZmlsbCksImF1dG8iPT09aC5zdHJva2UmJihoLnN0cm9rZT1pLmZpbGwpLCFvKXt2YXIgYz1lLmdldCgiaW5hY3RpdmVCb3JkZXJXaWR0aCIpLHA9c1tsXTtzLmxpbmVXaWR0aD0iYXV0byI9PT1jP2kubGluZVdpZHRoPjAmJnA/MjowOnMubGluZVdpZHRoLHMuZmlsbD1lLmdldCgiaW5hY3RpdmVDb2xvciIpLHMuc3Ryb2tlPWUuZ2V0KCJpbmFjdGl2ZUJvcmRlckNvbG9yIiksaC5zdHJva2U9dS5nZXQoImluYWN0aXZlQ29sb3IiKSxoLmxpbmVXaWR0aD11LmdldCgiaW5hY3RpdmVXaWR0aCIpfXJldHVybntpdGVtU3R5bGU6cyxsaW5lU3R5bGU6aH19KGw9eXx8bHx8InJvdW5kUmVjdCIsaSxhLHMsaCxkKSxtPW5ldyBoVixfPWkuZ2V0TW9kZWwoInRleHRTdHlsZSIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0LmdldExlZ2VuZEljb258fHkmJiJpbmhlcml0IiE9PXkpe3ZhciB4PSJpbmhlcml0Ij09PXkmJnQuZ2V0RGF0YSgpLmdldFZpc3VhbCgic3ltYm9sIik/ImluaGVyaXQiPT09Zj90LmdldERhdGEoKS5nZXRWaXN1YWwoInN5bWJvbFJvdGF0ZSIpOmY6MDttLmFkZChmdW5jdGlvbih0KXt2YXIgZT10Lmljb258fCJyb3VuZFJlY3QiLG49ZXkoZSwwLDAsdC5pdGVtV2lkdGgsdC5pdGVtSGVpZ2h0LHQuaXRlbVN0eWxlLmZpbGwsdC5zeW1ib2xLZWVwQXNwZWN0KTtuLnNldFN0eWxlKHQuaXRlbVN0eWxlKSxuLnJvdGF0aW9uPSh0Lmljb25Sb3RhdGV8fDApKk1hdGguUEkvMTgwLG4uc2V0T3JpZ2luKFt0Lml0ZW1XaWR0aC8yLHQuaXRlbUhlaWdodC8yXSksZS5pbmRleE9mKCJlbXB0eSIpPi0xJiYobi5zdHlsZS5zdHJva2U9bi5zdHlsZS5maWxsLG4uc3R5bGUuZmlsbD0iI2ZmZiIsbi5zdHlsZS5saW5lV2lkdGg9Mik7cmV0dXJuIG59KHtpdGVtV2lkdGg6YyxpdGVtSGVpZ2h0OnAsaWNvbjpsLGljb25Sb3RhdGU6eCxpdGVtU3R5bGU6di5pdGVtU3R5bGUsbGluZVN0eWxlOnYubGluZVN0eWxlLHN5bWJvbEtlZXBBc3BlY3Q6Z30pKX1lbHNlIG0uYWRkKHQuZ2V0TGVnZW5kSWNvbih7aXRlbVdpZHRoOmMsaXRlbUhlaWdodDpwLGljb246bCxpY29uUm90YXRlOmYsaXRlbVN0eWxlOnYuaXRlbVN0eWxlLGxpbmVTdHlsZTp2LmxpbmVTdHlsZSxzeW1ib2xLZWVwQXNwZWN0Omd9KSk7dmFyIGI9ImxlZnQiPT09bz9jKzU6LTUsdz1vLFM9ci5nZXQoImZvcm1hdHRlciIpLE09ZTsic3RyaW5nIj09dHlwZW9mIFMmJlM/TT1TLnJlcGxhY2UoIntuYW1lfSIsbnVsbCE9ZT9lOiIiKToiZnVuY3Rpb24iPT10eXBlb2YgUyYmKE09UyhlKSk7dmFyIEk9aS5nZXQoImluYWN0aXZlQ29sb3IiKTttLmFkZChuZXcgZnMoe3N0eWxlOndoKF8se3RleHQ6TSx4OmIseTpwLzIsZmlsbDpkP18uZ2V0VGV4dENvbG9yKCk6SSxhbGlnbjp3LHZlcnRpY2FsQWxpZ246Im1pZGRsZSJ9KX0pKTt2YXIgVD1uZXcgY3Moe3NoYXBlOm0uZ2V0Qm91bmRpbmdSZWN0KCksaW52aXNpYmxlOiEwfSksQz1pLmdldE1vZGVsKCJ0b29sdGlwIik7cmV0dXJuIEMuZ2V0KCJzaG93IikmJmdoKHtlbDpULGNvbXBvbmVudE1vZGVsOnIsaXRlbU5hbWU6ZSxpdGVtVG9vbHRpcE9wdGlvbjpDLm9wdGlvbn0pLG0uYWRkKFQpLG0uZWFjaENoaWxkKChmdW5jdGlvbih0KXt0LnNpbGVudD0hMH0pKSxULnNpbGVudD0hdSx0aGlzLmdldENvbnRlbnRHcm91cCgpLmFkZChtKSxwbChtKSxtLl9fbGVnZW5kRGF0YUluZGV4PW4sbX0sZS5wcm90b3R5cGUubGF5b3V0SW5uZXI9ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhPXRoaXMuZ2V0Q29udGVudEdyb3VwKCkscz10aGlzLmdldFNlbGVjdG9yR3JvdXAoKTtqYyh0LmdldCgib3JpZW50IiksYSx0LmdldCgiaXRlbUdhcCIpLG4ud2lkdGgsbi5oZWlnaHQpO3ZhciBsPWEuZ2V0Qm91bmRpbmdSZWN0KCksdT1bLWwueCwtbC55XTtpZihzLm1hcmtSZWRyYXcoKSxhLm1hcmtSZWRyYXcoKSxyKXtqYygiaG9yaXpvbnRhbCIscyx0LmdldCgic2VsZWN0b3JJdGVtR2FwIiwhMCkpO3ZhciBoPXMuZ2V0Qm91bmRpbmdSZWN0KCksYz1bLWgueCwtaC55XSxwPXQuZ2V0KCJzZWxlY3RvckJ1dHRvbkdhcCIsITApLGQ9dC5nZXRPcmllbnQoKS5pbmRleCxmPTA9PT1kPyJ3aWR0aCI6ImhlaWdodCIsZz0wPT09ZD8iaGVpZ2h0Ijoid2lkdGgiLHk9MD09PWQ/InkiOiJ4IjsiZW5kIj09PW8/Y1tkXSs9bFtmXStwOnVbZF0rPWhbZl0rcCxjWzEtZF0rPWxbZ10vMi1oW2ddLzIscy54PWNbMF0scy55PWNbMV0sYS54PXVbMF0sYS55PXVbMV07dmFyIHY9e3g6MCx5OjB9O3JldHVybiB2W2ZdPWxbZl0rcCtoW2ZdLHZbZ109TWF0aC5tYXgobFtnXSxoW2ddKSx2W3ldPU1hdGgubWluKDAsaFt5XStjWzEtZF0pLHZ9cmV0dXJuIGEueD11WzBdLGEueT11WzFdLHRoaXMuZ3JvdXAuZ2V0Qm91bmRpbmdSZWN0KCl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMuZ2V0Q29udGVudEdyb3VwKCkucmVtb3ZlQWxsKCksdGhpcy5faXNGaXJzdFJlbmRlcj0hMH0sZS50eXBlPSJsZWdlbmQucGxhaW4iLGV9KFdmKTtmdW5jdGlvbiBwVih0LGUsbixpKXtnVih0LGUsbixpKSxuLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJsZWdlbmRUb2dnbGVTZWxlY3QiLG5hbWU6bnVsbCE9dD90OmV9KSxmVih0LGUsbixpKX1mdW5jdGlvbiBkVih0KXtmb3IodmFyIGUsbj10LmdldFpyKCkuc3RvcmFnZS5nZXREaXNwbGF5TGlzdCgpLGk9MCxyPW4ubGVuZ3RoO2k8ciYmIShlPW5baV0uc3RhdGVzLmVtcGhhc2lzKTspaSsrO3JldHVybiBlJiZlLmhvdmVyTGF5ZXJ9ZnVuY3Rpb24gZlYodCxlLG4saSl7ZFYobil8fG4uZGlzcGF0Y2hBY3Rpb24oe3R5cGU6ImhpZ2hsaWdodCIsc2VyaWVzTmFtZTp0LG5hbWU6ZSxleGNsdWRlU2VyaWVzSWQ6aX0pfWZ1bmN0aW9uIGdWKHQsZSxuLGkpe2RWKG4pfHxuLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJkb3ducGxheSIsc2VyaWVzTmFtZTp0LG5hbWU6ZSxleGNsdWRlU2VyaWVzSWQ6aX0pfWZ1bmN0aW9uIHlWKHQpe3ZhciBlPXQuZmluZENvbXBvbmVudHMoe21haW5UeXBlOiJsZWdlbmQifSk7ZSYmZS5sZW5ndGgmJnQuZmlsdGVyU2VyaWVzKChmdW5jdGlvbih0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylpZighZVtuXS5pc1NlbGVjdGVkKHQubmFtZSkpcmV0dXJuITE7cmV0dXJuITB9KSl9ZnVuY3Rpb24gdlYodCxlLG4pe3ZhciBpLHI9e30sbz0idG9nZ2xlU2VsZWN0ZWQiPT09dDtyZXR1cm4gbi5lYWNoQ29tcG9uZW50KCJsZWdlbmQiLChmdW5jdGlvbihuKXtvJiZudWxsIT1pP25baT8ic2VsZWN0IjoidW5TZWxlY3QiXShlLm5hbWUpOiJhbGxTZWxlY3QiPT09dHx8ImludmVyc2VTZWxlY3QiPT09dD9uW3RdKCk6KG5bdF0oZS5uYW1lKSxpPW4uaXNTZWxlY3RlZChlLm5hbWUpKSxPKG4uZ2V0RGF0YSgpLChmdW5jdGlvbih0KXt2YXIgZT10LmdldCgibmFtZSIpO2lmKCJcbiIhPT1lJiYiIiE9PWUpe3ZhciBpPW4uaXNTZWxlY3RlZChlKTtyLmhhc093blByb3BlcnR5KGUpP3JbZV09cltlXSYmaTpyW2VdPWl9fSkpfSkpLCJhbGxTZWxlY3QiPT09dHx8ImludmVyc2VTZWxlY3QiPT09dD97c2VsZWN0ZWQ6cn06e25hbWU6ZS5uYW1lLHNlbGVjdGVkOnJ9fWZ1bmN0aW9uIG1WKHQpe3QucmVnaXN0ZXJDb21wb25lbnRNb2RlbChzViksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoY1YpLHQucmVnaXN0ZXJQcm9jZXNzb3IodC5QUklPUklUWS5QUk9DRVNTT1IuU0VSSUVTX0ZJTFRFUix5ViksdC5yZWdpc3RlclN1YlR5cGVEZWZhdWx0ZXIoImxlZ2VuZCIsKGZ1bmN0aW9uKCl7cmV0dXJuInBsYWluIn0pKSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQWN0aW9uKCJsZWdlbmRUb2dnbGVTZWxlY3QiLCJsZWdlbmRzZWxlY3RjaGFuZ2VkIixHKHZWLCJ0b2dnbGVTZWxlY3RlZCIpKSx0LnJlZ2lzdGVyQWN0aW9uKCJsZWdlbmRBbGxTZWxlY3QiLCJsZWdlbmRzZWxlY3RhbGwiLEcodlYsImFsbFNlbGVjdCIpKSx0LnJlZ2lzdGVyQWN0aW9uKCJsZWdlbmRJbnZlcnNlU2VsZWN0IiwibGVnZW5kaW52ZXJzZXNlbGVjdCIsRyh2ViwiaW52ZXJzZVNlbGVjdCIpKSx0LnJlZ2lzdGVyQWN0aW9uKCJsZWdlbmRTZWxlY3QiLCJsZWdlbmRzZWxlY3RlZCIsRyh2Viwic2VsZWN0IikpLHQucmVnaXN0ZXJBY3Rpb24oImxlZ2VuZFVuU2VsZWN0IiwibGVnZW5kdW5zZWxlY3RlZCIsRyh2ViwidW5TZWxlY3QiKSl9KHQpfXZhciBfVj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5zZXRTY3JvbGxEYXRhSW5kZXg9ZnVuY3Rpb24odCl7dGhpcy5vcHRpb24uc2Nyb2xsRGF0YUluZGV4PXR9LGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSxuLGkpe3ZhciByPVFjKGUpO3QucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzLGUsbixpKSx4Vih0aGlzLGUscil9LGUucHJvdG90eXBlLm1lcmdlT3B0aW9uPWZ1bmN0aW9uKGUsbil7dC5wcm90b3R5cGUubWVyZ2VPcHRpb24uY2FsbCh0aGlzLGUsbikseFYodGhpcyx0aGlzLm9wdGlvbixlKX0sZS50eXBlPSJsZWdlbmQuc2Nyb2xsIixlLmRlZmF1bHRPcHRpb249WWgoc1YuZGVmYXVsdE9wdGlvbix7c2Nyb2xsRGF0YUluZGV4OjAscGFnZUJ1dHRvbkl0ZW1HYXA6NSxwYWdlQnV0dG9uR2FwOm51bGwscGFnZUJ1dHRvblBvc2l0aW9uOiJlbmQiLHBhZ2VGb3JtYXR0ZXI6IntjdXJyZW50fS97dG90YWx9IixwYWdlSWNvbnM6e2hvcml6b250YWw6WyJNMCwwTDEyLC0xMEwxMiwxMHoiLCJNMCwwTC0xMiwtMTBMLTEyLDEweiJdLHZlcnRpY2FsOlsiTTAsMEwyMCwwTDEwLC0yMHoiLCJNMCwwTDIwLDBMMTAsMjB6Il19LHBhZ2VJY29uQ29sb3I6IiMyZjQ1NTQiLHBhZ2VJY29uSW5hY3RpdmVDb2xvcjoiI2FhYSIscGFnZUljb25TaXplOjE1LHBhZ2VUZXh0U3R5bGU6e2NvbG9yOiIjMzMzIn0sYW5pbWF0aW9uRHVyYXRpb25VcGRhdGU6ODAwfSksZX0oc1YpO2Z1bmN0aW9uIHhWKHQsZSxuKXt2YXIgaT1bMSwxXTtpW3QuZ2V0T3JpZW50KCkuaW5kZXhdPTAsSmMoZSxuLHt0eXBlOiJib3giLGlnbm9yZVNpemU6ISFpfSl9dmFyIGJWPUJpLHdWPVsid2lkdGgiLCJoZWlnaHQiXSxTVj1bIngiLCJ5Il0sTVY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLm5ld2xpbmVEaXNhYmxlZD0hMCxuLl9jdXJyZW50SW5kZXg9MCxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3QucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKSx0aGlzLmdyb3VwLmFkZCh0aGlzLl9jb250YWluZXJHcm91cD1uZXcgYlYpLHRoaXMuX2NvbnRhaW5lckdyb3VwLmFkZCh0aGlzLmdldENvbnRlbnRHcm91cCgpKSx0aGlzLmdyb3VwLmFkZCh0aGlzLl9jb250cm9sbGVyR3JvdXA9bmV3IGJWKX0sZS5wcm90b3R5cGUucmVzZXRJbm5lcj1mdW5jdGlvbigpe3QucHJvdG90eXBlLnJlc2V0SW5uZXIuY2FsbCh0aGlzKSx0aGlzLl9jb250cm9sbGVyR3JvdXAucmVtb3ZlQWxsKCksdGhpcy5fY29udGFpbmVyR3JvdXAucmVtb3ZlQ2xpcFBhdGgoKSx0aGlzLl9jb250YWluZXJHcm91cC5fX3JlY3RTaXplPW51bGx9LGUucHJvdG90eXBlLnJlbmRlcklubmVyPWZ1bmN0aW9uKGUsbixpLHIsbyxhLHMpe3ZhciBsPXRoaXM7dC5wcm90b3R5cGUucmVuZGVySW5uZXIuY2FsbCh0aGlzLGUsbixpLHIsbyxhLHMpO3ZhciB1PXRoaXMuX2NvbnRyb2xsZXJHcm91cCxoPW4uZ2V0KCJwYWdlSWNvblNpemUiLCEwKSxjPUYoaCk/aDpbaCxoXTtkKCJwYWdlUHJldiIsMCk7dmFyIHA9bi5nZXRNb2RlbCgicGFnZVRleHRTdHlsZSIpO2Z1bmN0aW9uIGQodCxlKXt2YXIgaT10KyJEYXRhSW5kZXgiLG89Y2gobi5nZXQoInBhZ2VJY29ucyIsITApW24uZ2V0T3JpZW50KCkubmFtZV1bZV0se29uY2xpY2s6QihsLl9wYWdlR28sbCxpLG4scil9LHt4Oi1jWzBdLzIseTotY1sxXS8yLHdpZHRoOmNbMF0saGVpZ2h0OmNbMV19KTtvLm5hbWU9dCx1LmFkZChvKX11LmFkZChuZXcgZnMoe25hbWU6InBhZ2VUZXh0IixzdHlsZTp7dGV4dDoieHgveHgiLGZpbGw6cC5nZXRUZXh0Q29sb3IoKSxmb250OnAuZ2V0Rm9udCgpLHZlcnRpY2FsQWxpZ246Im1pZGRsZSIsYWxpZ246ImNlbnRlciJ9LHNpbGVudDohMH0pKSxkKCJwYWdlTmV4dCIsMSl9LGUucHJvdG90eXBlLmxheW91dElubmVyPWZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYT10aGlzLmdldFNlbGVjdG9yR3JvdXAoKSxzPXQuZ2V0T3JpZW50KCkuaW5kZXgsbD13VltzXSx1PVNWW3NdLGg9d1ZbMS1zXSxjPVNWWzEtc107ciYmamMoImhvcml6b250YWwiLGEsdC5nZXQoInNlbGVjdG9ySXRlbUdhcCIsITApKTt2YXIgcD10LmdldCgic2VsZWN0b3JCdXR0b25HYXAiLCEwKSxkPWEuZ2V0Qm91bmRpbmdSZWN0KCksZj1bLWQueCwtZC55XSxnPVMobik7ciYmKGdbbF09bltsXS1kW2xdLXApO3ZhciB5PXRoaXMuX2xheW91dENvbnRlbnRBbmRDb250cm9sbGVyKHQsaSxnLHMsbCxoLGMsdSk7aWYocil7aWYoImVuZCI9PT1vKWZbc10rPXlbbF0rcDtlbHNle3ZhciB2PWRbbF0rcDtmW3NdLT12LHlbdV0tPXZ9eVtsXSs9ZFtsXStwLGZbMS1zXSs9eVtjXSt5W2hdLzItZFtoXS8yLHlbaF09TWF0aC5tYXgoeVtoXSxkW2hdKSx5W2NdPU1hdGgubWluKHlbY10sZFtjXStmWzEtc10pLGEueD1mWzBdLGEueT1mWzFdLGEubWFya1JlZHJhdygpfXJldHVybiB5fSxlLnByb3RvdHlwZS5fbGF5b3V0Q29udGVudEFuZENvbnRyb2xsZXI9ZnVuY3Rpb24odCxlLG4saSxyLG8sYSxzKXt2YXIgbD10aGlzLmdldENvbnRlbnRHcm91cCgpLHU9dGhpcy5fY29udGFpbmVyR3JvdXAsaD10aGlzLl9jb250cm9sbGVyR3JvdXA7amModC5nZXQoIm9yaWVudCIpLGwsdC5nZXQoIml0ZW1HYXAiKSxpP24ud2lkdGg6bnVsbCxpP251bGw6bi5oZWlnaHQpLGpjKCJob3Jpem9udGFsIixoLHQuZ2V0KCJwYWdlQnV0dG9uSXRlbUdhcCIsITApKTt2YXIgYz1sLmdldEJvdW5kaW5nUmVjdCgpLHA9aC5nZXRCb3VuZGluZ1JlY3QoKSxkPXRoaXMuX3Nob3dDb250cm9sbGVyPWNbcl0+bltyXSxmPVstYy54LC1jLnldO2V8fChmW2ldPWxbc10pO3ZhciBnPVswLDBdLHk9Wy1wLngsLXAueV0sdj1ldCh0LmdldCgicGFnZUJ1dHRvbkdhcCIsITApLHQuZ2V0KCJpdGVtR2FwIiwhMCkpO2QmJigiZW5kIj09PXQuZ2V0KCJwYWdlQnV0dG9uUG9zaXRpb24iLCEwKT95W2ldKz1uW3JdLXBbcl06Z1tpXSs9cFtyXSt2KTt5WzEtaV0rPWNbb10vMi1wW29dLzIsbC5zZXRQb3NpdGlvbihmKSx1LnNldFBvc2l0aW9uKGcpLGguc2V0UG9zaXRpb24oeSk7dmFyIG09e3g6MCx5OjB9O2lmKG1bcl09ZD9uW3JdOmNbcl0sbVtvXT1NYXRoLm1heChjW29dLHBbb10pLG1bYV09TWF0aC5taW4oMCxwW2FdK3lbMS1pXSksdS5fX3JlY3RTaXplPW5bcl0sZCl7dmFyIF89e3g6MCx5OjB9O19bcl09TWF0aC5tYXgobltyXS1wW3JdLXYsMCksX1tvXT1tW29dLHUuc2V0Q2xpcFBhdGgobmV3IGNzKHtzaGFwZTpffSkpLHUuX19yZWN0U2l6ZT1fW3JdfWVsc2UgaC5lYWNoQ2hpbGQoKGZ1bmN0aW9uKHQpe3QuYXR0cih7aW52aXNpYmxlOiEwLHNpbGVudDohMH0pfSkpO3ZhciB4PXRoaXMuX2dldFBhZ2VJbmZvKHQpO3JldHVybiBudWxsIT14LnBhZ2VJbmRleCYmRXUobCx7eDp4LmNvbnRlbnRQb3NpdGlvblswXSx5OnguY29udGVudFBvc2l0aW9uWzFdfSxkP3Q6bnVsbCksdGhpcy5fdXBkYXRlUGFnZUluZm9WaWV3KHQseCksbX0sZS5wcm90b3R5cGUuX3BhZ2VHbz1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5fZ2V0UGFnZUluZm8oZSlbdF07bnVsbCE9aSYmbi5kaXNwYXRjaEFjdGlvbih7dHlwZToibGVnZW5kU2Nyb2xsIixzY3JvbGxEYXRhSW5kZXg6aSxsZWdlbmRJZDplLmlkfSl9LGUucHJvdG90eXBlLl91cGRhdGVQYWdlSW5mb1ZpZXc9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9jb250cm9sbGVyR3JvdXA7TyhbInBhZ2VQcmV2IiwicGFnZU5leHQiXSwoZnVuY3Rpb24oaSl7dmFyIHI9bnVsbCE9ZVtpKyJEYXRhSW5kZXgiXSxvPW4uY2hpbGRPZk5hbWUoaSk7byYmKG8uc2V0U3R5bGUoImZpbGwiLHI/dC5nZXQoInBhZ2VJY29uQ29sb3IiLCEwKTp0LmdldCgicGFnZUljb25JbmFjdGl2ZUNvbG9yIiwhMCkpLG8uY3Vyc29yPXI/InBvaW50ZXIiOiJkZWZhdWx0Iil9KSk7dmFyIGk9bi5jaGlsZE9mTmFtZSgicGFnZVRleHQiKSxyPXQuZ2V0KCJwYWdlRm9ybWF0dGVyIiksbz1lLnBhZ2VJbmRleCxhPW51bGwhPW8/bysxOjAscz1lLnBhZ2VDb3VudDtpJiZyJiZpLnNldFN0eWxlKCJ0ZXh0IixXKHIpP3IucmVwbGFjZSgie2N1cnJlbnR9IixudWxsPT1hPyIiOmErIiIpLnJlcGxhY2UoInt0b3RhbH0iLG51bGw9PXM/IiI6cysiIik6cih7Y3VycmVudDphLHRvdGFsOnN9KSl9LGUucHJvdG90eXBlLl9nZXRQYWdlSW5mbz1mdW5jdGlvbih0KXt2YXIgZT10LmdldCgic2Nyb2xsRGF0YUluZGV4IiwhMCksbj10aGlzLmdldENvbnRlbnRHcm91cCgpLGk9dGhpcy5fY29udGFpbmVyR3JvdXAuX19yZWN0U2l6ZSxyPXQuZ2V0T3JpZW50KCkuaW5kZXgsbz13VltyXSxhPVNWW3JdLHM9dGhpcy5fZmluZFRhcmdldEl0ZW1JbmRleChlKSxsPW4uY2hpbGRyZW4oKSx1PWxbc10saD1sLmxlbmd0aCxjPWg/MTowLHA9e2NvbnRlbnRQb3NpdGlvbjpbbi54LG4ueV0scGFnZUNvdW50OmMscGFnZUluZGV4OmMtMSxwYWdlUHJldkRhdGFJbmRleDpudWxsLHBhZ2VOZXh0RGF0YUluZGV4Om51bGx9O2lmKCF1KXJldHVybiBwO3ZhciBkPW0odSk7cC5jb250ZW50UG9zaXRpb25bcl09LWQucztmb3IodmFyIGY9cysxLGc9ZCx5PWQsdj1udWxsO2Y8PWg7KytmKSghKHY9bShsW2ZdKSkmJnkuZT5nLnMraXx8diYmIV8odixnLnMpKSYmKGc9eS5pPmcuaT95OnYpJiYobnVsbD09cC5wYWdlTmV4dERhdGFJbmRleCYmKHAucGFnZU5leHREYXRhSW5kZXg9Zy5pKSwrK3AucGFnZUNvdW50KSx5PXY7Zm9yKGY9cy0xLGc9ZCx5PWQsdj1udWxsO2Y+PS0xOy0tZikodj1tKGxbZl0pKSYmXyh5LHYucyl8fCEoZy5pPHkuaSl8fCh5PWcsbnVsbD09cC5wYWdlUHJldkRhdGFJbmRleCYmKHAucGFnZVByZXZEYXRhSW5kZXg9Zy5pKSwrK3AucGFnZUNvdW50LCsrcC5wYWdlSW5kZXgpLGc9djtyZXR1cm4gcDtmdW5jdGlvbiBtKHQpe2lmKHQpe3ZhciBlPXQuZ2V0Qm91bmRpbmdSZWN0KCksbj1lW2FdK3RbYV07cmV0dXJue3M6bixlOm4rZVtvXSxpOnQuX19sZWdlbmREYXRhSW5kZXh9fX1mdW5jdGlvbiBfKHQsZSl7cmV0dXJuIHQuZT49ZSYmdC5zPD1lK2l9fSxlLnByb3RvdHlwZS5fZmluZFRhcmdldEl0ZW1JbmRleD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc2hvd0NvbnRyb2xsZXI/KHRoaXMuZ2V0Q29udGVudEdyb3VwKCkuZWFjaENoaWxkKChmdW5jdGlvbihpLHIpe3ZhciBvPWkuX19sZWdlbmREYXRhSW5kZXg7bnVsbD09biYmbnVsbCE9byYmKG49ciksbz09PXQmJihlPXIpfSkpLG51bGwhPWU/ZTpuKTowO3ZhciBlLG59LGUudHlwZT0ibGVnZW5kLnNjcm9sbCIsZX0oY1YpO2Z1bmN0aW9uIElWKHQpe3ptKG1WKSx0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoX1YpLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KE1WKSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQWN0aW9uKCJsZWdlbmRTY3JvbGwiLCJsZWdlbmRzY3JvbGwiLChmdW5jdGlvbih0LGUpe3ZhciBuPXQuc2Nyb2xsRGF0YUluZGV4O251bGwhPW4mJmUuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6ImxlZ2VuZCIsc3ViVHlwZToic2Nyb2xsIixxdWVyeTp0fSwoZnVuY3Rpb24odCl7dC5zZXRTY3JvbGxEYXRhSW5kZXgobil9KSl9KSl9KHQpfXZhciBUVj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnR5cGU9ImRhdGFab29tLmluc2lkZSIsZS5kZWZhdWx0T3B0aW9uPVloKGJOLmRlZmF1bHRPcHRpb24se2Rpc2FibGVkOiExLHpvb21Mb2NrOiExLHpvb21Pbk1vdXNlV2hlZWw6ITAsbW92ZU9uTW91c2VNb3ZlOiEwLG1vdmVPbk1vdXNlV2hlZWw6ITEscHJldmVudERlZmF1bHRNb3VzZU1vdmU6ITB9KSxlfShiTiksQ1Y9UnIoKTtmdW5jdGlvbiBEVih0LGUsbil7Q1YodCkuY29vcmRTeXNSZWNvcmRNYXAuZWFjaCgoZnVuY3Rpb24odCl7dmFyIGk9dC5kYXRhWm9vbUluZm9NYXAuZ2V0KGUudWlkKTtpJiYoaS5nZXRSYW5nZT1uKX0pKX1mdW5jdGlvbiBBVih0LGUpe2lmKGUpe3QucmVtb3ZlS2V5KGUubW9kZWwudWlkKTt2YXIgbj1lLmNvbnRyb2xsZXI7biYmbi5kaXNwb3NlKCl9fWZ1bmN0aW9uIGtWKHQsZSl7dC5kaXNwYXRjaEFjdGlvbih7dHlwZToiZGF0YVpvb20iLGFuaW1hdGlvbjp7ZWFzaW5nOiJjdWJpY091dCIsZHVyYXRpb246MTAwfSxiYXRjaDplfSl9ZnVuY3Rpb24gTFYodCxlLG4saSl7cmV0dXJuIHQuY29vcmRpbmF0ZVN5c3RlbS5jb250YWluUG9pbnQoW24saV0pfWZ1bmN0aW9uIFBWKHQpe3QucmVnaXN0ZXJQcm9jZXNzb3IodC5QUklPUklUWS5QUk9DRVNTT1IuRklMVEVSLChmdW5jdGlvbih0LGUpe3ZhciBuPUNWKGUpLGk9bi5jb29yZFN5c1JlY29yZE1hcHx8KG4uY29vcmRTeXNSZWNvcmRNYXA9Y3QoKSk7aS5lYWNoKChmdW5jdGlvbih0KXt0LmRhdGFab29tSW5mb01hcD1udWxsfSkpLHQuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6ImRhdGFab29tIixzdWJUeXBlOiJpbnNpZGUifSwoZnVuY3Rpb24odCl7TyhfTih0KS5pbmZvTGlzdCwoZnVuY3Rpb24obil7dmFyIHI9bi5tb2RlbC51aWQsbz1pLmdldChyKXx8aS5zZXQocixmdW5jdGlvbih0LGUpe3ZhciBuPXttb2RlbDplLGNvbnRhaW5zUG9pbnQ6RyhMVixlKSxkaXNwYXRjaEFjdGlvbjpHKGtWLHQpLGRhdGFab29tSW5mb01hcDpudWxsLGNvbnRyb2xsZXI6bnVsbH0saT1uLmNvbnRyb2xsZXI9bmV3IG1JKHQuZ2V0WnIoKSk7cmV0dXJuIE8oWyJwYW4iLCJ6b29tIiwic2Nyb2xsTW92ZSJdLChmdW5jdGlvbih0KXtpLm9uKHQsKGZ1bmN0aW9uKGUpe3ZhciBpPVtdO24uZGF0YVpvb21JbmZvTWFwLmVhY2goKGZ1bmN0aW9uKHIpe2lmKGUuaXNBdmFpbGFibGVCZWhhdmlvcihyLm1vZGVsLm9wdGlvbikpe3ZhciBvPShyLmdldFJhbmdlfHx7fSlbdF0sYT1vJiZvKHIuZHpSZWZlckNvb3JkU3lzSW5mbyxuLm1vZGVsLm1haW5UeXBlLG4uY29udHJvbGxlcixlKTshci5tb2RlbC5nZXQoImRpc2FibGVkIiwhMCkmJmEmJmkucHVzaCh7ZGF0YVpvb21JZDpyLm1vZGVsLmlkLHN0YXJ0OmFbMF0sZW5kOmFbMV19KX19KSksaS5sZW5ndGgmJm4uZGlzcGF0Y2hBY3Rpb24oaSl9KSl9KSksbn0oZSxuLm1vZGVsKSk7KG8uZGF0YVpvb21JbmZvTWFwfHwoby5kYXRhWm9vbUluZm9NYXA9Y3QoKSkpLnNldCh0LnVpZCx7ZHpSZWZlckNvb3JkU3lzSW5mbzpuLG1vZGVsOnQsZ2V0UmFuZ2U6bnVsbH0pfSkpfSkpLGkuZWFjaCgoZnVuY3Rpb24odCl7dmFyIGUsbj10LmNvbnRyb2xsZXIscj10LmRhdGFab29tSW5mb01hcDtpZihyKXt2YXIgbz1yLmtleXMoKVswXTtudWxsIT1vJiYoZT1yLmdldChvKSl9aWYoZSl7dmFyIGE9ZnVuY3Rpb24odCl7dmFyIGUsbj0idHlwZV8iLGk9e3R5cGVfdHJ1ZToyLHR5cGVfbW92ZToxLHR5cGVfZmFsc2U6MCx0eXBlX3VuZGVmaW5lZDotMX0scj0hMDtyZXR1cm4gdC5lYWNoKChmdW5jdGlvbih0KXt2YXIgbz10Lm1vZGVsLGE9IW8uZ2V0KCJkaXNhYmxlZCIsITApJiYoIW8uZ2V0KCJ6b29tTG9jayIsITApfHwibW92ZSIpO2lbbithXT5pW24rZV0mJihlPWEpLHI9ciYmby5nZXQoInByZXZlbnREZWZhdWx0TW91c2VNb3ZlIiwhMCl9KSkse2NvbnRyb2xUeXBlOmUsb3B0Ont6b29tT25Nb3VzZVdoZWVsOiEwLG1vdmVPbk1vdXNlTW92ZTohMCxtb3ZlT25Nb3VzZVdoZWVsOiEwLHByZXZlbnREZWZhdWx0TW91c2VNb3ZlOiEhcn19fShyKTtuLmVuYWJsZShhLmNvbnRyb2xUeXBlLGEub3B0KSxuLnNldFBvaW50ZXJDaGVja2VyKHQuY29udGFpbnNQb2ludCksaWcodCwiZGlzcGF0Y2hBY3Rpb24iLGUubW9kZWwuZ2V0KCJ0aHJvdHRsZSIsITApLCJmaXhSYXRlIil9ZWxzZSBBVihpLHQpfSkpfSkpfXZhciBPVj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLnR5cGU9ImRhdGFab29tLmluc2lkZSIsZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlLG4saSl7dC5wcm90b3R5cGUucmVuZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlLm5vVGFyZ2V0KCk/dGhpcy5fY2xlYXIoKToodGhpcy5yYW5nZT1lLmdldFBlcmNlbnRSYW5nZSgpLERWKGksZSx7cGFuOkIoUlYucGFuLHRoaXMpLHpvb206QihSVi56b29tLHRoaXMpLHNjcm9sbE1vdmU6QihSVi5zY3JvbGxNb3ZlLHRoaXMpfSkpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXIoKSx0LnByb3RvdHlwZS5kaXNwb3NlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5wcm90b3R5cGUuX2NsZWFyPWZ1bmN0aW9uKCl7IWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPUNWKHQpLmNvb3JkU3lzUmVjb3JkTWFwLGk9bi5rZXlzKCkscj0wO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdLGE9bi5nZXQobykscz1hLmRhdGFab29tSW5mb01hcDtpZihzKXt2YXIgbD1lLnVpZDtzLmdldChsKSYmKHMucmVtb3ZlS2V5KGwpLHMua2V5cygpLmxlbmd0aHx8QVYobixhKSl9fX0odGhpcy5hcGksdGhpcy5kYXRhWm9vbU1vZGVsKSx0aGlzLnJhbmdlPW51bGx9LGUudHlwZT0iZGF0YVpvb20uaW5zaWRlIixlfShNTiksUlY9e3pvb206ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcy5yYW5nZSxvPXIuc2xpY2UoKSxhPXQuYXhpc01vZGVsc1swXTtpZihhKXt2YXIgcz16VltlXShudWxsLFtpLm9yaWdpblgsaS5vcmlnaW5ZXSxhLG4sdCksbD0ocy5zaWduYWw+MD9zLnBpeGVsU3RhcnQrcy5waXhlbExlbmd0aC1zLnBpeGVsOnMucGl4ZWwtcy5waXhlbFN0YXJ0KS9zLnBpeGVsTGVuZ3RoKihvWzFdLW9bMF0pK29bMF0sdT1NYXRoLm1heCgxL2kuc2NhbGUsMCk7b1swXT0ob1swXS1sKSp1K2wsb1sxXT0ob1sxXS1sKSp1K2w7dmFyIGg9dGhpcy5kYXRhWm9vbU1vZGVsLmZpbmRSZXByZXNlbnRhdGl2ZUF4aXNQcm94eSgpLmdldE1pbk1heFNwYW4oKTtyZXR1cm4gaEEoMCxvLFswLDEwMF0sMCxoLm1pblNwYW4saC5tYXhTcGFuKSx0aGlzLnJhbmdlPW8sclswXSE9PW9bMF18fHJbMV0hPT1vWzFdP286dm9pZCAwfX0scGFuOk5WKChmdW5jdGlvbih0LGUsbixpLHIsbyl7dmFyIGE9elZbaV0oW28ub2xkWCxvLm9sZFldLFtvLm5ld1gsby5uZXdZXSxlLHIsbik7cmV0dXJuIGEuc2lnbmFsKih0WzFdLXRbMF0pKmEucGl4ZWwvYS5waXhlbExlbmd0aH0pKSxzY3JvbGxNb3ZlOk5WKChmdW5jdGlvbih0LGUsbixpLHIsbyl7cmV0dXJuIHpWW2ldKFswLDBdLFtvLnNjcm9sbERlbHRhLG8uc2Nyb2xsRGVsdGFdLGUscixuKS5zaWduYWwqKHRbMV0tdFswXSkqby5zY3JvbGxEZWx0YX0pKX07ZnVuY3Rpb24gTlYodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixpLHIpe3ZhciBvPXRoaXMucmFuZ2UsYT1vLnNsaWNlKCkscz1lLmF4aXNNb2RlbHNbMF07aWYocylyZXR1cm4gaEEodChhLHMsZSxuLGksciksYSxbMCwxMDBdLCJhbGwiKSx0aGlzLnJhbmdlPWEsb1swXSE9PWFbMF18fG9bMV0hPT1hWzFdP2E6dm9pZCAwfX12YXIgelY9e2dyaWQ6ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz1uLmF4aXMsYT17fSxzPXIubW9kZWwuY29vcmRpbmF0ZVN5c3RlbS5nZXRSZWN0KCk7cmV0dXJuIHQ9dHx8WzAsMF0sIngiPT09by5kaW0/KGEucGl4ZWw9ZVswXS10WzBdLGEucGl4ZWxMZW5ndGg9cy53aWR0aCxhLnBpeGVsU3RhcnQ9cy54LGEuc2lnbmFsPW8uaW52ZXJzZT8xOi0xKTooYS5waXhlbD1lWzFdLXRbMV0sYS5waXhlbExlbmd0aD1zLmhlaWdodCxhLnBpeGVsU3RhcnQ9cy55LGEuc2lnbmFsPW8uaW52ZXJzZT8tMToxKSxhfSxwb2xhcjpmdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPW4uYXhpcyxhPXt9LHM9ci5tb2RlbC5jb29yZGluYXRlU3lzdGVtLGw9cy5nZXRSYWRpdXNBeGlzKCkuZ2V0RXh0ZW50KCksdT1zLmdldEFuZ2xlQXhpcygpLmdldEV4dGVudCgpO3JldHVybiB0PXQ/cy5wb2ludFRvQ29vcmQodCk6WzAsMF0sZT1zLnBvaW50VG9Db29yZChlKSwicmFkaXVzQXhpcyI9PT1uLm1haW5UeXBlPyhhLnBpeGVsPWVbMF0tdFswXSxhLnBpeGVsTGVuZ3RoPWxbMV0tbFswXSxhLnBpeGVsU3RhcnQ9bFswXSxhLnNpZ25hbD1vLmludmVyc2U/MTotMSk6KGEucGl4ZWw9ZVsxXS10WzFdLGEucGl4ZWxMZW5ndGg9dVsxXS11WzBdLGEucGl4ZWxTdGFydD11WzBdLGEuc2lnbmFsPW8uaW52ZXJzZT8tMToxKSxhfSxzaW5nbGVBeGlzOmZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIG89bi5heGlzLGE9ci5tb2RlbC5jb29yZGluYXRlU3lzdGVtLmdldFJlY3QoKSxzPXt9O3JldHVybiB0PXR8fFswLDBdLCJob3Jpem9udGFsIj09PW8ub3JpZW50PyhzLnBpeGVsPWVbMF0tdFswXSxzLnBpeGVsTGVuZ3RoPWEud2lkdGgscy5waXhlbFN0YXJ0PWEueCxzLnNpZ25hbD1vLmludmVyc2U/MTotMSk6KHMucGl4ZWw9ZVsxXS10WzFdLHMucGl4ZWxMZW5ndGg9YS5oZWlnaHQscy5waXhlbFN0YXJ0PWEueSxzLnNpZ25hbD1vLmludmVyc2U/LTE6MSksc319O2Z1bmN0aW9uIEVWKHQpe0xOKHQpLHQucmVnaXN0ZXJDb21wb25lbnRNb2RlbChUViksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoT1YpLFBWKHQpfXZhciBWVj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnR5cGU9ImRhdGFab29tLnNsaWRlciIsZS5sYXlvdXRNb2RlPSJib3giLGUuZGVmYXVsdE9wdGlvbj1ZaChiTi5kZWZhdWx0T3B0aW9uLHtzaG93OiEwLHJpZ2h0OiJwaCIsdG9wOiJwaCIsd2lkdGg6InBoIixoZWlnaHQ6InBoIixsZWZ0Om51bGwsYm90dG9tOm51bGwsYm9yZGVyQ29sb3I6IiNkMmRiZWUiLGJvcmRlclJhZGl1czozLGJhY2tncm91bmRDb2xvcjoicmdiYSg0Nyw2OSw4NCwwKSIsZGF0YUJhY2tncm91bmQ6e2xpbmVTdHlsZTp7Y29sb3I6IiNkMmRiZWUiLHdpZHRoOi41fSxhcmVhU3R5bGU6e2NvbG9yOiIjZDJkYmVlIixvcGFjaXR5Oi4yfX0sc2VsZWN0ZWREYXRhQmFja2dyb3VuZDp7bGluZVN0eWxlOntjb2xvcjoiIzhmYjBmNyIsd2lkdGg6LjV9LGFyZWFTdHlsZTp7Y29sb3I6IiM4ZmIwZjciLG9wYWNpdHk6LjJ9fSxmaWxsZXJDb2xvcjoicmdiYSgxMzUsMTc1LDI3NCwwLjIpIixoYW5kbGVJY29uOiJwYXRoOi8vTS05LjM1LDM0LjU2VjQybTAtNDBWOS41bS0yLDBoNGEyLDIsMCwwLDEsMiwydjIxYTIsMiwwLDAsMS0yLDJoLTRhMiwyLDAsMCwxLTItMnYtMjFBMiwyLDAsMCwxLTExLjM1LDkuNVoiLGhhbmRsZVNpemU6IjEwMCUiLGhhbmRsZVN0eWxlOntjb2xvcjoiI2ZmZiIsYm9yZGVyQ29sb3I6IiNBQ0I4RDEifSxtb3ZlSGFuZGxlU2l6ZTo3LG1vdmVIYW5kbGVJY29uOiJwYXRoOi8vTS0zMjAuOS01MEwtMzIwLjktNTBjMTguMSwwLDI3LjEsOSwyNy4xLDI3LjFWODUuN2MwLDE4LjEtOSwyNy4xLTI3LjEsMjcuMWwwLDBjLTE4LjEsMC0yNy4xLTktMjcuMS0yNy4xVi0yMi45Qy0zNDgtNDEtMzM5LTUwLTMyMC45LTUweiBNLTIxMi4zLTUwTC0yMTIuMy01MGMxOC4xLDAsMjcuMSw5LDI3LjEsMjcuMVY4NS43YzAsMTguMS05LDI3LjEtMjcuMSwyNy4xbDAsMGMtMTguMSwwLTI3LjEtOS0yNy4xLTI3LjFWLTIyLjlDLTIzOS40LTQxLTIzMC40LTUwLTIxMi4zLTUweiBNLTEwMy43LTUwTC0xMDMuNy01MGMxOC4xLDAsMjcuMSw5LDI3LjEsMjcuMVY4NS43YzAsMTguMS05LDI3LjEtMjcuMSwyNy4xbDAsMGMtMTguMSwwLTI3LjEtOS0yNy4xLTI3LjFWLTIyLjlDLTEzMC45LTQxLTEyMS44LTUwLTEwMy43LTUweiIsbW92ZUhhbmRsZVN0eWxlOntjb2xvcjoiI0QyREJFRSIsb3BhY2l0eTouN30sc2hvd0RldGFpbDohMCxzaG93RGF0YVNoYWRvdzoiYXV0byIscmVhbHRpbWU6ITAsem9vbUxvY2s6ITEsdGV4dFN0eWxlOntjb2xvcjoiIzZFNzA3OSJ9LGJydXNoU2VsZWN0OiEwLGJydXNoU3R5bGU6e2NvbG9yOiJyZ2JhKDEzNSwxNzUsMjc0LDAuMTUpIn0sZW1waGFzaXM6e2hhbmRsZVN0eWxlOntib3JkZXJDb2xvcjoiIzhGQjBGNyJ9LG1vdmVIYW5kbGVTdHlsZTp7Y29sb3I6IiM4RkIwRjcifX19KSxlfShiTiksQlY9Y3MsR1Y9Imhvcml6b250YWwiLEZWPSJ2ZXJ0aWNhbCIsSFY9WyJsaW5lIiwiYmFyIiwiY2FuZGxlc3RpY2siLCJzY2F0dGVyIl0sV1Y9e2Vhc2luZzoiY3ViaWNPdXQiLGR1cmF0aW9uOjEwMCxkZWxheTowfSxVVj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG4uX2Rpc3BsYXlhYmxlcz17fSxufXJldHVybiBuKGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUpe3RoaXMuYXBpPWUsdGhpcy5fb25CcnVzaD1CKHRoaXMuX29uQnJ1c2gsdGhpcyksdGhpcy5fb25CcnVzaEVuZD1CKHRoaXMuX29uQnJ1c2hFbmQsdGhpcyl9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlLG4saSxyKXtpZih0LnByb3RvdHlwZS5yZW5kZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGlnKHRoaXMsIl9kaXNwYXRjaFpvb21BY3Rpb24iLGUuZ2V0KCJ0aHJvdHRsZSIpLCJmaXhSYXRlIiksdGhpcy5fb3JpZW50PWUuZ2V0T3JpZW50KCksITEhPT1lLmdldCgic2hvdyIpKXtpZihlLm5vVGFyZ2V0KCkpcmV0dXJuIHRoaXMuX2NsZWFyKCksdm9pZCB0aGlzLmdyb3VwLnJlbW92ZUFsbCgpO3ImJiJkYXRhWm9vbSI9PT1yLnR5cGUmJnIuZnJvbT09PXRoaXMudWlkfHx0aGlzLl9idWlsZFZpZXcoKSx0aGlzLl91cGRhdGVWaWV3KCl9ZWxzZSB0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXIoKSx0LnByb3RvdHlwZS5kaXNwb3NlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5wcm90b3R5cGUuX2NsZWFyPWZ1bmN0aW9uKCl7dmFyIHQsZSxuOyhuPSh0PXRoaXMpW2U9Il9kaXNwYXRjaFpvb21BY3Rpb24iXSkmJm5bUWZdJiYodFtlXT1uW1FmXSk7dmFyIGk9dGhpcy5hcGkuZ2V0WnIoKTtpLm9mZigibW91c2Vtb3ZlIix0aGlzLl9vbkJydXNoKSxpLm9mZigibW91c2V1cCIsdGhpcy5fb25CcnVzaEVuZCl9LGUucHJvdG90eXBlLl9idWlsZFZpZXc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdyb3VwO3QucmVtb3ZlQWxsKCksdGhpcy5fYnJ1c2hpbmc9ITEsdGhpcy5fZGlzcGxheWFibGVzLmJydXNoUmVjdD1udWxsLHRoaXMuX3Jlc2V0TG9jYXRpb24oKSx0aGlzLl9yZXNldEludGVydmFsKCk7dmFyIGU9dGhpcy5fZGlzcGxheWFibGVzLnNsaWRlckdyb3VwPW5ldyBCaTt0aGlzLl9yZW5kZXJCYWNrZ3JvdW5kKCksdGhpcy5fcmVuZGVySGFuZGxlKCksdGhpcy5fcmVuZGVyRGF0YVNoYWRvdygpLHQuYWRkKGUpLHRoaXMuX3Bvc2l0aW9uR3JvdXAoKX0sZS5wcm90b3R5cGUuX3Jlc2V0TG9jYXRpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRhdGFab29tTW9kZWwsZT10aGlzLmFwaSxuPXQuZ2V0KCJicnVzaFNlbGVjdCIpPzc6MCxpPXRoaXMuX2ZpbmRDb29yZFJlY3QoKSxyPXt3aWR0aDplLmdldFdpZHRoKCksaGVpZ2h0OmUuZ2V0SGVpZ2h0KCl9LG89dGhpcy5fb3JpZW50PT09R1Y/e3JpZ2h0OnIud2lkdGgtaS54LWkud2lkdGgsdG9wOnIuaGVpZ2h0LTMwLTctbix3aWR0aDppLndpZHRoLGhlaWdodDozMH06e3JpZ2h0OjcsdG9wOmkueSx3aWR0aDozMCxoZWlnaHQ6aS5oZWlnaHR9LGE9UWModC5vcHRpb24pO08oWyJyaWdodCIsInRvcCIsIndpZHRoIiwiaGVpZ2h0Il0sKGZ1bmN0aW9uKHQpeyJwaCI9PT1hW3RdJiYoYVt0XT1vW3RdKX0pKTt2YXIgcz1xYyhhLHIpO3RoaXMuX2xvY2F0aW9uPXt4OnMueCx5OnMueX0sdGhpcy5fc2l6ZT1bcy53aWR0aCxzLmhlaWdodF0sdGhpcy5fb3JpZW50PT09RlYmJnRoaXMuX3NpemUucmV2ZXJzZSgpfSxlLnByb3RvdHlwZS5fcG9zaXRpb25Hcm91cD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ3JvdXAsZT10aGlzLl9sb2NhdGlvbixuPXRoaXMuX29yaWVudCxpPXRoaXMuZGF0YVpvb21Nb2RlbC5nZXRGaXJzdFRhcmdldEF4aXNNb2RlbCgpLHI9aSYmaS5nZXQoImludmVyc2UiKSxvPXRoaXMuX2Rpc3BsYXlhYmxlcy5zbGlkZXJHcm91cCxhPSh0aGlzLl9kYXRhU2hhZG93SW5mb3x8e30pLm90aGVyQXhpc0ludmVyc2U7by5hdHRyKG4hPT1HVnx8cj9uPT09R1YmJnI/e3NjYWxlWTphPzE6LTEsc2NhbGVYOi0xfTpuIT09RlZ8fHI/e3NjYWxlWTphPy0xOjEsc2NhbGVYOi0xLHJvdGF0aW9uOk1hdGguUEkvMn06e3NjYWxlWTphPy0xOjEsc2NhbGVYOjEscm90YXRpb246TWF0aC5QSS8yfTp7c2NhbGVZOmE/MTotMSxzY2FsZVg6MX0pO3ZhciBzPXQuZ2V0Qm91bmRpbmdSZWN0KFtvXSk7dC54PWUueC1zLngsdC55PWUueS1zLnksdC5tYXJrUmVkcmF3KCl9LGUucHJvdG90eXBlLl9nZXRWaWV3RXh0ZW50PWZ1bmN0aW9uKCl7cmV0dXJuWzAsdGhpcy5fc2l6ZVswXV19LGUucHJvdG90eXBlLl9yZW5kZXJCYWNrZ3JvdW5kPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kYXRhWm9vbU1vZGVsLGU9dGhpcy5fc2l6ZSxuPXRoaXMuX2Rpc3BsYXlhYmxlcy5zbGlkZXJHcm91cCxpPXQuZ2V0KCJicnVzaFNlbGVjdCIpO24uYWRkKG5ldyBCVih7c2lsZW50OiEwLHNoYXBlOnt4OjAseTowLHdpZHRoOmVbMF0saGVpZ2h0OmVbMV19LHN0eWxlOntmaWxsOnQuZ2V0KCJiYWNrZ3JvdW5kQ29sb3IiKX0sejI6LTQwfSkpO3ZhciByPW5ldyBCVih7c2hhcGU6e3g6MCx5OjAsd2lkdGg6ZVswXSxoZWlnaHQ6ZVsxXX0sc3R5bGU6e2ZpbGw6InRyYW5zcGFyZW50In0sejI6MCxvbmNsaWNrOkIodGhpcy5fb25DbGlja1BhbmVsLHRoaXMpfSksbz10aGlzLmFwaS5nZXRacigpO2k/KHIub24oIm1vdXNlZG93biIsdGhpcy5fb25CcnVzaFN0YXJ0LHRoaXMpLHIuY3Vyc29yPSJjcm9zc2hhaXIiLG8ub24oIm1vdXNlbW92ZSIsdGhpcy5fb25CcnVzaCksby5vbigibW91c2V1cCIsdGhpcy5fb25CcnVzaEVuZCkpOihvLm9mZigibW91c2Vtb3ZlIix0aGlzLl9vbkJydXNoKSxvLm9mZigibW91c2V1cCIsdGhpcy5fb25CcnVzaEVuZCkpLG4uYWRkKHIpfSxlLnByb3RvdHlwZS5fcmVuZGVyRGF0YVNoYWRvdz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2RhdGFTaGFkb3dJbmZvPXRoaXMuX3ByZXBhcmVEYXRhU2hhZG93SW5mbygpO2lmKHRoaXMuX2Rpc3BsYXlhYmxlcy5kYXRhU2hhZG93U2Vncz1bXSx0KXt2YXIgZT10aGlzLl9zaXplLG49dC5zZXJpZXMsaT1uLmdldFJhd0RhdGEoKSxyPW4uZ2V0U2hhZG93RGltP24uZ2V0U2hhZG93RGltKCk6dC5vdGhlckRpbTtpZihudWxsIT1yKXt2YXIgbz1pLmdldERhdGFFeHRlbnQociksYT0uMyoob1sxXS1vWzBdKTtvPVtvWzBdLWEsb1sxXSthXTt2YXIgcyxsPVswLGVbMV1dLHU9WzAsZVswXV0saD1bW2VbMF0sMF0sWzAsMF1dLGM9W10scD11WzFdLyhpLmNvdW50KCktMSksZD0wLGY9TWF0aC5yb3VuZChpLmNvdW50KCkvZVswXSk7aS5lYWNoKFtyXSwoZnVuY3Rpb24odCxlKXtpZihmPjAmJmUlZilkKz1wO2Vsc2V7dmFyIG49bnVsbD09dHx8aXNOYU4odCl8fCIiPT09dCxpPW4/MDpqaSh0LG8sbCwhMCk7biYmIXMmJmU/KGgucHVzaChbaFtoLmxlbmd0aC0xXVswXSwwXSksYy5wdXNoKFtjW2MubGVuZ3RoLTFdWzBdLDBdKSk6IW4mJnMmJihoLnB1c2goW2QsMF0pLGMucHVzaChbZCwwXSkpLGgucHVzaChbZCxpXSksYy5wdXNoKFtkLGldKSxkKz1wLHM9bn19KSk7Zm9yKHZhciBnPXRoaXMuZGF0YVpvb21Nb2RlbCx5PTA7eTwzO3krKyl7dmFyIHY9bSgxPT09eSk7dGhpcy5fZGlzcGxheWFibGVzLnNsaWRlckdyb3VwLmFkZCh2KSx0aGlzLl9kaXNwbGF5YWJsZXMuZGF0YVNoYWRvd1NlZ3MucHVzaCh2KX19fWZ1bmN0aW9uIG0odCl7dmFyIGU9Zy5nZXRNb2RlbCh0PyJzZWxlY3RlZERhdGFCYWNrZ3JvdW5kIjoiZGF0YUJhY2tncm91bmQiKSxuPW5ldyBCaSxpPW5ldyBjdSh7c2hhcGU6e3BvaW50czpofSxzZWdtZW50SWdub3JlVGhyZXNob2xkOjEsc3R5bGU6ZS5nZXRNb2RlbCgiYXJlYVN0eWxlIikuZ2V0QXJlYVN0eWxlKCksc2lsZW50OiEwLHoyOi0yMH0pLHI9bmV3IGR1KHtzaGFwZTp7cG9pbnRzOmN9LHNlZ21lbnRJZ25vcmVUaHJlc2hvbGQ6MSxzdHlsZTplLmdldE1vZGVsKCJsaW5lU3R5bGUiKS5nZXRMaW5lU3R5bGUoKSxzaWxlbnQ6ITAsejI6LTE5fSk7cmV0dXJuIG4uYWRkKGkpLG4uYWRkKHIpLG59fSxlLnByb3RvdHlwZS5fcHJlcGFyZURhdGFTaGFkb3dJbmZvPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kYXRhWm9vbU1vZGVsLGU9dC5nZXQoInNob3dEYXRhU2hhZG93Iik7aWYoITEhPT1lKXt2YXIgbixpPXRoaXMuZWNNb2RlbDtyZXR1cm4gdC5lYWNoVGFyZ2V0QXhpcygoZnVuY3Rpb24ocixvKXtPKHQuZ2V0QXhpc1Byb3h5KHIsbykuZ2V0VGFyZ2V0U2VyaWVzTW9kZWxzKCksKGZ1bmN0aW9uKHQpe2lmKCEobnx8ITAhPT1lJiZBKEhWLHQuZ2V0KCJ0eXBlIikpPDApKXt2YXIgYSxzPWkuZ2V0Q29tcG9uZW50KHZOKHIpLG8pLmF4aXMsbD17eDoieSIseToieCIscmFkaXVzOiJhbmdsZSIsYW5nbGU6InJhZGl1cyJ9W3JdLHU9dC5jb29yZGluYXRlU3lzdGVtO251bGwhPWwmJnUuZ2V0T3RoZXJBeGlzJiYoYT11LmdldE90aGVyQXhpcyhzKS5pbnZlcnNlKSxsPXQuZ2V0RGF0YSgpLm1hcERpbWVuc2lvbihsKSxuPXt0aGlzQXhpczpzLHNlcmllczp0LHRoaXNEaW06cixvdGhlckRpbTpsLG90aGVyQXhpc0ludmVyc2U6YX19fSksdGhpcyl9KSx0aGlzKSxufX0sZS5wcm90b3R5cGUuX3JlbmRlckhhbmRsZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ3JvdXAsZT10aGlzLl9kaXNwbGF5YWJsZXMsbj1lLmhhbmRsZXM9W251bGwsbnVsbF0saT1lLmhhbmRsZUxhYmVscz1bbnVsbCxudWxsXSxyPXRoaXMuX2Rpc3BsYXlhYmxlcy5zbGlkZXJHcm91cCxvPXRoaXMuX3NpemUsYT10aGlzLmRhdGFab29tTW9kZWwscz10aGlzLmFwaSxsPWEuZ2V0KCJib3JkZXJSYWRpdXMiKXx8MCx1PWEuZ2V0KCJicnVzaFNlbGVjdCIpLGg9ZS5maWxsZXI9bmV3IEJWKHtzaWxlbnQ6dSxzdHlsZTp7ZmlsbDphLmdldCgiZmlsbGVyQ29sb3IiKX0sdGV4dENvbmZpZzp7cG9zaXRpb246Imluc2lkZSJ9fSk7ci5hZGQoaCksci5hZGQobmV3IEJWKHtzaWxlbnQ6ITAsc3ViUGl4ZWxPcHRpbWl6ZTohMCxzaGFwZTp7eDowLHk6MCx3aWR0aDpvWzBdLGhlaWdodDpvWzFdLHI6bH0sc3R5bGU6e3N0cm9rZTphLmdldCgiZGF0YUJhY2tncm91bmRDb2xvciIpfHxhLmdldCgiYm9yZGVyQ29sb3IiKSxsaW5lV2lkdGg6MSxmaWxsOiJyZ2JhKDAsMCwwLDApIn19KSksTyhbMCwxXSwoZnVuY3Rpb24oZSl7dmFyIG89YS5nZXQoImhhbmRsZUljb24iKTshSmdbb10mJm8uaW5kZXhPZigicGF0aDovLyIpPDAmJm8uaW5kZXhPZigiaW1hZ2U6Ly8iKTwwJiYobz0icGF0aDovLyIrbyk7dmFyIHM9ZXkobywtMSwwLDIsMixudWxsLCEwKTtzLmF0dHIoe2N1cnNvcjpYVih0aGlzLl9vcmllbnQpLGRyYWdnYWJsZTohMCxkcmlmdDpCKHRoaXMuX29uRHJhZ01vdmUsdGhpcyxlKSxvbmRyYWdlbmQ6Qih0aGlzLl9vbkRyYWdFbmQsdGhpcyksb25tb3VzZW92ZXI6Qih0aGlzLl9zaG93RGF0YUluZm8sdGhpcywhMCksb25tb3VzZW91dDpCKHRoaXMuX3Nob3dEYXRhSW5mbyx0aGlzLCExKSx6Mjo1fSk7dmFyIGw9cy5nZXRCb3VuZGluZ1JlY3QoKSx1PWEuZ2V0KCJoYW5kbGVTaXplIik7dGhpcy5faGFuZGxlSGVpZ2h0PXFpKHUsdGhpcy5fc2l6ZVsxXSksdGhpcy5faGFuZGxlV2lkdGg9bC53aWR0aC9sLmhlaWdodCp0aGlzLl9oYW5kbGVIZWlnaHQscy5zZXRTdHlsZShhLmdldE1vZGVsKCJoYW5kbGVTdHlsZSIpLmdldEl0ZW1TdHlsZSgpKSxzLnN0eWxlLnN0cm9rZU5vU2NhbGU9ITAscy5yZWN0SG92ZXI9ITAscy5lbnN1cmVTdGF0ZSgiZW1waGFzaXMiKS5zdHlsZT1hLmdldE1vZGVsKFsiZW1waGFzaXMiLCJoYW5kbGVTdHlsZSJdKS5nZXRJdGVtU3R5bGUoKSxwbChzKTt2YXIgaD1hLmdldCgiaGFuZGxlQ29sb3IiKTtudWxsIT1oJiYocy5zdHlsZS5maWxsPWgpLHIuYWRkKG5bZV09cyk7dmFyIGM9YS5nZXRNb2RlbCgidGV4dFN0eWxlIik7dC5hZGQoaVtlXT1uZXcgZnMoe3NpbGVudDohMCxpbnZpc2libGU6ITAsc3R5bGU6d2goYyx7eDowLHk6MCx0ZXh0OiIiLHZlcnRpY2FsQWxpZ246Im1pZGRsZSIsYWxpZ246ImNlbnRlciIsZmlsbDpjLmdldFRleHRDb2xvcigpLGZvbnQ6Yy5nZXRGb250KCl9KSx6MjoxMH0pKX0pLHRoaXMpO3ZhciBjPWg7aWYodSl7dmFyIHA9cWkoYS5nZXQoIm1vdmVIYW5kbGVTaXplIiksb1sxXSksZD1lLm1vdmVIYW5kbGU9bmV3IGNzKHtzdHlsZTphLmdldE1vZGVsKCJtb3ZlSGFuZGxlU3R5bGUiKS5nZXRJdGVtU3R5bGUoKSxzaWxlbnQ6ITAsc2hhcGU6e3I6WzAsMCwyLDJdLHk6b1sxXS0uNSxoZWlnaHQ6cH19KSxmPS44KnAsZz1lLm1vdmVIYW5kbGVJY29uPWV5KGEuZ2V0KCJtb3ZlSGFuZGxlSWNvbiIpLC1mLzIsLWYvMixmLGYsIiNmZmYiLCEwKTtnLnNpbGVudD0hMCxnLnk9b1sxXStwLzItLjUsZC5lbnN1cmVTdGF0ZSgiZW1waGFzaXMiKS5zdHlsZT1hLmdldE1vZGVsKFsiZW1waGFzaXMiLCJtb3ZlSGFuZGxlU3R5bGUiXSkuZ2V0SXRlbVN0eWxlKCk7dmFyIHk9TWF0aC5taW4ob1sxXS8yLE1hdGgubWF4KHAsMTApKTsoYz1lLm1vdmVab25lPW5ldyBjcyh7aW52aXNpYmxlOiEwLHNoYXBlOnt5Om9bMV0teSxoZWlnaHQ6cCt5fX0pKS5vbigibW91c2VvdmVyIiwoZnVuY3Rpb24oKXtzLmVudGVyRW1waGFzaXMoZCl9KSkub24oIm1vdXNlb3V0IiwoZnVuY3Rpb24oKXtzLmxlYXZlRW1waGFzaXMoZCl9KSksci5hZGQoZCksci5hZGQoZyksci5hZGQoYyl9Yy5hdHRyKHtkcmFnZ2FibGU6ITAsY3Vyc29yOlhWKHRoaXMuX29yaWVudCksZHJpZnQ6Qih0aGlzLl9vbkRyYWdNb3ZlLHRoaXMsImFsbCIpLG9uZHJhZ3N0YXJ0OkIodGhpcy5fc2hvd0RhdGFJbmZvLHRoaXMsITApLG9uZHJhZ2VuZDpCKHRoaXMuX29uRHJhZ0VuZCx0aGlzKSxvbm1vdXNlb3ZlcjpCKHRoaXMuX3Nob3dEYXRhSW5mbyx0aGlzLCEwKSxvbm1vdXNlb3V0OkIodGhpcy5fc2hvd0RhdGFJbmZvLHRoaXMsITEpfSl9LGUucHJvdG90eXBlLl9yZXNldEludGVydmFsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcmFuZ2U9dGhpcy5kYXRhWm9vbU1vZGVsLmdldFBlcmNlbnRSYW5nZSgpLGU9dGhpcy5fZ2V0Vmlld0V4dGVudCgpO3RoaXMuX2hhbmRsZUVuZHM9W2ppKHRbMF0sWzAsMTAwXSxlLCEwKSxqaSh0WzFdLFswLDEwMF0sZSwhMCldfSxlLnByb3RvdHlwZS5fdXBkYXRlSW50ZXJ2YWw9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmRhdGFab29tTW9kZWwsaT10aGlzLl9oYW5kbGVFbmRzLHI9dGhpcy5fZ2V0Vmlld0V4dGVudCgpLG89bi5maW5kUmVwcmVzZW50YXRpdmVBeGlzUHJveHkoKS5nZXRNaW5NYXhTcGFuKCksYT1bMCwxMDBdO2hBKGUsaSxyLG4uZ2V0KCJ6b29tTG9jayIpPyJhbGwiOnQsbnVsbCE9by5taW5TcGFuP2ppKG8ubWluU3BhbixhLHIsITApOm51bGwsbnVsbCE9by5tYXhTcGFuP2ppKG8ubWF4U3BhbixhLHIsITApOm51bGwpO3ZhciBzPXRoaXMuX3JhbmdlLGw9dGhpcy5fcmFuZ2U9JGkoW2ppKGlbMF0scixhLCEwKSxqaShpWzFdLHIsYSwhMCldKTtyZXR1cm4hc3x8c1swXSE9PWxbMF18fHNbMV0hPT1sWzFdfSxlLnByb3RvdHlwZS5fdXBkYXRlVmlldz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9kaXNwbGF5YWJsZXMsbj10aGlzLl9oYW5kbGVFbmRzLGk9JGkobi5zbGljZSgpKSxyPXRoaXMuX3NpemU7TyhbMCwxXSwoZnVuY3Rpb24odCl7dmFyIGk9ZS5oYW5kbGVzW3RdLG89dGhpcy5faGFuZGxlSGVpZ2h0O2kuYXR0cih7c2NhbGVYOm8vMixzY2FsZVk6by8yLHg6blt0XSsodD8tMToxKSx5OnJbMV0vMi1vLzJ9KX0pLHRoaXMpLGUuZmlsbGVyLnNldFNoYXBlKHt4OmlbMF0seTowLHdpZHRoOmlbMV0taVswXSxoZWlnaHQ6clsxXX0pO3ZhciBvPXt4OmlbMF0sd2lkdGg6aVsxXS1pWzBdfTtlLm1vdmVIYW5kbGUmJihlLm1vdmVIYW5kbGUuc2V0U2hhcGUobyksZS5tb3ZlWm9uZS5zZXRTaGFwZShvKSxlLm1vdmVab25lLmdldEJvdW5kaW5nUmVjdCgpLGUubW92ZUhhbmRsZUljb24mJmUubW92ZUhhbmRsZUljb24uYXR0cigieCIsby54K28ud2lkdGgvMikpO2Zvcih2YXIgYT1lLmRhdGFTaGFkb3dTZWdzLHM9WzAsaVswXSxpWzFdLHJbMF1dLGw9MDtsPGEubGVuZ3RoO2wrKyl7dmFyIHU9YVtsXSxoPXUuZ2V0Q2xpcFBhdGgoKTtofHwoaD1uZXcgY3MsdS5zZXRDbGlwUGF0aChoKSksaC5zZXRTaGFwZSh7eDpzW2xdLHk6MCx3aWR0aDpzW2wrMV0tc1tsXSxoZWlnaHQ6clsxXX0pfXRoaXMuX3VwZGF0ZURhdGFJbmZvKHQpfSxlLnByb3RvdHlwZS5fdXBkYXRlRGF0YUluZm89ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kYXRhWm9vbU1vZGVsLG49dGhpcy5fZGlzcGxheWFibGVzLGk9bi5oYW5kbGVMYWJlbHMscj10aGlzLl9vcmllbnQsbz1bIiIsIiJdO2lmKGUuZ2V0KCJzaG93RGV0YWlsIikpe3ZhciBhPWUuZmluZFJlcHJlc2VudGF0aXZlQXhpc1Byb3h5KCk7aWYoYSl7dmFyIHM9YS5nZXRBeGlzTW9kZWwoKS5heGlzLGw9dGhpcy5fcmFuZ2UsdT10P2EuY2FsY3VsYXRlRGF0YVdpbmRvdyh7c3RhcnQ6bFswXSxlbmQ6bFsxXX0pLnZhbHVlV2luZG93OmEuZ2V0RGF0YVZhbHVlV2luZG93KCk7bz1bdGhpcy5fZm9ybWF0TGFiZWwodVswXSxzKSx0aGlzLl9mb3JtYXRMYWJlbCh1WzFdLHMpXX19dmFyIGg9JGkodGhpcy5faGFuZGxlRW5kcy5zbGljZSgpKTtmdW5jdGlvbiBjKHQpe3ZhciBlPXJoKG4uaGFuZGxlc1t0XS5wYXJlbnQsdGhpcy5ncm91cCksYT1haCgwPT09dD8icmlnaHQiOiJsZWZ0IixlKSxzPXRoaXMuX2hhbmRsZVdpZHRoLzIrNSxsPW9oKFtoW3RdKygwPT09dD8tczpzKSx0aGlzLl9zaXplWzFdLzJdLGUpO2lbdF0uc2V0U3R5bGUoe3g6bFswXSx5OmxbMV0sdmVydGljYWxBbGlnbjpyPT09R1Y/Im1pZGRsZSI6YSxhbGlnbjpyPT09R1Y/YToiY2VudGVyIix0ZXh0Om9bdF19KX1jLmNhbGwodGhpcywwKSxjLmNhbGwodGhpcywxKX0sZS5wcm90b3R5cGUuX2Zvcm1hdExhYmVsPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5kYXRhWm9vbU1vZGVsLGk9bi5nZXQoImxhYmVsRm9ybWF0dGVyIikscj1uLmdldCgibGFiZWxQcmVjaXNpb24iKTtudWxsIT1yJiYiYXV0byIhPT1yfHwocj1lLmdldFBpeGVsUHJlY2lzaW9uKCkpO3ZhciBvPW51bGw9PXR8fGlzTmFOKHQpPyIiOiJjYXRlZ29yeSI9PT1lLnR5cGV8fCJ0aW1lIj09PWUudHlwZT9lLnNjYWxlLmdldExhYmVsKHt2YWx1ZTpNYXRoLnJvdW5kKHQpfSk6dC50b0ZpeGVkKE1hdGgubWluKHIsMjApKTtyZXR1cm4gSChpKT9pKHQsbyk6VyhpKT9pLnJlcGxhY2UoInt2YWx1ZX0iLG8pOm99LGUucHJvdG90eXBlLl9zaG93RGF0YUluZm89ZnVuY3Rpb24odCl7dD10aGlzLl9kcmFnZ2luZ3x8dDt2YXIgZT10aGlzLl9kaXNwbGF5YWJsZXMsbj1lLmhhbmRsZUxhYmVscztuWzBdLmF0dHIoImludmlzaWJsZSIsIXQpLG5bMV0uYXR0cigiaW52aXNpYmxlIiwhdCksZS5tb3ZlSGFuZGxlJiZ0aGlzLmFwaVt0PyJlbnRlckVtcGhhc2lzIjoibGVhdmVFbXBoYXNpcyJdKGUubW92ZUhhbmRsZSwxKX0sZS5wcm90b3R5cGUuX29uRHJhZ01vdmU9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5fZHJhZ2dpbmc9ITAsbmUoaS5ldmVudCk7dmFyIHI9b2goW2Usbl0sdGhpcy5fZGlzcGxheWFibGVzLnNsaWRlckdyb3VwLmdldExvY2FsVHJhbnNmb3JtKCksITApLG89dGhpcy5fdXBkYXRlSW50ZXJ2YWwodCxyWzBdKSxhPXRoaXMuZGF0YVpvb21Nb2RlbC5nZXQoInJlYWx0aW1lIik7dGhpcy5fdXBkYXRlVmlldyghYSksbyYmYSYmdGhpcy5fZGlzcGF0Y2hab29tQWN0aW9uKCEwKX0sZS5wcm90b3R5cGUuX29uRHJhZ0VuZD1mdW5jdGlvbigpe3RoaXMuX2RyYWdnaW5nPSExLHRoaXMuX3Nob3dEYXRhSW5mbyghMSksIXRoaXMuZGF0YVpvb21Nb2RlbC5nZXQoInJlYWx0aW1lIikmJnRoaXMuX2Rpc3BhdGNoWm9vbUFjdGlvbighMSl9LGUucHJvdG90eXBlLl9vbkNsaWNrUGFuZWw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc2l6ZSxuPXRoaXMuX2Rpc3BsYXlhYmxlcy5zbGlkZXJHcm91cC50cmFuc2Zvcm1Db29yZFRvTG9jYWwodC5vZmZzZXRYLHQub2Zmc2V0WSk7aWYoIShuWzBdPDB8fG5bMF0+ZVswXXx8blsxXTwwfHxuWzFdPmVbMV0pKXt2YXIgaT10aGlzLl9oYW5kbGVFbmRzLHI9KGlbMF0raVsxXSkvMixvPXRoaXMuX3VwZGF0ZUludGVydmFsKCJhbGwiLG5bMF0tcik7dGhpcy5fdXBkYXRlVmlldygpLG8mJnRoaXMuX2Rpc3BhdGNoWm9vbUFjdGlvbighMSl9fSxlLnByb3RvdHlwZS5fb25CcnVzaFN0YXJ0PWZ1bmN0aW9uKHQpe3ZhciBlPXQub2Zmc2V0WCxuPXQub2Zmc2V0WTt0aGlzLl9icnVzaFN0YXJ0PW5ldyBsaShlLG4pLHRoaXMuX2JydXNoaW5nPSEwLHRoaXMuX2JydXNoU3RhcnRUaW1lPStuZXcgRGF0ZX0sZS5wcm90b3R5cGUuX29uQnJ1c2hFbmQ9ZnVuY3Rpb24odCl7aWYodGhpcy5fYnJ1c2hpbmcpe3ZhciBlPXRoaXMuX2Rpc3BsYXlhYmxlcy5icnVzaFJlY3Q7aWYodGhpcy5fYnJ1c2hpbmc9ITEsZSl7ZS5hdHRyKCJpZ25vcmUiLCEwKTt2YXIgbj1lLnNoYXBlO2lmKCEoK25ldyBEYXRlLXRoaXMuX2JydXNoU3RhcnRUaW1lPDIwMCYmTWF0aC5hYnMobi53aWR0aCk8NSkpe3ZhciBpPXRoaXMuX2dldFZpZXdFeHRlbnQoKSxyPVswLDEwMF07dGhpcy5fcmFuZ2U9JGkoW2ppKG4ueCxpLHIsITApLGppKG4ueCtuLndpZHRoLGksciwhMCldKSx0aGlzLl9oYW5kbGVFbmRzPVtuLngsbi54K24ud2lkdGhdLHRoaXMuX3VwZGF0ZVZpZXcoKSx0aGlzLl9kaXNwYXRjaFpvb21BY3Rpb24oITEpfX19fSxlLnByb3RvdHlwZS5fb25CcnVzaD1mdW5jdGlvbih0KXt0aGlzLl9icnVzaGluZyYmKG5lKHQuZXZlbnQpLHRoaXMuX3VwZGF0ZUJydXNoUmVjdCh0Lm9mZnNldFgsdC5vZmZzZXRZKSl9LGUucHJvdG90eXBlLl91cGRhdGVCcnVzaFJlY3Q9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9kaXNwbGF5YWJsZXMsaT10aGlzLmRhdGFab29tTW9kZWwscj1uLmJydXNoUmVjdDtyfHwocj1uLmJydXNoUmVjdD1uZXcgQlYoe3NpbGVudDohMCxzdHlsZTppLmdldE1vZGVsKCJicnVzaFN0eWxlIikuZ2V0SXRlbVN0eWxlKCl9KSxuLnNsaWRlckdyb3VwLmFkZChyKSksci5hdHRyKCJpZ25vcmUiLCExKTt2YXIgbz10aGlzLl9icnVzaFN0YXJ0LGE9dGhpcy5fZGlzcGxheWFibGVzLnNsaWRlckdyb3VwLHM9YS50cmFuc2Zvcm1Db29yZFRvTG9jYWwodCxlKSxsPWEudHJhbnNmb3JtQ29vcmRUb0xvY2FsKG8ueCxvLnkpLHU9dGhpcy5fc2l6ZTtzWzBdPU1hdGgubWF4KE1hdGgubWluKHVbMF0sc1swXSksMCksci5zZXRTaGFwZSh7eDpsWzBdLHk6MCx3aWR0aDpzWzBdLWxbMF0saGVpZ2h0OnVbMV19KX0sZS5wcm90b3R5cGUuX2Rpc3BhdGNoWm9vbUFjdGlvbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9yYW5nZTt0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToiZGF0YVpvb20iLGZyb206dGhpcy51aWQsZGF0YVpvb21JZDp0aGlzLmRhdGFab29tTW9kZWwuaWQsYW5pbWF0aW9uOnQ/V1Y6bnVsbCxzdGFydDplWzBdLGVuZDplWzFdfSl9LGUucHJvdG90eXBlLl9maW5kQ29vcmRSZWN0PWZ1bmN0aW9uKCl7dmFyIHQsZT1fTih0aGlzLmRhdGFab29tTW9kZWwpLmluZm9MaXN0O2lmKCF0JiZlLmxlbmd0aCl7dmFyIG49ZVswXS5tb2RlbC5jb29yZGluYXRlU3lzdGVtO3Q9bi5nZXRSZWN0JiZuLmdldFJlY3QoKX1pZighdCl7dmFyIGk9dGhpcy5hcGkuZ2V0V2lkdGgoKSxyPXRoaXMuYXBpLmdldEhlaWdodCgpO3Q9e3g6LjIqaSx5Oi4yKnIsd2lkdGg6LjYqaSxoZWlnaHQ6LjYqcn19cmV0dXJuIHR9LGUudHlwZT0iZGF0YVpvb20uc2xpZGVyIixlfShNTik7ZnVuY3Rpb24gWFYodCl7cmV0dXJuInZlcnRpY2FsIj09PXQ/Im5zLXJlc2l6ZSI6ImV3LXJlc2l6ZSJ9ZnVuY3Rpb24gWVYodCl7dC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKFZWKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhVViksTE4odCl9dmFyIFpWPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1TKChqVlt0XXx8e30pW2VdKTtyZXR1cm4gbiYmRihpKT9pW2kubGVuZ3RoLTFdOml9LGpWPXtjb2xvcjp7YWN0aXZlOlsiIzAwNmVkZCIsIiNlMGZmZmYiXSxpbmFjdGl2ZTpbInJnYmEoMCwwLDAsMCkiXX0sY29sb3JIdWU6e2FjdGl2ZTpbMCwzNjBdLGluYWN0aXZlOlswLDBdfSxjb2xvclNhdHVyYXRpb246e2FjdGl2ZTpbLjMsMV0saW5hY3RpdmU6WzAsMF19LGNvbG9yTGlnaHRuZXNzOnthY3RpdmU6Wy45LC41XSxpbmFjdGl2ZTpbMCwwXX0sY29sb3JBbHBoYTp7YWN0aXZlOlsuMywxXSxpbmFjdGl2ZTpbMCwwXX0sb3BhY2l0eTp7YWN0aXZlOlsuMywxXSxpbmFjdGl2ZTpbMCwwXX0sc3ltYm9sOnthY3RpdmU6WyJjaXJjbGUiLCJyb3VuZFJlY3QiLCJkaWFtb25kIl0saW5hY3RpdmU6WyJub25lIl19LHN5bWJvbFNpemU6e2FjdGl2ZTpbMTAsNTBdLGluYWN0aXZlOlswLDBdfX0scVY9ckMubWFwVmlzdWFsLEtWPXJDLmVhY2hWaXN1YWwsJFY9RixKVj1PLFFWPSRpLHRCPWppLGVCPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5zdGF0ZUxpc3Q9WyJpblJhbmdlIiwib3V0T2ZSYW5nZSJdLG4ucmVwbGFjYWJsZU9wdGlvbktleXM9WyJpblJhbmdlIiwib3V0T2ZSYW5nZSIsInRhcmdldCIsImNvbnRyb2xsZXIiLCJjb2xvciJdLG4ubGF5b3V0TW9kZT17dHlwZToiYm94IixpZ25vcmVTaXplOiEwfSxuLmRhdGFCb3VuZD1bLTEvMCwxLzBdLG4udGFyZ2V0VmlzdWFscz17fSxuLmNvbnRyb2xsZXJWaXN1YWxzPXt9LG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLm1lcmdlRGVmYXVsdEFuZFRoZW1lKHQsbil9LGUucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm9wdGlvbjthLmNhbnZhc1N1cHBvcnRlZHx8KG4ucmVhbHRpbWU9ITEpLCFlJiZLeihuLHQsdGhpcy5yZXBsYWNhYmxlT3B0aW9uS2V5cyksdGhpcy50ZXh0U3R5bGVNb2RlbD10aGlzLmdldE1vZGVsKCJ0ZXh0U3R5bGUiKSx0aGlzLnJlc2V0SXRlbVNpemUoKSx0aGlzLmNvbXBsZXRlVmlzdWFsT3B0aW9uKCl9LGUucHJvdG90eXBlLnJlc2V0VmlzdWFsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RhdGVMaXN0O3Q9Qih0LHRoaXMpLHRoaXMuY29udHJvbGxlclZpc3VhbHM9cXoodGhpcy5vcHRpb24uY29udHJvbGxlcixlLHQpLHRoaXMudGFyZ2V0VmlzdWFscz1xeih0aGlzLm9wdGlvbi50YXJnZXQsZSx0KX0sZS5wcm90b3R5cGUuZ2V0SXRlbVN5bWJvbD1mdW5jdGlvbigpe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRUYXJnZXRTZXJpZXNJbmRpY2VzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb24uc2VyaWVzSW5kZXgsZT1bXTtyZXR1cm4gbnVsbD09dHx8ImFsbCI9PT10P3RoaXMuZWNNb2RlbC5lYWNoU2VyaWVzKChmdW5jdGlvbih0LG4pe2UucHVzaChuKX0pKTplPXdyKHQpLGV9LGUucHJvdG90eXBlLmVhY2hUYXJnZXRTZXJpZXM9ZnVuY3Rpb24odCxlKXtPKHRoaXMuZ2V0VGFyZ2V0U2VyaWVzSW5kaWNlcygpLChmdW5jdGlvbihuKXt2YXIgaT10aGlzLmVjTW9kZWwuZ2V0U2VyaWVzQnlJbmRleChuKTtpJiZ0LmNhbGwoZSxpKX0pLHRoaXMpfSxlLnByb3RvdHlwZS5pc1RhcmdldFNlcmllcz1mdW5jdGlvbih0KXt2YXIgZT0hMTtyZXR1cm4gdGhpcy5lYWNoVGFyZ2V0U2VyaWVzKChmdW5jdGlvbihuKXtuPT09dCYmKGU9ITApfSkpLGV9LGUucHJvdG90eXBlLmZvcm1hdFZhbHVlVGV4dD1mdW5jdGlvbih0LGUsbil7dmFyIGkscj10aGlzLm9wdGlvbixvPXIucHJlY2lzaW9uLGE9dGhpcy5kYXRhQm91bmQscz1yLmZvcm1hdHRlcjtuPW58fFsiPCIsIj4iXSxGKHQpJiYodD10LnNsaWNlKCksaT0hMCk7dmFyIGw9ZT90Omk/W3UodFswXSksdSh0WzFdKV06dSh0KTtyZXR1cm4gVyhzKT9zLnJlcGxhY2UoInt2YWx1ZX0iLGk/bFswXTpsKS5yZXBsYWNlKCJ7dmFsdWUyfSIsaT9sWzFdOmwpOkgocyk/aT9zKHRbMF0sdFsxXSk6cyh0KTppP3RbMF09PT1hWzBdP25bMF0rIiAiK2xbMV06dFsxXT09PWFbMV0/blsxXSsiICIrbFswXTpsWzBdKyIgLSAiK2xbMV06bDtmdW5jdGlvbiB1KHQpe3JldHVybiB0PT09YVswXT8ibWluIjp0PT09YVsxXT8ibWF4IjooK3QpLnRvRml4ZWQoTWF0aC5taW4obywyMCkpfX0sZS5wcm90b3R5cGUucmVzZXRFeHRlbnQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbixlPVFWKFt0Lm1pbix0Lm1heF0pO3RoaXMuX2RhdGFFeHRlbnQ9ZX0sZS5wcm90b3R5cGUuZ2V0RGF0YURpbWVuc2lvbkluZGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLmRpbWVuc2lvbjtpZihudWxsIT1lKXJldHVybiB0LmdldERpbWVuc2lvbkluZGV4KGUpO2Zvcih2YXIgbj10LmRpbWVuc2lvbnMsaT1uLmxlbmd0aC0xO2k+PTA7aS0tKXt2YXIgcj1uW2ldLG89dC5nZXREaW1lbnNpb25JbmZvKHIpO2lmKCFvLmlzQ2FsY3VsYXRpb25Db29yZClyZXR1cm4gby5zdG9yZURpbUluZGV4fX0sZS5wcm90b3R5cGUuZ2V0RXh0ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGFFeHRlbnQuc2xpY2UoKX0sZS5wcm90b3R5cGUuY29tcGxldGVWaXN1YWxPcHRpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVjTW9kZWwsZT10aGlzLm9wdGlvbixuPXtpblJhbmdlOmUuaW5SYW5nZSxvdXRPZlJhbmdlOmUub3V0T2ZSYW5nZX0saT1lLnRhcmdldHx8KGUudGFyZ2V0PXt9KSxyPWUuY29udHJvbGxlcnx8KGUuY29udHJvbGxlcj17fSk7TShpLG4pLE0ocixuKTt2YXIgbz10aGlzLmlzQ2F0ZWdvcnkoKTtmdW5jdGlvbiBhKG4peyRWKGUuY29sb3IpJiYhbi5pblJhbmdlJiYobi5pblJhbmdlPXtjb2xvcjplLmNvbG9yLnNsaWNlKCkucmV2ZXJzZSgpfSksbi5pblJhbmdlPW4uaW5SYW5nZXx8e2NvbG9yOnQuZ2V0KCJncmFkaWVudENvbG9yIil9fWEuY2FsbCh0aGlzLGkpLGEuY2FsbCh0aGlzLHIpLGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10W2VdLHI9dFtuXTtpJiYhciYmKHI9dFtuXT17fSxKVihpLChmdW5jdGlvbih0LGUpe2lmKHJDLmlzVmFsaWRUeXBlKGUpKXt2YXIgbj1aVihlLCJpbmFjdGl2ZSIsbyk7bnVsbCE9biYmKHJbZV09biwiY29sb3IiIT09ZXx8ci5oYXNPd25Qcm9wZXJ0eSgib3BhY2l0eSIpfHxyLmhhc093blByb3BlcnR5KCJjb2xvckFscGhhIil8fChyLm9wYWNpdHk9WzAsMF0pKX19KSkpfS5jYWxsKHRoaXMsaSwiaW5SYW5nZSIsIm91dE9mUmFuZ2UiKSxmdW5jdGlvbih0KXt2YXIgZT0odC5pblJhbmdlfHx7fSkuc3ltYm9sfHwodC5vdXRPZlJhbmdlfHx7fSkuc3ltYm9sLG49KHQuaW5SYW5nZXx8e30pLnN5bWJvbFNpemV8fCh0Lm91dE9mUmFuZ2V8fHt9KS5zeW1ib2xTaXplLGk9dGhpcy5nZXQoImluYWN0aXZlQ29sb3IiKSxyPXRoaXMuZ2V0SXRlbVN5bWJvbCgpfHwicm91bmRSZWN0IjtKVih0aGlzLnN0YXRlTGlzdCwoZnVuY3Rpb24oYSl7dmFyIHM9dGhpcy5pdGVtU2l6ZSxsPXRbYV07bHx8KGw9dFthXT17Y29sb3I6bz9pOltpXX0pLG51bGw9PWwuc3ltYm9sJiYobC5zeW1ib2w9ZSYmUyhlKXx8KG8/cjpbcl0pKSxudWxsPT1sLnN5bWJvbFNpemUmJihsLnN5bWJvbFNpemU9biYmUyhuKXx8KG8/c1swXTpbc1swXSxzWzBdXSkpLGwuc3ltYm9sPXFWKGwuc3ltYm9sLChmdW5jdGlvbih0KXtyZXR1cm4ibm9uZSI9PT10P3I6dH0pKTt2YXIgdT1sLnN5bWJvbFNpemU7aWYobnVsbCE9dSl7dmFyIGg9LTEvMDtLVih1LChmdW5jdGlvbih0KXt0PmgmJihoPXQpfSkpLGwuc3ltYm9sU2l6ZT1xVih1LChmdW5jdGlvbih0KXtyZXR1cm4gdEIodCxbMCxoXSxbMCxzWzBdXSwhMCl9KSl9fSksdGhpcyl9LmNhbGwodGhpcyxyKX0sZS5wcm90b3R5cGUucmVzZXRJdGVtU2l6ZT1mdW5jdGlvbigpe3RoaXMuaXRlbVNpemU9W3BhcnNlRmxvYXQodGhpcy5nZXQoIml0ZW1XaWR0aCIpKSxwYXJzZUZsb2F0KHRoaXMuZ2V0KCJpdGVtSGVpZ2h0IikpXX0sZS5wcm90b3R5cGUuaXNDYXRlZ29yeT1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5vcHRpb24uY2F0ZWdvcmllc30sZS5wcm90b3R5cGUuc2V0U2VsZWN0ZWQ9ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS5nZXRTZWxlY3RlZD1mdW5jdGlvbigpe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRWYWx1ZVN0YXRlPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRWaXN1YWxNZXRhPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsfSxlLnR5cGU9InZpc3VhbE1hcCIsZS5kZXBlbmRlbmNpZXM9WyJzZXJpZXMiXSxlLmRlZmF1bHRPcHRpb249e3Nob3c6ITAsemxldmVsOjAsejo0LHNlcmllc0luZGV4OiJhbGwiLG1pbjowLG1heDoyMDAsbGVmdDowLHJpZ2h0Om51bGwsdG9wOm51bGwsYm90dG9tOjAsaXRlbVdpZHRoOm51bGwsaXRlbUhlaWdodDpudWxsLGludmVyc2U6ITEsb3JpZW50OiJ2ZXJ0aWNhbCIsYmFja2dyb3VuZENvbG9yOiJyZ2JhKDAsMCwwLDApIixib3JkZXJDb2xvcjoiI2NjYyIsY29udGVudENvbG9yOiIjNTc5M2YzIixpbmFjdGl2ZUNvbG9yOiIjYWFhIixib3JkZXJXaWR0aDowLHBhZGRpbmc6NSx0ZXh0R2FwOjEwLHByZWNpc2lvbjowLHRleHRTdHlsZTp7Y29sb3I6IiMzMzMifX0sZX0obnApLG5CPVsyMCwxNDBdLGlCPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLm9wdGlvblVwZGF0ZWQ9ZnVuY3Rpb24oZSxuKXt0LnByb3RvdHlwZS5vcHRpb25VcGRhdGVkLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLnJlc2V0RXh0ZW50KCksdGhpcy5yZXNldFZpc3VhbCgoZnVuY3Rpb24odCl7dC5tYXBwaW5nTWV0aG9kPSJsaW5lYXIiLHQuZGF0YUV4dGVudD10aGlzLmdldEV4dGVudCgpfSkpLHRoaXMuX3Jlc2V0UmFuZ2UoKX0sZS5wcm90b3R5cGUucmVzZXRJdGVtU2l6ZT1mdW5jdGlvbigpe3QucHJvdG90eXBlLnJlc2V0SXRlbVNpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBlPXRoaXMuaXRlbVNpemU7KG51bGw9PWVbMF18fGlzTmFOKGVbMF0pKSYmKGVbMF09bkJbMF0pLChudWxsPT1lWzFdfHxpc05hTihlWzFdKSkmJihlWzFdPW5CWzFdKX0sZS5wcm90b3R5cGUuX3Jlc2V0UmFuZ2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEV4dGVudCgpLGU9dGhpcy5vcHRpb24ucmFuZ2U7IWV8fGUuYXV0bz8odC5hdXRvPTEsdGhpcy5vcHRpb24ucmFuZ2U9dCk6RihlKSYmKGVbMF0+ZVsxXSYmZS5yZXZlcnNlKCksZVswXT1NYXRoLm1heChlWzBdLHRbMF0pLGVbMV09TWF0aC5taW4oZVsxXSx0WzFdKSl9LGUucHJvdG90eXBlLmNvbXBsZXRlVmlzdWFsT3B0aW9uPWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUuY29tcGxldGVWaXN1YWxPcHRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpLE8odGhpcy5zdGF0ZUxpc3QsKGZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLmNvbnRyb2xsZXJbdF0uc3ltYm9sU2l6ZTtlJiZlWzBdIT09ZVsxXSYmKGVbMF09ZVsxXS8zKX0pLHRoaXMpfSxlLnByb3RvdHlwZS5zZXRTZWxlY3RlZD1mdW5jdGlvbih0KXt0aGlzLm9wdGlvbi5yYW5nZT10LnNsaWNlKCksdGhpcy5fcmVzZXRSYW5nZSgpfSxlLnByb3RvdHlwZS5nZXRTZWxlY3RlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0RXh0ZW50KCksZT0kaSgodGhpcy5nZXQoInJhbmdlIil8fFtdKS5zbGljZSgpKTtyZXR1cm4gZVswXT50WzFdJiYoZVswXT10WzFdKSxlWzFdPnRbMV0mJihlWzFdPXRbMV0pLGVbMF08dFswXSYmKGVbMF09dFswXSksZVsxXTx0WzBdJiYoZVsxXT10WzBdKSxlfSxlLnByb3RvdHlwZS5nZXRWYWx1ZVN0YXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uLnJhbmdlLG49dGhpcy5nZXRFeHRlbnQoKTtyZXR1cm4oZVswXTw9blswXXx8ZVswXTw9dCkmJihlWzFdPj1uWzFdfHx0PD1lWzFdKT8iaW5SYW5nZSI6Im91dE9mUmFuZ2UifSxlLnByb3RvdHlwZS5maW5kVGFyZ2V0RGF0YUluZGljZXM9ZnVuY3Rpb24odCl7dmFyIGU9W107cmV0dXJuIHRoaXMuZWFjaFRhcmdldFNlcmllcygoZnVuY3Rpb24obil7dmFyIGk9W10scj1uLmdldERhdGEoKTtyLmVhY2godGhpcy5nZXREYXRhRGltZW5zaW9uSW5kZXgociksKGZ1bmN0aW9uKGUsbil7dFswXTw9ZSYmZTw9dFsxXSYmaS5wdXNoKG4pfSksdGhpcyksZS5wdXNoKHtzZXJpZXNJZDpuLmlkLGRhdGFJbmRleDppfSl9KSx0aGlzKSxlfSxlLnByb3RvdHlwZS5nZXRWaXN1YWxNZXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXJCKHRoaXMsIm91dE9mUmFuZ2UiLHRoaXMuZ2V0RXh0ZW50KCkpLG49ckIodGhpcywiaW5SYW5nZSIsdGhpcy5vcHRpb24ucmFuZ2Uuc2xpY2UoKSksaT1bXTtmdW5jdGlvbiByKGUsbil7aS5wdXNoKHt2YWx1ZTplLGNvbG9yOnQoZSxuKX0pfWZvcih2YXIgbz0wLGE9MCxzPW4ubGVuZ3RoLGw9ZS5sZW5ndGg7YTxsJiYoIW4ubGVuZ3RofHxlW2FdPD1uWzBdKTthKyspZVthXTxuW29dJiZyKGVbYV0sIm91dE9mUmFuZ2UiKTtmb3IodmFyIHU9MTtvPHM7bysrLHU9MCl1JiZpLmxlbmd0aCYmcihuW29dLCJvdXRPZlJhbmdlIikscihuW29dLCJpblJhbmdlIik7Zm9yKHU9MTthPGw7YSsrKSghbi5sZW5ndGh8fG5bbi5sZW5ndGgtMV08ZVthXSkmJih1JiYoaS5sZW5ndGgmJnIoaVtpLmxlbmd0aC0xXS52YWx1ZSwib3V0T2ZSYW5nZSIpLHU9MCkscihlW2FdLCJvdXRPZlJhbmdlIikpO3ZhciBoPWkubGVuZ3RoO3JldHVybntzdG9wczppLG91dGVyQ29sb3JzOltoP2lbMF0uY29sb3I6InRyYW5zcGFyZW50IixoP2lbaC0xXS5jb2xvcjoidHJhbnNwYXJlbnQiXX19LGUudHlwZT0idmlzdWFsTWFwLmNvbnRpbnVvdXMiLGUuZGVmYXVsdE9wdGlvbj1ZaChlQi5kZWZhdWx0T3B0aW9uLHthbGlnbjoiYXV0byIsY2FsY3VsYWJsZTohMSxob3Zlckxpbms6ITAscmVhbHRpbWU6ITAsaGFuZGxlSWNvbjoicGF0aDovL00tMTEuMzksOS43N2gwYTMuNSwzLjUsMCwwLDEtMy41LDMuNWgtMjJhMy41LDMuNSwwLDAsMS0zLjUtMy41aDBhMy41LDMuNSwwLDAsMSwzLjUtMy41aDIyQTMuNSwzLjUsMCwwLDEtMTEuMzksOS43N1oiLGhhbmRsZVNpemU6IjEyMCUiLGhhbmRsZVN0eWxlOntib3JkZXJDb2xvcjoiI2ZmZiIsYm9yZGVyV2lkdGg6MX0saW5kaWNhdG9ySWNvbjoiY2lyY2xlIixpbmRpY2F0b3JTaXplOiI1MCUiLGluZGljYXRvclN0eWxlOntib3JkZXJDb2xvcjoiI2ZmZiIsYm9yZGVyV2lkdGg6MixzaGFkb3dCbHVyOjIsc2hhZG93T2Zmc2V0WDoxLHNoYWRvd09mZnNldFk6MSxzaGFkb3dDb2xvcjoicmdiYSgwLDAsMCwwLjIpIn19KSxlfShlQik7ZnVuY3Rpb24gckIodCxlLG4pe2lmKG5bMF09PT1uWzFdKXJldHVybiBuLnNsaWNlKCk7Zm9yKHZhciBpPShuWzFdLW5bMF0pLzIwMCxyPW5bMF0sbz1bXSxhPTA7YTw9MjAwJiZyPG5bMV07YSsrKW8ucHVzaChyKSxyKz1pO3JldHVybiBvLnB1c2goblsxXSksb312YXIgb0I9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLmF1dG9Qb3NpdGlvblZhbHVlcz17bGVmdDoxLHJpZ2h0OjEsdG9wOjEsYm90dG9tOjF9LG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSl7dGhpcy5lY01vZGVsPXQsdGhpcy5hcGk9ZX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMudmlzdWFsTWFwTW9kZWw9dCwhMSE9PXQuZ2V0KCJzaG93Iik/dGhpcy5kb1JlbmRlcih0LGUsbixpKTp0aGlzLmdyb3VwLnJlbW92ZUFsbCgpfSxlLnByb3RvdHlwZS5yZW5kZXJCYWNrZ3JvdW5kPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmlzdWFsTWFwTW9kZWwsbj1PYyhlLmdldCgicGFkZGluZyIpfHwwKSxpPXQuZ2V0Qm91bmRpbmdSZWN0KCk7dC5hZGQobmV3IGNzKHt6MjotMSxzaWxlbnQ6ITAsc2hhcGU6e3g6aS54LW5bM10seTppLnktblswXSx3aWR0aDppLndpZHRoK25bM10rblsxXSxoZWlnaHQ6aS5oZWlnaHQrblswXStuWzJdfSxzdHlsZTp7ZmlsbDplLmdldCgiYmFja2dyb3VuZENvbG9yIiksc3Ryb2tlOmUuZ2V0KCJib3JkZXJDb2xvciIpLGxpbmVXaWR0aDplLmdldCgiYm9yZGVyV2lkdGgiKX19KSl9LGUucHJvdG90eXBlLmdldENvbnRyb2xsZXJWaXN1YWw9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPShuPW58fHt9KS5mb3JjZVN0YXRlLHI9dGhpcy52aXN1YWxNYXBNb2RlbCxvPXt9O2lmKCJjb2xvciI9PT1lKXt2YXIgYT1yLmdldCgiY29udGVudENvbG9yIik7by5jb2xvcj1hfWZ1bmN0aW9uIHModCl7cmV0dXJuIG9bdF19ZnVuY3Rpb24gbCh0LGUpe29bdF09ZX12YXIgdT1yLmNvbnRyb2xsZXJWaXN1YWxzW2l8fHIuZ2V0VmFsdWVTdGF0ZSh0KV07cmV0dXJuIE8ockMucHJlcGFyZVZpc3VhbFR5cGVzKHUpLChmdW5jdGlvbihpKXt2YXIgcj11W2ldO24uY29udmVydE9wYWNpdHlUb0FscGhhJiYib3BhY2l0eSI9PT1pJiYoaT0iY29sb3JBbHBoYSIscj11Ll9fYWxwaGFGb3JPcGFjaXR5KSxyQy5kZXBlbmRzT24oaSxlKSYmciYmci5hcHBseVZpc3VhbCh0LHMsbCl9KSksb1tlXX0sZS5wcm90b3R5cGUucG9zaXRpb25Hcm91cD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnZpc3VhbE1hcE1vZGVsLG49dGhpcy5hcGk7S2ModCxlLmdldEJveExheW91dFBhcmFtcygpLHt3aWR0aDpuLmdldFdpZHRoKCksaGVpZ2h0Om4uZ2V0SGVpZ2h0KCl9KX0sZS5wcm90b3R5cGUuZG9SZW5kZXI9ZnVuY3Rpb24odCxlLG4saSl7fSxlLnR5cGU9InZpc3VhbE1hcCIsZX0oV2YpLGFCPVtbImxlZnQiLCJyaWdodCIsIndpZHRoIl0sWyJ0b3AiLCJib3R0b20iLCJoZWlnaHQiXV07ZnVuY3Rpb24gc0IodCxlLG4pe3ZhciBpPXQub3B0aW9uLHI9aS5hbGlnbjtpZihudWxsIT1yJiYiYXV0byIhPT1yKXJldHVybiByO2Zvcih2YXIgbz17d2lkdGg6ZS5nZXRXaWR0aCgpLGhlaWdodDplLmdldEhlaWdodCgpfSxhPSJob3Jpem9udGFsIj09PWkub3JpZW50PzE6MCxzPWFCW2FdLGw9WzAsbnVsbCwxMF0sdT17fSxoPTA7aDwzO2grKyl1W2FCWzEtYV1baF1dPWxbaF0sdVtzW2hdXT0yPT09aD9uWzBdOmlbc1toXV07dmFyIGM9W1sieCIsIndpZHRoIiwzXSxbInkiLCJoZWlnaHQiLDBdXVthXSxwPXFjKHUsbyxpLnBhZGRpbmcpO3JldHVybiBzWyhwLm1hcmdpbltjWzJdXXx8MCkrcFtjWzBdXSsuNSpwW2NbMV1dPC41Km9bY1sxXV0/MDoxXX1mdW5jdGlvbiBsQih0LGUpe3JldHVybiBPKHR8fFtdLChmdW5jdGlvbih0KXtudWxsIT10LmRhdGFJbmRleCYmKHQuZGF0YUluZGV4SW5zaWRlPXQuZGF0YUluZGV4LHQuZGF0YUluZGV4PW51bGwpLHQuaGlnaGxpZ2h0S2V5PSJ2aXN1YWxNYXAiKyhlP2UuY29tcG9uZW50SW5kZXg6IiIpfSkpLHR9dmFyIHVCPWppLGhCPU8sY0I9TWF0aC5taW4scEI9TWF0aC5tYXgsZEI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBuPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gbi50eXBlPWUudHlwZSxuLl9zaGFwZXM9e30sbi5fZGF0YUludGVydmFsPVtdLG4uX2hhbmRsZUVuZHM9W10sbi5faG92ZXJMaW5rRGF0YUluZGljZXM9W10sbn1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmRvUmVuZGVyPWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMuX2FwaT1uLGkmJiJzZWxlY3REYXRhUmFuZ2UiPT09aS50eXBlJiZpLmZyb209PT10aGlzLnVpZHx8dGhpcy5fYnVpbGRWaWV3KCl9LGUucHJvdG90eXBlLl9idWlsZFZpZXc9ZnVuY3Rpb24oKXt0aGlzLmdyb3VwLnJlbW92ZUFsbCgpO3ZhciB0PXRoaXMudmlzdWFsTWFwTW9kZWwsZT10aGlzLmdyb3VwO3RoaXMuX29yaWVudD10LmdldCgib3JpZW50IiksdGhpcy5fdXNlSGFuZGxlPXQuZ2V0KCJjYWxjdWxhYmxlIiksdGhpcy5fcmVzZXRJbnRlcnZhbCgpLHRoaXMuX3JlbmRlckJhcihlKTt2YXIgbj10LmdldCgidGV4dCIpO3RoaXMuX3JlbmRlckVuZHNUZXh0KGUsbiwwKSx0aGlzLl9yZW5kZXJFbmRzVGV4dChlLG4sMSksdGhpcy5fdXBkYXRlVmlldyghMCksdGhpcy5yZW5kZXJCYWNrZ3JvdW5kKGUpLHRoaXMuX3VwZGF0ZVZpZXcoKSx0aGlzLl9lbmFibGVIb3ZlckxpbmtUb1NlcmllcygpLHRoaXMuX2VuYWJsZUhvdmVyTGlua0Zyb21TZXJpZXMoKSx0aGlzLnBvc2l0aW9uR3JvdXAoZSl9LGUucHJvdG90eXBlLl9yZW5kZXJFbmRzVGV4dD1mdW5jdGlvbih0LGUsbil7aWYoZSl7dmFyIGk9ZVsxLW5dO2k9bnVsbCE9aT9pKyIiOiIiO3ZhciByPXRoaXMudmlzdWFsTWFwTW9kZWwsbz1yLmdldCgidGV4dEdhcCIpLGE9ci5pdGVtU2l6ZSxzPXRoaXMuX3NoYXBlcy5tYWluR3JvdXAsbD10aGlzLl9hcHBseVRyYW5zZm9ybShbYVswXS8yLDA9PT1uPy1vOmFbMV0rb10scyksdT10aGlzLl9hcHBseVRyYW5zZm9ybSgwPT09bj8iYm90dG9tIjoidG9wIixzKSxoPXRoaXMuX29yaWVudCxjPXRoaXMudmlzdWFsTWFwTW9kZWwudGV4dFN0eWxlTW9kZWw7dGhpcy5ncm91cC5hZGQobmV3IGZzKHtzdHlsZTp7eDpsWzBdLHk6bFsxXSx2ZXJ0aWNhbEFsaWduOiJob3Jpem9udGFsIj09PWg/Im1pZGRsZSI6dSxhbGlnbjoiaG9yaXpvbnRhbCI9PT1oP3U6ImNlbnRlciIsdGV4dDppLGZvbnQ6Yy5nZXRGb250KCksZmlsbDpjLmdldFRleHRDb2xvcigpfX0pKX19LGUucHJvdG90eXBlLl9yZW5kZXJCYXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52aXN1YWxNYXBNb2RlbCxuPXRoaXMuX3NoYXBlcyxpPWUuaXRlbVNpemUscj10aGlzLl9vcmllbnQsbz10aGlzLl91c2VIYW5kbGUsYT1zQihlLHRoaXMuYXBpLGkpLHM9bi5tYWluR3JvdXA9dGhpcy5fY3JlYXRlQmFyR3JvdXAoYSksbD1uZXcgQmk7cy5hZGQobCksbC5hZGQobi5vdXRPZlJhbmdlPWZCKCkpLGwuYWRkKG4uaW5SYW5nZT1mQihudWxsLG8/eUIodGhpcy5fb3JpZW50KTpudWxsLEIodGhpcy5fZHJhZ0hhbmRsZSx0aGlzLCJhbGwiLCExKSxCKHRoaXMuX2RyYWdIYW5kbGUsdGhpcywiYWxsIiwhMCkpKSxsLnNldENsaXBQYXRoKG5ldyBjcyh7c2hhcGU6e3g6MCx5OjAsd2lkdGg6aVswXSxoZWlnaHQ6aVsxXSxyOjN9fSkpO3ZhciB1PWUudGV4dFN0eWxlTW9kZWwuZ2V0VGV4dFJlY3QoIuWbvSIpLGg9cEIodS53aWR0aCx1LmhlaWdodCk7byYmKG4uaGFuZGxlVGh1bWJzPVtdLG4uaGFuZGxlTGFiZWxzPVtdLG4uaGFuZGxlTGFiZWxQb2ludHM9W10sdGhpcy5fY3JlYXRlSGFuZGxlKGUscywwLGksaCxyKSx0aGlzLl9jcmVhdGVIYW5kbGUoZSxzLDEsaSxoLHIpKSx0aGlzLl9jcmVhdGVJbmRpY2F0b3IoZSxzLGksaCxyKSx0LmFkZChzKX0sZS5wcm90b3R5cGUuX2NyZWF0ZUhhbmRsZT1mdW5jdGlvbih0LGUsbixpLHIsbyl7dmFyIGE9Qih0aGlzLl9kcmFnSGFuZGxlLHRoaXMsbiwhMSkscz1CKHRoaXMuX2RyYWdIYW5kbGUsdGhpcyxuLCEwKSxsPUNpKHQuZ2V0KCJoYW5kbGVTaXplIiksaVswXSksdT1leSh0LmdldCgiaGFuZGxlSWNvbiIpLC1sLzIsLWwvMixsLGwsbnVsbCwhMCksaD15Qih0aGlzLl9vcmllbnQpO3UuYXR0cih7Y3Vyc29yOmgsZHJhZ2dhYmxlOiEwLGRyaWZ0OmEsb25kcmFnZW5kOnMsb25tb3VzZW1vdmU6ZnVuY3Rpb24odCl7bmUodC5ldmVudCl9fSksdS54PWlbMF0vMix1LnVzZVN0eWxlKHQuZ2V0TW9kZWwoImhhbmRsZVN0eWxlIikuZ2V0SXRlbVN0eWxlKCkpLHUuc2V0U3R5bGUoe3N0cm9rZU5vU2NhbGU6ITAsc3Ryb2tlRmlyc3Q6ITB9KSx1LnN0eWxlLmxpbmVXaWR0aCo9Mix1LmVuc3VyZVN0YXRlKCJlbXBoYXNpcyIpLnN0eWxlPXQuZ2V0TW9kZWwoWyJlbXBoYXNpcyIsImhhbmRsZVN0eWxlIl0pLmdldEl0ZW1TdHlsZSgpLHZsKHUsITApLGUuYWRkKHUpO3ZhciBjPXRoaXMudmlzdWFsTWFwTW9kZWwudGV4dFN0eWxlTW9kZWwscD1uZXcgZnMoe2N1cnNvcjpoLGRyYWdnYWJsZTohMCxkcmlmdDphLG9ubW91c2Vtb3ZlOmZ1bmN0aW9uKHQpe25lKHQuZXZlbnQpfSxvbmRyYWdlbmQ6cyxzdHlsZTp7eDowLHk6MCx0ZXh0OiIiLGZvbnQ6Yy5nZXRGb250KCksZmlsbDpjLmdldFRleHRDb2xvcigpfX0pO3AuZW5zdXJlU3RhdGUoImJsdXIiKS5zdHlsZT17b3BhY2l0eTouMX0scC5zdGF0ZVRyYW5zaXRpb249e2R1cmF0aW9uOjIwMH0sdGhpcy5ncm91cC5hZGQocCk7dmFyIGQ9W2wsMF0sZj10aGlzLl9zaGFwZXM7Zi5oYW5kbGVUaHVtYnNbbl09dSxmLmhhbmRsZUxhYmVsUG9pbnRzW25dPWQsZi5oYW5kbGVMYWJlbHNbbl09cH0sZS5wcm90b3R5cGUuX2NyZWF0ZUluZGljYXRvcj1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPUNpKHQuZ2V0KCJpbmRpY2F0b3JTaXplIiksblswXSksYT1leSh0LmdldCgiaW5kaWNhdG9ySWNvbiIpLC1vLzIsLW8vMixvLG8sbnVsbCwhMCk7YS5hdHRyKHtjdXJzb3I6Im1vdmUiLGludmlzaWJsZTohMCxzaWxlbnQ6ITAseDpuWzBdLzJ9KTt2YXIgcz10LmdldE1vZGVsKCJpbmRpY2F0b3JTdHlsZSIpLmdldEl0ZW1TdHlsZSgpO2lmKGEgaW5zdGFuY2VvZiBycyl7dmFyIGw9YS5zdHlsZTthLnVzZVN0eWxlKFQoe2ltYWdlOmwuaW1hZ2UseDpsLngseTpsLnksd2lkdGg6bC53aWR0aCxoZWlnaHQ6bC5oZWlnaHR9LHMpKX1lbHNlIGEudXNlU3R5bGUocyk7ZS5hZGQoYSk7dmFyIHU9dGhpcy52aXN1YWxNYXBNb2RlbC50ZXh0U3R5bGVNb2RlbCxoPW5ldyBmcyh7c2lsZW50OiEwLGludmlzaWJsZTohMCxzdHlsZTp7eDowLHk6MCx0ZXh0OiIiLGZvbnQ6dS5nZXRGb250KCksZmlsbDp1LmdldFRleHRDb2xvcigpfX0pO3RoaXMuZ3JvdXAuYWRkKGgpO3ZhciBjPVsoImhvcml6b250YWwiPT09cj9pLzI6NikrblswXS8yLDBdLHA9dGhpcy5fc2hhcGVzO3AuaW5kaWNhdG9yPWEscC5pbmRpY2F0b3JMYWJlbD1oLHAuaW5kaWNhdG9yTGFiZWxQb2ludD1jLHRoaXMuX2ZpcnN0U2hvd0luZGljYXRvcj0hMH0sZS5wcm90b3R5cGUuX2RyYWdIYW5kbGU9ZnVuY3Rpb24odCxlLG4saSl7aWYodGhpcy5fdXNlSGFuZGxlKXtpZih0aGlzLl9kcmFnZ2luZz0hZSwhZSl7dmFyIHI9dGhpcy5fYXBwbHlUcmFuc2Zvcm0oW24saV0sdGhpcy5fc2hhcGVzLm1haW5Hcm91cCwhMCk7dGhpcy5fdXBkYXRlSW50ZXJ2YWwodCxyWzFdKSx0aGlzLl9oaWRlSW5kaWNhdG9yKCksdGhpcy5fdXBkYXRlVmlldygpfWU9PT0hdGhpcy52aXN1YWxNYXBNb2RlbC5nZXQoInJlYWx0aW1lIikmJnRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJzZWxlY3REYXRhUmFuZ2UiLGZyb206dGhpcy51aWQsdmlzdWFsTWFwSWQ6dGhpcy52aXN1YWxNYXBNb2RlbC5pZCxzZWxlY3RlZDp0aGlzLl9kYXRhSW50ZXJ2YWwuc2xpY2UoKX0pLGU/IXRoaXMuX2hvdmVyaW5nJiZ0aGlzLl9jbGVhckhvdmVyTGlua1RvU2VyaWVzKCk6Z0IodGhpcy52aXN1YWxNYXBNb2RlbCkmJnRoaXMuX2RvSG92ZXJMaW5rVG9TZXJpZXModGhpcy5faGFuZGxlRW5kc1t0XSwhMSl9fSxlLnByb3RvdHlwZS5fcmVzZXRJbnRlcnZhbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMudmlzdWFsTWFwTW9kZWwsZT10aGlzLl9kYXRhSW50ZXJ2YWw9dC5nZXRTZWxlY3RlZCgpLG49dC5nZXRFeHRlbnQoKSxpPVswLHQuaXRlbVNpemVbMV1dO3RoaXMuX2hhbmRsZUVuZHM9W3VCKGVbMF0sbixpLCEwKSx1QihlWzFdLG4saSwhMCldfSxlLnByb3RvdHlwZS5fdXBkYXRlSW50ZXJ2YWw9ZnVuY3Rpb24odCxlKXtlPWV8fDA7dmFyIG49dGhpcy52aXN1YWxNYXBNb2RlbCxpPXRoaXMuX2hhbmRsZUVuZHMscj1bMCxuLml0ZW1TaXplWzFdXTtoQShlLGkscix0LDApO3ZhciBvPW4uZ2V0RXh0ZW50KCk7dGhpcy5fZGF0YUludGVydmFsPVt1QihpWzBdLHIsbywhMCksdUIoaVsxXSxyLG8sITApXX0sZS5wcm90b3R5cGUuX3VwZGF0ZVZpZXc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52aXN1YWxNYXBNb2RlbCxuPWUuZ2V0RXh0ZW50KCksaT10aGlzLl9zaGFwZXMscj1bMCxlLml0ZW1TaXplWzFdXSxvPXQ/cjp0aGlzLl9oYW5kbGVFbmRzLGE9dGhpcy5fY3JlYXRlQmFyVmlzdWFsKHRoaXMuX2RhdGFJbnRlcnZhbCxuLG8sImluUmFuZ2UiKSxzPXRoaXMuX2NyZWF0ZUJhclZpc3VhbChuLG4sciwib3V0T2ZSYW5nZSIpO2kuaW5SYW5nZS5zZXRTdHlsZSh7ZmlsbDphLmJhckNvbG9yfSkuc2V0U2hhcGUoInBvaW50cyIsYS5iYXJQb2ludHMpLGkub3V0T2ZSYW5nZS5zZXRTdHlsZSh7ZmlsbDpzLmJhckNvbG9yfSkuc2V0U2hhcGUoInBvaW50cyIscy5iYXJQb2ludHMpLHRoaXMuX3VwZGF0ZUhhbmRsZShvLGEpfSxlLnByb3RvdHlwZS5fY3JlYXRlQmFyVmlzdWFsPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXtmb3JjZVN0YXRlOmksY29udmVydE9wYWNpdHlUb0FscGhhOiEwfSxvPXRoaXMuX21ha2VDb2xvckdyYWRpZW50KHQsciksYT1bdGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKHRbMF0sInN5bWJvbFNpemUiLHIpLHRoaXMuZ2V0Q29udHJvbGxlclZpc3VhbCh0WzFdLCJzeW1ib2xTaXplIixyKV0scz10aGlzLl9jcmVhdGVCYXJQb2ludHMobixhKTtyZXR1cm57YmFyQ29sb3I6bmV3IEl1KDAsMCwwLDEsbyksYmFyUG9pbnRzOnMsaGFuZGxlc0NvbG9yOltvWzBdLmNvbG9yLG9bby5sZW5ndGgtMV0uY29sb3JdfX0sZS5wcm90b3R5cGUuX21ha2VDb2xvckdyYWRpZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49W10saT0odFsxXS10WzBdKS8xMDA7bi5wdXNoKHtjb2xvcjp0aGlzLmdldENvbnRyb2xsZXJWaXN1YWwodFswXSwiY29sb3IiLGUpLG9mZnNldDowfSk7Zm9yKHZhciByPTE7cjwxMDA7cisrKXt2YXIgbz10WzBdK2kqcjtpZihvPnRbMV0pYnJlYWs7bi5wdXNoKHtjb2xvcjp0aGlzLmdldENvbnRyb2xsZXJWaXN1YWwobywiY29sb3IiLGUpLG9mZnNldDpyLzEwMH0pfXJldHVybiBuLnB1c2goe2NvbG9yOnRoaXMuZ2V0Q29udHJvbGxlclZpc3VhbCh0WzFdLCJjb2xvciIsZSksb2Zmc2V0OjF9KSxufSxlLnByb3RvdHlwZS5fY3JlYXRlQmFyUG9pbnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy52aXN1YWxNYXBNb2RlbC5pdGVtU2l6ZTtyZXR1cm5bW25bMF0tZVswXSx0WzBdXSxbblswXSx0WzBdXSxbblswXSx0WzFdXSxbblswXS1lWzFdLHRbMV1dXX0sZS5wcm90b3R5cGUuX2NyZWF0ZUJhckdyb3VwPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX29yaWVudCxuPXRoaXMudmlzdWFsTWFwTW9kZWwuZ2V0KCJpbnZlcnNlIik7cmV0dXJuIG5ldyBCaSgiaG9yaXpvbnRhbCIhPT1lfHxuPyJob3Jpem9udGFsIj09PWUmJm4/e3NjYWxlWDoiYm90dG9tIj09PXQ/LTE6MSxyb3RhdGlvbjotTWF0aC5QSS8yfToidmVydGljYWwiIT09ZXx8bj97c2NhbGVYOiJsZWZ0Ij09PXQ/MTotMX06e3NjYWxlWDoibGVmdCI9PT10PzE6LTEsc2NhbGVZOi0xfTp7c2NhbGVYOiJib3R0b20iPT09dD8xOi0xLHJvdGF0aW9uOk1hdGguUEkvMn0pfSxlLnByb3RvdHlwZS5fdXBkYXRlSGFuZGxlPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fdXNlSGFuZGxlKXt2YXIgbj10aGlzLl9zaGFwZXMsaT10aGlzLnZpc3VhbE1hcE1vZGVsLHI9bi5oYW5kbGVUaHVtYnMsbz1uLmhhbmRsZUxhYmVscyxhPWkuaXRlbVNpemUscz1pLmdldEV4dGVudCgpO2hCKFswLDFdLChmdW5jdGlvbihsKXt2YXIgdT1yW2xdO3Uuc2V0U3R5bGUoImZpbGwiLGUuaGFuZGxlc0NvbG9yW2xdKSx1Lnk9dFtsXTt2YXIgaD11Qih0W2xdLFswLGFbMV1dLHMsITApLGM9dGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKGgsInN5bWJvbFNpemUiKTt1LnNjYWxlWD11LnNjYWxlWT1jL2FbMF0sdS54PWFbMF0tYy8yO3ZhciBwPW9oKG4uaGFuZGxlTGFiZWxQb2ludHNbbF0scmgodSx0aGlzLmdyb3VwKSk7b1tsXS5zZXRTdHlsZSh7eDpwWzBdLHk6cFsxXSx0ZXh0OmkuZm9ybWF0VmFsdWVUZXh0KHRoaXMuX2RhdGFJbnRlcnZhbFtsXSksdmVydGljYWxBbGlnbjoibWlkZGxlIixhbGlnbjoidmVydGljYWwiPT09dGhpcy5fb3JpZW50P3RoaXMuX2FwcGx5VHJhbnNmb3JtKCJsZWZ0IixuLm1haW5Hcm91cCk6ImNlbnRlciJ9KX0pLHRoaXMpfX0sZS5wcm90b3R5cGUuX3Nob3dJbmRpY2F0b3I9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcy52aXN1YWxNYXBNb2RlbCxvPXIuZ2V0RXh0ZW50KCksYT1yLml0ZW1TaXplLHM9WzAsYVsxXV0sbD10aGlzLl9zaGFwZXMsdT1sLmluZGljYXRvcjtpZih1KXt1LmF0dHIoImludmlzaWJsZSIsITEpO3ZhciBoPXRoaXMuZ2V0Q29udHJvbGxlclZpc3VhbCh0LCJjb2xvciIse2NvbnZlcnRPcGFjaXR5VG9BbHBoYTohMH0pLGM9dGhpcy5nZXRDb250cm9sbGVyVmlzdWFsKHQsInN5bWJvbFNpemUiKSxwPXVCKHQsbyxzLCEwKSxkPWFbMF0tYy8yLGY9e3g6dS54LHk6dS55fTt1Lnk9cCx1Lng9ZDt2YXIgZz1vaChsLmluZGljYXRvckxhYmVsUG9pbnQscmgodSx0aGlzLmdyb3VwKSkseT1sLmluZGljYXRvckxhYmVsO3kuYXR0cigiaW52aXNpYmxlIiwhMSk7dmFyIHY9dGhpcy5fYXBwbHlUcmFuc2Zvcm0oImxlZnQiLGwubWFpbkdyb3VwKSxtPSJob3Jpem9udGFsIj09PXRoaXMuX29yaWVudDt5LnNldFN0eWxlKHt0ZXh0OihufHwiIikrci5mb3JtYXRWYWx1ZVRleHQoZSksdmVydGljYWxBbGlnbjptP3Y6Im1pZGRsZSIsYWxpZ246bT8iY2VudGVyIjp2fSk7dmFyIF89e3g6ZCx5OnAsc3R5bGU6e2ZpbGw6aH19LHg9e3N0eWxlOnt4OmdbMF0seTpnWzFdfX07aWYoci5lY01vZGVsLmlzQW5pbWF0aW9uRW5hYmxlZCgpJiYhdGhpcy5fZmlyc3RTaG93SW5kaWNhdG9yKXt2YXIgYj17ZHVyYXRpb246MTAwLGVhc2luZzoiY3ViaWNJbk91dCIsYWRkaXRpdmU6ITB9O3UueD1mLngsdS55PWYueSx1LmFuaW1hdGVUbyhfLGIpLHkuYW5pbWF0ZVRvKHgsYil9ZWxzZSB1LmF0dHIoXykseS5hdHRyKHgpO3RoaXMuX2ZpcnN0U2hvd0luZGljYXRvcj0hMTt2YXIgdz10aGlzLl9zaGFwZXMuaGFuZGxlTGFiZWxzO2lmKHcpZm9yKHZhciBTPTA7Uzx3Lmxlbmd0aDtTKyspdGhpcy5fYXBpLmVudGVyQmx1cih3W1NdKX19LGUucHJvdG90eXBlLl9lbmFibGVIb3ZlckxpbmtUb1Nlcmllcz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fc2hhcGVzLm1haW5Hcm91cC5vbigibW91c2Vtb3ZlIiwoZnVuY3Rpb24oZSl7aWYodC5faG92ZXJpbmc9ITAsIXQuX2RyYWdnaW5nKXt2YXIgbj10LnZpc3VhbE1hcE1vZGVsLml0ZW1TaXplLGk9dC5fYXBwbHlUcmFuc2Zvcm0oW2Uub2Zmc2V0WCxlLm9mZnNldFldLHQuX3NoYXBlcy5tYWluR3JvdXAsITAsITApO2lbMV09Y0IocEIoMCxpWzFdKSxuWzFdKSx0Ll9kb0hvdmVyTGlua1RvU2VyaWVzKGlbMV0sMDw9aVswXSYmaVswXTw9blswXSl9fSkpLm9uKCJtb3VzZW91dCIsKGZ1bmN0aW9uKCl7dC5faG92ZXJpbmc9ITEsIXQuX2RyYWdnaW5nJiZ0Ll9jbGVhckhvdmVyTGlua1RvU2VyaWVzKCl9KSl9LGUucHJvdG90eXBlLl9lbmFibGVIb3ZlckxpbmtGcm9tU2VyaWVzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5hcGkuZ2V0WnIoKTt0aGlzLnZpc3VhbE1hcE1vZGVsLm9wdGlvbi5ob3Zlckxpbms/KHQub24oIm1vdXNlb3ZlciIsdGhpcy5faG92ZXJMaW5rRnJvbVNlcmllc01vdXNlT3Zlcix0aGlzKSx0Lm9uKCJtb3VzZW91dCIsdGhpcy5faGlkZUluZGljYXRvcix0aGlzKSk6dGhpcy5fY2xlYXJIb3ZlckxpbmtGcm9tU2VyaWVzKCl9LGUucHJvdG90eXBlLl9kb0hvdmVyTGlua1RvU2VyaWVzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy52aXN1YWxNYXBNb2RlbCxpPW4uaXRlbVNpemU7aWYobi5vcHRpb24uaG92ZXJMaW5rKXt2YXIgcj1bMCxpWzFdXSxvPW4uZ2V0RXh0ZW50KCk7dD1jQihwQihyWzBdLHQpLHJbMV0pO3ZhciBhPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT02LHI9dC5nZXQoImhvdmVyTGlua0RhdGFTaXplIik7ciYmKGk9dUIocixlLG4sITApLzIpO3JldHVybiBpfShuLG8scikscz1bdC1hLHQrYV0sbD11Qih0LHIsbywhMCksdT1bdUIoc1swXSxyLG8sITApLHVCKHNbMV0scixvLCEwKV07c1swXTxyWzBdJiYodVswXT0tMS8wKSxzWzFdPnJbMV0mJih1WzFdPTEvMCksZSYmKHVbMF09PT0tMS8wP3RoaXMuX3Nob3dJbmRpY2F0b3IobCx1WzFdLCI8ICIsYSk6dVsxXT09PTEvMD90aGlzLl9zaG93SW5kaWNhdG9yKGwsdVswXSwiPiAiLGEpOnRoaXMuX3Nob3dJbmRpY2F0b3IobCxsLCLiiYggIixhKSk7dmFyIGg9dGhpcy5faG92ZXJMaW5rRGF0YUluZGljZXMsYz1bXTsoZXx8Z0IobikpJiYoYz10aGlzLl9ob3ZlckxpbmtEYXRhSW5kaWNlcz1uLmZpbmRUYXJnZXREYXRhSW5kaWNlcyh1KSk7dmFyIHA9ZnVuY3Rpb24odCxlKXt2YXIgbj17fSxpPXt9O3JldHVybiByKHR8fFtdLG4pLHIoZXx8W10saSxuKSxbbyhuKSxvKGkpXTtmdW5jdGlvbiByKHQsZSxuKXtmb3IodmFyIGk9MCxyPXQubGVuZ3RoO2k8cjtpKyspe3ZhciBvPWtyKHRbaV0uc2VyaWVzSWQsbnVsbCk7aWYobnVsbD09bylyZXR1cm47Zm9yKHZhciBhPXdyKHRbaV0uZGF0YUluZGV4KSxzPW4mJm5bb10sbD0wLHU9YS5sZW5ndGg7bDx1O2wrKyl7dmFyIGg9YVtsXTtzJiZzW2hdP3NbaF09bnVsbDooZVtvXXx8KGVbb109e30pKVtoXT0xfX19ZnVuY3Rpb24gbyh0LGUpe3ZhciBuPVtdO2Zvcih2YXIgaSBpbiB0KWlmKHQuaGFzT3duUHJvcGVydHkoaSkmJm51bGwhPXRbaV0paWYoZSluLnB1c2goK2kpO2Vsc2V7dmFyIHI9byh0W2ldLCEwKTtyLmxlbmd0aCYmbi5wdXNoKHtzZXJpZXNJZDppLGRhdGFJbmRleDpyfSl9cmV0dXJuIG59fShoLGMpO3RoaXMuX2Rpc3BhdGNoSGlnaERvd24oImRvd25wbGF5IixsQihwWzBdLG4pKSx0aGlzLl9kaXNwYXRjaEhpZ2hEb3duKCJoaWdobGlnaHQiLGxCKHBbMV0sbikpfX0sZS5wcm90b3R5cGUuX2hvdmVyTGlua0Zyb21TZXJpZXNNb3VzZU92ZXI9ZnVuY3Rpb24odCl7dmFyIGU9dC50YXJnZXQsbj10aGlzLnZpc3VhbE1hcE1vZGVsO2lmKGUmJm51bGwhPVNzKGUpLmRhdGFJbmRleCl7dmFyIGk9U3MoZSkscj10aGlzLmVjTW9kZWwuZ2V0U2VyaWVzQnlJbmRleChpLnNlcmllc0luZGV4KTtpZihuLmlzVGFyZ2V0U2VyaWVzKHIpKXt2YXIgbz1yLmdldERhdGEoaS5kYXRhVHlwZSksYT1vLmdldFN0b3JlKCkuZ2V0KG4uZ2V0RGF0YURpbWVuc2lvbkluZGV4KG8pLGkuZGF0YUluZGV4KTtpc05hTihhKXx8dGhpcy5fc2hvd0luZGljYXRvcihhLGEpfX19LGUucHJvdG90eXBlLl9oaWRlSW5kaWNhdG9yPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc2hhcGVzO3QuaW5kaWNhdG9yJiZ0LmluZGljYXRvci5hdHRyKCJpbnZpc2libGUiLCEwKSx0LmluZGljYXRvckxhYmVsJiZ0LmluZGljYXRvckxhYmVsLmF0dHIoImludmlzaWJsZSIsITApO3ZhciBlPXRoaXMuX3NoYXBlcy5oYW5kbGVMYWJlbHM7aWYoZSlmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0aGlzLl9hcGkubGVhdmVCbHVyKGVbbl0pfSxlLnByb3RvdHlwZS5fY2xlYXJIb3ZlckxpbmtUb1Nlcmllcz1mdW5jdGlvbigpe3RoaXMuX2hpZGVJbmRpY2F0b3IoKTt2YXIgdD10aGlzLl9ob3ZlckxpbmtEYXRhSW5kaWNlczt0aGlzLl9kaXNwYXRjaEhpZ2hEb3duKCJkb3ducGxheSIsbEIodCx0aGlzLnZpc3VhbE1hcE1vZGVsKSksdC5sZW5ndGg9MH0sZS5wcm90b3R5cGUuX2NsZWFySG92ZXJMaW5rRnJvbVNlcmllcz1mdW5jdGlvbigpe3RoaXMuX2hpZGVJbmRpY2F0b3IoKTt2YXIgdD10aGlzLmFwaS5nZXRacigpO3Qub2ZmKCJtb3VzZW92ZXIiLHRoaXMuX2hvdmVyTGlua0Zyb21TZXJpZXNNb3VzZU92ZXIpLHQub2ZmKCJtb3VzZW91dCIsdGhpcy5faGlkZUluZGljYXRvcil9LGUucHJvdG90eXBlLl9hcHBseVRyYW5zZm9ybT1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1yaChlLGk/bnVsbDp0aGlzLmdyb3VwKTtyZXR1cm4gRih0KT9vaCh0LHIsbik6YWgodCxyLG4pfSxlLnByb3RvdHlwZS5fZGlzcGF0Y2hIaWdoRG93bj1mdW5jdGlvbih0LGUpe2UmJmUubGVuZ3RoJiZ0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZTp0LGJhdGNoOmV9KX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFySG92ZXJMaW5rRnJvbVNlcmllcygpLHRoaXMuX2NsZWFySG92ZXJMaW5rVG9TZXJpZXMoKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJIb3ZlckxpbmtGcm9tU2VyaWVzKCksdGhpcy5fY2xlYXJIb3ZlckxpbmtUb1NlcmllcygpfSxlLnR5cGU9InZpc3VhbE1hcC5jb250aW51b3VzIixlfShvQik7ZnVuY3Rpb24gZkIodCxlLG4saSl7cmV0dXJuIG5ldyBjdSh7c2hhcGU6e3BvaW50czp0fSxkcmFnZ2FibGU6ISFuLGN1cnNvcjplLGRyaWZ0Om4sb25tb3VzZW1vdmU6ZnVuY3Rpb24odCl7bmUodC5ldmVudCl9LG9uZHJhZ2VuZDppfSl9ZnVuY3Rpb24gZ0IodCl7dmFyIGU9dC5nZXQoImhvdmVyTGlua09uSGFuZGxlIik7cmV0dXJuISEobnVsbD09ZT90LmdldCgicmVhbHRpbWUiKTplKX1mdW5jdGlvbiB5Qih0KXtyZXR1cm4idmVydGljYWwiPT09dD8ibnMtcmVzaXplIjoiZXctcmVzaXplIn12YXIgdkI9e3R5cGU6InNlbGVjdERhdGFSYW5nZSIsZXZlbnQ6ImRhdGFSYW5nZVNlbGVjdGVkIix1cGRhdGU6InVwZGF0ZSJ9LG1CPWZ1bmN0aW9uKHQsZSl7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToidmlzdWFsTWFwIixxdWVyeTp0fSwoZnVuY3Rpb24oZSl7ZS5zZXRTZWxlY3RlZCh0LnNlbGVjdGVkKX0pKX0sX0I9W3tjcmVhdGVPbkFsbFNlcmllczohMCxyZXNldDpmdW5jdGlvbih0LGUpe3ZhciBuPVtdO3JldHVybiBlLmVhY2hDb21wb25lbnQoInZpc3VhbE1hcCIsKGZ1bmN0aW9uKGUpe3ZhciBpLHIsbyxhLHMsbD10LnBpcGVsaW5lQ29udGV4dDshZS5pc1RhcmdldFNlcmllcyh0KXx8bCYmbC5sYXJnZXx8bi5wdXNoKChpPWUuc3RhdGVMaXN0LHI9ZS50YXJnZXRWaXN1YWxzLG89QihlLmdldFZhbHVlU3RhdGUsZSksYT1lLmdldERhdGFEaW1lbnNpb25JbmRleCh0LmdldERhdGEoKSkscz17fSxPKGksKGZ1bmN0aW9uKHQpe3ZhciBlPXJDLnByZXBhcmVWaXN1YWxUeXBlcyhyW3RdKTtzW3RdPWV9KSkse3Byb2dyZXNzOmZ1bmN0aW9uKHQsZSl7dmFyIG4saTtmdW5jdGlvbiBsKHQpe3JldHVybiBWZyhlLGksdCl9ZnVuY3Rpb24gdSh0LG4pe0dnKGUsaSx0LG4pfW51bGwhPWEmJihuPWUuZ2V0RGltZW5zaW9uSW5kZXgoYSkpO2Zvcih2YXIgaD1lLmdldFN0b3JlKCk7bnVsbCE9KGk9dC5uZXh0KCkpOyl7dmFyIGM9ZS5nZXRSYXdEYXRhSXRlbShpKTtpZighY3x8ITEhPT1jLnZpc3VhbE1hcClmb3IodmFyIHA9bnVsbCE9YT9oLmdldChuLGkpOmksZD1vKHApLGY9cltkXSxnPXNbZF0seT0wLHY9Zy5sZW5ndGg7eTx2O3krKyl7dmFyIG09Z1t5XTtmW21dJiZmW21dLmFwcGx5VmlzdWFsKHAsbCx1KX19fX0pKX0pKSxufX0se2NyZWF0ZU9uQWxsU2VyaWVzOiEwLHJlc2V0OmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXREYXRhKCksaT1bXTtlLmVhY2hDb21wb25lbnQoInZpc3VhbE1hcCIsKGZ1bmN0aW9uKGUpe2lmKGUuaXNUYXJnZXRTZXJpZXModCkpe3ZhciByPWUuZ2V0VmlzdWFsTWV0YShCKHhCLG51bGwsdCxlKSl8fHtzdG9wczpbXSxvdXRlckNvbG9yczpbXX0sbz1lLmdldERhdGFEaW1lbnNpb25JbmRleChuKTtvPj0wJiYoci5kaW1lbnNpb249byxpLnB1c2gocikpfX0pKSx0LmdldERhdGEoKS5zZXRWaXN1YWwoInZpc3VhbE1ldGEiLGkpfX1dO2Z1bmN0aW9uIHhCKHQsZSxuLGkpe2Zvcih2YXIgcj1lLnRhcmdldFZpc3VhbHNbaV0sbz1yQy5wcmVwYXJlVmlzdWFsVHlwZXMociksYT17Y29sb3I6QmcodC5nZXREYXRhKCksImNvbG9yIil9LHM9MCxsPW8ubGVuZ3RoO3M8bDtzKyspe3ZhciB1PW9bc10saD1yWyJvcGFjaXR5Ij09PXU/Il9fYWxwaGFGb3JPcGFjaXR5Ijp1XTtoJiZoLmFwcGx5VmlzdWFsKG4sYyxwKX1yZXR1cm4gYS5jb2xvcjtmdW5jdGlvbiBjKHQpe3JldHVybiBhW3RdfWZ1bmN0aW9uIHAodCxlKXthW3RdPWV9fXZhciBiQj1PO2Z1bmN0aW9uIHdCKHQpe3ZhciBlPXQmJnQudmlzdWFsTWFwO0YoZSl8fChlPWU/W2VdOltdKSxiQihlLChmdW5jdGlvbih0KXtpZih0KXtTQih0LCJzcGxpdExpc3QiKSYmIVNCKHQsInBpZWNlcyIpJiYodC5waWVjZXM9dC5zcGxpdExpc3QsZGVsZXRlIHQuc3BsaXRMaXN0KTt2YXIgZT10LnBpZWNlcztlJiZGKGUpJiZiQihlLChmdW5jdGlvbih0KXtZKHQpJiYoU0IodCwic3RhcnQiKSYmIVNCKHQsIm1pbiIpJiYodC5taW49dC5zdGFydCksU0IodCwiZW5kIikmJiFTQih0LCJtYXgiKSYmKHQubWF4PXQuZW5kKSl9KSl9fSkpfWZ1bmN0aW9uIFNCKHQsZSl7cmV0dXJuIHQmJnQuaGFzT3duUHJvcGVydHkmJnQuaGFzT3duUHJvcGVydHkoZSl9dmFyIE1CPSExO2Z1bmN0aW9uIElCKHQpe01CfHwoTUI9ITAsdC5yZWdpc3RlclN1YlR5cGVEZWZhdWx0ZXIoInZpc3VhbE1hcCIsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNhdGVnb3JpZXN8fCh0LnBpZWNlcz90LnBpZWNlcy5sZW5ndGg+MDp0LnNwbGl0TnVtYmVyPjApJiYhdC5jYWxjdWxhYmxlPyJwaWVjZXdpc2UiOiJjb250aW51b3VzIn0pKSx0LnJlZ2lzdGVyQWN0aW9uKHZCLG1CKSxPKF9CLChmdW5jdGlvbihlKXt0LnJlZ2lzdGVyVmlzdWFsKHQuUFJJT1JJVFkuVklTVUFMLkNPTVBPTkVOVCxlKX0pKSx0LnJlZ2lzdGVyUHJlcHJvY2Vzc29yKHdCKSl9ZnVuY3Rpb24gVEIodCl7dC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKGlCKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhkQiksSUIodCl9dmFyIENCPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIG4udHlwZT1lLnR5cGUsbi5fcGllY2VMaXN0PVtdLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5vcHRpb25VcGRhdGVkPWZ1bmN0aW9uKGUsbil7dC5wcm90b3R5cGUub3B0aW9uVXBkYXRlZC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5yZXNldEV4dGVudCgpO3ZhciBpPXRoaXMuX21vZGU9dGhpcy5fZGV0ZXJtaW5lTW9kZSgpO3RoaXMuX3BpZWNlTGlzdD1bXSxEQlt0aGlzLl9tb2RlXS5jYWxsKHRoaXMsdGhpcy5fcGllY2VMaXN0KSx0aGlzLl9yZXNldFNlbGVjdGVkKGUsbik7dmFyIHI9dGhpcy5vcHRpb24uY2F0ZWdvcmllczt0aGlzLnJlc2V0VmlzdWFsKChmdW5jdGlvbih0LGUpeyJjYXRlZ29yaWVzIj09PWk/KHQubWFwcGluZ01ldGhvZD0iY2F0ZWdvcnkiLHQuY2F0ZWdvcmllcz1TKHIpKToodC5kYXRhRXh0ZW50PXRoaXMuZ2V0RXh0ZW50KCksdC5tYXBwaW5nTWV0aG9kPSJwaWVjZXdpc2UiLHQucGllY2VMaXN0PVIodGhpcy5fcGllY2VMaXN0LChmdW5jdGlvbih0KXtyZXR1cm4gdD1TKHQpLCJpblJhbmdlIiE9PWUmJih0LnZpc3VhbD1udWxsKSx0fSkpKX0pKX0sZS5wcm90b3R5cGUuY29tcGxldGVWaXN1YWxPcHRpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbixuPXt9LGk9ckMubGlzdFZpc3VhbFR5cGVzKCkscj10aGlzLmlzQ2F0ZWdvcnkoKTtmdW5jdGlvbiBvKHQsZSxuKXtyZXR1cm4gdCYmdFtlXSYmdFtlXS5oYXNPd25Qcm9wZXJ0eShuKX1PKGUucGllY2VzLChmdW5jdGlvbih0KXtPKGksKGZ1bmN0aW9uKGUpe3QuaGFzT3duUHJvcGVydHkoZSkmJihuW2VdPTEpfSkpfSkpLE8obiwoZnVuY3Rpb24odCxuKXt2YXIgaT0hMTtPKHRoaXMuc3RhdGVMaXN0LChmdW5jdGlvbih0KXtpPWl8fG8oZSx0LG4pfHxvKGUudGFyZ2V0LHQsbil9KSx0aGlzKSwhaSYmTyh0aGlzLnN0YXRlTGlzdCwoZnVuY3Rpb24odCl7KGVbdF18fChlW3RdPXt9KSlbbl09WlYobiwiaW5SYW5nZSI9PT10PyJhY3RpdmUiOiJpbmFjdGl2ZSIscil9KSl9KSx0aGlzKSx0LnByb3RvdHlwZS5jb21wbGV0ZVZpc3VhbE9wdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLl9yZXNldFNlbGVjdGVkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5vcHRpb24saT10aGlzLl9waWVjZUxpc3Qscj0oZT9uOnQpLnNlbGVjdGVkfHx7fTtpZihuLnNlbGVjdGVkPXIsTyhpLChmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZ2V0U2VsZWN0ZWRNYXBLZXkodCk7ci5oYXNPd25Qcm9wZXJ0eShuKXx8KHJbbl09ITApfSksdGhpcyksInNpbmdsZSI9PT1uLnNlbGVjdGVkTW9kZSl7dmFyIG89ITE7TyhpLChmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZ2V0U2VsZWN0ZWRNYXBLZXkodCk7cltuXSYmKG8/cltuXT0hMTpvPSEwKX0pLHRoaXMpfX0sZS5wcm90b3R5cGUuZ2V0SXRlbVN5bWJvbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgiaXRlbVN5bWJvbCIpfSxlLnByb3RvdHlwZS5nZXRTZWxlY3RlZE1hcEtleT1mdW5jdGlvbih0KXtyZXR1cm4iY2F0ZWdvcmllcyI9PT10aGlzLl9tb2RlP3QudmFsdWUrIiI6dC5pbmRleCsiIn0sZS5wcm90b3R5cGUuZ2V0UGllY2VMaXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BpZWNlTGlzdH0sZS5wcm90b3R5cGUuX2RldGVybWluZU1vZGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbjtyZXR1cm4gdC5waWVjZXMmJnQucGllY2VzLmxlbmd0aD4wPyJwaWVjZXMiOnRoaXMub3B0aW9uLmNhdGVnb3JpZXM/ImNhdGVnb3JpZXMiOiJzcGxpdE51bWJlciJ9LGUucHJvdG90eXBlLnNldFNlbGVjdGVkPWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9uLnNlbGVjdGVkPVModCl9LGUucHJvdG90eXBlLmdldFZhbHVlU3RhdGU9ZnVuY3Rpb24odCl7dmFyIGU9ckMuZmluZFBpZWNlSW5kZXgodCx0aGlzLl9waWVjZUxpc3QpO3JldHVybiBudWxsIT1lJiZ0aGlzLm9wdGlvbi5zZWxlY3RlZFt0aGlzLmdldFNlbGVjdGVkTWFwS2V5KHRoaXMuX3BpZWNlTGlzdFtlXSldPyJpblJhbmdlIjoib3V0T2ZSYW5nZSJ9LGUucHJvdG90eXBlLmZpbmRUYXJnZXREYXRhSW5kaWNlcz1mdW5jdGlvbih0KXt2YXIgZT1bXSxuPXRoaXMuX3BpZWNlTGlzdDtyZXR1cm4gdGhpcy5lYWNoVGFyZ2V0U2VyaWVzKChmdW5jdGlvbihpKXt2YXIgcj1bXSxvPWkuZ2V0RGF0YSgpO28uZWFjaCh0aGlzLmdldERhdGFEaW1lbnNpb25JbmRleChvKSwoZnVuY3Rpb24oZSxpKXtyQy5maW5kUGllY2VJbmRleChlLG4pPT09dCYmci5wdXNoKGkpfSksdGhpcyksZS5wdXNoKHtzZXJpZXNJZDppLmlkLGRhdGFJbmRleDpyfSl9KSx0aGlzKSxlfSxlLnByb3RvdHlwZS5nZXRSZXByZXNlbnRWYWx1ZT1mdW5jdGlvbih0KXt2YXIgZTtpZih0aGlzLmlzQ2F0ZWdvcnkoKSllPXQudmFsdWU7ZWxzZSBpZihudWxsIT10LnZhbHVlKWU9dC52YWx1ZTtlbHNle3ZhciBuPXQuaW50ZXJ2YWx8fFtdO2U9blswXT09PS0xLzAmJm5bMV09PT0xLzA/MDooblswXStuWzFdKS8yfXJldHVybiBlfSxlLnByb3RvdHlwZS5nZXRWaXN1YWxNZXRhPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmlzQ2F0ZWdvcnkoKSl7dmFyIGU9W10sbj1bIiIsIiJdLGk9dGhpcyxyPXRoaXMuX3BpZWNlTGlzdC5zbGljZSgpO2lmKHIubGVuZ3RoKXt2YXIgbz1yWzBdLmludGVydmFsWzBdO28hPT0tMS8wJiZyLnVuc2hpZnQoe2ludGVydmFsOlstMS8wLG9dfSksKG89cltyLmxlbmd0aC0xXS5pbnRlcnZhbFsxXSkhPT0xLzAmJnIucHVzaCh7aW50ZXJ2YWw6W28sMS8wXX0pfWVsc2Ugci5wdXNoKHtpbnRlcnZhbDpbLTEvMCwxLzBdfSk7dmFyIGE9LTEvMDtyZXR1cm4gTyhyLChmdW5jdGlvbih0KXt2YXIgZT10LmludGVydmFsO2UmJihlWzBdPmEmJnMoW2EsZVswXV0sIm91dE9mUmFuZ2UiKSxzKGUuc2xpY2UoKSksYT1lWzFdKX0pLHRoaXMpLHtzdG9wczplLG91dGVyQ29sb3JzOm59fWZ1bmN0aW9uIHMocixvKXt2YXIgYT1pLmdldFJlcHJlc2VudFZhbHVlKHtpbnRlcnZhbDpyfSk7b3x8KG89aS5nZXRWYWx1ZVN0YXRlKGEpKTt2YXIgcz10KGEsbyk7clswXT09PS0xLzA/blswXT1zOnJbMV09PT0xLzA/blsxXT1zOmUucHVzaCh7dmFsdWU6clswXSxjb2xvcjpzfSx7dmFsdWU6clsxXSxjb2xvcjpzfSl9fSxlLnR5cGU9InZpc3VhbE1hcC5waWVjZXdpc2UiLGUuZGVmYXVsdE9wdGlvbj1ZaChlQi5kZWZhdWx0T3B0aW9uLHtzZWxlY3RlZDpudWxsLG1pbk9wZW46ITEsbWF4T3BlbjohMSxhbGlnbjoiYXV0byIsaXRlbVdpZHRoOjIwLGl0ZW1IZWlnaHQ6MTQsaXRlbVN5bWJvbDoicm91bmRSZWN0IixwaWVjZXM6bnVsbCxjYXRlZ29yaWVzOm51bGwsc3BsaXROdW1iZXI6NSxzZWxlY3RlZE1vZGU6Im11bHRpcGxlIixpdGVtR2FwOjEwLGhvdmVyTGluazohMH0pLGV9KGVCKSxEQj17c3BsaXROdW1iZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb24sbj1NYXRoLm1pbihlLnByZWNpc2lvbiwyMCksaT10aGlzLmdldEV4dGVudCgpLHI9ZS5zcGxpdE51bWJlcjtyPU1hdGgubWF4KHBhcnNlSW50KHIsMTApLDEpLGUuc3BsaXROdW1iZXI9cjtmb3IodmFyIG89KGlbMV0taVswXSkvcjsrby50b0ZpeGVkKG4pIT09byYmbjw1OyluKys7ZS5wcmVjaXNpb249bixvPStvLnRvRml4ZWQobiksZS5taW5PcGVuJiZ0LnB1c2goe2ludGVydmFsOlstMS8wLGlbMF1dLGNsb3NlOlswLDBdfSk7Zm9yKHZhciBhPTAscz1pWzBdO2E8cjtzKz1vLGErKyl7dmFyIGw9YT09PXItMT9pWzFdOnMrbzt0LnB1c2goe2ludGVydmFsOltzLGxdLGNsb3NlOlsxLDFdfSl9ZS5tYXhPcGVuJiZ0LnB1c2goe2ludGVydmFsOltpWzFdLDEvMF0sY2xvc2U6WzAsMF19KSxwcih0KSxPKHQsKGZ1bmN0aW9uKHQsZSl7dC5pbmRleD1lLHQudGV4dD10aGlzLmZvcm1hdFZhbHVlVGV4dCh0LmludGVydmFsKX0pLHRoaXMpfSxjYXRlZ29yaWVzOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uO08oZS5jYXRlZ29yaWVzLChmdW5jdGlvbihlKXt0LnB1c2goe3RleHQ6dGhpcy5mb3JtYXRWYWx1ZVRleHQoZSwhMCksdmFsdWU6ZX0pfSksdGhpcyksQUIoZSx0KX0scGllY2VzOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9uO08oZS5waWVjZXMsKGZ1bmN0aW9uKGUsbil7WShlKXx8KGU9e3ZhbHVlOmV9KTt2YXIgaT17dGV4dDoiIixpbmRleDpufTtpZihudWxsIT1lLmxhYmVsJiYoaS50ZXh0PWUubGFiZWwpLGUuaGFzT3duUHJvcGVydHkoInZhbHVlIikpe3ZhciByPWkudmFsdWU9ZS52YWx1ZTtpLmludGVydmFsPVtyLHJdLGkuY2xvc2U9WzEsMV19ZWxzZXtmb3IodmFyIG89aS5pbnRlcnZhbD1bXSxhPWkuY2xvc2U9WzAsMF0scz1bMSwwLDFdLGw9Wy0xLzAsMS8wXSx1PVtdLGg9MDtoPDI7aCsrKXtmb3IodmFyIGM9W1siZ3RlIiwiZ3QiLCJtaW4iXSxbImx0ZSIsImx0IiwibWF4Il1dW2hdLHA9MDtwPDMmJm51bGw9PW9baF07cCsrKW9baF09ZVtjW3BdXSxhW2hdPXNbcF0sdVtoXT0yPT09cDtudWxsPT1vW2hdJiYob1toXT1sW2hdKX11WzBdJiZvWzFdPT09MS8wJiYoYVswXT0wKSx1WzFdJiZvWzBdPT09LTEvMCYmKGFbMV09MCksb1swXT09PW9bMV0mJmFbMF0mJmFbMV0mJihpLnZhbHVlPW9bMF0pfWkudmlzdWFsPXJDLnJldHJpZXZlVmlzdWFscyhlKSx0LnB1c2goaSl9KSx0aGlzKSxBQihlLHQpLHByKHQpLE8odCwoZnVuY3Rpb24odCl7dmFyIGU9dC5jbG9zZSxuPVtbIjwiLCLiiaQiXVtlWzFdXSxbIj4iLCLiiaUiXVtlWzBdXV07dC50ZXh0PXQudGV4dHx8dGhpcy5mb3JtYXRWYWx1ZVRleHQobnVsbCE9dC52YWx1ZT90LnZhbHVlOnQuaW50ZXJ2YWwsITEsbil9KSx0aGlzKX19O2Z1bmN0aW9uIEFCKHQsZSl7dmFyIG49dC5pbnZlcnNlOygidmVydGljYWwiPT09dC5vcmllbnQ/IW46bikmJmUucmV2ZXJzZSgpfXZhciBrQj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIG49bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBuLnR5cGU9ZS50eXBlLG59cmV0dXJuIG4oZSx0KSxlLnByb3RvdHlwZS5kb1JlbmRlcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ3JvdXA7dC5yZW1vdmVBbGwoKTt2YXIgZT10aGlzLnZpc3VhbE1hcE1vZGVsLG49ZS5nZXQoInRleHRHYXAiKSxpPWUudGV4dFN0eWxlTW9kZWwscj1pLmdldEZvbnQoKSxvPWkuZ2V0VGV4dENvbG9yKCksYT10aGlzLl9nZXRJdGVtQWxpZ24oKSxzPWUuaXRlbVNpemUsbD10aGlzLl9nZXRWaWV3RGF0YSgpLHU9bC5lbmRzVGV4dCxoPXR0KGUuZ2V0KCJzaG93TGFiZWwiLCEwKSwhdSk7dSYmdGhpcy5fcmVuZGVyRW5kc1RleHQodCx1WzBdLHMsaCxhKSxPKGwudmlld1BpZWNlTGlzdCwoZnVuY3Rpb24oaSl7dmFyIGw9aS5waWVjZSx1PW5ldyBCaTt1Lm9uY2xpY2s9Qih0aGlzLl9vbkl0ZW1DbGljayx0aGlzLGwpLHRoaXMuX2VuYWJsZUhvdmVyTGluayh1LGkuaW5kZXhJbk1vZGVsUGllY2VMaXN0KTt2YXIgYz1lLmdldFJlcHJlc2VudFZhbHVlKGwpO2lmKHRoaXMuX2NyZWF0ZUl0ZW1TeW1ib2wodSxjLFswLDAsc1swXSxzWzFdXSksaCl7dmFyIHA9dGhpcy52aXN1YWxNYXBNb2RlbC5nZXRWYWx1ZVN0YXRlKGMpO3UuYWRkKG5ldyBmcyh7c3R5bGU6e3g6InJpZ2h0Ij09PWE/LW46c1swXStuLHk6c1sxXS8yLHRleHQ6bC50ZXh0LHZlcnRpY2FsQWxpZ246Im1pZGRsZSIsYWxpZ246YSxmb250OnIsZmlsbDpvLG9wYWNpdHk6Im91dE9mUmFuZ2UiPT09cD8uNToxfX0pKX10LmFkZCh1KX0pLHRoaXMpLHUmJnRoaXMuX3JlbmRlckVuZHNUZXh0KHQsdVsxXSxzLGgsYSksamMoZS5nZXQoIm9yaWVudCIpLHQsZS5nZXQoIml0ZW1HYXAiKSksdGhpcy5yZW5kZXJCYWNrZ3JvdW5kKHQpLHRoaXMucG9zaXRpb25Hcm91cCh0KX0sZS5wcm90b3R5cGUuX2VuYWJsZUhvdmVyTGluaz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dC5vbigibW91c2VvdmVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gaSgiaGlnaGxpZ2h0Iil9KSkub24oIm1vdXNlb3V0IiwoZnVuY3Rpb24oKXtyZXR1cm4gaSgiZG93bnBsYXkiKX0pKTt2YXIgaT1mdW5jdGlvbih0KXt2YXIgaT1uLnZpc3VhbE1hcE1vZGVsO2kub3B0aW9uLmhvdmVyTGluayYmbi5hcGkuZGlzcGF0Y2hBY3Rpb24oe3R5cGU6dCxiYXRjaDpsQihpLmZpbmRUYXJnZXREYXRhSW5kaWNlcyhlKSxpKX0pfX0sZS5wcm90b3R5cGUuX2dldEl0ZW1BbGlnbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMudmlzdWFsTWFwTW9kZWwsZT10Lm9wdGlvbjtpZigidmVydGljYWwiPT09ZS5vcmllbnQpcmV0dXJuIHNCKHQsdGhpcy5hcGksdC5pdGVtU2l6ZSk7dmFyIG49ZS5hbGlnbjtyZXR1cm4gbiYmImF1dG8iIT09bnx8KG49ImxlZnQiKSxufSxlLnByb3RvdHlwZS5fcmVuZGVyRW5kc1RleHQ9ZnVuY3Rpb24odCxlLG4saSxyKXtpZihlKXt2YXIgbz1uZXcgQmksYT10aGlzLnZpc3VhbE1hcE1vZGVsLnRleHRTdHlsZU1vZGVsO28uYWRkKG5ldyBmcyh7c3R5bGU6e3g6aT8icmlnaHQiPT09cj9uWzBdOjA6blswXS8yLHk6blsxXS8yLHZlcnRpY2FsQWxpZ246Im1pZGRsZSIsYWxpZ246aT9yOiJjZW50ZXIiLHRleHQ6ZSxmb250OmEuZ2V0Rm9udCgpLGZpbGw6YS5nZXRUZXh0Q29sb3IoKX19KSksdC5hZGQobyl9fSxlLnByb3RvdHlwZS5fZ2V0Vmlld0RhdGE9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnZpc3VhbE1hcE1vZGVsLGU9Uih0LmdldFBpZWNlTGlzdCgpLChmdW5jdGlvbih0LGUpe3JldHVybntwaWVjZTp0LGluZGV4SW5Nb2RlbFBpZWNlTGlzdDplfX0pKSxuPXQuZ2V0KCJ0ZXh0IiksaT10LmdldCgib3JpZW50Iikscj10LmdldCgiaW52ZXJzZSIpO3JldHVybigiaG9yaXpvbnRhbCI9PT1pP3I6IXIpP2UucmV2ZXJzZSgpOm4mJihuPW4uc2xpY2UoKS5yZXZlcnNlKCkpLHt2aWV3UGllY2VMaXN0OmUsZW5kc1RleHQ6bn19LGUucHJvdG90eXBlLl9jcmVhdGVJdGVtU3ltYm9sPWZ1bmN0aW9uKHQsZSxuKXt0LmFkZChleSh0aGlzLmdldENvbnRyb2xsZXJWaXN1YWwoZSwic3ltYm9sIiksblswXSxuWzFdLG5bMl0sblszXSx0aGlzLmdldENvbnRyb2xsZXJWaXN1YWwoZSwiY29sb3IiKSkpfSxlLnByb3RvdHlwZS5fb25JdGVtQ2xpY2s9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52aXN1YWxNYXBNb2RlbCxuPWUub3B0aW9uLGk9UyhuLnNlbGVjdGVkKSxyPWUuZ2V0U2VsZWN0ZWRNYXBLZXkodCk7InNpbmdsZSI9PT1uLnNlbGVjdGVkTW9kZT8oaVtyXT0hMCxPKGksKGZ1bmN0aW9uKHQsZSl7aVtlXT1lPT09cn0pKSk6aVtyXT0haVtyXSx0aGlzLmFwaS5kaXNwYXRjaEFjdGlvbih7dHlwZToic2VsZWN0RGF0YVJhbmdlIixmcm9tOnRoaXMudWlkLHZpc3VhbE1hcElkOnRoaXMudmlzdWFsTWFwTW9kZWwuaWQsc2VsZWN0ZWQ6aX0pfSxlLnR5cGU9InZpc3VhbE1hcC5waWVjZXdpc2UiLGV9KG9CKTtmdW5jdGlvbiBMQih0KXt0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoQ0IpLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KGtCKSxJQih0KX12YXIgUEI9e2xhYmVsOntlbmFibGVkOiEwfSxkZWNhbDp7c2hvdzohMX19LE9CPVJyKCksUkI9e307ZnVuY3Rpb24gTkIodCxlKXt2YXIgbj10LmdldE1vZGVsKCJhcmlhIik7aWYobi5nZXQoImVuYWJsZWQiKSl7dmFyIGk9UyhQQik7TShpLmxhYmVsLHQuZ2V0TG9jYWxlTW9kZWwoKS5nZXQoImFyaWEiKSwhMSksTShuLm9wdGlvbixpLCExKSxmdW5jdGlvbigpe2lmKG4uZ2V0TW9kZWwoImRlY2FsIikuZ2V0KCJzaG93Iikpe3ZhciBlPWN0KCk7dC5lYWNoU2VyaWVzKChmdW5jdGlvbih0KXtpZighdC5pc0NvbG9yQnlTZXJpZXMoKSl7dmFyIG49ZS5nZXQodC50eXBlKTtufHwobj17fSxlLnNldCh0LnR5cGUsbikpLE9CKHQpLnNjb3BlPW59fSkpLHQuZWFjaFJhd1NlcmllcygoZnVuY3Rpb24oZSl7aWYoIXQuaXNTZXJpZXNGaWx0ZXJlZChlKSlpZigiZnVuY3Rpb24iIT10eXBlb2YgZS5lbmFibGVBcmlhRGVjYWwpe3ZhciBuPWUuZ2V0RGF0YSgpO2lmKGUuaXNDb2xvckJ5U2VyaWVzKCkpe3ZhciBpPUxwKGUuZWNNb2RlbCxlLm5hbWUsUkIsdC5nZXRTZXJpZXNDb3VudCgpKSxyPW4uZ2V0VmlzdWFsKCJkZWNhbCIpO24uc2V0VmlzdWFsKCJkZWNhbCIsdShyLGkpKX1lbHNle3ZhciBvPWUuZ2V0UmF3RGF0YSgpLGE9e30scz1PQihlKS5zY29wZTtuLmVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPW4uZ2V0UmF3SW5kZXgodCk7YVtlXT10fSkpO3ZhciBsPW8uY291bnQoKTtvLmVhY2goKGZ1bmN0aW9uKHQpe3ZhciBpPWFbdF0scj1vLmdldE5hbWUodCl8fHQrIiIsaD1McChlLmVjTW9kZWwscixzLGwpLGM9bi5nZXRJdGVtVmlzdWFsKGksImRlY2FsIik7bi5zZXRJdGVtVmlzdWFsKGksImRlY2FsIix1KGMsaCkpfSkpfX1lbHNlIGUuZW5hYmxlQXJpYURlY2FsKCk7ZnVuY3Rpb24gdSh0LGUpe3ZhciBuPXQ/VChUKHt9LGUpLHQpOmU7cmV0dXJuIG4uZGlydHk9ITAsbn19KSl9fSgpLGZ1bmN0aW9uKCl7dmFyIGk9dC5nZXRMb2NhbGVNb2RlbCgpLmdldCgiYXJpYSIpLG89bi5nZXRNb2RlbCgibGFiZWwiKTtpZihvLm9wdGlvbj1DKG8ub3B0aW9uLGkpLCFvLmdldCgiZW5hYmxlZCIpKXJldHVybjt2YXIgYT1lLmdldFpyKCkuZG9tO2lmKG8uZ2V0KCJkZXNjcmlwdGlvbiIpKXJldHVybiB2b2lkIGEuc2V0QXR0cmlidXRlKCJhcmlhLWxhYmVsIixvLmdldCgiZGVzY3JpcHRpb24iKSk7dmFyIHMsbD10LmdldFNlcmllc0NvdW50KCksdT1vLmdldChbImRhdGEiLCJtYXhDb3VudCJdKXx8MTAsaD1vLmdldChbInNlcmllcyIsIm1heENvdW50Il0pfHwxMCxjPU1hdGgubWluKGwsaCk7aWYobDwxKXJldHVybjt2YXIgcD1mdW5jdGlvbigpe3ZhciBlPXQuZ2V0KCJ0aXRsZSIpO2UmJmUubGVuZ3RoJiYoZT1lWzBdKTtyZXR1cm4gZSYmZS50ZXh0fSgpO2lmKHApe3ZhciBkPW8uZ2V0KFsiZ2VuZXJhbCIsIndpdGhUaXRsZSJdKTtzPXIoZCx7dGl0bGU6cH0pfWVsc2Ugcz1vLmdldChbImdlbmVyYWwiLCJ3aXRob3V0VGl0bGUiXSk7dmFyIGY9W10sZz1sPjE/by5nZXQoWyJzZXJpZXMiLCJtdWx0aXBsZSIsInByZWZpeCJdKTpvLmdldChbInNlcmllcyIsInNpbmdsZSIsInByZWZpeCJdKTtzKz1yKGcse3Nlcmllc0NvdW50Omx9KSx0LmVhY2hTZXJpZXMoKGZ1bmN0aW9uKGUsbil7aWYobjxjKXt2YXIgaT12b2lkIDAsYT1lLmdldCgibmFtZSIpPyJ3aXRoTmFtZSI6IndpdGhvdXROYW1lIjtpPXIoaT1sPjE/by5nZXQoWyJzZXJpZXMiLCJtdWx0aXBsZSIsYV0pOm8uZ2V0KFsic2VyaWVzIiwic2luZ2xlIixhXSkse3Nlcmllc0lkOmUuc2VyaWVzSW5kZXgsc2VyaWVzTmFtZTplLmdldCgibmFtZSIpLHNlcmllc1R5cGU6KF89ZS5zdWJUeXBlLHQuZ2V0TG9jYWxlTW9kZWwoKS5nZXQoWyJzZXJpZXMiLCJ0eXBlTmFtZXMiXSlbX118fCLoh6rlrprkuYnlm74iKX0pO3ZhciBzPWUuZ2V0RGF0YSgpO2lmKHMuY291bnQoKT51KWkrPXIoby5nZXQoWyJkYXRhIiwicGFydGlhbERhdGEiXSkse2Rpc3BsYXlDbnQ6dX0pO2Vsc2UgaSs9by5nZXQoWyJkYXRhIiwiYWxsRGF0YSJdKTtmb3IodmFyIGg9by5nZXQoWyJkYXRhIiwic2VwYXJhdG9yIiwibWlkZGxlIl0pLHA9by5nZXQoWyJkYXRhIiwic2VwYXJhdG9yIiwiZW5kIl0pLGQ9W10sZz0wO2c8cy5jb3VudCgpO2crKylpZihnPHUpe3ZhciB5PXMuZ2V0TmFtZShnKSx2PXMuZ2V0VmFsdWVzKGcpLG09by5nZXQoWyJkYXRhIix5PyJ3aXRoTmFtZSI6IndpdGhvdXROYW1lIl0pO2QucHVzaChyKG0se25hbWU6eSx2YWx1ZTp2LmpvaW4oaCl9KSl9aSs9ZC5qb2luKGgpK3AsZi5wdXNoKGkpfXZhciBffSkpO3ZhciB5PW8uZ2V0TW9kZWwoWyJzZXJpZXMiLCJtdWx0aXBsZSIsInNlcGFyYXRvciJdKSx2PXkuZ2V0KCJtaWRkbGUiKSxtPXkuZ2V0KCJlbmQiKTtzKz1mLmpvaW4odikrbSxhLnNldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIscyl9KCl9ZnVuY3Rpb24gcih0LGUpe2lmKCJzdHJpbmciIT10eXBlb2YgdClyZXR1cm4gdDt2YXIgbj10O3JldHVybiBPKGUsKGZ1bmN0aW9uKHQsZSl7bj1uLnJlcGxhY2UobmV3IFJlZ0V4cCgiXFx7XFxzKiIrZSsiXFxzKlxcfSIsImciKSx0KX0pKSxufX1mdW5jdGlvbiB6Qih0KXtpZih0JiZ0LmFyaWEpe3ZhciBlPXQuYXJpYTtudWxsIT1lLnNob3cmJihlLmVuYWJsZWQ9ZS5zaG93KSxlLmxhYmVsPWUubGFiZWx8fHt9LE8oWyJkZXNjcmlwdGlvbiIsImdlbmVyYWwiLCJzZXJpZXMiLCJkYXRhIl0sKGZ1bmN0aW9uKHQpe251bGwhPWVbdF0mJihlLmxhYmVsW3RdPWVbdF0pfSkpfX12YXIgRUI9e3ZhbHVlOiJlcSIsIjwiOiJsdCIsIjw9IjoibHRlIiwiPiI6Imd0IiwiPj0iOiJndGUiLCI9IjoiZXEiLCIhPSI6Im5lIiwiPD4iOiJuZSJ9LFZCPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtpZihudWxsPT0odGhpcy5fY29uZFZhbD1XKHQpP25ldyBSZWdFeHAodCk6Sih0KT90Om51bGwpKXt2YXIgZT0iIjswLF9yKGUpfX1yZXR1cm4gdC5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuInN0cmluZyI9PT1lP3RoaXMuX2NvbmRWYWwudGVzdCh0KToibnVtYmVyIj09PWUmJnRoaXMuX2NvbmRWYWwudGVzdCh0KyIiKX0sdH0oKSxCQj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWV9LHR9KCksR0I9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmNoaWxkcmVuLGU9MDtlPHQubGVuZ3RoO2UrKylpZighdFtlXS5ldmFsdWF0ZSgpKXJldHVybiExO3JldHVybiEwfSx0fSgpLEZCPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5jaGlsZHJlbixlPTA7ZTx0Lmxlbmd0aDtlKyspaWYodFtlXS5ldmFsdWF0ZSgpKXJldHVybiEwO3JldHVybiExfSx0fSgpLEhCPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5jaGlsZC5ldmFsdWF0ZSgpfSx0fSgpLFdCPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9ISF0aGlzLnZhbHVlUGFyc2VyLGU9KDAsdGhpcy5nZXRWYWx1ZSkodGhpcy52YWx1ZUdldHRlclBhcmFtKSxuPXQ/dGhpcy52YWx1ZVBhcnNlcihlKTpudWxsLGk9MDtpPHRoaXMuc3ViQ29uZExpc3QubGVuZ3RoO2krKylpZighdGhpcy5zdWJDb25kTGlzdFtpXS5ldmFsdWF0ZSh0P246ZSkpcmV0dXJuITE7cmV0dXJuITB9LHR9KCk7ZnVuY3Rpb24gVUIodCxlKXtpZighMD09PXR8fCExPT09dCl7dmFyIG49bmV3IEJCO3JldHVybiBuLnZhbHVlPXQsbn12YXIgaT0iIjtyZXR1cm4gWUIodCl8fF9yKGkpLHQuYW5kP1hCKCJhbmQiLHQsZSk6dC5vcj9YQigib3IiLHQsZSk6dC5ub3Q/ZnVuY3Rpb24odCxlKXt2YXIgbj10Lm5vdCxpPSIiOzA7WUIobil8fF9yKGkpO3ZhciByPW5ldyBIQjtyLmNoaWxkPVVCKG4sZSksci5jaGlsZHx8X3IoaSk7cmV0dXJuIHJ9KHQsZSk6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49IiIsaT1lLnByZXBhcmVHZXRWYWx1ZSh0KSxyPVtdLG89Vih0KSxhPXQucGFyc2VyLHM9YT9VZChhKTpudWxsLGw9MDtsPG8ubGVuZ3RoO2wrKyl7dmFyIHU9b1tsXTtpZigicGFyc2VyIiE9PXUmJiFlLnZhbHVlR2V0dGVyQXR0ck1hcC5nZXQodSkpe3ZhciBoPWZ0KEVCLHUpP0VCW3VdOnUsYz10W3VdLHA9cz9zKGMpOmMsZD1xZChoLHApfHwicmVnIj09PWgmJm5ldyBWQihwKTtkfHxfcihuKSxyLnB1c2goZCl9fXIubGVuZ3RofHxfcihuKTt2YXIgZj1uZXcgV0I7cmV0dXJuIGYudmFsdWVHZXR0ZXJQYXJhbT1pLGYudmFsdWVQYXJzZXI9cyxmLmdldFZhbHVlPWUuZ2V0VmFsdWUsZi5zdWJDb25kTGlzdD1yLGZ9KHQsZSl9ZnVuY3Rpb24gWEIodCxlLG4pe3ZhciBpPWVbdF0scj0iIjtGKGkpfHxfcihyKSxpLmxlbmd0aHx8X3Iocik7dmFyIG89ImFuZCI9PT10P25ldyBHQjpuZXcgRkI7cmV0dXJuIG8uY2hpbGRyZW49UihpLChmdW5jdGlvbih0KXtyZXR1cm4gVUIodCxuKX0pKSxvLmNoaWxkcmVuLmxlbmd0aHx8X3Iociksb31mdW5jdGlvbiBZQih0KXtyZXR1cm4gWSh0KSYmIVAodCl9dmFyIFpCPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX2NvbmQ9VUIodCxlKX1yZXR1cm4gdC5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29uZC5ldmFsdWF0ZSgpfSx0fSgpO3ZhciBqQj17dHlwZToiZWNoYXJ0czpmaWx0ZXIiLHRyYW5zZm9ybTpmdW5jdGlvbih0KXtmb3IodmFyIGUsbixpLHI9dC51cHN0cmVhbSxvPShuPXQuY29uZmlnLGk9e3ZhbHVlR2V0dGVyQXR0ck1hcDpjdCh7ZGltZW5zaW9uOiEwfSkscHJlcGFyZUdldFZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSIiLG49dC5kaW1lbnNpb247ZnQodCwiZGltZW5zaW9uIil8fF9yKGUpO3ZhciBpPXIuZ2V0RGltZW5zaW9uSW5mbyhuKTtyZXR1cm4gaXx8X3IoZSkse2RpbUlkeDppLmluZGV4fX0sZ2V0VmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHIucmV0cmlldmVWYWx1ZUZyb21JdGVtKGUsdC5kaW1JZHgpfX0sbmV3IFpCKG4saSkpLGE9W10scz0wLGw9ci5jb3VudCgpO3M8bDtzKyspZT1yLmdldFJhd0RhdGFJdGVtKHMpLG8uZXZhbHVhdGUoKSYmYS5wdXNoKGUpO3JldHVybntkYXRhOmF9fX07dmFyIHFCPXt0eXBlOiJlY2hhcnRzOnNvcnQiLHRyYW5zZm9ybTpmdW5jdGlvbih0KXt2YXIgZT10LnVwc3RyZWFtLG49dC5jb25maWcsaT0iIixyPXdyKG4pO3IubGVuZ3RofHxfcihpKTt2YXIgbz1bXTtPKHIsKGZ1bmN0aW9uKHQpe3ZhciBuPXQuZGltZW5zaW9uLHI9dC5vcmRlcixhPXQucGFyc2VyLHM9dC5pbmNvbXBhcmFibGU7aWYobnVsbD09biYmX3IoaSksImFzYyIhPT1yJiYiZGVzYyIhPT1yJiZfcihpKSxzJiYibWluIiE9PXMmJiJtYXgiIT09cyl7dmFyIGw9IiI7MCxfcihsKX1pZigiYXNjIiE9PXImJiJkZXNjIiE9PXIpe3ZhciB1PSIiOzAsX3IodSl9dmFyIGg9ZS5nZXREaW1lbnNpb25JbmZvKG4pO2h8fF9yKGkpO3ZhciBjPWE/VWQoYSk6bnVsbDthJiYhYyYmX3IoaSksby5wdXNoKHtkaW1JZHg6aC5pbmRleCxwYXJzZXI6Yyxjb21wYXJhdG9yOm5ldyBaZChyLHMpfSl9KSk7dmFyIGE9ZS5zb3VyY2VGb3JtYXQ7YSE9PWxwJiZhIT09dXAmJl9yKGkpO2Zvcih2YXIgcz1bXSxsPTAsdT1lLmNvdW50KCk7bDx1O2wrKylzLnB1c2goZS5nZXRSYXdEYXRhSXRlbShsKSk7cmV0dXJuIHMuc29ydCgoZnVuY3Rpb24odCxuKXtmb3IodmFyIGk9MDtpPG8ubGVuZ3RoO2krKyl7dmFyIHI9b1tpXSxhPWUucmV0cmlldmVWYWx1ZUZyb21JdGVtKHQsci5kaW1JZHgpLHM9ZS5yZXRyaWV2ZVZhbHVlRnJvbUl0ZW0obixyLmRpbUlkeCk7ci5wYXJzZXImJihhPXIucGFyc2VyKGEpLHM9ci5wYXJzZXIocykpO3ZhciBsPXIuY29tcGFyYXRvci5ldmFsdWF0ZShhLHMpO2lmKDAhPT1sKXJldHVybiBsfXJldHVybiAwfSkpLHtkYXRhOnN9fX07dmFyIEtCPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUudHlwZT0iZGF0YXNldCIsZX1yZXR1cm4gbihlLHQpLGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSxuLGkpe3QucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzLGUsbixpKSx0aGlzLl9zb3VyY2VNYW5hZ2VyPW5ldyBnZih0aGlzKSx5Zih0aGlzKX0sZS5wcm90b3R5cGUubWVyZ2VPcHRpb249ZnVuY3Rpb24oZSxuKXt0LnByb3RvdHlwZS5tZXJnZU9wdGlvbi5jYWxsKHRoaXMsZSxuKSx5Zih0aGlzKX0sZS5wcm90b3R5cGUub3B0aW9uVXBkYXRlZD1mdW5jdGlvbigpe3RoaXMuX3NvdXJjZU1hbmFnZXIuZGlydHkoKX0sZS5wcm90b3R5cGUuZ2V0U291cmNlTWFuYWdlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VNYW5hZ2VyfSxlLnR5cGU9ImRhdGFzZXQiLGUuZGVmYXVsdE9wdGlvbj17c2VyaWVzTGF5b3V0Qnk6ZHB9LGV9KG5wKSwkQj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLnR5cGU9ImRhdGFzZXQiLGV9cmV0dXJuIG4oZSx0KSxlLnR5cGU9ImRhdGFzZXQiLGV9KFdmKTt2YXIgSkI9T2EuQ01EO2Z1bmN0aW9uIFFCKHQsZSl7cmV0dXJuIE1hdGguYWJzKHQtZSk8MWUtNX1mdW5jdGlvbiB0Ryh0KXt2YXIgZSxuLGkscixvLGE9dC5kYXRhLHM9dC5sZW4oKSxsPVtdLHU9MCxoPTAsYz0wLHA9MDtmdW5jdGlvbiBkKHQsbil7ZSYmZS5sZW5ndGg+MiYmbC5wdXNoKGUpLGU9W3Qsbl19ZnVuY3Rpb24gZih0LG4saSxyKXtRQih0LGkpJiZRQihuLHIpfHxlLnB1c2godCxuLGkscixpLHIpfWZ1bmN0aW9uIGcodCxuLGkscixvLGEpe3ZhciBzPU1hdGguYWJzKG4tdCksbD00Kk1hdGgudGFuKHMvNCkvMyx1PW48dD8tMToxLGg9TWF0aC5jb3ModCksYz1NYXRoLnNpbih0KSxwPU1hdGguY29zKG4pLGQ9TWF0aC5zaW4obiksZj1oKm8raSxnPWMqYStyLHk9cCpvK2ksdj1kKmErcixtPW8qbCp1LF89YSpsKnU7ZS5wdXNoKGYtbSpjLGcrXypoLHkrbSpkLHYtXypwLHksdil9Zm9yKHZhciB5PTA7eTxzOyl7dmFyIHY9YVt5KytdLG09MT09PXk7c3dpdGNoKG0mJihjPXU9YVt5XSxwPWg9YVt5KzFdLHYhPT1KQi5MJiZ2IT09SkIuQyYmdiE9PUpCLlF8fChlPVtjLHBdKSksdil7Y2FzZSBKQi5NOnU9Yz1hW3krK10saD1wPWFbeSsrXSxkKGMscCk7YnJlYWs7Y2FzZSBKQi5MOmYodSxoLG49YVt5KytdLGk9YVt5KytdKSx1PW4saD1pO2JyZWFrO2Nhc2UgSkIuQzplLnB1c2goYVt5KytdLGFbeSsrXSxhW3krK10sYVt5KytdLHU9YVt5KytdLGg9YVt5KytdKTticmVhaztjYXNlIEpCLlE6bj1hW3krK10saT1hW3krK10scj1hW3krK10sbz1hW3krK10sZS5wdXNoKHUrMi8zKihuLXUpLGgrMi8zKihpLWgpLHIrMi8zKihuLXIpLG8rMi8zKihpLW8pLHIsbyksdT1yLGg9bzticmVhaztjYXNlIEpCLkE6dmFyIF89YVt5KytdLHg9YVt5KytdLGI9YVt5KytdLHc9YVt5KytdLFM9YVt5KytdLE09YVt5KytdK1M7eSs9MTt2YXIgST0hYVt5KytdO249TWF0aC5jb3MoUykqYitfLGk9TWF0aC5zaW4oUykqdyt4LG0/ZChjPW4scD1pKTpmKHUsaCxuLGkpLHU9TWF0aC5jb3MoTSkqYitfLGg9TWF0aC5zaW4oTSkqdyt4O2Zvcih2YXIgVD0oST8tMToxKSpNYXRoLlBJLzIsQz1TO0k/Qz5NOkM8TTtDKz1UKXtnKEMsST9NYXRoLm1heChDK1QsTSk6TWF0aC5taW4oQytULE0pLF8seCxiLHcpfWJyZWFrO2Nhc2UgSkIuUjpjPXU9YVt5KytdLHA9aD1hW3krK10sbj1jK2FbeSsrXSxpPXArYVt5KytdLGQobixwKSxmKG4scCxuLGkpLGYobixpLGMsaSksZihjLGksYyxwKSxmKGMscCxuLHApO2JyZWFrO2Nhc2UgSkIuWjplJiZmKHUsaCxjLHApLHU9YyxoPXB9fXJldHVybiBlJiZlLmxlbmd0aD4yJiZsLnB1c2goZSksbH1mdW5jdGlvbiBlRyh0LGUsbixpLHIsbyxhLHMsbCx1KXtpZihRQih0LG4pJiZRQihlLGkpJiZRQihyLGEpJiZRQihvLHMpKWwucHVzaChhLHMpO2Vsc2V7dmFyIGg9Mi91LGM9aCpoLHA9YS10LGQ9cy1lLGY9TWF0aC5zcXJ0KHAqcCtkKmQpO3AvPWYsZC89Zjt2YXIgZz1uLXQseT1pLWUsdj1yLWEsbT1vLXMsXz1nKmcreSp5LHg9dip2K20qbTtpZihfPGMmJng8YylsLnB1c2goYSxzKTtlbHNle3ZhciBiPXAqZytkKnksdz0tcCp2LWQqbTtpZihfLWIqYjxjJiZiPj0wJiZ4LXcqdzxjJiZ3Pj0wKWwucHVzaChhLHMpO2Vsc2V7dmFyIFM9W10sTT1bXTtVbyh0LG4scixhLC41LFMpLFVvKGUsaSxvLHMsLjUsTSksZUcoU1swXSxNWzBdLFNbMV0sTVsxXSxTWzJdLE1bMl0sU1szXSxNWzNdLGwsdSksZUcoU1s0XSxNWzRdLFNbNV0sTVs1XSxTWzZdLE1bNl0sU1s3XSxNWzddLGwsdSl9fX19ZnVuY3Rpb24gbkcodCxlLG4pe3ZhciBpPXRbZV0scj10WzEtZV0sbz1NYXRoLmFicyhpL3IpLGE9TWF0aC5jZWlsKE1hdGguc3FydChvKm4pKSxzPU1hdGguZmxvb3Iobi9hKTswPT09cyYmKHM9MSxhPW4pO2Zvcih2YXIgbD1bXSx1PTA7dTxhO3UrKylsLnB1c2gocyk7dmFyIGg9bi1hKnM7aWYoaD4wKWZvcih1PTA7dTxoO3UrKylsW3UlYV0rPTE7cmV0dXJuIGx9ZnVuY3Rpb24gaUcodCxlLG4pe2Zvcih2YXIgaT10LnIwLHI9dC5yLG89dC5zdGFydEFuZ2xlLGE9dC5lbmRBbmdsZSxzPU1hdGguYWJzKGEtbyksbD1zKnIsdT1yLWksaD1sPk1hdGguYWJzKHUpLGM9bkcoW2wsdV0saD8wOjEsZSkscD0oaD9zOnUpL2MubGVuZ3RoLGQ9MDtkPGMubGVuZ3RoO2QrKylmb3IodmFyIGY9KGg/dTpzKS9jW2RdLGc9MDtnPGNbZF07ZysrKXt2YXIgeT17fTtoPyh5LnN0YXJ0QW5nbGU9bytwKmQseS5lbmRBbmdsZT1vK3AqKGQrMSkseS5yMD1pK2YqZyx5LnI9aStmKihnKzEpKTooeS5zdGFydEFuZ2xlPW8rZipnLHkuZW5kQW5nbGU9bytmKihnKzEpLHkucjA9aStwKmQseS5yPWkrcCooZCsxKSkseS5jbG9ja3dpc2U9dC5jbG9ja3dpc2UseS5jeD10LmN4LHkuY3k9dC5jeSxuLnB1c2goeSl9fWZ1bmN0aW9uIHJHKHQsZSxuLGkpe3JldHVybiB0KmktbiplfWZ1bmN0aW9uIG9HKHQsZSxuLGkscixvLGEscyl7dmFyIGw9bi10LHU9aS1lLGg9YS1yLGM9cy1vLHA9ckcoaCxjLGwsdSk7aWYoTWF0aC5hYnMocCk8MWUtNilyZXR1cm4gbnVsbDt2YXIgZD1yRyh0LXIsZS1vLGgsYykvcDtyZXR1cm4gZDwwfHxkPjE/bnVsbDpuZXcgbGkoZCpsK3QsZCp1K2UpfWZ1bmN0aW9uIGFHKHQsZSxuKXt2YXIgaT1uZXcgbGk7bGkuc3ViKGksbixlKSxpLm5vcm1hbGl6ZSgpO3ZhciByPW5ldyBsaTtyZXR1cm4gbGkuc3ViKHIsdCxlKSxyLmRvdChpKX1mdW5jdGlvbiBzRyh0LGUpe3ZhciBuPXRbdC5sZW5ndGgtMV07biYmblswXT09PWVbMF0mJm5bMV09PT1lWzFdfHx0LnB1c2goZSl9ZnVuY3Rpb24gbEcodCl7dmFyIGU9dC5wb2ludHMsbj1bXSxpPVtdO3NhKGUsbixpKTt2YXIgcj1uZXcgdmkoblswXSxuWzFdLGlbMF0tblswXSxpWzFdLW5bMV0pLG89ci53aWR0aCxhPXIuaGVpZ2h0LHM9ci54LGw9ci55LHU9bmV3IGxpLGg9bmV3IGxpO3JldHVybiBvPmE/KHUueD1oLng9cytvLzIsdS55PWwsaC55PWwrYSk6KHUueT1oLnk9bCthLzIsdS54PXMsaC54PXMrbyksZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT10Lmxlbmd0aCxyPVtdLG89MDtvPGk7bysrKXt2YXIgYT10W29dLHM9dFsobysxKSVpXSxsPW9HKGFbMF0sYVsxXSxzWzBdLHNbMV0sZS54LGUueSxuLngsbi55KTtsJiZyLnB1c2goe3Byb2pQdDphRyhsLGUsbikscHQ6bCxpZHg6b30pfWlmKHIubGVuZ3RoPDIpcmV0dXJuW3twb2ludHM6dH0se3BvaW50czp0fV07ci5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LnByb2pQdC1lLnByb2pQdH0pKTt2YXIgdT1yWzBdLGg9cltyLmxlbmd0aC0xXTtpZihoLmlkeDx1LmlkeCl7dmFyIGM9dTt1PWgsaD1jfXZhciBwPVt1LnB0LngsdS5wdC55XSxkPVtoLnB0LngsaC5wdC55XSxmPVtwXSxnPVtkXTtmb3Iobz11LmlkeCsxO288PWguaWR4O28rKylzRyhmLHRbb10uc2xpY2UoKSk7Zm9yKHNHKGYsZCksc0coZixwKSxvPWguaWR4KzE7bzw9dS5pZHgraTtvKyspc0coZyx0W28laV0uc2xpY2UoKSk7cmV0dXJuIHNHKGcscCksc0coZyxkKSxbe3BvaW50czpmfSx7cG9pbnRzOmd9XX0oZSx1LGgpfWZ1bmN0aW9uIHVHKHQsZSxuLGkpe2lmKDE9PT1uKWkucHVzaChlKTtlbHNle3ZhciByPU1hdGguZmxvb3Iobi8yKSxvPXQoZSk7dUcodCxvWzBdLHIsaSksdUcodCxvWzFdLG4tcixpKX1yZXR1cm4gaX1mdW5jdGlvbiBoRyh0LGUpe2Uuc2V0U3R5bGUodC5zdHlsZSksZS56PXQueixlLnoyPXQuejIsZS56bGV2ZWw9dC56bGV2ZWx9ZnVuY3Rpb24gY0codCxlKXt2YXIgbixpPVtdLHI9dC5zaGFwZTtzd2l0Y2godC50eXBlKXtjYXNlInJlY3QiOiFmdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPXQud2lkdGgscj10LmhlaWdodCxvPWk+cixhPW5HKFtpLHJdLG8/MDoxLGUpLHM9bz8id2lkdGgiOiJoZWlnaHQiLGw9bz8iaGVpZ2h0Ijoid2lkdGgiLHU9bz8ieCI6InkiLGg9bz8ieSI6IngiLGM9dFtzXS9hLmxlbmd0aCxwPTA7cDxhLmxlbmd0aDtwKyspZm9yKHZhciBkPXRbbF0vYVtwXSxmPTA7ZjxhW3BdO2YrKyl7dmFyIGc9e307Z1t1XT1wKmMsZ1toXT1mKmQsZ1tzXT1jLGdbbF09ZCxnLngrPXQueCxnLnkrPXQueSxuLnB1c2goZyl9fShyLGUsaSksbj1jczticmVhaztjYXNlInNlY3RvciI6aUcocixlLGkpLG49b3U7YnJlYWs7Y2FzZSJjaXJjbGUiOmlHKHtyMDowLHI6ci5yLHN0YXJ0QW5nbGU6MCxlbmRBbmdsZToyKk1hdGguUEksY3g6ci5jeCxjeTpyLmN5fSxlLGkpLG49b3U7YnJlYWs7ZGVmYXVsdDp2YXIgbz10LmdldENvbXB1dGVkVHJhbnNmb3JtKCksYT1vP01hdGguc3FydChNYXRoLm1heChvWzBdKm9bMF0rb1sxXSpvWzFdLG9bMl0qb1syXStvWzNdKm9bM10pKToxLHM9UihmdW5jdGlvbih0LGUpe3ZhciBuPXRHKHQpLGk9W107ZT1lfHwxO2Zvcih2YXIgcj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgbz1uW3JdLGE9W10scz1vWzBdLGw9b1sxXTthLnB1c2gocyxsKTtmb3IodmFyIHU9Mjt1PG8ubGVuZ3RoOyl7dmFyIGg9b1t1KytdLGM9b1t1KytdLHA9b1t1KytdLGQ9b1t1KytdLGY9b1t1KytdLGc9b1t1KytdO2VHKHMsbCxoLGMscCxkLGYsZyxhLGUpLHM9ZixsPWd9aS5wdXNoKGEpfXJldHVybiBpfSh0LmdldFVwZGF0ZWRQYXRoUHJveHkoKSxhKSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Lmxlbmd0aDspZS5wdXNoKFt0W24rK10sdFtuKytdXSk7cmV0dXJuIGV9KHQpfSkpLGw9cy5sZW5ndGg7aWYoMD09PWwpdUcobEcse3BvaW50czpzWzBdfSxlLGkpO2Vsc2UgaWYobD09PWUpZm9yKHZhciB1PTA7dTxsO3UrKylpLnB1c2goe3BvaW50czpzW3VdfSk7ZWxzZXt2YXIgaD0wLGM9UihzLChmdW5jdGlvbih0KXt2YXIgZT1bXSxuPVtdO3NhKHQsZSxuKTt2YXIgaT0oblsxXS1lWzFdKSooblswXS1lWzBdKTtyZXR1cm4gaCs9aSx7cG9seTp0LGFyZWE6aX19KSk7Yy5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBlLmFyZWEtdC5hcmVhfSkpO3ZhciBwPWU7Zm9yKHU9MDt1PGw7dSsrKXt2YXIgZD1jW3VdO2lmKHA8PTApYnJlYWs7dmFyIGY9dT09PWwtMT9wOk1hdGguY2VpbChkLmFyZWEvaCplKTtmPDB8fCh1RyhsRyx7cG9pbnRzOmQucG9seX0sZixpKSxwLT1mKX19bj1jdX1pZighbilyZXR1cm4gZnVuY3Rpb24odCxlKXtmb3IodmFyIG49W10saT0wO2k8ZTtpKyspbi5wdXNoKEdsKHQpKTtyZXR1cm4gbn0odCxlKTt2YXIgZz1bXTtmb3IodT0wO3U8aS5sZW5ndGg7dSsrKXt2YXIgeT1uZXcgbjt5LnNldFNoYXBlKGlbdV0pLGhHKHQseSksZy5wdXNoKHkpfXJldHVybiBnfWZ1bmN0aW9uIHBHKHQsZSl7dmFyIG49dC5sZW5ndGgsaT1lLmxlbmd0aDtpZihuPT09aSlyZXR1cm5bdCxlXTtmb3IodmFyIHI9W10sbz1bXSxhPW48aT90OmUscz1NYXRoLm1pbihuLGkpLGw9TWF0aC5hYnMoaS1uKS82LHU9KHMtMikvNixoPU1hdGguY2VpbChsL3UpKzEsYz1bYVswXSxhWzFdXSxwPWwsZD0yO2Q8czspe3ZhciBmPWFbZC0yXSxnPWFbZC0xXSx5PWFbZCsrXSx2PWFbZCsrXSxtPWFbZCsrXSxfPWFbZCsrXSx4PWFbZCsrXSxiPWFbZCsrXTtpZihwPD0wKWMucHVzaCh5LHYsbSxfLHgsYik7ZWxzZXtmb3IodmFyIHc9TWF0aC5taW4ocCxoLTEpKzEsUz0xO1M8PXc7UysrKXt2YXIgTT1TL3c7VW8oZix5LG0seCxNLHIpLFVvKGcsdixfLGIsTSxvKSxmPXJbM10sZz1vWzNdLGMucHVzaChyWzFdLG9bMV0sclsyXSxvWzJdLGYsZykseT1yWzVdLHY9b1s1XSxtPXJbNl0sXz1vWzZdfXAtPXctMX19cmV0dXJuIGE9PT10P1tjLGVdOlt0LGNdfWZ1bmN0aW9uIGRHKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoLGk9dFtuLTJdLHI9dFtuLTFdLG89W10sYT0wO2E8ZS5sZW5ndGg7KW9bYSsrXT1pLG9bYSsrXT1yO3JldHVybiBvfWZ1bmN0aW9uIGZHKHQpe2Zvcih2YXIgZT0wLG49MCxpPTAscj10Lmxlbmd0aCxvPTAsYT1yLTI7bzxyO2E9byxvKz0yKXt2YXIgcz10W2FdLGw9dFthKzFdLHU9dFtvXSxoPXRbbysxXSxjPXMqaC11Kmw7ZSs9YyxuKz0ocyt1KSpjLGkrPShsK2gpKmN9cmV0dXJuIDA9PT1lP1t0WzBdfHwwLHRbMV18fDBdOltuL2UvMyxpL2UvMyxlXX1mdW5jdGlvbiBnRyh0LGUsbixpKXtmb3IodmFyIHI9KHQubGVuZ3RoLTIpLzYsbz0xLzAsYT0wLHM9dC5sZW5ndGgsbD1zLTIsdT0wO3U8cjt1Kyspe2Zvcih2YXIgaD02KnUsYz0wLHA9MDtwPHM7cCs9Mil7dmFyIGQ9MD09PXA/aDooaCtwLTIpJWwrMixmPXRbZF0tblswXSxnPXRbZCsxXS1uWzFdLHk9ZVtwXS1pWzBdLWYsdj1lW3ArMV0taVsxXS1nO2MrPXkqeSt2KnZ9YzxvJiYobz1jLGE9dSl9cmV0dXJuIGF9ZnVuY3Rpb24geUcodCl7Zm9yKHZhciBlPVtdLG49dC5sZW5ndGgsaT0wO2k8bjtpKz0yKWVbaV09dFtuLWktMl0sZVtpKzFdPXRbbi1pLTFdO3JldHVybiBlfWZ1bmN0aW9uIHZHKHQpe3JldHVybiB0Ll9faXNDb21iaW5lTW9ycGhpbmd9dmFyIG1HPSJfX21PcmlnaW5hbF8iO2Z1bmN0aW9uIF9HKHQsZSxuKXt2YXIgaT1tRytlLHI9dFtpXXx8dFtlXTt0W2ldfHwodFtpXT10W2VdKTt2YXIgbz1uLnJlcGxhY2UsYT1uLmFmdGVyLHM9bi5iZWZvcmU7dFtlXT1mdW5jdGlvbigpe3ZhciB0LGU9YXJndW1lbnRzO3JldHVybiBzJiZzLmFwcGx5KHRoaXMsZSksdD1vP28uYXBwbHkodGhpcyxlKTpyLmFwcGx5KHRoaXMsZSksYSYmYS5hcHBseSh0aGlzLGUpLHR9fWZ1bmN0aW9uIHhHKHQsZSl7dmFyIG49bUcrZTt0W25dJiYodFtlXT10W25dLHRbbl09bnVsbCl9ZnVuY3Rpb24gYkcodCxlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylmb3IodmFyIGk9dFtuXSxyPTA7cjxpLmxlbmd0aDspe3ZhciBvPWlbcl0sYT1pW3IrMV07aVtyKytdPWVbMF0qbytlWzJdKmErZVs0XSxpW3IrK109ZVsxXSpvK2VbM10qYStlWzVdfX1mdW5jdGlvbiB3Ryh0LGUpe3ZhciBuPXQuZ2V0VXBkYXRlZFBhdGhQcm94eSgpLGk9ZS5nZXRVcGRhdGVkUGF0aFByb3h5KCkscj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbixpLHIsbz1bXSxhPVtdLHM9MDtzPE1hdGgubWF4KHQubGVuZ3RoLGUubGVuZ3RoKTtzKyspe3ZhciBsPXRbc10sdT1lW3NdLGg9dm9pZCAwLGM9dm9pZCAwO2w/dT8oaT1oPShuPXBHKGwsdSkpWzBdLHI9Yz1uWzFdKTooYz1kRyhyfHxsLGwpLGg9bCk6KGg9ZEcoaXx8dSx1KSxjPXUpLG8ucHVzaChoKSxhLnB1c2goYyl9cmV0dXJuW28sYV19KHRHKG4pLHRHKGkpKSxvPXJbMF0sYT1yWzFdLHM9dC5nZXRDb21wdXRlZFRyYW5zZm9ybSgpLGw9ZS5nZXRDb21wdXRlZFRyYW5zZm9ybSgpO3MmJmJHKG8scyksbCYmYkcoYSxsKSxfRyhlLCJ1cGRhdGVUcmFuc2Zvcm0iLHtyZXBsYWNlOmZ1bmN0aW9uKCl7dGhpcy50cmFuc2Zvcm09bnVsbH19KSxlLnRyYW5zZm9ybT1udWxsO3ZhciB1PWZ1bmN0aW9uKHQsZSxuLGkpe2Zvcih2YXIgcixvPVtdLGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIHM9dFthXSxsPWVbYV0sdT1mRyhzKSxoPWZHKGwpO251bGw9PXImJihyPXVbMl08MCE9aFsyXTwwKTt2YXIgYz1bXSxwPVtdLGQ9MCxmPTEvMCxnPVtdLHk9cy5sZW5ndGg7ciYmKHM9eUcocykpO2Zvcih2YXIgdj02KmdHKHMsbCx1LGgpLG09eS0yLF89MDtfPG07Xys9Mil7dmFyIHg9KHYrXyklbSsyO2NbXysyXT1zW3hdLXVbMF0sY1tfKzNdPXNbeCsxXS11WzFdfWlmKGNbMF09c1t2XS11WzBdLGNbMV09c1t2KzFdLXVbMV0sbj4wKWZvcih2YXIgYj1pL24sdz0taS8yO3c8PWkvMjt3Kz1iKXt2YXIgUz1NYXRoLnNpbih3KSxNPU1hdGguY29zKHcpLEk9MDtmb3IoXz0wO188cy5sZW5ndGg7Xys9Mil7dmFyIFQ9Y1tfXSxDPWNbXysxXSxEPWxbX10taFswXSxBPWxbXysxXS1oWzFdLGs9RCpNLUEqUyxMPUQqUytBKk07Z1tfXT1rLGdbXysxXT1MO3ZhciBQPWstVCxPPUwtQztJKz1QKlArTypPfWlmKEk8Zil7Zj1JLGQ9dztmb3IodmFyIFI9MDtSPGcubGVuZ3RoO1IrKylwW1JdPWdbUl19fWVsc2UgZm9yKHZhciBOPTA7Tjx5O04rPTIpcFtOXT1sW05dLWhbMF0scFtOKzFdPWxbTisxXS1oWzFdO28ucHVzaCh7ZnJvbTpjLHRvOnAsZnJvbUNwOnUsdG9DcDpoLHJvdGF0aW9uOi1kfSl9cmV0dXJuIG99KG8sYSwxMCxNYXRoLlBJKSxoPVtdO19HKGUsImJ1aWxkUGF0aCIse3JlcGxhY2U6ZnVuY3Rpb24odCl7Zm9yKHZhciBuPWUuX19tb3JwaFQsaT0xLW4scj1bXSxvPTA7bzx1Lmxlbmd0aDtvKyspe3ZhciBhPXVbb10scz1hLmZyb20sbD1hLnRvLGM9YS5yb3RhdGlvbipuLHA9YS5mcm9tQ3AsZD1hLnRvQ3AsZj1NYXRoLnNpbihjKSxnPU1hdGguY29zKGMpO1J0KHIscCxkLG4pO2Zvcih2YXIgeT0wO3k8cy5sZW5ndGg7eSs9Mil7dmFyIHY9c1t5XSxtPXNbeSsxXSxfPXYqaSsoUz1sW3ldKSpuLHg9bSppKyhNPWxbeSsxXSkqbjtoW3ldPV8qZy14KmYrclswXSxoW3krMV09XypmK3gqZytyWzFdfXZhciBiPWhbMF0sdz1oWzFdO3QubW92ZVRvKGIsdyk7Zm9yKHk9Mjt5PHMubGVuZ3RoOyl7dmFyIFM9aFt5KytdLE09aFt5KytdLEk9aFt5KytdLFQ9aFt5KytdLEM9aFt5KytdLEQ9aFt5KytdO2I9PT1TJiZ3PT09TSYmST09PUMmJlQ9PT1EP3QubGluZVRvKEMsRCk6dC5iZXppZXJDdXJ2ZVRvKFMsTSxJLFQsQyxEKSxiPUMsdz1EfX19fSl9ZnVuY3Rpb24gU0codCxlLG4pe2lmKCF0fHwhZSlyZXR1cm4gZTt2YXIgaT1uLmRvbmUscj1uLmR1cmluZztyZXR1cm4gd0codCxlKSxlLl9fbW9ycGhUPTAsZS5hbmltYXRlVG8oe19fbW9ycGhUOjF9LEMoe2R1cmluZzpmdW5jdGlvbih0KXtlLmRpcnR5U2hhcGUoKSxyJiZyKHQpfSxkb25lOmZ1bmN0aW9uKCl7eEcoZSwiYnVpbGRQYXRoIikseEcoZSwidXBkYXRlVHJhbnNmb3JtIiksZS5fX21vcnBoVD0tMSxlLmNyZWF0ZVBhdGhQcm94eSgpLGUuZGlydHlTaGFwZSgpLGkmJmkoKX19LG4pKSxlfWZ1bmN0aW9uIE1HKHQsZSxuLGkscixvKXt0PXI9PT1uPzA6TWF0aC5yb3VuZCgzMjc2NyoodC1uKS8oci1uKSksZT1vPT09aT8wOk1hdGgucm91bmQoMzI3NjcqKGUtaSkvKG8taSkpO2Zvcih2YXIgYSxzPTAsbD0zMjc2ODtsPjA7bC89Mil7dmFyIHU9MCxoPTA7KHQmbCk+MCYmKHU9MSksKGUmbCk+MCYmKGg9MSkscys9bCpsKigzKnVeaCksMD09PWgmJigxPT09dSYmKHQ9bC0xLXQsZT1sLTEtZSksYT10LHQ9ZSxlPWEpfXJldHVybiBzfWZ1bmN0aW9uIElHKHQpe3ZhciBlPTEvMCxuPTEvMCxpPS0xLzAscj0tMS8wLG89Uih0LChmdW5jdGlvbih0KXt2YXIgbz10LmdldEJvdW5kaW5nUmVjdCgpLGE9dC5nZXRDb21wdXRlZFRyYW5zZm9ybSgpLHM9by54K28ud2lkdGgvMisoYT9hWzRdOjApLGw9by55K28uaGVpZ2h0LzIrKGE/YVs1XTowKTtyZXR1cm4gZT1NYXRoLm1pbihzLGUpLG49TWF0aC5taW4obCxuKSxpPU1hdGgubWF4KHMsaSkscj1NYXRoLm1heChsLHIpLFtzLGxdfSkpO3JldHVybiBSKG8sKGZ1bmN0aW9uKG8sYSl7cmV0dXJue2NwOm8sejpNRyhvWzBdLG9bMV0sZSxuLGkscikscGF0aDp0W2FdfX0pKS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LnotZS56fSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQucGF0aH0pKX1mdW5jdGlvbiBURyh0KXtyZXR1cm4gY0codC5wYXRoLHQuY291bnQpfWZ1bmN0aW9uIENHKHQpe3JldHVybiBGKHRbMF0pfWZ1bmN0aW9uIERHKHQsZSl7Zm9yKHZhciBuPVtdLGk9dC5sZW5ndGgscj0wO3I8aTtyKyspbi5wdXNoKHtvbmU6dFtyXSxtYW55OltdfSk7Zm9yKHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG89ZVtyXS5sZW5ndGgsYT12b2lkIDA7Zm9yKGE9MDthPG87YSsrKW5bYSVpXS5tYW55LnB1c2goZVtyXVthXSl9dmFyIHM9MDtmb3Iocj1pLTE7cj49MDtyLS0paWYoIW5bcl0ubWFueS5sZW5ndGgpe3ZhciBsPW5bc10ubWFueTtpZihsLmxlbmd0aDw9MSl7aWYoIXMpcmV0dXJuIG47cz0wfW89bC5sZW5ndGg7dmFyIHU9TWF0aC5jZWlsKG8vMik7bltyXS5tYW55PWwuc2xpY2UodSxvKSxuW3NdLm1hbnk9bC5zbGljZSgwLHUpLHMrK31yZXR1cm4gbn12YXIgQUc9e2Nsb25lOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPTEtTWF0aC5wb3coMS10LnBhdGguc3R5bGUub3BhY2l0eSwxL3QuY291bnQpLGk9MDtpPHQuY291bnQ7aSsrKXt2YXIgcj1HbCh0LnBhdGgpO3Iuc2V0U3R5bGUoIm9wYWNpdHkiLG4pLGUucHVzaChyKX1yZXR1cm4gZX0sc3BsaXQ6bnVsbH07ZnVuY3Rpb24ga0codCxlLG4saSxyLG8pe2lmKHQubGVuZ3RoJiZlLmxlbmd0aCl7dmFyIGE9TnUoInVwZGF0ZSIsaSxyKTtpZihhJiZhLmR1cmF0aW9uPjApe3ZhciBzLGwsdT1pLmdldE1vZGVsKCJ1bml2ZXJzYWxUcmFuc2l0aW9uIikuZ2V0KCJkZWxheSIpLGg9T2JqZWN0LmFzc2lnbih7c2V0VG9GaW5hbDohMH0sYSk7Q0codCkmJihzPXQsbD1lKSxDRyhlKSYmKHM9ZSxsPXQpO2Zvcih2YXIgYz1zP3M9PT10OnQubGVuZ3RoPmUubGVuZ3RoLHA9cz9ERyhsLHMpOkRHKGM/ZTp0LFtjP3Q6ZV0pLGQ9MCxmPTA7ZjxwLmxlbmd0aDtmKyspZCs9cFtmXS5tYW55Lmxlbmd0aDt2YXIgZz0wO2ZvcihmPTA7ZjxwLmxlbmd0aDtmKyspeShwW2ZdLGMsZyxkKSxnKz1wW2ZdLm1hbnkubGVuZ3RofX1mdW5jdGlvbiB5KHQsZSxpLHIsYSl7dmFyIHM9dC5tYW55LGw9dC5vbmU7aWYoMSE9PXMubGVuZ3RofHxhKWZvcih2YXIgYz1DKHtkaXZpZGVQYXRoOkFHW25dLGluZGl2aWR1YWxEZWxheTp1JiZmdW5jdGlvbih0LGUsbixvKXtyZXR1cm4gdSh0K2kscil9fSxoKSxwPWU/ZnVuY3Rpb24odCxlLG4pe3ZhciBpPVtdOyFmdW5jdGlvbiB0KGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3ZHKHIpP3Qoci5jaGlsZHJlblJlZigpKTpyIGluc3RhbmNlb2YgUWEmJmkucHVzaChyKX19KHQpO3ZhciByPWkubGVuZ3RoO2lmKCFyKXJldHVybntmcm9tSW5kaXZpZHVhbHM6W10sdG9JbmRpdmlkdWFsczpbXSxjb3VudDowfTt2YXIgbz0obi5kaXZpZGVQYXRofHxURykoe3BhdGg6ZSxjb3VudDpyfSk7aWYoby5sZW5ndGghPT1yKXJldHVybiBjb25zb2xlLmVycm9yKCJJbnZhbGlkIG1vcnBoaW5nOiB1bm1hdGNoZWQgc3BsaXR0ZWQgcGF0aCIpLHtmcm9tSW5kaXZpZHVhbHM6W10sdG9JbmRpdmlkdWFsczpbXSxjb3VudDowfTtpPUlHKGkpLG89SUcobyk7Zm9yKHZhciBhPW4uZG9uZSxzPW4uZHVyaW5nLGw9bi5pbmRpdmlkdWFsRGVsYXksdT1uZXcgYWksaD0wO2g8cjtoKyspe3ZhciBjPWlbaF0scD1vW2hdO3AucGFyZW50PWUscC5jb3B5VHJhbnNmb3JtKHUpLGx8fHdHKGMscCl9ZnVuY3Rpb24gZCh0KXtmb3IodmFyIGU9MDtlPG8ubGVuZ3RoO2UrKylvW2VdLmFkZFNlbGZUb1pyKHQpfWZ1bmN0aW9uIGYoKXtlLl9faXNDb21iaW5lTW9ycGhpbmc9ITEsZS5fX21vcnBoVD0tMSxlLmNoaWxkcmVuUmVmPW51bGwseEcoZSwiYWRkU2VsZlRvWnIiKSx4RyhlLCJyZW1vdmVTZWxmRnJvbVpyIil9ZS5fX2lzQ29tYmluZU1vcnBoaW5nPSEwLGUuY2hpbGRyZW5SZWY9ZnVuY3Rpb24oKXtyZXR1cm4gb30sX0coZSwiYWRkU2VsZlRvWnIiLHthZnRlcjpmdW5jdGlvbih0KXtkKHQpfX0pLF9HKGUsInJlbW92ZVNlbGZGcm9tWnIiLHthZnRlcjpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPG8ubGVuZ3RoO2UrKylvW2VdLnJlbW92ZVNlbGZGcm9tWnIodCl9fSk7dmFyIGc9by5sZW5ndGg7aWYobCl7dmFyIHk9Zyx2PWZ1bmN0aW9uKCl7MD09LS15JiYoZigpLGEmJmEoKSl9O2ZvcihoPTA7aDxnO2grKyl7dmFyIG09bD9DKHtkZWxheToobi5kZWxheXx8MCkrbChoLGcsaVtoXSxvW2hdKSxkb25lOnZ9LG4pOm47U0coaVtoXSxvW2hdLG0pfX1lbHNlIGUuX19tb3JwaFQ9MCxlLmFuaW1hdGVUbyh7X19tb3JwaFQ6MX0sQyh7ZHVyaW5nOmZ1bmN0aW9uKHQpe2Zvcih2YXIgbj0wO248ZztuKyspe3ZhciBpPW9bbl07aS5fX21vcnBoVD1lLl9fbW9ycGhULGkuZGlydHlTaGFwZSgpfXMmJnModCl9LGRvbmU6ZnVuY3Rpb24oKXtmKCk7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspeEcodFtlXSwidXBkYXRlVHJhbnNmb3JtIik7YSYmYSgpfX0sbikpO3JldHVybiBlLl9fenImJmQoZS5fX3pyKSx7ZnJvbUluZGl2aWR1YWxzOmksdG9JbmRpdmlkdWFsczpvLGNvdW50Omd9fShzLGwsYyk6ZnVuY3Rpb24odCxlLG4pe3ZhciBpPWUubGVuZ3RoLHI9W10sbz1uLmRpdmlkZVBhdGh8fFRHO2lmKHZHKHQpKXshZnVuY3Rpb24gdChlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXTt2RyhpKT90KGkuY2hpbGRyZW5SZWYoKSk6aSBpbnN0YW5jZW9mIFFhJiZyLnB1c2goaSl9fSh0LmNoaWxkcmVuUmVmKCkpO3ZhciBhPXIubGVuZ3RoO2lmKGE8aSlmb3IodmFyIHM9MCxsPWE7bDxpO2wrKylyLnB1c2goR2wocltzKyslYV0pKTtyLmxlbmd0aD1pfWVsc2V7cj1vKHtwYXRoOnQsY291bnQ6aX0pO3ZhciB1PXQuZ2V0Q29tcHV0ZWRUcmFuc2Zvcm0oKTtmb3IobD0wO2w8ci5sZW5ndGg7bCsrKXJbbF0uc2V0TG9jYWxUcmFuc2Zvcm0odSk7aWYoci5sZW5ndGghPT1pKXJldHVybiBjb25zb2xlLmVycm9yKCJJbnZhbGlkIG1vcnBoaW5nOiB1bm1hdGNoZWQgc3BsaXR0ZWQgcGF0aCIpLHtmcm9tSW5kaXZpZHVhbHM6W10sdG9JbmRpdmlkdWFsczpbXSxjb3VudDowfX1yPUlHKHIpLGU9SUcoZSk7dmFyIGg9bi5pbmRpdmlkdWFsRGVsYXk7Zm9yKGw9MDtsPGk7bCsrKXt2YXIgYz1oP0Moe2RlbGF5OihuLmRlbGF5fHwwKStoKGwsaSxyW2xdLGVbbF0pfSxuKTpuO1NHKHJbbF0sZVtsXSxjKX1yZXR1cm57ZnJvbUluZGl2aWR1YWxzOnIsdG9JbmRpdmlkdWFsczplLGNvdW50OmUubGVuZ3RofX0obCxzLGMpLGQ9cC5mcm9tSW5kaXZpZHVhbHMsZj1wLnRvSW5kaXZpZHVhbHMsZz1kLmxlbmd0aCx2PTA7djxnO3YrKyl7bT11P0Moe2RlbGF5OnUodixnKX0saCk6aDtvKGRbdl0sZlt2XSxlP3Nbdl06dC5vbmUsZT90Lm9uZTpzW3ZdLG0pfWVsc2V7dmFyIG0sXz1lP3NbMF06bCx4PWU/bDpzWzBdO2lmKHZHKF8pKXkoe21hbnk6W19dLG9uZTp4fSwhMCxpLHIsITApO2Vsc2UgU0coXyx4LG09dT9DKHtkZWxheTp1KGkscil9LGgpOmgpLG8oXyx4LF8seCxtKX19fWZ1bmN0aW9uIExHKHQpe2lmKCF0KXJldHVybltdO2lmKEYodCkpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Lmxlbmd0aDtuKyspZS5wdXNoKExHKHRbbl0pKTtyZXR1cm4gZX12YXIgaT1bXTtyZXR1cm4gdC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIFFhJiYhdC5kaXNhYmxlTW9ycGhpbmcmJiF0LmludmlzaWJsZSYmIXQuaWdub3JlJiZpLnB1c2godCl9KSksaX12YXIgUEc9UnIoKTtmdW5jdGlvbiBPRyh0KXt2YXIgZT1bXTtyZXR1cm4gTyh0LChmdW5jdGlvbih0KXt2YXIgbj10LmRhdGE7aWYoIShuLmNvdW50KCk+MWU0KSlmb3IodmFyIGk9bi5nZXRJbmRpY2VzKCkscj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5kaW1lbnNpb25zLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9dC5nZXREaW1lbnNpb25JbmZvKGVbbl0pO2lmKGkmJjA9PT1pLm90aGVyRGltcy5pdGVtR3JvdXBJZClyZXR1cm4gZVtuXX19KG4pLG89MDtvPGkubGVuZ3RoO28rKyllLnB1c2goe2RhdGE6bixkaW06dC5kaW18fHIsZGl2aWRlOnQuZGl2aWRlLGRhdGFJbmRleDpvfSl9KSksZX1mdW5jdGlvbiBSRyh0LGUsbil7dC50cmF2ZXJzZSgoZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIFFhJiZWdSh0LHtzdHlsZTp7b3BhY2l0eTowfX0sZSx7ZGF0YUluZGV4Om4saXNGcm9tOiEwfSl9KSl9ZnVuY3Rpb24gTkcodCl7aWYodC5wYXJlbnQpe3ZhciBlPXQuZ2V0Q29tcHV0ZWRUcmFuc2Zvcm0oKTt0LnNldExvY2FsVHJhbnNmb3JtKGUpLHQucGFyZW50LnJlbW92ZSh0KX19ZnVuY3Rpb24gekcodCl7dC5zdG9wQW5pbWF0aW9uKCksdC5pc0dyb3VwJiZ0LnRyYXZlcnNlKChmdW5jdGlvbih0KXt0LnN0b3BBbmltYXRpb24oKX0pKX1mdW5jdGlvbiBFRyh0LGUsbil7dmFyIGk9TnUoInVwZGF0ZSIsbixlKTtpJiZ0LnRyYXZlcnNlKChmdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgVG8pe3ZhciBlPWZ1bmN0aW9uKHQpe3JldHVybiBSdSh0KS5vbGRTdHlsZX0odCk7ZSYmdC5hbmltYXRlRnJvbSh7c3R5bGU6ZX0saSl9fSkpfWZ1bmN0aW9uIFZHKHQsZSxuKXt2YXIgaT1PRyh0KSxyPU9HKGUpO2Z1bmN0aW9uIG8odCxlLG4saSxyKXsobnx8dCkmJmUuYW5pbWF0ZUZyb20oe3N0eWxlOihufHx0KS5zdHlsZX0scil9ZnVuY3Rpb24gYSh0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKylpZih0W2VdLmRpbSlyZXR1cm4gdFtlXS5kaW19dmFyIHM9YShpKSxsPWEociksdT0hMTtmdW5jdGlvbiBoKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBpPW4uZGF0YSxyPW4uZGF0YUluZGV4O2lmKGUpcmV0dXJuIGkuZ2V0SWQocik7dmFyIG89aS5ob3N0TW9kZWwmJmkuaG9zdE1vZGVsLmdldCgiZGF0YUdyb3VwSWQiKSxhPXQ/c3x8bDpsfHxzLHU9YSYmaS5nZXREaW1lbnNpb25JbmZvKGEpLGg9dSYmdS5vcmRpbmFsTWV0YTtpZih1KXt2YXIgYz1pLmdldCh1Lm5hbWUscik7cmV0dXJuIGgmJmguY2F0ZWdvcmllc1tjXXx8YysiIn12YXIgcD1pLmdldFJhd0RhdGFJdGVtKHIpO3JldHVybiBwJiZwLmdyb3VwSWQ/cC5ncm91cElkKyIiOm98fGkuZ2V0SWQocil9fXZhciBjPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5sZW5ndGg7aWYobiE9PWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgaT0wO2k8bjtpKyspe3ZhciByPXRbaV0sbz1lW2ldO2lmKHIuZGF0YS5nZXRJZChyLmRhdGFJbmRleCkhPT1vLmRhdGEuZ2V0SWQoby5kYXRhSW5kZXgpKXJldHVybiExfXJldHVybiEwfShpLHIpLHA9e307aWYoIWMpZm9yKHZhciBkPTA7ZDxyLmxlbmd0aDtkKyspe3ZhciBmPXJbZF0sZz1mLmRhdGEuZ2V0SXRlbUdyYXBoaWNFbChmLmRhdGFJbmRleCk7ZyYmKHBbZy5pZF09ITApfWZ1bmN0aW9uIHkodCxlKXt2YXIgbj1pW2VdLGE9clt0XSxzPWEuZGF0YS5ob3N0TW9kZWwsbD1uLmRhdGEuZ2V0SXRlbUdyYXBoaWNFbChuLmRhdGFJbmRleCksaD1hLmRhdGEuZ2V0SXRlbUdyYXBoaWNFbChhLmRhdGFJbmRleCk7bCE9PWg/bCYmcFtsLmlkXXx8aCYmKHpHKGgpLGw/KHpHKGwpLE5HKGwpLHU9ITAsa0coTEcobCksTEcoaCksYS5kaXZpZGUscyx0LG8pKTpSRyhoLHMsdCkpOmgmJkVHKGgsYS5kYXRhSW5kZXgscyl9bmV3IEJtKGkscixoKCEwLGMpLGgoITEsYyksbnVsbCwibXVsdGlwbGUiKS51cGRhdGUoeSkudXBkYXRlTWFueVRvT25lKChmdW5jdGlvbih0LGUpe3ZhciBuPXJbdF0sYT1uLmRhdGEscz1hLmhvc3RNb2RlbCxsPWEuZ2V0SXRlbUdyYXBoaWNFbChuLmRhdGFJbmRleCksaD16KFIoZSwoZnVuY3Rpb24odCl7cmV0dXJuIGlbdF0uZGF0YS5nZXRJdGVtR3JhcGhpY0VsKGlbdF0uZGF0YUluZGV4KX0pKSwoZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQhPT1sJiYhcFt0LmlkXX0pKTtsJiYoekcobCksaC5sZW5ndGg/KE8oaCwoZnVuY3Rpb24odCl7ekcodCksTkcodCl9KSksdT0hMCxrRyhMRyhoKSxMRyhsKSxuLmRpdmlkZSxzLHQsbykpOlJHKGwscyxuLmRhdGFJbmRleCkpfSkpLnVwZGF0ZU9uZVRvTWFueSgoZnVuY3Rpb24odCxlKXt2YXIgbj1pW2VdLGE9bi5kYXRhLmdldEl0ZW1HcmFwaGljRWwobi5kYXRhSW5kZXgpO2lmKCFhfHwhcFthLmlkXSl7dmFyIHM9eihSKHQsKGZ1bmN0aW9uKHQpe3JldHVybiByW3RdLmRhdGEuZ2V0SXRlbUdyYXBoaWNFbChyW3RdLmRhdGFJbmRleCl9KSksKGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0IT09YX0pKSxsPXJbdFswXV0uZGF0YS5ob3N0TW9kZWw7cy5sZW5ndGgmJihPKHMsKGZ1bmN0aW9uKHQpe3JldHVybiB6Ryh0KX0pKSxhPyh6RyhhKSxORyhhKSx1PSEwLGtHKExHKGEpLExHKHMpLG4uZGl2aWRlLGwsdFswXSxvKSk6TyhzLChmdW5jdGlvbihlKXtyZXR1cm4gUkcoZSxsLHRbMF0pfSkpKX19KSkudXBkYXRlTWFueVRvTWFueSgoZnVuY3Rpb24odCxlKXtuZXcgQm0oZSx0LChmdW5jdGlvbih0KXtyZXR1cm4gaVt0XS5kYXRhLmdldElkKGlbdF0uZGF0YUluZGV4KX0pLChmdW5jdGlvbih0KXtyZXR1cm4gclt0XS5kYXRhLmdldElkKHJbdF0uZGF0YUluZGV4KX0pKS51cGRhdGUoKGZ1bmN0aW9uKG4saSl7eSh0W25dLGVbaV0pfSkpLmV4ZWN1dGUoKX0pKS5leGVjdXRlKCksdSYmTyhlLChmdW5jdGlvbih0KXt2YXIgZT10LmRhdGEuaG9zdE1vZGVsLGk9ZSYmbi5nZXRWaWV3T2ZTZXJpZXNNb2RlbChlKSxyPU51KCJ1cGRhdGUiLGUsMCk7aSYmZS5pc0FuaW1hdGlvbkVuYWJsZWQoKSYmciYmci5kdXJhdGlvbj4wJiZpLmdyb3VwLnRyYXZlcnNlKChmdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgUWEmJiF0LmFuaW1hdG9ycy5sZW5ndGgmJnQuYW5pbWF0ZUZyb20oe3N0eWxlOntvcGFjaXR5OjB9fSxyKX0pKX0pKX1mdW5jdGlvbiBCRyh0KXt2YXIgZT10LmdldE1vZGVsKCJ1bml2ZXJzYWxUcmFuc2l0aW9uIikuZ2V0KCJzZXJpZXNLZXkiKTtyZXR1cm4gZXx8dC5pZH1mdW5jdGlvbiBHRyh0KXtyZXR1cm4gRih0KT90LnNvcnQoKS5qb2luKCIsIik6dH1mdW5jdGlvbiBGRyh0KXtpZih0Lmhvc3RNb2RlbClyZXR1cm4gdC5ob3N0TW9kZWwuZ2V0TW9kZWwoInVuaXZlcnNhbFRyYW5zaXRpb24iKS5nZXQoImRpdmlkZVNoYXBlIil9ZnVuY3Rpb24gSEcodCxlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7aWYobnVsbCE9ZS5zZXJpZXNJbmRleCYmZS5zZXJpZXNJbmRleD09PXRbbl0uc2VyaWVzSW5kZXh8fG51bGwhPWUuc2VyaWVzSWQmJmUuc2VyaWVzSWQ9PT10W25dLmlkKXJldHVybiBufX16bShbZnVuY3Rpb24odCl7dC5yZWdpc3RlclBhaW50ZXIoImNhbnZhcyIsQ3cpfV0pLHptKFtmdW5jdGlvbih0KXt0LnJlZ2lzdGVyUGFpbnRlcigic3ZnIixtdyl9XSksem0oW2Z1bmN0aW9uKHQpe3QucmVnaXN0ZXJDaGFydFZpZXcoaFMpLHQucmVnaXN0ZXJTZXJpZXNNb2RlbChEdyksdC5yZWdpc3RlckxheW91dChjUygibGluZSIsITApKSx0LnJlZ2lzdGVyVmlzdWFsKHtzZXJpZXNUeXBlOiJsaW5lIixyZXNldDpmdW5jdGlvbih0KXt2YXIgZT10LmdldERhdGEoKSxuPXQuZ2V0TW9kZWwoImxpbmVTdHlsZSIpLmdldExpbmVTdHlsZSgpO24mJiFuLnN0cm9rZSYmKG4uc3Ryb2tlPWUuZ2V0VmlzdWFsKCJzdHlsZSIpLmZpbGwpLGUuc2V0VmlzdWFsKCJsZWdlbmRMaW5lU3R5bGUiLG4pfX0pLHQucmVnaXN0ZXJQcm9jZXNzb3IodC5QUklPUklUWS5QUk9DRVNTT1IuU1RBVElTVElDLGZTKCJsaW5lIikpfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ2hhcnRWaWV3KE1TKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwoeVMpLHQucmVnaXN0ZXJMYXlvdXQodC5QUklPUklUWS5WSVNVQUwuTEFZT1VULEcoRl8sImJhciIpKSx0LnJlZ2lzdGVyTGF5b3V0KHQuUFJJT1JJVFkuVklTVUFMLlBST0dSRVNTSVZFX0xBWU9VVCxIXyksdC5yZWdpc3RlclByb2Nlc3Nvcih0LlBSSU9SSVRZLlBST0NFU1NPUi5TVEFUSVNUSUMsZlMoImJhciIpKSx0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOiJjaGFuZ2VBeGlzT3JkZXIiLGV2ZW50OiJjaGFuZ2VBeGlzT3JkZXIiLHVwZGF0ZToidXBkYXRlIn0sKGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5jb21wb25lbnRUeXBlfHwic2VyaWVzIjtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOm4scXVlcnk6dH0sKGZ1bmN0aW9uKGUpe3Quc29ydEluZm8mJmUuYXhpcy5zZXRDYXRlZ29yeVNvcnRJbmZvKHQuc29ydEluZm8pfSkpfSkpfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ2hhcnRWaWV3KEpTKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwoZU0pLEZnKCJwaWUiLHQucmVnaXN0ZXJBY3Rpb24pLHQucmVnaXN0ZXJMYXlvdXQoRyhVUywicGllIikpLHQucmVnaXN0ZXJQcm9jZXNzb3IoWFMoInBpZSIpKSx0LnJlZ2lzdGVyUHJvY2Vzc29yKGZ1bmN0aW9uKHQpe3JldHVybntzZXJpZXNUeXBlOnQscmVzZXQ6ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldERhdGEoKTtuLmZpbHRlclNlbGYoKGZ1bmN0aW9uKHQpe3ZhciBlPW4ubWFwRGltZW5zaW9uKCJ2YWx1ZSIpLGk9bi5nZXQoZSx0KTtyZXR1cm4hKCJudW1iZXIiPT10eXBlb2YgaSYmIWlzTmFOKGkpJiZpPDApfSkpfX19KCJwaWUiKSl9LGZ1bmN0aW9uKHQpe3ptKHRJKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwobk0pLHQucmVnaXN0ZXJDaGFydFZpZXcoYU0pLHQucmVnaXN0ZXJMYXlvdXQoY1MoInNjYXR0ZXIiKSl9LGZ1bmN0aW9uKHQpe3ptKGZJKSx0LnJlZ2lzdGVyQ2hhcnRWaWV3KG9JKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwoYUkpLHQucmVnaXN0ZXJMYXlvdXQoZUkpLHQucmVnaXN0ZXJQcm9jZXNzb3IoWFMoInJhZGFyIikpLHQucmVnaXN0ZXJQcmVwcm9jZXNzb3IockkpfSxmdW5jdGlvbih0KXt6bSh0VCksdC5yZWdpc3RlckNoYXJ0VmlldyhWSSksdC5yZWdpc3RlclNlcmllc01vZGVsKEJJKSx0LnJlZ2lzdGVyTGF5b3V0KEZJKSx0LnJlZ2lzdGVyUHJvY2Vzc29yKHQuUFJJT1JJVFkuUFJPQ0VTU09SLlNUQVRJU1RJQyxHSSksRmcoIm1hcCIsdC5yZWdpc3RlckFjdGlvbil9LGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDaGFydFZpZXcocFQpLHQucmVnaXN0ZXJTZXJpZXNNb2RlbChSVCksdC5yZWdpc3RlckxheW91dCh6VCksdC5yZWdpc3RlclZpc3VhbChFVCksZnVuY3Rpb24odCl7dC5yZWdpc3RlckFjdGlvbih7dHlwZToidHJlZUV4cGFuZEFuZENvbGxhcHNlIixldmVudDoidHJlZUV4cGFuZEFuZENvbGxhcHNlIix1cGRhdGU6InVwZGF0ZSJ9LChmdW5jdGlvbih0LGUpe2UuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6InNlcmllcyIsc3ViVHlwZToidHJlZSIscXVlcnk6dH0sKGZ1bmN0aW9uKGUpe3ZhciBuPXQuZGF0YUluZGV4LGk9ZS5nZXREYXRhKCkudHJlZS5nZXROb2RlQnlEYXRhSW5kZXgobik7aS5pc0V4cGFuZD0haS5pc0V4cGFuZH0pKX0pKSx0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOiJ0cmVlUm9hbSIsZXZlbnQ6InRyZWVSb2FtIix1cGRhdGU6Im5vbmUifSwoZnVuY3Rpb24odCxlKXtlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJzZXJpZXMiLHN1YlR5cGU6InRyZWUiLHF1ZXJ5OnR9LChmdW5jdGlvbihlKXt2YXIgbj1KSShlLmNvb3JkaW5hdGVTeXN0ZW0sdCk7ZS5zZXRDZW50ZXImJmUuc2V0Q2VudGVyKG4uY2VudGVyKSxlLnNldFpvb20mJmUuc2V0Wm9vbShuLnpvb20pfSkpfSkpfSh0KX0sZnVuY3Rpb24odCl7dC5yZWdpc3RlclNlcmllc01vZGVsKEZUKSx0LnJlZ2lzdGVyQ2hhcnRWaWV3KHRDKSx0LnJlZ2lzdGVyVmlzdWFsKHZDKSx0LnJlZ2lzdGVyTGF5b3V0KGtDKSxmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPEJULmxlbmd0aDtlKyspdC5yZWdpc3RlckFjdGlvbih7dHlwZTpCVFtlXSx1cGRhdGU6InVwZGF0ZVZpZXcifSxWVCk7dC5yZWdpc3RlckFjdGlvbih7dHlwZToidHJlZW1hcFJvb3RUb05vZGUiLHVwZGF0ZToidXBkYXRlVmlldyJ9LChmdW5jdGlvbih0LGUpe2UuZWFjaENvbXBvbmVudCh7bWFpblR5cGU6InNlcmllcyIsc3ViVHlwZToidHJlZW1hcCIscXVlcnk6dH0sKGZ1bmN0aW9uKGUsbil7dmFyIGk9a1QodCxbInRyZWVtYXBab29tVG9Ob2RlIiwidHJlZW1hcFJvb3RUb05vZGUiXSxlKTtpZihpKXt2YXIgcj1lLmdldFZpZXdSb290KCk7ciYmKHQuZGlyZWN0aW9uPVBUKHIsaS5ub2RlKT8icm9sbFVwIjoiZHJpbGxEb3duIiksZS5yZXNldFZpZXdSb290KGkubm9kZSl9fSkpfSkpfSh0KX0sZnVuY3Rpb24odCl7dC5yZWdpc3RlckNoYXJ0VmlldyhBRCksdC5yZWdpc3RlclNlcmllc01vZGVsKHpEKSx0LnJlZ2lzdGVyUHJvY2Vzc29yKHpDKSx0LnJlZ2lzdGVyVmlzdWFsKEVDKSx0LnJlZ2lzdGVyVmlzdWFsKEJDKSx0LnJlZ2lzdGVyTGF5b3V0KHFDKSx0LnJlZ2lzdGVyTGF5b3V0KHQuUFJJT1JJVFkuVklTVUFMLlBPU1RfQ0hBUlRfTEFZT1VULG5EKSx0LnJlZ2lzdGVyTGF5b3V0KHJEKSx0LnJlZ2lzdGVyQ29vcmRpbmF0ZVN5c3RlbSgiZ3JhcGhWaWV3Iix7ZGltZW5zaW9uczpXSS5kaW1lbnNpb25zLGNyZWF0ZTpvRH0pLHQucmVnaXN0ZXJBY3Rpb24oe3R5cGU6ImZvY3VzTm9kZUFkamFjZW5jeSIsZXZlbnQ6ImZvY3VzTm9kZUFkamFjZW5jeSIsdXBkYXRlOiJzZXJpZXM6Zm9jdXNOb2RlQWRqYWNlbmN5In0sKGZ1bmN0aW9uKCl7fSkpLHQucmVnaXN0ZXJBY3Rpb24oe3R5cGU6InVuZm9jdXNOb2RlQWRqYWNlbmN5IixldmVudDoidW5mb2N1c05vZGVBZGphY2VuY3kiLHVwZGF0ZToic2VyaWVzOnVuZm9jdXNOb2RlQWRqYWNlbmN5In0sKGZ1bmN0aW9uKCl7fSkpLHQucmVnaXN0ZXJBY3Rpb24oRUQsKGZ1bmN0aW9uKHQsZSl7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToic2VyaWVzIixxdWVyeTp0fSwoZnVuY3Rpb24oZSl7dmFyIG49SkkoZS5jb29yZGluYXRlU3lzdGVtLHQpO2Uuc2V0Q2VudGVyJiZlLnNldENlbnRlcihuLmNlbnRlciksZS5zZXRab29tJiZlLnNldFpvb20obi56b29tKX0pKX0pKX0sZnVuY3Rpb24odCl7dC5yZWdpc3RlckNoYXJ0VmlldyhIRCksdC5yZWdpc3RlclNlcmllc01vZGVsKFdEKX0sZnVuY3Rpb24odCl7dC5yZWdpc3RlckNoYXJ0VmlldyhZRCksdC5yZWdpc3RlclNlcmllc01vZGVsKFpEKSx0LnJlZ2lzdGVyTGF5b3V0KGpEKSx0LnJlZ2lzdGVyUHJvY2Vzc29yKFhTKCJmdW5uZWwiKSl9LGZ1bmN0aW9uKHQpe3ptKHhrKSx0LnJlZ2lzdGVyQ2hhcnRWaWV3KHFEKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwodEEpLHQucmVnaXN0ZXJWaXN1YWwodC5QUklPUklUWS5WSVNVQUwuQlJVU0gsaUEpfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ2hhcnRWaWV3KFNrKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwoTWspLHQucmVnaXN0ZXJMYXlvdXQoSWspLHQucmVnaXN0ZXJWaXN1YWwoRWspLHQucmVnaXN0ZXJBY3Rpb24oe3R5cGU6ImRyYWdOb2RlIixldmVudDoiZHJhZ25vZGUiLHVwZGF0ZToidXBkYXRlIn0sKGZ1bmN0aW9uKHQsZSl7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToic2VyaWVzIixzdWJUeXBlOiJzYW5rZXkiLHF1ZXJ5OnR9LChmdW5jdGlvbihlKXtlLnNldE5vZGVQb3NpdGlvbih0LmRhdGFJbmRleCxbdC5sb2NhbFgsdC5sb2NhbFldKX0pKX0pKX0sZnVuY3Rpb24odCl7dC5yZWdpc3RlclNlcmllc01vZGVsKEJrKSx0LnJlZ2lzdGVyQ2hhcnRWaWV3KEdrKSx0LnJlZ2lzdGVyVmlzdWFsKFlrKSx0LnJlZ2lzdGVyTGF5b3V0KGprKSx0LnJlZ2lzdGVyVHJhbnNmb3JtKHFrKX0sZnVuY3Rpb24odCl7dC5yZWdpc3RlckNoYXJ0VmlldygkayksdC5yZWdpc3RlclNlcmllc01vZGVsKGxMKSx0LnJlZ2lzdGVyUHJlcHJvY2Vzc29yKHVMKSx0LnJlZ2lzdGVyVmlzdWFsKGZMKSx0LnJlZ2lzdGVyTGF5b3V0KHlMKX0sZnVuY3Rpb24odCl7dC5yZWdpc3RlckNoYXJ0Vmlldyh4TCksdC5yZWdpc3RlclNlcmllc01vZGVsKGJMKSx0LnJlZ2lzdGVyTGF5b3V0KGNTKCJlZmZlY3RTY2F0dGVyIikpfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ2hhcnRWaWV3KEFMKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwoT0wpLHQucmVnaXN0ZXJMYXlvdXQoREwpLHQucmVnaXN0ZXJWaXN1YWwoTkwpfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ2hhcnRWaWV3KFZMKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwoQkwpfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ2hhcnRWaWV3KFdMKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwoc1ApLHQucmVnaXN0ZXJMYXlvdXQoRyhGXywicGljdG9yaWFsQmFyIikpfSxmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ2hhcnRWaWV3KGxQKSx0LnJlZ2lzdGVyU2VyaWVzTW9kZWwodVApLHQucmVnaXN0ZXJMYXlvdXQoaFApLHQucmVnaXN0ZXJQcm9jZXNzb3IoWFMoInRoZW1lUml2ZXIiKSl9LGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDaGFydFZpZXcoZ1ApLHQucmVnaXN0ZXJTZXJpZXNNb2RlbCh5UCksdC5yZWdpc3RlckxheW91dChHKF9QLCJzdW5idXJzdCIpKSx0LnJlZ2lzdGVyUHJvY2Vzc29yKEcoWFMsInN1bmJ1cnN0IikpLHQucmVnaXN0ZXJWaXN1YWwoYlApLGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJBY3Rpb24oe3R5cGU6ZFAsdXBkYXRlOiJ1cGRhdGVWaWV3In0sKGZ1bmN0aW9uKHQsZSl7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToic2VyaWVzIixzdWJUeXBlOiJzdW5idXJzdCIscXVlcnk6dH0sKGZ1bmN0aW9uKGUsbil7dmFyIGk9a1QodCxbZFBdLGUpO2lmKGkpe3ZhciByPWUuZ2V0Vmlld1Jvb3QoKTtyJiYodC5kaXJlY3Rpb249UFQocixpLm5vZGUpPyJyb2xsVXAiOiJkcmlsbERvd24iKSxlLnJlc2V0Vmlld1Jvb3QoaS5ub2RlKX19KSl9KSksdC5yZWdpc3RlckFjdGlvbih7dHlwZTpmUCx1cGRhdGU6Im5vbmUifSwoZnVuY3Rpb24odCxlLG4pe3Q9VCh7fSx0KSxlLmVhY2hDb21wb25lbnQoe21haW5UeXBlOiJzZXJpZXMiLHN1YlR5cGU6InN1bmJ1cnN0IixxdWVyeTp0fSwoZnVuY3Rpb24oZSl7dmFyIG49a1QodCxbZlBdLGUpO24mJih0LmRhdGFJbmRleD1uLm5vZGUuZGF0YUluZGV4KX0pKSxuLmRpc3BhdGNoQWN0aW9uKFQodCx7dHlwZToiaGlnaGxpZ2h0In0pKX0pKSx0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOiJzdW5idXJzdFVuaGlnaGxpZ2h0Iix1cGRhdGU6InVwZGF0ZVZpZXcifSwoZnVuY3Rpb24odCxlLG4pe3Q9VCh7fSx0KSxuLmRpc3BhdGNoQWN0aW9uKFQodCx7dHlwZToiZG93bnBsYXkifSkpfSkpfSh0KX0sZnVuY3Rpb24odCl7dC5yZWdpc3RlckNoYXJ0VmlldyhlTyksdC5yZWdpc3RlclNlcmllc01vZGVsKFRQKX1dKSx6bSgoZnVuY3Rpb24odCl7em0odEkpLHptKG9SKX0pKSx6bSgoZnVuY3Rpb24odCl7em0ob1IpLEhNLnJlZ2lzdGVyQXhpc1BvaW50ZXJDbGFzcygiUG9sYXJBeGlzUG9pbnRlciIsYVIpLHQucmVnaXN0ZXJDb29yZGluYXRlU3lzdGVtKCJwb2xhciIseFIpLHQucmVnaXN0ZXJDb21wb25lbnRNb2RlbChsUiksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoelIpLGZNKHQsImFuZ2xlIixoUixSUiksZk0odCwicmFkaXVzIixjUixOUiksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoSVIpLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KEFSKSx0LnJlZ2lzdGVyTGF5b3V0KEcoT1IsImJhciIpKX0pKSx6bSh0VCksem0oKGZ1bmN0aW9uKHQpe3ptKG9SKSxITS5yZWdpc3RlckF4aXNQb2ludGVyQ2xhc3MoIlNpbmdsZUF4aXNQb2ludGVyIixLUiksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcodE4pLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KEdSKSx0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoSFIpLGZNKHQsInNpbmdsZSIsSFIsSFIuZGVmYXVsdE9wdGlvbiksdC5yZWdpc3RlckNvb3JkaW5hdGVTeXN0ZW0oInNpbmdsZSIsWlIpfSkpLHptKHhrKSx6bSgoZnVuY3Rpb24odCl7dC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKGVOKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhpTiksdC5yZWdpc3RlckNvb3JkaW5hdGVTeXN0ZW0oImNhbGVuZGFyIixvTil9KSksem0oKGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDb21wb25lbnRNb2RlbChoTiksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcoY04pLHQucmVnaXN0ZXJQcmVwcm9jZXNzb3IodU4pfSkpLHptKChmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoRU4pLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KEJOKSxOTigic2F2ZUFzSW1hZ2UiLEdOKSxOTigibWFnaWNUeXBlIixXTiksTk4oImRhdGFWaWV3IixLTiksTk4oImRhdGFab29tIixteiksTk4oInJlc3RvcmUiLGV6KSx6bShQTil9KSksem0oKGZ1bmN0aW9uKHQpe3ptKG9SKSx0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoYnopLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KEZ6KSx0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOiJzaG93VGlwIixldmVudDoic2hvd1RpcCIsdXBkYXRlOiJ0b29sdGlwOm1hbnVhbGx5U2hvd1RpcCJ9LChmdW5jdGlvbigpe30pKSx0LnJlZ2lzdGVyQWN0aW9uKHt0eXBlOiJoaWRlVGlwIixldmVudDoiaGlkZVRpcCIsdXBkYXRlOiJ0b29sdGlwOm1hbnVhbGx5SGlkZVRpcCJ9LChmdW5jdGlvbigpe30pKX0pKSx6bShvUiksem0oKGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDb21wb25lbnRWaWV3KHVFKSx0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoaEUpLHQucmVnaXN0ZXJQcmVwcm9jZXNzb3IoWXopLHQucmVnaXN0ZXJWaXN1YWwodC5QUklPUklUWS5WSVNVQUwuQlJVU0gsckUpLHQucmVnaXN0ZXJBY3Rpb24oe3R5cGU6ImJydXNoIixldmVudDoiYnJ1c2giLHVwZGF0ZToidXBkYXRlVmlzdWFsIn0sKGZ1bmN0aW9uKHQsZSl7ZS5lYWNoQ29tcG9uZW50KHttYWluVHlwZToiYnJ1c2giLHF1ZXJ5OnR9LChmdW5jdGlvbihlKXtlLnNldEFyZWFzKHQuYXJlYXMpfSkpfSkpLHQucmVnaXN0ZXJBY3Rpb24oe3R5cGU6ImJydXNoU2VsZWN0IixldmVudDoiYnJ1c2hTZWxlY3RlZCIsdXBkYXRlOiJub25lIn0sKGZ1bmN0aW9uKCl7fSkpLHQucmVnaXN0ZXJBY3Rpb24oe3R5cGU6ImJydXNoRW5kIixldmVudDoiYnJ1c2hFbmQiLHVwZGF0ZToibm9uZSJ9LChmdW5jdGlvbigpe30pKSxOTigiYnJ1c2giLGRFKX0pKSx6bSgoZnVuY3Rpb24odCl7dC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKGZFKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhnRSl9KSksem0oKGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJDb21wb25lbnRNb2RlbCh2RSksdC5yZWdpc3RlckNvbXBvbmVudFZpZXcod0UpLHQucmVnaXN0ZXJTdWJUeXBlRGVmYXVsdGVyKCJ0aW1lbGluZSIsKGZ1bmN0aW9uKCl7cmV0dXJuInNsaWRlciJ9KSksZnVuY3Rpb24odCl7dC5yZWdpc3RlckFjdGlvbih7dHlwZToidGltZWxpbmVDaGFuZ2UiLGV2ZW50OiJ0aW1lbGluZUNoYW5nZWQiLHVwZGF0ZToicHJlcGFyZUFuZFVwZGF0ZSJ9LChmdW5jdGlvbih0LGUsbil7dmFyIGk9ZS5nZXRDb21wb25lbnQoInRpbWVsaW5lIik7cmV0dXJuIGkmJm51bGwhPXQuY3VycmVudEluZGV4JiYoaS5zZXRDdXJyZW50SW5kZXgodC5jdXJyZW50SW5kZXgpLCFpLmdldCgibG9vcCIsITApJiZpLmlzSW5kZXhNYXgoKSYmaS5nZXRQbGF5U3RhdGUoKSYmKGkuc2V0UGxheVN0YXRlKCExKSxuLmRpc3BhdGNoQWN0aW9uKHt0eXBlOiJ0aW1lbGluZVBsYXlDaGFuZ2UiLHBsYXlTdGF0ZTohMSxmcm9tOnQuZnJvbX0pKSksZS5yZXNldE9wdGlvbigidGltZWxpbmUiLHtyZXBsYWNlTWVyZ2U6aS5nZXQoInJlcGxhY2VNZXJnZSIsITApfSksQyh7Y3VycmVudEluZGV4Omkub3B0aW9uLmN1cnJlbnRJbmRleH0sdCl9KSksdC5yZWdpc3RlckFjdGlvbih7dHlwZToidGltZWxpbmVQbGF5Q2hhbmdlIixldmVudDoidGltZWxpbmVQbGF5Q2hhbmdlZCIsdXBkYXRlOiJ1cGRhdGUifSwoZnVuY3Rpb24odCxlKXt2YXIgbj1lLmdldENvbXBvbmVudCgidGltZWxpbmUiKTtuJiZudWxsIT10LnBsYXlTdGF0ZSYmbi5zZXRQbGF5U3RhdGUodC5wbGF5U3RhdGUpfSkpfSh0KSx0LnJlZ2lzdGVyUHJlcHJvY2Vzc29yKElFKX0pKSx6bSgoZnVuY3Rpb24odCl7dC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKFBFKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhXRSksdC5yZWdpc3RlclByZXByb2Nlc3NvcigoZnVuY3Rpb24odCl7REUodC5zZXJpZXMsIm1hcmtQb2ludCIpJiYodC5tYXJrUG9pbnQ9dC5tYXJrUG9pbnR8fHt9KX0pKX0pKSx6bSgoZnVuY3Rpb24odCl7dC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKFVFKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldygkRSksdC5yZWdpc3RlclByZXByb2Nlc3NvcigoZnVuY3Rpb24odCl7REUodC5zZXJpZXMsIm1hcmtMaW5lIikmJih0Lm1hcmtMaW5lPXQubWFya0xpbmV8fHt9KX0pKX0pKSx6bSgoZnVuY3Rpb24odCl7dC5yZWdpc3RlckNvbXBvbmVudE1vZGVsKEpFKSx0LnJlZ2lzdGVyQ29tcG9uZW50VmlldyhhViksdC5yZWdpc3RlclByZXByb2Nlc3NvcigoZnVuY3Rpb24odCl7REUodC5zZXJpZXMsIm1hcmtBcmVhIikmJih0Lm1hcmtBcmVhPXQubWFya0FyZWF8fHt9KX0pKX0pKSx6bSgoZnVuY3Rpb24odCl7em0obVYpLHptKElWKX0pKSx6bSgoZnVuY3Rpb24odCl7em0oRVYpLHptKFlWKX0pKSx6bShFViksem0oWVYpLHptKChmdW5jdGlvbih0KXt6bShUQiksem0oTEIpfSkpLHptKFRCKSx6bShMQiksem0oKGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJQcmVwcm9jZXNzb3IoekIpLHQucmVnaXN0ZXJWaXN1YWwodC5QUklPUklUWS5WSVNVQUwuQVJJQSxOQil9KSksem0oKGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJUcmFuc2Zvcm0oakIpLHQucmVnaXN0ZXJUcmFuc2Zvcm0ocUIpfSkpLHptKChmdW5jdGlvbih0KXt0LnJlZ2lzdGVyQ29tcG9uZW50TW9kZWwoS0IpLHQucmVnaXN0ZXJDb21wb25lbnRWaWV3KCRCKX0pKSx6bSgoZnVuY3Rpb24odCl7dC5yZWdpc3RlclVwZGF0ZUxpZmVjeWNsZSgic2VyaWVzOmJlZm9yZXVwZGF0ZSIsKGZ1bmN0aW9uKHQsZSxuKXtPKHdyKG4uc2VyaWVzVHJhbnNpdGlvbiksKGZ1bmN0aW9uKHQpe08od3IodC50byksKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uLnVwZGF0ZWRTZXJpZXMsaT0wO2k8ZS5sZW5ndGg7aSsrKShudWxsIT10LnNlcmllc0luZGV4JiZ0LnNlcmllc0luZGV4PT09ZVtpXS5zZXJpZXNJbmRleHx8bnVsbCE9dC5zZXJpZXNJZCYmdC5zZXJpZXNJZD09PWVbaV0uaWQpJiYoZVtpXS5fX3VuaXZlcnNhbFRyYW5zaXRpb25FbmFibGVkPSEwKX0pKX0pKX0pKSx0LnJlZ2lzdGVyVXBkYXRlTGlmZWN5Y2xlKCJzZXJpZXM6dHJhbnNpdGlvbiIsKGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1QRyhlKTtpZihpLm9sZFNlcmllcyYmbi51cGRhdGVkU2VyaWVzJiZuLm9wdGlvbkNoYW5nZWQpe3ZhciByPW4uc2VyaWVzVHJhbnNpdGlvbjtpZihyKU8od3IociksKGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1bXSxvPVtdO08od3IodC5mcm9tKSwoZnVuY3Rpb24odCl7dmFyIG49SEcoZS5vbGRTZXJpZXMsdCk7bj49MCYmci5wdXNoKHtkYXRhOmUub2xkRGF0YVtuXSxkaXZpZGU6RkcoZS5vbGREYXRhW25dKSxkaW06dC5kaW1lbnNpb259KX0pKSxPKHdyKHQudG8pLChmdW5jdGlvbih0KXt2YXIgZT1IRyhuLnVwZGF0ZWRTZXJpZXMsdCk7aWYoZT49MCl7dmFyIGk9bi51cGRhdGVkU2VyaWVzW2VdLmdldERhdGEoKTtvLnB1c2goe2RhdGE6aSxkaXZpZGU6RkcoaSksZGltOnQuZGltZW5zaW9ufSl9fSkpLHIubGVuZ3RoPjAmJm8ubGVuZ3RoPjAmJlZHKHIsbyxpKX0odCxpLG4sZSl9KSk7ZWxzZXt2YXIgbz1mdW5jdGlvbih0LGUpe3ZhciBuPWN0KCksaT1jdCgpLHI9Y3QoKTtyZXR1cm4gTyh0Lm9sZFNlcmllcywoZnVuY3Rpb24oZSxuKXt2YXIgbz10Lm9sZERhdGFbbl0sYT1CRyhlKSxzPUdHKGEpO2kuc2V0KHMsbyksRihhKSYmTyhhLChmdW5jdGlvbih0KXtyLnNldCh0LHtkYXRhOm8sa2V5OnN9KX0pKX0pKSxPKGUudXBkYXRlZFNlcmllcywoZnVuY3Rpb24odCl7aWYodC5pc1VuaXZlcnNhbFRyYW5zaXRpb25FbmFibGVkKCkmJnQuaXNBbmltYXRpb25FbmFibGVkKCkpe3ZhciBlPXQuZ2V0RGF0YSgpLG89QkcodCksYT1HRyhvKSxzPWkuZ2V0KGEpO2lmKHMpbi5zZXQoYSx7b2xkU2VyaWVzOlt7ZGl2aWRlOkZHKHMpLGRhdGE6c31dLG5ld1Nlcmllczpbe2RpdmlkZTpGRyhlKSxkYXRhOmV9XX0pO2Vsc2UgaWYoRihvKSl7dmFyIGw9W107TyhvLChmdW5jdGlvbih0KXt2YXIgZT1pLmdldCh0KTtlJiZsLnB1c2goe2RpdmlkZTpGRyhlKSxkYXRhOmV9KX0pKSxsLmxlbmd0aCYmbi5zZXQoYSx7b2xkU2VyaWVzOmwsbmV3U2VyaWVzOlt7ZGF0YTplLGRpdmlkZTpGRyhlKX1dfSl9ZWxzZXt2YXIgdT1yLmdldChvKTtpZih1KXt2YXIgaD1uLmdldCh1LmtleSk7aHx8KGg9e29sZFNlcmllczpbe2RhdGE6dS5kYXRhLGRpdmlkZTpGRyh1LmRhdGEpfV0sbmV3U2VyaWVzOltdfSxuLnNldCh1LmtleSxoKSksaC5uZXdTZXJpZXMucHVzaCh7ZGF0YTplLGRpdmlkZTpGRyhlKX0pfX19fSkpLG59KGksbik7TyhvLmtleXMoKSwoZnVuY3Rpb24odCl7dmFyIG49by5nZXQodCk7Vkcobi5vbGRTZXJpZXMsbi5uZXdTZXJpZXMsZSl9KSl9TyhuLnVwZGF0ZWRTZXJpZXMsKGZ1bmN0aW9uKHQpe3QuX191bml2ZXJzYWxUcmFuc2l0aW9uRW5hYmxlZCYmKHQuX191bml2ZXJzYWxUcmFuc2l0aW9uRW5hYmxlZD0hMSl9KSl9Zm9yKHZhciBhPXQuZ2V0U2VyaWVzKCkscz1pLm9sZFNlcmllcz1bXSxsPWkub2xkRGF0YT1bXSx1PTA7dTxhLmxlbmd0aDt1Kyspe3ZhciBoPWFbdV0uZ2V0RGF0YSgpO2guY291bnQoKTwxZTQmJihzLnB1c2goYVt1XSksbC5wdXNoKGgpKX19KSl9KSksem0oKGZ1bmN0aW9uKHQpe3QucmVnaXN0ZXJVcGRhdGVMaWZlY3ljbGUoInNlcmllczpiZWZvcmV1cGRhdGUiLChmdW5jdGlvbih0LGUsbil7dmFyIGk9RGIoZSkubGFiZWxNYW5hZ2VyO2l8fChpPURiKGUpLmxhYmVsTWFuYWdlcj1uZXcgQ2IpLGkuY2xlYXJMYWJlbHMoKX0pKSx0LnJlZ2lzdGVyVXBkYXRlTGlmZWN5Y2xlKCJzZXJpZXM6bGF5b3V0bGFiZWxzIiwoZnVuY3Rpb24odCxlLG4pe3ZhciBpPURiKGUpLmxhYmVsTWFuYWdlcjtuLnVwZGF0ZWRTZXJpZXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7aS5hZGRMYWJlbHNPZlNlcmllcyhlLmdldFZpZXdPZlNlcmllc01vZGVsKHQpKX0pKSxpLnVwZGF0ZUxheW91dENvbmZpZyhlKSxpLmxheW91dChlKSxpLnByb2Nlc3NMYWJlbHNPdmVyYWxsKCl9KSl9KSksdC5BeGlzPVd4LHQuQ2hhcnRWaWV3PVpmLHQuQ29tcG9uZW50TW9kZWw9bnAsdC5Db21wb25lbnRWaWV3PVdmLHQuTGlzdD11Xyx0Lk1vZGVsPVdoLHQuUFJJT1JJVFk9Q3YsdC5TZXJpZXNNb2RlbD1OZix0LmNvbG9yPWVuLHQuY29ubmVjdD1mdW5jdGlvbih0KXtpZihGKHQpKXt2YXIgZT10O3Q9bnVsbCxPKGUsKGZ1bmN0aW9uKGUpe251bGwhPWUuZ3JvdXAmJih0PWUuZ3JvdXApfSkpLHQ9dHx8ImdfIitmbSsrLE8oZSwoZnVuY3Rpb24oZSl7ZS5ncm91cD10fSkpfXJldHVybiBwbVt0XT0hMCx0fSx0LmRhdGFUb29sPXt9LHQuZGVwZW5kZW5jaWVzPXt6cmVuZGVyOiI1LjIuMSJ9LHQuZGlzQ29ubmVjdD15bSx0LmRpc2Nvbm5lY3Q9dm0sdC5kaXNwb3NlPWZ1bmN0aW9uKHQpeyJzdHJpbmciPT10eXBlb2YgdD90PWNtW3RdOnQgaW5zdGFuY2VvZiB0bXx8KHQ9bW0odCkpLHQgaW5zdGFuY2VvZiB0bSYmIXQuaXNEaXNwb3NlZCgpJiZ0LmRpc3Bvc2UoKX0sdC5lbnY9YSx0LmV4dGVuZENoYXJ0Vmlldz1mdW5jdGlvbih0KXt2YXIgZT1aZi5leHRlbmQodCk7cmV0dXJuIFpmLnJlZ2lzdGVyQ2xhc3MoZSksZX0sdC5leHRlbmRDb21wb25lbnRNb2RlbD1mdW5jdGlvbih0KXt2YXIgZT1ucC5leHRlbmQodCk7cmV0dXJuIG5wLnJlZ2lzdGVyQ2xhc3MoZSksZX0sdC5leHRlbmRDb21wb25lbnRWaWV3PWZ1bmN0aW9uKHQpe3ZhciBlPVdmLmV4dGVuZCh0KTtyZXR1cm4gV2YucmVnaXN0ZXJDbGFzcyhlKSxlfSx0LmV4dGVuZFNlcmllc01vZGVsPWZ1bmN0aW9uKHQpe3ZhciBlPU5mLmV4dGVuZCh0KTtyZXR1cm4gTmYucmVnaXN0ZXJDbGFzcyhlKSxlfSx0LmZvcm1hdD1MeCx0LmdldENvb3JkaW5hdGVTeXN0ZW1EaW1lbnNpb25zPWZ1bmN0aW9uKHQpe3ZhciBlPUdwLmdldCh0KTtpZihlKXJldHVybiBlLmdldERpbWVuc2lvbnNJbmZvP2UuZ2V0RGltZW5zaW9uc0luZm8oKTplLmRpbWVuc2lvbnMuc2xpY2UoKX0sdC5nZXRJbnN0YW5jZUJ5RG9tPW1tLHQuZ2V0SW5zdGFuY2VCeUlkPWZ1bmN0aW9uKHQpe3JldHVybiBjbVt0XX0sdC5nZXRNYXA9ZnVuY3Rpb24odCl7cmV0dXJuIGJ2KHQpfSx0LmdyYXBoaWM9a3gsdC5oZWxwZXI9Q3gsdC5pbml0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1tbSh0KTtpZihpKXJldHVybiBpO3ZhciByPW5ldyB0bSh0LGUsbik7cmV0dXJuIHIuaWQ9ImVjXyIrZG0rKyxjbVtyLmlkXT1yLEZyKHQsZ20sci5pZCkscXYociksU3YudHJpZ2dlcigiYWZ0ZXJpbml0IixyKSxyfSx0LmlubmVyRHJhd0VsZW1lbnRPbkNhbnZhcz1ieSx0Lm1hdHJpeD1Lbix0Lm51bWJlcj1EeCx0LnBhcnNlR2VvSlNPTj1zdix0LnBhcnNlR2VvSnNvbj1zdix0LnJlZ2lzdGVyQWN0aW9uPUltLHQucmVnaXN0ZXJDb29yZGluYXRlU3lzdGVtPVRtLHQucmVnaXN0ZXJMYXlvdXQ9Q20sdC5yZWdpc3RlckxvYWRpbmc9TG0sdC5yZWdpc3RlckxvY2FsZT1RaCx0LnJlZ2lzdGVyTWFwPVBtLHQucmVnaXN0ZXJQb3N0SW5pdD13bSx0LnJlZ2lzdGVyUG9zdFVwZGF0ZT1TbSx0LnJlZ2lzdGVyUHJlcHJvY2Vzc29yPXhtLHQucmVnaXN0ZXJQcm9jZXNzb3I9Ym0sdC5yZWdpc3RlclRoZW1lPV9tLHQucmVnaXN0ZXJUcmFuc2Zvcm09T20sdC5yZWdpc3RlclVwZGF0ZUxpZmVjeWNsZT1NbSx0LnJlZ2lzdGVyVmlzdWFsPURtLHQuc2V0Q2FudmFzQ3JlYXRvcj1mdW5jdGlvbih0KXtfKCJjcmVhdGVDYW52YXMiLHQpfSx0LnRocm90dGxlPW5nLHQudGltZT1BeCx0LnVzZT16bSx0LnV0aWw9UHgsdC52ZWN0b3I9VnQsdC52ZXJzaW9uPSI1LjIuMiIsdC56clV0aWw9eXQsdC56cmVuZGVyPVlpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0pKTsK"></script>
<script src="data:application/javascript;base64,IWZ1bmN0aW9uKHIsbil7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1uKCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sbik6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuZWNTdGF0PW4oKTpyLmVjU3RhdD1uKCl9KHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihlKXtpZih0W2VdKXJldHVybiB0W2VdLmV4cG9ydHM7dmFyIG89dFtlXT17ZXhwb3J0czp7fSxpZDplLGxvYWRlZDohMX07cmV0dXJuIHJbZV0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsbiksby5sb2FkZWQ9ITAsby5leHBvcnRzfXZhciB0PXt9O3JldHVybiBuLm09cixuLmM9dCxuLnA9IiIsbigwKX0oW2Z1bmN0aW9uKHIsbix0KXtyLmV4cG9ydHM9dCgxMil9LGZ1bmN0aW9uKHIsbix0KXt2YXIgZTtlPWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIG4ocil7cmV0dXJuIHI9bnVsbD09PXI/TmFOOityLCJudW1iZXIiPT10eXBlb2YgciYmIWlzTmFOKHIpfWZ1bmN0aW9uIHQocil7cmV0dXJuIGlzRmluaXRlKHIpJiZyPT09TWF0aC5yb3VuZChyKX1yZXR1cm57aXNOdW1iZXI6bixpc0ludGVnZXI6dH19LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7cmV0dXJuIGZ1bmN0aW9uKHIsbil7dmFyIHQ9ci5sZW5ndGg7aWYoIXQpcmV0dXJuIDA7aWYobjw9MHx8dDwyKXJldHVybiByWzBdO2lmKG4+PTEpcmV0dXJuIHJbdC0xXTt2YXIgZT0odC0xKSpuLG89TWF0aC5mbG9vcihlKSxhPXJbb10sdT1yW28rMV07cmV0dXJuIGErKHUtYSkqKGUtbyl9fS5jYWxsKG4sdCxuLHIpLCEodm9pZCAwIT09ZSYmKHIuZXhwb3J0cz1lKSl9LGZ1bmN0aW9uKHIsbix0KXt2YXIgZTtlPWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIG4ocil7Zm9yKHZhciBuPVtdO3Qocik7KW4ucHVzaChyLmxlbmd0aCkscj1yWzBdO3JldHVybiBufWZ1bmN0aW9uIHQocil7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PWwuY2FsbChyKX1mdW5jdGlvbiBlKHIsbil7Zm9yKHZhciB0PVtdLGU9MDtlPHI7ZSsrKXt0W2VdPVtdO2Zvcih2YXIgbz0wO288bjtvKyspdFtlXVtvXT0wfXJldHVybiB0fWZ1bmN0aW9uIG8ocil7Zm9yKHZhciBuPTAsdD0wO3Q8ci5sZW5ndGg7dCsrKW4rPXJbdF07cmV0dXJuIG59ZnVuY3Rpb24gYShyLG4pe2Zvcih2YXIgdD0wLGU9MDtlPHIubGVuZ3RoO2UrKyl0Kz1yW2VdW25dO3JldHVybiB0fWZ1bmN0aW9uIHUocixuKXtyZXR1cm4gcj5uPzE6cjxuPy0xOnI9PT1uPzA6TmFOfWZ1bmN0aW9uIGkocixuLHQsZSl7Zm9yKG51bGw9PXQmJih0PTApLG51bGw9PWUmJihlPXIubGVuZ3RoKTt0PGU7KXt2YXIgbz1NYXRoLmZsb29yKCh0K2UpLzIpLGE9dShyW29dLG4pO2lmKGE+MCllPW87ZWxzZXtpZighKGE8MCkpcmV0dXJuIG8rMTt0PW8rMX19cmV0dXJuIHR9ZnVuY3Rpb24gZihyLG4sdCl7aWYociYmbil7aWYoci5tYXAmJnIubWFwPT09aClyZXR1cm4gci5tYXAobix0KTtmb3IodmFyIGU9W10sbz0wLGE9ci5sZW5ndGg7bzxhO28rKyllLnB1c2gobi5jYWxsKHQscltvXSxvLHIpKTtyZXR1cm4gZX19dmFyIGw9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxzPUFycmF5LnByb3RvdHlwZSxoPXMubWFwO3JldHVybntzaXplOm4saXNBcnJheTp0LHplcm9zOmUsc3VtOm8sc3VtT2ZDb2x1bW46YSxhc2NlbmRpbmc6dSxiaXNlY3Q6aSxtYXA6Zn19LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihyKXtpZighbyhyKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgZGF0YSB0eXBlLCB5b3Ugc2hvdWxkIGlucHV0IGFuIGFycmF5Iik7dmFyIG49W10sdD1hKHIpO2lmKDE9PT10Lmxlbmd0aClmb3IodmFyIGU9MDtlPHRbMF07ZSsrKWkocltlXSkmJm4ucHVzaChyW2VdKTtlbHNlIGlmKDI9PT10Lmxlbmd0aClmb3IodmFyIGU9MDtlPHRbMF07ZSsrKXtmb3IodmFyIHU9ITAsZj0wO2Y8dFsxXTtmKyspaShyW2VdW2ZdKXx8KHU9ITEpO3UmJm4ucHVzaChyW2VdKX1yZXR1cm4gbn12YXIgZT10KDMpLG89ZS5pc0FycmF5LGE9ZS5zaXplLHU9dCgxKSxpPXUuaXNOdW1iZXI7cmV0dXJuIG59LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7dmFyIG49dCg5KTtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIHQ9bihyKTtyZXR1cm4gdD9NYXRoLnNxcnQodCk6dH19LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihyKXtmb3IodmFyIG49LSgxLzApLHQ9MDt0PHIubGVuZ3RoO3QrKylvKHJbdF0pJiZyW3RdPm4mJihuPXJbdF0pO3JldHVybiBufXZhciBlPXQoMSksbz1lLmlzTnVtYmVyO3JldHVybiBufS5jYWxsKG4sdCxuLHIpLCEodm9pZCAwIT09ZSYmKHIuZXhwb3J0cz1lKSl9LGZ1bmN0aW9uKHIsbix0KXt2YXIgZTtlPWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIG4ocil7dmFyIG49ci5sZW5ndGg7cmV0dXJuIG4/ZShyKS9yLmxlbmd0aDowfXZhciBlPXQoMTApO3JldHVybiBufS5jYWxsKG4sdCxuLHIpLCEodm9pZCAwIT09ZSYmKHIuZXhwb3J0cz1lKSl9LGZ1bmN0aW9uKHIsbix0KXt2YXIgZTtlPWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIG4ocil7Zm9yKHZhciBuPTEvMCx0PTA7dDxyLmxlbmd0aDt0KyspbyhyW3RdKSYmclt0XTxuJiYobj1yW3RdKTtyZXR1cm4gbn12YXIgZT10KDEpLG89ZS5pc051bWJlcjtyZXR1cm4gbn0uY2FsbChuLHQsbixyKSwhKHZvaWQgMCE9PWUmJihyLmV4cG9ydHM9ZSkpfSxmdW5jdGlvbihyLG4sdCl7dmFyIGU7ZT1mdW5jdGlvbihyKXtmdW5jdGlvbiBuKHIpe3ZhciBuPXIubGVuZ3RoO2lmKCFufHxuPDIpcmV0dXJuIDA7aWYoci5sZW5ndGg+PTIpe2Zvcih2YXIgdCxlPWEociksdT0wLGk9MDtpPHIubGVuZ3RoO2krKylvKHJbaV0pJiYodD1yW2ldLWUsdSs9dCp0KTtyZXR1cm4gdS9yLmxlbmd0aC0xfX12YXIgZT10KDEpLG89ZS5pc051bWJlcixhPXQoNyk7cmV0dXJuIG59LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihyKXt2YXIgbj1yLmxlbmd0aDtpZighbilyZXR1cm4gMDtmb3IodmFyIHQ9MCxlPTA7ZTxuO2UrKylvKHJbZV0pJiYodCs9cltlXSk7cmV0dXJuIHR9dmFyIGU9dCgxKSxvPWUuaXNOdW1iZXI7cmV0dXJuIG59LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihyLG4pe2Zvcih2YXIgdCxvLGksZixzPWwociksaD1jKHNbMF0sMiksdj1hKHIsbikscD0hMDtwOyl7cD0hMTtmb3IodmFyIGQ9MDtkPHNbMF07ZCsrKXt0PTEvMCxvPS0xO2Zvcih2YXIgTT0wO008bjtNKyspaT11KHJbZF0sdltNXSksaTx0JiYodD1pLG89TSk7aFtkXVswXSE9PW8mJihwPSEwKSxoW2RdWzBdPW8saFtkXVsxXT1nKHQsMil9Zm9yKHZhciBkPTA7ZDxuO2QrKyl7Zj1bXTtmb3IodmFyIE09MDtNPGgubGVuZ3RoO00rKyloW01dWzBdPT09ZCYmZi5wdXNoKHJbTV0pO3ZbZF09ZShmKX19dmFyIHg9e2NlbnRyb2lkczp2LGNsdXN0ZXJBc3NpZ25lZDpofTtyZXR1cm4geH1mdW5jdGlvbiBlKHIpe2Zvcih2YXIgbix0LGU9bChyKSxvPVtdLGE9MDthPGVbMV07YSsrKXtuPTA7Zm9yKHZhciB1PTA7dTxlWzBdO3UrKyluKz1yW3VdW2FdO3Q9bi9lWzBdLG8ucHVzaCh0KX1yZXR1cm4gb31mdW5jdGlvbiBvKHIsdCxvKXtmdW5jdGlvbiBhKCl7aWYoRTx0KXt5PTEvMDtmb3IodmFyIHIsZSxvLGE9MDthPHgubGVuZ3RoO2ErKyl7Yj1bXSx3PVtdO2Zvcih2YXIgdT0wO3U8ZC5sZW5ndGg7dSsrKWRbdV1bMF09PT1hP2IucHVzaCh2W3VdKTp3LnB1c2goZFt1XVsxXSk7Tj1uKGIsMiksQT1zKE4uY2x1c3RlckFzc2lnbmVkLDEpLHE9aCh3KSxBK3E8eSYmKHk9cStBLHI9YSxlPU4uY2VudHJvaWRzLG89Ti5jbHVzdGVyQXNzaWduZWQpfWZvcih2YXIgdT0wO3U8by5sZW5ndGg7dSsrKTA9PT1vW3VdWzBdP29bdV1bMF09cjoxPT09b1t1XVswXSYmKG9bdV1bMF09eC5sZW5ndGgpO2Zvcih4W3JdPWVbMF0seC5wdXNoKGVbMV0pLHU9MCxhPTA7dTxkLmxlbmd0aCYmYTxvLmxlbmd0aDt1KyspZFt1XVswXT09PXImJihkW3VdWzBdPW9bYV1bMF0sZFt1XVsxXT1vW2ErK11bMV0pO2Zvcih2YXIgaT1bXSx1PTA7dTx4Lmxlbmd0aDt1Kyspe2lbdV09W107Zm9yKHZhciBhPTA7YTxkLmxlbmd0aDthKyspZFthXVswXT09PXUmJmlbdV0ucHVzaCh2W2FdKX1qLmNsdXN0ZXJBc3NtZW50PWQsai5jZW50cm9pZHM9eCxqLnBvaW50c0luQ2x1c3Rlcj1pLEUrK31lbHNlIGouaXNFbmQ9ITA7cmV0dXJuIGp9Zm9yKHZhciBmLHY9aShyKSxwPWwodiksZD1jKHBbMF0sMiksTT1lKHYpLHg9W01dLG09MDttPHBbMF07bSsrKWY9dSh2W21dLE0pLGRbbV1bMV09ZyhmLDIpO3ZhciB5LGIsdyxOLEEscSxFPTEsaj17aXNFbmQ6ITF9LHo9e25leHQ6YX07aWYobylyZXR1cm4gejtmb3IodmFyIGo7IShqPXoubmV4dCgpKS5pc0VuZDspO3JldHVybiBqfWZ1bmN0aW9uIGEocixuKXtmb3IodmFyIHQsZSxvLGE9bChyKSx1PWMobixhWzFdKSxpPTA7aTxhWzFdO2krKyl7dD1yWzBdW2ldLGU9clswXVtpXTtmb3IodmFyIGY9MTtmPGFbMF07ZisrKXJbZl1baV08dCYmKHQ9cltmXVtpXSkscltmXVtpXT5lJiYoZT1yW2ZdW2ldKTtvPWUtdDtmb3IodmFyIGY9MDtmPG47ZisrKXVbZl1baV09dCtvKk1hdGgucmFuZG9tKCl9cmV0dXJuIHV9ZnVuY3Rpb24gdShyLG4pe2lmKCF2KHIpJiYhdihuKSlyZXR1cm4gcChnKHItbiwyKSk7Zm9yKHZhciB0PTAsZT0wO2U8ci5sZW5ndGg7ZSsrKXQrPWcocltlXS1uW2VdLDIpO3JldHVybiBwKHQpfXZhciBpPXQoNCksZj10KDMpLGw9Zi5zaXplLHM9Zi5zdW1PZkNvbHVtbixoPWYuc3VtLGM9Zi56ZXJvcyx2PWYuaXNBcnJheSxwPU1hdGguc3FydCxnPU1hdGgucG93O3JldHVybntrTWVhbnM6bixoaWVyYXJjaGljYWxLTWVhbnM6b319LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7cmV0dXJue2NsdXN0ZXJpbmc6dCgxMSkscmVncmVzc2lvbjp0KDE0KSxzdGF0aXN0aWNzOnQoMTUpLGhpc3RvZ3JhbTp0KDEzKX19LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihyLG4pe249bnVsbD09bj9wLnNxdWFyZVJvb3Q6cFtuXTtmb3IodmFyIHQ9aShyKSxhPWUodCksdT1vKHQpLGY9bih0LHUsYSksbD12KHUsYSxmKSxnPWgoTWF0aC5jZWlsKHUvbCkqbCxNYXRoLmZsb29yKGEvbCkqbCxsKSxkPWcubGVuZ3RoLE09bmV3IEFycmF5KGQrMSkseD0wO3g8PWQ7eCsrKU1beF09e30sTVt4XS5zYW1wbGU9W10sTVt4XS54MD14PjA/Z1t4LTFdOmdbeF0tdT09PWw/dTpnW3hdLWwsTVt4XS54MT14PGQ/Z1t4XTphLWdbeC0xXT09PWw/YTpnW3gtMV0rbDtmb3IodmFyIHg9MDt4PHQubGVuZ3RoO3grKyl1PD10W3hdJiZ0W3hdPD1hJiZNW2MoZyx0W3hdLDAsZCldLnNhbXBsZS5wdXNoKHRbeF0pO3ZhciByPXMoTSxmdW5jdGlvbihyKXtyZXR1cm5bKHIueDArci54MSkvMixyLnNhbXBsZS5sZW5ndGhdfSk7cmV0dXJue2JpbnM6TSxkYXRhOnJ9fXZhciBlPXQoNiksbz10KDgpLGE9dCgyKSx1PXQoNSksaT10KDQpLGY9dCgzKSxsPWYuYXNjZW5kaW5nLHM9Zi5tYXAsaD10KDE3KSxjPWYuYmlzZWN0LHY9dCgxOCkscD17c3F1YXJlUm9vdDpmdW5jdGlvbihyKXt2YXIgbj1NYXRoLmNlaWwoTWF0aC5zcXJ0KHIubGVuZ3RoKSk7cmV0dXJuIG4+NTA/NTA6bn0sc2NvdHQ6ZnVuY3Rpb24ocixuLHQpe3JldHVybiBNYXRoLmNlaWwoKHQtbikvKDMuNSp1KHIpKk1hdGgucG93KHIubGVuZ3RoLC0xLzMpKSl9LGZyZWVkbWFuRGlhY29uaXM6ZnVuY3Rpb24ocixuLHQpe3JldHVybiByLnNvcnQobCksTWF0aC5jZWlsKCh0LW4pLygyKihhKHIsLjc1KS1hKHIsLjI1KSkqTWF0aC5wb3coci5sZW5ndGgsLTEvMykpKX0sc3R1cmdlczpmdW5jdGlvbihyKXtyZXR1cm4gTWF0aC5jZWlsKE1hdGgubG9nKHIubGVuZ3RoKS9NYXRoLkxOMikrMX19O3JldHVybiBufS5jYWxsKG4sdCxuLHIpLCEodm9pZCAwIT09ZSYmKHIuZXhwb3J0cz1lKSl9LGZ1bmN0aW9uKHIsbix0KXt2YXIgZTtlPWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIG4ocixuKXtmb3IodmFyIHQ9MDt0PHIubGVuZ3RoLTE7dCsrKXtmb3IodmFyIGU9dCxvPXQrMTtvPHIubGVuZ3RoLTE7bysrKU1hdGguYWJzKHJbdF1bb10pPk1hdGguYWJzKHJbdF1bZV0pJiYoZT1vKTtmb3IodmFyIGE9dDthPHIubGVuZ3RoO2ErKyl7dmFyIHU9clthXVt0XTtyW2FdW3RdPXJbYV1bZV0sclthXVtlXT11fWZvcih2YXIgaT10KzE7aTxyLmxlbmd0aC0xO2krKylmb3IodmFyIGY9ci5sZW5ndGgtMTtmPj10O2YtLSlyW2ZdW2ldLT1yW2ZdW3RdL3JbdF1bdF0qclt0XVtpXX1mb3IodmFyIGw9bmV3IEFycmF5KG4pLHM9ci5sZW5ndGgtMSxvPXIubGVuZ3RoLTI7bz49MDtvLS0pe2Zvcih2YXIgdT0wLHQ9bysxO3Q8ci5sZW5ndGgtMTt0KyspdSs9clt0XVtvXSpsW3RdO2xbb109KHJbc11bb10tdSkvcltvXVtvXX1yZXR1cm4gbH12YXIgZT10KDQpLG89e2xpbmVhcjpmdW5jdGlvbihyKXtmb3IodmFyIG49ZShyKSx0PTAsbz0wLGE9MCx1PTAsaT1uLmxlbmd0aCxmPTA7ZjxpO2YrKyl0Kz1uW2ZdWzBdLG8rPW5bZl1bMV0sYSs9bltmXVswXSpuW2ZdWzFdLHUrPW5bZl1bMF0qbltmXVswXTtmb3IodmFyIGw9KGkqYS10Km8pLyhpKnUtdCp0KSxzPW8vaS1sKnQvaSxoPVtdLGM9MDtjPG4ubGVuZ3RoO2MrKyl7dmFyIHY9W25bY11bMF0sbCpuW2NdWzBdK3NdO2gucHVzaCh2KX12YXIgcD0ieSA9ICIrTWF0aC5yb3VuZCgxMDAqbCkvMTAwKyJ4ICsgIitNYXRoLnJvdW5kKDEwMCpzKS8xMDA7cmV0dXJue3BvaW50czpoLHBhcmFtZXRlcjp7Z3JhZGllbnQ6bCxpbnRlcmNlcHQ6c30sZXhwcmVzc2lvbjpwfX0sbGluZWFyVGhyb3VnaE9yaWdpbjpmdW5jdGlvbihyKXtmb3IodmFyIG49ZShyKSx0PTAsbz0wLGE9MDthPG4ubGVuZ3RoO2ErKyl0Kz1uW2FdWzBdKm5bYV1bMF0sbys9blthXVswXSpuW2FdWzFdO2Zvcih2YXIgdT1vL3QsaT1bXSxmPTA7ZjxuLmxlbmd0aDtmKyspe3ZhciBsPVtuW2ZdWzBdLG5bZl1bMF0qdV07aS5wdXNoKGwpfXZhciBzPSJ5ID0gIitNYXRoLnJvdW5kKDEwMCp1KS8xMDArIngiO3JldHVybntwb2ludHM6aSxwYXJhbWV0ZXI6e2dyYWRpZW50OnV9LGV4cHJlc3Npb246c319LGV4cG9uZW50aWFsOmZ1bmN0aW9uKHIpe2Zvcih2YXIgbj1lKHIpLHQ9MCxvPTAsYT0wLHU9MCxpPTAsZj0wLGw9MDtsPG4ubGVuZ3RoO2wrKyl0Kz1uW2xdWzBdLG8rPW5bbF1bMV0sZis9bltsXVswXSpuW2xdWzFdLGErPW5bbF1bMF0qbltsXVswXSpuW2xdWzFdLHUrPW5bbF1bMV0qTWF0aC5sb2cobltsXVsxXSksaSs9bltsXVswXSpuW2xdWzFdKk1hdGgubG9nKG5bbF1bMV0pO2Zvcih2YXIgcz1vKmEtZipmLGg9TWF0aC5wb3coTWF0aC5FLChhKnUtZippKS9zKSxjPShvKmktZip1KS9zLHY9W10scD0wO3A8bi5sZW5ndGg7cCsrKXt2YXIgZz1bbltwXVswXSxoKk1hdGgucG93KE1hdGguRSxjKm5bcF1bMF0pXTt2LnB1c2goZyl9dmFyIGQ9InkgPSAiK01hdGgucm91bmQoMTAwKmgpLzEwMCsiZV4oIitNYXRoLnJvdW5kKDEwMCpjKS8xMDArIngpIjtyZXR1cm57cG9pbnRzOnYscGFyYW1ldGVyOntjb2VmZmljaWVudDpoLGluZGV4OmN9LGV4cHJlc3Npb246ZH19LGxvZ2FyaXRobWljOmZ1bmN0aW9uKHIpe2Zvcih2YXIgbj1lKHIpLHQ9MCxvPTAsYT0wLHU9MCxpPTA7aTxuLmxlbmd0aDtpKyspdCs9TWF0aC5sb2cobltpXVswXSksbys9bltpXVsxXSpNYXRoLmxvZyhuW2ldWzBdKSxhKz1uW2ldWzFdLHUrPU1hdGgucG93KE1hdGgubG9nKG5baV1bMF0pLDIpO2Zvcih2YXIgZj0oaSpvLWEqdCkvKGkqdS10KnQpLGw9KGEtZip0KS9pLHM9W10saD0wO2g8bi5sZW5ndGg7aCsrKXt2YXIgYz1bbltoXVswXSxmKk1hdGgubG9nKG5baF1bMF0pK2xdO3MucHVzaChjKX12YXIgdj0ieSA9ICIrTWF0aC5yb3VuZCgxMDAqbCkvMTAwKyIgKyAiK01hdGgucm91bmQoMTAwKmYpLzEwMCsibG4oeCkiO3JldHVybntwb2ludHM6cyxwYXJhbWV0ZXI6e2dyYWRpZW50OmYsaW50ZXJjZXB0Omx9LGV4cHJlc3Npb246dn19LHBvbHlub21pYWw6ZnVuY3Rpb24ocix0KXt2YXIgbz1lKHIpOyJ1bmRlZmluZWQiPT10eXBlb2YgdCYmKHQ9Mik7Zm9yKHZhciBhPVtdLHU9W10saT10KzEsZj0wO2Y8aTtmKyspe2Zvcih2YXIgbD0wLHM9MDtzPG8ubGVuZ3RoO3MrKylsKz1vW3NdWzFdKk1hdGgucG93KG9bc11bMF0sZik7dS5wdXNoKGwpO2Zvcih2YXIgaD1bXSxjPTA7YzxpO2MrKyl7Zm9yKHZhciB2PTAscD0wO3A8by5sZW5ndGg7cCsrKXYrPU1hdGgucG93KG9bcF1bMF0sZitjKTtoLnB1c2godil9YS5wdXNoKGgpfWEucHVzaCh1KTtmb3IodmFyIGc9bihhLGkpLGQ9W10sZj0wO2Y8by5sZW5ndGg7ZisrKXtmb3IodmFyIE09MCxzPTA7czxnLmxlbmd0aDtzKyspTSs9Z1tzXSpNYXRoLnBvdyhvW2ZdWzBdLHMpO2QucHVzaChbb1tmXVswXSxNXSl9Zm9yKHZhciB4PSJ5ID0gIixmPWcubGVuZ3RoLTE7Zj49MDtmLS0peCs9Zj4xP01hdGgucm91bmQoZ1tmXSpNYXRoLnBvdygxMCxmKzEpKS9NYXRoLnBvdygxMCxmKzEpKyJ4XiIrZisiICsgIjoxPT09Zj9NYXRoLnJvdW5kKDEwMCpnW2ZdKS8xMDArInggKyAiOk1hdGgucm91bmQoMTAwKmdbZl0pLzEwMDtyZXR1cm57cG9pbnRzOmQscGFyYW1ldGVyOmcsZXhwcmVzc2lvbjp4fX19LGE9ZnVuY3Rpb24ocixuLHQpe3JldHVybiBvW3JdKG4sdCl9O3JldHVybiBhfS5jYWxsKG4sdCxuLHIpLCEodm9pZCAwIT09ZSYmKHIuZXhwb3J0cz1lKSl9LGZ1bmN0aW9uKHIsbix0KXt2YXIgZTtlPWZ1bmN0aW9uKHIpe3ZhciBuPXt9O3JldHVybiBuLm1heD10KDYpLG4uZGV2aWF0aW9uPXQoNSksbi5tZWFuPXQoNyksbi5tZWRpYW49dCgxNiksbi5taW49dCg4KSxuLm1heD10KDIpLG4ubWF4PXQoOSksbi5zdW09dCgxMCksbn0uY2FsbChuLHQsbixyKSwhKHZvaWQgMCE9PWUmJihyLmV4cG9ydHM9ZSkpfSxmdW5jdGlvbihyLG4sdCl7dmFyIGU7ZT1mdW5jdGlvbihyKXtmdW5jdGlvbiBuKHIpe3JldHVybiBlKHIsLjUpfXZhciBlPXQoMik7cmV0dXJuIG59LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7cmV0dXJuIGZ1bmN0aW9uKHIsbix0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoO2U8Mj8obj1yLHI9MCx0PTEpOnQ9ZTwzPzE6K3Q7Zm9yKHZhciBvPU1hdGguY2VpbCgobi1yKS90KSxhPW5ldyBBcnJheShvKzEpLHU9MDt1PG8rMTt1KyspYVt1XT1yK3UqdDtyZXR1cm4gYX19LmNhbGwobix0LG4sciksISh2b2lkIDAhPT1lJiYoci5leHBvcnRzPWUpKX0sZnVuY3Rpb24ocixuLHQpe3ZhciBlO2U9ZnVuY3Rpb24ocil7cmV0dXJuIGZ1bmN0aW9uKHIsbix0KXt2YXIgZT1NYXRoLmFicyhuLXIpL3Qsbz1NYXRoLnBvdygxMCxNYXRoLmZsb29yKE1hdGgubG9nKGUpL01hdGguTE4xMCkpLGE9ZS9vO3JldHVybiBhPj1NYXRoLnNxcnQoNTApP28qPTEwOmE+PU1hdGguc3FydCgxMCk/byo9NTphPj1NYXRoLnNxcnQoMikmJihvKj0yKSxuPj1yP286LW99fS5jYWxsKG4sdCxuLHIpLCEodm9pZCAwIT09ZSYmKHIuZXhwb3J0cz1lKSl9XSl9KTs="></script>
<script src="data:application/javascript;base64,Ci8qCiogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZQoqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQoqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uCiogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQoqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUKKiAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlCiogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywKKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbgoqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQoqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQoqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMKKiB1bmRlciB0aGUgTGljZW5zZS4KKi8KCgohZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlP3QoZXhwb3J0cyxyZXF1aXJlKCJlY2hhcnRzIikpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsiZXhwb3J0cyIsImVjaGFydHMiXSx0KTp0KChlPWV8fHNlbGYpLmRhdGFUb29sPXt9LGUuZWNoYXJ0cyl9KHRoaXMsZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dmFyIHI9QXJyYXkucHJvdG90eXBlLGk9ci5zbGljZSxsPXIubWFwLG89ZnVuY3Rpb24oKXt9LmNvbnN0cnVjdG9yLHI9bz9vLnByb3RvdHlwZTpudWxsO2Z1bmN0aW9uIGEoZSx0LHIpe2lmKCFlKXJldHVybltdO2lmKCF0KXJldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gaS5hcHBseShlLHQpfShlKTtpZihlLm1hcCYmZS5tYXA9PT1sKXJldHVybiBlLm1hcCh0LHIpO2Zvcih2YXIgbz1bXSxuPTAsYT1lLmxlbmd0aDtuPGE7bisrKW8ucHVzaCh0LmNhbGwocixlW25dLG4sZSkpO3JldHVybiBvfXImJiJmdW5jdGlvbiI9PXR5cGVvZiByLmJpbmQmJnIuY2FsbC5iaW5kKHIuYmluZCk7ZnVuY3Rpb24gcChlLHQpe3JldHVybiBlLmdldEF0dHJpYnV0ZSh0KX1mdW5jdGlvbiBjKGUsdCl7Zm9yKHZhciByPWUuZmlyc3RDaGlsZDtyOyl7aWYoMT09PXIubm9kZVR5cGUmJnIubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKSlyZXR1cm4gcjtyPXIubmV4dFNpYmxpbmd9cmV0dXJuIG51bGx9ZnVuY3Rpb24gZChlLHQpe2Zvcih2YXIgcj1lLmZpcnN0Q2hpbGQsbz1bXTtyOylyLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCkmJm8ucHVzaChyKSxyPXIubmV4dFNpYmxpbmc7cmV0dXJuIG99bz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxwYXJzZTpmdW5jdGlvbihlKXtpZighKHQ9InN0cmluZyI9PXR5cGVvZiBlPyhuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZSwidGV4dC94bWwiKTplKXx8dC5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGgpcmV0dXJuIG51bGw7aWYoIShlPWModCwiZ2V4ZiIpKSlyZXR1cm4gbnVsbDtmb3IodmFyIGYsdD1jKGUsImdyYXBoIikscj0oZT1jKHQsImF0dHJpYnV0ZXMiKSk/YShkKGUsImF0dHJpYnV0ZSIpLGZ1bmN0aW9uKGUpe3JldHVybntpZDpwKGUsImlkIiksdGl0bGU6cChlLCJ0aXRsZSIpLHR5cGU6cChlLCJ0eXBlIil9fSk6W10sbz17fSxuPTA7bjxyLmxlbmd0aDtuKyspb1tyW25dLmlkXT1yW25dO3JldHVybntub2RlczooZT1jKHQsIm5vZGVzIiksZj1vLGU/YShkKGUsIm5vZGUiKSxmdW5jdGlvbihlKXt2YXIgdD17aWQ6cChlLCJpZCIpLG5hbWU6cChlLCJsYWJlbCIpLGl0ZW1TdHlsZTp7bm9ybWFsOnt9fX0scj1jKGUsInZpejpzaXplIiksbz1jKGUsInZpejpwb3NpdGlvbiIpLG49YyhlLCJ2aXo6Y29sb3IiKSxlPWMoZSwiYXR0dmFsdWVzIik7aWYociYmKHQuc3ltYm9sU2l6ZT1wYXJzZUZsb2F0KHAociwidmFsdWUiKSkpLG8mJih0Lng9cGFyc2VGbG9hdChwKG8sIngiKSksdC55PXBhcnNlRmxvYXQocChvLCJ5IikpKSxuJiYodC5pdGVtU3R5bGUubm9ybWFsLmNvbG9yPSJyZ2IoIitbMHxwKG4sInIiKSwwfHAobiwiZyIpLDB8cChuLCJiIildLmpvaW4oIiwiKSsiKSIpLGUpe3ZhciBhPWQoZSwiYXR0dmFsdWUiKTt0LmF0dHJpYnV0ZXM9e307Zm9yKHZhciBpPTA7aTxhLmxlbmd0aDtpKyspe3ZhciBsPWFbaV0sdT1wKGwsImZvciIpLHM9cChsLCJ2YWx1ZSIpLGw9Zlt1XTtpZihsKXtzd2l0Y2gobC50eXBlKXtjYXNlImludGVnZXIiOmNhc2UibG9uZyI6cz1wYXJzZUludChzLDEwKTticmVhaztjYXNlImZsb2F0IjpjYXNlImRvdWJsZSI6cz1wYXJzZUZsb2F0KHMpO2JyZWFrO2Nhc2UiYm9vbGVhbiI6cz0idHJ1ZSI9PT1zLnRvTG93ZXJDYXNlKCl9dC5hdHRyaWJ1dGVzW3VdPXN9fX1yZXR1cm4gdH0pOltdKSxsaW5rczoodD1jKHQsImVkZ2VzIikpP2EoZCh0LCJlZGdlIiksZnVuY3Rpb24oZSl7dmFyIHQ9e2lkOnAoZSwiaWQiKSxuYW1lOnAoZSwibGFiZWwiKSxzb3VyY2U6cChlLCJzb3VyY2UiKSx0YXJnZXQ6cChlLCJ0YXJnZXQiKSxsaW5lU3R5bGU6e25vcm1hbDp7fX19LHI9dC5saW5lU3R5bGUubm9ybWFsLG89YyhlLCJ2aXo6dGhpY2tuZXNzIiksZT1jKGUsInZpejpjb2xvciIpO3JldHVybiBvJiYoci53aWR0aD1wYXJzZUZsb2F0KG8uZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpKSksZSYmKHIuY29sb3I9InJnYigiK1swfHAoZSwiciIpLDB8cChlLCJnIiksMHxwKGUsImIiKV0uam9pbigiLCIpKyIpIiksdH0pOltdfX19KTtmdW5jdGlvbiB5KGUsdCl7dmFyIHI9KGUubGVuZ3RoLTEpKnQrMSxvPU1hdGguZmxvb3IociksdD0rZVtvLTFdLHI9ci1vO3JldHVybiByP3QrciooZVtvXS10KTp0fWZ1bmN0aW9uIG4oZSx0KXtmb3IodmFyIHI9W10sbz1bXSxuPVtdLGE9KHQ9dHx8e30pLmJvdW5kSVFSLGk9Im5vbmUiPT09YXx8MD09PWEsbD0wO2w8ZS5sZW5ndGg7bCsrKXtuLnB1c2gobCsiIik7dmFyIHU9KChnPWVbbF0uc2xpY2UoKSkuc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBlLXR9KSxnKSxzPXkodSwuMjUpLGY9eSh1LC41KSxwPXkodSwuNzUpLGM9dVswXSxkPXVbdS5sZW5ndGgtMV0sZz0obnVsbD09YT8xLjU6YSkqKHAtcyksdj1pP2M6TWF0aC5tYXgoYyxzLWcpLGI9aT9kOk1hdGgubWluKGQscCtnKTtyLnB1c2goW3YscyxmLHAsYl0pO2Zvcih2YXIgaD0wO2g8dS5sZW5ndGg7aCsrKXt2YXIgbT11W2hdOyhtPHZ8fGI8bSkmJihtPVtsLG1dLCJ2ZXJ0aWNhbCI9PT10LmxheW91dCYmbS5yZXZlcnNlKCksby5wdXNoKG0pKX19cmV0dXJue2JveERhdGE6cixvdXRsaWVyczpvLGF4aXNEYXRhOm59fXI9IjEuMC4wIjt0LmRhdGFUb29sJiYodC5kYXRhVG9vbC52ZXJzaW9uPXIsdC5kYXRhVG9vbC5nZXhmPW8sdC5kYXRhVG9vbC5wcmVwYXJlQm94cGxvdERhdGE9biksZS5nZXhmPW8sZS5wcmVwYXJlQm94cGxvdERhdGE9bixlLnZlcnNpb249cixPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9KTs="></script>
<script src="data:application/javascript;base64,SFRNTFdpZGdldHMud2lkZ2V0KHsKCiAgbmFtZTogJ2VjaGFydHM0cicsCgogIHR5cGU6ICdvdXRwdXQnLAoKICBmYWN0b3J5OiBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCkgewogICAgCiAgICB2YXIgaW5pdGlhbGl6ZWQgPSBmYWxzZTsKCiAgICB2YXIgY2hhcnQsb3B0czsKCiAgICBjb25zdCBldmFsRnVuID0gKHNvdXJjZU9wdHMpID0+IHsKICAgICAgbGV0IG9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBzb3VyY2VPcHRzKTsKICAgICAgT2JqZWN0LmtleXMob3B0cykuZm9yRWFjaCgoa2V5KSA9PiB7CiAgICAgICAgaWYgKG9wdHNba2V5XSAhPT0gbnVsbCkgewogICAgICAgICAgaWYgKHR5cGVvZiBvcHRzW2tleV0gPT09ICdvYmplY3QnKSB7CiAgICAgICAgICAgIGV2YWxGdW4ob3B0c1trZXldKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHR5cGVvZiBvcHRzW2tleV0gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgb3B0c1trZXldID0gZXZhbCgnKCcgKyBvcHRzW2tleV0gKyAnKScpOwogICAgICAgICAgICB9IGNhdGNoIHsgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybihvcHRzKTsKICAgIH0KICAgIAogICAgcmV0dXJuIHsKCiAgICAgIHJlbmRlclZhbHVlOiBmdW5jdGlvbih4KSB7CiAgICAgICAgCiAgICAgICAgaWYoeC5kaXNwb3NlID09PSB0cnVlKXsKICAgICAgICAgIGNoYXJ0ID0gZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsLmlkKSk7CiAgICAgICAgICBjaGFydC5kaXNwb3NlKCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmICghaW5pdGlhbGl6ZWQpIHsKICAgICAgICAgIGluaXRpYWxpemVkID0gdHJ1ZTsKICAgICAgICAgIGlmKHgudGhlbWUyID09PSB0cnVlKXsKICAgICAgICAgICAgdmFyIHRoID0gSlNPTi5wYXJzZSh4LmN1c3RvbVRoZW1lKTsKICAgICAgICAgICAgZWNoYXJ0cy5yZWdpc3RlclRoZW1lKHgudGhlbWVfbmFtZSwgdGgpOwogICAgICAgICAgfQogICAgICAgICAgCiAgICAgICAgfQoKICAgICAgICBpZih4Lmhhc093blByb3BlcnR5KCdyZWdpc3Rlck1hcCcpKXsKICAgICAgICAgIGZvciggdmFyIG1hcCA9IDA7IG1hcCA8IHgucmVnaXN0ZXJNYXAubGVuZ3RoOyBtYXArKyl7CiAgICAgICAgICAgIGVjaGFydHMucmVnaXN0ZXJNYXAoeC5yZWdpc3Rlck1hcFttYXBdLm1hcE5hbWUsIHgucmVnaXN0ZXJNYXBbbWFwXS5nZW9KU09OKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYoeC5oYXNPd25Qcm9wZXJ0eSgnbWFwYm94VG9rZW4nKSl7CiAgICAgICAgICBtYXBib3hnbC5hY2Nlc3NUb2tlbiA9IHgubWFwYm94VG9rZW47CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGNoYXJ0ID0gZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsLmlkKSwgeC50aGVtZSwgeC5tYWluT3B0cyk7CiAgICAgICAgCiAgICAgICAgb3B0cyA9IGV2YWxGdW4oeC5vcHRzKTsKICAgICAgICAKICAgICAgICBpZih4LmRyYXcgPT09IHRydWUpCiAgICAgICAgICBjaGFydC5zZXRPcHRpb24ob3B0cyk7CiAgICAgICAgCiAgICAgICAgLy8gc2hpbnkgY2FsbGJhY2tzCiAgICAgICAgaWYgKEhUTUxXaWRnZXRzLnNoaW55TW9kZSkgewogICAgICAgICAgCiAgICAgICAgICBjaGFydC5vbigiYnJ1c2hzZWxlY3RlZCIsIGZ1bmN0aW9uKGUpewogICAgICAgICAgICBTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsgJ19icnVzaCcgKyAiOmVjaGFydHM0clBhcnNlIiwgZSk7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBjaGFydC5vbigiYnJ1c2giLCBmdW5jdGlvbihlKXsKICAgICAgICAgICAgU2hpbnkub25JbnB1dENoYW5nZShlbC5pZCArICdfYnJ1c2hfcmVsZWFzZWQnICsgIjplY2hhcnRzNHJQYXJzZSIsIGUpOwogICAgICAgICAgfSk7CiAgICAgICAgICAKICAgICAgICAgIGNoYXJ0Lm9uKCJsZWdlbmRzZWxlY3RjaGFuZ2VkIiwgZnVuY3Rpb24oZSl7CiAgICAgICAgICAgIFNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKyAnX2xlZ2VuZF9jaGFuZ2UnICsgIjplY2hhcnRzNHJQYXJzZSIsIGUubmFtZSk7CiAgICAgICAgICAgIFNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKyAnX2xlZ2VuZF9zZWxlY3RlZCcgKyAiOmVjaGFydHM0clBhcnNlIiwgZS5zZWxlY3RlZCk7CiAgICAgICAgICB9KTsKICAgICAgICAgIAogICAgICAgICAgY2hhcnQub24oImdsb2JhbG91dCIsIGZ1bmN0aW9uKGUpewogICAgICAgICAgICBTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsgJ19nbG9iYWxfb3V0JyArICI6ZWNoYXJ0czRyUGFyc2UiLCBlLCB7cHJpb3JpdHk6ICdldmVudCd9KTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIGlmKHguaGFzT3duUHJvcGVydHkoJ3pyJykpewogICAgICAgICAgICBjaGFydC5nZXRacigpLm9uKCJjbGljayIsIGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgIGRlbGV0ZSBlLnN0b3A7CiAgICAgICAgICAgICAgZGVsZXRlIGUudG9wVGFyZ2V0OwogICAgICAgICAgICAgIGRlbGV0ZSBlLnRhcmdldAogICAgICAgICAgICAgIGRlbGV0ZSBlLmV2ZW50LnBhdGg7CiAgICAgICAgICAgICAgU2hpbnkuc2V0SW5wdXRWYWx1ZShlbC5pZCArICdfY2xpY2tlZF96cicgKyAiOmVjaGFydHM0clBhcnNlIiwgZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgICAgCiAgICAgICAgICBpZih4Lmhhc093blByb3BlcnR5KCdjYXB0dXJlJykpewogICAgICAgICAgICBjaGFydC5vbih4LmNhcHR1cmUsIGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgIFNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKyAnXycgKyB4LmNhcHR1cmUgKyAiOmVjaGFydHM0clBhcnNlIiwgZSwge3ByaW9yaXR5OiAnZXZlbnQnfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgICAgCiAgICAgICAgICBjaGFydC5vbigiY2xpY2siLCBmdW5jdGlvbihlKXsKICAgICAgICAgICAgU2hpbnkub25JbnB1dENoYW5nZShlbC5pZCArICdfY2xpY2tlZF9kYXRhJyArICI6ZWNoYXJ0czRyUGFyc2UiLCBlLmRhdGEsIHtwcmlvcml0eTogJ2V2ZW50J30pOwogICAgICAgICAgICBTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsgJ19jbGlja2VkX3JvdycgKyAiOmVjaGFydHM0clBhcnNlIiwgZS5kYXRhSW5kZXggKyAxLCB7cHJpb3JpdHk6ICdldmVudCd9KTsKICAgICAgICAgICAgU2hpbnkub25JbnB1dENoYW5nZShlbC5pZCArICdfY2xpY2tlZF9zZXJpZScgKyAiOmVjaGFydHM0clBhcnNlIiwgZS5zZXJpZXNOYW1lLCB7cHJpb3JpdHk6ICdldmVudCd9KTsKICAgICAgICAgIH0pOwogICAgICAgICAgCiAgICAgICAgICBjaGFydC5vbigibW91c2VvdmVyIiwgZnVuY3Rpb24oZSl7CiAgICAgICAgICAgIFNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKyAnX21vdXNlb3Zlcl9kYXRhJyArICI6ZWNoYXJ0czRyUGFyc2UiLCBlLmRhdGEpOwogICAgICAgICAgICBTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsgJ19tb3VzZW92ZXJfcm93JyArICI6ZWNoYXJ0czRyUGFyc2UiLCBlLmRhdGFJbmRleCArIDEpOwogICAgICAgICAgICBTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsgJ19tb3VzZW92ZXJfc2VyaWUnICsgIjplY2hhcnRzNHJQYXJzZSIsIGUuc2VyaWVzTmFtZSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIAogICAgICAgICAgJChkb2N1bWVudCkub24oJ3NoaW55OnJlY2FsY3VsYXRpbmcnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmKHguaGlkZVdoaXRlID09PSB0cnVlKXsKICAgICAgICAgICAgICB2YXIgY3NzID0gJy5yZWNhbGN1bGF0aW5nIHtvcGFjaXR5OiAxLjAgIWltcG9ydGFudDsgfScsCiAgICAgICAgICAgICAgICAgIGhlYWQgPSBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0sCiAgICAgICAgICAgICAgICAgIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgICAgICAgICAgICAKICAgICAgICAgICAgICBzdHlsZS50eXBlID0gJ3RleHQvY3NzJzsKICAgICAgICAgICAgICBpZiAoc3R5bGUuc3R5bGVTaGVldCl7CiAgICAgICAgICAgICAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgaWYoeC5sb2FkaW5nID09PSB0cnVlKXsKICAgICAgICAgICAgICBjaGFydC5zaG93TG9hZGluZygnZGVmYXVsdCcsIHgubG9hZGluZ09wdHMpOwogICAgICAgICAgICB9IGVsc2UgaWYoeC5sb2FkaW5nID09PSBmYWxzZSkgewogICAgICAgICAgICAgIGNoYXJ0LmhpZGVMb2FkaW5nKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICB9KTsKICAgICAgICAgIAogICAgICAgICAgJChkb2N1bWVudCkub24oJ3NoaW55OnZhbHVlJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGNoYXJ0LmhpZGVMb2FkaW5nKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYoeC5oYXNPd25Qcm9wZXJ0eSgnY29ubmVjdCcpKXsKICAgICAgICAgIHZhciBjb25uZWN0aW9ucyA9IFtdOwogICAgICAgICAgZm9yKHZhciBjID0gMDsgYyA8IHguY29ubmVjdC5sZW5ndGg7IGMrKyl7CiAgICAgICAgICAgIGNvbm5lY3Rpb25zLnB1c2goZ2V0X2VfY2hhcnRzKHguY29ubmVjdFtjXSkpOwogICAgICAgICAgfQogICAgICAgICAgY29ubmVjdGlvbnMucHVzaChjaGFydCk7CiAgICAgICAgICBlY2hhcnRzLmNvbm5lY3QoY29ubmVjdGlvbnMpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBhY3Rpb25zCiAgICAgICAgaWYoeC5ldmVudHMubGVuZ3RoID49IDEpewogICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHguZXZlbnRzLmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgY2hhcnQuZGlzcGF0Y2hBY3Rpb24oeC5ldmVudHNbaV0uZGF0YSk7CiAgICAgICAgICB9ICAKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gYnV0dG9ucwogICAgICAgIHZhciBidXR0b25zID0geC5idXR0b25zOwogICAgICAgIE9iamVjdC5rZXlzKGJ1dHRvbnMpLm1hcCggZnVuY3Rpb24oYnV0dG9uSWQpewogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYnV0dG9uSWQpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgCiAgICAgICAgICAgIChmdW5jdGlvbihpZCkgewogICAgICAgICAgICAgIGNvbnN0IHNjb3BlZF9pZCA9IGlkOwogICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgIGJ1dHRvbnNbc2NvcGVkX2lkXS5mb3JFYWNoKGZ1bmN0aW9uKGVsKXsKICAgICAgICAgICAgICAgICAgY2hhcnQuZGlzcGF0Y2hBY3Rpb24oZWwuZGF0YSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgICkoYnV0dG9uSWQpCiAgICAgICAgICApOwogICAgICAgIH0pOwogICAgICAgICAgCiAgICAgICAgaWYoeC5oYXNPd25Qcm9wZXJ0eSgnb24nKSl7CiAgICAgICAgICBmb3IodmFyIGUgPSAwOyBlIDwgeC5vbi5sZW5ndGg7IGUrKyl7CiAgICAgICAgICAgIGNoYXJ0Lm9uKHgub25bZV0uZXZlbnQsIHgub25bZV0ucXVlcnksIHgub25bZV0uaGFuZGxlcik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmKHguaGFzT3duUHJvcGVydHkoJ29mZicpKXsKICAgICAgICAgIGZvcih2YXIgZXYgPSAwOyBldiA8IHgub2ZmLmxlbmd0aDsgZXYrKyl7CiAgICAgICAgICAgIGNoYXJ0Lm9mZih4Lm9mZltldl0uZXZlbnQsIHgub2ZmW2V2XS5xdWVyeSwgeC5vZmZbZXZdLmhhbmRsZXIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBpZih4Lmhhc093blByb3BlcnR5KCdjaGFydEdyb3VwJykpewogICAgICAgICAgY2hhcnQuZ3JvdXAgPSB4LmNoYXJ0R3JvdXA7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmKHguaGFzT3duUHJvcGVydHkoJ2dyb3VwQ29ubmVjdCcpKXsKICAgICAgICAgIGVjaGFydHMuY29ubmVjdCh4Lmdyb3VwQ29ubmVjdCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmKHguaGFzT3duUHJvcGVydHkoJ2dyb3VwRGlzY29ubmVjdCcpKXsKICAgICAgICAgIGVjaGFydHMuZGlzY29ubmVjdCh4Lmdyb3VwRGlzY29ubmVjdCk7CiAgICAgICAgfQoKICAgICAgfSwKICAgICAgCiAgICAgIGdldENoYXJ0OiBmdW5jdGlvbigpewogICAgICAgIHJldHVybiBjaGFydDsKICAgICAgfSwKICAgICAgCiAgICAgIGdldE9wdHM6IGZ1bmN0aW9uKCl7CiAgICAgICAgcmV0dXJuIG9wdHM7CiAgICAgIH0sCgogICAgICByZXNpemU6IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHsKICAgICAgICBpZighY2hhcnQpCiAgICAgICAgICByZXR1cm47CgogICAgICAgIGNoYXJ0LnJlc2l6ZSh7d2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodH0pOwogICAgICB9CgogICAgfTsKICB9Cn0pOwoKZnVuY3Rpb24gZ2V0X2VfY2hhcnRzKGlkKXsKCiAgdmFyIGh0bWxXaWRnZXRzT2JqID0gSFRNTFdpZGdldHMuZmluZCgiIyIgKyBpZCk7CgogIHZhciBlY2hhcnRzOwoKICBpZiAodHlwZW9mIGh0bWxXaWRnZXRzT2JqICE9ICd1bmRlZmluZWQnKSB7CiAgICBlY2hhcnRzID0gaHRtbFdpZGdldHNPYmouZ2V0Q2hhcnQoKTsKICB9CgogIHJldHVybihlY2hhcnRzKTsKfQoKZnVuY3Rpb24gZ2V0X2VfY2hhcnRzX29wdHMoaWQpewoKICB2YXIgaHRtbFdpZGdldHNPYmogPSBIVE1MV2lkZ2V0cy5maW5kKCIjIiArIGlkKTsKCiAgdmFyIGVjaGFydHM7CgogIGlmICh0eXBlb2YgaHRtbFdpZGdldHNPYmogIT0gJ3VuZGVmaW5lZCcpIHsKICAgIGVjaGFydHMgPSBodG1sV2lkZ2V0c09iai5nZXRPcHRzKCk7CiAgfQoKICByZXR1cm4oZWNoYXJ0cyk7Cn0KCmZ1bmN0aW9uIGRpc3RpbmN0KHZhbHVlLCBpbmRleCwgc2VsZikgeyAKICByZXR1cm4gc2VsZi5pbmRleE9mKHZhbHVlKSA9PT0gaW5kZXg7Cn0KCmZ1bmN0aW9uIHJtX3VuZGVmaW5lZChlbCl7CiAgcmV0dXJuIGVsICE9IHVuZGVmaW5lZDsKfQoKaWYgKEhUTUxXaWRnZXRzLnNoaW55TW9kZSkgewogIAogIC8vIERSQVcKICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignZV9kcmF3X3AnLAogICAgZnVuY3Rpb24oZGF0YSkgewogICAgICB2YXIgY2hhcnQgPSBnZXRfZV9jaGFydHMoZGF0YS5pZCk7CiAgICAgIHZhciBvcHRzID0gZ2V0X2VfY2hhcnRzX29wdHMoZGF0YS5pZCk7CiAgICAgIGlmICh0eXBlb2YgY2hhcnQgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBjaGFydC5zZXRPcHRpb24ob3B0cyk7CiAgICAgIH0KICB9KTsKICAKICAvLyBISUdITElHSFQgQU5EIERPV05QTEFZCiAgCiAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ2VfaGlnaGxpZ2h0X3AnLAogICAgZnVuY3Rpb24oZGF0YSkgewogICAgICB2YXIgY2hhcnQgPSBnZXRfZV9jaGFydHMoZGF0YS5pZCk7CiAgICAgIGlmICh0eXBlb2YgY2hhcnQgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBjaGFydC5kaXNwYXRjaEFjdGlvbih7CiAgICAgICAgICB0eXBlOiAnaGlnaGxpZ2h0JywKICAgICAgICAgIHNlcmllc0luZGV4OiBkYXRhLnNlcmllc0luZGV4LAogICAgICAgICAgc2VyaWVzTmFtZTogZGF0YS5zZXJpZXNOYW1lCiAgICAgICAgfSk7CiAgICAgIH0KICB9KTsKICAKICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignZV9kb3ducGxheV9wJywKICAgIGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgdmFyIGNoYXJ0ID0gZ2V0X2VfY2hhcnRzKGRhdGEuaWQpOwogICAgICBpZiAodHlwZW9mIGNoYXJ0ICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgY2hhcnQuZGlzcGF0Y2hBY3Rpb24oewogICAgICAgICAgdHlwZTogJ2Rvd25wbGF5JywKICAgICAgICAgIHNlcmllc0luZGV4OiBkYXRhLnNlcmllc0luZGV4LAogICAgICAgICAgc2VyaWVzTmFtZTogZGF0YS5zZXJpZXNOYW1lCiAgICAgICAgfSk7CiAgICAgIH0KICB9KTsKICAKICAvLyBUT09MVElQICAKICAKICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignZV9zaG93dGlwX3AnLAogICAgZnVuY3Rpb24oZGF0YSkgewogICAgICB2YXIgY2hhcnQgPSBnZXRfZV9jaGFydHMoZGF0YS5pZCk7CiAgICAgIGlmICh0eXBlb2YgY2hhcnQgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBjaGFydC5kaXNwYXRjaEFjdGlvbihkYXRhLm9wdHMpOwogICAgICB9CiAgfSk7CiAgCiAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ2VfaGlkZXRpcF9wJywKICAgIGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgdmFyIGNoYXJ0ID0gZ2V0X2VfY2hhcnRzKGRhdGEuaWQpOwogICAgICBpZiAodHlwZW9mIGNoYXJ0ICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgY2hhcnQuZGlzcGF0Y2hBY3Rpb24oewogICAgICAgICAgdHlwZTogJ2hpZGVUaXAnCiAgICAgICAgfSk7CiAgICAgIH0KICB9KTsKICAKICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignZV9hcHBlbmRfcCcsCiAgICBmdW5jdGlvbihvcHRzKSB7CiAgICAgIHZhciBjaGFydCA9IGdldF9lX2NoYXJ0cyhvcHRzLmlkKTsKICAgICAgaWYgKHR5cGVvZiBjaGFydCAhPSAndW5kZWZpbmVkJykgewogICAgICAgIGNoYXJ0LmFwcGVuZERhdGEoewogICAgICAgICAgc2VyaWVzSW5kZXg6IG9wdHMuc2VyaWVzSW5kZXgsCiAgICAgICAgICBkYXRhOiBvcHRzLmRhdGEKICAgICAgICB9KTsKICAgICAgfQogIH0pOwogIAogIFNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdlX2ZvY3VzX25vZGVfYWRqYWNlbmN5X3AnLAogICAgZnVuY3Rpb24oZGF0YSkgewogICAgICB2YXIgY2hhcnQgPSBnZXRfZV9jaGFydHMoZGF0YVswXS5pZCk7CiAgICAgIGlmICh0eXBlb2YgY2hhcnQgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24oaGlnaGxpZ2h0KXsKICAgICAgICAgIGNoYXJ0LmRpc3BhdGNoQWN0aW9uKGhpZ2hsaWdodC5vcHRzKTsKICAgICAgICB9KQogICAgICB9CiAgfSk7CiAgCiAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ2VfdW5mb2N1c19ub2RlX2FkamFjZW5jeV9wJywKICAgIGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgdmFyIGNoYXJ0ID0gZ2V0X2VfY2hhcnRzKGRhdGFbMF0uaWQpOwogICAgICBpZiAodHlwZW9mIGNoYXJ0ICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGhpZ2hsaWdodCl7CiAgICAgICAgICBjaGFydC5kaXNwYXRjaEFjdGlvbihoaWdobGlnaHQub3B0cyk7CiAgICAgICAgfSkKICAgICAgfQogIH0pOwogIAogIFNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdlX2Rpc3BhdGNoX2FjdGlvbl9wJywKICAgIGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgdmFyIGNoYXJ0ID0gZ2V0X2VfY2hhcnRzKGRhdGEuaWQpOwogICAgICBpZiAodHlwZW9mIGNoYXJ0ICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgY2hhcnQuZGlzcGF0Y2hBY3Rpb24oZGF0YS5vcHRzKTsKICAgICAgfQogIH0pOwoKICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignZV9yZWdpc3Rlcl9tYXAnLAogICAgZnVuY3Rpb24oZGF0YSkgewogICAgICBpZiAodHlwZW9mIGNoYXJ0ICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgJC5hamF4KHsgCiAgICAgICAgICB1cmw6IHguZ2VvSlNPTiwgCiAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLCAKICAgICAgICAgIGFzeW5jOiB4Lm1hcEFzeW5jLAogICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oanNvbil7IAogICAgICAgICAgICBlY2hhcnRzLnJlZ2lzdGVyTWFwKHgubWFwTmFtZSwganNvbik7CiAgICAgICAgICB9IAogICAgICAgIH0pOwogICAgICAgIAogICAgICB9CiAgfSk7CgogIFNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdlX3Jlc2l6ZScsCiAgICBmdW5jdGlvbihkYXRhKSB7CiAgICAgIHZhciBjaGFydCA9IGdldF9lX2NoYXJ0cyhkYXRhLmlkKTsKICAgICAgaWYgKHR5cGVvZiBjaGFydCAhPSAndW5kZWZpbmVkJykgewogICAgICAgIGNoYXJ0LnJlc2l6ZSgpOwogICAgICB9CiAgfSk7CgogIFNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdlX3NlbmRfcCcsCiAgICBmdW5jdGlvbihkYXRhKSB7CiAgICAgIHZhciBjaGFydCA9IGdldF9lX2NoYXJ0cyhkYXRhLmlkKTsKICAgICAgaWYgKHR5cGVvZiBjaGFydCAhPSAndW5kZWZpbmVkJykgewogICAgICAgIGxldCBvcHRzID0gY2hhcnQuZ2V0T3B0aW9uKCk7CgogICAgICAgIC8vIGFkZCBzZXJpZXMKICAgICAgICBpZighb3B0cy5zZXJpZXMpCiAgICAgICAgICBvcHRzLnNlcmllcyA9IFtdOwoKICAgICAgICBpZihkYXRhLm9wdHMuc2VyaWVzKQogICAgICAgICAgZGF0YS5vcHRzLnNlcmllcy5mb3JFYWNoKGZ1bmN0aW9uKHNlcmllKXsKICAgICAgICAgICAgb3B0cy5zZXJpZXMucHVzaChzZXJpZSk7CiAgICAgICAgICB9KTsKCiAgICAgICAgaWYoZGF0YS5vcHRzLmNvbG9yKXsKICAgICAgICAgIGlmKGRhdGEub3B0cy5hcHBlbmRDb2xvcikKICAgICAgICAgICAgZGF0YS5vcHRzLmNvbG9yLmZvckVhY2goZnVuY3Rpb24oY29sb3IpewogICAgICAgICAgICAgIG9wdHMuY29sb3IucHVzaChjb2xvcik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgZWxzZSAKICAgICAgICAgICAgb3B0cy5jb2xvciA9IGRhdGEub3B0cy5jb2xvcjsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYoZGF0YS5vcHRzLmJhY2tncm91bmRDb2xvcikKICAgICAgICAgIG9wdHMuY29sb3IgPSBkYXRhLm9wdHMuYmFja2dyb3VuZENvbG9yOwoKICAgICAgICAvLyBsZWdlbmQKICAgICAgICBpZihkYXRhLm9wdHMubGVnZW5kICYmIG9wdHMubGVnZW5kLmxlbmd0aCA+IDApCiAgICAgICAgICBpZihkYXRhLm9wdHMubGVnZW5kLmRhdGEpCiAgICAgICAgICAgIG9wdHMubGVnZW5kWzBdLmRhdGEgPSBvcHRzLmxlZ2VuZFswXS5kYXRhLmNvbmNhdChkYXRhLm9wdHMubGVnZW5kLmRhdGEpOwogICAgICAgIAogICAgICAgIC8vIHggQXhpcwogICAgICAgIGlmKG9wdHMueEF4aXMpewogICAgICAgICAgaWYob3B0cy54QXhpc1swXS5kYXRhKXsKICAgICAgICAgICAgbGV0IHhheGlzID0gb3B0cy54QXhpc1swXS5kYXRhLmNvbmNhdChkYXRhLm9wdHMueEF4aXNbMF0uZGF0YSk7CiAgICAgICAgICAgIHhheGlzID0geGF4aXMuZmlsdGVyKGRpc3RpbmN0KS5maWx0ZXIocm1fdW5kZWZpbmVkKTsKICAgICAgICAgICAgb3B0cy54QXhpc1swXS5kYXRhID0geGF4aXM7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyB5IEF4aXMKICAgICAgICBpZihvcHRzLnlBeGlzKXsKICAgICAgICAgIGlmKG9wdHMueUF4aXNbMF0uZGF0YSl7CiAgICAgICAgICAgIGxldCB5YXhpcyA9IG9wdHMueUF4aXNbMF0uZGF0YS5jb25jYXQoZGF0YS5vcHRzLnlBeGlzWzBdLmRhdGEpOwogICAgICAgICAgICB5YXhpcyA9IHlheGlzLmZpbHRlcihkaXN0aW5jdCkuZmlsdGVyKHJtX3VuZGVmaW5lZCk7CiAgICAgICAgICAgIG9wdHMueUF4aXNbMF0uZGF0YSA9IHlheGlzOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY2hhcnQuc2V0T3B0aW9uKG9wdHMsIHRydWUpOwogICAgICB9CiAgfSk7CgogIFNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdlX3JlbW92ZV9zZXJpZV9wJywKICAgIGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgCiAgICAgIHZhciBjaGFydCA9IGdldF9lX2NoYXJ0cyhkYXRhLmlkKTsKICAgICAgaWYgKHR5cGVvZiBjaGFydCAhPSAndW5kZWZpbmVkJykgewogICAgICAgIGxldCBvcHRzID0gY2hhcnQuZ2V0T3B0aW9uKCk7CgogICAgICAgIGlmKGRhdGEuc2VyaWVfbmFtZSl7CiAgICAgICAgICBsZXQgc2VyaWVzID0gb3B0cy5zZXJpZXM7CiAgICAgICAgICBzZXJpZXMuZm9yRWFjaChmdW5jdGlvbihzLCBpbmRleCl7CiAgICAgICAgICAgIGlmICh0eXBlb2Ygcy5uYW1lID09ICJ1bmRlZmluZWQiKXsKICAgICAgICAgICAgIGlmIChzLmRhdGFbWzBdXS5uYW1lID09IGRhdGEuc2VyaWVfbmFtZSl7CiAgICAgICAgICAgICAgIHRoaXMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYocy5uYW1lID09IGRhdGEuc2VyaWVfbmFtZSl7CiAgICAgICAgICAgICAgdGhpcy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIHNlcmllcykKICAgICAgICAgIG9wdHMuc2VyaWVzID0gc2VyaWVzOwogICAgICAgIH0KCiAgICAgICAgaWYoZGF0YS5zZXJpZV9pbmRleCAhPSBudWxsKXsKICAgICAgICAgIG9wdHMuc2VyaWVzID0gb3B0cy5zZXJpZXMuc3BsaWNlKGRhdGEuc2VyaWVfaW5kZXgsIDEpOwogICAgICAgIH0KCiAgICAgICAgY2hhcnQuc2V0T3B0aW9uKG9wdHMsIHRydWUpOwogICAgICB9CiAgfSk7CgogIFNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdlX21lcmdlX3AnLAogICAgZnVuY3Rpb24oZGF0YSkgeyAgICAKICAgICAgLy8gY2FsbGVkIGJ5IGVfbWVyZ2UsIGFkZCBtYXJrcyB0byBzZXJpZQogICAgICB2YXIgY2hhcnQgPSBnZXRfZV9jaGFydHMoZGF0YS5pZCk7CiAgICAgIGlmICh0eXBlb2YgY2hhcnQgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBjaGFydC5zZXRPcHRpb24oZGF0YS5vcHRzKTsgCiAgICAgIH0KICB9KTsKICAKfQo="></script>

</head>
<body style="background-color: white;">
<div id="htmlwidget_container">
<div id="echarts_plot" class="echarts4r html-widget" style="width:100%;height:500px;">

</div>
</div>
<script type="application/json" data-for="echarts_plot">{"x":{"theme":"","tl":false,"draw":true,"renderer":"canvas","events":[],"buttons":[],"opts":{"yAxis":[{"show":true}],"xAxis":[{"data":["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],"type":"category","boundaryGap":true}],"legend":{"data":["Income"]},"series":[{"data":[{"value":["Alabama","3624"]},{"value":["Alaska","6315"]},{"value":["Arizona","4530"]},{"value":["Arkansas","3378"]},{"value":["California","5114"]},{"value":["Colorado","4884"]},{"value":["Connecticut","5348"]},{"value":["Delaware","4809"]},{"value":["Florida","4815"]},{"value":["Georgia","4091"]},{"value":["Hawaii","4963"]},{"value":["Idaho","4119"]},{"value":["Illinois","5107"]},{"value":["Indiana","4458"]},{"value":["Iowa","4628"]},{"value":["Kansas","4669"]},{"value":["Kentucky","3712"]},{"value":["Louisiana","3545"]},{"value":["Maine","3694"]},{"value":["Maryland","5299"]},{"value":["Massachusetts","4755"]},{"value":["Michigan","4751"]},{"value":["Minnesota","4675"]},{"value":["Mississippi","3098"]},{"value":["Missouri","4254"]},{"value":["Montana","4347"]},{"value":["Nebraska","4508"]},{"value":["Nevada","5149"]},{"value":["New Hampshire","4281"]},{"value":["New Jersey","5237"]},{"value":["New Mexico","3601"]},{"value":["New York","4903"]},{"value":["North Carolina","3875"]},{"value":["North Dakota","5087"]},{"value":["Ohio","4561"]},{"value":["Oklahoma","3983"]},{"value":["Oregon","4660"]},{"value":["Pennsylvania","4449"]},{"value":["Rhode Island","4558"]},{"value":["South Carolina","3635"]},{"value":["South Dakota","4167"]},{"value":["Tennessee","3821"]},{"value":["Texas","4188"]},{"value":["Utah","4022"]},{"value":["Vermont","3907"]},{"value":["Virginia","4701"]},{"value":["Washington","4864"]},{"value":["West Virginia","3617"]},{"value":["Wisconsin","4468"]},{"value":["Wyoming","4566"]}],"yAxisIndex":0,"xAxisIndex":0,"name":"Income","type":"line","coordinateSystem":"cartesian2d"}]},"dispose":true},"evals":[],"jsHooks":[]}</script>
<script type="application/htmlwidget-sizing" data-for="echarts_plot">{"viewer":{"width":"100%","height":350,"padding":0,"fill":true},"browser":{"width":"100%","height":500,"padding":0,"fill":true}}</script>
</body>
</html>
